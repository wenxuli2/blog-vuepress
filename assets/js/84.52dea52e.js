(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{561:function(e,t,n){"use strict";n.r(t);var s=n(20),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"ipcrenderer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer"}},[e._v("#")]),e._v(" ipcRenderer")]),e._v(" "),n("blockquote",[n("p",[e._v("从渲染器进程到主进程的异步通信。")])]),e._v(" "),n("p",[e._v("进程: "),n("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#renderer-process"}},[e._v(" Renderer")])],1),e._v(" "),n("p",[n("code",[e._v("ipcRenderer")]),e._v(" 是一个 "),n("a",{attrs:{href:"https://nodejs.org/api/events.html#events_class_eventemitter",target:"_blank",rel:"noopener noreferrer"}},[e._v("EventEmitter"),n("OutboundLink")],1),e._v(" 的实例。 你可以使用它提供的一些方法从渲染进程 (web 页面) 发送同步或异步的消息到主进程。 也可以接收主进程回复的消息。")]),e._v(" "),n("p",[e._v("请从 "),n("RouterLink",{attrs:{to:"/《Electron中文文档》/api/ipc-main.html"}},[e._v("ipcMain")]),e._v(" 查看代码示例。")],1),e._v(" "),n("h2",{attrs:{id:"方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[e._v("#")]),e._v(" 方法")]),e._v(" "),n("p",[n("code",[e._v("ipcRenderer")]),e._v(" 模块使用以下方法来监听事件和发送消息。")]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-on-channel-listener"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-on-channel-listener"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.on(channel, listener)")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("channel")]),e._v(" String")]),e._v(" "),n("li",[n("code",[e._v("listener")]),e._v(" Function\n"),n("ul",[n("li",[n("code",[e._v("event")]),e._v(" IpcRendererEvent")]),e._v(" "),n("li",[n("code",[e._v("...args")]),e._v(" any[]")])])])]),e._v(" "),n("p",[e._v("监听 channel, 当新消息到达，将通过 listener(event, args...) 调用 listener。")]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-once-channel-listener"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-once-channel-listener"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.once(channel, listener)")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("channel")]),e._v(" String")]),e._v(" "),n("li",[n("code",[e._v("listener")]),e._v(" Function\n"),n("ul",[n("li",[n("code",[e._v("event")]),e._v(" IpcRendererEvent")]),e._v(" "),n("li",[n("code",[e._v("...args")]),e._v(" any[]")])])])]),e._v(" "),n("p",[e._v("添加一次性 "),n("code",[e._v("listener")]),e._v(" 函数。 这个 "),n("code",[e._v("listener")]),e._v(" 只会在 "),n("code",[e._v("channel")]),e._v("下一次收到消息的时候被调用，之后这个监听器会被移除。")]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-removelistener-channel-listener"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-removelistener-channel-listener"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.removeListener(channel, listener)")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("channel")]),e._v(" String")]),e._v(" "),n("li",[n("code",[e._v("listener")]),e._v(" Function\n"),n("ul",[n("li",[n("code",[e._v("...args")]),e._v(" any[]")])])])]),e._v(" "),n("p",[e._v("为特定的 channel 从监听队列中删除特定的 listener 监听者.")]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-removealllisteners-channel"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-removealllisteners-channel"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.removeAllListeners(channel)")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("channel")]),e._v(" String")])]),e._v(" "),n("p",[e._v("移除所有的监听器，当指定 "),n("code",[e._v("channel")]),e._v(" 时只移除与其相关的所有监听器。")]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-send-channel-args"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-send-channel-args"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.send(channel, ...args)")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("channel")]),e._v(" String")]),e._v(" "),n("li",[n("code",[e._v("...args")]),e._v(" any[]")])]),e._v(" "),n("p",[e._v("通过"),n("code",[e._v("channel")]),e._v("向主进程发送异步消息，可以发送任意参数。 Arguments will be serialized with the "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm",target:"_blank",rel:"noopener noreferrer"}},[e._v("Structured Clone Algorithm"),n("OutboundLink")],1),e._v(", just like "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("window.postMessage")]),n("OutboundLink")],1),e._v(", so prototype chains will not be included. Sending Functions, Promises, Symbols, WeakMaps, or WeakSets will throw an exception.")]),e._v(" "),n("blockquote",[n("p",[n("strong",[e._v("NOTE:")]),e._v(" Sending non-standard JavaScript types such as DOM objects or special Electron objects will throw an exception.")]),e._v(" "),n("p",[e._v("Since the main process does not have support for DOM objects such as "),n("code",[e._v("ImageBitmap")]),e._v(", "),n("code",[e._v("File")]),e._v(", "),n("code",[e._v("DOMMatrix")]),e._v(" and so on, such objects cannot be sent over Electron's IPC to the main process, as the main process would have no way to decode them. Attempting to send such objects over IPC will result in an error.")])]),e._v(" "),n("p",[e._v("The main process handles it by listening for "),n("code",[e._v("channel")]),e._v(" with the "),n("RouterLink",{attrs:{to:"/《Electron中文文档》/api/ipc-main.html"}},[n("code",[e._v("ipcMain")])]),e._v(" module.")],1),e._v(" "),n("p",[e._v("If you need to transfer a "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MessagePort",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("MessagePort")]),n("OutboundLink")],1),e._v(" to the main process, use "),n("a",{attrs:{href:"#ipcrendererpostmessagechannel-message-transfer"}},[n("code",[e._v("ipcRenderer.postMessage")])]),e._v(".")]),e._v(" "),n("p",[e._v("If you want to receive a single response from the main process, like the result of a method call, consider using "),n("a",{attrs:{href:"#ipcrendererinvokechannel-args"}},[n("code",[e._v("ipcRenderer.invoke")])]),e._v(".")]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-invoke-channel-args"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-invoke-channel-args"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.invoke(channel, ...args)")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("channel")]),e._v(" String")]),e._v(" "),n("li",[n("code",[e._v("...args")]),e._v(" any[]")])]),e._v(" "),n("p",[e._v("Returns "),n("code",[e._v("Promise<any>")]),e._v(" - Resolves with the response from the main process.")]),e._v(" "),n("p",[e._v("Send a message to the main process via "),n("code",[e._v("channel")]),e._v(" and expect a result asynchronously. Arguments will be serialized with the "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm",target:"_blank",rel:"noopener noreferrer"}},[e._v("Structured Clone Algorithm"),n("OutboundLink")],1),e._v(", just like "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("window.postMessage")]),n("OutboundLink")],1),e._v(", so prototype chains will not be included. Sending Functions, Promises, Symbols, WeakMaps, or WeakSets will throw an exception.")]),e._v(" "),n("blockquote",[n("p",[n("strong",[e._v("NOTE:")]),e._v(" Sending non-standard JavaScript types such as DOM objects or special Electron objects will throw an exception.")]),e._v(" "),n("p",[e._v("Since the main process does not have support for DOM objects such as "),n("code",[e._v("ImageBitmap")]),e._v(", "),n("code",[e._v("File")]),e._v(", "),n("code",[e._v("DOMMatrix")]),e._v(" and so on, such objects cannot be sent over Electron's IPC to the main process, as the main process would have no way to decode them. Attempting to send such objects over IPC will result in an error.")])]),e._v(" "),n("p",[e._v("The main process should listen for "),n("code",[e._v("channel")]),e._v(" with "),n("RouterLink",{attrs:{to:"/《Electron中文文档》/api/ipc-main.html#ipcmainhandlechannel-listener"}},[n("code",[e._v("ipcMain.handle()")])]),e._v(".")],1),e._v(" "),n("p",[e._v("例如：")]),e._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Renderer process")]),e._v("\nipcRenderer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("invoke")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'some-name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" someArgument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("result")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Main process")]),e._v("\nipcMain"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("handle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'some-name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("async")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" someArgument")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" result "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("await")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("doSomeWork")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("someArgument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" result\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br")])]),n("p",[e._v("If you need to transfer a "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MessagePort",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("MessagePort")]),n("OutboundLink")],1),e._v(" to the main process, use "),n("a",{attrs:{href:"#ipcrendererpostmessagechannel-message-transfer"}},[n("code",[e._v("ipcRenderer.postMessage")])]),e._v(".")]),e._v(" "),n("p",[e._v("如果你不需要回复此消息，请考虑使用 "),n("a",{attrs:{href:"#ipcrenderersendchannel-args"}},[n("code",[e._v("ipcRender.sent")])]),e._v("。")]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-sendsync-channel-args"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-sendsync-channel-args"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.sendSync(channel, ...args)")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("channel")]),e._v(" String")]),e._v(" "),n("li",[n("code",[e._v("...args")]),e._v(" any[]")])]),e._v(" "),n("p",[e._v("返回 "),n("code",[e._v("any")]),e._v(" - 由 "),n("RouterLink",{attrs:{to:"/《Electron中文文档》/api/ipc-main.html"}},[n("code",[e._v("ipcMain")])]),e._v(" 处理程序发送过来的值。")],1),e._v(" "),n("p",[e._v("Send a message to the main process via "),n("code",[e._v("channel")]),e._v(" and expect a result synchronously. Arguments will be serialized with the "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm",target:"_blank",rel:"noopener noreferrer"}},[e._v("Structured Clone Algorithm"),n("OutboundLink")],1),e._v(", just like "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("window.postMessage")]),n("OutboundLink")],1),e._v(", so prototype chains will not be included. Sending Functions, Promises, Symbols, WeakMaps, or WeakSets will throw an exception.")]),e._v(" "),n("blockquote",[n("p",[n("strong",[e._v("NOTE:")]),e._v(" Sending non-standard JavaScript types such as DOM objects or special Electron objects will throw an exception.")]),e._v(" "),n("p",[e._v("Since the main process does not have support for DOM objects such as "),n("code",[e._v("ImageBitmap")]),e._v(", "),n("code",[e._v("File")]),e._v(", "),n("code",[e._v("DOMMatrix")]),e._v(" and so on, such objects cannot be sent over Electron's IPC to the main process, as the main process would have no way to decode them. Attempting to send such objects over IPC will result in an error.")])]),e._v(" "),n("p",[e._v("主进程可以使用 "),n("code",[e._v("ipcMain")]),e._v(" 监听 "),n("RouterLink",{attrs:{to:"/《Electron中文文档》/api/ipc-main.html"}},[e._v("channel")]),e._v("来接收这些消息，并通过 "),n("code",[e._v("event.returnValue")]),e._v("设置回复消息。")],1),e._v(" "),n("blockquote",[n("p",[e._v("⚠️ "),n("strong",[e._v("WARNING")]),e._v(": Sending a synchronous message will block the whole renderer process until the reply is received, so use this method only as a last resort. It's much better to use the asynchronous version, "),n("RouterLink",{attrs:{to:"/《Electron中文文档》/api/ipc-renderer.html#ipcrendererinvokechannel-args"}},[n("code",[e._v("invoke()")])]),e._v(".")],1)]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-postmessage-channel-message-transfer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-postmessage-channel-message-transfer"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.postMessage(channel, message, [transfer])")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("channel")]),e._v(" String")]),e._v(" "),n("li",[n("code",[e._v("message")]),e._v(" any")]),e._v(" "),n("li",[n("code",[e._v("transfer")]),e._v(" MessagePort[] (optional)")])]),e._v(" "),n("p",[e._v("Send a message to the main process, optionally transferring ownership of zero or more "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MessagePort",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("MessagePort")]),n("OutboundLink")],1),e._v(" objects.")]),e._v(" "),n("p",[e._v("The transferred "),n("code",[e._v("MessagePort")]),e._v(" objects will be available in the main process as "),n("RouterLink",{attrs:{to:"/《Electron中文文档》/api/message-port-main.html"}},[n("code",[e._v("MessagePortMain")])]),e._v(" objects by accessing the "),n("code",[e._v("ports")]),e._v(" property of the emitted event.")],1),e._v(" "),n("p",[e._v("例如：")]),e._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Renderer process")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" port1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" port2 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("MessageChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nipcRenderer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("postMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'port'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("message")]),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'hello'")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("port1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Main process")]),e._v("\nipcMain"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'port'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" msg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("ports\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("p",[e._v("For more information on using "),n("code",[e._v("MessagePort")]),e._v(" and "),n("code",[e._v("MessageChannel")]),e._v(", see the "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN documentation"),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-sendto-webcontentsid-channel-args"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-sendto-webcontentsid-channel-args"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.sendTo(webContentsId, channel, ...args)")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("webContentsId")]),e._v(" Number")]),e._v(" "),n("li",[n("code",[e._v("channel")]),e._v(" String")]),e._v(" "),n("li",[n("code",[e._v("...args")]),e._v(" any[]")])]),e._v(" "),n("p",[e._v("通过 "),n("code",[e._v("channel")]),e._v(" 发送消息到带有 "),n("code",[e._v("webContentsId")]),e._v(" 的窗口.")]),e._v(" "),n("h3",{attrs:{id:"ipcrenderer-sendtohost-channel-args"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipcrenderer-sendtohost-channel-args"}},[e._v("#")]),e._v(" "),n("code",[e._v("ipcRenderer.sendToHost(channel, ...args)")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("channel")]),e._v(" String")]),e._v(" "),n("li",[n("code",[e._v("...args")]),e._v(" any[]")])]),e._v(" "),n("p",[e._v("就像 "),n("code",[e._v("ipcRenderer.send")]),e._v("，不同的是消息会被发送到 host 页面上的 "),n("code",[e._v("<webview>")]),e._v(" 元素，而不是主进程。")]),e._v(" "),n("h2",{attrs:{id:"事件对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件对象"}},[e._v("#")]),e._v(" 事件对象")]),e._v(" "),n("p",[e._v("The documentation for the "),n("code",[e._v("event")]),e._v(" object passed to the "),n("code",[e._v("callback")]),e._v(" can be found in the "),n("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/ipc-renderer-event.html"}},[n("code",[e._v("ipc-renderer-event")])]),e._v(" structure docs.")],1)])}),[],!1,null,null,null);t.default=r.exports}}]);