(window.webpackJsonp=window.webpackJsonp||[]).push([[227],{706:function(e,t,s){"use strict";s.r(t);var o=s(20),n=Object(o.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"开发者工具扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发者工具扩展"}},[e._v("#")]),e._v(" 开发者工具扩展")]),e._v(" "),s("p",[e._v("Electron supports "),s("a",{attrs:{href:"https://developer.chrome.com/extensions/devtools",target:"_blank",rel:"noopener noreferrer"}},[e._v("Chrome DevTools extensions"),s("OutboundLink")],1),e._v(", which can be used to extend the ability of Chrome's developer tools for debugging popular web frameworks.")]),e._v(" "),s("h2",{attrs:{id:"使用工具加载-devtools-扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用工具加载-devtools-扩展"}},[e._v("#")]),e._v(" 使用工具加载 DevTools 扩展")]),e._v(" "),s("p",[e._v("加载 DevTools 扩展的最简单方法是使用第三方工具，来为您实现自动化过程。 "),s("a",{attrs:{href:"https://github.com/MarshallOfSound/electron-devtools-installer",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron-devtools-installer"),s("OutboundLink")],1),e._v(" 是一个受欢迎的 NPM 包。")]),e._v(" "),s("h2",{attrs:{id:"手动加载-devtools-扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动加载-devtools-扩展"}},[e._v("#")]),e._v(" 手动加载 DevTools 扩展")]),e._v(" "),s("p",[e._v("如果你不想使用工具加载，你也可以手动完成所有必需的操作。 要在 Electron 中加载扩展，您需要在 Chrome 下载它，找到其文件系统路径，然后通过调用["),s("code",[e._v("ses.loadExtension")]),e._v("] API 将其加载到您的 "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/session.html"}},[e._v("Session")]),e._v(" 中。")],1),e._v(" "),s("p",[e._v("下面以"),s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi",target:"_blank",rel:"noopener noreferrer"}},[e._v("React Developer Tools"),s("OutboundLink")],1),e._v("为例：")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("在 Google Chrome 中安装扩展。")])]),e._v(" "),s("li",[s("p",[e._v("打开"),s("code",[e._v("chrome://extensions")]),e._v("，找到扩展程序的ID，像 "),s("code",[e._v("fmkadmapgofadopljbjfkapdkoienihi")]),e._v(" 一样的 hash 字符串。")])]),e._v(" "),s("li",[s("p",[e._v("找到 Chrome 扩展程序的存放目录：")]),e._v(" "),s("ul",[s("li",[e._v("在Ｗindows 下为 "),s("code",[e._v("%LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Extensions")]),e._v(";")]),e._v(" "),s("li",[e._v("在 Linux下为：\n"),s("ul",[s("li",[s("code",[e._v("~/.config/google-chrome/Default/Extensions/")])]),e._v(" "),s("li",[s("code",[e._v("~/.config/google-chrome-beta/Default/Extensions/")])]),e._v(" "),s("li",[s("code",[e._v("~/.config/google-chrome-canary/Default/Extensions/")])]),e._v(" "),s("li",[s("code",[e._v("~/.config/chromium/Default/Extensions/")])])])]),e._v(" "),s("li",[e._v("在 macOS下为"),s("code",[e._v("~/Library/Application Support/Google/Chrome/Default/Extensions")]),e._v("。")])])]),e._v(" "),s("li",[s("p",[e._v("将扩展的位置传递给 "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/session.html#sesloadextensionpath-options"}},[s("code",[e._v("ses.loadExtension")])]),e._v(" API。 对于 React Developer Tools "),s("code",[e._v("v4.9.0")]),e._v(", 它看起来像：")],1),e._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" session "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'electron'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" path "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" os "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'os'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// on macOS")]),e._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" reactDevToolsPath "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("\n   os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("homedir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/Library/Application Support/Google/Chrome/Default/Extensions/fmkadmapgofadopljbjfkapdkoienihi/4.9.0_0'")]),e._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("whenReady")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("async")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("await")]),e._v(" session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("defaultSession"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("loadExtension")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("reactDevToolsPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br")])])])]),e._v(" "),s("p",[s("strong",[e._v("说明：")])]),e._v(" "),s("ul",[s("li",[s("code",[e._v("loadExtension")]),e._v(" 返回一个包含 "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/extension.html"}},[e._v("扩展对象")]),e._v(" 的 Promise，其中包含加载的扩展有关的元数据。 在加载页面前，此 Promise 需要被 resolve（例如使用 "),s("code",[e._v("await")]),e._v(" 表达式）。 否则将无法保证扩展被加载。")],1),e._v(" "),s("li",[s("code",[e._v("loadExtension")]),e._v(" 无法在 "),s("code",[e._v("app")]),e._v(" 模块 "),s("code",[e._v("ready")]),e._v(" 之前调用，也不能被内存(非持久) 会话调用。")]),e._v(" "),s("li",[e._v("如果您希望加载扩展，则必须在应用的每次启动时调用"),s("code",[e._v("loadExtension")]),e._v(" 。")])]),e._v(" "),s("h3",{attrs:{id:"删除-devtools-扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除-devtools-扩展"}},[e._v("#")]),e._v(" 删除 DevTools 扩展")]),e._v(" "),s("p",[e._v("您可以将扩展的 ID 传递给 "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/session.html#sesremoveextensionextensionid"}},[s("code",[e._v("ses.removeExtension")])]),e._v(" API，以将其从您的 Session 中删除。 每次应用重新启动，扩展不会持续。")],1),e._v(" "),s("h2",{attrs:{id:"devtools-扩展支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#devtools-扩展支持"}},[e._v("#")]),e._v(" DevTools 扩展支持")]),e._v(" "),s("p",[e._v("Electron 仅支持 "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/extensions.html"}},[e._v("有限的 "),s("code",[e._v("chrome.*")]),e._v(" APIs ")]),e._v("，所以使用不支持的 "),s("code",[e._v("chrome.*")]),e._v(" 扩展的 APIs 可能无法工作。")],1),e._v(" "),s("p",[e._v("以下 DevTools 扩展程序已经通过测试，可以在 Electron 中正常工作：")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/ember-inspector/bmdblncegkenkacieihfhpjfppoconhi",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ember Inspector"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi",target:"_blank",rel:"noopener noreferrer"}},[e._v("React Developer Tools"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/backbone-debugger/bhljhndlimiafopmmhjlgfpnnchjjbhd",target:"_blank",rel:"noopener noreferrer"}},[e._v("Backbone Debugger"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/jquery-debugger/dbhhnnnpaeobfddmlalhnehgclcmjimi",target:"_blank",rel:"noopener noreferrer"}},[e._v("jQuery Debugger"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/angularjs-batarang/ighdmehidhipcmcojjgiloacoafjmpfk",target:"_blank",rel:"noopener noreferrer"}},[e._v("AngularJS Batarang"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js devtools"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://cerebraljs.com/docs/introduction/devtools.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cerebral Debugger"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redux DevTools Extension"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chrome.google.com/webstore/detail/mobx-developer-tools/pfgnfdagidkfgccljigdamigbcnndkod",target:"_blank",rel:"noopener noreferrer"}},[e._v("MobX Developer Tools"),s("OutboundLink")],1)])]),e._v(" "),s("h3",{attrs:{id:"如果-devtools-扩展不工作-我该怎么办"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如果-devtools-扩展不工作-我该怎么办"}},[e._v("#")]),e._v(" 如果 DevTools 扩展不工作，我该怎么办？")]),e._v(" "),s("p",[e._v("首先，请确保扩展仍在维护中，并与最新版本的 Google Chrome 兼容。 我们不能为不受支持的扩展提供额外支持。")]),e._v(" "),s("p",[e._v("如果扩展可以在 Chrome 上运行，但不能在 Electron 上运行， 在 Electron 的 "),s("a",{attrs:{href:"https://github.com/electron/electron/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("issue Tracker"),s("OutboundLink")],1),e._v(" 中提交一个错误，并描述扩展的哪个部分不能按预期工作。")])])}),[],!1,null,null,null);t.default=n.exports}}]);