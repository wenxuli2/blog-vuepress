(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{545:function(t,s,e){"use strict";e.r(s);var a=e(20),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"类-cookies"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#类-cookies"}},[t._v("#")]),t._v(" 类：Cookies")]),t._v(" "),e("blockquote",[e("p",[t._v("查询和修改一个会话的cookies")])]),t._v(" "),e("p",[t._v("Process: "),e("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[t._v("Main")]),e("br"),t._v(" "),e("em",[t._v("This class is not exported from the "),e("code",[t._v("'electron'")]),t._v(" module. It is only available as a return value of other methods in the Electron API.")])],1),t._v(" "),e("p",[t._v("通过"),e("code",[t._v("Session")]),t._v("的"),e("code",[t._v("cookies")]),t._v("属性来访问"),e("code",[t._v("Cookies")]),t._v("的实例")]),t._v(" "),e("p",[t._v("例如：")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" session "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查询所有 cookies。")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultSession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookies"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("cookies")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cookies"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查询所有与设置的 URL 相关的所有 cookies.")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultSession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookies"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.github.com'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("cookies")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cookies"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置一个 cookie，使用设置的名称；")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果存在，则会覆盖原先 cookie.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cookie "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.github.com'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dummy_name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dummy'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultSession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookies"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cookie"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// success")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br")])]),e("h3",{attrs:{id:"实例事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实例事件"}},[t._v("#")]),t._v(" 实例事件")]),t._v(" "),e("p",[t._v("以下事件会在"),e("code",[t._v("Cookies")]),t._v("实例触发。")]),t._v(" "),e("h4",{attrs:{id:"event-changed"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-changed"}},[t._v("#")]),t._v(" Event: 'changed'")]),t._v(" "),e("p",[t._v("返回:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("event")]),t._v(" Event")]),t._v(" "),e("li",[e("code",[t._v("cookie")]),t._v(" "),e("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/cookie.html"}},[t._v("Cookie")]),t._v(" - 变更后的 cookie 值。")],1),t._v(" "),e("li",[e("code",[t._v("cause")]),t._v(" String - 导致更改的原因，为以下值之一：\n"),e("ul",[e("li",[e("code",[t._v("explicit")]),t._v(" - cookie 是由消费者的操作直接更改的。")]),t._v(" "),e("li",[e("code",[t._v("overwrite")]),t._v(" - 一个覆盖原值的插入操作导致的 cookie 被自动删除。")]),t._v(" "),e("li",[e("code",[t._v("expired")]),t._v(" - cookie 在过期时自动删除。")]),t._v(" "),e("li",[e("code",[t._v("evicted")]),t._v(" - 在GC（垃圾回收机制）过程中被回收。")]),t._v(" "),e("li",[e("code",[t._v("expired-overwrite")]),t._v(" - 一个已过期的时间覆写了原cookie 的过期时间。")])])]),t._v(" "),e("li",[e("code",[t._v("removed")]),t._v(" Boolean - "),e("code",[t._v("true")]),t._v("表示cookie 已被删掉, 否则为"),e("code",[t._v("false")]),t._v(".")])]),t._v(" "),e("p",[t._v("该事件在cookie 被添加、修改、删除或过期时触发。")]),t._v(" "),e("h3",{attrs:{id:"实例方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实例方法"}},[t._v("#")]),t._v(" 实例方法")]),t._v(" "),e("p",[t._v("以下方法可以在"),e("code",[t._v("Cookies")]),t._v("实例调用。")]),t._v(" "),e("h4",{attrs:{id:"cookies-get-filter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookies-get-filter"}},[t._v("#")]),t._v(" "),e("code",[t._v("cookies.get(filter)")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("filter")]),t._v(" Object\n"),e("ul",[e("li",[e("code",[t._v("url")]),t._v(" String (可选) - 检索与 "),e("code",[t._v("url")]),t._v(" 相关的 cookie。 空意味着检索所有 URL 的 cookie 。")]),t._v(" "),e("li",[e("code",[t._v("name")]),t._v("String (可选) - 按名称筛选 cookie。")]),t._v(" "),e("li",[e("code",[t._v("domain")]),t._v(" String (optional) - 检索与域名或者 "),e("code",[t._v("domain")]),t._v(" 子域名匹配的cookie。")]),t._v(" "),e("li",[e("code",[t._v("path")]),t._v("String (可选) - 检索路径与 "),e("code",[t._v("path")]),t._v(" 匹配的 cookie。")]),t._v(" "),e("li",[e("code",[t._v("secure")]),t._v("Boolean (可选) - 通过其Secure 属性筛选 cookie。")]),t._v(" "),e("li",[e("code",[t._v("session")]),t._v("Boolean (可选) - 筛选出session 内可用或持久性 cookie。")])])])]),t._v(" "),e("p",[t._v("返回 "),e("code",[t._v("Promise<Cookie[]>")]),t._v(" - 一个会解析成数组或者 cookie 对象的 promise。")]),t._v(" "),e("p",[t._v("发送请求以获取匹配 "),e("code",[t._v("filter")]),t._v(" 的所有 cookie，并通过响应来解决承诺问题。")]),t._v(" "),e("h4",{attrs:{id:"cookies-set-details"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookies-set-details"}},[t._v("#")]),t._v(" "),e("code",[t._v("cookies.set(details)")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("details")]),t._v(" Object\n"),e("ul",[e("li",[e("code",[t._v("url")]),t._v(" String - 与 cookie 关联的 url。 如果URL无效，promise将返回reject。")]),t._v(" "),e("li",[e("code",[t._v("name")]),t._v(" String (可选) - cookie 的名称。 如果省略则默认为空。")]),t._v(" "),e("li",[e("code",[t._v("value")]),t._v(" String (可选) - cookie 的值。 如果省略则默认为空。")]),t._v(" "),e("li",[e("code",[t._v("domain")]),t._v(" String (可选) - cookie所在域名，通常使用点号开头，以使其对子域名可用。 如果省略则默认为空。")]),t._v(" "),e("li",[e("code",[t._v("path")]),t._v(" String (可选) - cookie 的路径。 如果省略则默认为空。")]),t._v(" "),e("li",[e("code",[t._v("secure")]),t._v(" Boolean (可选) - cookie 是否应该标记为Secure。 Defaults to false unless "),e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite#samesitenone_requires_secure",target:"_blank",rel:"noopener noreferrer"}},[t._v("Same Site=None"),e("OutboundLink")],1),t._v(" attribute is used.")]),t._v(" "),e("li",[e("code",[t._v("httpOnly")]),t._v(" Boolean (可选) - cookie 是否应该标记为 HTTP only。 默认值为 false.")]),t._v(" "),e("li",[e("code",[t._v("expirationDate")]),t._v("Double (可选) - cookie 的到期日期，类型为时间戳，单位为秒。 如果省略, 则 cookie 将成为会话 cookie, 并且不会在会话之间保留。")]),t._v(" "),e("li",[e("code",[t._v("sameSite")]),t._v(" String (可选) - 要应用于此 cookie 的 "),e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies#SameSite_cookies",target:"_blank",rel:"noopener noreferrer"}},[t._v("Same Site"),e("OutboundLink")],1),t._v(" 策略。  可以被设置为"),e("code",[t._v("unspecified")]),t._v("，"),e("code",[t._v("no_restriction")]),t._v("，"),e("code",[t._v("lax")]),t._v("或者"),e("code",[t._v("strict")]),t._v("  默认值为 "),e("code",[t._v("no_restriction")]),t._v(".")])])])]),t._v(" "),e("p",[t._v("返回 "),e("code",[t._v("Promise<void>")]),t._v(" - cookie 设置时解析的一个 promise。")]),t._v(" "),e("p",[t._v("用 "),e("code",[t._v("details")]),t._v(" 去设置一个 cookie。")]),t._v(" "),e("h4",{attrs:{id:"cookies-remove-url-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookies-remove-url-name"}},[t._v("#")]),t._v(" "),e("code",[t._v("cookies.remove(url, name)")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("url")]),t._v("String - 与 cookie 关联的 URL。")]),t._v(" "),e("li",[e("code",[t._v("name")]),t._v("String - cookie 名称。")])]),t._v(" "),e("p",[t._v("返回 "),e("code",[t._v("Promise<void>")]),t._v(" - cookie 移除时解析的的一个 promise。")]),t._v(" "),e("p",[t._v("移除与"),e("code",[t._v("url")]),t._v(" 和 "),e("code",[t._v("name")]),t._v("匹配的 cookie。")]),t._v(" "),e("h4",{attrs:{id:"cookies-flushstore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookies-flushstore"}},[t._v("#")]),t._v(" "),e("code",[t._v("cookies.flushStore()")])]),t._v(" "),e("p",[t._v("返回 "),e("code",[t._v("Promise<void>")]),t._v(" - 一个在 cookie 写入时解析的 promise。")]),t._v(" "),e("p",[t._v("写入所有未写入磁盘的 cookie。")])])}),[],!1,null,null,null);s.default=n.exports}}]);