(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{559:function(e,t,r){"use strict";r.r(t);var v=r(20),s=Object(v.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"类-incomingmessage"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#类-incomingmessage"}},[e._v("#")]),e._v(" 类：IncomingMessage")]),e._v(" "),r("blockquote",[r("p",[e._v("处理 HTTP/HTTPS 请求的响应。")])]),e._v(" "),r("p",[e._v("Process: "),r("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[e._v("Main")]),r("br"),e._v(" "),r("em",[e._v("This class is not exported from the "),r("code",[e._v("'electron'")]),e._v(" module. It is only available as a return value of other methods in the Electron API.")])],1),e._v(" "),r("p",[r("code",[e._v("ClientRequest")]),e._v("实现了"),r("a",{attrs:{href:"https://nodejs.org/api/stream.html#stream_readable_streams",target:"_blank",rel:"noopener noreferrer"}},[e._v("Readable Stream"),r("OutboundLink")],1),e._v("接口, 因此是一个"),r("a",{attrs:{href:"https://nodejs.org/api/events.html#events_class_eventemitter",target:"_blank",rel:"noopener noreferrer"}},[e._v("EventEmitter"),r("OutboundLink")],1),e._v("类型.")]),e._v(" "),r("h3",{attrs:{id:"实例事件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实例事件"}},[e._v("#")]),e._v(" 实例事件")]),e._v(" "),r("h4",{attrs:{id:"event-data"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-data"}},[e._v("#")]),e._v(" Event: 'data'")]),e._v(" "),r("p",[e._v("返回:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("chunk")]),e._v(" 缓冲区: 响应体数据块。")])]),e._v(" "),r("p",[r("code",[e._v("data")]),e._v("事件是将响应数据转换为应用程序代码的常用方法。")]),e._v(" "),r("h4",{attrs:{id:"event-end"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-end"}},[e._v("#")]),e._v(" Event: 'end'")]),e._v(" "),r("p",[e._v("指示响应正文已结束。 必须在 'data' 事件之前放置。")]),e._v(" "),r("h4",{attrs:{id:"event-aborted"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-aborted"}},[e._v("#")]),e._v(" Event: 'aborted'")]),e._v(" "),r("p",[e._v("正在进行的 HTTP 事务被取消后触发。")]),e._v(" "),r("h4",{attrs:{id:"event-error"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-error"}},[e._v("#")]),e._v(" Event: 'error'")]),e._v(" "),r("p",[e._v("返回:")]),e._v(" "),r("p",[r("code",[e._v("error")]),e._v(" 通常保存一个错误字符串，识别失败的根本原因。")]),e._v(" "),r("p",[e._v("当流响应数据事件遇到错误时发出。 例如, 如果服务器在响应仍在流时关闭基础, 则会在响应对象上发出一个 "),r("code",[e._v("error")]),e._v(" 事件, 随后将在请求对象上执行 "),r("code",[e._v("close")]),e._v(" 事件。")]),e._v(" "),r("h3",{attrs:{id:"实例属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实例属性"}},[e._v("#")]),e._v(" 实例属性")]),e._v(" "),r("p",[r("code",[e._v("IncomingMessage")]),e._v(" 实例具有以下可读属性:")]),e._v(" "),r("h4",{attrs:{id:"response-statuscode"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#response-statuscode"}},[e._v("#")]),e._v(" "),r("code",[e._v("response.statusCode")])]),e._v(" "),r("p",[e._v("一个指示 HTTP 响应状态代码的 "),r("code",[e._v("Integer")]),e._v("。")]),e._v(" "),r("h4",{attrs:{id:"response-statusmessage"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#response-statusmessage"}},[e._v("#")]),e._v(" "),r("code",[e._v("response.statusMessage")])]),e._v(" "),r("p",[e._v("表示HTTP状态消息的"),r("code",[e._v("string")]),e._v("。")]),e._v(" "),r("h4",{attrs:{id:"response-headers"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#response-headers"}},[e._v("#")]),e._v(" "),r("code",[e._v("response.headers")])]),e._v(" "),r("p",[e._v("A "),r("code",[e._v("Record<string, string | string[]>")]),e._v(" 代表HTTP响应头。 "),r("code",[e._v("headers")]),e._v("对象格式如下：")]),e._v(" "),r("ul",[r("li",[e._v("所有的头文件名是小写的。")]),e._v(" "),r("li",[e._v("以下 header 名均不可重复定义： "),r("br"),e._v(" "),r("code",[e._v("age")]),e._v(", "),r("code",[e._v("authorization")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("content-length")]),e._v(", "),r("code",[e._v("content-type")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("etag")]),e._v(", "),r("code",[e._v("expires")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("from")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("host")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("if-modified-since")]),e._v(", "),r("code",[e._v("if-unmodified-since")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("last-modified")]),e._v(", "),r("code",[e._v("location")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("max-forwards")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("proxy-authorization")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("referer")]),e._v(","),r("code",[e._v("retry-after")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("server")]),e._v(", "),r("br"),e._v(" "),r("code",[e._v("user-agent")])]),e._v(" "),r("li",[r("code",[e._v("set-cookie")]),e._v(" 永远是一个数组。 重复项被添加到数组内。")]),e._v(" "),r("li",[e._v("对于重复的 "),r("code",[e._v("cookie")]),e._v(" 头，对应的值会用 '; ' 连接")]),e._v(" "),r("li",[e._v("所有其他 header 的值通过 ',' 连接")])]),e._v(" "),r("h4",{attrs:{id:"response-httpversion"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#response-httpversion"}},[e._v("#")]),e._v(" "),r("code",[e._v("response.httpVersion")])]),e._v(" "),r("p",[e._v("表示HTTP协议版本号的 "),r("code",[e._v("String")]),e._v(" 。 一般是“1”或“1.1”。 此外 "),r("code",[e._v("httpVersionMajor")]),e._v(" 和"),r("code",[e._v("httpVersionMinor")]),e._v(" 两整数值可读属性，分别返回HTTP的主要和次要版本号")]),e._v(" "),r("h4",{attrs:{id:"response-httpversionmajor"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#response-httpversionmajor"}},[e._v("#")]),e._v(" "),r("code",[e._v("response.httpVersionMajor")])]),e._v(" "),r("p",[e._v("表示HTTP协议主要版本号的 "),r("code",[e._v("整数")]),e._v("。")]),e._v(" "),r("h4",{attrs:{id:"response-httpversionminor"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#response-httpversionminor"}},[e._v("#")]),e._v(" "),r("code",[e._v("response.httpVersionMinor")])]),e._v(" "),r("p",[e._v("表示http协议次要版本号的"),r("code",[e._v("整数")]),e._v("。")])])}),[],!1,null,null,null);t.default=s.exports}}]);