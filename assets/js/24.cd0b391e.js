(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{499:function(s,a,t){"use strict";t.r(a);var n=t(20),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[s._v("#")]),s._v(" 下载")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://ffmpeg.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ffmpeg官网"),t("OutboundLink")],1)]),s._v(" "),t("ol",[t("li",[s._v("打开https://ffmpeg.org/点击Download")]),s._v(" "),t("li",[s._v("选择window - Windows builds from gyan.dev")]),s._v(" "),t("li",[s._v("选择 https://www.gyan.dev/ffmpeg/builds/ffmpeg-git-github")]),s._v(" "),t("li",[s._v("选择 ffmpeg-2022-03-31-git-e301a24fa1-full_build.zip下载")]),s._v(" "),t("li",[s._v("解压-重命名-移动到D: D:\\ffmpeg")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("// 在下载zip文件夹下打开cmd\nWinRAR X ffmpeg-2022-03-31-git-e301a24fa1-full_build.zip\nxcopy /s /e /i /y ffmpeg-2022-03-31-git-e301a24fa1-full_build D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ffmpeg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" \nsetx "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\f"}},[s._v("\\f")]),s._v("fmpeg"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\b"}},[s._v("\\b")]),s._v('in;%path%"')]),s._v(" /m\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n// 重启cmd窗口查看版本号\nffmpeg -version\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h4",{attrs:{id:"常见命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见命令"}},[s._v("#")]),s._v(" 常见命令")]),s._v(" "),t("h5",{attrs:{id:"裁剪"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#裁剪"}},[s._v("#")]),s._v(" 裁剪")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ffmpeg -ss 00:00:00 -t 00:01:00 -i input.mp4 -vcodec copy -acodec copy output.mp4 \n\n// -i 表示源视频文件\n// -ss表示开始切割的时间，-t表示要切多少。上面就是从开始，切5秒钟出来。\n// -y 表示如果输出文件已存在则覆盖。\n\nffmpeg -ss 00:00:00 -t 00:40:00 -i input.mp4 -vcodec copy -acodec copy output.mp4 \nffmpeg -ss 00:40:00 -i input.mp4 -vcodec copy -acodec copy output1.mp4 \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"合并"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并"}},[s._v("#")]),s._v(" 合并")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ffmpeg -f concat -safe 0 -i filelist.txt -c copy output.mp4\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("file input1.mp4\nfile input1.mp4\nfile input1.mp4\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 解码后文件播放时长：慢、准确，")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一个媒体文件里边有多个音视频流，各个流的时长也未必一样，一般播放器会以video stream的时长作为播放时长，另外，并不是所有格式的视频，会在音视频流级别保存了时长，这时可能会拿不到时长")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 解码后文件播放时长（get duration by decoding）")]),s._v("\nffmpeg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i input"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mp4  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 音视频流时长（stream duration）")]),s._v("\nffprobe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v error "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("select_streams v"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("show_entries stream"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("duration "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("noprint_wrappers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("nokey"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" input"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mp4\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 容器时长（container duration)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 特点：慢、准确")]),s._v("\nffprobe "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v error "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("show_entries format"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("duration "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("noprint_wrappers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("nokey"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i input"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mp4\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"ffmpeg生成视频封面图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg生成视频封面图"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.cnblogs.com/codeit/p/15600052.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ffmpeg生成视频封面图"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 视频 a.mp4 第一帧导出为 a.jpg")]),s._v("\nffmpeg -i input.mp4 -y -f image2 -frames "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" poster.jpg\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定封面图大小")]),s._v("\nffmpeg -i input.mp4 -y -f image2 -s "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("640")]),s._v("*480 -frames "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" poster.jpg\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"制作动图git"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#制作动图git"}},[s._v("#")]),s._v(" 制作动图git")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ffmpeg -i input.mp4 -vf setpts=PTS/8 -af atempo=8 -f gif out.gif\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"提升音量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提升音量"}},[s._v("#")]),s._v(" 提升音量")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("input")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wav "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("af volume"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("3dB output"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wav\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"倍速播放"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#倍速播放"}},[s._v("#")]),s._v(" 倍速播放")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("input")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mp4 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vf setpts"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PTS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("af atempo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mp4\n\nffmpeg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.")]),s._v("主进程和渲染进程的通讯"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mp4 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vf setpts"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PTS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("af atempo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.")]),s._v("主进程和渲染进程的通讯@"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mp4\n\n\nffmpeg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mp4 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vf setpts"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PTS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("af atempo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.125")]),s._v(" out2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mp4\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"常用命令行参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令行参数"}},[s._v("#")]),s._v(" 常用命令行参数")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c：指定编码器\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c copy：直接复制，不经过重新编码（这样比较快）\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v：指定视频编码器\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("a：指定音频编码器\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i：指定输入文件\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("an：去除音频流\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vn： 去除视频流\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("preset：指定输出的视频质量，会影响文件的生成速度，有以下几个可用的值\n\t    ultrafast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" superfast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" veryfast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" faster"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" medium"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" slow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" slower"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" veryslow。\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y：不经过确认，输出时直接覆盖同名文件。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12345678910")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h3",{attrs:{id:"_1-显示文件信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-显示文件信息"}},[s._v("#")]),s._v(" 1 显示文件信息")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ffmpeg -i input.mp4 -hide_banner\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("分离视频")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ ffmpeg -i input.mp4 -vcodec copy -an output.mp4\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("分离音频")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('$ ffmpeg -i input.mp4 -acodec copy -vn output.m4a\n\nffmpeg -i input.mp4 -acodec copy -vn output.wav\nffmpeg -i input.mp4 -acodec copy -vn output.aac\n\n\nffmpeg -i "Z:\\Learn\\技术胖\\18-桌面应用开发(Desktop Applications)\\Electron超详细实战开发教程\\video\\1.最新Electron课程介绍.mp4" -acodec copy -vn "Z:\\Learn\\技术胖\\18-桌面应用开发(Desktop Applications)\\Electron超详细实战开发教程\\audio\\1.最新Electron课程介绍.aac"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"压缩音频"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#压缩音频"}},[s._v("#")]),s._v(" 压缩音频")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('在cmd中输入命令并运行：\nffmpeg -i "Electron超详细实战开发教程.wav" -b:a 64k -acodec mp3 -ar 44100 -ac 1 "Electron超详细实战开发教程.mp3"\n命令参数解释：\n-i "1.wav"表示输入，后面的文件名必须要用双引号；\n-b:a 64k表示音频的码率为64kb/s，即8kB/s；\n-acodec mp3表示设定声音编解码器为mp3；\n-ar 44100表示设定采样率为44100；\n"1.mp3"表示输出保存的文件名。\n\nffmpeg -i "Electron超详细实战开发教程.wav" -ar 500 "out.wav"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"挂载字幕"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#挂载字幕"}},[s._v("#")]),s._v(" 挂载字幕")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('\n# ffmpeg -i input.mp4 -i input.srt -c:s copy -c:v copy -c:a copy out.mp4\n# 添加硬字幕，ffmpeg最终都会将字幕格式先转换成ass字幕流再将字幕嵌入到视频帧中，这个过程需要重新编解码，所以速度比较慢。\nffmpeg -i input.mp4 -vf subtitles=input.srt output.mp4\nffmpeg -i input.mp4 -vf subtitles=input.ass output.mp4\n# 添加软字幕，添加软字幕的原理和流程就跟给视频添加音频一样，这个过程不需要重新编解码，所以速度非常快。\nffmpeg -i input.mp4 -i input.srt -c copy output.mp4\nffmpeg -i input.mp4 -i input.ass -c copy output.mkv\n\nffmpeg -i input.mkv -i input.ass -c copy output.mkv\n\n给mkv文件添加srt格式的软字幕：\nffmpeg -i input.mkv -i input.srt -c copy -c:s srt output.mkv\n给mp4文件添加srt格式的软字幕(mkv格式本身支持字幕轨道，但mp4需要使用mov_text）\nffmpeg -i input.mp4 -i input.srt -c copy -c:s mov_text output.mp4\n给mkv文件添加ass软字幕(mp4不支持ass编码格式的字幕流,mkv支持）\nffmpeg -i input.mp4 -i input.ass -c copy -c:s ass output.mkv\n\n\n\nffmpeg -i "1.最新Electron课程介绍.mp4" -i "1.最新Electron课程介绍.srt" -c copy "output.mp4"\nffmpeg -i "1.最新Electron课程介绍.mp4" -i "1.最新Electron课程介绍.ass" -c copy "output.mp4"\nffmpeg -i 1.最新Electron课程介绍.mp4 -i 1.最新Electron课程介绍.srt -c:s copy -c:v copy -c:a copy out.mp4\n\nffmpeg -i 1.最新Electron课程介绍.mp4 -i 1.最新Electron课程介绍.ass -c:s copy -c:v copy -c:a copy out.mp4\n\n# 字幕格式转换\nffmpeg -i input.srt input.vtt\nffmpeg -i input.srt input.ass\n\nffmpeg -i  input.ass input.srt\n\n\n\n\nos.system("ffmpeg -i "+video_file_path+" -i "+subtitle_file_path+" -c:s copy -c:v copy -c:a copy "+subtitle_video_file_path)\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('将 Outline 和 Shadow 大小更改为 0.\n阴影的 alpha 设置将控制背景框的透明度.单击阴影颜色以将阴影颜色的 Alpha 调整为所需的透明度级别.\n在文本编辑器中编辑 ASS 文件.在 Style 行中，将 BorderStyle 对应的值更改为 4.这将填充每个字幕事件的边界框背景.示例 Style 行:\nStyle: Default,Arial,20,&H00FFFFFF,&H000000FF,&H80000000,&H80000000,-1,0,0,0,100,100,0,0,4,0,0,2,10,10,10,1\n请注意，BorderStyle=4 是一个非标准值，因此它可能无法在所有播放器中正常工作.\n\n# ffmpeg -i input.mp4 -filter_complex "drawbox=w=iw:h=24:y=ih-28:t=max:color=black@0.4,subtitles=input.ass" output.mp4\n\nffmpeg -i input -filter_complex "subtitles=subs.ass:force_style=\'OutlineColour=&H80000000,BorderStyle=3,Outline=1,Shadow=0,MarginV=20\'" output\n\nStyle: Default,Arial,20,&H00FFFFFF,&H000000FF,&H80000000,&H80000000,-1,0,0,0,100,100,0,0,4,0,0,2,10,10,10,1\n\nStyle: Default,Arial,20,&H00FFFFFF,&H000000FF,&H00000000,&H64000000,0,0,0,0,100,100,0,0,3,0,1,2,10,10,10,1\n\nffmpeg -i input.mp4 -filter_complex "drawbox=w=iw:h=24:y=ih-28:t=max:color=black@0.4,subtitles=input.ass" output.mp4\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h3",{attrs:{id:"分离字幕"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分离字幕"}},[s._v("#")]),s._v(" 分离字幕")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ffmpeg -i input.mp4 -map 0:s:0 out.srt\nffmpeg -i input.mkv -map 0:s:0 out.ass\n\nffmpeg -i input.mp4 -vn -an -codec:s:0.1 srt out.srt\nffmpeg -i input.mp4 -vn -an -codec:s:0 srt out.srt\nffmpeg -i input.mp4 -vn -an -codec:s srt out.srt\n\nffmpeg -i input.mp4 -c copy -map 0:s:0 out.srt\n\nffmpeg -i input.mp4 -codec copy -bsf: h264_mp4toannexb -f h264 3.h264 \n\n增加字幕流\nffmpeg -i input.mp4 -i input.ass -map 0:0 -map 0:1 -map 1 -c:a copy -c:v copy -c:s copy output.mp4\n\n提取字幕流\n1）原始文本输出\nffmpeg -i input.mp4 -an -vn -bsf:s mov2textsub -scodec copy -f rawvideo sub.txt\nffmpeg -i input.mp4 -an -vn -c:s copy -f rawvideo -map 0:s sub2.txt\n2）ass格式输出\nffmpeg -i input.mp4 -an -vn -scodec copy sub3.ass\n\nffmpeg -i input.mkv -c copy -c:s  output.mp4\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ffmpeg -i input.mkv -vcodec copy -acodec copy output.m\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);