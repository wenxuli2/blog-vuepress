(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{551:function(t,a,s){"use strict";s.r(a);var e=s(20),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"类-downloaditem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类-downloaditem"}},[t._v("#")]),t._v(" 类：downloadItem")]),t._v(" "),s("blockquote",[s("p",[t._v("控制来自于远程资源的文件下载。")])]),t._v(" "),s("p",[t._v("Process: "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[t._v("Main")]),s("br"),t._v(" "),s("em",[t._v("This class is not exported from the "),s("code",[t._v("'electron'")]),t._v(" module. It is only available as a return value of other methods in the Electron API.")])],1),t._v(" "),s("p",[s("code",[t._v("DownloadItem")]),t._v(" 是一个 "),s("a",{attrs:{href:"https://nodejs.org/api/events.html#events_class_eventemitter",target:"_blank",rel:"noopener noreferrer"}},[t._v("EventEmitter"),s("OutboundLink")],1),t._v(" 事件触发器，在Electron中代表一个下载项。 它用于"),s("code",[t._v("will-download")]),t._v("事件以及"),s("code",[t._v("Session")]),t._v("类，并且允许用户控制下载项目。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在主进程中.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserWindow "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" win "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webContents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'will-download'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" webContents")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 无需对话框提示， 直接将文件保存到路径")]),t._v("\n  item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSavePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp/save.pdf'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'updated'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'interrupted'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Download is interrupted but can be resumed'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'progressing'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPaused")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Download is paused'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("Received bytes: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getReceivedBytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'done'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'completed'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Download successfully'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("Download failed: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])]),s("h3",{attrs:{id:"实例事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例事件"}},[t._v("#")]),t._v(" 实例事件")]),t._v(" "),s("h4",{attrs:{id:"事件名-updated"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件名-updated"}},[t._v("#")]),t._v(" 事件名: 'updated'")]),t._v(" "),s("p",[t._v("返回:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("event")]),t._v(" Event")]),t._v(" "),s("li",[s("code",[t._v("state")]),t._v(" String - 可以是 "),s("code",[t._v("progressing")]),t._v(" 或 "),s("code",[t._v("interrupted")]),t._v(".")])]),t._v(" "),s("p",[t._v("当下载正在执行但还没完成的时候发出。")]),t._v(" "),s("p",[t._v("状态可以是以下之一：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("progressing")]),t._v(" - 下载正在进行中")]),t._v(" "),s("li",[s("code",[t._v("interrupted")]),t._v(" - 下载已经中断，可以恢复")])]),t._v(" "),s("h4",{attrs:{id:"事件名-done"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件名-done"}},[t._v("#")]),t._v(" 事件名: 'done'")]),t._v(" "),s("p",[t._v("返回:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("event")]),t._v(" Event")]),t._v(" "),s("li",[s("code",[t._v("state")]),t._v(" String - 可以是 "),s("code",[t._v("completed")]),t._v(", "),s("code",[t._v("cancelled")]),t._v(" 或 "),s("code",[t._v("interrupted")]),t._v(".")])]),t._v(" "),s("p",[t._v("当下载处于终止态时触发。 包括下载完成，取消下载 (通过 "),s("code",[t._v("downloadItem.cancel()")]),t._v(")，以及无法恢复的中断下载。")]),t._v(" "),s("p",[t._v("状态可以是以下之一：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("completed")]),t._v(" - 下载成功完成")]),t._v(" "),s("li",[s("code",[t._v("cancelled")]),t._v(" - 下载已被取消")]),t._v(" "),s("li",[s("code",[t._v("interrupted")]),t._v(" - 下载已经中断，无法恢复")])]),t._v(" "),s("h3",{attrs:{id:"实例方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例方法"}},[t._v("#")]),t._v(" 实例方法")]),t._v(" "),s("p",[s("code",[t._v("downloadItem")]),t._v(" 对象具有以下方法：")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-setsavepath-path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-setsavepath-path"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.setSavePath(path)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("path")]),t._v(" String - 设置下载项目的保存文件路径。")])]),t._v(" "),s("p",[t._v("该API仅能在"),s("code",[t._v("will-download")]),t._v(" 方法的回调中使用。 如果 "),s("code",[t._v("path")]),t._v(" 不存在，Electron 将尝试递归创建目录。 如果用户没有通过这个API设置保存路径，Electron 将使用默认方式决定保存路径；通常弹出保存对话框。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getsavepath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getsavepath"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getSavePath()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("String")]),t._v(" - 下载项的保存路径。 该值为通过 "),s("code",[t._v("downloadItem.setSavePath(path)")]),t._v(" 设置的路径或通过显示的保存对话框选择的路径。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-setsavedialogoptions-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-setsavedialogoptions-options"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.setSaveDialogOptions(options)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("options")]),t._v(" SaveDialogOptions - 设置保存文件对话框选项。 这个对象与 "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/dialog.html"}},[s("code",[t._v("dialog.showSaveDialog()")])]),t._v(" 的 "),s("code",[t._v("options")]),t._v(" 参数有相同属性。")],1)]),t._v(" "),s("p",[t._v("此 API 允许用户为下载项默认打开的保存对话框设置自定义选项。 该API仅能在"),s("code",[t._v("will-download")]),t._v(" 方法的回调中使用。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getsavedialogoptions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getsavedialogoptions"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getSaveDialogOptions()")])]),t._v(" "),s("p",[t._v("返回 "),s("code",[t._v("SaveDialogOptions")]),t._v(" - 返回之前通过 "),s("code",[t._v("downloadItem.setSaveDialogOptions(options)")]),t._v(" 设置的对象。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-pause"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-pause"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.pause()")])]),t._v(" "),s("p",[t._v("暂停下载。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-ispaused"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-ispaused"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.isPaused()")])]),t._v(" "),s("p",[t._v("Returns "),s("code",[t._v("Boolean")]),t._v(" - Whether the download is paused.")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-resume"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-resume"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.resume()")])]),t._v(" "),s("p",[t._v("Resumes the download that has been paused.")]),t._v(" "),s("p",[s("strong",[t._v("注意：")]),t._v(" 为了支持断点续传，必须要从支持范围请求的服务器下载，并且提供"),s("code",[t._v("Last-Modified")]),t._v(" 和 "),s("code",[t._v("ETag")]),t._v("的头部值。 否则，"),s("code",[t._v("resume()")]),t._v(" 将关闭以前接收到的字节并从头开始重新开始下载。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-canresume"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-canresume"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.canResume()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("Boolean")]),t._v(" - 下载是否可以恢复。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-cancel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-cancel"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.cancel()")])]),t._v(" "),s("p",[t._v("取消下载操作。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-geturl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-geturl"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getURL()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("String")]),t._v(" - 下载项的源URL。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getmimetype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getmimetype"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getMimeType()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("String")]),t._v(" - MIME类型的文件。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-hasusergesture"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-hasusergesture"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.hasUserGesture()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("Boolean")]),t._v("  - 下载是否具有用户手势。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getfilename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getfilename"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getFilename()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("String")]),t._v(" - 下载项目的文件名。")]),t._v(" "),s("p",[s("strong",[t._v("注意：")]),t._v(" 文件名并不总是和实际保存到本地磁盘中的文件名相同。 如果用户在提示的下载保存对话框中更改文件名称，保存的文件的实际名称将会不同。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-gettotalbytes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-gettotalbytes"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getTotalBytes()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("Integer")]),t._v("  - 下载项目的总大小（以字节为单位）。")]),t._v(" "),s("p",[t._v("如果大小未知，则返回0。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getreceivedbytes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getreceivedbytes"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getReceivedBytes()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("Integer")]),t._v(" - 下载项目的接收字节。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getcontentdisposition"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getcontentdisposition"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getContentDisposition()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("String")]),t._v("  - 响应头中的Content-Disposition字段。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getstate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getstate"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getState()")])]),t._v(" "),s("p",[t._v("返回 "),s("code",[t._v("String")]),t._v(" - 当前状态。 可以是 "),s("code",[t._v("progressing")]),t._v("、 "),s("code",[t._v("completed")]),t._v("、 "),s("code",[t._v("cancelled")]),t._v(" 或 "),s("code",[t._v("interrupted")]),t._v("。")]),t._v(" "),s("p",[s("strong",[t._v("注意：")]),t._v(" 以下方法尤其对于当会话重启后恢复 "),s("code",[t._v("取消了的")]),t._v(" 项目非常有用。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-geturlchain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-geturlchain"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getURLChain()")])]),t._v(" "),s("p",[t._v("返回 "),s("code",[t._v("String[]")]),t._v(" - 项目的完整URL链，包括任何重定向。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getlastmodifiedtime"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getlastmodifiedtime"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getLastModifiedTime()")])]),t._v(" "),s("p",[t._v("返回String - Last-Modified的值。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getetag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getetag"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getETag()")])]),t._v(" "),s("p",[t._v("返回String - ETag的值。")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-getstarttime"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-getstarttime"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.getStartTime()")])]),t._v(" "),s("p",[t._v("返回"),s("code",[t._v("Double")]),t._v("  - 自下载开始时的UNIX纪元以来的秒数。")]),t._v(" "),s("h3",{attrs:{id:"实例属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例属性"}},[t._v("#")]),t._v(" 实例属性")]),t._v(" "),s("h4",{attrs:{id:"downloaditem-savepath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#downloaditem-savepath"}},[t._v("#")]),t._v(" "),s("code",[t._v("downloadItem.savePath")])]),t._v(" "),s("p",[t._v("一个 "),s("code",[t._v("String")]),t._v(" 属性，决定了下载项的保存文件路径。")]),t._v(" "),s("p",[t._v("该属性仅在会话的 "),s("code",[t._v("will-download")]),t._v(" 回调函数中可用。 如果用户未通过属性设置保存路径，Electron将使用默认方式决定保存路径；通常为弹出保存对话框。")])])}),[],!1,null,null,null);a.default=n.exports}}]);