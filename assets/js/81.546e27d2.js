(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{555:function(t,a,e){"use strict";e.r(a);var r=e(20),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"inapppurchase"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inapppurchase"}},[t._v("#")]),t._v(" inAppPurchase")]),t._v(" "),e("blockquote",[e("p",[t._v("Mac App Store中的应用内购买")])]),t._v(" "),e("p",[t._v("进程："),e("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[t._v("主进程")])],1),t._v(" "),e("h2",{attrs:{id:"事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),e("p",[e("code",[t._v("inAppPurchase")]),t._v(" 模块触发以下事件:")]),t._v(" "),e("h3",{attrs:{id:"事件-transactions-updated"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件-transactions-updated"}},[t._v("#")]),t._v(" 事件：'transactions-updated'")]),t._v(" "),e("p",[t._v("一个或多个 transactions 更新时会触发这一事件。")]),t._v(" "),e("p",[t._v("返回:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("event")]),t._v(" Event")]),t._v(" "),e("li",[e("code",[t._v("transactions")]),t._v(" Transaction[] - Array of "),e("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/transaction.html"}},[e("code",[t._v("Transaction")])]),t._v(" objects.")],1)]),t._v(" "),e("h2",{attrs:{id:"方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),e("p",[e("code",[t._v("inAppPurchase")]),t._v(" 模块包含以下方法：")]),t._v(" "),e("h3",{attrs:{id:"inapppurchase-purchaseproduct-productid-quantity"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inapppurchase-purchaseproduct-productid-quantity"}},[t._v("#")]),t._v(" "),e("code",[t._v("inAppPurchase.purchaseProduct(productID[, quantity])")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("productID")]),t._v(" String - 预付款商品的ID ("),e("code",[t._v("com.example.app.product1")]),t._v(" 的ID是 "),e("code",[t._v("product1")]),t._v(").")]),t._v(" "),e("li",[e("code",[t._v("quantity")]),t._v(" Integer (可选) - 用户所要购买的商品数量.")])]),t._v(" "),e("p",[t._v("Returns "),e("code",[t._v("Promise<Boolean>")]),t._v(" - Returns "),e("code",[t._v("true")]),t._v(" if the product is valid and added to the payment queue.")]),t._v(" "),e("p",[t._v("在调用"),e("code",[t._v("purchaseProduct")]),t._v("之前，你应该尽可能快的监听"),e("code",[t._v("transactions-updated")]),t._v("事件")]),t._v(" "),e("h3",{attrs:{id:"inapppurchase-getproducts-productids"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inapppurchase-getproducts-productids"}},[t._v("#")]),t._v(" "),e("code",[t._v("inAppPurchase.getProducts(productIDs)")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("productIDs")]),t._v(" String[] - 预购商品ID")])]),t._v(" "),e("p",[t._v("Returns "),e("code",[t._v("Promise<Product[]>")]),t._v(" - Resolves with an array of "),e("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/product.html"}},[e("code",[t._v("Product")])]),t._v(" objects.")],1),t._v(" "),e("p",[t._v("检索商品的描述")]),t._v(" "),e("h3",{attrs:{id:"inapppurchase-canmakepayments"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inapppurchase-canmakepayments"}},[t._v("#")]),t._v(" "),e("code",[t._v("inAppPurchase.canMakePayments()")])]),t._v(" "),e("p",[t._v("Returns "),e("code",[t._v("Boolean")]),t._v(" - whether a user can make a payment.")]),t._v(" "),e("h3",{attrs:{id:"inapppurchase-restorecompletedtransactions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inapppurchase-restorecompletedtransactions"}},[t._v("#")]),t._v(" "),e("code",[t._v("inAppPurchase.restoreCompletedTransactions()")])]),t._v(" "),e("p",[t._v("Restores finished transactions. This method can be called either to install purchases on additional devices, or to restore purchases for an application that the user deleted and reinstalled.")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://developer.apple.com/documentation/storekit/skpaymentqueue?language=objc",target:"_blank",rel:"noopener noreferrer"}},[t._v("The payment queue"),e("OutboundLink")],1),t._v(" delivers a new transaction for each previously completed transaction that can be restored. Each transaction includes a copy of the original transaction.")]),t._v(" "),e("h3",{attrs:{id:"inapppurchase-getreceipturl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inapppurchase-getreceipturl"}},[t._v("#")]),t._v(" "),e("code",[t._v("inAppPurchase.getReceiptURL()")])]),t._v(" "),e("p",[t._v("Returns "),e("code",[t._v("String")]),t._v(" - the path to the receipt.")]),t._v(" "),e("h3",{attrs:{id:"inapppurchase-finishalltransactions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inapppurchase-finishalltransactions"}},[t._v("#")]),t._v(" "),e("code",[t._v("inAppPurchase.finishAllTransactions()")])]),t._v(" "),e("p",[t._v("完成所有待处理的交易")]),t._v(" "),e("h3",{attrs:{id:"inapppurchase-finishtransactionbydate-date"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inapppurchase-finishtransactionbydate-date"}},[t._v("#")]),t._v(" "),e("code",[t._v("inAppPurchase.finishTransactionByDate(date)")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("date")]),t._v(" String - 待完成交易的ISO标准日期格式")])]),t._v(" "),e("p",[t._v("完成与日期对应的待处理事务")])])}),[],!1,null,null,null);a.default=s.exports}}]);