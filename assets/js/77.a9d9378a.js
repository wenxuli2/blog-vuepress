(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{553:function(e,t,o){"use strict";o.r(t);var s=o(20),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"chrome-扩展支持"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-扩展支持"}},[e._v("#")]),e._v(" Chrome 扩展支持")]),e._v(" "),o("p",[e._v("Electron 支持 "),o("a",{attrs:{href:"https://developer.chrome.com/extensions/api_index",target:"_blank",rel:"noopener noreferrer"}},[e._v("Chrome 扩展API"),o("OutboundLink")],1),e._v("的子集， 主要是支持 DevTools 扩展和 Chromium-internal 扩展，但它同时也支持一些其他扩展能。")]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("注意")]),e._v("：Electron 不支持商店中的任意 Chrome 扩展，Electron 项目的目标"),o("strong",[e._v("不是")]),e._v("与 Chrome 的扩展实现完全兼容。")])]),e._v(" "),o("h2",{attrs:{id:"加载扩展"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#加载扩展"}},[e._v("#")]),e._v(" 加载扩展")]),e._v(" "),o("p",[e._v("Electron 只支持加载未打包的扩展 (即不能使用 "),o("code",[e._v(".crx")]),e._v(" 文件)。 插件会被安装到每一个"),o("code",[e._v("会话")]),e._v("。 要加载扩展，请调用 "),o("RouterLink",{attrs:{to:"/《Electron中文文档》/api/session.html#sesloadextensionpath-options"}},[o("code",[e._v("ses.loadextension")])]),e._v("：")],1),e._v(" "),o("div",{staticClass:"language-js line-numbers-mode"},[o("pre",{pre:!0,attrs:{class:"language-js"}},[o("code",[o("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" session "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'electron'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\nsession"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("loadExtension")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'path/to/unpacked/extension'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("then")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token parameter"}},[o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" id "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")])]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),o("div",{staticClass:"line-numbers-wrapper"},[o("span",{staticClass:"line-number"},[e._v("1")]),o("br"),o("span",{staticClass:"line-number"},[e._v("2")]),o("br"),o("span",{staticClass:"line-number"},[e._v("3")]),o("br"),o("span",{staticClass:"line-number"},[e._v("4")]),o("br"),o("span",{staticClass:"line-number"},[e._v("5")]),o("br")])]),o("p",[e._v("加载的扩展将不会被自动记住；如果在应用程序运行时未调用 "),o("code",[e._v("loadExtension")]),e._v("，则不会加载扩展。")]),e._v(" "),o("p",[e._v("注意，仅能在持久 session 中加载扩展。 尝试将扩展加载到内存 session 中会出现错误。")]),e._v(" "),o("p",[e._v("有关加载、卸载和查询活动扩展的更多信息，请查阅 "),o("RouterLink",{attrs:{to:"/《Electron中文文档》/api/session.html"}},[o("code",[e._v("session")])]),e._v(" 文档。")],1),e._v(" "),o("h2",{attrs:{id:"支持的扩展-api"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#支持的扩展-api"}},[e._v("#")]),e._v(" 支持的扩展 API")]),e._v(" "),o("p",[e._v("我们支持以下扩展 API，并需要注意一些警告。 其他API可能会得到额外支持，但对此处未列出的任何API的支持都是临时的，可能会被删除。")]),e._v(" "),o("h3",{attrs:{id:"chrome-devtools-inspectedwindow"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-devtools-inspectedwindow"}},[e._v("#")]),e._v(" "),o("code",[e._v("chrome.devtools.inspectedWindow")])]),e._v(" "),o("p",[e._v("支持这些 API 的所有功能。")]),e._v(" "),o("h3",{attrs:{id:"chrome-devtools-network"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-devtools-network"}},[e._v("#")]),e._v(" "),o("code",[e._v("chrome.devtools.network")])]),e._v(" "),o("p",[e._v("支持这些 API 的所有功能。")]),e._v(" "),o("h3",{attrs:{id:"chrome-devtools-panels"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-devtools-panels"}},[e._v("#")]),e._v(" "),o("code",[e._v("chrome.devtools.panels")])]),e._v(" "),o("p",[e._v("支持这些 API 的所有功能。")]),e._v(" "),o("h3",{attrs:{id:"chrome-extension"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-extension"}},[e._v("#")]),e._v(" "),o("code",[e._v("chrome.extension")])]),e._v(" "),o("p",[e._v("支持 "),o("code",[e._v("chrome.extension")]),e._v(" 的以下属性：")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("chrome.extension.lastError")])])]),e._v(" "),o("p",[e._v("支持 "),o("code",[e._v("chrome.extension")]),e._v(" 的以下方法：")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("chrome.extension.getURL")])]),e._v(" "),o("li",[o("code",[e._v("chrome.extension.getBackgroundPage")])])]),e._v(" "),o("h3",{attrs:{id:"chrome-runtime"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-runtime"}},[e._v("#")]),e._v(" "),o("code",[e._v("chrome.runtime")])]),e._v(" "),o("p",[e._v("支持 "),o("code",[e._v("chrome.runtime")]),e._v(" 的以下属性：")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("chrome.runtime.lastError")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.id")])])]),e._v(" "),o("p",[e._v("支持 "),o("code",[e._v("chrome.runtime")]),e._v(" 的以下方法：")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("chrome.runtime.getBackgroundPage")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.getManifest")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.getPlatformInfo")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.getURL")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.connect")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.sendMessage")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.reload")])])]),e._v(" "),o("p",[e._v("支持 "),o("code",[e._v("chrome.runtime")]),e._v(" 的以下事件：")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("chrome.runtime.onStartup")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.onInstalled")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.onSuspend")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.onSuspendCanceled")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.onConnect")])]),e._v(" "),o("li",[o("code",[e._v("chrome.runtime.onMessage")])])]),e._v(" "),o("h3",{attrs:{id:"chrome-storage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-storage"}},[e._v("#")]),e._v(" "),o("code",[e._v("chrome.storage")])]),e._v(" "),o("p",[e._v("仅支持 "),o("code",[e._v("chrome.storage.local")]),e._v(" ； "),o("code",[e._v("chrome.storage.sync")]),e._v(" 和 "),o("code",[e._v("chrome.storage.manage.manage")]),e._v(" 不支持。")]),e._v(" "),o("h3",{attrs:{id:"chrome-tabs"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-tabs"}},[e._v("#")]),e._v(" "),o("code",[e._v("chrome.tabs")])]),e._v(" "),o("p",[e._v("支持 "),o("code",[e._v("chrome.tab")]),e._v(" 的以下方法：")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("chrome.tabs.sendMessage")])]),e._v(" "),o("li",[o("code",[e._v("chrome.tabs.executeScript")])])]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("注意：")]),e._v(" 在 Chrome 中，通过 "),o("code",[e._v("-1")]),e._v(" 作为标签ID表示“当前活动的标签”。 因为 Electron 没有这样的概念，通过 "),o("code",[e._v("-1")]),e._v(" 作为选项卡ID不支持而且会报错。")])]),e._v(" "),o("h3",{attrs:{id:"chrome-management"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-management"}},[e._v("#")]),e._v(" "),o("code",[e._v("chrome.management")])]),e._v(" "),o("p",[e._v("支持 "),o("code",[e._v("chrome.management")]),e._v(" 的以下方法：")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("chrome.management.getAll")])]),e._v(" "),o("li",[o("code",[e._v("chrome.management.get")])]),e._v(" "),o("li",[o("code",[e._v("chrome.management.getSelf")])]),e._v(" "),o("li",[o("code",[e._v("chrome.management.getPermissionWarningsById")])]),e._v(" "),o("li",[o("code",[e._v("chrome.management.getPermissionWarningsByManifest")])]),e._v(" "),o("li",[o("code",[e._v("chrome.management.onEnabled")])]),e._v(" "),o("li",[o("code",[e._v("chrome.management.onDisabled")])])]),e._v(" "),o("h3",{attrs:{id:"chrome-webrequest"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chrome-webrequest"}},[e._v("#")]),e._v(" "),o("code",[e._v("chrome.webRequest")])]),e._v(" "),o("p",[e._v("支持这些 API 的所有功能。")]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("注意：")]),e._v(" 如果有冲突需要处理，Electron 的 "),o("RouterLink",{attrs:{to:"/《Electron中文文档》/api/web-request.html"}},[o("code",[e._v("webRequest")])]),e._v(" 模块将优先于 "),o("code",[e._v("chrome.web")]),e._v(" 。")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);