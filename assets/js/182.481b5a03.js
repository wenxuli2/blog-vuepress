(window.webpackJsonp=window.webpackJsonp||[]).push([[182],{658:function(t,e,s){"use strict";s.r(e);var a=s(20),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"webframemain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webframemain"}},[t._v("#")]),t._v(" webFrameMain")]),t._v(" "),s("blockquote",[s("p",[t._v("控制页面和内联框架(iframes)。")])]),t._v(" "),s("p",[t._v("进程："),s("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[t._v("主进程")])],1),t._v(" "),s("p",[s("code",[t._v("webFramework")]),t._v(" 模块可以用来查找现有的 "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/web-contents.html"}},[s("code",[t._v("WebContents")])]),t._v(" 实例。 通常在导航事件中使用。")],1),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserWindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" webFrameMain "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" win "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://twitter.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nwin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webContents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'did-frame-navigate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isMainFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" frameProcessId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" frameRoutingId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" frame "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" webFrameMain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("frameProcessId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" frameRoutingId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("frame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" code "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'document.body.innerHTML = document.body.innerHTML.replaceAll("heck", "h*ck")\'')]),t._v("\n      frame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeJavaScript")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("p",[t._v("您还可以通过使用 "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/web-contents.html"}},[s("code",[t._v("WebContents")])]),t._v("的 "),s("code",[t._v("mainFrame")]),t._v(" 属性 访问现有页面的框架。")],1),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserWindow "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" win "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("600")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" win"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://reddit.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" youtubeEmbeds "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" win"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webContents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mainFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("frames"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("frame")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("frame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'www.youtube.com'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("youtubeEmbeds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("h2",{attrs:{id:"方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),s("p",[t._v("通过"),s("code",[t._v("webFrameMain")]),t._v("模块可以访问以下方法：")]),t._v(" "),s("h3",{attrs:{id:"webframemain-fromid-processid-routingid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webframemain-fromid-processid-routingid"}},[t._v("#")]),t._v(" "),s("code",[t._v("webFrameMain.fromId(processId, routingId)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("processId")]),t._v(" Integer - 表示拥有此框架的进程的内部 ID。")]),t._v(" "),s("li",[s("code",[t._v("routingId")]),t._v(" Integer - 表示当前渲染器进程中唯一框架的 ID 。 Routing IDs can be retrieved from "),s("code",[t._v("WebFrameMain")]),t._v(" instances ("),s("code",[t._v("frame.routingId")]),t._v(") and are also passed by frame specific "),s("code",[t._v("WebContents")]),t._v(" navigation events (e.g. "),s("code",[t._v("did-frame-navigate")]),t._v(").")])]),t._v(" "),s("p",[t._v("Returns "),s("code",[t._v("WebFrameMain | undefined")]),t._v(" - A frame with the given process and routing IDs, or "),s("code",[t._v("undefined")]),t._v(" if there is no WebFrameMain associated with the given IDs.")]),t._v(" "),s("h2",{attrs:{id:"class-webframemain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#class-webframemain"}},[t._v("#")]),t._v(" Class: WebFrameMain")]),t._v(" "),s("p",[t._v("Process: "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[t._v("Main")]),s("br"),t._v(" "),s("em",[t._v("This class is not exported from the "),s("code",[t._v("'electron'")]),t._v(" module. It is only available as a return value of other methods in the Electron API.")])],1),t._v(" "),s("h3",{attrs:{id:"实例事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例事件"}},[t._v("#")]),t._v(" 实例事件")]),t._v(" "),s("h4",{attrs:{id:"事件-dom-ready"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件-dom-ready"}},[t._v("#")]),t._v(" 事件: 'dom-ready'")]),t._v(" "),s("p",[t._v("Emitted when the document is loaded.")]),t._v(" "),s("h3",{attrs:{id:"实例方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例方法"}},[t._v("#")]),t._v(" 实例方法")]),t._v(" "),s("h4",{attrs:{id:"frame-executejavascript-code-usergesture"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-executejavascript-code-usergesture"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.executeJavaScript(code[, userGesture])")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("code")]),t._v(" String")]),t._v(" "),s("li",[s("code",[t._v("userGesture")]),t._v(" Boolean (optional) - Default is "),s("code",[t._v("false")]),t._v(".")])]),t._v(" "),s("p",[t._v("Returns "),s("code",[t._v("Promise<unknown>")]),t._v(" - A promise that resolves with the result of the executed code or is rejected if execution throws or results in a rejected promise.")]),t._v(" "),s("p",[t._v("在页面中执行 "),s("code",[t._v("code")]),t._v("。")]),t._v(" "),s("p",[t._v("在浏览器窗口中，一些HTML API（如"),s("code",[t._v("requestFullScreen")]),t._v("）只能是 由来自用户的手势调用。 将 "),s("code",[t._v("userGesture")]),t._v(" 设置为 "),s("code",[t._v("true")]),t._v(" 将删除此限制。")]),t._v(" "),s("h4",{attrs:{id:"frame-reload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-reload"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.reload()")])]),t._v(" "),s("p",[t._v("Returns "),s("code",[t._v("boolean")]),t._v(" - Whether the reload was initiated successfully. Only results in "),s("code",[t._v("false")]),t._v(" when the frame has no history.")]),t._v(" "),s("h4",{attrs:{id:"frame-send-channel-args"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-send-channel-args"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.send(channel, ...args)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("channel")]),t._v(" String")]),t._v(" "),s("li",[s("code",[t._v("...args")]),t._v(" any[]")])]),t._v(" "),s("p",[t._v("Send an asynchronous message to the renderer process via "),s("code",[t._v("channel")]),t._v(", along with arguments. Arguments will be serialized with the [Structured Clone Algorithm][SCA], just like ["),s("code",[t._v("postMessage")]),t._v("][], so prototype chains will not be included. 发送 Functions, Promises, Symbols, WeakMaps, 或 WeakSets 将抛出异常")]),t._v(" "),s("p",[t._v("The renderer process can handle the message by listening to "),s("code",[t._v("channel")]),t._v(" with the "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/ipc-renderer.html"}},[s("code",[t._v("ipcRenderer")])]),t._v(" module.")],1),t._v(" "),s("h4",{attrs:{id:"frame-postmessage-channel-message-transfer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-postmessage-channel-message-transfer"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.postMessage(channel, message, [transfer])")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("channel")]),t._v(" String")]),t._v(" "),s("li",[s("code",[t._v("message")]),t._v(" any")]),t._v(" "),s("li",[s("code",[t._v("transfer")]),t._v(" MessagePortMain[] (可选)")])]),t._v(" "),s("p",[t._v("Send a message to the renderer process, optionally transferring ownership of zero or more ["),s("code",[t._v("MessagePortMain")]),t._v("][] objects.")]),t._v(" "),s("p",[t._v("The transferred "),s("code",[t._v("MessagePortMain")]),t._v(" objects will be available in the renderer process by accessing the "),s("code",[t._v("ports")]),t._v(" property of the emitted event. When they arrive in the renderer, they will be native DOM "),s("code",[t._v("MessagePort")]),t._v(" objects.")]),t._v(" "),s("p",[t._v("例如：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Main process")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" port1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" port2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageChannelMain")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwebContents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mainFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'port'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("message")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("port1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Renderer process")]),t._v("\nipcRenderer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'port'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("port"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ports\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"实例属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例属性"}},[t._v("#")]),t._v(" 实例属性")]),t._v(" "),s("h4",{attrs:{id:"frame-url-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-url-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.url")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("A "),s("code",[t._v("string")]),t._v(" representing the current URL of the frame.")]),t._v(" "),s("h4",{attrs:{id:"frame-top-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-top-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.top")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("A "),s("code",[t._v("WebFrameMain | null")]),t._v(" representing top frame in the frame hierarchy to which "),s("code",[t._v("frame")]),t._v(" belongs.")]),t._v(" "),s("h4",{attrs:{id:"frame-parent-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-parent-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.parent")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("A "),s("code",[t._v("WebFrameMain | null")]),t._v(" representing parent frame of "),s("code",[t._v("frame")]),t._v(", the property would be "),s("code",[t._v("null")]),t._v(" if "),s("code",[t._v("frame")]),t._v(" is the top frame in the frame hierarchy.")]),t._v(" "),s("h4",{attrs:{id:"frame-frames-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-frames-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.frames")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("A "),s("code",[t._v("WebFrameMain[]")]),t._v(" collection containing the direct descendents of "),s("code",[t._v("frame")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"frame-framesinsubtree-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-framesinsubtree-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.framesInSubtree")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("A "),s("code",[t._v("WebFrameMain[]")]),t._v(" collection containing every frame in the subtree of "),s("code",[t._v("frame")]),t._v(", including itself. This can be useful when traversing through all frames.")]),t._v(" "),s("h4",{attrs:{id:"frame-frametreenodeid-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-frametreenodeid-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.frameTreeNodeId")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("An "),s("code",[t._v("Integer")]),t._v(" representing the id of the frame's internal FrameTreeNode instance. This id is browser-global and uniquely identifies a frame that hosts content. The identifier is fixed at the creation of the frame and stays constant for the lifetime of the frame. When the frame is removed, the id is not used again.")]),t._v(" "),s("h4",{attrs:{id:"frame-name-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-name-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.name")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("A "),s("code",[t._v("String")]),t._v(" representing the frame name.")]),t._v(" "),s("h4",{attrs:{id:"frame-osprocessid-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-osprocessid-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.osProcessId")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("An "),s("code",[t._v("Integer")]),t._v(" representing the operating system "),s("code",[t._v("pid")]),t._v(" of the process which owns this frame.")]),t._v(" "),s("h4",{attrs:{id:"frame-processid-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-processid-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.processId")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("An "),s("code",[t._v("Integer")]),t._v(" representing the Chromium internal "),s("code",[t._v("pid")]),t._v(" of the process which owns this frame. This is not the same as the OS process ID; to read that use "),s("code",[t._v("frame.osProcessId")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"frame-routingid-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-routingid-readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.routingId")]),t._v(" "),s("em",[t._v("Readonly")])]),t._v(" "),s("p",[t._v("An "),s("code",[t._v("Integer")]),t._v(" representing the unique frame id in the current renderer process. Distinct "),s("code",[t._v("WebFrameMain")]),t._v(" instances that refer to the same underlying frame will have the same "),s("code",[t._v("routingId")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"frame-visibilitystate-只读"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frame-visibilitystate-只读"}},[t._v("#")]),t._v(" "),s("code",[t._v("frame.visibilityState")]),t._v(" "),s("em",[t._v("只读")])]),t._v(" "),s("p",[t._v("A "),s("code",[t._v("string")]),t._v(" representing the "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Document/visibilityState",target:"_blank",rel:"noopener noreferrer"}},[t._v("visibility state"),s("OutboundLink")],1),t._v(" of the frame.")]),t._v(" "),s("p",[t._v("See also how the "),s("RouterLink",{attrs:{to:"/《Electron中文文档》/api/browser-window.html#page-visibility"}},[t._v("Page Visibility API")]),t._v(" is affected by other Electron APIs.")],1)])}),[],!1,null,null,null);e.default=n.exports}}]);