(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{571:function(e,t,r){"use strict";r.r(t);var o=r(20),a=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"powermonitor"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#powermonitor"}},[e._v("#")]),e._v(" powerMonitor")]),e._v(" "),r("blockquote",[r("p",[e._v("监视电源状态的改变。")])]),e._v(" "),r("p",[e._v("进程："),r("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[e._v("主进程")])],1),e._v(" "),r("h2",{attrs:{id:"事件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[e._v("#")]),e._v(" 事件")]),e._v(" "),r("p",[r("code",[e._v("powerMonitor")]),e._v(" 模块触发以下事件:")]),e._v(" "),r("h3",{attrs:{id:"event-suspend"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-suspend"}},[e._v("#")]),e._v(" Event: 'suspend'")]),e._v(" "),r("p",[e._v("在系统挂起时触发。")]),e._v(" "),r("h3",{attrs:{id:"event-resume"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-resume"}},[e._v("#")]),e._v(" Event: 'resume'")]),e._v(" "),r("p",[e._v("在系统恢复时触发。")]),e._v(" "),r("h3",{attrs:{id:"event-on-ac-macos-windows"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-on-ac-macos-windows"}},[e._v("#")]),e._v(" Event: 'on-ac' "),r("em",[e._v("macOS")]),e._v(" "),r("em",[e._v("Windows")])]),e._v(" "),r("p",[e._v("当系统变为交流电源时触发。")]),e._v(" "),r("h3",{attrs:{id:"event-on-battery-macos-windows"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-on-battery-macos-windows"}},[e._v("#")]),e._v(" Event: 'on-battery' "),r("em",[e._v("macOS")]),e._v(" "),r("em",[e._v("Windows")])]),e._v(" "),r("p",[e._v("当系统更改为电池电量时触发。")]),e._v(" "),r("h3",{attrs:{id:"event-shutdown-linux-macos"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-shutdown-linux-macos"}},[e._v("#")]),e._v(" Event: 'shutdown' "),r("em",[e._v("Linux")]),e._v(" "),r("em",[e._v("macOS")])]),e._v(" "),r("p",[e._v("当系统即将重启或关机时触发。 如果事件调用"),r("code",[e._v("e.preventDefault()")]),e._v(", Electron 将会尝试延迟系统关机，以便 app 完全退出。 如果"),r("code",[e._v("e.preventDefault()")]),e._v("被调用，在调用类似 "),r("code",[e._v("app.quit()")]),e._v(" 后，app 会很快地退出。")]),e._v(" "),r("h3",{attrs:{id:"event-lock-screen-macos-windows"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-lock-screen-macos-windows"}},[e._v("#")]),e._v(" Event: 'lock-screen' "),r("em",[e._v("macOS")]),e._v(" "),r("em",[e._v("Windows")])]),e._v(" "),r("p",[e._v("当系统即将锁定屏幕时触发。")]),e._v(" "),r("h3",{attrs:{id:"event-unlock-screen-macos-windows"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#event-unlock-screen-macos-windows"}},[e._v("#")]),e._v(" Event: 'unlock-screen' "),r("em",[e._v("macOS")]),e._v(" "),r("em",[e._v("Windows")])]),e._v(" "),r("p",[e._v("当系统屏幕解锁，立即触发。")]),e._v(" "),r("h3",{attrs:{id:"事件-user-did-groupe-active-macos"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#事件-user-did-groupe-active-macos"}},[e._v("#")]),e._v(" 事件: 'user-did-groupe-active' "),r("em",[e._v("macOS")])]),e._v(" "),r("p",[e._v("当应用被激活时发出。 更多信息请访问 "),r("a",{attrs:{href:"https://developer.apple.com/documentation/appkit/nsworkspacesessiondidbecomeactivenotification?language=objc",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("h3",{attrs:{id:"事件-user-did-resign-active-macos"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#事件-user-did-resign-active-macos"}},[e._v("#")]),e._v(" 事件: 'user-did-resign-active' "),r("em",[e._v("macOS")])]),e._v(" "),r("p",[e._v("当应用被激活时发出。 更多信息请访问 "),r("a",{attrs:{href:"https://developer.apple.com/documentation/appkit/nsworkspacesessiondidresignactivenotification?language=objc",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("h2",{attrs:{id:"方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[e._v("#")]),e._v(" 方法")]),e._v(" "),r("p",[r("code",[e._v("电源监视器")]),e._v(" 模块具有以下方法：")]),e._v(" "),r("h3",{attrs:{id:"powermonitor-getsystemidlestate-idlethreshold"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#powermonitor-getsystemidlestate-idlethreshold"}},[e._v("#")]),e._v(" "),r("code",[e._v("powerMonitor.getSystemIdleState(idleThreshold)")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("idleThreshold")]),e._v(" Integer")])]),e._v(" "),r("p",[e._v("Returns "),r("code",[e._v("String")]),e._v(" - 系统当前状态。 可以被设置为"),r("code",[e._v("active")]),e._v("，"),r("code",[e._v("idle")]),e._v("，"),r("code",[e._v("locked")]),e._v("或者"),r("code",[e._v("unknown")])]),e._v(" "),r("p",[e._v("计算系统空闲状态。 "),r("code",[e._v("idleThreshold")]),e._v(" 是闲置之前 (秒内) 的时间量。  "),r("code",[e._v("locked")]),e._v(" 仅在支持的系统上可用。")]),e._v(" "),r("h3",{attrs:{id:"powermonitor-getsystemidletime"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#powermonitor-getsystemidletime"}},[e._v("#")]),e._v(" "),r("code",[e._v("powerMonitor.getSystemIdleTime()")])]),e._v(" "),r("p",[e._v("Returns "),r("code",[e._v("Integer")]),e._v(" - 几秒钟内的空闲时间")]),e._v(" "),r("p",[e._v("计算系统空闲时间以秒为单位。")]),e._v(" "),r("h3",{attrs:{id:"powermonitor-isonbatterypower"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#powermonitor-isonbatterypower"}},[e._v("#")]),e._v(" "),r("code",[e._v("powerMonitor.isOnBatteryPower()")])]),e._v(" "),r("p",[e._v("返回"),r("code",[e._v("Boolean")]),e._v("，表示系统是否使用电池电源。")]),e._v(" "),r("p",[e._v("要监视此属性的变化，请使用 "),r("code",[e._v("on-battery")]),e._v(" 和 "),r("code",[e._v("on-ac<")]),e._v(" 事件。")]),e._v(" "),r("h2",{attrs:{id:"属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[e._v("#")]),e._v(" 属性")]),e._v(" "),r("h3",{attrs:{id:"powermonitor-onbatterypower"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#powermonitor-onbatterypower"}},[e._v("#")]),e._v(" "),r("code",[e._v("powerMonitor.onBatteryPower")])]),e._v(" "),r("p",[r("code",[e._v("Boolean")]),e._v(" 属性。 如果系统处于电池电源状态，则为 true。")]),e._v(" "),r("p",[e._v("参见 "),r("a",{attrs:{href:"#powermonitorisonbatterypower"}},[r("code",[e._v("powerMonitor.isOnBatteryPower()")])]),e._v("。")])])}),[],!1,null,null,null);t.default=a.exports}}]);