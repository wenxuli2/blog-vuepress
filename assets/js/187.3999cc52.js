(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{665:function(t,s,e){"use strict";e.r(s);var a=e(20),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"重大更改"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重大更改"}},[t._v("#")]),t._v(" 重大更改")]),t._v(" "),e("p",[t._v("这里将记录重大更改,并在可能的情况下向JS代码添加弃用警告,在这更改之前至少会有"),e("RouterLink",{attrs:{to:"/《Electron中文文档》/tutorial/electron-versioning.html#semver"}},[t._v("一个重要版本")]),t._v(".")],1),t._v(" "),e("h3",{attrs:{id:"重大更改的类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重大更改的类型"}},[t._v("#")]),t._v(" 重大更改的类型")]),t._v(" "),e("p",[t._v("本文档使用以下约定对重大更改进行分类：")]),t._v(" "),e("ul",[e("li",[t._v("**API 更改：**已更改的 API 会以某种方式使未更新的代码必定抛出异常。")]),t._v(" "),e("li",[t._v("**行为改变：**Electron 的行为已经改变，但并不一定抛出相应的异常。")]),t._v(" "),e("li",[t._v("**默认值更改：**依赖于默认值的代码的行为可能被破坏，但不保证会抛出相应的异常。 您可以通过显式指定该值的方式恢复旧的默认行为。")]),t._v(" "),e("li",[t._v("**已废弃：**该 API 已标记为废弃。 该 API 依旧可正常运作，但会抛出已废弃警告，并在将来会移除。")]),t._v(" "),e("li",[t._v("**已移除：**该 API 或功能已移除，Electron团队不再对此提供支持。")])]),t._v(" "),e("h2",{attrs:{id:"计划重写的-api-14-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计划重写的-api-14-0"}},[t._v("#")]),t._v(" 计划重写的 API (14.0)")]),t._v(" "),e("h3",{attrs:{id:"removed-remote-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#removed-remote-module"}},[t._v("#")]),t._v(" Removed: "),e("code",[t._v("remote")]),t._v(" module")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("remote")]),t._v(" module was deprecated in Electron 12, and will be removed in Electron 14. 由"),e("a",{attrs:{href:"https://github.com/electron/remote",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("@electronic/remote")]),e("OutboundLink")],1),t._v(" 模块替代。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated in Electron 12:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserWindow "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remote\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为：")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserWindow "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@electron/remote'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在主进程中：")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@electron/remote/main'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"已移除-app-allowrendererprocessreuse"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-app-allowrendererprocessreuse"}},[t._v("#")]),t._v(" 已移除： "),e("code",[t._v("app.allowRendererProcessReuse")])]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("app.allowRendererProcessReuse")]),t._v(" property will be removed as part of our plan to more closely align with Chromium's process model for security, performance and maintainability.")]),t._v(" "),e("p",[t._v("For more detailed information see "),e("a",{attrs:{href:"https://github.com/electron/electron/issues/18397",target:"_blank",rel:"noopener noreferrer"}},[t._v("#18397"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"removed-browser-window-affinity"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#removed-browser-window-affinity"}},[t._v("#")]),t._v(" Removed: Browser Window Affinity")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("affinity")]),t._v(" option when constructing a new "),e("code",[t._v("BrowserWindow")]),t._v(" will be removed as part of our plan to more closely align with Chromium's process model for security, performance and maintainability.")]),t._v(" "),e("p",[t._v("For more detailed information see "),e("a",{attrs:{href:"https://github.com/electron/electron/issues/18397",target:"_blank",rel:"noopener noreferrer"}},[t._v("#18397"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"api-更改-window-open"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-更改-window-open"}},[t._v("#")]),t._v(" API 更改： "),e("code",[t._v("window.open()")])]),t._v(" "),e("p",[t._v("可选参数 "),e("code",[t._v("frameName")]),t._v(" 将不再设置窗口的标题。 该功能现在遵循 "),e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/open#parameters",target:"_blank",rel:"noopener noreferrer"}},[t._v("原生文档"),e("OutboundLink")],1),t._v(" 中的约束，由名为 "),e("code",[t._v("windowName")]),t._v(" 的参数控制。")]),t._v(" "),e("p",[t._v("若您之前使用了该参数用于设置窗口标题，您可以转而使用 "),e("RouterLink",{attrs:{to:"/《Electron中文文档》/api/browser-window.html#winsettitletitle"}},[t._v("win.setTitle(title)")]),t._v("。")],1),t._v(" "),e("h3",{attrs:{id:"已移除-worldsafeexecutejavascript"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-worldsafeexecutejavascript"}},[t._v("#")]),t._v(" 已移除： "),e("code",[t._v("worldSafeExecuteJavaScript")])]),t._v(" "),e("p",[t._v("在 Electron 14, "),e("code",[t._v("worldSafeExecuteJavaScript")]),t._v(" 将被移除。  除此之外没有其他方式，请保证您的代码中包含该属性。  Electron 12中默认启用该属性。\n12.")]),t._v(" "),e("p",[t._v("若您使用了 "),e("code",[t._v("webFrame.executeJavaScript")]),t._v(" 或 "),e("code",[t._v("webFrame.executeJavaScriptInIsolatedWorld")]),t._v("，这个改动会对您造成影响。 您需要保证 "),e("RouterLink",{attrs:{to:"/《Electron中文文档》/api/context-bridge.html#parameter--error--return-type-support"}},[t._v("Context Bridge API")]),t._v(" 支持这些方法的返回值，因为这些方法使用相同的值传递语义。")],1),t._v(" "),e("h3",{attrs:{id:"默认更改-nativewindowopen-默认为-true"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#默认更改-nativewindowopen-默认为-true"}},[t._v("#")]),t._v(" 默认更改： "),e("code",[t._v("nativeWindowOpen")]),t._v(" 默认为 "),e("code",[t._v("true")])]),t._v(" "),e("p",[t._v("Prior to Electron 14, "),e("code",[t._v("window.open")]),t._v(" was by default shimmed to use "),e("code",[t._v("BrowserWindowProxy")]),t._v(". This meant that "),e("code",[t._v("window.open('about:blank')")]),t._v(" did not work to open synchronously scriptable child windows, among other incompatibilities. "),e("code",[t._v("nativeWindowOpen")]),t._v(" is no longer experimental, and is now the default.")]),t._v(" "),e("p",[t._v("See the documentation for "),e("RouterLink",{attrs:{to:"/《Electron中文文档》/api/window-open.html"}},[t._v("window.open in Electron")]),t._v(" for more details.")],1),t._v(" "),e("h3",{attrs:{id:"removed-browserwindowconstructoroptions-inheriting-from-parent-windows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#removed-browserwindowconstructoroptions-inheriting-from-parent-windows"}},[t._v("#")]),t._v(" Removed: BrowserWindowConstructorOptions inheriting from parent windows")]),t._v(" "),e("p",[t._v("Prior to Electron 14, windows opened with "),e("code",[t._v("window.open")]),t._v(" would inherit BrowserWindow constructor options such as "),e("code",[t._v("transparent")]),t._v(" and "),e("code",[t._v("resizable")]),t._v(" from their parent window. Beginning with Electron 14, this behavior is removed, and windows will not inherit any BrowserWindow constructor options from their parents.")]),t._v(" "),e("p",[t._v("Instead, explicitly set options for the new window with "),e("code",[t._v("setWindowOpenHandler")]),t._v(":")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("webContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setWindowOpenHandler")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("details")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'allow'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("overrideBrowserWindowOptions")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"已移除-additionalfeatures"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-additionalfeatures"}},[t._v("#")]),t._v(" 已移除： "),e("code",[t._v("additionalFeatures")])]),t._v(" "),e("p",[t._v("The deprecated "),e("code",[t._v("additionalFeatures")]),t._v(" property in the "),e("code",[t._v("new-window")]),t._v(" and "),e("code",[t._v("did-create-window")]),t._v(" events of WebContents has been removed. Since "),e("code",[t._v("new-window")]),t._v(" uses positional arguments, the argument is still present, but will always be the empty array "),e("code",[t._v("[]")]),t._v(". (Though note, the "),e("code",[t._v("new-window")]),t._v(" event itself is deprecated, and is replaced by "),e("code",[t._v("setWindowOpenHandler")]),t._v(".) Bare keys in window features will now present as keys with the value "),e("code",[t._v("true")]),t._v(" in the options object.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Removed in Electron 14")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Triggered by window.open('...', '', 'my-key')")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'did-create-window'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" details")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("details"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("additionalFeatures"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-key'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'did-create-window'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" details")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("details"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-key'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br")])]),e("h2",{attrs:{id:"计划重写的-api-13-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计划重写的-api-13-0"}},[t._v("#")]),t._v(" 计划重写的 API (13.0)")]),t._v(" "),e("h3",{attrs:{id:"api-更改-session-setpermissioncheckhandler-handler"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-更改-session-setpermissioncheckhandler-handler"}},[t._v("#")]),t._v(" API 更改： "),e("code",[t._v("session.setPermissionCheckHandler(handler)")])]),t._v(" "),e("p",[e("code",[t._v("handler")]),t._v(" 方法的第一个参数曾是 "),e("code",[t._v("webContents")]),t._v("，但现在可以为 "),e("code",[t._v("null")]),t._v("。  为正确响应权限检查，您需要使用"),e("code",[t._v("requestingOrigin")]),t._v("、"),e("code",[t._v("embeddingOrigin")]),t._v(" 和 "),e("code",[t._v("securityOrigin")]),t._v(" 这些属性。  因为 "),e("code",[t._v("webContents")]),t._v(" 现在可能为 "),e("code",[t._v("null")]),t._v("，您不应当依赖此参数。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 旧代码")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPermissionCheckHandler")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("webContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" permission")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("webContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getURL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("startsWith")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://google.com/'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" permission "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'notification'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 变更为")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPermissionCheckHandler")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("webContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" permission"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" requestingOrigin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("requestingOrigin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostname "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'google.com'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" permission "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'notification'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br")])]),e("h3",{attrs:{id:"已移除-shell-moveitemtotrash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-shell-moveitemtotrash"}},[t._v("#")]),t._v(" 已移除： "),e("code",[t._v("shell.moveItemToTrash()")])]),t._v(" "),e("p",[t._v("已废弃的同步方法 "),e("code",[t._v("shell.moveItemToTrash()")]),t._v(" 已移除。 作为替代，您应当使用异步的 "),e("code",[t._v("shell.trashItem()")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 13 移除")]),t._v("\nshell"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveItemToTrash")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nshell"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("trashItem")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"已移除-browserwindow-扩展-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-browserwindow-扩展-api"}},[t._v("#")]),t._v(" 已移除： "),e("code",[t._v("BrowserWindow")]),t._v(" 扩展 API")]),t._v(" "),e("p",[t._v("移除已弃用的扩展 API：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("BrowserWindow.addExtension(path)")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.addDevToolsExtension(path)")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.removeExtension(name)")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.removeDevToolsExtension(name)")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.getExtensions()")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.getDevToolsExtensions()")])])]),t._v(" "),e("p",[t._v("改为使用 session API：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("ses.loadExtension(path)")])]),t._v(" "),e("li",[e("code",[t._v("ses.removeExtension(extension_id)")])]),t._v(" "),e("li",[e("code",[t._v("ses.getAllExtensions()")])])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 13 移除")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addDevToolsExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultSession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 13 移除")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeDevToolsExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultSession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("extension_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 13 移除")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getExtensions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDevToolsExtensions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultSession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAllExtensions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"已移除-systempreferences-中的方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-systempreferences-中的方法"}},[t._v("#")]),t._v(" 已移除： "),e("code",[t._v("systemPreferences")]),t._v(" 中的方法")]),t._v(" "),e("p",[e("code",[t._v("systemPreferences")]),t._v(" 方法已经被废弃：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("systemPreferences.isDarkMode()")])]),t._v(" "),e("li",[e("code",[t._v("systemPreferences.isInvertedColorScheme()")])]),t._v(" "),e("li",[e("code",[t._v("systemPreferences.isHighContrastColorScheme()")])])]),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("nativeTheme")]),t._v(" 属性作为替代：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("nativeTheme.shouldUseDarkColors")])]),t._v(" "),e("li",[e("code",[t._v("nativeTheme.shouldUseInvertedColorScheme")])]),t._v(" "),e("li",[e("code",[t._v("nativeTheme.shouldUseHighContrastColors")])])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 13 移除")]),t._v("\nsystemPreferences"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDarkMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nnativeTheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shouldUseDarkColors\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 13 移除")]),t._v("\nsystemPreferences"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isInvertedColorScheme")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nnativeTheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shouldUseInvertedColorScheme\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 13 移除")]),t._v("\nsystemPreferences"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isHighContrastColorScheme")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nnativeTheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shouldUseHighContrastColors\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br")])]),e("h3",{attrs:{id:"已废弃-webcontents-new-window-事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已废弃-webcontents-new-window-事件"}},[t._v("#")]),t._v(" 已废弃: WebContents "),e("code",[t._v("new-window")]),t._v(" 事件")]),t._v(" "),e("p",[t._v("WebContents 中的 "),e("code",[t._v("new-window")]),t._v(" 事件已经被废弃。 已弃用："),e("RouterLink",{attrs:{to:"/《Electron中文文档》/api/web-contents.html#contentssetwindowopenhandlerhandler"}},[e("code",[t._v("webContents.setWindowOpenHandler()")])]),t._v("。")],1),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 13 废弃")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'new-window'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setWindowOpenHandler")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("details")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deny'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h2",{attrs:{id:"计划重写的-api-12-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计划重写的-api-12-0"}},[t._v("#")]),t._v(" 计划重写的 API (12.0)")]),t._v(" "),e("h3",{attrs:{id:"已移除-pepper-flash-支持"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-pepper-flash-支持"}},[t._v("#")]),t._v(" 已移除：Pepper Flash 支持")]),t._v(" "),e("p",[t._v("Chromium 已经取消了对Flash的支持，因此我们必须效仿。 更多详细信息，请参阅 Chromium 的 "),e("a",{attrs:{href:"https://www.chromium.org/flash-roadmap",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Flash Roadmap"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"默认更改-worldsafeexecutejavascript-默认为-true"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#默认更改-worldsafeexecutejavascript-默认为-true"}},[t._v("#")]),t._v(" 默认更改： "),e("code",[t._v("worldSafeExecuteJavaScript")]),t._v(" 默认为 "),e("code",[t._v("true")])]),t._v(" "),e("p",[t._v("在 Electron 12, "),e("code",[t._v("worldSafeExecuteJavaScript")]),t._v(" 将默认启用。  要恢复 上一个行为， "),e("code",[t._v("worldSafeExecuteJavaScript: false")]),t._v(" 必须在 Web 首选项中指定。 请注意，设置此选项为 "),e("code",[t._v("false")]),t._v(" 是"),e("strong",[t._v("不安全")]),t._v("的。")]),t._v(" "),e("p",[t._v("此选项将在 Electron 14 中删除，所以请迁移您的代码以支持默认 值。")]),t._v(" "),e("h3",{attrs:{id:"默认更改-contextisolation-默认为-true"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#默认更改-contextisolation-默认为-true"}},[t._v("#")]),t._v(" 默认更改： "),e("code",[t._v("contextIsolation")]),t._v(" 默认为 "),e("code",[t._v("true")])]),t._v(" "),e("p",[t._v("在 Electron 12, "),e("code",[t._v("contextIsolation")]),t._v(" 将默认启用。  要恢复 上一个行为， "),e("code",[t._v("contextIsolation: false")]),t._v(" 必须在 Web 首选项中指定。")]),t._v(" "),e("p",[t._v("我们 "),e("RouterLink",{attrs:{to:"/《Electron中文文档》/tutorial/security.html#3-enable-context-isolation-for-remote-content"}},[t._v("建议启用contextIsolation")]),t._v(" ，以保证您的应用程序的安全性。")],1),t._v(" "),e("p",[t._v("Another implication is that "),e("code",[t._v("require()")]),t._v(" cannot be used in the renderer process unless "),e("code",[t._v("nodeIntegration")]),t._v(" is "),e("code",[t._v("true")]),t._v(" and "),e("code",[t._v("contextIsolation")]),t._v(" is "),e("code",[t._v("false")]),t._v(".")]),t._v(" "),e("p",[t._v("更多信息请参阅：https://github.com/electron/electron/issues/23506")]),t._v(" "),e("h3",{attrs:{id:"已移除-crashreporter-getcrashesdirectory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-crashreporter-getcrashesdirectory"}},[t._v("#")]),t._v(" 已移除： "),e("code",[t._v("crashReporter.getCrashesDirectory()")])]),t._v(" "),e("p",[e("code",[t._v("crashReporter.getCrashesDirectory")]),t._v(" 方法已被删除。 这个方法 应该被 "),e("code",[t._v("app.getPath('crashDumps')")]),t._v("替换。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 12 移除")]),t._v("\ncrashReporter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCrashesDirectory")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPath")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'crashDumps'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"removed-crashreporter-methods-in-the-renderer-process"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#removed-crashreporter-methods-in-the-renderer-process"}},[t._v("#")]),t._v(" Removed: "),e("code",[t._v("crashReporter")]),t._v(" methods in the renderer process")]),t._v(" "),e("p",[e("code",[t._v("crashReporter")]),t._v(" 方法在渲染进程中不再能使用：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("crashReporter.start")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.getLastCrashReport")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.getUploadedReports")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.getUploadToServer")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.setUploadToServer")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.getCrashesDirectory")])])]),t._v(" "),e("p",[t._v("它们只应从主要进程中调用。")]),t._v(" "),e("p",[t._v("更多详细信息请访问 "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/23265",target:"_blank",rel:"noopener noreferrer"}},[t._v("#23265"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"default-changed-crashreporter-start-compress-true"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#default-changed-crashreporter-start-compress-true"}},[t._v("#")]),t._v(" Default Changed: "),e("code",[t._v("crashReporter.start({ compress: true })")])]),t._v(" "),e("p",[t._v("The default value of the "),e("code",[t._v("compress")]),t._v(" option to "),e("code",[t._v("crashReporter.start")]),t._v(" has changed from "),e("code",[t._v("false")]),t._v(" to "),e("code",[t._v("true")]),t._v(". This means that crash dumps will be uploaded to the crash ingestion server with the "),e("code",[t._v("Content-Encoding: gzip")]),t._v(" header, and the body will be compressed.")]),t._v(" "),e("p",[t._v("If your crash ingestion server does not support compressed payloads, you can turn off compression by specifying "),e("code",[t._v("{ compress: false }")]),t._v(" in the crash reporter options.")]),t._v(" "),e("h3",{attrs:{id:"已废弃-remote-模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已废弃-remote-模块"}},[t._v("#")]),t._v(" 已废弃： "),e("code",[t._v("remote")]),t._v(" 模块")]),t._v(" "),e("p",[e("code",[t._v("remote")]),t._v(" 模块在 Electron 12 废弃，并将在 Electron 14 被移除 由"),e("a",{attrs:{href:"https://github.com/electron/remote",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("@electronic/remote")]),e("OutboundLink")],1),t._v(" 模块替代。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated in Electron 12:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserWindow "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remote\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为：")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserWindow "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@electron/remote'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在主进程中：")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@electron/remote/main'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"已废弃-shell-moveitemtotrash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已废弃-shell-moveitemtotrash"}},[t._v("#")]),t._v(" 已废弃："),e("code",[t._v("shell.moveItemToTrash()")])]),t._v(" "),e("p",[t._v("The synchronous "),e("code",[t._v("shell.moveItemToTrash()")]),t._v(" has been replaced by the new, asynchronous "),e("code",[t._v("shell.trashItem()")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 12 废弃")]),t._v("\nshell"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveItemToTrash")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nshell"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("trashItem")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h2",{attrs:{id:"计划重写的-api-11-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计划重写的-api-11-0"}},[t._v("#")]),t._v(" 计划重写的 API (11.0)")]),t._v(" "),e("h3",{attrs:{id:"removed-browserview-destroy-fromid-fromwebcontents-getallviews-and-id-property-of-browserview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#removed-browserview-destroy-fromid-fromwebcontents-getallviews-and-id-property-of-browserview"}},[t._v("#")]),t._v(" Removed: "),e("code",[t._v("BrowserView.{destroy, fromId, fromWebContents, getAllViews}")]),t._v(" and "),e("code",[t._v("id")]),t._v(" property of "),e("code",[t._v("BrowserView")])]),t._v(" "),e("p",[t._v("The experimental APIs "),e("code",[t._v("BrowserView.{destroy, fromId, fromWebContents, getAllViews}")]),t._v(" have now been removed. Additionally, the "),e("code",[t._v("id")]),t._v(" property of "),e("code",[t._v("BrowserView")]),t._v(" has also been removed.")]),t._v(" "),e("p",[t._v("For more detailed information, see "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/23578",target:"_blank",rel:"noopener noreferrer"}},[t._v("#23578"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"计划重写的-api-10-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计划重写的-api-10-0"}},[t._v("#")]),t._v(" 计划重写的 API (10.0)")]),t._v(" "),e("h3",{attrs:{id:"deprecated-companyname-argument-to-crashreporter-start"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-companyname-argument-to-crashreporter-start"}},[t._v("#")]),t._v(" Deprecated: "),e("code",[t._v("companyName")]),t._v(" argument to "),e("code",[t._v("crashReporter.start()")])]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("companyName")]),t._v(" argument to "),e("code",[t._v("crashReporter.start()")]),t._v(", which was previously required, is now optional, and further, is deprecated. To get the same behavior in a non-deprecated way, you can pass a "),e("code",[t._v("companyName")]),t._v(" value in "),e("code",[t._v("globalExtra")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated in Electron 10")]),t._v("\ncrashReporter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("companyName")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Umbrella Corporation'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\ncrashReporter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("globalExtra")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_companyName")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Umbrella Corporation'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"已废弃-crashreporter-getcrashesdirectory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已废弃-crashreporter-getcrashesdirectory"}},[t._v("#")]),t._v(" 已废弃："),e("code",[t._v("crashReporter.getCrashesDirectory()")])]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("crashReporter.getCrashesDirectory")]),t._v(" method has been deprecated. 这个方法 应该被 "),e("code",[t._v("app.getPath('crashDumps')")]),t._v("替换。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated in Electron 10")]),t._v("\ncrashReporter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCrashesDirectory")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPath")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'crashDumps'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"已废弃-渲染进程中的-crashreporter-方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已废弃-渲染进程中的-crashreporter-方法"}},[t._v("#")]),t._v(" 已废弃：渲染进程中的 "),e("code",[t._v("crashReporter")]),t._v(" 方法")]),t._v(" "),e("p",[t._v("Calling the following "),e("code",[t._v("crashReporter")]),t._v(" methods from the renderer process is deprecated:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("crashReporter.start")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.getLastCrashReport")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.getUploadedReports")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.getUploadToServer")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.setUploadToServer")])]),t._v(" "),e("li",[e("code",[t._v("crashReporter.getCrashesDirectory")])])]),t._v(" "),e("p",[t._v("The only non-deprecated methods remaining in the "),e("code",[t._v("crashReporter")]),t._v(" module in the renderer are "),e("code",[t._v("addExtraParameter")]),t._v(", "),e("code",[t._v("removeExtraParameter")]),t._v(" and "),e("code",[t._v("getParameters")]),t._v(".")]),t._v(" "),e("p",[t._v("当从主要进程调用时，上述所有方法均未被弃用。")]),t._v(" "),e("p",[t._v("更多详细信息请访问 "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/23265",target:"_blank",rel:"noopener noreferrer"}},[t._v("#23265"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"已废弃-crashreporter-start-compress-false"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已废弃-crashreporter-start-compress-false"}},[t._v("#")]),t._v(" 已废弃："),e("code",[t._v("crashReporter.start({ compress: false })")])]),t._v(" "),e("p",[t._v("Setting "),e("code",[t._v("{ compress: false }")]),t._v(" in "),e("code",[t._v("crashReporter.start")]),t._v(" is deprecated. Nearly all crash ingestion servers support gzip compression. 此选项将在未来版本的 Electron 中删除。")]),t._v(" "),e("h3",{attrs:{id:"默认更改-enableremotemodule-默认为-false"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#默认更改-enableremotemodule-默认为-false"}},[t._v("#")]),t._v(" 默认更改： "),e("code",[t._v("enableRemoteModule")]),t._v(" 默认为 "),e("code",[t._v("false")])]),t._v(" "),e("p",[t._v("In Electron 9, using the remote module without explicitly enabling it via the "),e("code",[t._v("enableRemoteModule")]),t._v(" WebPreferences option began emitting a warning. In Electron 10, the remote module is now disabled by default. To use the remote module, "),e("code",[t._v("enableRemoteModule: true")]),t._v(" must be specified in WebPreferences:")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" w "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("webPreferences")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("enableRemoteModule")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("We "),e("a",{attrs:{href:"https://medium.com/@nornagon/electrons-remote-module-considered-harmful-70d69500f31",target:"_blank",rel:"noopener noreferrer"}},[t._v("recommend moving away from the remote module"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"protocol-unregisterprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-unregisterprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.unregisterProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-uninterceptprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-uninterceptprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.uninterceptProtocol")])]),t._v(" "),e("p",[t._v("这些 APIs 现在是同步的，不再需要可选的回调。")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\nprotocol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("unregisterProtocol")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\nprotocol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("unregisterProtocol")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"protocol-registerfileprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-registerfileprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.registerFileProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-registerbufferprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-registerbufferprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.registerBufferProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-registerstringprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-registerstringprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.registerStringProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-registerhttpprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-registerhttpprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.registerHttpProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-registerstreamprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-registerstreamprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.registerStreamProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-interceptfileprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-interceptfileprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.interceptFileProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-interceptstringprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-interceptstringprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.interceptStringProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-interceptbufferprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-interceptbufferprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.interceptBufferProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-intercepthttpprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-intercepthttpprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.interceptHttpProtocol")])]),t._v(" "),e("h3",{attrs:{id:"protocol-interceptstreamprotocol"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-interceptstreamprotocol"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.interceptStreamProtocol")])]),t._v(" "),e("p",[t._v("这些 APIs 现在是同步的，不再需要可选的回调。")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已废弃")]),t._v("\nprotocol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerFileProtocol")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nprotocol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerFileProtocol")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("The registered or intercepted protocol does not have effect on current page until navigation happens.")]),t._v(" "),e("h3",{attrs:{id:"protocol-isprotocolhandled"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocol-isprotocolhandled"}},[t._v("#")]),t._v(" "),e("code",[t._v("protocol.isProtocolHandled")])]),t._v(" "),e("p",[t._v("This API is deprecated and users should use "),e("code",[t._v("protocol.isProtocolRegistered")]),t._v(" and "),e("code",[t._v("protocol.isProtocolIntercepted")]),t._v(" instead.")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\nprotocol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isProtocolHandled")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isRegistered "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" protocol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isProtocolRegistered")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isIntercepted "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" protocol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isProtocolIntercepted")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h2",{attrs:{id:"计划重写的-api-9-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计划重写的-api-9-0"}},[t._v("#")]),t._v(" 计划重写的 API (9.0)")]),t._v(" "),e("h3",{attrs:{id:"default-changed-loading-non-context-aware-native-modules-in-the-renderer-process-is-disabled-by-default"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#default-changed-loading-non-context-aware-native-modules-in-the-renderer-process-is-disabled-by-default"}},[t._v("#")]),t._v(" Default Changed: Loading non-context-aware native modules in the renderer process is disabled by default")]),t._v(" "),e("p",[t._v("As of Electron 9 we do not allow loading of non-context-aware native modules in the renderer process.  This is to improve security, performance and maintainability of Electron as a project.")]),t._v(" "),e("p",[t._v("If this impacts you, you can temporarily set "),e("code",[t._v("app.allowRendererProcessReuse")]),t._v(" to "),e("code",[t._v("false")]),t._v(" to revert to the old behavior.  This flag will only be an option until Electron 11 so you should plan to update your native modules to be context aware.")]),t._v(" "),e("p",[t._v("For more detailed information see "),e("a",{attrs:{href:"https://github.com/electron/electron/issues/18397",target:"_blank",rel:"noopener noreferrer"}},[t._v("#18397"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"已废弃-browserwindow-扩展-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已废弃-browserwindow-扩展-api"}},[t._v("#")]),t._v(" 已废弃： "),e("code",[t._v("BrowserWindow")]),t._v(" 扩展 API")]),t._v(" "),e("p",[t._v("以下扩展 APIs 已废弃:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("BrowserWindow.addExtension(path)")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.addDevToolsExtension(path)")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.removeExtension(name)")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.removeDevToolsExtension(name)")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.getExtensions()")])]),t._v(" "),e("li",[e("code",[t._v("BrowserWindow.getDevToolsExtensions()")])])]),t._v(" "),e("p",[t._v("改为使用 session API：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("ses.loadExtension(path)")])]),t._v(" "),e("li",[e("code",[t._v("ses.removeExtension(extension_id)")])]),t._v(" "),e("li",[e("code",[t._v("ses.getAllExtensions()")])])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 9 废弃")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addDevToolsExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultSession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 9 废弃")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeDevToolsExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultSession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("extension_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 9 废弃")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getExtensions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nBrowserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDevToolsExtensions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultSession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAllExtensions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"已移除-webview-getwebcontents"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-webview-getwebcontents"}},[t._v("#")]),t._v(" 已移除： "),e("code",[t._v("<webview>.getWebContents()")])]),t._v(" "),e("p",[t._v("此API在 Electron 8.0中被废弃，现已删除。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Electron 9.0 移除")]),t._v("\nwebview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWebContents")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" remote "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nremote"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("webview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWebContentsId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"已移除-webframe-setlayoutzoomlevellimits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已移除-webframe-setlayoutzoomlevellimits"}},[t._v("#")]),t._v(" 已移除： "),e("code",[t._v("webFrame.setLayoutZoomLevelLimits()")])]),t._v(" "),e("p",[t._v("Chromium has removed support for changing the layout zoom level limits, and it is beyond Electron's capacity to maintain it. 函数在 Electron 8.x 废弃，并将在 Electron 9.x 被移除。 The layout zoom level limits are now fixed at a minimum of 0.25 and a maximum of 5.0, as defined "),e("a",{attrs:{href:"https://chromium.googlesource.com/chromium/src/+/938b37a6d2886bf8335fc7db792f1eb46c65b2ae/third_party/blink/common/page/page_zoom.cc#11",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"behavior-changed-sending-non-js-objects-over-ipc-now-throws-an-exception"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#behavior-changed-sending-non-js-objects-over-ipc-now-throws-an-exception"}},[t._v("#")]),t._v(" Behavior Changed: Sending non-JS objects over IPC now throws an exception")]),t._v(" "),e("p",[t._v("In Electron 8.0, IPC was changed to use the Structured Clone Algorithm, bringing significant performance improvements. To help ease the transition, the old IPC serialization algorithm was kept and used for some objects that aren't serializable with Structured Clone. In particular, DOM objects (e.g. "),e("code",[t._v("Element")]),t._v(", "),e("code",[t._v("Location")]),t._v(" and "),e("code",[t._v("DOMMatrix")]),t._v("), Node.js objects backed by C++ classes (e.g. "),e("code",[t._v("process.env")]),t._v(", some members of "),e("code",[t._v("Stream")]),t._v("), and Electron objects backed by C++ classes (e.g. "),e("code",[t._v("WebContents")]),t._v(", "),e("code",[t._v("BrowserWindow")]),t._v(" and "),e("code",[t._v("WebFrame")]),t._v(") are not serializable with Structured Clone. Whenever the old algorithm was invoked, a deprecation warning was printed.")]),t._v(" "),e("p",[t._v('In Electron 9.0, the old serialization algorithm has been removed, and sending such non-serializable objects will now throw an "object could not be cloned" error.')]),t._v(" "),e("h3",{attrs:{id:"api-changed-shell-openitem-is-now-shell-openpath"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-shell-openitem-is-now-shell-openpath"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("shell.openItem")]),t._v(" is now "),e("code",[t._v("shell.openPath")])]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("shell.openItem")]),t._v(" API has been replaced with an asynchronous "),e("code",[t._v("shell.openPath")]),t._v(" API. You can see the original API proposal and reasoning "),e("a",{attrs:{href:"https://github.com/electron/governance/blob/main/wg-api/spec-documents/shell-openitem.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"计划重写的-api-8-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计划重写的-api-8-0"}},[t._v("#")]),t._v(" 计划重写的 API (8.0)")]),t._v(" "),e("h3",{attrs:{id:"behavior-changed-values-sent-over-ipc-are-now-serialized-with-structured-clone-algorithm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#behavior-changed-values-sent-over-ipc-are-now-serialized-with-structured-clone-algorithm"}},[t._v("#")]),t._v(" Behavior Changed: Values sent over IPC are now serialized with Structured Clone Algorithm")]),t._v(" "),e("p",[t._v("The algorithm used to serialize objects sent over IPC (through "),e("code",[t._v("ipcRenderer.send")]),t._v(", "),e("code",[t._v("ipcRenderer.sendSync")]),t._v(", "),e("code",[t._v("WebContents.send")]),t._v(" and related methods) has been switched from a custom algorithm to V8's built-in "),e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm",target:"_blank",rel:"noopener noreferrer"}},[t._v("Structured Clone Algorithm"),e("OutboundLink")],1),t._v(", the same algorithm used to serialize messages for "),e("code",[t._v("postMessage")]),t._v(". This brings about a 2x performance improvement for large messages, but also brings some breaking changes in behavior.")]),t._v(" "),e("ul",[e("li",[t._v("Sending Functions, Promises, WeakMaps, WeakSets, or objects containing any such values, over IPC will now throw an exception, instead of silently converting the functions to "),e("code",[t._v("undefined")]),t._v(".")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Previously:")]),t._v("\nipcRenderer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'channel'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("someFunction")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => results in { value: 3 } arriving in the main process")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// From Electron 8:")]),t._v("\nipcRenderer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'channel'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("someFunction")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// => throws Error("() => {} could not be cloned.")')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("ul",[e("li",[e("code",[t._v("NaN")]),t._v(", "),e("code",[t._v("Infinity")]),t._v(" and "),e("code",[t._v("-Infinity")]),t._v(" will now be correctly serialized, instead of being converted to "),e("code",[t._v("null")]),t._v(".")]),t._v(" "),e("li",[t._v("Objects containing cyclic references will now be correctly serialized, instead of being converted to "),e("code",[t._v("null")]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("Set")]),t._v(", "),e("code",[t._v("Map")]),t._v(", "),e("code",[t._v("Error")]),t._v(" and "),e("code",[t._v("RegExp")]),t._v(" values will be correctly serialized, instead of being converted to "),e("code",[t._v("{}")]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("BigInt")]),t._v(" values will be correctly serialized, instead of being converted to "),e("code",[t._v("null")]),t._v(".")]),t._v(" "),e("li",[t._v("Sparse arrays will be serialized as such, instead of being converted to dense arrays with "),e("code",[t._v("null")]),t._v("s.")]),t._v(" "),e("li",[e("code",[t._v("Date")]),t._v(" objects will be transferred as "),e("code",[t._v("Date")]),t._v(" objects, instead of being converted to their ISO string representation.")]),t._v(" "),e("li",[t._v("Typed Arrays (such as "),e("code",[t._v("Uint8Array")]),t._v(", "),e("code",[t._v("Uint16Array")]),t._v(", "),e("code",[t._v("Uint32Array")]),t._v(" and so on) will be transferred as such, instead of being converted to Node.js "),e("code",[t._v("Buffer")]),t._v(".")]),t._v(" "),e("li",[t._v("Node.js "),e("code",[t._v("Buffer")]),t._v(" objects will be transferred as "),e("code",[t._v("Uint8Array")]),t._v("s. You can convert a "),e("code",[t._v("Uint8Array")]),t._v(" back to a Node.js "),e("code",[t._v("Buffer")]),t._v(" by wrapping the underlying "),e("code",[t._v("ArrayBuffer")]),t._v(":")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Buffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("byteOffset"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("byteLength"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("Sending any objects that aren't native JS types, such as DOM objects (e.g. "),e("code",[t._v("Element")]),t._v(", "),e("code",[t._v("Location")]),t._v(", "),e("code",[t._v("DOMMatrix")]),t._v("), Node.js objects (e.g. "),e("code",[t._v("process.env")]),t._v(", "),e("code",[t._v("Stream")]),t._v("), or Electron objects (e.g. "),e("code",[t._v("WebContents")]),t._v(", "),e("code",[t._v("BrowserWindow")]),t._v(", "),e("code",[t._v("WebFrame")]),t._v(") is deprecated. In Electron 8, these objects will be serialized as before with a DeprecationWarning message, but starting in Electron 9, sending these kinds of objects will throw a 'could not be cloned' error.")]),t._v(" "),e("h3",{attrs:{id:"已废弃-webview-getwebcontents"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已废弃-webview-getwebcontents"}},[t._v("#")]),t._v(" 已废弃： "),e("code",[t._v("<webview>.getWebContents()")])]),t._v(" "),e("p",[t._v("This API is implemented using the "),e("code",[t._v("remote")]),t._v(" module, which has both performance and security implications. Therefore its usage should be explicit.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\nwebview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWebContents")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" remote "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nremote"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("webview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWebContentsId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("However, it is recommended to avoid using the "),e("code",[t._v("remote")]),t._v(" module altogether.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ipcMain"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" webContents "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getGuestForWebContents")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("webContentsId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" contents")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" guest "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" webContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("webContentsId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("guest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("Invalid webContentsId: ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("webContentsId"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("guest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostWebContents "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" contents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access denied to webContents'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" guest\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nipcMain"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("handle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'openDevTools'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" webContentsId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" guest "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getGuestForWebContents")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("webContentsId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sender"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  guest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("openDevTools")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// renderer")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ipcRenderer "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nipcRenderer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("invoke")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'openDevTools'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" webview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWebContentsId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br")])]),e("h3",{attrs:{id:"deprecated-webframe-setlayoutzoomlevellimits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-webframe-setlayoutzoomlevellimits"}},[t._v("#")]),t._v(" Deprecated: "),e("code",[t._v("webFrame.setLayoutZoomLevelLimits()")])]),t._v(" "),e("p",[t._v("Chromium has removed support for changing the layout zoom level limits, and it is beyond Electron's capacity to maintain it. The function will emit a warning in Electron 8.x, and cease to exist in Electron 9.x. The layout zoom level limits are now fixed at a minimum of 0.25 and a maximum of 5.0, as defined "),e("a",{attrs:{href:"https://chromium.googlesource.com/chromium/src/+/938b37a6d2886bf8335fc7db792f1eb46c65b2ae/third_party/blink/common/page/page_zoom.cc#11",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"deprecated-events-in-systempreferences"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-events-in-systempreferences"}},[t._v("#")]),t._v(" Deprecated events in "),e("code",[t._v("systemPreferences")])]),t._v(" "),e("p",[t._v("The following "),e("code",[t._v("systemPreferences")]),t._v(" events have been deprecated:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("inverted-color-scheme-changed")])]),t._v(" "),e("li",[e("code",[t._v("high-contrast-color-scheme-changed")])])]),t._v(" "),e("p",[t._v("Use the new "),e("code",[t._v("updated")]),t._v(" event on the "),e("code",[t._v("nativeTheme")]),t._v(" module instead.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\nsystemPreferences"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inverted-color-scheme-changed'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsystemPreferences"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'high-contrast-color-scheme-changed'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\nnativeTheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'updated'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("h3",{attrs:{id:"已废弃-systempreferences-中的方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已废弃-systempreferences-中的方法"}},[t._v("#")]),t._v(" 已废弃："),e("code",[t._v("systemPreferences")]),t._v(" 中的方法")]),t._v(" "),e("p",[e("code",[t._v("systemPreferences")]),t._v(" 方法已经被废弃：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("systemPreferences.isDarkMode()")])]),t._v(" "),e("li",[e("code",[t._v("systemPreferences.isInvertedColorScheme()")])]),t._v(" "),e("li",[e("code",[t._v("systemPreferences.isHighContrastColorScheme()")])])]),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("nativeTheme")]),t._v(" 属性作为替代：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("nativeTheme.shouldUseDarkColors")])]),t._v(" "),e("li",[e("code",[t._v("nativeTheme.shouldUseInvertedColorScheme")])]),t._v(" "),e("li",[e("code",[t._v("nativeTheme.shouldUseHighContrastColors")])])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已废弃")]),t._v("\nsystemPreferences"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDarkMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nnativeTheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shouldUseDarkColors\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已废弃")]),t._v("\nsystemPreferences"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isInvertedColorScheme")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nnativeTheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shouldUseInvertedColorScheme\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已废弃")]),t._v("\nsystemPreferences"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isHighContrastColorScheme")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nnativeTheme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shouldUseHighContrastColors\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br")])]),e("h2",{attrs:{id:"planned-breaking-api-changes-7-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#planned-breaking-api-changes-7-0"}},[t._v("#")]),t._v(" Planned Breaking API Changes (7.0)")]),t._v(" "),e("h3",{attrs:{id:"deprecated-atom-io-node-headers-url"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-atom-io-node-headers-url"}},[t._v("#")]),t._v(" Deprecated: Atom.io Node Headers URL")]),t._v(" "),e("p",[t._v("这是在构建原生 node 模块时在 "),e("code",[t._v(".npmrc")]),t._v(" 文件中指定为 "),e("code",[t._v("disturl")]),t._v(" 的 url 或是 "),e("code",[t._v("--dist-url")]),t._v(" 命令行标志.  Both will be supported for the foreseeable future but it is recommended that you switch.")]),t._v(" "),e("p",[t._v("Deprecated: https://atom.io/download/electron")]),t._v(" "),e("p",[t._v("Replace with: https://electronjs.org/headers")]),t._v(" "),e("h3",{attrs:{id:"api-changed-session-clearauthcache-no-longer-accepts-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-session-clearauthcache-no-longer-accepts-options"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("session.clearAuthCache()")]),t._v(" no longer accepts options")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("session.clearAuthCache")]),t._v(" API no longer accepts options for what to clear, and instead unconditionally clears the whole cache.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearAuthCache")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'password'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearAuthCache")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"api-changed-powermonitor-querysystemidlestate-is-now-powermonitor-getsystemidlestate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-powermonitor-querysystemidlestate-is-now-powermonitor-getsystemidlestate"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("powerMonitor.querySystemIdleState")]),t._v(" is now "),e("code",[t._v("powerMonitor.getSystemIdleState")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Removed in Electron 7.0")]),t._v("\npowerMonitor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySystemIdleState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("threshold"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with synchronous API")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" idleState "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" powerMonitor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemIdleState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("threshold"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"api-changed-powermonitor-querysystemidletime-is-now-powermonitor-getsystemidletime"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-powermonitor-querysystemidletime-is-now-powermonitor-getsystemidletime"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("powerMonitor.querySystemIdleTime")]),t._v(" is now "),e("code",[t._v("powerMonitor.getSystemIdleTime")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Removed in Electron 7.0")]),t._v("\npowerMonitor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySystemIdleTime")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with synchronous API")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" idleTime "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" powerMonitor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemIdleTime")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"api-changed-webframe-setisolatedworldinfo-replaces-separate-methods"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-webframe-setisolatedworldinfo-replaces-separate-methods"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("webFrame.setIsolatedWorldInfo")]),t._v(" replaces separate methods")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Removed in Electron 7.0")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setIsolatedWorldContentSecurityPolicy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("worldId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" csp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setIsolatedWorldHumanReadableName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("worldId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setIsolatedWorldSecurityOrigin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("worldId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" securityOrigin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setIsolatedWorldInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  worldId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("securityOrigin")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some_origin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'human_readable_name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("csp")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content_security_policy'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br")])]),e("h3",{attrs:{id:"removed-marked-property-on-getblinkmemoryinfo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#removed-marked-property-on-getblinkmemoryinfo"}},[t._v("#")]),t._v(" Removed: "),e("code",[t._v("marked")]),t._v(" property on "),e("code",[t._v("getBlinkMemoryInfo")])]),t._v(" "),e("p",[t._v("This property was removed in Chromium 77, and as such is no longer available.")]),t._v(" "),e("h3",{attrs:{id:"behavior-changed-webkitdirectory-attribute-for-input-type-file-now-lists-directory-contents"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#behavior-changed-webkitdirectory-attribute-for-input-type-file-now-lists-directory-contents"}},[t._v("#")]),t._v(" Behavior Changed: "),e("code",[t._v("webkitdirectory")]),t._v(" attribute for "),e("code",[t._v('<input type="file"/>')]),t._v(" now lists directory contents")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("webkitdirectory")]),t._v(" property on HTML file inputs allows them to select folders. Previous versions of Electron had an incorrect implementation where the "),e("code",[t._v("event.target.files")]),t._v(" of the input returned a "),e("code",[t._v("FileList")]),t._v(" that returned one "),e("code",[t._v("File")]),t._v(" corresponding to the selected folder.")]),t._v(" "),e("p",[t._v("As of Electron 7, that "),e("code",[t._v("FileList")]),t._v(" is now list of all files contained within the folder, similarly to Chrome, Firefox, and Edge ("),e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory",target:"_blank",rel:"noopener noreferrer"}},[t._v("link to MDN docs"),e("OutboundLink")],1),t._v(").")]),t._v(" "),e("p",[t._v("As an illustration, take a folder with this structure:")]),t._v(" "),e("div",{staticClass:"language-console line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("folder\n├── file1\n├── file2\n└── file3\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("In Electron <=6, this would return a "),e("code",[t._v("FileList")]),t._v(" with a "),e("code",[t._v("File")]),t._v(" object for:")]),t._v(" "),e("div",{staticClass:"language-console line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("path/to/folder\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("In Electron 7, this now returns a "),e("code",[t._v("FileList")]),t._v(" with a "),e("code",[t._v("File")]),t._v(" object for:")]),t._v(" "),e("div",{staticClass:"language-console line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("/path/to/folder/file3\n/path/to/folder/file2\n/path/to/folder/file1\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("Note that "),e("code",[t._v("webkitdirectory")]),t._v(" no longer exposes the path to the selected folder. If you require the path to the selected folder rather than the folder contents, see the "),e("code",[t._v("dialog.showOpenDialog")]),t._v(" API ("),e("RouterLink",{attrs:{to:"/《Electron中文文档》/api/dialog.html#dialogshowopendialogbrowserwindow-options"}},[t._v("link")]),t._v(").")],1),t._v(" "),e("h3",{attrs:{id:"api-changed-callback-based-versions-of-promisified-apis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-callback-based-versions-of-promisified-apis"}},[t._v("#")]),t._v(" API Changed: Callback-based versions of promisified APIs")]),t._v(" "),e("p",[t._v("Electron 5 and Electron 6 introduced Promise-based versions of existing asynchronous APIs and deprecated their older, callback-based counterparts. In Electron 7, all deprecated callback-based APIs are now removed.")]),t._v(" "),e("p",[t._v("These functions now only return Promises:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("app.getFileIcon()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/15742",target:"_blank",rel:"noopener noreferrer"}},[t._v("#15742"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("app.dock.show()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16904",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16904"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("contentTracing.getCategories()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16583",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16583"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("contentTracking.getTraceBufferUs()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16600",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16600"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("contentTracing.startRecording()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16584",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16584"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("contentTracing.stopRecording()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16584",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16584"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("contents.executeJavaScript()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17312",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17312"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("cookies.flushStore()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16464",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16464"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("cookies.get()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16464",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16464"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("cookies.remove()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16464",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16464"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("cookies.set()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16464",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16464"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("debugger.sendCommand()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16861",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16861"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("dialog.showCertificateTrustDialog()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17181",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17181"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("inAppPurchase.getProducts()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17355",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17355"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("inAppPurchase.purchaseProduct()")]),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17355",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17355"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("netLog.stopLogging()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16862",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16862"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("session.clearAuthCache()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17259",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17259"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("session.clearCache()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17185",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17185"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("session.clearHostResolverCache()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17229",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17229"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("session.clearStorageData()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17249",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17249"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("session.getBlobData()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17303",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17303"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("session.getCacheSize()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17185",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17185"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("session.getCacheSize()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17222",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17185"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("session.setProxy()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17222",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17222"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("shell.openExternal()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16176",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16176"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("webContents.loadFile()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/15855",target:"_blank",rel:"noopener noreferrer"}},[t._v("#15855"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("webContents.loadURL()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/15855",target:"_blank",rel:"noopener noreferrer"}},[t._v("#15855"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("webContents.hasServiceWorker()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16535",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16535"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("webContents.printToPDF()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16795",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16795"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("webContents.savePage()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16742",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16742"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("webFrame.executeJavaScript()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17312",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17312"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("webFrame.executeJavaScriptInIsolatedWorld()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17312",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17312"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("webviewTag.executeJavaScript()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17312",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17312"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("win.capturePage()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/15743",target:"_blank",rel:"noopener noreferrer"}},[t._v("#15743"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("这些功能现在有两种形式，即同步和基于Promise的异步：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("dialog.showMessageBox()")]),t._v("/"),e("code",[t._v("dialog.showMessageBoxSync()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17298",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17298"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("dialog.showOpenDialog()")]),t._v("/"),e("code",[t._v("dialog.showOpenDialogSync()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/16973",target:"_blank",rel:"noopener noreferrer"}},[t._v("#16973"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("dialog.showSaveDialog()")]),t._v("/"),e("code",[t._v("dialog.showSaveDialogSync()")]),t._v(" "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/17054",target:"_blank",rel:"noopener noreferrer"}},[t._v("#17054"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"planned-breaking-api-changes-6-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#planned-breaking-api-changes-6-0"}},[t._v("#")]),t._v(" Planned Breaking API Changes (6.0)")]),t._v(" "),e("h3",{attrs:{id:"api-changed-win-setmenu-null-is-now-win-removemenu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-win-setmenu-null-is-now-win-removemenu"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("win.setMenu(null)")]),t._v(" is now "),e("code",[t._v("win.removeMenu()")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不推荐")]),t._v("\nwin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMenu")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nwin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeMenu")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"api-changed-electron-screen-in-the-renderer-process-should-be-accessed-via-remote"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-electron-screen-in-the-renderer-process-should-be-accessed-via-remote"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("electron.screen")]),t._v(" in the renderer process should be accessed via "),e("code",[t._v("remote")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不推荐")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remote"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"api-changed-require-ing-node-builtins-in-sandboxed-renderers-no-longer-implicitly-loads-the-remote-version"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-require-ing-node-builtins-in-sandboxed-renderers-no-longer-implicitly-loads-the-remote-version"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("require()")]),t._v("ing node builtins in sandboxed renderers no longer implicitly loads the "),e("code",[t._v("remote")]),t._v(" version")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不推荐")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remote"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不推荐")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remote"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不推荐")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'os'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remote"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'os'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不推荐")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remote"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("h3",{attrs:{id:"deprecated-powermonitor-querysystemidlestate-replaced-with-powermonitor-getsystemidlestate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-powermonitor-querysystemidlestate-replaced-with-powermonitor-getsystemidlestate"}},[t._v("#")]),t._v(" Deprecated: "),e("code",[t._v("powerMonitor.querySystemIdleState")]),t._v(" replaced with "),e("code",[t._v("powerMonitor.getSystemIdleState")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\npowerMonitor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySystemIdleState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("threshold"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with synchronous API")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" idleState "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" powerMonitor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemIdleState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("threshold"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"deprecated-powermonitor-querysystemidletime-replaced-with-powermonitor-getsystemidletime"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-powermonitor-querysystemidletime-replaced-with-powermonitor-getsystemidletime"}},[t._v("#")]),t._v(" Deprecated: "),e("code",[t._v("powerMonitor.querySystemIdleTime")]),t._v(" replaced with "),e("code",[t._v("powerMonitor.getSystemIdleTime")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\npowerMonitor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySystemIdleTime")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with synchronous API")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" idleTime "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" powerMonitor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemIdleTime")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"deprecated-app-enablemixedsandbox-is-no-longer-needed"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-app-enablemixedsandbox-is-no-longer-needed"}},[t._v("#")]),t._v(" Deprecated: "),e("code",[t._v("app.enableMixedSandbox()")]),t._v(" is no longer needed")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("enableMixedSandbox")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("混合沙盒模式已默认启用。")]),t._v(" "),e("h3",{attrs:{id:"deprecated-tray-sethighlightmode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-tray-sethighlightmode"}},[t._v("#")]),t._v(" Deprecated: "),e("code",[t._v("Tray.setHighlightMode")])]),t._v(" "),e("p",[t._v("Under macOS Catalina our former Tray implementation breaks. Apple's native substitute doesn't support changing the highlighting behavior.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\ntray"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHighlightMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mode"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// API will be removed in v7.0 without replacement.")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h2",{attrs:{id:"planned-breaking-api-changes-5-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#planned-breaking-api-changes-5-0"}},[t._v("#")]),t._v(" Planned Breaking API Changes (5.0)")]),t._v(" "),e("h3",{attrs:{id:"default-changed-nodeintegration-and-webviewtag-default-to-false-contextisolation-defaults-to-true"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#default-changed-nodeintegration-and-webviewtag-default-to-false-contextisolation-defaults-to-true"}},[t._v("#")]),t._v(" Default Changed: "),e("code",[t._v("nodeIntegration")]),t._v(" and "),e("code",[t._v("webviewTag")]),t._v(" default to false, "),e("code",[t._v("contextIsolation")]),t._v(" defaults to true")]),t._v(" "),e("p",[t._v("不推荐使用以下 "),e("code",[t._v("webPreferences")]),t._v(" 选项默认值，以支持下面列出的新默认值。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("不推荐使用的默认值")]),t._v(" "),e("th",[t._v("新的默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("contextIsolation")])]),t._v(" "),e("td",[e("code",[t._v("false")])]),t._v(" "),e("td",[e("code",[t._v("true")])])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("nodeIntegration")])]),t._v(" "),e("td",[e("code",[t._v("true")])]),t._v(" "),e("td",[e("code",[t._v("false")])])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("webviewTag")])]),t._v(" "),e("td",[e("code",[t._v("nodeIntegration")]),t._v(" 未设置过则是 "),e("code",[t._v("true")])]),t._v(" "),e("td",[e("code",[t._v("false")])])])])]),t._v(" "),e("p",[t._v("如下: Re-enabling the webviewTag")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" w "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("webPreferences")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("webviewTag")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"behavior-changed-nodeintegration-in-child-windows-opened-via-nativewindowopen"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#behavior-changed-nodeintegration-in-child-windows-opened-via-nativewindowopen"}},[t._v("#")]),t._v(" Behavior Changed: "),e("code",[t._v("nodeIntegration")]),t._v(" in child windows opened via "),e("code",[t._v("nativeWindowOpen")])]),t._v(" "),e("p",[t._v("Child windows opened with the "),e("code",[t._v("nativeWindowOpen")]),t._v(" option will always have Node.js integration disabled, unless "),e("code",[t._v("nodeIntegrationInSubFrames")]),t._v(" is "),e("code",[t._v("true")]),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"api-changed-registering-privileged-schemes-must-now-be-done-before-app-ready"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-registering-privileged-schemes-must-now-be-done-before-app-ready"}},[t._v("#")]),t._v(" API Changed: Registering privileged schemes must now be done before app ready")]),t._v(" "),e("p",[t._v("Renderer process APIs "),e("code",[t._v("webFrame.registerURLSchemeAsPrivileged")]),t._v(" and "),e("code",[t._v("webFrame.registerURLSchemeAsBypassingCSP")]),t._v(" as well as browser process API "),e("code",[t._v("protocol.registerStandardSchemes")]),t._v(" have been removed. 新的 API "),e("code",[t._v("protocol.registerSchemeasviliged")]),t._v(" 已被添加，并用于注册具有必要权限的自定义 scheme。 自定义 scheme 需要在 app 触发 ready 事件之前注册。")]),t._v(" "),e("h3",{attrs:{id:"deprecated-webframe-setisolatedworld-replaced-with-webframe-setisolatedworldinfo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-webframe-setisolatedworld-replaced-with-webframe-setisolatedworldinfo"}},[t._v("#")]),t._v(" Deprecated: "),e("code",[t._v("webFrame.setIsolatedWorld*")]),t._v(" replaced with "),e("code",[t._v("webFrame.setIsolatedWorldInfo")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setIsolatedWorldContentSecurityPolicy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("worldId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" csp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setIsolatedWorldHumanReadableName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("worldId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setIsolatedWorldSecurityOrigin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("worldId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" securityOrigin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setIsolatedWorldInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  worldId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("securityOrigin")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some_origin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'human_readable_name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("csp")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content_security_policy'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br")])]),e("h3",{attrs:{id:"api-changed-webframe-setspellcheckprovider-now-takes-an-asynchronous-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-webframe-setspellcheckprovider-now-takes-an-asynchronous-callback"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("webFrame.setSpellCheckProvider")]),t._v(" now takes an asynchronous callback")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("spellCheck")]),t._v(" callback is now asynchronous, and "),e("code",[t._v("autoCorrectWord")]),t._v(" parameter has been removed.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSpellCheckProvider")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'en-US'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("spellCheck")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("text")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("spellchecker"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isMisspelled")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSpellCheckProvider")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'en-US'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("spellCheck")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("words"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("words"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("text")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" spellchecker"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isMisspelled")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br")])]),e("h3",{attrs:{id:"api-changed-webcontents-getzoomlevel-and-webcontents-getzoomfactor-are-now-synchronous"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-changed-webcontents-getzoomlevel-and-webcontents-getzoomfactor-are-now-synchronous"}},[t._v("#")]),t._v(" API Changed: "),e("code",[t._v("webContents.getZoomLevel")]),t._v(" and "),e("code",[t._v("webContents.getZoomFactor")]),t._v(" are now synchronous")]),t._v(" "),e("p",[e("code",[t._v("webContents.getZoomLevel")]),t._v(" and "),e("code",[t._v("webContents.getZoomFactor")]),t._v(" no longer take callback parameters, instead directly returning their number values.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getZoomLevel")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("level")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("level"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" level "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" webContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getZoomLevel")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("level"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deprecated")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getZoomFactor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("factor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace with")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" factor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" webContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getZoomFactor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h2",{attrs:{id:"计划重写的-api-4-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计划重写的-api-4-0"}},[t._v("#")]),t._v(" 计划重写的 API (4.0)")]),t._v(" "),e("p",[t._v("以下列表包含了Electron4.0中重大的API更新")]),t._v(" "),e("h3",{attrs:{id:"app-makesingleinstance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#app-makesingleinstance"}},[t._v("#")]),t._v(" "),e("code",[t._v("app.makeSingleInstance")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已废弃")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeSingleInstance")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("argv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cwd")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestSingleInstanceLock")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'second-instance'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" argv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cwd")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h3",{attrs:{id:"app-releasesingleinstance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#app-releasesingleinstance"}},[t._v("#")]),t._v(" "),e("code",[t._v("app.releaseSingleInstance")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 废弃")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("releaseSingleInstance")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("releaseSingleInstanceLock")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"app-getgpuinfo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#app-getgpuinfo"}},[t._v("#")]),t._v(" "),e("code",[t._v("app.getGPUInfo")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getGPUInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'complete'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 现在的行为将与macOS下的`basic`设置一样")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getGPUInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'basic'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h3",{attrs:{id:"win-delay-load-hook"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#win-delay-load-hook"}},[t._v("#")]),t._v(" "),e("code",[t._v("win_delay_load_hook")])]),t._v(" "),e("p",[t._v("在为 Windows 构建本机模块时，将使 "),e("code",[t._v("win_delay_load_hook")]),t._v(" 变量值 位于 "),e("code",[t._v("binding.gyp")]),t._v(" 模块，必须为 true (这是默认值)。 如果这个钩子 不存在，那么本机模块将无法在 Windows 上加载，并出现错误 消息如 "),e("code",[t._v("无法找到模块")]),t._v("。 查看 "),e("RouterLink",{attrs:{to:"/docs/tutorial/using-native-node-modules.html"}},[t._v("原生模块指南")]),t._v(" 以获取更多信息.")],1),t._v(" "),e("h2",{attrs:{id:"重大的api更新-3-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重大的api更新-3-0"}},[t._v("#")]),t._v(" 重大的API更新 (3.0)")]),t._v(" "),e("p",[t._v("以下包含了Electron 3.0中重大的API更新")]),t._v(" "),e("h3",{attrs:{id:"app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#app"}},[t._v("#")]),t._v(" "),e("code",[t._v("app")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAppMemoryInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAppMetrics")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" metrics "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAppMetrics")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" memory "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" metrics"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用的属性")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"browserwindow"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#browserwindow"}},[t._v("#")]),t._v(" "),e("code",[t._v("BrowserWindow")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已废弃")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" optionsA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("webPreferences")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("blinkFeatures")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" windowA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("optionsA"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" optionsB "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("webPreferences")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("enableBlinkFeatures")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" windowB "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("optionsB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已废弃")]),t._v("\nwindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app-command'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cmd")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cmd "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'media-play_pause'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do something")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nwindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app-command'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cmd")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cmd "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'media-play-pause'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do something")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("h3",{attrs:{id:"clipboard"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clipboard"}},[t._v("#")]),t._v(" "),e("code",[t._v("clipboard")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 过时的")]),t._v("\nclipboard"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("readRtf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nclipboard"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("readRTF")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 过时的")]),t._v("\nclipboard"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeRtf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nclipboard"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeRTF")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 过时的")]),t._v("\nclipboard"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("readHtml")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nclipboard"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("readHTML")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 过时的")]),t._v("\nclipboard"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeHtml")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//替换为")]),t._v("\nclipboard"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeHTML")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("h3",{attrs:{id:"crashreporter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#crashreporter"}},[t._v("#")]),t._v(" "),e("code",[t._v("crashReporter")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 过时的")]),t._v("\ncrashReporter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("companyName")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Crashly'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("submitURL")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://crash.server.com'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("autoSubmit")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\ncrashReporter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("companyName")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Crashly'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("submitURL")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://crash.server.com'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("uploadToServer")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br")])]),e("h3",{attrs:{id:"nativeimage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage"}},[t._v("#")]),t._v(" "),e("code",[t._v("nativeImage")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\nnativeImage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createFromBuffer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nnativeImage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createFromBuffer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("scaleFactor")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("h3",{attrs:{id:"process"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#process"}},[t._v("#")]),t._v(" "),e("code",[t._v("process")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" info "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProcessMemoryInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("h3",{attrs:{id:"screen"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#screen"}},[t._v("#")]),t._v(" "),e("code",[t._v("screen")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\nscreen"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMenuBarHeight")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nscreen"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrimaryDisplay")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("workArea\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session"}},[t._v("#")]),t._v(" "),e("code",[t._v("session")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\nses"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCertificateVerifyProc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("hostname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" certificate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nses"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCertificateVerifyProc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("request"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"tray"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tray"}},[t._v("#")]),t._v(" "),e("code",[t._v("Tray")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 过时的")]),t._v("\ntray"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHighlightMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\ntray"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHighlightMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'on'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 过时的")]),t._v("\ntray"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHighlightMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\ntray"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHighlightMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h3",{attrs:{id:"webcontents"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webcontents"}},[t._v("#")]),t._v(" "),e("code",[t._v("webContents")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("openDevTools")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("detach")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("openDevTools")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'detach'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 没有该API的替代")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"webframe"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webframe"}},[t._v("#")]),t._v(" "),e("code",[t._v("webFrame")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerURLSchemeAsSecure")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nprotocol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerStandardSchemes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("secure")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 弃用")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerURLSchemeAsPrivileged")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("secure")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nprotocol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerStandardSchemes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("secure")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h3",{attrs:{id:"webview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webview"}},[t._v("#")]),t._v(" "),e("code",[t._v("<webview>")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nwebview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'disableguestresize'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 没有该API的替代")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nwebview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'guestinstance'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" instanceId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 没有该API的替代")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 键盘监听器在webview标签中不再起效")]),t._v("\nwebview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onkeydown")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* handler */")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nwebview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onkeyup")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* handler */")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br")])]),e("h3",{attrs:{id:"node-headers-url"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node-headers-url"}},[t._v("#")]),t._v(" Node Headers URL")]),t._v(" "),e("p",[t._v("这是在构建原生 node 模块时在 "),e("code",[t._v(".npmrc")]),t._v(" 文件中指定为 "),e("code",[t._v("disturl")]),t._v(" 的 url 或是 "),e("code",[t._v("--dist-url")]),t._v(" 命令行标志.")]),t._v(" "),e("p",[t._v("过时的: https://atom.io/download/atom-shell")]),t._v(" "),e("p",[t._v("替换为: https://atom.io/download/electron")]),t._v(" "),e("h2",{attrs:{id:"重大的api更新-2-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重大的api更新-2-0"}},[t._v("#")]),t._v(" 重大的API更新 (2.0)")]),t._v(" "),e("p",[t._v("以下包含了Electron 2.0中重大的API更新")]),t._v(" "),e("h3",{attrs:{id:"browserwindow-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#browserwindow-2"}},[t._v("#")]),t._v(" "),e("code",[t._v("BrowserWindow")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已废弃")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" optionsA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("titleBarStyle")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hidden-inset'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" windowA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("optionsA"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" optionsB "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("titleBarStyle")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hiddenInset'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" windowB "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserWindow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("optionsB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("h3",{attrs:{id:"menu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#menu"}},[t._v("#")]),t._v(" "),e("code",[t._v("menu")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nmenu"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("popup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("browserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nmenu"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("popup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("browserWindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("x")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("y")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("positioningItem")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"nativeimage-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage-2"}},[t._v("#")]),t._v(" "),e("code",[t._v("nativeImage")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nnativeImage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toPng")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nnativeImage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toPNG")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nnativeImage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toJpeg")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nnativeImage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toJPEG")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h3",{attrs:{id:"process-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#process-2"}},[t._v("#")]),t._v(" "),e("code",[t._v("process")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("process.versions.electron")]),t._v(" 和 "),e("code",[t._v("process.version.chrome")]),t._v(" 将成为只读属性, 以便与其他 "),e("code",[t._v("process.versions")]),t._v(" 属性由Node设置。")])]),t._v(" "),e("h3",{attrs:{id:"webcontents-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webcontents-2"}},[t._v("#")]),t._v(" "),e("code",[t._v("webContents")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setZoomLevelLimits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nwebContents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setVisualZoomLevelLimits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"webframe-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webframe-2"}},[t._v("#")]),t._v(" "),e("code",[t._v("webFrame")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setZoomLevelLimits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nwebFrame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setVisualZoomLevelLimits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"webview-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webview-2"}},[t._v("#")]),t._v(" "),e("code",[t._v("<webview>")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nwebview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setZoomLevelLimits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换为")]),t._v("\nwebview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setVisualZoomLevelLimits")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"重复的-arm-资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重复的-arm-资源"}},[t._v("#")]),t._v(" 重复的 ARM 资源")]),t._v(" "),e("p",[t._v("每个 Electron 发布版本包含两个相同的ARM版本，文件名略有不同，如"),e("code",[t._v("electron-v1.7.3-linux-arm.zip")]),t._v(" 和 "),e("code",[t._v("electron-v1.7.3-linux-armv7l.zip")]),t._v(" 添加包含"),e("code",[t._v("v7l")]),t._v("前缀的资源向用户明确其支持的ARM版本，并消除由未来armv6l 和 arm64 资源可能产生的歧义。")]),t._v(" "),e("p",[t._v("The file "),e("em",[t._v("without the prefix")]),t._v(" is still being published to avoid breaking any setups that may be consuming it. Starting at 2.0, the unprefixed file will no longer be published.")]),t._v(" "),e("p",[t._v("更多详细情况，查看 "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/6986",target:"_blank",rel:"noopener noreferrer"}},[t._v("6986"),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://github.com/electron/electron/pull/7189",target:"_blank",rel:"noopener noreferrer"}},[t._v("7189"),e("OutboundLink")],1),t._v("。")])])}),[],!1,null,null,null);s.default=n.exports}}]);