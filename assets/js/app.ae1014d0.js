(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(e){function n(n){for(var o,a,s=n[0],l=n[1],c=n[2],p=0,u=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&u.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(d&&d(n);u.length;)u.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,s=1;s<t.length;s++){var l=t[s];0!==r[l]&&(o=!1)}o&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={1:0},i=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise((function(n,o){t=r[e]=[n,o]}));n.push(t[2]=o);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+"assets/js/"+({}[e]||e)+"."+{2:"0929aa91",3:"7fe9dcd8",4:"654a78a2",5:"c50a77fe",6:"cc995097",7:"c7d43652",8:"f0e74718",9:"2ff272e7",10:"4bdb89ee",11:"d404b72f",12:"23c73db0",13:"ff50593c",14:"37ab52e2",15:"9179242a",16:"39bae875",17:"2dafb7c5",18:"df9528ed",19:"d71955ef",20:"fbbbb4a2",21:"36081b83",22:"a8b3dfb3",23:"e18c6c6d",24:"cd0b391e",25:"ab3e6688",26:"e6c287b8",27:"d2998298",28:"3b62382f",29:"ea60709b",30:"849ee28c",31:"70d851a0",32:"ec64b5a1",33:"da3a8699",34:"215b8865",35:"b2199b5c",36:"8706ed65",37:"01581e35",38:"ae096490",39:"7a5b29f6",40:"f12b20fb",41:"45c22686",42:"03c2287d",43:"d1ec6a2f",44:"8d124671",45:"91d492b8",46:"48b2a256",47:"45559e22",48:"3a6edc8d",49:"214a15d3",50:"4f64b9f1",51:"988e74d3",52:"cec08826",53:"d2406cf6",54:"7b9f0481",55:"351fec50",56:"5a4a0b96",57:"21798229",58:"b5c5745f",59:"fe0e4afa",60:"e653cff0",61:"c85d235a",62:"699a95f2",63:"a17696d7",64:"742a9eb5",65:"6d300178",66:"86cef7aa",67:"796d125c",68:"b3c2d220",69:"07795e0e",70:"3854d9b8",71:"d66f2b34",72:"1350fee4",73:"a3dded61",74:"74f0bfff",75:"4ec95ff3",76:"1f00db96",77:"a9d9378a",78:"a7ddad0d",79:"46324233",80:"801cf0a4",81:"546e27d2",82:"d91ad6e6",83:"fa6487b0",84:"52dea52e",85:"68419534",86:"075c2556",87:"76c9b596",88:"030619a8",89:"cf9cfa28",90:"d95a8854",91:"c54d7493",92:"2c3257eb",93:"b952455a",94:"4b40b489",95:"26f010a2",96:"b2776f09",97:"d1c685d8",98:"e1e97635",99:"9f5d62e4",100:"151c3012",101:"f7532c5e",102:"1089249a",103:"638f4733",104:"1d534122",105:"06c0bbf9",106:"92ca4115",107:"85e42729",108:"27a6c668",109:"62c5a10a",110:"d11e0109",111:"1e0c098b",112:"e254dac0",113:"67716f81",114:"f29df292",115:"4a832c3d",116:"7e342fac",117:"0b07f2f8",118:"db361661",119:"4feef380",120:"4f7f4ee2",121:"df13004f",122:"6d767a40",123:"0350480a",124:"3d686ac4",125:"2baee703",126:"60932da0",127:"e3d31902",128:"5f3529e4",129:"98d9f85c",130:"ee0f2916",131:"e61bb4aa",132:"acdc1343",133:"c9e76739",134:"cbcd2964",135:"4122a226",136:"9372f9a6",137:"880d21ff",138:"46f50548",139:"f2b60c6d",140:"d042b179",141:"3a2723e3",142:"44576d63",143:"a798fa29",144:"e70329ab",145:"746062ae",146:"3e99370f",147:"981d5bae",148:"6feb1caf",149:"606b299d",150:"57f66aa3",151:"e82ed5b7",152:"de1c615c",153:"4c0906bf",154:"5f1f2309",155:"2f44369e",156:"fb853e07",157:"fc696530",158:"42305671",159:"aeeaf452",160:"97ff0082",161:"ea02547c",162:"a7dc58b3",163:"7de06ea6",164:"6c7bb19d",165:"246b1310",166:"9d473a86",167:"d6a6946c",168:"573cc1a2",169:"dfb815af",170:"1a4b01b7",171:"da868f87",172:"0a41ce61",173:"b1db7e04",174:"a2912494",175:"80b0ff7b",176:"b286be59",177:"d477975c",178:"a9378c73",179:"f32f6835",180:"afb310df",181:"a1371c07",182:"481b5a03",183:"2d51e601",184:"b6315203",185:"f4095d2a",186:"b5705121",187:"3999cc52",188:"f6fe1716",189:"d8b79870",190:"b4900e0f",191:"9d4d7995",192:"0e39272b",193:"2299fef0",194:"436e220c",195:"281dc036",196:"80d9a49a",197:"b3cdd2ea",198:"8a8b48a8",199:"89b06297",200:"4cc8ee97",201:"fee4bccc",202:"edc4d5db",203:"cff86dc2",204:"f4315fea",205:"ce8878e1",206:"d3021ca5",207:"e5f1bf22",208:"6ebee4a9",209:"662e7b6a",210:"ce2c0b1a",211:"6f1af69e",212:"3b9c8e2b",213:"c848669b",214:"ee964723",215:"21cb777c",216:"7f9215b6",217:"977f100a",218:"82177dd7",219:"19a31121",220:"ec30e722",221:"a3789d03",222:"9eb5084d",223:"16bc8621",224:"07221c79",225:"bcef2069",226:"44d55599",227:"41507cae",228:"710cc669",229:"388605e2",230:"41a44f2b",231:"30efb2b1",232:"83aba0c1",233:"37c29b6e",234:"69900621",235:"2f519beb",236:"b9b6114e",237:"2a1db7cc",238:"600f5600",239:"8be2d1bb",240:"251e8c24",241:"d43f064c",242:"86d5eacb",243:"80963c44",244:"13652b92",245:"eb2bce9c",246:"a8194f0b",247:"db00d5f1",248:"14ed39e2",249:"142eeecc",250:"4590655a",251:"f29145b6",252:"c2322d74",253:"10424c86",254:"58d56bca",255:"c5159cc8",256:"4cb6be49",257:"75008126",258:"1f8c2773",259:"69dba07f",260:"46e86546",261:"a525bac6",262:"cf8ad77b",263:"5ca29a56",264:"563d42f2",265:"133d3598",266:"27779523",267:"31bcfcb3",268:"9f0a35d7",269:"7aa9cb8f",270:"d550ac18",271:"072c0c98",272:"2662f9f7",273:"15ade875",274:"4a133ef6",275:"96345d22",276:"081ed3d8",277:"3ab443bb",278:"34bcd6be",279:"bd0a94a7"}[e]+".js"}(e);var l=new Error;i=function(n){s.onerror=s.onload=null,clearTimeout(c);var t=r[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,t[1](l)}r[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(n)},a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var d=l;i.push([237,0]),t()}([function(e,n){var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(e,n,t){var o=t(0),r=t(38).f,i=t(27),a=t(14),s=t(112),l=t(119),c=t(105);e.exports=function(e,n){var t,d,p,u,h,m=e.target,g=e.global,f=e.stat;if(t=g?o:f?o[m]||s(m,{}):(o[m]||{}).prototype)for(d in n){if(u=n[d],p=e.noTargetGet?(h=r(t,d))&&h.value:t[d],!c(g?d:m+(f?".":"#")+d,e.forced)&&void 0!==p){if(typeof u==typeof p)continue;l(u,p)}(e.sham||p&&p.sham)&&i(u,"sham",!0),a(t,d,u,e)}}},function(e,n,t){var o=t(63),r=Function.prototype,i=r.bind,a=r.call,s=o&&i.bind(a,a);e.exports=o?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},function(e,n){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n,t){var o=t(123),r=t(14),i=t(253);o||r(Object.prototype,"toString",i,{unsafe:!0})},function(e,n){e.exports=function(e){return"function"==typeof e}},function(e,n,t){var o=t(0),r=t(79),i=t(10),a=t(80),s=t(113),l=t(156),c=r("wks"),d=o.Symbol,p=d&&d.for,u=l?d:d&&d.withoutSetter||a;e.exports=function(e){if(!i(c,e)||!s&&"string"!=typeof c[e]){var n="Symbol."+e;s&&i(d,e)?c[e]=d[e]:c[e]=l&&p?p(n):u(n)}return c[e]}},function(e,n,t){var o=t(3);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,n,t){var o=t(0),r=t(9),i=o.String,a=o.TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not an object")}},function(e,n,t){var o=t(5);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},function(e,n,t){var o=t(2),r=t(15),i=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,n){return i(r(e),n)}},function(e,n,t){var o=t(63),r=Function.prototype.call;e.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},function(e,n,t){var o=t(0),r=t(76),i=o.String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,n,t){var o=t(0),r=t(7),i=t(158),a=t(157),s=t(8),l=t(82),c=o.TypeError,d=Object.defineProperty,p=Object.getOwnPropertyDescriptor;n.f=r?a?function(e,n,t){if(s(e),n=l(n),s(t),"function"==typeof e&&"prototype"===n&&"value"in t&&"writable"in t&&!t.writable){var o=p(e,n);o&&o.writable&&(e[n]=t.value,t={configurable:"configurable"in t?t.configurable:o.configurable,enumerable:"enumerable"in t?t.enumerable:o.enumerable,writable:!1})}return d(e,n,t)}:d:function(e,n,t){if(s(e),n=l(n),s(t),i)try{return d(e,n,t)}catch(e){}if("get"in t||"set"in t)throw c("Accessors not supported");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var o=t(0),r=t(5),i=t(10),a=t(27),s=t(112),l=t(87),c=t(39),d=t(66).CONFIGURABLE,p=c.get,u=c.enforce,h=String(String).split("String");(e.exports=function(e,n,t,l){var c,p=!!l&&!!l.unsafe,m=!!l&&!!l.enumerable,g=!!l&&!!l.noTargetGet,f=l&&void 0!==l.name?l.name:n;r(t)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(t,"name")||d&&t.name!==f)&&a(t,"name",f),(c=u(t)).source||(c.source=h.join("string"==typeof f?f:""))),e!==o?(p?!g&&e[n]&&(m=!0):delete e[n],m?e[n]=t:a(e,n,t)):m?e[n]=t:s(n,t)})(Function.prototype,"toString",(function(){return r(this)&&p(this).source||l(this)}))},function(e,n,t){var o=t(0),r=t(18),i=o.Object;e.exports=function(e){return i(r(e))}},function(e,n,t){var o=t(0),r=t(5),i=function(e){return r(e)?e:void 0};e.exports=function(e,n){return arguments.length<2?i(o[e]):o[e]&&o[e][n]}},function(e,n,t){"use strict";var o=t(1),r=t(93);o({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(e,n,t){var o=t(0).TypeError;e.exports=function(e){if(null==e)throw o("Can't call method on "+e);return e}},function(e,n,t){var o=t(62),r=t(18);e.exports=function(e){return o(r(e))}},function(e,n,t){"use strict";function o(e,n,t,o,r,i,a,s){var l,c="function"==typeof e?e.options:e;if(n&&(c.render=n,c.staticRenderFns=t,c._compiled=!0),o&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,n){return l.call(n),d(e,n)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}t.d(n,"a",(function(){return o}))},function(e,n,t){"use strict";var o=t(174).charAt,r=t(12),i=t(39),a=t(162),s=i.set,l=i.getterFor("String Iterator");a(String,"String",(function(e){s(this,{type:"String Iterator",string:r(e),index:0})}),(function(){var e,n=l(this),t=n.string,r=n.index;return r>=t.length?{value:void 0,done:!0}:(e=o(t,r),n.index+=e.length,{value:e,done:!1})}))},function(e,n,t){var o=t(52);e.exports=function(e){return o(e.length)}},function(e,n,t){"use strict";var o=t(1),r=t(57).filter;o({target:"Array",proto:!0,forced:!t(91)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,n,t){var o=t(0),r=t(175),i=t(176),a=t(144),s=t(27),l=t(6),c=l("iterator"),d=l("toStringTag"),p=a.values,u=function(e,n){if(e){if(e[c]!==p)try{s(e,c,p)}catch(n){e[c]=p}if(e[d]||s(e,d,n),r[n])for(var t in a)if(e[t]!==a[t])try{s(e,t,a[t])}catch(n){e[t]=a[t]}}};for(var h in r)u(o[h]&&o[h].prototype,h);u(i,"DOMTokenList")},function(e,n,t){var o=t(2),r=o({}.toString),i=o("".slice);e.exports=function(e){return i(r(e),8,-1)}},function(e,n){e.exports=!1},function(e,n,t){var o=t(7),r=t(13),i=t(48);e.exports=o?function(e,n,t){return r.f(e,n,i(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n,t){"use strict";var o=t(1),r=t(182);o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,n,t){var o=t(0),r=t(175),i=t(176),a=t(182),s=t(27),l=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(n){e.forEach=a}};for(var c in r)r[c]&&l(o[c]&&o[c].prototype);l(i)},function(e,n,t){var o=t(14),r=t(268),i=Error.prototype;i.toString!==r&&o(i,"toString",r)},function(e,n){var t=Array.isArray;e.exports=t},function(e,n,t){var o=t(16);e.exports=o("navigator","userAgent")||""},function(e,n,t){var o=t(192),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();e.exports=i},function(e,n,t){var o,r=t(8),i=t(114),a=t(117),s=t(64),l=t(161),c=t(81),d=t(86),p=d("IE_PROTO"),u=function(){},h=function(e){return"<script>"+e+"<\/script>"},m=function(e){e.write(h("")),e.close();var n=e.parentWindow.Object;return e=null,n},g=function(){try{o=new ActiveXObject("htmlfile")}catch(e){}var e,n;g="undefined"!=typeof document?document.domain&&o?m(o):((n=c("iframe")).style.display="none",l.appendChild(n),n.src=String("javascript:"),(e=n.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):m(o);for(var t=a.length;t--;)delete g.prototype[a[t]];return g()};s[p]=!0,e.exports=Object.create||function(e,n){var t;return null!==e?(u.prototype=r(e),t=new u,u.prototype=null,t[p]=e):t=g(),void 0===n?t:i.f(t,n)}},function(e,n,t){var o=t(2);e.exports=o({}.isPrototypeOf)},function(e,n,t){var o=t(63),r=Function.prototype,i=r.apply,a=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?a.bind(i):function(){return a.apply(i,arguments)})},function(e,n,t){var o=t(0),r=t(5),i=t(84),a=o.TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a function")}},function(e,n,t){var o=t(7),r=t(11),i=t(118),a=t(48),s=t(19),l=t(82),c=t(10),d=t(158),p=Object.getOwnPropertyDescriptor;n.f=o?p:function(e,n){if(e=s(e),n=l(n),d)try{return p(e,n)}catch(e){}if(c(e,n))return a(!r(i.f,e,n),e[n])}},function(e,n,t){var o,r,i,a=t(239),s=t(0),l=t(2),c=t(9),d=t(27),p=t(10),u=t(111),h=t(86),m=t(64),g=s.TypeError,f=s.WeakMap;if(a||u.state){var w=u.state||(u.state=new f),b=l(w.get),v=l(w.has),y=l(w.set);o=function(e,n){if(v(w,e))throw new g("Object already initialized");return n.facade=e,y(w,e,n),n},r=function(e){return b(w,e)||{}},i=function(e){return v(w,e)}}else{var x=h("state");m[x]=!0,o=function(e,n){if(p(e,x))throw new g("Object already initialized");return n.facade=e,d(e,x,n),n},r=function(e){return p(e,x)?e[x]:{}},i=function(e){return p(e,x)}}e.exports={set:o,get:r,has:i,enforce:function(e){return i(e)?r(e):o(e,{})},getterFor:function(e){return function(n){var t;if(!c(n)||(t=r(n)).type!==e)throw g("Incompatible receiver, "+e+" required");return t}}}},function(e,n,t){var o=t(1),r=t(0),i=t(36),a=t(264),s=r.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(e,n){var t={};t[e]=a(e,n,l),o({global:!0,forced:l},t)},d=function(e,n){if(s&&s[e]){var t={};t[e]=a("WebAssembly."+e,n,l),o({target:"WebAssembly",stat:!0,forced:l},t)}};c("Error",(function(e){return function(n){return i(e,this,arguments)}})),c("EvalError",(function(e){return function(n){return i(e,this,arguments)}})),c("RangeError",(function(e){return function(n){return i(e,this,arguments)}})),c("ReferenceError",(function(e){return function(n){return i(e,this,arguments)}})),c("SyntaxError",(function(e){return function(n){return i(e,this,arguments)}})),c("TypeError",(function(e){return function(n){return i(e,this,arguments)}})),c("URIError",(function(e){return function(n){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(n){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(n){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(n){return i(e,this,arguments)}}))},function(e,n,t){var o=t(288),r=t(291);e.exports=function(e,n){var t=r(e,n);return o(t)?t:void 0}},function(e,n,t){"use strict";var o=t(1),r=t(0),i=t(60),a=t(88),s=t(9),l=t(116),c=t(22),d=t(19),p=t(69),u=t(6),h=t(91),m=t(68),g=h("slice"),f=u("species"),w=r.Array,b=Math.max;o({target:"Array",proto:!0,forced:!g},{slice:function(e,n){var t,o,r,u=d(this),h=c(u),g=l(e,h),v=l(void 0===n?h:n,h);if(i(u)&&(t=u.constructor,(a(t)&&(t===w||i(t.prototype))||s(t)&&null===(t=t[f]))&&(t=void 0),t===w||void 0===t))return m(u,g,v);for(o=new(void 0===t?w:t)(b(v-g,0)),r=0;g<v;g++,r++)g in u&&p(o,r,u[g]);return o.length=r,o}})},function(e,n,t){"use strict";t.d(n,"e",(function(){return o})),t.d(n,"b",(function(){return i})),t.d(n,"j",(function(){return a})),t.d(n,"g",(function(){return l})),t.d(n,"h",(function(){return c})),t.d(n,"i",(function(){return d})),t.d(n,"c",(function(){return p})),t.d(n,"f",(function(){return u})),t.d(n,"l",(function(){return h})),t.d(n,"m",(function(){return m})),t.d(n,"d",(function(){return f})),t.d(n,"k",(function(){return w})),t.d(n,"n",(function(){return b})),t.d(n,"a",(function(){return y}));t(17),t(45),t(140),t(74),t(104),t(110),t(44),t(28),t(4),t(29),t(23),t(77),t(103),t(155),t(53),t(212),t(30),t(143);var o=/#.*$/,r=/\.(md|html)$/,i=/\/$/,a=/^[a-z]+:/i;function s(e){return decodeURI(e).replace(o,"").replace(r,"")}function l(e){return a.test(e)}function c(e){return/^mailto:/.test(e)}function d(e){return/^tel:/.test(e)}function p(e){if(l(e))return e;if(!e)return"404";var n=e.match(o),t=n?n[0]:"",r=s(e);return i.test(r)?e:r+".html"+t}function u(e,n){var t=e.hash,r=function(e){var n=null==e?void 0:e.match(o);if(n)return n[0]}(n);return(!r||t===r)&&s(e.path)===s(n)}function h(e,n,t){if(l(n))return{type:"external",path:n};t&&(n=function(e,n,t){var o=e.charAt(0);if("/"===o)return e;if("?"===o||"#"===o)return n+e;var r=n.split("/");t&&r[r.length-1]||r.pop();for(var i=e.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?r.pop():"."!==s&&r.push(s)}""!==r[0]&&r.unshift("");return r.join("/")}(n,t));for(var o=s(n),r=0;r<e.length;r++)if(s(e[r].regularPath)===o)return Object.assign({},e[r],{type:"page",path:p(e[r].path)});return console.error('[vuepress] No matching page found for sidebar item "'.concat(n,'"')),{}}function m(e,n,t,o){var r=t.pages,i=t.themeConfig,a=o&&i.locales&&i.locales[o]||i;if("auto"===(e.frontmatter.sidebar||a.sidebar||i.sidebar))return g(e);var s=a.sidebar||i.sidebar;if(s){var l=function(e,n){if(Array.isArray(n))return{base:"/",config:n};for(var t in n)if(0===(o=e,/(\.html|\/)$/.test(o)?o:o+"/").indexOf(encodeURI(t)))return{base:t,config:n[t]};var o;return{}}(n,s),c=l.base,d=l.config;return"auto"===d?g(e):d?d.map((function(e){return function e(n,t,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if("string"==typeof n)return h(t,n,o);if(Array.isArray(n))return Object.assign(h(t,n[0],o),{title:n[1]});r>3&&console.error("[vuepress] detected a too deep nested sidebar group.");var i=n.children||[];return 0===i.length&&n.path?Object.assign(h(t,n.path,o),{title:n.title}):{type:"group",path:n.path,title:n.title,sidebarDepth:n.sidebarDepth,initialOpenGroupIndex:n.initialOpenGroupIndex,children:i.map((function(n){return e(n,t,o,r+1)})),collapsable:!1!==n.collapsable}}(e,r,c)})):[]}return[]}function g(e){var n=f(e.headers||[]);return[{type:"group",collapsable:!1,title:e.title,path:null,children:n.map((function(n){return{type:"auto",title:n.title,basePath:e.path,path:e.path+"#"+n.slug,children:n.children||[]}}))}]}function f(e){var n;return(e=e.map((function(e){return Object.assign({},e)}))).forEach((function(e){2===e.level?n=e:n&&(n.children||(n.children=[])).push(e)})),e.filter((function(e){return 2===e.level}))}function w(e){return Object.assign(e,{type:e.items&&e.items.length?"links":"link"})}function b(e){return Object.prototype.toString.call(e).match(/\[object (.*?)\]/)[1].toLowerCase()}function v(e){var n=e.frontmatter.date||e.lastUpdated||new Date,t=new Date(n);return"Invalid Date"==t&&n&&(t=new Date(n.replace(/-/g,"/"))),t.getTime()}function y(e,n){return v(n)-v(e)}},function(e,n,t){"use strict";var o=t(1),r=t(57).map;o({target:"Array",proto:!0,forced:!t(91)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,n,t){"use strict";var o=t(36),r=t(11),i=t(2),a=t(108),s=t(3),l=t(8),c=t(5),d=t(55),p=t(52),u=t(12),h=t(18),m=t(127),g=t(47),f=t(269),w=t(109),b=t(6)("replace"),v=Math.max,y=Math.min,x=i([].concat),k=i([].push),E=i("".indexOf),I=i("".slice),S="$0"==="a".replace(/./,"$0"),T=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,n,t){var i=T?"$":"$0";return[function(e,t){var o=h(this),i=null==e?void 0:g(e,b);return i?r(i,e,o,t):r(n,u(o),e,t)},function(e,r){var a=l(this),s=u(e);if("string"==typeof r&&-1===E(r,i)&&-1===E(r,"$<")){var h=t(n,a,s,r);if(h.done)return h.value}var g=c(r);g||(r=u(r));var b=a.global;if(b){var S=a.unicode;a.lastIndex=0}for(var T=[];;){var z=w(a,s);if(null===z)break;if(k(T,z),!b)break;""===u(z[0])&&(a.lastIndex=m(s,p(a.lastIndex),S))}for(var A,j="",P=0,C=0;C<T.length;C++){for(var _=u((z=T[C])[0]),B=v(y(d(z.index),s.length),0),O=[],q=1;q<z.length;q++)k(O,void 0===(A=z[q])?A:String(A));var D=z.groups;if(g){var W=x([_],O,B,s);void 0!==D&&k(W,D);var R=u(o(r,void 0,W))}else R=f(_,s,B,O,D,r);B>=P&&(j+=I(s,P,B)+R,P=B+_.length)}return j+I(s,P)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!S||T)},function(e,n,t){"use strict";var o=t(3);e.exports=function(e,n){var t=[][e];return!!t&&o((function(){t.call(null,n||function(){return 1},1)}))}},function(e,n,t){var o=t(37);e.exports=function(e,n){var t=e[n];return null==t?void 0:o(t)}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));t(75),t(70),t(23),t(4),t(380),t(28),t(29),t(177),t(381),t(99);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}},function(e,n,t){var o,r,i=t(0),a=t(32),s=i.process,l=i.Deno,c=s&&s.versions||l&&l.version,d=c&&c.v8;d&&(r=(o=d.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(r=+o[1]),e.exports=r},function(e,n,t){var o=t(55),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,n,t){"use strict";var o=t(1),r=t(0),i=t(3),a=t(60),s=t(9),l=t(15),c=t(22),d=t(69),p=t(147),u=t(91),h=t(6),m=t(51),g=h("isConcatSpreadable"),f=r.TypeError,w=m>=51||!i((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),b=u("concat"),v=function(e){if(!s(e))return!1;var n=e[g];return void 0!==n?!!n:a(e)};o({target:"Array",proto:!0,forced:!w||!b},{concat:function(e){var n,t,o,r,i,a=l(this),s=p(a,0),u=0;for(n=-1,o=arguments.length;n<o;n++)if(v(i=-1===n?a:arguments[n])){if(u+(r=c(i))>9007199254740991)throw f("Maximum allowed index exceeded");for(t=0;t<r;t++,u++)t in i&&d(s,u,i[t])}else{if(u>=9007199254740991)throw f("Maximum allowed index exceeded");d(s,u++,i)}return s.length=u,s}})},function(e,n,t){var o=t(1),r=t(0),i=t(36),a=t(5),s=t(32),l=t(68),c=t(146),d=/MSIE .\./.test(s),p=r.Function,u=function(e){return function(n,t){var o=c(arguments.length,1)>2,r=a(n)?n:p(n),s=o?l(arguments,2):void 0;return e(o?function(){i(r,this,s)}:r,t)}};o({global:!0,bind:!0,forced:d},{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,n){var t=Math.ceil,o=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?o:t)(n)}},function(e,n,t){var o=t(2),r=t(37),i=t(63),a=o(o.bind);e.exports=function(e,n){return r(e),void 0===n?e:i?a(e,n):function(){return e.apply(n,arguments)}}},function(e,n,t){var o=t(56),r=t(2),i=t(62),a=t(15),s=t(22),l=t(147),c=r([].push),d=function(e){var n=1==e,t=2==e,r=3==e,d=4==e,p=6==e,u=7==e,h=5==e||p;return function(m,g,f,w){for(var b,v,y=a(m),x=i(y),k=o(g,f),E=s(x),I=0,S=w||l,T=n?S(m,E):t||u?S(m,0):void 0;E>I;I++)if((h||I in x)&&(v=k(b=x[I],I,y),e))if(n)T[I]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return I;case 2:c(T,b)}else switch(e){case 4:return!1;case 7:c(T,b)}return p?-1:r||d?d:T}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},function(e,n,t){var o=t(160),r=t(117).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,n,t){var o=t(13).f,r=t(10),i=t(6)("toStringTag");e.exports=function(e,n,t){e&&!t&&(e=e.prototype),e&&!r(e,i)&&o(e,i,{configurable:!0,value:n})}},function(e,n,t){var o=t(25);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,n,t){var o=t(71),r=t(273),i=t(274),a=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):i(e)}},function(e,n,t){var o=t(0),r=t(2),i=t(3),a=t(25),s=o.Object,l=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?l(e,""):s(e)}:s},function(e,n,t){var o=t(3);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,n){e.exports={}},function(e,n){e.exports={}},function(e,n,t){var o=t(7),r=t(10),i=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=r(i,"name"),l=s&&"something"===function(){}.name,c=s&&(!o||o&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(e,n,t){var o=t(2),r=t(8),i=t(240);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,n=!1,t={};try{(e=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),n=t instanceof Array}catch(e){}return function(t,o){return r(t),i(o),n?e(t,o):t.__proto__=o,t}}():void 0)},function(e,n,t){var o=t(2);e.exports=o([].slice)},function(e,n,t){"use strict";var o=t(82),r=t(13),i=t(48);e.exports=function(e,n,t){var a=o(n);a in e?r.f(e,a,i(0,t)):e[a]=t}},function(e,n,t){"use strict";var o=t(1),r=t(0),i=t(16),a=t(36),s=t(11),l=t(2),c=t(26),d=t(7),p=t(113),u=t(3),h=t(10),m=t(60),g=t(5),f=t(9),w=t(35),b=t(83),v=t(8),y=t(15),x=t(19),k=t(82),E=t(12),I=t(48),S=t(34),T=t(85),z=t(58),A=t(184),j=t(121),P=t(38),C=t(13),_=t(114),B=t(118),O=t(68),q=t(14),D=t(79),W=t(86),R=t(64),L=t(80),M=t(6),N=t(185),F=t(186),U=t(59),H=t(39),$=t(57).forEach,V=W("hidden"),G=M("toPrimitive"),Z=H.set,J=H.getterFor("Symbol"),K=Object.prototype,X=r.Symbol,Y=X&&X.prototype,Q=r.TypeError,ee=r.QObject,ne=i("JSON","stringify"),te=P.f,oe=C.f,re=A.f,ie=B.f,ae=l([].push),se=D("symbols"),le=D("op-symbols"),ce=D("string-to-symbol-registry"),de=D("symbol-to-string-registry"),pe=D("wks"),ue=!ee||!ee.prototype||!ee.prototype.findChild,he=d&&u((function(){return 7!=S(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a}))?function(e,n,t){var o=te(K,n);o&&delete K[n],oe(e,n,t),o&&e!==K&&oe(K,n,o)}:oe,me=function(e,n){var t=se[e]=S(Y);return Z(t,{type:"Symbol",tag:e,description:n}),d||(t.description=n),t},ge=function(e,n,t){e===K&&ge(le,n,t),v(e);var o=k(n);return v(t),h(se,o)?(t.enumerable?(h(e,V)&&e[V][o]&&(e[V][o]=!1),t=S(t,{enumerable:I(0,!1)})):(h(e,V)||oe(e,V,I(1,{})),e[V][o]=!0),he(e,o,t)):oe(e,o,t)},fe=function(e,n){v(e);var t=x(n),o=T(t).concat(ye(t));return $(o,(function(n){d&&!s(we,t,n)||ge(e,n,t[n])})),e},we=function(e){var n=k(e),t=s(ie,this,n);return!(this===K&&h(se,n)&&!h(le,n))&&(!(t||!h(this,n)||!h(se,n)||h(this,V)&&this[V][n])||t)},be=function(e,n){var t=x(e),o=k(n);if(t!==K||!h(se,o)||h(le,o)){var r=te(t,o);return!r||!h(se,o)||h(t,V)&&t[V][o]||(r.enumerable=!0),r}},ve=function(e){var n=re(x(e)),t=[];return $(n,(function(e){h(se,e)||h(R,e)||ae(t,e)})),t},ye=function(e){var n=e===K,t=re(n?le:x(e)),o=[];return $(t,(function(e){!h(se,e)||n&&!h(K,e)||ae(o,se[e])})),o};(p||(q(Y=(X=function(){if(w(Y,this))throw Q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?E(arguments[0]):void 0,n=L(e),t=function(e){this===K&&s(t,le,e),h(this,V)&&h(this[V],n)&&(this[V][n]=!1),he(this,n,I(1,e))};return d&&ue&&he(K,n,{configurable:!0,set:t}),me(n,e)}).prototype,"toString",(function(){return J(this).tag})),q(X,"withoutSetter",(function(e){return me(L(e),e)})),B.f=we,C.f=ge,_.f=fe,P.f=be,z.f=A.f=ve,j.f=ye,N.f=function(e){return me(M(e),e)},d&&(oe(Y,"description",{configurable:!0,get:function(){return J(this).description}}),c||q(K,"propertyIsEnumerable",we,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:X}),$(T(pe),(function(e){F(e)})),o({target:"Symbol",stat:!0,forced:!p},{for:function(e){var n=E(e);if(h(ce,n))return ce[n];var t=X(n);return ce[n]=t,de[t]=n,t},keyFor:function(e){if(!b(e))throw Q(e+" is not a symbol");if(h(de,e))return de[e]},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),o({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(e,n){return void 0===n?S(e):fe(S(e),n)},defineProperty:ge,defineProperties:fe,getOwnPropertyDescriptor:be}),o({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:ve,getOwnPropertySymbols:ye}),o({target:"Object",stat:!0,forced:u((function(){j.f(1)}))},{getOwnPropertySymbols:function(e){return j.f(y(e))}}),ne)&&o({target:"JSON",stat:!0,forced:!p||u((function(){var e=X();return"[null]"!=ne([e])||"{}"!=ne({a:e})||"{}"!=ne(Object(e))}))},{stringify:function(e,n,t){var o=O(arguments),r=n;if((f(n)||void 0!==e)&&!b(e))return m(n)||(n=function(e,n){if(g(r)&&(n=s(r,this,e,n)),!b(n))return n}),o[1]=n,a(ne,null,o)}});if(!Y[G]){var xe=Y.valueOf;q(Y,G,(function(e){return s(xe,this)}))}U(X,"Symbol"),R[V]=!0},function(e,n,t){var o=t(33).Symbol;e.exports=o},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));t(77);var o=t(73);t(70),t(92),t(4),t(126),t(21),t(24),t(187);var r=t(100);t(40),t(30);function i(e){return function(e){if(Array.isArray(e))return Object(o.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,n,t){"use strict";function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}t.d(n,"a",(function(){return o}))},function(e,n,t){"use strict";t(17);var o,r,i=t(1),a=t(0),s=t(11),l=t(2),c=t(5),d=t(9),p=(o=!1,(r=/[ac]/).exec=function(){return o=!0,/./.exec.apply(this,arguments)},!0===r.test("abc")&&o),u=a.Error,h=l(/./.test);i({target:"RegExp",proto:!0,forced:!p},{test:function(e){var n=this.exec;if(!c(n))return h(this,e);var t=s(n,this,e);if(null!==t&&!d(t))throw new u("RegExp exec method returned something other than an Object or null");return!!t}})},function(e,n,t){var o=t(1),r=t(15),i=t(85);o({target:"Object",stat:!0,forced:t(3)((function(){i(1)}))},{keys:function(e){return i(r(e))}})},function(e,n,t){var o=t(0),r=t(123),i=t(5),a=t(25),s=t(6)("toStringTag"),l=o.Object,c="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var n,t,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,n){try{return e[n]}catch(e){}}(n=l(e),s))?t:c?a(n):"Object"==(o=a(n))&&i(n.callee)?"Arguments":o}},function(e,n,t){t(1)({target:"Array",stat:!0},{isArray:t(60)})},function(e,n,t){var o=t(7),r=t(66).EXISTS,i=t(2),a=t(13).f,s=Function.prototype,l=i(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=i(c.exec);o&&!r&&a(s,"name",{configurable:!0,get:function(){try{return d(c,l(this))[1]}catch(e){return""}}})},function(e,n,t){var o=t(26),r=t(111);(e.exports=function(e,n){return r[e]||(r[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.21.1",mode:o?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,n,t){var o=t(2),r=0,i=Math.random(),a=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+i,36)}},function(e,n,t){var o=t(0),r=t(9),i=o.document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,n,t){var o=t(159),r=t(83);e.exports=function(e){var n=o(e,"string");return r(n)?n:n+""}},function(e,n,t){var o=t(0),r=t(16),i=t(5),a=t(35),s=t(156),l=o.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var n=r("Symbol");return i(n)&&a(n.prototype,l(e))}},function(e,n,t){var o=t(0).String;e.exports=function(e){try{return o(e)}catch(e){return"Object"}}},function(e,n,t){var o=t(160),r=t(117);e.exports=Object.keys||function(e){return o(e,r)}},function(e,n,t){var o=t(79),r=t(80),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,n,t){var o=t(2),r=t(5),i=t(111),a=o(Function.toString);r(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},function(e,n,t){var o=t(2),r=t(3),i=t(5),a=t(76),s=t(16),l=t(87),c=function(){},d=[],p=s("Reflect","construct"),u=/^\s*(?:class|function)\b/,h=o(u.exec),m=!u.exec(c),g=function(e){if(!i(e))return!1;try{return p(c,d,e),!0}catch(e){return!1}},f=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!h(u,l(e))}catch(e){return!0}};f.sham=!0,e.exports=!p||r((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?f:g},function(e,n,t){var o=t(25),r=t(0);e.exports="process"==o(r.process)},function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t(4);function o(e,n,t,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void t(e)}s.done?n(l):Promise.resolve(l).then(o,r)}function r(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}},function(e,n,t){var o=t(3),r=t(6),i=t(51),a=r("species");e.exports=function(e){return i>=51||!o((function(){var n=[];return(n.constructor={})[a]=function(){return{foo:1}},1!==n[e](Boolean).foo}))}},function(e,n,t){"use strict";var o=t(1),r=t(7),i=t(0),a=t(2),s=t(10),l=t(5),c=t(35),d=t(12),p=t(13).f,u=t(119),h=i.Symbol,m=h&&h.prototype;if(r&&l(h)&&(!("description"in m)||void 0!==h().description)){var g={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),n=c(m,this)?new h(e):void 0===e?h():h(e);return""===e&&(g[n]=!0),n};u(f,h),f.prototype=m,m.constructor=f;var w="Symbol(test)"==String(h("test")),b=a(m.toString),v=a(m.valueOf),y=/^Symbol\((.*)\)[^)]+$/,x=a("".replace),k=a("".slice);p(m,"description",{configurable:!0,get:function(){var e=v(this),n=b(e);if(s(g,e))return"";var t=w?k(n,7,-1):x(n,y,"$1");return""===t?void 0:t}}),o({global:!0,forced:!0},{Symbol:f})}},function(e,n,t){"use strict";var o,r,i=t(11),a=t(2),s=t(12),l=t(149),c=t(107),d=t(79),p=t(34),u=t(39).get,h=t(225),m=t(230),g=d("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,w=f,b=a("".charAt),v=a("".indexOf),y=a("".replace),x=a("".slice),k=(r=/b*/g,i(f,o=/a/,"a"),i(f,r,"a"),0!==o.lastIndex||0!==r.lastIndex),E=c.BROKEN_CARET,I=void 0!==/()??/.exec("")[1];(k||I||E||h||m)&&(w=function(e){var n,t,o,r,a,c,d,h=this,m=u(h),S=s(e),T=m.raw;if(T)return T.lastIndex=h.lastIndex,n=i(w,T,S),h.lastIndex=T.lastIndex,n;var z=m.groups,A=E&&h.sticky,j=i(l,h),P=h.source,C=0,_=S;if(A&&(j=y(j,"y",""),-1===v(j,"g")&&(j+="g"),_=x(S,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==b(S,h.lastIndex-1))&&(P="(?: "+P+")",_=" "+_,C++),t=new RegExp("^(?:"+P+")",j)),I&&(t=new RegExp("^"+P+"$(?!\\s)",j)),k&&(o=h.lastIndex),r=i(f,A?t:h,_),A?r?(r.input=x(r.input,C),r[0]=x(r[0],C),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:k&&r&&(h.lastIndex=h.global?r.index+r[0].length:o),I&&r&&r.length>1&&i(g,r[0],t,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r&&z)for(r.groups=c=p(null),a=0;a<z.length;a++)c[(d=z[a])[0]]=r[d[1]];return r}),e.exports=w},function(e,n,t){var o=t(278),r=t(279),i=t(280),a=t(281),s=t(282);function l(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var o=e[n];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,n,t){var o=t(194);e.exports=function(e,n){for(var t=e.length;t--;)if(o(e[t][0],n))return t;return-1}},function(e,n,t){var o=t(41)(Object,"create");e.exports=o},function(e,n,t){var o=t(300);e.exports=function(e,n){var t=e.__data__;return o(n)?t["string"==typeof n?"string":"hash"]:t.map}},function(e,n,t){var o=t(135);e.exports=function(e){if("string"==typeof e||o(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(e,n,t){var o=t(1),r=t(7),i=t(13).f;o({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!r},{defineProperty:i})},function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t(42),t(4),t(78),t(187),t(21),t(17),t(74);var o=t(73);function r(e,n){if(e){if("string"==typeof e)return Object(o.a)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(o.a)(e,n):void 0}}},function(e,n,t){var o,r;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(r="function"==typeof(o=function(){var e,n,t={version:"0.2.0"},o=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(e,n,t){return e<n?n:e>t?t:e}function i(e){return 100*(-1+e)}t.configure=function(e){var n,t;for(n in e)void 0!==(t=e[n])&&e.hasOwnProperty(n)&&(o[n]=t);return this},t.status=null,t.set=function(e){var n=t.isStarted();e=r(e,o.minimum,1),t.status=1===e?null:e;var l=t.render(!n),c=l.querySelector(o.barSelector),d=o.speed,p=o.easing;return l.offsetWidth,a((function(n){""===o.positionUsing&&(o.positionUsing=t.getPositioningCSS()),s(c,function(e,n,t){var r;return(r="translate3d"===o.positionUsing?{transform:"translate3d("+i(e)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+i(e)+"%,0)"}:{"margin-left":i(e)+"%"}).transition="all "+n+"ms "+t,r}(e,d,p)),1===e?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){t.remove(),n()}),d)}),d)):setTimeout(n,d)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var e=function(){setTimeout((function(){t.status&&(t.trickle(),e())}),o.trickleSpeed)};return o.trickle&&e(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var n=t.status;return n?("number"!=typeof e&&(e=(1-n)*r(Math.random()*n,.1,.95)),n=r(n+e,0,.994),t.set(n)):t.start()},t.trickle=function(){return t.inc(Math.random()*o.trickleRate)},e=0,n=0,t.promise=function(o){return o&&"resolved"!==o.state()?(0===n&&t.start(),e++,n++,o.always((function(){0==--n?(e=0,t.done()):t.set((e-n)/e)})),this):this},t.render=function(e){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=o.template;var r,a=n.querySelector(o.barSelector),l=e?"-100":i(t.status||0),d=document.querySelector(o.parent);return s(a,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),o.showSpinner||(r=n.querySelector(o.spinnerSelector))&&u(r),d!=document.body&&c(d,"nprogress-custom-parent"),d.appendChild(n),n},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(o.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&u(e)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var e=document.body.style,n="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return n+"Perspective"in e?"translate3d":n+"Transform"in e?"translate":"margin"};var a=function(){var e=[];function n(){var t=e.shift();t&&t(n)}return function(t){e.push(t),1==e.length&&n()}}(),s=function(){var e=["Webkit","O","Moz","ms"],n={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,n){return n.toUpperCase()})),n[t]||(n[t]=function(n){var t=document.body.style;if(n in t)return n;for(var o,r=e.length,i=n.charAt(0).toUpperCase()+n.slice(1);r--;)if((o=e[r]+i)in t)return o;return n}(t))}function o(e,n,o){n=t(n),e.style[n]=o}return function(e,n){var t,r,i=arguments;if(2==i.length)for(t in n)void 0!==(r=n[t])&&n.hasOwnProperty(t)&&o(e,t,r);else o(e,i[1],i[2])}}();function l(e,n){return("string"==typeof e?e:p(e)).indexOf(" "+n+" ")>=0}function c(e,n){var t=p(e),o=t+n;l(t,n)||(e.className=o.substring(1))}function d(e,n){var t,o=p(e);l(e,n)&&(t=o.replace(" "+n+" "," "),e.className=t.substring(1,t.length-1))}function p(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function u(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return t})?o.call(n,t,n,e):o)||(e.exports=r)},function(e){e.exports=JSON.parse('{"name":"vuepress-plugin-comment","version":"0.7.3","description":"Comment plugin in vuepress, such as Gitalk, Valine...","main":"index.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"repository":{"type":"git","url":"git+ssh://git@github.com/dongyuanxin/vuepress-plugin-comment.git"},"keywords":["vuepress","comment","plugin","vue","gitalk","valine"],"author":"dongyuanxin","license":"MIT","bugs":{"url":"https://github.com/dongyuanxin/vuepress-plugin-comment/issues"},"homepage":"https://github.com/dongyuanxin/vuepress-plugin-comment#readme","dependencies":{"ejs":"^2.6.1","gitalk":"^1.5.0","gitalk-fix":"^1.5.2","i":"^0.3.6","npm":"^6.9.0","valine":"^1.3.9"}}')},function(e,n,t){"use strict";var o=t(1),r=t(2),i=t(115).indexOf,a=t(46),s=r([].indexOf),l=!!s&&1/s([1],1,-0)<0,c=a("indexOf");o({target:"Array",proto:!0,forced:l||!c},{indexOf:function(e){var n=arguments.length>1?arguments[1]:void 0;return l?s(this,e,n)||0:i(this,e,n)}})},function(e,n,t){"use strict";var o=t(36),r=t(11),i=t(2),a=t(108),s=t(148),l=t(8),c=t(18),d=t(124),p=t(127),u=t(52),h=t(12),m=t(47),g=t(125),f=t(109),w=t(93),b=t(107),v=t(3),y=b.UNSUPPORTED_Y,x=Math.min,k=[].push,E=i(/./.exec),I=i(k),S=i("".slice);a("split",(function(e,n,t){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=h(c(this)),a=void 0===t?4294967295:t>>>0;if(0===a)return[];if(void 0===e)return[i];if(!s(e))return r(n,i,e,a);for(var l,d,p,u=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,b=new RegExp(e.source,m+"g");(l=r(w,b,i))&&!((d=b.lastIndex)>f&&(I(u,S(i,f,l.index)),l.length>1&&l.index<i.length&&o(k,u,g(l,1)),p=l[0].length,f=d,u.length>=a));)b.lastIndex===l.index&&b.lastIndex++;return f===i.length?!p&&E(b,"")||I(u,""):I(u,S(i,f)),u.length>a?g(u,0,a):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:r(n,this,e,t)}:n,[function(n,t){var o=c(this),a=null==n?void 0:m(n,e);return a?r(a,n,o,t):r(i,h(o),n,t)},function(e,o){var r=l(this),a=h(e),s=t(i,r,a,o,i!==n);if(s.done)return s.value;var c=d(r,RegExp),m=r.unicode,g=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(y?"g":"y"),w=new c(y?"^(?:"+r.source+")":r,g),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===a.length)return null===f(w,a)?[a]:[];for(var v=0,k=0,E=[];k<a.length;){w.lastIndex=y?0:k;var T,z=f(w,y?S(a,k):a);if(null===z||(T=x(u(w.lastIndex+(y?k:0)),a.length))===v)k=p(a,k,m);else{if(I(E,S(a,v,k)),E.length===b)return E;for(var A=1;A<=z.length-1;A++)if(I(E,z[A]),E.length===b)return E;k=v=T}}return I(E,S(a,v)),E}]}),!!v((function(){var e=/(?:)/,n=e.exec;e.exec=function(){return n.apply(this,arguments)};var t="ab".split(e);return 2!==t.length||"a"!==t[0]||"b"!==t[1]})),y)},function(e,n,t){var o=t(3),r=t(5),i=/#|\.prototype\./,a=function(e,n){var t=l[s(e)];return t==d||t!=c&&(r(n)?o(n):!!n)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",d=a.POLYFILL="P";e.exports=a},function(e,n,t){var o=t(76),r=t(47),i=t(65),a=t(6)("iterator");e.exports=function(e){if(null!=e)return r(e,a)||r(e,"@@iterator")||i[o(e)]}},function(e,n,t){var o=t(3),r=t(0).RegExp,i=o((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||o((function(){return!r("a","y").sticky})),s=i||o((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},function(e,n,t){"use strict";t(17);var o=t(2),r=t(14),i=t(93),a=t(3),s=t(6),l=t(27),c=s("species"),d=RegExp.prototype;e.exports=function(e,n,t,p){var u=s(e),h=!a((function(){var n={};return n[u]=function(){return 7},7!=""[e](n)})),m=h&&!a((function(){var n=!1,t=/a/;return"split"===e&&((t={}).constructor={},t.constructor[c]=function(){return t},t.flags="",t[u]=/./[u]),t.exec=function(){return n=!0,null},t[u](""),!n}));if(!h||!m||t){var g=o(/./[u]),f=n(u,""[e],(function(e,n,t,r,a){var s=o(e),l=n.exec;return l===i||l===d.exec?h&&!a?{done:!0,value:g(n,t,r)}:{done:!0,value:s(t,n,r)}:{done:!1}}));r(String.prototype,e,f[0]),r(d,u,f[1])}p&&l(d[u],"sham",!0)}},function(e,n,t){var o=t(0),r=t(11),i=t(8),a=t(5),s=t(25),l=t(93),c=o.TypeError;e.exports=function(e,n){var t=e.exec;if(a(t)){var o=r(t,e,n);return null!==o&&i(o),o}if("RegExp"===s(e))return r(l,e,n);throw c("RegExp#exec called on incompatible receiver")}},function(e,n,t){"use strict";var o=t(1),r=t(2),i=t(62),a=t(19),s=t(46),l=r([].join),c=i!=Object,d=s("join",",");o({target:"Array",proto:!0,forced:c||!d},{join:function(e){return l(a(this),void 0===e?",":e)}})},function(e,n,t){var o=t(0),r=t(112),i=o["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=i},function(e,n,t){var o=t(0),r=Object.defineProperty;e.exports=function(e,n){try{r(o,e,{value:n,configurable:!0,writable:!0})}catch(t){o[e]=n}return n}},function(e,n,t){var o=t(51),r=t(3);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},function(e,n,t){var o=t(7),r=t(157),i=t(13),a=t(8),s=t(19),l=t(85);n.f=o&&!r?Object.defineProperties:function(e,n){a(e);for(var t,o=s(n),r=l(n),c=r.length,d=0;c>d;)i.f(e,t=r[d++],o[t]);return e}},function(e,n,t){var o=t(19),r=t(116),i=t(22),a=function(e){return function(n,t,a){var s,l=o(n),c=i(l),d=r(a,c);if(e&&t!=t){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===t)return e||d||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,n,t){var o=t(55),r=Math.max,i=Math.min;e.exports=function(e,n){var t=o(e);return t<0?r(t+n,0):i(t,n)}},function(e,n){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,n,t){"use strict";var o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!o.call({1:2},1);n.f=i?function(e){var n=r(this,e);return!!n&&n.enumerable}:o},function(e,n,t){var o=t(10),r=t(120),i=t(38),a=t(13);e.exports=function(e,n,t){for(var s=r(n),l=a.f,c=i.f,d=0;d<s.length;d++){var p=s[d];o(e,p)||t&&o(t,p)||l(e,p,c(n,p))}}},function(e,n,t){var o=t(16),r=t(2),i=t(58),a=t(121),s=t(8),l=r([].concat);e.exports=o("Reflect","ownKeys")||function(e){var n=i.f(s(e)),t=a.f;return t?l(n,t(e)):n}},function(e,n){n.f=Object.getOwnPropertySymbols},function(e,n,t){var o=t(0),r=t(10),i=t(5),a=t(15),s=t(86),l=t(164),c=s("IE_PROTO"),d=o.Object,p=d.prototype;e.exports=l?d.getPrototypeOf:function(e){var n=a(e);if(r(n,c))return n[c];var t=n.constructor;return i(t)&&n instanceof t?t.prototype:n instanceof d?p:null}},function(e,n,t){var o={};o[t(6)("toStringTag")]="z",e.exports="[object z]"===String(o)},function(e,n,t){var o=t(8),r=t(169),i=t(6)("species");e.exports=function(e,n){var t,a=o(e).constructor;return void 0===a||null==(t=o(a)[i])?n:r(t)}},function(e,n,t){var o=t(0),r=t(116),i=t(22),a=t(69),s=o.Array,l=Math.max;e.exports=function(e,n,t){for(var o=i(e),c=r(n,o),d=r(void 0===t?o:t,o),p=s(l(d-c,0)),u=0;c<d;c++,u++)a(p,u,e[c]);return p.length=u,p}},function(e,n,t){t(186)("iterator")},function(e,n,t){"use strict";var o=t(174).charAt;e.exports=function(e,n,t){return n+(t?o(e,n).length:1)}},function(e,n,t){var o=t(272),r=t(49),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,n,t){var o=t(41)(t(33),"Map");e.exports=o},function(e,n){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},function(e,n,t){var o=t(292),r=t(299),i=t(301),a=t(302),s=t(303);function l(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var o=e[n];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,n){e.exports=function(e){var n=-1,t=Array(e.size);return e.forEach((function(e){t[++n]=e})),t}},function(e,n){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,n,t){var o=t(31),r=t(135),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,n){if(o(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!r(e))||(a.test(e)||!i.test(e)||null!=n&&e in Object(n))}},function(e,n,t){var o=t(61),r=t(49);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==o(e)}},function(e,n){e.exports=function(e){return e}},function(e,n,t){var o=t(1),r=t(0),i=t(59);o({global:!0},{Reflect:{}}),i(r.Reflect,"Reflect",!0)},function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t(77);t(70),t(92),t(4),t(126),t(21),t(24);var o=t(100);t(40),t(30);function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,i=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(o=t.next()).done)&&(i.push(o.value),!n||i.length!==n);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==t.return||t.return()}finally{if(s)throw r}}return i}}(e,n)||Object(o.a)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,n,t){"use strict";var o=t(1),r=t(57).some;o({target:"Array",proto:!0,forced:!t(46)("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,n,t){"use strict";var o=t(11),r=t(108),i=t(8),a=t(52),s=t(12),l=t(18),c=t(47),d=t(127),p=t(109);r("match",(function(e,n,t){return[function(n){var t=l(this),r=null==n?void 0:c(n,e);return r?o(r,n,t):new RegExp(n)[e](s(t))},function(e){var o=i(this),r=s(e),l=t(n,o,r);if(l.done)return l.value;if(!o.global)return p(o,r);var c=o.unicode;o.lastIndex=0;for(var u,h=[],m=0;null!==(u=p(o,r));){var g=s(u[0]);h[m]=g,""===g&&(o.lastIndex=d(r,a(o.lastIndex),c)),m++}return 0===m?null:h}]}))},function(e,n,t){var o=t(6),r=t(34),i=t(13),a=o("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:r(null)}),e.exports=function(e){s[a][e]=!0}},function(e,n,t){var o=function(e){"use strict";var n=Object.prototype,t=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function s(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{s({},"")}catch(e){s=function(e,n,t){return e[n]=t}}function l(e,n,t,o){var r=n&&n.prototype instanceof p?n:p,i=Object.create(r.prototype),a=new E(o||[]);return i._invoke=function(e,n,t){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return S()}for(t.method=r,t.arg=i;;){var a=t.delegate;if(a){var s=y(a,t);if(s){if(s===d)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===o)throw o="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);o="executing";var l=c(e,n,t);if("normal"===l.type){if(o=t.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(o="completed",t.method="throw",t.arg=l.arg)}}}(e,t,a),i}function c(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function u(){}function h(){}var m={};s(m,r,(function(){return this}));var g=Object.getPrototypeOf,f=g&&g(g(I([])));f&&f!==n&&t.call(f,r)&&(m=f);var w=h.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(n){s(e,n,(function(e){return this._invoke(n,e)}))}))}function v(e,n){var o;this._invoke=function(r,i){function a(){return new n((function(o,a){!function o(r,i,a,s){var l=c(e[r],e,i);if("throw"!==l.type){var d=l.arg,p=d.value;return p&&"object"==typeof p&&t.call(p,"__await")?n.resolve(p.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):n.resolve(p).then((function(e){d.value=e,a(d)}),(function(e){return o("throw",e,a,s)}))}s(l.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}}function y(e,n){var t=e.iterator[n.method];if(void 0===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,y(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=c(t,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var r=o.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function x(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function k(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(e){if(e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(t.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return u.prototype=h,s(w,"constructor",h),s(h,"constructor",u),u.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===u||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(v.prototype),s(v.prototype,i,(function(){return this})),e.AsyncIterator=v,e.async=function(n,t,o,r,i){void 0===i&&(i=Promise);var a=new v(l(n,t,o,r),i);return e.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(w),s(w,a,"Generator"),s(w,r,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(t,o){return a.type="throw",a.arg=e,n.next=t,o&&(n.method="next",n.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=t.call(i,"catchLoc"),l=t.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,n){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&t.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),d},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),k(t),d}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var o=t.completion;if("throw"===o.type){var r=o.arg;k(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:I(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=o}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},function(e,n,t){"use strict";var o=t(2),r=t(66).PROPER,i=t(14),a=t(8),s=t(35),l=t(12),c=t(3),d=t(149),p=RegExp.prototype,u=p.toString,h=o(d),m=c((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),g=r&&"toString"!=u.name;(m||g)&&i(RegExp.prototype,"toString",(function(){var e=a(this),n=l(e.source),t=e.flags;return"/"+n+"/"+l(void 0===t&&s(p,e)&&!("flags"in p)?h(e):t)}),{unsafe:!0})},function(e,n,t){"use strict";var o=t(19),r=t(141),i=t(65),a=t(39),s=t(13).f,l=t(162),c=t(26),d=t(7),p=a.set,u=a.getterFor("Array Iterator");e.exports=l(Array,"Array",(function(e,n){p(this,{type:"Array Iterator",target:o(e),index:0,kind:n})}),(function(){var e=u(this),n=e.target,t=e.kind,o=e.index++;return!n||o>=n.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:o,done:!1}:"values"==t?{value:n[o],done:!1}:{value:[o,n[o]],done:!1}}),"values");var h=i.Arguments=i.Array;if(r("keys"),r("values"),r("entries"),!c&&d&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},function(e,n,t){var o=t(0),r=t(11),i=t(37),a=t(8),s=t(84),l=t(106),c=o.TypeError;e.exports=function(e,n){var t=arguments.length<2?l(e):n;if(i(t))return a(r(t,e));throw c(s(e)+" is not iterable")}},function(e,n,t){var o=t(0).TypeError;e.exports=function(e,n){if(e<n)throw o("Not enough arguments");return e}},function(e,n,t){var o=t(254);e.exports=function(e,n){return new(o(e))(0===n?0:n)}},function(e,n,t){var o=t(9),r=t(25),i=t(6)("match");e.exports=function(e){var n;return o(e)&&(void 0!==(n=e[i])?!!n:"RegExp"==r(e))}},function(e,n,t){"use strict";var o=t(8);e.exports=function(){var e=o(this),n="";return e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.sticky&&(n+="y"),n}},function(e,n,t){var o=t(5),r=t(9),i=t(67);e.exports=function(e,n,t){var a,s;return i&&o(a=n.constructor)&&a!==t&&r(s=a.prototype)&&s!==t.prototype&&i(e,s),e}},function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,n){var t=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,u=Math.min,h=function(){return c.Date.now()};function m(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=m(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var s=r.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):o.test(e)?NaN:+e}e.exports=function(e,n,t){var o,r,i,a,s,l,c=0,d=!1,f=!1,w=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(n){var t=o,i=r;return o=r=void 0,c=n,a=e.apply(i,t)}function v(e){return c=e,s=setTimeout(x,n),d?b(e):a}function y(e){var t=e-l;return void 0===l||t>=n||t<0||f&&e-c>=i}function x(){var e=h();if(y(e))return k(e);s=setTimeout(x,function(e){var t=n-(e-l);return f?u(t,i-(e-c)):t}(e))}function k(e){return s=void 0,w&&o?b(e):(o=r=void 0,a)}function E(){var e=h(),t=y(e);if(o=arguments,r=this,l=e,t){if(void 0===s)return v(l);if(f)return s=setTimeout(x,n),b(l)}return void 0===s&&(s=setTimeout(x,n)),a}return n=g(n)||0,m(t)&&(d=!!t.leading,i=(f="maxWait"in t)?p(g(t.maxWait)||0,n):i,w="trailing"in t?!!t.trailing:w),E.cancel=function(){void 0!==s&&clearTimeout(s),c=0,o=l=r=s=void 0},E.flush=function(){return void 0===s?a:k(h())},E}},function(e,n,t){var o=t(2),r=t(18),i=t(12),a=t(154),s=o("".replace),l="["+a+"]",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),p=function(e){return function(n){var t=i(r(n));return 1&e&&(t=s(t,c,"")),2&e&&(t=s(t,d,"")),t}};e.exports={start:p(1),end:p(2),trim:p(3)}},function(e,n){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,n,t){var o=t(2),r=t(14),i=Date.prototype,a=o(i.toString),s=o(i.getTime);"Invalid Date"!=String(new Date(NaN))&&r(i,"toString",(function(){var e=s(this);return e==e?a(this):"Invalid Date"}))},function(e,n,t){var o=t(113);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,n,t){var o=t(7),r=t(3);e.exports=o&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,n,t){var o=t(7),r=t(3),i=t(81);e.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,n,t){var o=t(0),r=t(11),i=t(9),a=t(83),s=t(47),l=t(238),c=t(6),d=o.TypeError,p=c("toPrimitive");e.exports=function(e,n){if(!i(e)||a(e))return e;var t,o=s(e,p);if(o){if(void 0===n&&(n="default"),t=r(o,e,n),!i(t)||a(t))return t;throw d("Can't convert object to primitive value")}return void 0===n&&(n="number"),l(e,n)}},function(e,n,t){var o=t(2),r=t(10),i=t(19),a=t(115).indexOf,s=t(64),l=o([].push);e.exports=function(e,n){var t,o=i(e),c=0,d=[];for(t in o)!r(s,t)&&r(o,t)&&l(d,t);for(;n.length>c;)r(o,t=n[c++])&&(~a(d,t)||l(d,t));return d}},function(e,n,t){var o=t(16);e.exports=o("document","documentElement")},function(e,n,t){"use strict";var o=t(1),r=t(11),i=t(26),a=t(66),s=t(5),l=t(226),c=t(122),d=t(67),p=t(59),u=t(27),h=t(14),m=t(6),g=t(65),f=t(163),w=a.PROPER,b=a.CONFIGURABLE,v=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,x=m("iterator"),k=function(){return this};e.exports=function(e,n,t,a,m,f,E){l(t,n,a);var I,S,T,z=function(e){if(e===m&&_)return _;if(!y&&e in P)return P[e];switch(e){case"keys":case"values":case"entries":return function(){return new t(this,e)}}return function(){return new t(this)}},A=n+" Iterator",j=!1,P=e.prototype,C=P[x]||P["@@iterator"]||m&&P[m],_=!y&&C||z(m),B="Array"==n&&P.entries||C;if(B&&(I=c(B.call(new e)))!==Object.prototype&&I.next&&(i||c(I)===v||(d?d(I,v):s(I[x])||h(I,x,k)),p(I,A,!0,!0),i&&(g[A]=k)),w&&"values"==m&&C&&"values"!==C.name&&(!i&&b?u(P,"name","values"):(j=!0,_=function(){return r(C,this)})),m)if(S={values:z("values"),keys:f?_:z("keys"),entries:z("entries")},E)for(T in S)(y||j||!(T in P))&&h(P,T,S[T]);else o({target:n,proto:!0,forced:y||j},S);return i&&!E||P[x]===_||h(P,x,_,{name:m}),g[n]=_,S}},function(e,n,t){"use strict";var o,r,i,a=t(3),s=t(5),l=t(34),c=t(122),d=t(14),p=t(6),u=t(26),h=p("iterator"),m=!1;[].keys&&("next"in(i=[].keys())?(r=c(c(i)))!==Object.prototype&&(o=r):m=!0),null==o||a((function(){var e={};return o[h].call(e)!==e}))?o={}:u&&(o=l(o)),s(o[h])||d(o,h,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:m}},function(e,n,t){var o=t(3);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,n,t){var o=t(0);e.exports=o.Promise},function(e,n,t){var o=t(6),r=t(65),i=o("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,n,t){var o=t(11),r=t(8),i=t(47);e.exports=function(e,n,t){var a,s;r(e);try{if(!(a=i(e,"return"))){if("throw"===n)throw t;return t}a=o(a,e)}catch(e){s=!0,a=e}if("throw"===n)throw t;if(s)throw a;return r(a),t}},function(e,n,t){var o=t(6)("iterator"),r=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){r=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,n){if(!n&&!r)return!1;var t=!1;try{var i={};i[o]=function(){return{next:function(){return{done:t=!0}}}},e(i)}catch(e){}return t}},function(e,n,t){var o=t(0),r=t(88),i=t(84),a=o.TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a constructor")}},function(e,n,t){var o,r,i,a,s=t(0),l=t(36),c=t(56),d=t(5),p=t(10),u=t(3),h=t(161),m=t(68),g=t(81),f=t(146),w=t(171),b=t(89),v=s.setImmediate,y=s.clearImmediate,x=s.process,k=s.Dispatch,E=s.Function,I=s.MessageChannel,S=s.String,T=0,z={};try{o=s.location}catch(e){}var A=function(e){if(p(z,e)){var n=z[e];delete z[e],n()}},j=function(e){return function(){A(e)}},P=function(e){A(e.data)},C=function(e){s.postMessage(S(e),o.protocol+"//"+o.host)};v&&y||(v=function(e){f(arguments.length,1);var n=d(e)?e:E(e),t=m(arguments,1);return z[++T]=function(){l(n,void 0,t)},r(T),T},y=function(e){delete z[e]},b?r=function(e){x.nextTick(j(e))}:k&&k.now?r=function(e){k.now(j(e))}:I&&!w?(a=(i=new I).port2,i.port1.onmessage=P,r=c(a.postMessage,a)):s.addEventListener&&d(s.postMessage)&&!s.importScripts&&o&&"file:"!==o.protocol&&!u(C)?(r=C,s.addEventListener("message",P,!1)):r="onreadystatechange"in g("script")?function(e){h.appendChild(g("script")).onreadystatechange=function(){h.removeChild(this),A(e)}}:function(e){setTimeout(j(e),0)}),e.exports={set:v,clear:y}},function(e,n,t){var o=t(32);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},function(e,n,t){var o=t(8),r=t(9),i=t(173);e.exports=function(e,n){if(o(e),r(n)&&n.constructor===e)return n;var t=i.f(e);return(0,t.resolve)(n),t.promise}},function(e,n,t){"use strict";var o=t(37),r=function(e){var n,t;this.promise=new e((function(e,o){if(void 0!==n||void 0!==t)throw TypeError("Bad Promise constructor");n=e,t=o})),this.resolve=o(n),this.reject=o(t)};e.exports.f=function(e){return new r(e)}},function(e,n,t){var o=t(2),r=t(55),i=t(12),a=t(18),s=o("".charAt),l=o("".charCodeAt),c=o("".slice),d=function(e){return function(n,t){var o,d,p=i(a(n)),u=r(t),h=p.length;return u<0||u>=h?e?"":void 0:(o=l(p,u))<55296||o>56319||u+1===h||(d=l(p,u+1))<56320||d>57343?e?s(p,u):o:e?c(p,u,u+2):d-56320+(o-55296<<10)+65536}};e.exports={codeAt:d(!1),charAt:d(!0)}},function(e,n){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,n,t){var o=t(81)("span").classList,r=o&&o.constructor&&o.constructor.prototype;e.exports=r===Object.prototype?void 0:r},function(e,n,t){var o=t(1),r=t(7),i=t(120),a=t(19),s=t(38),l=t(69);o({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var n,t,o=a(e),r=s.f,c=i(o),d={},p=0;c.length>p;)void 0!==(t=r(o,n=c[p++]))&&l(d,n,t);return d}})},function(e,n,t){var o=t(1),r=t(3),i=t(15),a=t(122),s=t(164);o({target:"Object",stat:!0,forced:r((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},function(e,n,t){"use strict";var o,r=t(1),i=t(2),a=t(38).f,s=t(52),l=t(12),c=t(180),d=t(18),p=t(181),u=t(26),h=i("".startsWith),m=i("".slice),g=Math.min,f=p("startsWith");r({target:"String",proto:!0,forced:!!(u||f||(o=a(String.prototype,"startsWith"),!o||o.writable))&&!f},{startsWith:function(e){var n=l(d(this));c(e);var t=s(g(arguments.length>1?arguments[1]:void 0,n.length)),o=l(e);return h?h(n,o,t):m(n,t,t+o.length)===o}})},function(e,n,t){var o=t(0),r=t(148),i=o.TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},function(e,n,t){var o=t(6)("match");e.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[o]=!1,"/./"[e](n)}catch(e){}}return!1}},function(e,n,t){"use strict";var o=t(57).forEach,r=t(46)("forEach");e.exports=r?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,n,t){var o=t(3);e.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,n,t){var o=t(25),r=t(19),i=t(58).f,a=t(125),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==o(e)?function(e){try{return i(e)}catch(e){return a(s)}}(e):i(r(e))}},function(e,n,t){var o=t(6);n.f=o},function(e,n,t){var o=t(261),r=t(10),i=t(185),a=t(13).f;e.exports=function(e){var n=o.Symbol||(o.Symbol={});r(n,e)||a(n,e,{value:i.f(e)})}},function(e,n,t){var o=t(1),r=t(262);o({target:"Array",stat:!0,forced:!t(168)((function(e){Array.from(e)}))},{from:r})},function(e,n,t){var o=t(12);e.exports=function(e,n){return void 0===e?arguments.length<2?"":n:o(e)}},function(e,n,t){t(1)({target:"Object",stat:!0,sham:!t(7)},{create:t(34)})},function(e,n,t){var o=t(1),r=t(0),i=t(16),a=t(36),s=t(2),l=t(3),c=r.Array,d=i("JSON","stringify"),p=s(/./.exec),u=s("".charAt),h=s("".charCodeAt),m=s("".replace),g=s(1..toString),f=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,v=function(e,n,t){var o=u(t,n-1),r=u(t,n+1);return p(w,e)&&!p(b,r)||p(b,e)&&!p(w,o)?"\\u"+g(h(e,0),16):e},y=l((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&o({target:"JSON",stat:!0,forced:y},{stringify:function(e,n,t){for(var o=0,r=arguments.length,i=c(r);o<r;o++)i[o]=arguments[o];var s=a(d,null,i);return"string"==typeof s?m(s,f,v):s}})},function(e,n){e.exports=function(e,n){for(var t=-1,o=n.length,r=e.length;++t<o;)e[r+t]=n[t];return e}},function(e,n){var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},function(e,n,t){var o=t(94),r=t(283),i=t(284),a=t(285),s=t(286),l=t(287);function c(e){var n=this.__data__=new o(e);this.size=n.size}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},function(e,n){e.exports=function(e,n){return e===n||e!=e&&n!=n}},function(e,n,t){var o=t(61),r=t(130);e.exports=function(e){if(!r(e))return!1;var n=o(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},function(e,n){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,n,t){var o=t(304),r=t(49);e.exports=function e(n,t,i,a,s){return n===t||(null==n||null==t||!r(n)&&!r(t)?n!=n&&t!=t:o(n,t,i,a,e,s))}},function(e,n,t){var o=t(199),r=t(307),i=t(200);e.exports=function(e,n,t,a,s,l){var c=1&t,d=e.length,p=n.length;if(d!=p&&!(c&&p>d))return!1;var u=l.get(e),h=l.get(n);if(u&&h)return u==n&&h==e;var m=-1,g=!0,f=2&t?new o:void 0;for(l.set(e,n),l.set(n,e);++m<d;){var w=e[m],b=n[m];if(a)var v=c?a(b,w,m,n,e,l):a(w,b,m,e,n,l);if(void 0!==v){if(v)continue;g=!1;break}if(f){if(!r(n,(function(e,n){if(!i(f,n)&&(w===e||s(w,e,t,a,l)))return f.push(n)}))){g=!1;break}}else if(w!==b&&!s(w,b,t,a,l)){g=!1;break}}return l.delete(e),l.delete(n),g}},function(e,n,t){var o=t(131),r=t(305),i=t(306);function a(e){var n=-1,t=null==e?0:e.length;for(this.__data__=new o;++n<t;)this.add(e[n])}a.prototype.add=a.prototype.push=r,a.prototype.has=i,e.exports=a},function(e,n){e.exports=function(e,n){return e.has(n)}},function(e,n,t){var o=t(317),r=t(323),i=t(205);e.exports=function(e){return i(e)?o(e):r(e)}},function(e,n,t){(function(e){var o=t(33),r=t(319),i=n&&!n.nodeType&&n,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?o.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l}).call(this,t(151)(e))},function(e,n){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var o=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&t.test(e))&&e>-1&&e%1==0&&e<n}},function(e,n,t){var o=t(320),r=t(321),i=t(322),a=i&&i.isTypedArray,s=a?r(a):o;e.exports=s},function(e,n,t){var o=t(195),r=t(133);e.exports=function(e){return null!=e&&r(e.length)&&!o(e)}},function(e,n,t){var o=t(41)(t(33),"Set");e.exports=o},function(e,n,t){var o=t(130);e.exports=function(e){return e==e&&!o(e)}},function(e,n){e.exports=function(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}},function(e,n,t){var o=t(210),r=t(98);e.exports=function(e,n){for(var t=0,i=(n=o(n,e)).length;null!=e&&t<i;)e=e[r(n[t++])];return t&&t==i?e:void 0}},function(e,n,t){var o=t(31),r=t(134),i=t(334),a=t(337);e.exports=function(e,n){return o(e)?e:r(e,n)?[e]:i(a(e))}},function(e,n,t){"use strict";var o=t(0),r=t(2),i=t(37),a=t(9),s=t(10),l=t(68),c=t(63),d=o.Function,p=r([].concat),u=r([].join),h={},m=function(e,n,t){if(!s(h,n)){for(var o=[],r=0;r<n;r++)o[r]="a["+r+"]";h[n]=d("C,a","return new C("+u(o,",")+")")}return h[n](e,t)};e.exports=c?d.bind:function(e){var n=i(this),t=n.prototype,o=l(arguments,1),r=function(){var t=p(o,l(arguments));return this instanceof r?m(n,t.length,t):n.apply(e,t)};return a(t)&&(r.prototype=t),r}},function(e,n,t){"use strict";var o=t(1),r=t(369).start;o({target:"String",proto:!0,forced:t(371)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,n,t){},function(e,n,t){},function(e,n,t){t(1)({target:"Object",stat:!0},{setPrototypeOf:t(67)})},function(e,n,t){var o=t(1),r=t(16),i=t(36),a=t(211),s=t(169),l=t(8),c=t(9),d=t(34),p=t(3),u=r("Reflect","construct"),h=Object.prototype,m=[].push,g=p((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),f=!p((function(){u((function(){}))})),w=g||f;o({target:"Reflect",stat:!0,forced:w,sham:w},{construct:function(e,n){s(e),l(n);var t=arguments.length<3?e:s(arguments[2]);if(f&&!g)return u(e,n,t);if(e==t){switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3])}var o=[null];return i(m,o,n),new(i(a,e,o))}var r=t.prototype,p=d(c(r)?r:h),w=i(e,p,n);return c(w)?w:p}})},function(e,n,t){},function(e,n,t){},function(e,n,t){var o=t(270),r=t(275),i=t(346),a=t(354),s=t(363),l=t(233),c=i((function(e){var n=l(e);return s(n)&&(n=void 0),a(o(e,1,s,!0),r(n,2))}));e.exports=c},function(e,n,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var o=/["'&<>]/;e.exports=function(e){var n,t=""+e,r=o.exec(t);if(!r)return t;var i="",a=0,s=0;for(a=r.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==a&&(i+=t.substring(s,a)),s=a+1,i+=n}return s!==a?i+t.substring(s,a):i}},function(e,n,t){"use strict";
/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var o=t(383),r=t(384),i=t(385),a=!1,s=t(386).version,l=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],c=l.concat("cache"),d=/^\uFEFF/;function p(e,t){var r,i,a=t.views,s=/^[A-Za-z]+:\\|^\//.exec(e);if(s&&s.length)r=n.resolveInclude(e.replace(/^\/*/,""),t.root||"/",!0);else if(t.filename&&(i=n.resolveInclude(e,t.filename),o.existsSync(i)&&(r=i)),r||Array.isArray(a)&&a.some((function(t){return i=n.resolveInclude(e,t,!0),o.existsSync(i)}))&&(r=i),!r)throw new Error('Could not find the include file "'+t.escapeFunction(e)+'"');return r}function u(e,t){var o,r=e.filename,i=arguments.length>1;if(e.cache){if(!r)throw new Error("cache option requires a filename");if(o=n.cache.get(r))return o;i||(t=m(r).toString().replace(d,""))}else if(!i){if(!r)throw new Error("Internal EJS error: no file name or template provided");t=m(r).toString().replace(d,"")}return o=n.compile(t,e),e.cache&&n.cache.set(r,o),o}function h(e,t,o){var r;if(!o){if("function"==typeof n.promiseImpl)return new n.promiseImpl((function(n,o){try{n(r=u(e)(t))}catch(e){o(e)}}));throw new Error("Please provide a callback function")}try{r=u(e)(t)}catch(e){return o(e)}o(null,r)}function m(e){return n.fileLoader(e)}function g(e,n,t,o,r){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),l=r(t),c=i.slice(a,s).map((function(e,n){var t=n+a+1;return(t==o?" >> ":"    ")+t+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+o+"\n"+c+"\n\n"+e.message,e}function f(e){return e.replace(/;(\s*$)/,"$1")}function w(e,t){t=t||{};var o={};this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],o.client=t.client||!1,o.escapeFunction=t.escape||t.escapeFunction||i.escapeXML,o.compileDebug=!1!==t.compileDebug,o.debug=!!t.debug,o.filename=t.filename,o.openDelimiter=t.openDelimiter||n.openDelimiter||"<",o.closeDelimiter=t.closeDelimiter||n.closeDelimiter||">",o.delimiter=t.delimiter||n.delimiter||"%",o.strict=t.strict||!1,o.context=t.context,o.cache=t.cache||!1,o.rmWhitespace=t.rmWhitespace,o.root=t.root,o.outputFunctionName=t.outputFunctionName,o.localsName=t.localsName||n.localsName||"locals",o.views=t.views,o.async=t.async,o.destructuredLocals=t.destructuredLocals,o.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,o.strict?o._with=!1:o._with=void 0===t._with||t._with,this.opts=o,this.regex=this.createRegex()}n.cache=i.cache,n.fileLoader=o.readFileSync,n.localsName="locals",n.promiseImpl=new Function("return this;")().Promise,n.resolveInclude=function(e,n,t){var o=r.dirname,i=r.extname,a=(0,r.resolve)(t?n:o(n),e);return i(e)||(a+=".ejs"),a},n.compile=function(e,n){return n&&n.scope&&(a||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),a=!0),n.context||(n.context=n.scope),delete n.scope),new w(e,n).compile()},n.render=function(e,n,t){var o=n||{},r=t||{};return 2==arguments.length&&i.shallowCopyFromList(r,o,l),u(r,e)(o)},n.renderFile=function(){var e,n,t,o=Array.prototype.slice.call(arguments),r=o.shift(),a={filename:r};return"function"==typeof arguments[arguments.length-1]&&(e=o.pop()),o.length?(n=o.shift(),o.length?i.shallowCopy(a,o.pop()):(n.settings&&(n.settings.views&&(a.views=n.settings.views),n.settings["view cache"]&&(a.cache=!0),(t=n.settings["view options"])&&i.shallowCopy(a,t)),i.shallowCopyFromList(a,n,c)),a.filename=r):n={},h(a,n,e)},n.Template=w,n.clearCache=function(){n.cache.reset()},w.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},w.prototype={createRegex:function(){var e="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",n=i.escapeRegExpChars(this.opts.delimiter),t=i.escapeRegExpChars(this.opts.openDelimiter),o=i.escapeRegExpChars(this.opts.closeDelimiter);return e=e.replace(/%/g,n).replace(/</g,t).replace(/>/g,o),new RegExp(e)},compile:function(){var e,n,t,o=this.opts,a="",s="",l=o.escapeFunction;if(!this.source){if(this.generateSource(),a+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',o.outputFunctionName&&(a+="  var "+o.outputFunctionName+" = __append;\n"),o.destructuredLocals&&o.destructuredLocals.length){for(var c="  var __locals = ("+o.localsName+" || {}),\n",d=0;d<o.destructuredLocals.length;d++){var h=o.destructuredLocals[d];d>0&&(c+=",\n  "),c+=h+" = __locals."+h}a+=c+";\n"}!1!==o._with&&(a+="  with ("+o.localsName+" || {}) {\n",s+="  }\n"),s+="  return __output;\n",this.source=a+this.source+s}e=o.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(o.filename?JSON.stringify(o.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,o.client&&(e="escapeFn = escapeFn || "+l.toString()+";\n"+e,o.compileDebug&&(e="rethrow = rethrow || "+g.toString()+";\n"+e)),o.strict&&(e='"use strict";\n'+e),o.debug&&console.log(e),o.compileDebug&&o.filename&&(e=e+"\n//# sourceURL="+o.filename+"\n");try{if(o.async)try{t=new Function("return (async function(){}).constructor;")()}catch(e){throw e instanceof SyntaxError?new Error("This environment does not support async/await"):e}else t=Function;n=new t(o.localsName+", escapeFn, include, rethrow",e)}catch(e){throw e instanceof SyntaxError&&(o.filename&&(e.message+=" in "+o.filename),e.message+=" while compiling ejs\n\n",e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",e.message+="https://github.com/RyanZim/EJS-Lint",o.async||(e.message+="\n",e.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),e}var m=o.client?n:function(e){return n.apply(o.context,[e||{},l,function(n,t){var r=i.shallowCopy({},e);return t&&(r=i.shallowCopy(r,t)),function(e,n){var t=i.shallowCopy({},n);return t.filename=p(e,t),u(t)}(n,o)(r)},g])};if(m.dependencies=this.dependencies,o.filename&&"function"==typeof Object.defineProperty){var f=o.filename,w=r.basename(f,r.extname(f));try{Object.defineProperty(m,"name",{value:w,writable:!1,enumerable:!1,configurable:!0})}catch(e){}}return m},generateSource:function(){var e=this.opts;e.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,o=this.parseTemplateText(),r=this.opts.delimiter,a=this.opts.openDelimiter,s=this.opts.closeDelimiter;o&&o.length&&o.forEach((function(l,c){var u,h,g,f,b,v;if(0===l.indexOf(a+r)&&0!==l.indexOf(a+r+r)&&(h=o[c+2])!=r+s&&h!="-"+r+s&&h!="_"+r+s)throw new Error('Could not find matching close tag for "'+l+'".');if(e.legacyInclude&&(g=l.match(/^\s*include\s+(\S+)/))&&(u=o[c-1])&&(u==a+r||u==a+r+"-"||u==a+r+"_"))return f=i.shallowCopy({},t.opts),b=function(e,n){var t,o,r=i.shallowCopy({},n);o=m(t=p(e,r)).toString().replace(d,""),r.filename=t;var a=new w(o,r);return a.generateSource(),{source:a.source,filename:t,template:o}}(g[1],f),v=t.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(b.template)+"\n      , __filename = "+JSON.stringify(b.filename)+";\n      try {\n"+b.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line, escapeFn);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+b.source+"    ; }).call(this)\n",t.source+=v,void t.dependencies.push(n.resolveInclude(g[1],f.filename));t.scanLine(l)}))},parseTemplateText:function(){for(var e,n=this.templateText,t=this.regex,o=t.exec(n),r=[];o;)0!==(e=o.index)&&(r.push(n.substring(0,e)),n=n.slice(e)),r.push(o[0]),n=n.slice(o[0].length),o=t.exec(n);return n&&r.push(n),r},_addOutput:function(e){if(this.truncate&&(e=e.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!e)return e;e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+e+'")\n'},scanLine:function(e){var n,t=this.opts.delimiter,o=this.opts.openDelimiter,r=this.opts.closeDelimiter;switch(n=e.split("\n").length-1,e){case o+t:case o+t+"_":this.mode=w.modes.EVAL;break;case o+t+"=":this.mode=w.modes.ESCAPED;break;case o+t+"-":this.mode=w.modes.RAW;break;case o+t+"#":this.mode=w.modes.COMMENT;break;case o+t+t:this.mode=w.modes.LITERAL,this.source+='    ; __append("'+e.replace(o+t+t,o+t)+'")\n';break;case t+t+r:this.mode=w.modes.LITERAL,this.source+='    ; __append("'+e.replace(t+t+r,t+r)+'")\n';break;case t+r:case"-"+t+r:case"_"+t+r:this.mode==w.modes.LITERAL&&this._addOutput(e),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case w.modes.EVAL:case w.modes.ESCAPED:case w.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case w.modes.EVAL:this.source+="    ; "+e+"\n";break;case w.modes.ESCAPED:this.source+="    ; __append(escapeFn("+f(e)+"))\n";break;case w.modes.RAW:this.source+="    ; __append("+f(e)+")\n";break;case w.modes.COMMENT:break;case w.modes.LITERAL:this._addOutput(e)}}else this._addOutput(e)}this.opts.compileDebug&&n&&(this.currentLine+=n,this.source+="    ; __line = "+this.currentLine+"\n")}},n.escapeXML=i.escapeXML,n.__express=n.renderFile,n.VERSION=s,n.name="ejs","undefined"!=typeof window&&(window.ejs=n)},function(e,n,t){"use strict";t.r(n);var o={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},r=(t(372),t(20)),i=Object(r.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);n.default=i.exports},function(e,n,t){"use strict";t.r(n);t(28),t(4),t(29),t(44),t(23);var o={name:"CodeGroup",data:function(){return{codeTabs:[],activeCodeTabIndex:-1}},watch:{activeCodeTabIndex:function(e){this.codeTabs.forEach((function(e){e.elm.classList.remove("theme-code-block__active")})),this.codeTabs[e].elm.classList.add("theme-code-block__active")}},mounted:function(){var e=this;this.codeTabs=(this.$slots.default||[]).filter((function(e){return Boolean(e.componentOptions)})).map((function(n,t){return""===n.componentOptions.propsData.active&&(e.activeCodeTabIndex=t),{title:n.componentOptions.propsData.title,elm:n.elm}})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab:function(e){this.activeCodeTabIndex=e}}},r=(t(373),t(20)),i=Object(r.a)(o,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"theme-code-group"},[t("div",{staticClass:"theme-code-group__nav"},[t("ul",{staticClass:"theme-code-group__ul"},e._l(e.codeTabs,(function(n,o){return t("li",{key:n.title,staticClass:"theme-code-group__li"},[t("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":o===e.activeCodeTabIndex},on:{click:function(n){return e.changeCodeTab(o)}}},[e._v("\n            "+e._s(n.title)+"\n          ")])])})),0)]),e._v(" "),e._t("default"),e._v(" "),e.codeTabs.length<1?t("pre",{staticClass:"pre-blank"},[e._v("// Make sure to add code blocks to your code group")]):e._e()],2)}),[],!1,null,"2f5f1757",null);n.default=i.exports},function(e,n,t){"use strict";var o=t(7),r=t(0),i=t(2),a=t(105),s=t(14),l=t(10),c=t(150),d=t(35),p=t(83),u=t(159),h=t(3),m=t(58).f,g=t(38).f,f=t(13).f,w=t(368),b=t(153).trim,v=r.Number,y=v.prototype,x=r.TypeError,k=i("".slice),E=i("".charCodeAt),I=function(e){var n=u(e,"number");return"bigint"==typeof n?n:S(n)},S=function(e){var n,t,o,r,i,a,s,l,c=u(e,"number");if(p(c))throw x("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(n=E(c,0))||45===n){if(88===(t=E(c,2))||120===t)return NaN}else if(48===n){switch(E(c,1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+c}for(a=(i=k(c,2)).length,s=0;s<a;s++)if((l=E(i,s))<48||l>r)return NaN;return parseInt(i,o)}return+c};if(a("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var T,z=function(e){var n=arguments.length<1?0:v(I(e)),t=this;return d(y,t)&&h((function(){w(t)}))?c(Object(n),t,z):n},A=o?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),j=0;A.length>j;j++)l(v,T=A[j])&&!l(z,T)&&f(z,T,g(v,T));z.prototype=y,y.constructor=z,s(r,"Number",z)}},function(e,n,t){var o=t(3),r=t(0).RegExp;e.exports=o((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,n,t){"use strict";var o=t(163).IteratorPrototype,r=t(34),i=t(48),a=t(59),s=t(65),l=function(){return this};e.exports=function(e,n,t,c){var d=n+" Iterator";return e.prototype=r(o,{next:i(+!c,t)}),a(e,d,!1,!0),s[d]=l,e}},function(e,n,t){var o=t(14);e.exports=function(e,n,t){for(var r in n)o(e,r,n[r],t);return e}},function(e,n,t){"use strict";var o=t(16),r=t(13),i=t(6),a=t(7),s=i("species");e.exports=function(e){var n=o(e),t=r.f;a&&n&&!n[s]&&t(n,s,{configurable:!0,get:function(){return this}})}},function(e,n,t){var o=t(0),r=t(35),i=o.TypeError;e.exports=function(e,n){if(r(n,e))return e;throw i("Incorrect invocation")}},function(e,n,t){var o=t(3),r=t(0).RegExp;e.exports=o((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,n,t){"use strict";var o=t(1),r=t(115).includes,i=t(141);o({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,n,t){"use strict";var o=t(1),r=t(2),i=t(180),a=t(18),s=t(12),l=t(181),c=r("".indexOf);o({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(s(a(this)),s(i(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,n){e.exports=function(e){var n=null==e?0:e.length;return n?e[n-1]:void 0}},function(e,n,t){"use strict";var o=t(1),r=t(153).trim;o({target:"String",proto:!0,forced:t(366)("trim")},{trim:function(){return r(this)}})},function(e,n,t){var o=t(125),r=Math.floor,i=function(e,n){var t=e.length,l=r(t/2);return t<8?a(e,n):s(e,i(o(e,0,l),n),i(o(e,l),n),n)},a=function(e,n){for(var t,o,r=e.length,i=1;i<r;){for(o=i,t=e[i];o&&n(e[o-1],t)>0;)e[o]=e[--o];o!==i++&&(e[o]=t)}return e},s=function(e,n,t,o){for(var r=n.length,i=t.length,a=0,s=0;a<r||s<i;)e[a+s]=a<r&&s<i?o(n[a],t[s])<=0?n[a++]:t[s++]:a<r?n[a++]:t[s++];return e};e.exports=i},function(e,n,t){var o=t(0),r=t(7),i=t(107).MISSED_STICKY,a=t(25),s=t(13).f,l=t(39).get,c=RegExp.prototype,d=o.TypeError;r&&i&&s(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!l(this).sticky;throw d("Incompatible receiver, RegExp required")}}})},function(e,n,t){e.exports=t(389)},function(e,n,t){var o=t(0),r=t(11),i=t(5),a=t(9),s=o.TypeError;e.exports=function(e,n){var t,o;if("string"===n&&i(t=e.toString)&&!a(o=r(t,e)))return o;if(i(t=e.valueOf)&&!a(o=r(t,e)))return o;if("string"!==n&&i(t=e.toString)&&!a(o=r(t,e)))return o;throw s("Can't convert object to primitive value")}},function(e,n,t){var o=t(0),r=t(5),i=t(87),a=o.WeakMap;e.exports=r(a)&&/native code/.test(i(a))},function(e,n,t){var o=t(0),r=t(5),i=o.String,a=o.TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},function(e,n,t){"use strict";var o,r,i,a,s=t(1),l=t(26),c=t(0),d=t(16),p=t(11),u=t(165),h=t(14),m=t(227),g=t(67),f=t(59),w=t(228),b=t(37),v=t(5),y=t(9),x=t(229),k=t(87),E=t(242),I=t(168),S=t(124),T=t(170).set,z=t(243),A=t(172),j=t(246),P=t(173),C=t(247),_=t(248),B=t(39),O=t(105),q=t(6),D=t(249),W=t(89),R=t(51),L=q("species"),M="Promise",N=B.getterFor(M),F=B.set,U=B.getterFor(M),H=u&&u.prototype,$=u,V=H,G=c.TypeError,Z=c.document,J=c.process,K=P.f,X=K,Y=!!(Z&&Z.createEvent&&c.dispatchEvent),Q=v(c.PromiseRejectionEvent),ee=!1,ne=O(M,(function(){var e=k($),n=e!==String($);if(!n&&66===R)return!0;if(l&&!V.finally)return!0;if(R>=51&&/native code/.test(e))return!1;var t=new $((function(e){e(1)})),o=function(e){e((function(){}),(function(){}))};return(t.constructor={})[L]=o,!(ee=t.then((function(){}))instanceof o)||!n&&D&&!Q})),te=ne||!I((function(e){$.all(e).catch((function(){}))})),oe=function(e){var n;return!(!y(e)||!v(n=e.then))&&n},re=function(e,n){var t,o,r,i=n.value,a=1==n.state,s=a?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{s?(a||(2===n.rejection&&ce(n),n.rejection=1),!0===s?t=i:(d&&d.enter(),t=s(i),d&&(d.exit(),r=!0)),t===e.promise?c(G("Promise-chain cycle")):(o=oe(t))?p(o,t,l,c):l(t)):c(i)}catch(e){d&&!r&&d.exit(),c(e)}},ie=function(e,n){e.notified||(e.notified=!0,z((function(){for(var t,o=e.reactions;t=o.get();)re(t,e);e.notified=!1,n&&!e.rejection&&se(e)})))},ae=function(e,n,t){var o,r;Y?((o=Z.createEvent("Event")).promise=n,o.reason=t,o.initEvent(e,!1,!0),c.dispatchEvent(o)):o={promise:n,reason:t},!Q&&(r=c["on"+e])?r(o):"unhandledrejection"===e&&j("Unhandled promise rejection",t)},se=function(e){p(T,c,(function(){var n,t=e.facade,o=e.value;if(le(e)&&(n=C((function(){W?J.emit("unhandledRejection",o,t):ae("unhandledrejection",t,o)})),e.rejection=W||le(e)?2:1,n.error))throw n.value}))},le=function(e){return 1!==e.rejection&&!e.parent},ce=function(e){p(T,c,(function(){var n=e.facade;W?J.emit("rejectionHandled",n):ae("rejectionhandled",n,e.value)}))},de=function(e,n,t){return function(o){e(n,o,t)}},pe=function(e,n,t){e.done||(e.done=!0,t&&(e=t),e.value=n,e.state=2,ie(e,!0))},ue=function(e,n,t){if(!e.done){e.done=!0,t&&(e=t);try{if(e.facade===n)throw G("Promise can't be resolved itself");var o=oe(n);o?z((function(){var t={done:!1};try{p(o,n,de(ue,t,e),de(pe,t,e))}catch(n){pe(t,n,e)}})):(e.value=n,e.state=1,ie(e,!1))}catch(n){pe({done:!1},n,e)}}};if(ne&&(V=($=function(e){x(this,V),b(e),p(o,this);var n=N(this);try{e(de(ue,n),de(pe,n))}catch(e){pe(n,e)}}).prototype,(o=function(e){F(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new _,rejection:!1,state:0,value:void 0})}).prototype=m(V,{then:function(e,n){var t=U(this),o=K(S(this,$));return t.parent=!0,o.ok=!v(e)||e,o.fail=v(n)&&n,o.domain=W?J.domain:void 0,0==t.state?t.reactions.add(o):z((function(){re(o,t)})),o.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new o,n=N(e);this.promise=e,this.resolve=de(ue,n),this.reject=de(pe,n)},P.f=K=function(e){return e===$||e===i?new r(e):X(e)},!l&&v(u)&&H!==Object.prototype)){a=H.then,ee||(h(H,"then",(function(e,n){var t=this;return new $((function(e,n){p(a,t,e,n)})).then(e,n)}),{unsafe:!0}),h(H,"catch",V.catch,{unsafe:!0}));try{delete H.constructor}catch(e){}g&&g(H,V)}s({global:!0,wrap:!0,forced:ne},{Promise:$}),f($,M,!1,!0),w(M),i=d(M),s({target:M,stat:!0,forced:ne},{reject:function(e){var n=K(this);return p(n.reject,void 0,e),n.promise}}),s({target:M,stat:!0,forced:l||ne},{resolve:function(e){return A(l&&this===i?$:this,e)}}),s({target:M,stat:!0,forced:te},{all:function(e){var n=this,t=K(n),o=t.resolve,r=t.reject,i=C((function(){var t=b(n.resolve),i=[],a=0,s=1;E(e,(function(e){var l=a++,c=!1;s++,p(t,n,e).then((function(e){c||(c=!0,i[l]=e,--s||o(i))}),r)})),--s||o(i)}));return i.error&&r(i.value),t.promise},race:function(e){var n=this,t=K(n),o=t.reject,r=C((function(){var r=b(n.resolve);E(e,(function(e){p(r,n,e).then(t.resolve,o)}))}));return r.error&&o(r.value),t.promise}})},function(e,n,t){var o=t(0),r=t(56),i=t(11),a=t(8),s=t(84),l=t(166),c=t(22),d=t(35),p=t(145),u=t(106),h=t(167),m=o.TypeError,g=function(e,n){this.stopped=e,this.result=n},f=g.prototype;e.exports=function(e,n,t){var o,w,b,v,y,x,k,E=t&&t.that,I=!(!t||!t.AS_ENTRIES),S=!(!t||!t.IS_ITERATOR),T=!(!t||!t.INTERRUPTED),z=r(n,E),A=function(e){return o&&h(o,"normal",e),new g(!0,e)},j=function(e){return I?(a(e),T?z(e[0],e[1],A):z(e[0],e[1])):T?z(e,A):z(e)};if(S)o=e;else{if(!(w=u(e)))throw m(s(e)+" is not iterable");if(l(w)){for(b=0,v=c(e);v>b;b++)if((y=j(e[b]))&&d(f,y))return y;return new g(!1)}o=p(e,w)}for(x=o.next;!(k=i(x,o)).done;){try{y=j(k.value)}catch(e){h(o,"throw",e)}if("object"==typeof y&&y&&d(f,y))return y}return new g(!1)}},function(e,n,t){var o,r,i,a,s,l,c,d,p=t(0),u=t(56),h=t(38).f,m=t(170).set,g=t(171),f=t(244),w=t(245),b=t(89),v=p.MutationObserver||p.WebKitMutationObserver,y=p.document,x=p.process,k=p.Promise,E=h(p,"queueMicrotask"),I=E&&E.value;I||(o=function(){var e,n;for(b&&(e=x.domain)&&e.exit();r;){n=r.fn,r=r.next;try{n()}catch(e){throw r?a():i=void 0,e}}i=void 0,e&&e.enter()},g||b||w||!v||!y?!f&&k&&k.resolve?((c=k.resolve(void 0)).constructor=k,d=u(c.then,c),a=function(){d(o)}):b?a=function(){x.nextTick(o)}:(m=u(m,p),a=function(){m(o)}):(s=!0,l=y.createTextNode(""),new v(o).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),e.exports=I||function(e){var n={fn:e,next:void 0};i&&(i.next=n),r||(r=n,a()),i=n}},function(e,n,t){var o=t(32),r=t(0);e.exports=/ipad|iphone|ipod/i.test(o)&&void 0!==r.Pebble},function(e,n,t){var o=t(32);e.exports=/web0s(?!.*chrome)/i.test(o)},function(e,n,t){var o=t(0);e.exports=function(e,n){var t=o.console;t&&t.error&&(1==arguments.length?t.error(e):t.error(e,n))}},function(e,n){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,n){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var n={item:e,next:null};this.head?this.tail.next=n:this.head=n,this.tail=n},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},function(e,n){e.exports="object"==typeof window},function(e,n,t){var o=t(1),r=t(251);o({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,n,t){"use strict";var o=t(7),r=t(2),i=t(11),a=t(3),s=t(85),l=t(121),c=t(118),d=t(15),p=t(62),u=Object.assign,h=Object.defineProperty,m=r([].concat);e.exports=!u||a((function(){if(o&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},n={},t=Symbol();return e[t]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),7!=u({},e)[t]||"abcdefghijklmnopqrst"!=s(u({},n)).join("")}))?function(e,n){for(var t=d(e),r=arguments.length,a=1,u=l.f,h=c.f;r>a;)for(var g,f=p(arguments[a++]),w=u?m(s(f),u(f)):s(f),b=w.length,v=0;b>v;)g=w[v++],o&&!i(h,f,g)||(t[g]=f[g]);return t}:u},function(e,n,t){"use strict";var o=t(1),r=t(26),i=t(165),a=t(3),s=t(16),l=t(5),c=t(124),d=t(172),p=t(14);if(o({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var n=c(this,s("Promise")),t=l(e);return this.then(t?function(t){return d(n,e()).then((function(){return t}))}:e,t?function(t){return d(n,e()).then((function(){throw t}))}:e)}}),!r&&l(i)){var u=s("Promise").prototype.finally;i.prototype.finally!==u&&p(i.prototype,"finally",u,{unsafe:!0})}},function(e,n,t){"use strict";var o=t(123),r=t(76);e.exports=o?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,n,t){var o=t(0),r=t(60),i=t(88),a=t(9),s=t(6)("species"),l=o.Array;e.exports=function(e){var n;return r(e)&&(n=e.constructor,(i(n)&&(n===l||r(n.prototype))||a(n)&&null===(n=n[s]))&&(n=void 0)),void 0===n?l:n}},function(e,n,t){"use strict";var o=t(1),r=t(256).left,i=t(46),a=t(51),s=t(89);o({target:"Array",proto:!0,forced:!i("reduce")||!s&&a>79&&a<83},{reduce:function(e){var n=arguments.length;return r(this,e,n,n>1?arguments[1]:void 0)}})},function(e,n,t){var o=t(0),r=t(37),i=t(15),a=t(62),s=t(22),l=o.TypeError,c=function(e){return function(n,t,o,c){r(t);var d=i(n),p=a(d),u=s(d),h=e?u-1:0,m=e?-1:1;if(o<2)for(;;){if(h in p){c=p[h],h+=m;break}if(h+=m,e?h<0:u<=h)throw l("Reduce of empty array with no initial value")}for(;e?h>=0:u>h;h+=m)h in p&&(c=t(c,p[h],h,d));return c}};e.exports={left:c(!1),right:c(!0)}},function(e,n,t){var o=t(1),r=t(183),i=t(3),a=t(9),s=t(258).onFreeze,l=Object.freeze;o({target:"Object",stat:!0,forced:i((function(){l(1)})),sham:!r},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},function(e,n,t){var o=t(1),r=t(2),i=t(64),a=t(9),s=t(10),l=t(13).f,c=t(58),d=t(184),p=t(259),u=t(80),h=t(183),m=!1,g=u("meta"),f=0,w=function(e){l(e,g,{value:{objectID:"O"+f++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},m=!0;var e=c.f,n=r([].splice),t={};t[g]=1,e(t).length&&(c.f=function(t){for(var o=e(t),r=0,i=o.length;r<i;r++)if(o[r]===g){n(o,r,1);break}return o},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},fastKey:function(e,n){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!p(e))return"F";if(!n)return"E";w(e)}return e[g].objectID},getWeakData:function(e,n){if(!s(e,g)){if(!p(e))return!0;if(!n)return!1;w(e)}return e[g].weakData},onFreeze:function(e){return h&&m&&p(e)&&!s(e,g)&&w(e),e}};i[g]=!0},function(e,n,t){var o=t(3),r=t(9),i=t(25),a=t(260),s=Object.isExtensible,l=o((function(){s(1)}));e.exports=l||a?function(e){return!!r(e)&&((!a||"ArrayBuffer"!=i(e))&&(!s||s(e)))}:s},function(e,n,t){var o=t(3);e.exports=o((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,n,t){var o=t(0);e.exports=o},function(e,n,t){"use strict";var o=t(0),r=t(56),i=t(11),a=t(15),s=t(263),l=t(166),c=t(88),d=t(22),p=t(69),u=t(145),h=t(106),m=o.Array;e.exports=function(e){var n=a(e),t=c(this),o=arguments.length,g=o>1?arguments[1]:void 0,f=void 0!==g;f&&(g=r(g,o>2?arguments[2]:void 0));var w,b,v,y,x,k,E=h(n),I=0;if(!E||this==m&&l(E))for(w=d(n),b=t?new this(w):m(w);w>I;I++)k=f?g(n[I],I):n[I],p(b,I,k);else for(x=(y=u(n,E)).next,b=t?new this:[];!(v=i(x,y)).done;I++)k=f?s(y,g,[v.value,I],!0):v.value,p(b,I,k);return b.length=I,b}},function(e,n,t){var o=t(8),r=t(167);e.exports=function(e,n,t,i){try{return i?n(o(t)[0],t[1]):n(t)}catch(n){r(e,"throw",n)}}},function(e,n,t){"use strict";var o=t(16),r=t(10),i=t(27),a=t(35),s=t(67),l=t(119),c=t(150),d=t(188),p=t(265),u=t(266),h=t(267),m=t(26);e.exports=function(e,n,t,g){var f=g?2:1,w=e.split("."),b=w[w.length-1],v=o.apply(null,w);if(v){var y=v.prototype;if(!m&&r(y,"cause")&&delete y.cause,!t)return v;var x=o("Error"),k=n((function(e,n){var t=d(g?n:e,void 0),o=g?new v(e):new v;return void 0!==t&&i(o,"message",t),h&&i(o,"stack",u(o.stack,2)),this&&a(y,this)&&c(o,this,k),arguments.length>f&&p(o,arguments[f]),o}));if(k.prototype=y,"Error"!==b&&(s?s(k,x):l(k,x,{name:!0})),l(k,v),!m)try{y.name!==b&&i(y,"name",b),y.constructor=k}catch(e){}return k}}},function(e,n,t){var o=t(9),r=t(27);e.exports=function(e,n){o(n)&&"cause"in n&&r(e,"cause",n.cause)}},function(e,n,t){var o=t(2)("".replace),r=String(Error("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,a=i.test(r);e.exports=function(e,n){if(a&&"string"==typeof e)for(;n--;)e=o(e,i,"");return e}},function(e,n,t){var o=t(3),r=t(48);e.exports=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},function(e,n,t){"use strict";var o=t(7),r=t(3),i=t(8),a=t(34),s=t(188),l=Error.prototype.toString,c=r((function(){if(o){var e=a(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==l.call(e))return!0}return"2: 1"!==l.call({message:1,name:2})||"Error"!==l.call({})}));e.exports=c?function(){var e=i(this),n=s(e.name,"Error"),t=s(e.message);return n?t?n+": "+t:n:t}:l},function(e,n,t){var o=t(2),r=t(15),i=Math.floor,a=o("".charAt),s=o("".replace),l=o("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,n,t,o,p,u){var h=t+e.length,m=o.length,g=d;return void 0!==p&&(p=r(p),g=c),s(u,g,(function(r,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return l(n,0,t);case"'":return l(n,h);case"<":c=p[l(s,1,-1)];break;default:var d=+s;if(0===d)return r;if(d>m){var u=i(d/10);return 0===u?r:u<=m?void 0===o[u-1]?a(s,1):o[u-1]+a(s,1):r}c=o[d-1]}return void 0===c?"":c}))}},function(e,n,t){var o=t(191),r=t(271);e.exports=function e(n,t,i,a,s){var l=-1,c=n.length;for(i||(i=r),s||(s=[]);++l<c;){var d=n[l];t>0&&i(d)?t>1?e(d,t-1,i,a,s):o(s,d):a||(s[s.length]=d)}return s}},function(e,n,t){var o=t(71),r=t(128),i=t(31),a=o?o.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||r(e)||!!(a&&e&&e[a])}},function(e,n,t){var o=t(61),r=t(49);e.exports=function(e){return r(e)&&"[object Arguments]"==o(e)}},function(e,n,t){var o=t(71),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,s=o?o.toStringTag:void 0;e.exports=function(e){var n=i.call(e,s),t=e[s];try{e[s]=void 0;var o=!0}catch(e){}var r=a.call(e);return o&&(n?e[s]=t:delete e[s]),r}},function(e,n){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},function(e,n,t){var o=t(276),r=t(332),i=t(136),a=t(31),s=t(343);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?r(e[0],e[1]):o(e):s(e)}},function(e,n,t){var o=t(277),r=t(331),i=t(208);e.exports=function(e){var n=r(e);return 1==n.length&&n[0][2]?i(n[0][0],n[0][1]):function(t){return t===e||o(t,e,n)}}},function(e,n,t){var o=t(193),r=t(197);e.exports=function(e,n,t,i){var a=t.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=t[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var d=(c=t[a])[0],p=e[d],u=c[1];if(l&&c[2]){if(void 0===p&&!(d in e))return!1}else{var h=new o;if(i)var m=i(p,u,d,e,n,h);if(!(void 0===m?r(u,p,3,i,h):m))return!1}}return!0}},function(e,n){e.exports=function(){this.__data__=[],this.size=0}},function(e,n,t){var o=t(95),r=Array.prototype.splice;e.exports=function(e){var n=this.__data__,t=o(n,e);return!(t<0)&&(t==n.length-1?n.pop():r.call(n,t,1),--this.size,!0)}},function(e,n,t){var o=t(95);e.exports=function(e){var n=this.__data__,t=o(n,e);return t<0?void 0:n[t][1]}},function(e,n,t){var o=t(95);e.exports=function(e){return o(this.__data__,e)>-1}},function(e,n,t){var o=t(95);e.exports=function(e,n){var t=this.__data__,r=o(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}},function(e,n,t){var o=t(94);e.exports=function(){this.__data__=new o,this.size=0}},function(e,n){e.exports=function(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}},function(e,n){e.exports=function(e){return this.__data__.get(e)}},function(e,n){e.exports=function(e){return this.__data__.has(e)}},function(e,n,t){var o=t(94),r=t(129),i=t(131);e.exports=function(e,n){var t=this.__data__;if(t instanceof o){var a=t.__data__;if(!r||a.length<199)return a.push([e,n]),this.size=++t.size,this;t=this.__data__=new i(a)}return t.set(e,n),this.size=t.size,this}},function(e,n,t){var o=t(195),r=t(289),i=t(130),a=t(196),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,p=c.hasOwnProperty,u=RegExp("^"+d.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(o(e)?u:s).test(a(e))}},function(e,n,t){var o,r=t(290),i=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";e.exports=function(e){return!!i&&i in e}},function(e,n,t){var o=t(33)["__core-js_shared__"];e.exports=o},function(e,n){e.exports=function(e,n){return null==e?void 0:e[n]}},function(e,n,t){var o=t(293),r=t(94),i=t(129);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}},function(e,n,t){var o=t(294),r=t(295),i=t(296),a=t(297),s=t(298);function l(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var o=e[n];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,n,t){var o=t(96);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(e,n){e.exports=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},function(e,n,t){var o=t(96),r=Object.prototype.hasOwnProperty;e.exports=function(e){var n=this.__data__;if(o){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return r.call(n,e)?n[e]:void 0}},function(e,n,t){var o=t(96),r=Object.prototype.hasOwnProperty;e.exports=function(e){var n=this.__data__;return o?void 0!==n[e]:r.call(n,e)}},function(e,n,t){var o=t(96);e.exports=function(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=o&&void 0===n?"__lodash_hash_undefined__":n,this}},function(e,n,t){var o=t(97);e.exports=function(e){var n=o(this,e).delete(e);return this.size-=n?1:0,n}},function(e,n){e.exports=function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}},function(e,n,t){var o=t(97);e.exports=function(e){return o(this,e).get(e)}},function(e,n,t){var o=t(97);e.exports=function(e){return o(this,e).has(e)}},function(e,n,t){var o=t(97);e.exports=function(e,n){var t=o(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}},function(e,n,t){var o=t(193),r=t(198),i=t(308),a=t(311),s=t(327),l=t(31),c=t(202),d=t(204),p="[object Object]",u=Object.prototype.hasOwnProperty;e.exports=function(e,n,t,h,m,g){var f=l(e),w=l(n),b=f?"[object Array]":s(e),v=w?"[object Array]":s(n),y=(b="[object Arguments]"==b?p:b)==p,x=(v="[object Arguments]"==v?p:v)==p,k=b==v;if(k&&c(e)){if(!c(n))return!1;f=!0,y=!1}if(k&&!y)return g||(g=new o),f||d(e)?r(e,n,t,h,m,g):i(e,n,b,t,h,m,g);if(!(1&t)){var E=y&&u.call(e,"__wrapped__"),I=x&&u.call(n,"__wrapped__");if(E||I){var S=E?e.value():e,T=I?n.value():n;return g||(g=new o),m(S,T,t,h,g)}}return!!k&&(g||(g=new o),a(e,n,t,h,m,g))}},function(e,n){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,n){e.exports=function(e){return this.__data__.has(e)}},function(e,n){e.exports=function(e,n){for(var t=-1,o=null==e?0:e.length;++t<o;)if(n(e[t],t,e))return!0;return!1}},function(e,n,t){var o=t(71),r=t(309),i=t(194),a=t(198),s=t(310),l=t(132),c=o?o.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,n,t,o,c,p,u){switch(t){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=n.byteLength||!p(new r(e),new r(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var h=s;case"[object Set]":var m=1&o;if(h||(h=l),e.size!=n.size&&!m)return!1;var g=u.get(e);if(g)return g==n;o|=2,u.set(e,n);var f=a(h(e),h(n),o,c,p,u);return u.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(n)}return!1}},function(e,n,t){var o=t(33).Uint8Array;e.exports=o},function(e,n){e.exports=function(e){var n=-1,t=Array(e.size);return e.forEach((function(e,o){t[++n]=[o,e]})),t}},function(e,n,t){var o=t(312),r=Object.prototype.hasOwnProperty;e.exports=function(e,n,t,i,a,s){var l=1&t,c=o(e),d=c.length;if(d!=o(n).length&&!l)return!1;for(var p=d;p--;){var u=c[p];if(!(l?u in n:r.call(n,u)))return!1}var h=s.get(e),m=s.get(n);if(h&&m)return h==n&&m==e;var g=!0;s.set(e,n),s.set(n,e);for(var f=l;++p<d;){var w=e[u=c[p]],b=n[u];if(i)var v=l?i(b,w,u,n,e,s):i(w,b,u,e,n,s);if(!(void 0===v?w===b||a(w,b,t,i,s):v)){g=!1;break}f||(f="constructor"==u)}if(g&&!f){var y=e.constructor,x=n.constructor;y==x||!("constructor"in e)||!("constructor"in n)||"function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(e),s.delete(n),g}},function(e,n,t){var o=t(313),r=t(314),i=t(201);e.exports=function(e){return o(e,i,r)}},function(e,n,t){var o=t(191),r=t(31);e.exports=function(e,n,t){var i=n(e);return r(e)?i:o(i,t(e))}},function(e,n,t){var o=t(315),r=t(316),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),o(a(e),(function(n){return i.call(e,n)})))}:r;e.exports=s},function(e,n){e.exports=function(e,n){for(var t=-1,o=null==e?0:e.length,r=0,i=[];++t<o;){var a=e[t];n(a,t,e)&&(i[r++]=a)}return i}},function(e,n){e.exports=function(){return[]}},function(e,n,t){var o=t(318),r=t(128),i=t(31),a=t(202),s=t(203),l=t(204),c=Object.prototype.hasOwnProperty;e.exports=function(e,n){var t=i(e),d=!t&&r(e),p=!t&&!d&&a(e),u=!t&&!d&&!p&&l(e),h=t||d||p||u,m=h?o(e.length,String):[],g=m.length;for(var f in e)!n&&!c.call(e,f)||h&&("length"==f||p&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,g))||m.push(f);return m}},function(e,n){e.exports=function(e,n){for(var t=-1,o=Array(e);++t<e;)o[t]=n(t);return o}},function(e,n){e.exports=function(){return!1}},function(e,n,t){var o=t(61),r=t(133),i=t(49),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!a[o(e)]}},function(e,n){e.exports=function(e){return function(n){return e(n)}}},function(e,n,t){(function(e){var o=t(192),r=n&&!n.nodeType&&n,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===r&&o.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,t(151)(e))},function(e,n,t){var o=t(324),r=t(325),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return r(e);var n=[];for(var t in Object(e))i.call(e,t)&&"constructor"!=t&&n.push(t);return n}},function(e,n){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},function(e,n,t){var o=t(326)(Object.keys,Object);e.exports=o},function(e,n){e.exports=function(e,n){return function(t){return e(n(t))}}},function(e,n,t){var o=t(328),r=t(129),i=t(329),a=t(206),s=t(330),l=t(61),c=t(196),d=c(o),p=c(r),u=c(i),h=c(a),m=c(s),g=l;(o&&"[object DataView]"!=g(new o(new ArrayBuffer(1)))||r&&"[object Map]"!=g(new r)||i&&"[object Promise]"!=g(i.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var n=l(e),t="[object Object]"==n?e.constructor:void 0,o=t?c(t):"";if(o)switch(o){case d:return"[object DataView]";case p:return"[object Map]";case u:return"[object Promise]";case h:return"[object Set]";case m:return"[object WeakMap]"}return n}),e.exports=g},function(e,n,t){var o=t(41)(t(33),"DataView");e.exports=o},function(e,n,t){var o=t(41)(t(33),"Promise");e.exports=o},function(e,n,t){var o=t(41)(t(33),"WeakMap");e.exports=o},function(e,n,t){var o=t(207),r=t(201);e.exports=function(e){for(var n=r(e),t=n.length;t--;){var i=n[t],a=e[i];n[t]=[i,a,o(a)]}return n}},function(e,n,t){var o=t(197),r=t(333),i=t(340),a=t(134),s=t(207),l=t(208),c=t(98);e.exports=function(e,n){return a(e)&&s(n)?l(c(e),n):function(t){var a=r(t,e);return void 0===a&&a===n?i(t,e):o(n,a,3)}}},function(e,n,t){var o=t(209);e.exports=function(e,n,t){var r=null==e?void 0:o(e,n);return void 0===r?t:r}},function(e,n,t){var o=t(335),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=o((function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(r,(function(e,t,o,r){n.push(o?r.replace(i,"$1"):t||e)})),n}));e.exports=a},function(e,n,t){var o=t(336);e.exports=function(e){var n=o(e,(function(e){return 500===t.size&&t.clear(),e})),t=n.cache;return n}},function(e,n,t){var o=t(131);function r(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var t=function(){var o=arguments,r=n?n.apply(this,o):o[0],i=t.cache;if(i.has(r))return i.get(r);var a=e.apply(this,o);return t.cache=i.set(r,a)||i,a};return t.cache=new(r.Cache||o),t}r.Cache=o,e.exports=r},function(e,n,t){var o=t(338);e.exports=function(e){return null==e?"":o(e)}},function(e,n,t){var o=t(71),r=t(339),i=t(31),a=t(135),s=o?o.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(n){if("string"==typeof n)return n;if(i(n))return r(n,e)+"";if(a(n))return l?l.call(n):"";var t=n+"";return"0"==t&&1/n==-1/0?"-0":t}},function(e,n){e.exports=function(e,n){for(var t=-1,o=null==e?0:e.length,r=Array(o);++t<o;)r[t]=n(e[t],t,e);return r}},function(e,n,t){var o=t(341),r=t(342);e.exports=function(e,n){return null!=e&&r(e,n,o)}},function(e,n){e.exports=function(e,n){return null!=e&&n in Object(e)}},function(e,n,t){var o=t(210),r=t(128),i=t(31),a=t(203),s=t(133),l=t(98);e.exports=function(e,n,t){for(var c=-1,d=(n=o(n,e)).length,p=!1;++c<d;){var u=l(n[c]);if(!(p=null!=e&&t(e,u)))break;e=e[u]}return p||++c!=d?p:!!(d=null==e?0:e.length)&&s(d)&&a(u,d)&&(i(e)||r(e))}},function(e,n,t){var o=t(344),r=t(345),i=t(134),a=t(98);e.exports=function(e){return i(e)?o(a(e)):r(e)}},function(e,n){e.exports=function(e){return function(n){return null==n?void 0:n[e]}}},function(e,n,t){var o=t(209);e.exports=function(e){return function(n){return o(n,e)}}},function(e,n,t){var o=t(136),r=t(347),i=t(349);e.exports=function(e,n){return i(r(e,n,o),e+"")}},function(e,n,t){var o=t(348),r=Math.max;e.exports=function(e,n,t){return n=r(void 0===n?e.length-1:n,0),function(){for(var i=arguments,a=-1,s=r(i.length-n,0),l=Array(s);++a<s;)l[a]=i[n+a];a=-1;for(var c=Array(n+1);++a<n;)c[a]=i[a];return c[n]=t(l),o(e,this,c)}}},function(e,n){e.exports=function(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}},function(e,n,t){var o=t(350),r=t(353)(o);e.exports=r},function(e,n,t){var o=t(351),r=t(352),i=t(136),a=r?function(e,n){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(n),writable:!0})}:i;e.exports=a},function(e,n){e.exports=function(e){return function(){return e}}},function(e,n,t){var o=t(41),r=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,n){var t=Date.now;e.exports=function(e){var n=0,o=0;return function(){var r=t(),i=16-(r-o);if(o=r,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},function(e,n,t){var o=t(199),r=t(355),i=t(360),a=t(200),s=t(361),l=t(132);e.exports=function(e,n,t){var c=-1,d=r,p=e.length,u=!0,h=[],m=h;if(t)u=!1,d=i;else if(p>=200){var g=n?null:s(e);if(g)return l(g);u=!1,d=a,m=new o}else m=n?[]:h;e:for(;++c<p;){var f=e[c],w=n?n(f):f;if(f=t||0!==f?f:0,u&&w==w){for(var b=m.length;b--;)if(m[b]===w)continue e;n&&m.push(w),h.push(f)}else d(m,w,t)||(m!==h&&m.push(w),h.push(f))}return h}},function(e,n,t){var o=t(356);e.exports=function(e,n){return!!(null==e?0:e.length)&&o(e,n,0)>-1}},function(e,n,t){var o=t(357),r=t(358),i=t(359);e.exports=function(e,n,t){return n==n?i(e,n,t):o(e,r,t)}},function(e,n){e.exports=function(e,n,t,o){for(var r=e.length,i=t+(o?1:-1);o?i--:++i<r;)if(n(e[i],i,e))return i;return-1}},function(e,n){e.exports=function(e){return e!=e}},function(e,n){e.exports=function(e,n,t){for(var o=t-1,r=e.length;++o<r;)if(e[o]===n)return o;return-1}},function(e,n){e.exports=function(e,n,t){for(var o=-1,r=null==e?0:e.length;++o<r;)if(t(n,e[o]))return!0;return!1}},function(e,n,t){var o=t(206),r=t(362),i=t(132),a=o&&1/i(new o([,-0]))[1]==1/0?function(e){return new o(e)}:r;e.exports=a},function(e,n){e.exports=function(){}},function(e,n,t){var o=t(205),r=t(49);e.exports=function(e){return r(e)&&o(e)}},function(e,n,t){},function(e,n,t){},function(e,n,t){var o=t(66).PROPER,r=t(3),i=t(154);e.exports=function(e){return r((function(){return!!i[e]()||"​᠎"!=="​᠎"[e]()||o&&i[e].name!==e}))}},function(e,n,t){var o=t(1),r=t(211);o({target:"Function",proto:!0,forced:Function.bind!==r},{bind:r})},function(e,n,t){var o=t(2);e.exports=o(1..valueOf)},function(e,n,t){var o=t(2),r=t(52),i=t(12),a=t(370),s=t(18),l=o(a),c=o("".slice),d=Math.ceil,p=function(e){return function(n,t,o){var a,p,u=i(s(n)),h=r(t),m=u.length,g=void 0===o?" ":i(o);return h<=m||""==g?u:((p=l(g,d((a=h-m)/g.length))).length>a&&(p=c(p,0,a)),e?u+p:p+u)}};e.exports={start:p(!1),end:p(!0)}},function(e,n,t){"use strict";var o=t(0),r=t(55),i=t(12),a=t(18),s=o.RangeError;e.exports=function(e){var n=i(a(this)),t="",o=r(e);if(o<0||o==1/0)throw s("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(t+=n);return t}},function(e,n,t){var o=t(32);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(o)},function(e,n,t){"use strict";t(213)},function(e,n,t){"use strict";t(214)},function(e,n,t){"use strict";var o=t(1),r=t(2),i=t(37),a=t(15),s=t(22),l=t(12),c=t(3),d=t(235),p=t(46),u=t(375),h=t(376),m=t(51),g=t(377),f=[],w=r(f.sort),b=r(f.push),v=c((function(){f.sort(void 0)})),y=c((function(){f.sort(null)})),x=p("sort"),k=!c((function(){if(m)return m<70;if(!(u&&u>3)){if(h)return!0;if(g)return g<603;var e,n,t,o,r="";for(e=65;e<76;e++){switch(n=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(o=0;o<47;o++)f.push({k:n+o,v:t})}for(f.sort((function(e,n){return n.v-e.v})),o=0;o<f.length;o++)n=f[o].k.charAt(0),r.charAt(r.length-1)!==n&&(r+=n);return"DGBEFHACIJK"!==r}}));o({target:"Array",proto:!0,forced:v||!y||!x||!k},{sort:function(e){void 0!==e&&i(e);var n=a(this);if(k)return void 0===e?w(n):w(n,e);var t,o,r=[],c=s(n);for(o=0;o<c;o++)o in n&&b(r,n[o]);for(d(r,function(e){return function(n,t){return void 0===t?-1:void 0===n?1:void 0!==e?+e(n,t)||0:l(n)>l(t)?1:-1}}(e)),t=r.length,o=0;o<t;)n[o]=r[o++];for(;o<c;)delete n[o++];return n}})},function(e,n,t){var o=t(32).match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},function(e,n,t){var o=t(32);e.exports=/MSIE|Trident/.test(o)},function(e,n,t){var o=t(32).match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},function(e,n,t){},function(e,n,t){},function(e,n,t){var o=t(1),r=t(3),i=t(19),a=t(38).f,s=t(7),l=r((function(){a(1)}));o({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,n){return a(i(e),n)}})},function(e,n,t){var o=t(1),r=t(7),i=t(114).f;o({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!r},{defineProperties:i})},function(e,n,t){t(1)({target:"Reflect",stat:!0},{ownKeys:t(120)})},function(e,n){},function(e,n){function t(e,n){for(var t=0,o=e.length-1;o>=0;o--){var r=e[o];"."===r?e.splice(o,1):".."===r?(e.splice(o,1),t++):t&&(e.splice(o,1),t--)}if(n)for(;t--;t)e.unshift("..");return e}function o(e,n){if(e.filter)return e.filter(n);for(var t=[],o=0;o<e.length;o++)n(e[o],o,e)&&t.push(e[o]);return t}n.resolve=function(){for(var e="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var i=r>=0?arguments[r]:process.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,n="/"===i.charAt(0))}return(n?"/":"")+(e=t(o(e.split("/"),(function(e){return!!e})),!n).join("/"))||"."},n.normalize=function(e){var i=n.isAbsolute(e),a="/"===r(e,-1);return(e=t(o(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,(function(e,n){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,t){function o(e){for(var n=0;n<e.length&&""===e[n];n++);for(var t=e.length-1;t>=0&&""===e[t];t--);return n>t?[]:e.slice(n,t-n+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=o(e.split("/")),i=o(t.split("/")),a=Math.min(r.length,i.length),s=a,l=0;l<a;l++)if(r[l]!==i[l]){s=l;break}var c=[];for(l=s;l<r.length;l++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var n=e.charCodeAt(0),t=47===n,o=-1,r=!0,i=e.length-1;i>=1;--i)if(47===(n=e.charCodeAt(i))){if(!r){o=i;break}}else r=!1;return-1===o?t?"/":".":t&&1===o?"/":e.slice(0,o)},n.basename=function(e,n){var t=function(e){"string"!=typeof e&&(e+="");var n,t=0,o=-1,r=!0;for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!r){t=n+1;break}}else-1===o&&(r=!1,o=n+1);return-1===o?"":e.slice(t,o)}(e);return n&&t.substr(-1*n.length)===n&&(t=t.substr(0,t.length-n.length)),t},n.extname=function(e){"string"!=typeof e&&(e+="");for(var n=-1,t=0,o=-1,r=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===o&&(r=!1,o=a+1),46===s?-1===n?n=a:1!==i&&(i=1):-1!==n&&(i=-1);else if(!r){t=a+1;break}}return-1===n||-1===o||0===i||1===i&&n===o-1&&n===t+1?"":e.slice(n,o)};var r="b"==="ab".substr(-1)?function(e,n,t){return e.substr(n,t)}:function(e,n,t){return n<0&&(n=e.length+n),e.substr(n,t)}},function(e,n,t){"use strict";var o=/[|\\{}()[\]^$+*?.]/g;n.escapeRegExpChars=function(e){return e?String(e).replace(o,"\\$&"):""};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},i=/[&<>'"]/g;function a(e){return r[e]||e}n.escapeXML=function(e){return null==e?"":String(e).replace(i,a)},n.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},n.shallowCopy=function(e,n){for(var t in n=n||{})e[t]=n[t];return e},n.shallowCopyFromList=function(e,n,t){for(var o=0;o<t.length;o++){var r=t[o];void 0!==n[r]&&(e[r]=n[r])}return e},n.cache={_data:{},set:function(e,n){this._data[e]=n},get:function(e){return this._data[e]},remove:function(e){delete this._data[e]},reset:function(){this._data={}}}},function(e){e.exports=JSON.parse('{"name":"ejs","description":"Embedded JavaScript templates","keywords":["template","engine","ejs"],"version":"2.7.4","author":"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)","license":"Apache-2.0","main":"./lib/ejs.js","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"bugs":"https://github.com/mde/ejs/issues","homepage":"https://github.com/mde/ejs","dependencies":{},"devDependencies":{"browserify":"^13.1.1","eslint":"^4.14.0","git-directory-deploy":"^1.5.1","jake":"^10.3.1","jsdoc":"^3.4.0","lru-cache":"^4.0.1","mocha":"^5.0.5","uglify-js":"^3.3.16"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha","postinstall":"node ./postinstall.js"}}')},function(e,n,t){"use strict";t(217)},function(e,n,t){"use strict";t(218)},function(e,n,t){"use strict";t.r(n);t(144),t(241),t(250),t(252);var o=t(90),r=(t(142),t(42),t(4),t(21),t(24),t(44),t(23),Object.freeze({}));function i(e){return null==e}function a(e){return null!=e}function s(e){return!0===e}function l(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function c(e){return null!==e&&"object"==typeof e}var d=Object.prototype.toString;function p(e){return"[object Object]"===d.call(e)}function u(e){return"[object RegExp]"===d.call(e)}function h(e){var n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(e)}function m(e){return a(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function g(e){return null==e?"":Array.isArray(e)||p(e)&&e.toString===d?JSON.stringify(e,null,2):String(e)}function f(e){var n=parseFloat(e);return isNaN(n)?e:n}function w(e,n){for(var t=Object.create(null),o=e.split(","),r=0;r<o.length;r++)t[o[r]]=!0;return n?function(e){return t[e.toLowerCase()]}:function(e){return t[e]}}w("slot,component",!0);var b=w("key,ref,slot,slot-scope,is");function v(e,n){if(e.length){var t=e.indexOf(n);if(t>-1)return e.splice(t,1)}}var y=Object.prototype.hasOwnProperty;function x(e,n){return y.call(e,n)}function k(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}var E=/-(\w)/g,I=k((function(e){return e.replace(E,(function(e,n){return n?n.toUpperCase():""}))})),S=k((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),T=/\B([A-Z])/g,z=k((function(e){return e.replace(T,"-$1").toLowerCase()}));var A=Function.prototype.bind?function(e,n){return e.bind(n)}:function(e,n){function t(t){var o=arguments.length;return o?o>1?e.apply(n,arguments):e.call(n,t):e.call(n)}return t._length=e.length,t};function j(e,n){n=n||0;for(var t=e.length-n,o=new Array(t);t--;)o[t]=e[t+n];return o}function P(e,n){for(var t in n)e[t]=n[t];return e}function C(e){for(var n={},t=0;t<e.length;t++)e[t]&&P(n,e[t]);return n}function _(e,n,t){}var B=function(e,n,t){return!1},O=function(e){return e};function q(e,n){if(e===n)return!0;var t=c(e),o=c(n);if(!t||!o)return!t&&!o&&String(e)===String(n);try{var r=Array.isArray(e),i=Array.isArray(n);if(r&&i)return e.length===n.length&&e.every((function(e,t){return q(e,n[t])}));if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(r||i)return!1;var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every((function(t){return q(e[t],n[t])}))}catch(e){return!1}}function D(e,n){for(var t=0;t<e.length;t++)if(q(e[t],n))return t;return-1}function W(e){var n=!1;return function(){n||(n=!0,e.apply(this,arguments))}}var R=["component","directive","filter"],L=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],M={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:_,parsePlatformTagName:O,mustUseProp:B,async:!0,_lifecycleHooks:L},N=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function F(e,n,t,o){Object.defineProperty(e,n,{value:t,enumerable:!!o,writable:!0,configurable:!0})}var U=new RegExp("[^"+N.source+".$_\\d]");var H,$="__proto__"in{},V="undefined"!=typeof window,G="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Z=G&&WXEnvironment.platform.toLowerCase(),J=V&&window.navigator.userAgent.toLowerCase(),K=J&&/msie|trident/.test(J),X=J&&J.indexOf("msie 9.0")>0,Y=J&&J.indexOf("edge/")>0,Q=(J&&J.indexOf("android"),J&&/iphone|ipad|ipod|ios/.test(J)||"ios"===Z),ee=(J&&/chrome\/\d+/.test(J),J&&/phantomjs/.test(J),J&&J.match(/firefox\/(\d+)/)),ne={}.watch,te=!1;if(V)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){te=!0}}),window.addEventListener("test-passive",null,oe)}catch(e){}var re=function(){return void 0===H&&(H=!V&&!G&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),H},ie=V&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ae(e){return"function"==typeof e&&/native code/.test(e.toString())}var se,le="undefined"!=typeof Symbol&&ae(Symbol)&&"undefined"!=typeof Reflect&&ae(Reflect.ownKeys);se="undefined"!=typeof Set&&ae(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ce=_,de=0,pe=function(){this.id=de++,this.subs=[]};pe.prototype.addSub=function(e){this.subs.push(e)},pe.prototype.removeSub=function(e){v(this.subs,e)},pe.prototype.depend=function(){pe.target&&pe.target.addDep(this)},pe.prototype.notify=function(){var e=this.subs.slice();for(var n=0,t=e.length;n<t;n++)e[n].update()},pe.target=null;var ue=[];function he(e){ue.push(e),pe.target=e}function me(){ue.pop(),pe.target=ue[ue.length-1]}var ge=function(e,n,t,o,r,i,a,s){this.tag=e,this.data=n,this.children=t,this.text=o,this.elm=r,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fe={child:{configurable:!0}};fe.child.get=function(){return this.componentInstance},Object.defineProperties(ge.prototype,fe);var we=function(e){void 0===e&&(e="");var n=new ge;return n.text=e,n.isComment=!0,n};function be(e){return new ge(void 0,void 0,void 0,String(e))}function ve(e){var n=new ge(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return n.ns=e.ns,n.isStatic=e.isStatic,n.key=e.key,n.isComment=e.isComment,n.fnContext=e.fnContext,n.fnOptions=e.fnOptions,n.fnScopeId=e.fnScopeId,n.asyncMeta=e.asyncMeta,n.isCloned=!0,n}var ye=Array.prototype,xe=Object.create(ye);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var n=ye[e];F(xe,e,(function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];var r,i=n.apply(this,t),a=this.__ob__;switch(e){case"push":case"unshift":r=t;break;case"splice":r=t.slice(2)}return r&&a.observeArray(r),a.dep.notify(),i}))}));var ke=Object.getOwnPropertyNames(xe),Ee=!0;function Ie(e){Ee=e}var Se=function(e){this.value=e,this.dep=new pe,this.vmCount=0,F(e,"__ob__",this),Array.isArray(e)?($?function(e,n){e.__proto__=n}(e,xe):function(e,n,t){for(var o=0,r=t.length;o<r;o++){var i=t[o];F(e,i,n[i])}}(e,xe,ke),this.observeArray(e)):this.walk(e)};function Te(e,n){var t;if(c(e)&&!(e instanceof ge))return x(e,"__ob__")&&e.__ob__ instanceof Se?t=e.__ob__:Ee&&!re()&&(Array.isArray(e)||p(e))&&Object.isExtensible(e)&&!e._isVue&&(t=new Se(e)),n&&t&&t.vmCount++,t}function ze(e,n,t,o,r){var i=new pe,a=Object.getOwnPropertyDescriptor(e,n);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(t=e[n]);var c=!r&&Te(t);Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var n=s?s.call(e):t;return pe.target&&(i.depend(),c&&(c.dep.depend(),Array.isArray(n)&&Pe(n))),n},set:function(n){var o=s?s.call(e):t;n===o||n!=n&&o!=o||s&&!l||(l?l.call(e,n):t=n,c=!r&&Te(n),i.notify())}})}}function Ae(e,n,t){if(Array.isArray(e)&&h(n))return e.length=Math.max(e.length,n),e.splice(n,1,t),t;if(n in e&&!(n in Object.prototype))return e[n]=t,t;var o=e.__ob__;return e._isVue||o&&o.vmCount?t:o?(ze(o.value,n,t),o.dep.notify(),t):(e[n]=t,t)}function je(e,n){if(Array.isArray(e)&&h(n))e.splice(n,1);else{var t=e.__ob__;e._isVue||t&&t.vmCount||x(e,n)&&(delete e[n],t&&t.dep.notify())}}function Pe(e){for(var n=void 0,t=0,o=e.length;t<o;t++)(n=e[t])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&Pe(n)}Se.prototype.walk=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)ze(e,n[t])},Se.prototype.observeArray=function(e){for(var n=0,t=e.length;n<t;n++)Te(e[n])};var Ce=M.optionMergeStrategies;function _e(e,n){if(!n)return e;for(var t,o,r,i=le?Reflect.ownKeys(n):Object.keys(n),a=0;a<i.length;a++)"__ob__"!==(t=i[a])&&(o=e[t],r=n[t],x(e,t)?o!==r&&p(o)&&p(r)&&_e(o,r):Ae(e,t,r));return e}function Be(e,n,t){return t?function(){var o="function"==typeof n?n.call(t,t):n,r="function"==typeof e?e.call(t,t):e;return o?_e(o,r):r}:n?e?function(){return _e("function"==typeof n?n.call(this,this):n,"function"==typeof e?e.call(this,this):e)}:n:e}function Oe(e,n){var t=n?e?e.concat(n):Array.isArray(n)?n:[n]:e;return t?function(e){for(var n=[],t=0;t<e.length;t++)-1===n.indexOf(e[t])&&n.push(e[t]);return n}(t):t}function qe(e,n,t,o){var r=Object.create(e||null);return n?P(r,n):r}Ce.data=function(e,n,t){return t?Be(e,n,t):n&&"function"!=typeof n?e:Be(e,n)},L.forEach((function(e){Ce[e]=Oe})),R.forEach((function(e){Ce[e+"s"]=qe})),Ce.watch=function(e,n,t,o){if(e===ne&&(e=void 0),n===ne&&(n=void 0),!n)return Object.create(e||null);if(!e)return n;var r={};for(var i in P(r,e),n){var a=r[i],s=n[i];a&&!Array.isArray(a)&&(a=[a]),r[i]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Ce.props=Ce.methods=Ce.inject=Ce.computed=function(e,n,t,o){if(!e)return n;var r=Object.create(null);return P(r,e),n&&P(r,n),r},Ce.provide=Be;var De=function(e,n){return void 0===n?e:n};function We(e,n,t){if("function"==typeof n&&(n=n.options),function(e,n){var t=e.props;if(t){var o,r,i={};if(Array.isArray(t))for(o=t.length;o--;)"string"==typeof(r=t[o])&&(i[I(r)]={type:null});else if(p(t))for(var a in t)r=t[a],i[I(a)]=p(r)?r:{type:r};else 0;e.props=i}}(n),function(e,n){var t=e.inject;if(t){var o=e.inject={};if(Array.isArray(t))for(var r=0;r<t.length;r++)o[t[r]]={from:t[r]};else if(p(t))for(var i in t){var a=t[i];o[i]=p(a)?P({from:i},a):{from:a}}else 0}}(n),function(e){var n=e.directives;if(n)for(var t in n){var o=n[t];"function"==typeof o&&(n[t]={bind:o,update:o})}}(n),!n._base&&(n.extends&&(e=We(e,n.extends,t)),n.mixins))for(var o=0,r=n.mixins.length;o<r;o++)e=We(e,n.mixins[o],t);var i,a={};for(i in e)s(i);for(i in n)x(e,i)||s(i);function s(o){var r=Ce[o]||De;a[o]=r(e[o],n[o],t,o)}return a}function Re(e,n,t,o){if("string"==typeof t){var r=e[n];if(x(r,t))return r[t];var i=I(t);if(x(r,i))return r[i];var a=S(i);return x(r,a)?r[a]:r[t]||r[i]||r[a]}}function Le(e,n,t,o){var r=n[e],i=!x(t,e),a=t[e],s=Ue(Boolean,r.type);if(s>-1)if(i&&!x(r,"default"))a=!1;else if(""===a||a===z(e)){var l=Ue(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(e,n,t){if(!x(n,"default"))return;var o=n.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[t]&&void 0!==e._props[t])return e._props[t];return"function"==typeof o&&"Function"!==Ne(n.type)?o.call(e):o}(o,r,e);var c=Ee;Ie(!0),Te(a),Ie(c)}return a}var Me=/^\s*function (\w+)/;function Ne(e){var n=e&&e.toString().match(Me);return n?n[1]:""}function Fe(e,n){return Ne(e)===Ne(n)}function Ue(e,n){if(!Array.isArray(n))return Fe(n,e)?0:-1;for(var t=0,o=n.length;t<o;t++)if(Fe(n[t],e))return t;return-1}function He(e,n,t){he();try{if(n)for(var o=n;o=o.$parent;){var r=o.$options.errorCaptured;if(r)for(var i=0;i<r.length;i++)try{if(!1===r[i].call(o,e,n,t))return}catch(e){Ve(e,o,"errorCaptured hook")}}Ve(e,n,t)}finally{me()}}function $e(e,n,t,o,r){var i;try{(i=t?e.apply(n,t):e.call(n))&&!i._isVue&&m(i)&&!i._handled&&(i.catch((function(e){return He(e,o,r+" (Promise/async)")})),i._handled=!0)}catch(e){He(e,o,r)}return i}function Ve(e,n,t){if(M.errorHandler)try{return M.errorHandler.call(null,e,n,t)}catch(n){n!==e&&Ge(n,null,"config.errorHandler")}Ge(e,n,t)}function Ge(e,n,t){if(!V&&!G||"undefined"==typeof console)throw e;console.error(e)}var Ze,Je=!1,Ke=[],Xe=!1;function Ye(){Xe=!1;var e=Ke.slice(0);Ke.length=0;for(var n=0;n<e.length;n++)e[n]()}if("undefined"!=typeof Promise&&ae(Promise)){var Qe=Promise.resolve();Ze=function(){Qe.then(Ye),Q&&setTimeout(_)},Je=!0}else if(K||"undefined"==typeof MutationObserver||!ae(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ze="undefined"!=typeof setImmediate&&ae(setImmediate)?function(){setImmediate(Ye)}:function(){setTimeout(Ye,0)};else{var en=1,nn=new MutationObserver(Ye),tn=document.createTextNode(String(en));nn.observe(tn,{characterData:!0}),Ze=function(){en=(en+1)%2,tn.data=String(en)},Je=!0}function on(e,n){var t;if(Ke.push((function(){if(e)try{e.call(n)}catch(e){He(e,n,"nextTick")}else t&&t(n)})),Xe||(Xe=!0,Ze()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){t=e}))}var rn=new se;function an(e){!function e(n,t){var o,r,i=Array.isArray(n);if(!i&&!c(n)||Object.isFrozen(n)||n instanceof ge)return;if(n.__ob__){var a=n.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(i)for(o=n.length;o--;)e(n[o],t);else for(r=Object.keys(n),o=r.length;o--;)e(n[r[o]],t)}(e,rn),rn.clear()}var sn=k((function(e){var n="&"===e.charAt(0),t="~"===(e=n?e.slice(1):e).charAt(0),o="!"===(e=t?e.slice(1):e).charAt(0);return{name:e=o?e.slice(1):e,once:t,capture:o,passive:n}}));function ln(e,n){function t(){var e=arguments,o=t.fns;if(!Array.isArray(o))return $e(o,null,arguments,n,"v-on handler");for(var r=o.slice(),i=0;i<r.length;i++)$e(r[i],null,e,n,"v-on handler")}return t.fns=e,t}function cn(e,n,t,o,r,a){var l,c,d,p;for(l in e)c=e[l],d=n[l],p=sn(l),i(c)||(i(d)?(i(c.fns)&&(c=e[l]=ln(c,a)),s(p.once)&&(c=e[l]=r(p.name,c,p.capture)),t(p.name,c,p.capture,p.passive,p.params)):c!==d&&(d.fns=c,e[l]=d));for(l in n)i(e[l])&&o((p=sn(l)).name,n[l],p.capture)}function dn(e,n,t){var o;e instanceof ge&&(e=e.data.hook||(e.data.hook={}));var r=e[n];function l(){t.apply(this,arguments),v(o.fns,l)}i(r)?o=ln([l]):a(r.fns)&&s(r.merged)?(o=r).fns.push(l):o=ln([r,l]),o.merged=!0,e[n]=o}function pn(e,n,t,o,r){if(a(n)){if(x(n,t))return e[t]=n[t],r||delete n[t],!0;if(x(n,o))return e[t]=n[o],r||delete n[o],!0}return!1}function un(e){return l(e)?[be(e)]:Array.isArray(e)?function e(n,t){var o,r,c,d,p=[];for(o=0;o<n.length;o++)i(r=n[o])||"boolean"==typeof r||(c=p.length-1,d=p[c],Array.isArray(r)?r.length>0&&(hn((r=e(r,(t||"")+"_"+o))[0])&&hn(d)&&(p[c]=be(d.text+r[0].text),r.shift()),p.push.apply(p,r)):l(r)?hn(d)?p[c]=be(d.text+r):""!==r&&p.push(be(r)):hn(r)&&hn(d)?p[c]=be(d.text+r.text):(s(n._isVList)&&a(r.tag)&&i(r.key)&&a(t)&&(r.key="__vlist"+t+"_"+o+"__"),p.push(r)));return p}(e):void 0}function hn(e){return a(e)&&a(e.text)&&!1===e.isComment}function mn(e,n){if(e){for(var t=Object.create(null),o=le?Reflect.ownKeys(e):Object.keys(e),r=0;r<o.length;r++){var i=o[r];if("__ob__"!==i){for(var a=e[i].from,s=n;s;){if(s._provided&&x(s._provided,a)){t[i]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[i]){var l=e[i].default;t[i]="function"==typeof l?l.call(n):l}else 0}}return t}}function gn(e,n){if(!e||!e.length)return{};for(var t={},o=0,r=e.length;o<r;o++){var i=e[o],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==n&&i.fnContext!==n||!a||null==a.slot)(t.default||(t.default=[])).push(i);else{var s=a.slot,l=t[s]||(t[s]=[]);"template"===i.tag?l.push.apply(l,i.children||[]):l.push(i)}}for(var c in t)t[c].every(fn)&&delete t[c];return t}function fn(e){return e.isComment&&!e.asyncFactory||" "===e.text}function wn(e){return e.isComment&&e.asyncFactory}function bn(e,n,t){var o,i=Object.keys(n).length>0,a=e?!!e.$stable:!i,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&t&&t!==r&&s===t.$key&&!i&&!t.$hasNormal)return t;for(var l in o={},e)e[l]&&"$"!==l[0]&&(o[l]=vn(n,l,e[l]))}else o={};for(var c in n)c in o||(o[c]=yn(n,c));return e&&Object.isExtensible(e)&&(e._normalized=o),F(o,"$stable",a),F(o,"$key",s),F(o,"$hasNormal",i),o}function vn(e,n,t){var o=function(){var e=arguments.length?t.apply(null,arguments):t({}),n=(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:un(e))&&e[0];return e&&(!n||1===e.length&&n.isComment&&!wn(n))?void 0:e};return t.proxy&&Object.defineProperty(e,n,{get:o,enumerable:!0,configurable:!0}),o}function yn(e,n){return function(){return e[n]}}function xn(e,n){var t,o,r,i,s;if(Array.isArray(e)||"string"==typeof e)for(t=new Array(e.length),o=0,r=e.length;o<r;o++)t[o]=n(e[o],o);else if("number"==typeof e)for(t=new Array(e),o=0;o<e;o++)t[o]=n(o+1,o);else if(c(e))if(le&&e[Symbol.iterator]){t=[];for(var l=e[Symbol.iterator](),d=l.next();!d.done;)t.push(n(d.value,t.length)),d=l.next()}else for(i=Object.keys(e),t=new Array(i.length),o=0,r=i.length;o<r;o++)s=i[o],t[o]=n(e[s],s,o);return a(t)||(t=[]),t._isVList=!0,t}function kn(e,n,t,o){var r,i=this.$scopedSlots[e];i?(t=t||{},o&&(t=P(P({},o),t)),r=i(t)||("function"==typeof n?n():n)):r=this.$slots[e]||("function"==typeof n?n():n);var a=t&&t.slot;return a?this.$createElement("template",{slot:a},r):r}function En(e){return Re(this.$options,"filters",e)||O}function In(e,n){return Array.isArray(e)?-1===e.indexOf(n):e!==n}function Sn(e,n,t,o,r){var i=M.keyCodes[n]||t;return r&&o&&!M.keyCodes[n]?In(r,o):i?In(i,e):o?z(o)!==n:void 0===e}function Tn(e,n,t,o,r){if(t)if(c(t)){var i;Array.isArray(t)&&(t=C(t));var a=function(a){if("class"===a||"style"===a||b(a))i=e;else{var s=e.attrs&&e.attrs.type;i=o||M.mustUseProp(n,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=I(a),c=z(a);l in i||c in i||(i[a]=t[a],r&&((e.on||(e.on={}))["update:"+a]=function(e){t[a]=e}))};for(var s in t)a(s)}else;return e}function zn(e,n){var t=this._staticTrees||(this._staticTrees=[]),o=t[e];return o&&!n||jn(o=t[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),o}function An(e,n,t){return jn(e,"__once__"+n+(t?"_"+t:""),!0),e}function jn(e,n,t){if(Array.isArray(e))for(var o=0;o<e.length;o++)e[o]&&"string"!=typeof e[o]&&Pn(e[o],n+"_"+o,t);else Pn(e,n,t)}function Pn(e,n,t){e.isStatic=!0,e.key=n,e.isOnce=t}function Cn(e,n){if(n)if(p(n)){var t=e.on=e.on?P({},e.on):{};for(var o in n){var r=t[o],i=n[o];t[o]=r?[].concat(r,i):i}}else;return e}function _n(e,n,t,o){n=n||{$stable:!t};for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?_n(i,n,t):i&&(i.proxy&&(i.fn.proxy=!0),n[i.key]=i.fn)}return o&&(n.$key=o),n}function Bn(e,n){for(var t=0;t<n.length;t+=2){var o=n[t];"string"==typeof o&&o&&(e[n[t]]=n[t+1])}return e}function On(e,n){return"string"==typeof e?n+e:e}function qn(e){e._o=An,e._n=f,e._s=g,e._l=xn,e._t=kn,e._q=q,e._i=D,e._m=zn,e._f=En,e._k=Sn,e._b=Tn,e._v=be,e._e=we,e._u=_n,e._g=Cn,e._d=Bn,e._p=On}function Dn(e,n,t,o,i){var a,l=this,c=i.options;x(o,"_uid")?(a=Object.create(o))._original=o:(a=o,o=o._original);var d=s(c._compiled),p=!d;this.data=e,this.props=n,this.children=t,this.parent=o,this.listeners=e.on||r,this.injections=mn(c.inject,o),this.slots=function(){return l.$slots||bn(e.scopedSlots,l.$slots=gn(t,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return bn(e.scopedSlots,this.slots())}}),d&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=bn(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,n,t,r){var i=Un(a,e,n,t,r,p);return i&&!Array.isArray(i)&&(i.fnScopeId=c._scopeId,i.fnContext=o),i}:this._c=function(e,n,t,o){return Un(a,e,n,t,o,p)}}function Wn(e,n,t,o,r){var i=ve(e);return i.fnContext=t,i.fnOptions=o,n.slot&&((i.data||(i.data={})).slot=n.slot),i}function Rn(e,n){for(var t in n)e[I(t)]=n[t]}qn(Dn.prototype);var Ln={init:function(e,n){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var t=e;Ln.prepatch(t,t)}else{(e.componentInstance=function(e,n){var t={_isComponent:!0,_parentVnode:e,parent:n},o=e.data.inlineTemplate;a(o)&&(t.render=o.render,t.staticRenderFns=o.staticRenderFns);return new e.componentOptions.Ctor(t)}(e,Yn)).$mount(n?e.elm:void 0,n)}},prepatch:function(e,n){var t=n.componentOptions;!function(e,n,t,o,i){0;var a=o.data.scopedSlots,s=e.$scopedSlots,l=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key||!a&&e.$scopedSlots.$key),c=!!(i||e.$options._renderChildren||l);e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o);if(e.$options._renderChildren=i,e.$attrs=o.data.attrs||r,e.$listeners=t||r,n&&e.$options.props){Ie(!1);for(var d=e._props,p=e.$options._propKeys||[],u=0;u<p.length;u++){var h=p[u],m=e.$options.props;d[h]=Le(h,m,n,e)}Ie(!0),e.$options.propsData=n}t=t||r;var g=e.$options._parentListeners;e.$options._parentListeners=t,Xn(e,t,g),c&&(e.$slots=gn(i,o.context),e.$forceUpdate());0}(n.componentInstance=e.componentInstance,t.propsData,t.listeners,n,t.children)},insert:function(e){var n,t=e.context,o=e.componentInstance;o._isMounted||(o._isMounted=!0,tt(o,"mounted")),e.data.keepAlive&&(t._isMounted?((n=o)._inactive=!1,rt.push(n)):nt(o,!0))},destroy:function(e){var n=e.componentInstance;n._isDestroyed||(e.data.keepAlive?function e(n,t){if(t&&(n._directInactive=!0,et(n)))return;if(!n._inactive){n._inactive=!0;for(var o=0;o<n.$children.length;o++)e(n.$children[o]);tt(n,"deactivated")}}(n,!0):n.$destroy())}},Mn=Object.keys(Ln);function Nn(e,n,t,o,l){if(!i(e)){var d=t.$options._base;if(c(e)&&(e=d.extend(e)),"function"==typeof e){var p;if(i(e.cid)&&void 0===(e=function(e,n){if(s(e.error)&&a(e.errorComp))return e.errorComp;if(a(e.resolved))return e.resolved;var t=$n;t&&a(e.owners)&&-1===e.owners.indexOf(t)&&e.owners.push(t);if(s(e.loading)&&a(e.loadingComp))return e.loadingComp;if(t&&!a(e.owners)){var o=e.owners=[t],r=!0,l=null,d=null;t.$on("hook:destroyed",(function(){return v(o,t)}));var p=function(e){for(var n=0,t=o.length;n<t;n++)o[n].$forceUpdate();e&&(o.length=0,null!==l&&(clearTimeout(l),l=null),null!==d&&(clearTimeout(d),d=null))},u=W((function(t){e.resolved=Vn(t,n),r?o.length=0:p(!0)})),h=W((function(n){a(e.errorComp)&&(e.error=!0,p(!0))})),g=e(u,h);return c(g)&&(m(g)?i(e.resolved)&&g.then(u,h):m(g.component)&&(g.component.then(u,h),a(g.error)&&(e.errorComp=Vn(g.error,n)),a(g.loading)&&(e.loadingComp=Vn(g.loading,n),0===g.delay?e.loading=!0:l=setTimeout((function(){l=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,p(!1))}),g.delay||200)),a(g.timeout)&&(d=setTimeout((function(){d=null,i(e.resolved)&&h(null)}),g.timeout)))),r=!1,e.loading?e.loadingComp:e.resolved}}(p=e,d)))return function(e,n,t,o,r){var i=we();return i.asyncFactory=e,i.asyncMeta={data:n,context:t,children:o,tag:r},i}(p,n,t,o,l);n=n||{},It(e),a(n.model)&&function(e,n){var t=e.model&&e.model.prop||"value",o=e.model&&e.model.event||"input";(n.attrs||(n.attrs={}))[t]=n.model.value;var r=n.on||(n.on={}),i=r[o],s=n.model.callback;a(i)?(Array.isArray(i)?-1===i.indexOf(s):i!==s)&&(r[o]=[s].concat(i)):r[o]=s}(e.options,n);var u=function(e,n,t){var o=n.options.props;if(!i(o)){var r={},s=e.attrs,l=e.props;if(a(s)||a(l))for(var c in o){var d=z(c);pn(r,l,c,d,!0)||pn(r,s,c,d,!1)}return r}}(n,e);if(s(e.options.functional))return function(e,n,t,o,i){var s=e.options,l={},c=s.props;if(a(c))for(var d in c)l[d]=Le(d,c,n||r);else a(t.attrs)&&Rn(l,t.attrs),a(t.props)&&Rn(l,t.props);var p=new Dn(t,l,i,o,e),u=s.render.call(null,p._c,p);if(u instanceof ge)return Wn(u,t,p.parent,s,p);if(Array.isArray(u)){for(var h=un(u)||[],m=new Array(h.length),g=0;g<h.length;g++)m[g]=Wn(h[g],t,p.parent,s,p);return m}}(e,u,n,t,o);var h=n.on;if(n.on=n.nativeOn,s(e.options.abstract)){var g=n.slot;n={},g&&(n.slot=g)}!function(e){for(var n=e.hook||(e.hook={}),t=0;t<Mn.length;t++){var o=Mn[t],r=n[o],i=Ln[o];r===i||r&&r._merged||(n[o]=r?Fn(i,r):i)}}(n);var f=e.options.name||l;return new ge("vue-component-"+e.cid+(f?"-"+f:""),n,void 0,void 0,void 0,t,{Ctor:e,propsData:u,listeners:h,tag:l,children:o},p)}}}function Fn(e,n){var t=function(t,o){e(t,o),n(t,o)};return t._merged=!0,t}function Un(e,n,t,o,r,d){return(Array.isArray(t)||l(t))&&(r=o,o=t,t=void 0),s(d)&&(r=2),function(e,n,t,o,r){if(a(t)&&a(t.__ob__))return we();a(t)&&a(t.is)&&(n=t.is);if(!n)return we();0;Array.isArray(o)&&"function"==typeof o[0]&&((t=t||{}).scopedSlots={default:o[0]},o.length=0);2===r?o=un(o):1===r&&(o=function(e){for(var n=0;n<e.length;n++)if(Array.isArray(e[n]))return Array.prototype.concat.apply([],e);return e}(o));var l,d;if("string"==typeof n){var p;d=e.$vnode&&e.$vnode.ns||M.getTagNamespace(n),l=M.isReservedTag(n)?new ge(M.parsePlatformTagName(n),t,o,void 0,void 0,e):t&&t.pre||!a(p=Re(e.$options,"components",n))?new ge(n,t,o,void 0,void 0,e):Nn(p,t,e,o,n)}else l=Nn(n,t,e,o);return Array.isArray(l)?l:a(l)?(a(d)&&function e(n,t,o){n.ns=t,"foreignObject"===n.tag&&(t=void 0,o=!0);if(a(n.children))for(var r=0,l=n.children.length;r<l;r++){var c=n.children[r];a(c.tag)&&(i(c.ns)||s(o)&&"svg"!==c.tag)&&e(c,t,o)}}(l,d),a(t)&&function(e){c(e.style)&&an(e.style);c(e.class)&&an(e.class)}(t),l):we()}(e,n,t,o,r)}var Hn,$n=null;function Vn(e,n){return(e.__esModule||le&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?n.extend(e):e}function Gn(e){if(Array.isArray(e))for(var n=0;n<e.length;n++){var t=e[n];if(a(t)&&(a(t.componentOptions)||wn(t)))return t}}function Zn(e,n){Hn.$on(e,n)}function Jn(e,n){Hn.$off(e,n)}function Kn(e,n){var t=Hn;return function o(){var r=n.apply(null,arguments);null!==r&&t.$off(e,o)}}function Xn(e,n,t){Hn=e,cn(n,t||{},Zn,Jn,Kn,e),Hn=void 0}var Yn=null;function Qn(e){var n=Yn;return Yn=e,function(){Yn=n}}function et(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function nt(e,n){if(n){if(e._directInactive=!1,et(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var t=0;t<e.$children.length;t++)nt(e.$children[t]);tt(e,"activated")}}function tt(e,n){he();var t=e.$options[n],o=n+" hook";if(t)for(var r=0,i=t.length;r<i;r++)$e(t[r],e,null,e,o);e._hasHookEvent&&e.$emit("hook:"+n),me()}var ot=[],rt=[],it={},at=!1,st=!1,lt=0;var ct=0,dt=Date.now;if(V&&!K){var pt=window.performance;pt&&"function"==typeof pt.now&&dt()>document.createEvent("Event").timeStamp&&(dt=function(){return pt.now()})}function ut(){var e,n;for(ct=dt(),st=!0,ot.sort((function(e,n){return e.id-n.id})),lt=0;lt<ot.length;lt++)(e=ot[lt]).before&&e.before(),n=e.id,it[n]=null,e.run();var t=rt.slice(),o=ot.slice();lt=ot.length=rt.length=0,it={},at=st=!1,function(e){for(var n=0;n<e.length;n++)e[n]._inactive=!0,nt(e[n],!0)}(t),function(e){var n=e.length;for(;n--;){var t=e[n],o=t.vm;o._watcher===t&&o._isMounted&&!o._isDestroyed&&tt(o,"updated")}}(o),ie&&M.devtools&&ie.emit("flush")}var ht=0,mt=function(e,n,t,o,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),o?(this.deep=!!o.deep,this.user=!!o.user,this.lazy=!!o.lazy,this.sync=!!o.sync,this.before=o.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++ht,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new se,this.newDepIds=new se,this.expression="","function"==typeof n?this.getter=n:(this.getter=function(e){if(!U.test(e)){var n=e.split(".");return function(e){for(var t=0;t<n.length;t++){if(!e)return;e=e[n[t]]}return e}}}(n),this.getter||(this.getter=_)),this.value=this.lazy?void 0:this.get()};mt.prototype.get=function(){var e;he(this);var n=this.vm;try{e=this.getter.call(n,n)}catch(e){if(!this.user)throw e;He(e,n,'getter for watcher "'+this.expression+'"')}finally{this.deep&&an(e),me(),this.cleanupDeps()}return e},mt.prototype.addDep=function(e){var n=e.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(e),this.depIds.has(n)||e.addSub(this))},mt.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var n=this.deps[e];this.newDepIds.has(n.id)||n.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},mt.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var n=e.id;if(null==it[n]){if(it[n]=!0,st){for(var t=ot.length-1;t>lt&&ot[t].id>e.id;)t--;ot.splice(t+1,0,e)}else ot.push(e);at||(at=!0,on(ut))}}(this)},mt.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var n=this.value;if(this.value=e,this.user){var t='callback for watcher "'+this.expression+'"';$e(this.cb,this.vm,[e,n],this.vm,t)}else this.cb.call(this.vm,e,n)}}},mt.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},mt.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},mt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var gt={enumerable:!0,configurable:!0,get:_,set:_};function ft(e,n,t){gt.get=function(){return this[n][t]},gt.set=function(e){this[n][t]=e},Object.defineProperty(e,t,gt)}function wt(e){e._watchers=[];var n=e.$options;n.props&&function(e,n){var t=e.$options.propsData||{},o=e._props={},r=e.$options._propKeys=[];e.$parent&&Ie(!1);var i=function(i){r.push(i);var a=Le(i,n,t,e);ze(o,i,a),i in e||ft(e,"_props",i)};for(var a in n)i(a);Ie(!0)}(e,n.props),n.methods&&function(e,n){e.$options.props;for(var t in n)e[t]="function"!=typeof n[t]?_:A(n[t],e)}(e,n.methods),n.data?function(e){var n=e.$options.data;p(n=e._data="function"==typeof n?function(e,n){he();try{return e.call(n,n)}catch(e){return He(e,n,"data()"),{}}finally{me()}}(n,e):n||{})||(n={});var t=Object.keys(n),o=e.$options.props,r=(e.$options.methods,t.length);for(;r--;){var i=t[r];0,o&&x(o,i)||(a=void 0,36!==(a=(i+"").charCodeAt(0))&&95!==a&&ft(e,"_data",i))}var a;Te(n,!0)}(e):Te(e._data={},!0),n.computed&&function(e,n){var t=e._computedWatchers=Object.create(null),o=re();for(var r in n){var i=n[r],a="function"==typeof i?i:i.get;0,o||(t[r]=new mt(e,a||_,_,bt)),r in e||vt(e,r,i)}}(e,n.computed),n.watch&&n.watch!==ne&&function(e,n){for(var t in n){var o=n[t];if(Array.isArray(o))for(var r=0;r<o.length;r++)kt(e,t,o[r]);else kt(e,t,o)}}(e,n.watch)}var bt={lazy:!0};function vt(e,n,t){var o=!re();"function"==typeof t?(gt.get=o?yt(n):xt(t),gt.set=_):(gt.get=t.get?o&&!1!==t.cache?yt(n):xt(t.get):_,gt.set=t.set||_),Object.defineProperty(e,n,gt)}function yt(e){return function(){var n=this._computedWatchers&&this._computedWatchers[e];if(n)return n.dirty&&n.evaluate(),pe.target&&n.depend(),n.value}}function xt(e){return function(){return e.call(this,this)}}function kt(e,n,t,o){return p(t)&&(o=t,t=t.handler),"string"==typeof t&&(t=e[t]),e.$watch(n,t,o)}var Et=0;function It(e){var n=e.options;if(e.super){var t=It(e.super);if(t!==e.superOptions){e.superOptions=t;var o=function(e){var n,t=e.options,o=e.sealedOptions;for(var r in t)t[r]!==o[r]&&(n||(n={}),n[r]=t[r]);return n}(e);o&&P(e.extendOptions,o),(n=e.options=We(t,e.extendOptions)).name&&(n.components[n.name]=e)}}return n}function St(e){this._init(e)}function Tt(e){e.cid=0;var n=1;e.extend=function(e){e=e||{};var t=this,o=t.cid,r=e._Ctor||(e._Ctor={});if(r[o])return r[o];var i=e.name||t.options.name;var a=function(e){this._init(e)};return(a.prototype=Object.create(t.prototype)).constructor=a,a.cid=n++,a.options=We(t.options,e),a.super=t,a.options.props&&function(e){var n=e.options.props;for(var t in n)ft(e.prototype,"_props",t)}(a),a.options.computed&&function(e){var n=e.options.computed;for(var t in n)vt(e.prototype,t,n[t])}(a),a.extend=t.extend,a.mixin=t.mixin,a.use=t.use,R.forEach((function(e){a[e]=t[e]})),i&&(a.options.components[i]=a),a.superOptions=t.options,a.extendOptions=e,a.sealedOptions=P({},a.options),r[o]=a,a}}function zt(e){return e&&(e.Ctor.options.name||e.tag)}function At(e,n){return Array.isArray(e)?e.indexOf(n)>-1:"string"==typeof e?e.split(",").indexOf(n)>-1:!!u(e)&&e.test(n)}function jt(e,n){var t=e.cache,o=e.keys,r=e._vnode;for(var i in t){var a=t[i];if(a){var s=a.name;s&&!n(s)&&Pt(t,i,o,r)}}}function Pt(e,n,t,o){var r=e[n];!r||o&&r.tag===o.tag||r.componentInstance.$destroy(),e[n]=null,v(t,n)}!function(e){e.prototype._init=function(e){var n=this;n._uid=Et++,n._isVue=!0,e&&e._isComponent?function(e,n){var t=e.$options=Object.create(e.constructor.options),o=n._parentVnode;t.parent=n.parent,t._parentVnode=o;var r=o.componentOptions;t.propsData=r.propsData,t._parentListeners=r.listeners,t._renderChildren=r.children,t._componentTag=r.tag,n.render&&(t.render=n.render,t.staticRenderFns=n.staticRenderFns)}(n,e):n.$options=We(It(n.constructor),e||{},n),n._renderProxy=n,n._self=n,function(e){var n=e.$options,t=n.parent;if(t&&!n.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(e)}e.$parent=t,e.$root=t?t.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var n=e.$options._parentListeners;n&&Xn(e,n)}(n),function(e){e._vnode=null,e._staticTrees=null;var n=e.$options,t=e.$vnode=n._parentVnode,o=t&&t.context;e.$slots=gn(n._renderChildren,o),e.$scopedSlots=r,e._c=function(n,t,o,r){return Un(e,n,t,o,r,!1)},e.$createElement=function(n,t,o,r){return Un(e,n,t,o,r,!0)};var i=t&&t.data;ze(e,"$attrs",i&&i.attrs||r,null,!0),ze(e,"$listeners",n._parentListeners||r,null,!0)}(n),tt(n,"beforeCreate"),function(e){var n=mn(e.$options.inject,e);n&&(Ie(!1),Object.keys(n).forEach((function(t){ze(e,t,n[t])})),Ie(!0))}(n),wt(n),function(e){var n=e.$options.provide;n&&(e._provided="function"==typeof n?n.call(e):n)}(n),tt(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(St),function(e){var n={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",n),Object.defineProperty(e.prototype,"$props",t),e.prototype.$set=Ae,e.prototype.$delete=je,e.prototype.$watch=function(e,n,t){if(p(n))return kt(this,e,n,t);(t=t||{}).user=!0;var o=new mt(this,e,n,t);if(t.immediate){var r='callback for immediate watcher "'+o.expression+'"';he(),$e(n,this,[o.value],this,r),me()}return function(){o.teardown()}}}(St),function(e){var n=/^hook:/;e.prototype.$on=function(e,t){var o=this;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)o.$on(e[r],t);else(o._events[e]||(o._events[e]=[])).push(t),n.test(e)&&(o._hasHookEvent=!0);return o},e.prototype.$once=function(e,n){var t=this;function o(){t.$off(e,o),n.apply(t,arguments)}return o.fn=n,t.$on(e,o),t},e.prototype.$off=function(e,n){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(Array.isArray(e)){for(var o=0,r=e.length;o<r;o++)t.$off(e[o],n);return t}var i,a=t._events[e];if(!a)return t;if(!n)return t._events[e]=null,t;for(var s=a.length;s--;)if((i=a[s])===n||i.fn===n){a.splice(s,1);break}return t},e.prototype.$emit=function(e){var n=this,t=n._events[e];if(t){t=t.length>1?j(t):t;for(var o=j(arguments,1),r='event handler for "'+e+'"',i=0,a=t.length;i<a;i++)$e(t[i],n,o,n,r)}return n}}(St),function(e){e.prototype._update=function(e,n){var t=this,o=t.$el,r=t._vnode,i=Qn(t);t._vnode=e,t.$el=r?t.__patch__(r,e):t.__patch__(t.$el,e,n,!1),i(),o&&(o.__vue__=null),t.$el&&(t.$el.__vue__=t),t.$vnode&&t.$parent&&t.$vnode===t.$parent._vnode&&(t.$parent.$el=t.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){tt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var n=e.$parent;!n||n._isBeingDestroyed||e.$options.abstract||v(n.$children,e),e._watcher&&e._watcher.teardown();for(var t=e._watchers.length;t--;)e._watchers[t].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),tt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(St),function(e){qn(e.prototype),e.prototype.$nextTick=function(e){return on(e,this)},e.prototype._render=function(){var e,n=this,t=n.$options,o=t.render,r=t._parentVnode;r&&(n.$scopedSlots=bn(r.data.scopedSlots,n.$slots,n.$scopedSlots)),n.$vnode=r;try{$n=n,e=o.call(n._renderProxy,n.$createElement)}catch(t){He(t,n,"render"),e=n._vnode}finally{$n=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ge||(e=we()),e.parent=r,e}}(St);var Ct=[String,RegExp,Array],_t={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Ct,exclude:Ct,max:[String,Number]},methods:{cacheVNode:function(){var e=this.cache,n=this.keys,t=this.vnodeToCache,o=this.keyToCache;if(t){var r=t.tag,i=t.componentInstance,a=t.componentOptions;e[o]={name:zt(a),tag:r,componentInstance:i},n.push(o),this.max&&n.length>parseInt(this.max)&&Pt(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Pt(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(n){jt(e,(function(e){return At(n,e)}))})),this.$watch("exclude",(function(n){jt(e,(function(e){return!At(n,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,n=Gn(e),t=n&&n.componentOptions;if(t){var o=zt(t),r=this.include,i=this.exclude;if(r&&(!o||!At(r,o))||i&&o&&At(i,o))return n;var a=this.cache,s=this.keys,l=null==n.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):n.key;a[l]?(n.componentInstance=a[l].componentInstance,v(s,l),s.push(l)):(this.vnodeToCache=n,this.keyToCache=l),n.data.keepAlive=!0}return n||e&&e[0]}}};!function(e){var n={get:function(){return M}};Object.defineProperty(e,"config",n),e.util={warn:ce,extend:P,mergeOptions:We,defineReactive:ze},e.set=Ae,e.delete=je,e.nextTick=on,e.observable=function(e){return Te(e),e},e.options=Object.create(null),R.forEach((function(n){e.options[n+"s"]=Object.create(null)})),e.options._base=e,P(e.options.components,_t),function(e){e.use=function(e){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(e)>-1)return this;var t=j(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):"function"==typeof e&&e.apply(null,t),n.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=We(this.options,e),this}}(e),Tt(e),function(e){R.forEach((function(n){e[n]=function(e,t){return t?("component"===n&&p(t)&&(t.name=t.name||e,t=this.options._base.extend(t)),"directive"===n&&"function"==typeof t&&(t={bind:t,update:t}),this.options[n+"s"][e]=t,t):this.options[n+"s"][e]}}))}(e)}(St),Object.defineProperty(St.prototype,"$isServer",{get:re}),Object.defineProperty(St.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(St,"FunctionalRenderContext",{value:Dn}),St.version="2.6.14";var Bt=w("style,class"),Ot=w("input,textarea,option,select,progress"),qt=w("contenteditable,draggable,spellcheck"),Dt=w("events,caret,typing,plaintext-only"),Wt=w("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Rt="http://www.w3.org/1999/xlink",Lt=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Mt=function(e){return Lt(e)?e.slice(6,e.length):""},Nt=function(e){return null==e||!1===e};function Ft(e){for(var n=e.data,t=e,o=e;a(o.componentInstance);)(o=o.componentInstance._vnode)&&o.data&&(n=Ut(o.data,n));for(;a(t=t.parent);)t&&t.data&&(n=Ut(n,t.data));return function(e,n){if(a(e)||a(n))return Ht(e,$t(n));return""}(n.staticClass,n.class)}function Ut(e,n){return{staticClass:Ht(e.staticClass,n.staticClass),class:a(e.class)?[e.class,n.class]:n.class}}function Ht(e,n){return e?n?e+" "+n:e:n||""}function $t(e){return Array.isArray(e)?function(e){for(var n,t="",o=0,r=e.length;o<r;o++)a(n=$t(e[o]))&&""!==n&&(t&&(t+=" "),t+=n);return t}(e):c(e)?function(e){var n="";for(var t in e)e[t]&&(n&&(n+=" "),n+=t);return n}(e):"string"==typeof e?e:""}var Vt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Gt=w("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Zt=w("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Jt=function(e){return Gt(e)||Zt(e)};var Kt=Object.create(null);var Xt=w("text,number,password,search,email,tel,url");var Yt=Object.freeze({createElement:function(e,n){var t=document.createElement(e);return"select"!==e||n.data&&n.data.attrs&&void 0!==n.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(e,n){return document.createElementNS(Vt[e],n)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,n,t){e.insertBefore(n,t)},removeChild:function(e,n){e.removeChild(n)},appendChild:function(e,n){e.appendChild(n)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,n){e.textContent=n},setStyleScope:function(e,n){e.setAttribute(n,"")}}),Qt={create:function(e,n){eo(n)},update:function(e,n){e.data.ref!==n.data.ref&&(eo(e,!0),eo(n))},destroy:function(e){eo(e,!0)}};function eo(e,n){var t=e.data.ref;if(a(t)){var o=e.context,r=e.componentInstance||e.elm,i=o.$refs;n?Array.isArray(i[t])?v(i[t],r):i[t]===r&&(i[t]=void 0):e.data.refInFor?Array.isArray(i[t])?i[t].indexOf(r)<0&&i[t].push(r):i[t]=[r]:i[t]=r}}var no=new ge("",{},[]),to=["create","activate","update","remove","destroy"];function oo(e,n){return e.key===n.key&&e.asyncFactory===n.asyncFactory&&(e.tag===n.tag&&e.isComment===n.isComment&&a(e.data)===a(n.data)&&function(e,n){if("input"!==e.tag)return!0;var t,o=a(t=e.data)&&a(t=t.attrs)&&t.type,r=a(t=n.data)&&a(t=t.attrs)&&t.type;return o===r||Xt(o)&&Xt(r)}(e,n)||s(e.isAsyncPlaceholder)&&i(n.asyncFactory.error))}function ro(e,n,t){var o,r,i={};for(o=n;o<=t;++o)a(r=e[o].key)&&(i[r]=o);return i}var io={create:ao,update:ao,destroy:function(e){ao(e,no)}};function ao(e,n){(e.data.directives||n.data.directives)&&function(e,n){var t,o,r,i=e===no,a=n===no,s=lo(e.data.directives,e.context),l=lo(n.data.directives,n.context),c=[],d=[];for(t in l)o=s[t],r=l[t],o?(r.oldValue=o.value,r.oldArg=o.arg,po(r,"update",n,e),r.def&&r.def.componentUpdated&&d.push(r)):(po(r,"bind",n,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var p=function(){for(var t=0;t<c.length;t++)po(c[t],"inserted",n,e)};i?dn(n,"insert",p):p()}d.length&&dn(n,"postpatch",(function(){for(var t=0;t<d.length;t++)po(d[t],"componentUpdated",n,e)}));if(!i)for(t in s)l[t]||po(s[t],"unbind",e,e,a)}(e,n)}var so=Object.create(null);function lo(e,n){var t,o,r=Object.create(null);if(!e)return r;for(t=0;t<e.length;t++)(o=e[t]).modifiers||(o.modifiers=so),r[co(o)]=o,o.def=Re(n.$options,"directives",o.name);return r}function co(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function po(e,n,t,o,r){var i=e.def&&e.def[n];if(i)try{i(t.elm,e,t,o,r)}catch(o){He(o,t.context,"directive "+e.name+" "+n+" hook")}}var uo=[Qt,io];function ho(e,n){var t=n.componentOptions;if(!(a(t)&&!1===t.Ctor.options.inheritAttrs||i(e.data.attrs)&&i(n.data.attrs))){var o,r,s=n.elm,l=e.data.attrs||{},c=n.data.attrs||{};for(o in a(c.__ob__)&&(c=n.data.attrs=P({},c)),c)r=c[o],l[o]!==r&&mo(s,o,r,n.data.pre);for(o in(K||Y)&&c.value!==l.value&&mo(s,"value",c.value),l)i(c[o])&&(Lt(o)?s.removeAttributeNS(Rt,Mt(o)):qt(o)||s.removeAttribute(o))}}function mo(e,n,t,o){o||e.tagName.indexOf("-")>-1?go(e,n,t):Wt(n)?Nt(t)?e.removeAttribute(n):(t="allowfullscreen"===n&&"EMBED"===e.tagName?"true":n,e.setAttribute(n,t)):qt(n)?e.setAttribute(n,function(e,n){return Nt(n)||"false"===n?"false":"contenteditable"===e&&Dt(n)?n:"true"}(n,t)):Lt(n)?Nt(t)?e.removeAttributeNS(Rt,Mt(n)):e.setAttributeNS(Rt,n,t):go(e,n,t)}function go(e,n,t){if(Nt(t))e.removeAttribute(n);else{if(K&&!X&&"TEXTAREA"===e.tagName&&"placeholder"===n&&""!==t&&!e.__ieph){var o=function(n){n.stopImmediatePropagation(),e.removeEventListener("input",o)};e.addEventListener("input",o),e.__ieph=!0}e.setAttribute(n,t)}}var fo={create:ho,update:ho};function wo(e,n){var t=n.elm,o=n.data,r=e.data;if(!(i(o.staticClass)&&i(o.class)&&(i(r)||i(r.staticClass)&&i(r.class)))){var s=Ft(n),l=t._transitionClasses;a(l)&&(s=Ht(s,$t(l))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var bo,vo={create:wo,update:wo};function yo(e,n,t){var o=bo;return function r(){var i=n.apply(null,arguments);null!==i&&Eo(e,r,t,o)}}var xo=Je&&!(ee&&Number(ee[1])<=53);function ko(e,n,t,o){if(xo){var r=ct,i=n;n=i._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return i.apply(this,arguments)}}bo.addEventListener(e,n,te?{capture:t,passive:o}:t)}function Eo(e,n,t,o){(o||bo).removeEventListener(e,n._wrapper||n,t)}function Io(e,n){if(!i(e.data.on)||!i(n.data.on)){var t=n.data.on||{},o=e.data.on||{};bo=n.elm,function(e){if(a(e.__r)){var n=K?"change":"input";e[n]=[].concat(e.__r,e[n]||[]),delete e.__r}a(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(t),cn(t,o,ko,Eo,yo,n.context),bo=void 0}}var So,To={create:Io,update:Io};function zo(e,n){if(!i(e.data.domProps)||!i(n.data.domProps)){var t,o,r=n.elm,s=e.data.domProps||{},l=n.data.domProps||{};for(t in a(l.__ob__)&&(l=n.data.domProps=P({},l)),s)t in l||(r[t]="");for(t in l){if(o=l[t],"textContent"===t||"innerHTML"===t){if(n.children&&(n.children.length=0),o===s[t])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===t&&"PROGRESS"!==r.tagName){r._value=o;var c=i(o)?"":String(o);Ao(r,c)&&(r.value=c)}else if("innerHTML"===t&&Zt(r.tagName)&&i(r.innerHTML)){(So=So||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var d=So.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;d.firstChild;)r.appendChild(d.firstChild)}else if(o!==s[t])try{r[t]=o}catch(e){}}}}function Ao(e,n){return!e.composing&&("OPTION"===e.tagName||function(e,n){var t=!0;try{t=document.activeElement!==e}catch(e){}return t&&e.value!==n}(e,n)||function(e,n){var t=e.value,o=e._vModifiers;if(a(o)){if(o.number)return f(t)!==f(n);if(o.trim)return t.trim()!==n.trim()}return t!==n}(e,n))}var jo={create:zo,update:zo},Po=k((function(e){var n={},t=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var o=e.split(t);o.length>1&&(n[o[0].trim()]=o[1].trim())}})),n}));function Co(e){var n=_o(e.style);return e.staticStyle?P(e.staticStyle,n):n}function _o(e){return Array.isArray(e)?C(e):"string"==typeof e?Po(e):e}var Bo,Oo=/^--/,qo=/\s*!important$/,Do=function(e,n,t){if(Oo.test(n))e.style.setProperty(n,t);else if(qo.test(t))e.style.setProperty(z(n),t.replace(qo,""),"important");else{var o=Ro(n);if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)e.style[o]=t[r];else e.style[o]=t}},Wo=["Webkit","Moz","ms"],Ro=k((function(e){if(Bo=Bo||document.createElement("div").style,"filter"!==(e=I(e))&&e in Bo)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),t=0;t<Wo.length;t++){var o=Wo[t]+n;if(o in Bo)return o}}));function Lo(e,n){var t=n.data,o=e.data;if(!(i(t.staticStyle)&&i(t.style)&&i(o.staticStyle)&&i(o.style))){var r,s,l=n.elm,c=o.staticStyle,d=o.normalizedStyle||o.style||{},p=c||d,u=_o(n.data.style)||{};n.data.normalizedStyle=a(u.__ob__)?P({},u):u;var h=function(e,n){var t,o={};if(n)for(var r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(t=Co(r.data))&&P(o,t);(t=Co(e.data))&&P(o,t);for(var i=e;i=i.parent;)i.data&&(t=Co(i.data))&&P(o,t);return o}(n,!0);for(s in p)i(h[s])&&Do(l,s,"");for(s in h)(r=h[s])!==p[s]&&Do(l,s,null==r?"":r)}}var Mo={create:Lo,update:Lo},No=/\s+/;function Fo(e,n){if(n&&(n=n.trim()))if(e.classList)n.indexOf(" ")>-1?n.split(No).forEach((function(n){return e.classList.add(n)})):e.classList.add(n);else{var t=" "+(e.getAttribute("class")||"")+" ";t.indexOf(" "+n+" ")<0&&e.setAttribute("class",(t+n).trim())}}function Uo(e,n){if(n&&(n=n.trim()))if(e.classList)n.indexOf(" ")>-1?n.split(No).forEach((function(n){return e.classList.remove(n)})):e.classList.remove(n),e.classList.length||e.removeAttribute("class");else{for(var t=" "+(e.getAttribute("class")||"")+" ",o=" "+n+" ";t.indexOf(o)>=0;)t=t.replace(o," ");(t=t.trim())?e.setAttribute("class",t):e.removeAttribute("class")}}function Ho(e){if(e){if("object"==typeof e){var n={};return!1!==e.css&&P(n,$o(e.name||"v")),P(n,e),n}return"string"==typeof e?$o(e):void 0}}var $o=k((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Vo=V&&!X,Go="transition",Zo="transitionend",Jo="animation",Ko="animationend";Vo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Go="WebkitTransition",Zo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Jo="WebkitAnimation",Ko="webkitAnimationEnd"));var Xo=V?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Yo(e){Xo((function(){Xo(e)}))}function Qo(e,n){var t=e._transitionClasses||(e._transitionClasses=[]);t.indexOf(n)<0&&(t.push(n),Fo(e,n))}function er(e,n){e._transitionClasses&&v(e._transitionClasses,n),Uo(e,n)}function nr(e,n,t){var o=or(e,n),r=o.type,i=o.timeout,a=o.propCount;if(!r)return t();var s="transition"===r?Zo:Ko,l=0,c=function(){e.removeEventListener(s,d),t()},d=function(n){n.target===e&&++l>=a&&c()};setTimeout((function(){l<a&&c()}),i+1),e.addEventListener(s,d)}var tr=/\b(transform|all)(,|$)/;function or(e,n){var t,o=window.getComputedStyle(e),r=(o[Go+"Delay"]||"").split(", "),i=(o[Go+"Duration"]||"").split(", "),a=rr(r,i),s=(o[Jo+"Delay"]||"").split(", "),l=(o[Jo+"Duration"]||"").split(", "),c=rr(s,l),d=0,p=0;return"transition"===n?a>0&&(t="transition",d=a,p=i.length):"animation"===n?c>0&&(t="animation",d=c,p=l.length):p=(t=(d=Math.max(a,c))>0?a>c?"transition":"animation":null)?"transition"===t?i.length:l.length:0,{type:t,timeout:d,propCount:p,hasTransform:"transition"===t&&tr.test(o[Go+"Property"])}}function rr(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max.apply(null,n.map((function(n,t){return ir(n)+ir(e[t])})))}function ir(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ar(e,n){var t=e.elm;a(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var o=Ho(e.data.transition);if(!i(o)&&!a(t._enterCb)&&1===t.nodeType){for(var r=o.css,s=o.type,l=o.enterClass,d=o.enterToClass,p=o.enterActiveClass,u=o.appearClass,h=o.appearToClass,m=o.appearActiveClass,g=o.beforeEnter,w=o.enter,b=o.afterEnter,v=o.enterCancelled,y=o.beforeAppear,x=o.appear,k=o.afterAppear,E=o.appearCancelled,I=o.duration,S=Yn,T=Yn.$vnode;T&&T.parent;)S=T.context,T=T.parent;var z=!S._isMounted||!e.isRootInsert;if(!z||x||""===x){var A=z&&u?u:l,j=z&&m?m:p,P=z&&h?h:d,C=z&&y||g,_=z&&"function"==typeof x?x:w,B=z&&k||b,O=z&&E||v,q=f(c(I)?I.enter:I);0;var D=!1!==r&&!X,R=cr(_),L=t._enterCb=W((function(){D&&(er(t,P),er(t,j)),L.cancelled?(D&&er(t,A),O&&O(t)):B&&B(t),t._enterCb=null}));e.data.show||dn(e,"insert",(function(){var n=t.parentNode,o=n&&n._pending&&n._pending[e.key];o&&o.tag===e.tag&&o.elm._leaveCb&&o.elm._leaveCb(),_&&_(t,L)})),C&&C(t),D&&(Qo(t,A),Qo(t,j),Yo((function(){er(t,A),L.cancelled||(Qo(t,P),R||(lr(q)?setTimeout(L,q):nr(t,s,L)))}))),e.data.show&&(n&&n(),_&&_(t,L)),D||R||L()}}}function sr(e,n){var t=e.elm;a(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var o=Ho(e.data.transition);if(i(o)||1!==t.nodeType)return n();if(!a(t._leaveCb)){var r=o.css,s=o.type,l=o.leaveClass,d=o.leaveToClass,p=o.leaveActiveClass,u=o.beforeLeave,h=o.leave,m=o.afterLeave,g=o.leaveCancelled,w=o.delayLeave,b=o.duration,v=!1!==r&&!X,y=cr(h),x=f(c(b)?b.leave:b);0;var k=t._leaveCb=W((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[e.key]=null),v&&(er(t,d),er(t,p)),k.cancelled?(v&&er(t,l),g&&g(t)):(n(),m&&m(t)),t._leaveCb=null}));w?w(E):E()}function E(){k.cancelled||(!e.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[e.key]=e),u&&u(t),v&&(Qo(t,l),Qo(t,p),Yo((function(){er(t,l),k.cancelled||(Qo(t,d),y||(lr(x)?setTimeout(k,x):nr(t,s,k)))}))),h&&h(t,k),v||y||k())}}function lr(e){return"number"==typeof e&&!isNaN(e)}function cr(e){if(i(e))return!1;var n=e.fns;return a(n)?cr(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function dr(e,n){!0!==n.data.show&&ar(n)}var pr=function(e){var n,t,o={},r=e.modules,c=e.nodeOps;for(n=0;n<to.length;++n)for(o[to[n]]=[],t=0;t<r.length;++t)a(r[t][to[n]])&&o[to[n]].push(r[t][to[n]]);function d(e){var n=c.parentNode(e);a(n)&&c.removeChild(n,e)}function p(e,n,t,r,i,l,d){if(a(e.elm)&&a(l)&&(e=l[d]=ve(e)),e.isRootInsert=!i,!function(e,n,t,r){var i=e.data;if(a(i)){var l=a(e.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)&&i(e,!1),a(e.componentInstance))return u(e,n),h(t,e.elm,r),s(l)&&function(e,n,t,r){var i,s=e;for(;s.componentInstance;)if(s=s.componentInstance._vnode,a(i=s.data)&&a(i=i.transition)){for(i=0;i<o.activate.length;++i)o.activate[i](no,s);n.push(s);break}h(t,e.elm,r)}(e,n,t,r),!0}}(e,n,t,r)){var p=e.data,g=e.children,w=e.tag;a(w)?(e.elm=e.ns?c.createElementNS(e.ns,w):c.createElement(w,e),b(e),m(e,g,n),a(p)&&f(e,n),h(t,e.elm,r)):s(e.isComment)?(e.elm=c.createComment(e.text),h(t,e.elm,r)):(e.elm=c.createTextNode(e.text),h(t,e.elm,r))}}function u(e,n){a(e.data.pendingInsert)&&(n.push.apply(n,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,g(e)?(f(e,n),b(e)):(eo(e),n.push(e))}function h(e,n,t){a(e)&&(a(t)?c.parentNode(t)===e&&c.insertBefore(e,n,t):c.appendChild(e,n))}function m(e,n,t){if(Array.isArray(n)){0;for(var o=0;o<n.length;++o)p(n[o],t,e.elm,null,!0,n,o)}else l(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function g(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return a(e.tag)}function f(e,t){for(var r=0;r<o.create.length;++r)o.create[r](no,e);a(n=e.data.hook)&&(a(n.create)&&n.create(no,e),a(n.insert)&&t.push(e))}function b(e){var n;if(a(n=e.fnScopeId))c.setStyleScope(e.elm,n);else for(var t=e;t;)a(n=t.context)&&a(n=n.$options._scopeId)&&c.setStyleScope(e.elm,n),t=t.parent;a(n=Yn)&&n!==e.context&&n!==e.fnContext&&a(n=n.$options._scopeId)&&c.setStyleScope(e.elm,n)}function v(e,n,t,o,r,i){for(;o<=r;++o)p(t[o],i,e,n,!1,t,o)}function y(e){var n,t,r=e.data;if(a(r))for(a(n=r.hook)&&a(n=n.destroy)&&n(e),n=0;n<o.destroy.length;++n)o.destroy[n](e);if(a(n=e.children))for(t=0;t<e.children.length;++t)y(e.children[t])}function x(e,n,t){for(;n<=t;++n){var o=e[n];a(o)&&(a(o.tag)?(k(o),y(o)):d(o.elm))}}function k(e,n){if(a(n)||a(e.data)){var t,r=o.remove.length+1;for(a(n)?n.listeners+=r:n=function(e,n){function t(){0==--t.listeners&&d(e)}return t.listeners=n,t}(e.elm,r),a(t=e.componentInstance)&&a(t=t._vnode)&&a(t.data)&&k(t,n),t=0;t<o.remove.length;++t)o.remove[t](e,n);a(t=e.data.hook)&&a(t=t.remove)?t(e,n):n()}else d(e.elm)}function E(e,n,t,o){for(var r=t;r<o;r++){var i=n[r];if(a(i)&&oo(e,i))return r}}function I(e,n,t,r,l,d){if(e!==n){a(n.elm)&&a(r)&&(n=r[l]=ve(n));var u=n.elm=e.elm;if(s(e.isAsyncPlaceholder))a(n.asyncFactory.resolved)?z(e.elm,n,t):n.isAsyncPlaceholder=!0;else if(s(n.isStatic)&&s(e.isStatic)&&n.key===e.key&&(s(n.isCloned)||s(n.isOnce)))n.componentInstance=e.componentInstance;else{var h,m=n.data;a(m)&&a(h=m.hook)&&a(h=h.prepatch)&&h(e,n);var f=e.children,w=n.children;if(a(m)&&g(n)){for(h=0;h<o.update.length;++h)o.update[h](e,n);a(h=m.hook)&&a(h=h.update)&&h(e,n)}i(n.text)?a(f)&&a(w)?f!==w&&function(e,n,t,o,r){var s,l,d,u=0,h=0,m=n.length-1,g=n[0],f=n[m],w=t.length-1,b=t[0],y=t[w],k=!r;for(0;u<=m&&h<=w;)i(g)?g=n[++u]:i(f)?f=n[--m]:oo(g,b)?(I(g,b,o,t,h),g=n[++u],b=t[++h]):oo(f,y)?(I(f,y,o,t,w),f=n[--m],y=t[--w]):oo(g,y)?(I(g,y,o,t,w),k&&c.insertBefore(e,g.elm,c.nextSibling(f.elm)),g=n[++u],y=t[--w]):oo(f,b)?(I(f,b,o,t,h),k&&c.insertBefore(e,f.elm,g.elm),f=n[--m],b=t[++h]):(i(s)&&(s=ro(n,u,m)),i(l=a(b.key)?s[b.key]:E(b,n,u,m))?p(b,o,e,g.elm,!1,t,h):oo(d=n[l],b)?(I(d,b,o,t,h),n[l]=void 0,k&&c.insertBefore(e,d.elm,g.elm)):p(b,o,e,g.elm,!1,t,h),b=t[++h]);u>m?v(e,i(t[w+1])?null:t[w+1].elm,t,h,w,o):h>w&&x(n,u,m)}(u,f,w,t,d):a(w)?(a(e.text)&&c.setTextContent(u,""),v(u,null,w,0,w.length-1,t)):a(f)?x(f,0,f.length-1):a(e.text)&&c.setTextContent(u,""):e.text!==n.text&&c.setTextContent(u,n.text),a(m)&&a(h=m.hook)&&a(h=h.postpatch)&&h(e,n)}}}function S(e,n,t){if(s(t)&&a(e.parent))e.parent.data.pendingInsert=n;else for(var o=0;o<n.length;++o)n[o].data.hook.insert(n[o])}var T=w("attrs,class,staticClass,staticStyle,key");function z(e,n,t,o){var r,i=n.tag,l=n.data,c=n.children;if(o=o||l&&l.pre,n.elm=e,s(n.isComment)&&a(n.asyncFactory))return n.isAsyncPlaceholder=!0,!0;if(a(l)&&(a(r=l.hook)&&a(r=r.init)&&r(n,!0),a(r=n.componentInstance)))return u(n,t),!0;if(a(i)){if(a(c))if(e.hasChildNodes())if(a(r=l)&&a(r=r.domProps)&&a(r=r.innerHTML)){if(r!==e.innerHTML)return!1}else{for(var d=!0,p=e.firstChild,h=0;h<c.length;h++){if(!p||!z(p,c[h],t,o)){d=!1;break}p=p.nextSibling}if(!d||p)return!1}else m(n,c,t);if(a(l)){var g=!1;for(var w in l)if(!T(w)){g=!0,f(n,t);break}!g&&l.class&&an(l.class)}}else e.data!==n.text&&(e.data=n.text);return!0}return function(e,n,t,r){if(!i(n)){var l,d=!1,u=[];if(i(e))d=!0,p(n,u);else{var h=a(e.nodeType);if(!h&&oo(e,n))I(e,n,u,null,null,r);else{if(h){if(1===e.nodeType&&e.hasAttribute("data-server-rendered")&&(e.removeAttribute("data-server-rendered"),t=!0),s(t)&&z(e,n,u))return S(n,u,!0),e;l=e,e=new ge(c.tagName(l).toLowerCase(),{},[],void 0,l)}var m=e.elm,f=c.parentNode(m);if(p(n,u,m._leaveCb?null:f,c.nextSibling(m)),a(n.parent))for(var w=n.parent,b=g(n);w;){for(var v=0;v<o.destroy.length;++v)o.destroy[v](w);if(w.elm=n.elm,b){for(var k=0;k<o.create.length;++k)o.create[k](no,w);var E=w.data.hook.insert;if(E.merged)for(var T=1;T<E.fns.length;T++)E.fns[T]()}else eo(w);w=w.parent}a(f)?x([e],0,0):a(e.tag)&&y(e)}}return S(n,u,d),n.elm}a(e)&&y(e)}}({nodeOps:Yt,modules:[fo,vo,To,jo,Mo,V?{create:dr,activate:dr,remove:function(e,n){!0!==e.data.show?sr(e,n):n()}}:{}].concat(uo)});X&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&vr(e,"input")}));var ur={inserted:function(e,n,t,o){"select"===t.tag?(o.elm&&!o.elm._vOptions?dn(t,"postpatch",(function(){ur.componentUpdated(e,n,t)})):hr(e,n,t.context),e._vOptions=[].map.call(e.options,fr)):("textarea"===t.tag||Xt(e.type))&&(e._vModifiers=n.modifiers,n.modifiers.lazy||(e.addEventListener("compositionstart",wr),e.addEventListener("compositionend",br),e.addEventListener("change",br),X&&(e.vmodel=!0)))},componentUpdated:function(e,n,t){if("select"===t.tag){hr(e,n,t.context);var o=e._vOptions,r=e._vOptions=[].map.call(e.options,fr);if(r.some((function(e,n){return!q(e,o[n])})))(e.multiple?n.value.some((function(e){return gr(e,r)})):n.value!==n.oldValue&&gr(n.value,r))&&vr(e,"change")}}};function hr(e,n,t){mr(e,n,t),(K||Y)&&setTimeout((function(){mr(e,n,t)}),0)}function mr(e,n,t){var o=n.value,r=e.multiple;if(!r||Array.isArray(o)){for(var i,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],r)i=D(o,fr(a))>-1,a.selected!==i&&(a.selected=i);else if(q(fr(a),o))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function gr(e,n){return n.every((function(n){return!q(n,e)}))}function fr(e){return"_value"in e?e._value:e.value}function wr(e){e.target.composing=!0}function br(e){e.target.composing&&(e.target.composing=!1,vr(e.target,"input"))}function vr(e,n){var t=document.createEvent("HTMLEvents");t.initEvent(n,!0,!0),e.dispatchEvent(t)}function yr(e){return!e.componentInstance||e.data&&e.data.transition?e:yr(e.componentInstance._vnode)}var xr={model:ur,show:{bind:function(e,n,t){var o=n.value,r=(t=yr(t)).data&&t.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;o&&r?(t.data.show=!0,ar(t,(function(){e.style.display=i}))):e.style.display=o?i:"none"},update:function(e,n,t){var o=n.value;!o!=!n.oldValue&&((t=yr(t)).data&&t.data.transition?(t.data.show=!0,o?ar(t,(function(){e.style.display=e.__vOriginalDisplay})):sr(t,(function(){e.style.display="none"}))):e.style.display=o?e.__vOriginalDisplay:"none")},unbind:function(e,n,t,o,r){r||(e.style.display=e.__vOriginalDisplay)}}},kr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Er(e){var n=e&&e.componentOptions;return n&&n.Ctor.options.abstract?Er(Gn(n.children)):e}function Ir(e){var n={},t=e.$options;for(var o in t.propsData)n[o]=e[o];var r=t._parentListeners;for(var i in r)n[I(i)]=r[i];return n}function Sr(e,n){if(/\d-keep-alive$/.test(n.tag))return e("keep-alive",{props:n.componentOptions.propsData})}var Tr=function(e){return e.tag||wn(e)},zr=function(e){return"show"===e.name},Ar={name:"transition",props:kr,abstract:!0,render:function(e){var n=this,t=this.$slots.default;if(t&&(t=t.filter(Tr)).length){0;var o=this.mode;0;var r=t[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var i=Er(r);if(!i)return r;if(this._leaving)return Sr(e,r);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:l(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var s=(i.data||(i.data={})).transition=Ir(this),c=this._vnode,d=Er(c);if(i.data.directives&&i.data.directives.some(zr)&&(i.data.show=!0),d&&d.data&&!function(e,n){return n.key===e.key&&n.tag===e.tag}(i,d)&&!wn(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var p=d.data.transition=P({},s);if("out-in"===o)return this._leaving=!0,dn(p,"afterLeave",(function(){n._leaving=!1,n.$forceUpdate()})),Sr(e,r);if("in-out"===o){if(wn(i))return c;var u,h=function(){u()};dn(s,"afterEnter",h),dn(s,"enterCancelled",h),dn(p,"delayLeave",(function(e){u=e}))}}return r}}},jr=P({tag:String,moveClass:String},kr);function Pr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Cr(e){e.data.newPos=e.elm.getBoundingClientRect()}function _r(e){var n=e.data.pos,t=e.data.newPos,o=n.left-t.left,r=n.top-t.top;if(o||r){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+o+"px,"+r+"px)",i.transitionDuration="0s"}}delete jr.mode;var Br={Transition:Ar,TransitionGroup:{props:jr,beforeMount:function(){var e=this,n=this._update;this._update=function(t,o){var r=Qn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),n.call(e,t,o)}},render:function(e){for(var n=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),o=this.prevChildren=this.children,r=this.$slots.default||[],i=this.children=[],a=Ir(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))i.push(l),t[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(o){for(var c=[],d=[],p=0;p<o.length;p++){var u=o[p];u.data.transition=a,u.data.pos=u.elm.getBoundingClientRect(),t[u.key]?c.push(u):d.push(u)}this.kept=e(n,null,c),this.removed=d}return e(n,null,i)},updated:function(){var e=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,n)&&(e.forEach(Pr),e.forEach(Cr),e.forEach(_r),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var t=e.elm,o=t.style;Qo(t,n),o.transform=o.WebkitTransform=o.transitionDuration="",t.addEventListener(Zo,t._moveCb=function e(o){o&&o.target!==t||o&&!/transform$/.test(o.propertyName)||(t.removeEventListener(Zo,e),t._moveCb=null,er(t,n))})}})))},methods:{hasMove:function(e,n){if(!Vo)return!1;if(this._hasMove)return this._hasMove;var t=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Uo(t,e)})),Fo(t,n),t.style.display="none",this.$el.appendChild(t);var o=or(t);return this.$el.removeChild(t),this._hasMove=o.hasTransform}}}};St.config.mustUseProp=function(e,n,t){return"value"===t&&Ot(e)&&"button"!==n||"selected"===t&&"option"===e||"checked"===t&&"input"===e||"muted"===t&&"video"===e},St.config.isReservedTag=Jt,St.config.isReservedAttr=Bt,St.config.getTagNamespace=function(e){return Zt(e)?"svg":"math"===e?"math":void 0},St.config.isUnknownElement=function(e){if(!V)return!0;if(Jt(e))return!1;if(e=e.toLowerCase(),null!=Kt[e])return Kt[e];var n=document.createElement(e);return e.indexOf("-")>-1?Kt[e]=n.constructor===window.HTMLUnknownElement||n.constructor===window.HTMLElement:Kt[e]=/HTMLUnknownElement/.test(n.toString())},P(St.options.directives,xr),P(St.options.components,Br),St.prototype.__patch__=V?pr:_,St.prototype.$mount=function(e,n){return function(e,n,t){var o;return e.$el=n,e.$options.render||(e.$options.render=we),tt(e,"beforeMount"),o=function(){e._update(e._render(),t)},new mt(e,o,_,{before:function(){e._isMounted&&!e._isDestroyed&&tt(e,"beforeUpdate")}},!0),t=!1,null==e.$vnode&&(e._isMounted=!0,tt(e,"mounted")),e}(this,e=e&&V?function(e){if("string"==typeof e){var n=document.querySelector(e);return n||document.createElement("div")}return e}(e):void 0,n)},V&&setTimeout((function(){M.devtools&&ie&&ie.emit("init",St)}),0);var Or=St;
/*!
  * vue-router v3.5.3
  * (c) 2021 Evan You
  * @license MIT
  */function qr(e,n){for(var t in n)e[t]=n[t];return e}var Dr=/[!'()*]/g,Wr=function(e){return"%"+e.charCodeAt(0).toString(16)},Rr=/%2C/g,Lr=function(e){return encodeURIComponent(e).replace(Dr,Wr).replace(Rr,",")};function Mr(e){try{return decodeURIComponent(e)}catch(e){0}return e}var Nr=function(e){return null==e||"object"==typeof e?e:String(e)};function Fr(e){var n={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),o=Mr(t.shift()),r=t.length>0?Mr(t.join("=")):null;void 0===n[o]?n[o]=r:Array.isArray(n[o])?n[o].push(r):n[o]=[n[o],r]})),n):n}function Ur(e){var n=e?Object.keys(e).map((function(n){var t=e[n];if(void 0===t)return"";if(null===t)return Lr(n);if(Array.isArray(t)){var o=[];return t.forEach((function(e){void 0!==e&&(null===e?o.push(Lr(n)):o.push(Lr(n)+"="+Lr(e)))})),o.join("&")}return Lr(n)+"="+Lr(t)})).filter((function(e){return e.length>0})).join("&"):null;return n?"?"+n:""}var Hr=/\/?$/;function $r(e,n,t,o){var r=o&&o.options.stringifyQuery,i=n.query||{};try{i=Vr(i)}catch(e){}var a={name:n.name||e&&e.name,meta:e&&e.meta||{},path:n.path||"/",hash:n.hash||"",query:i,params:n.params||{},fullPath:Jr(n,r),matched:e?Zr(e):[]};return t&&(a.redirectedFrom=Jr(t,r)),Object.freeze(a)}function Vr(e){if(Array.isArray(e))return e.map(Vr);if(e&&"object"==typeof e){var n={};for(var t in e)n[t]=Vr(e[t]);return n}return e}var Gr=$r(null,{path:"/"});function Zr(e){for(var n=[];e;)n.unshift(e),e=e.parent;return n}function Jr(e,n){var t=e.path,o=e.query;void 0===o&&(o={});var r=e.hash;return void 0===r&&(r=""),(t||"/")+(n||Ur)(o)+r}function Kr(e,n,t){return n===Gr?e===n:!!n&&(e.path&&n.path?e.path.replace(Hr,"")===n.path.replace(Hr,"")&&(t||e.hash===n.hash&&Xr(e.query,n.query)):!(!e.name||!n.name)&&(e.name===n.name&&(t||e.hash===n.hash&&Xr(e.query,n.query)&&Xr(e.params,n.params))))}function Xr(e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),!e||!n)return e===n;var t=Object.keys(e).sort(),o=Object.keys(n).sort();return t.length===o.length&&t.every((function(t,r){var i=e[t];if(o[r]!==t)return!1;var a=n[t];return null==i||null==a?i===a:"object"==typeof i&&"object"==typeof a?Xr(i,a):String(i)===String(a)}))}function Yr(e){for(var n=0;n<e.matched.length;n++){var t=e.matched[n];for(var o in t.instances){var r=t.instances[o],i=t.enteredCbs[o];if(r&&i){delete t.enteredCbs[o];for(var a=0;a<i.length;a++)r._isBeingDestroyed||i[a](r)}}}}var Qr={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,n){var t=n.props,o=n.children,r=n.parent,i=n.data;i.routerView=!0;for(var a=r.$createElement,s=t.name,l=r.$route,c=r._routerViewCache||(r._routerViewCache={}),d=0,p=!1;r&&r._routerRoot!==r;){var u=r.$vnode?r.$vnode.data:{};u.routerView&&d++,u.keepAlive&&r._directInactive&&r._inactive&&(p=!0),r=r.$parent}if(i.routerViewDepth=d,p){var h=c[s],m=h&&h.component;return m?(h.configProps&&ei(m,i,h.route,h.configProps),a(m,i,o)):a()}var g=l.matched[d],f=g&&g.components[s];if(!g||!f)return c[s]=null,a();c[s]={component:f},i.registerRouteInstance=function(e,n){var t=g.instances[s];(n&&t!==e||!n&&t===e)&&(g.instances[s]=n)},(i.hook||(i.hook={})).prepatch=function(e,n){g.instances[s]=n.componentInstance},i.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==g.instances[s]&&(g.instances[s]=e.componentInstance),Yr(l)};var w=g.props&&g.props[s];return w&&(qr(c[s],{route:l,configProps:w}),ei(f,i,l,w)),a(f,i,o)}};function ei(e,n,t,o){var r=n.props=function(e,n){switch(typeof n){case"undefined":return;case"object":return n;case"function":return n(e);case"boolean":return n?e.params:void 0;default:0}}(t,o);if(r){r=n.props=qr({},r);var i=n.attrs=n.attrs||{};for(var a in r)e.props&&a in e.props||(i[a]=r[a],delete r[a])}}function ni(e,n,t){var o=e.charAt(0);if("/"===o)return e;if("?"===o||"#"===o)return n+e;var r=n.split("/");t&&r[r.length-1]||r.pop();for(var i=e.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function ti(e){return e.replace(/\/+/g,"/")}var oi=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},ri=bi,ii=di,ai=function(e,n){return ui(di(e,n),n)},si=ui,li=wi,ci=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function di(e,n){for(var t,o=[],r=0,i=0,a="",s=n&&n.delimiter||"/";null!=(t=ci.exec(e));){var l=t[0],c=t[1],d=t.index;if(a+=e.slice(i,d),i=d+l.length,c)a+=c[1];else{var p=e[i],u=t[2],h=t[3],m=t[4],g=t[5],f=t[6],w=t[7];a&&(o.push(a),a="");var b=null!=u&&null!=p&&p!==u,v="+"===f||"*"===f,y="?"===f||"*"===f,x=t[2]||s,k=m||g;o.push({name:h||r++,prefix:u||"",delimiter:x,optional:y,repeat:v,partial:b,asterisk:!!w,pattern:k?mi(k):w?".*":"[^"+hi(x)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&o.push(a),o}function pi(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function ui(e,n){for(var t=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(t[o]=new RegExp("^(?:"+e[o].pattern+")$",fi(n)));return function(n,o){for(var r="",i=n||{},a=(o||{}).pretty?pi:encodeURIComponent,s=0;s<e.length;s++){var l=e[s];if("string"!=typeof l){var c,d=i[l.name];if(null==d){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(oi(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(c=a(d[p]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===p?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(d),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');r+=l.prefix+c}}else r+=l}return r}}function hi(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function mi(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function gi(e,n){return e.keys=n,e}function fi(e){return e&&e.sensitive?"":"i"}function wi(e,n,t){oi(n)||(t=n||t,n=[]);for(var o=(t=t||{}).strict,r=!1!==t.end,i="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)i+=hi(s);else{var l=hi(s.prefix),c="(?:"+s.pattern+")";n.push(s),s.repeat&&(c+="(?:"+l+c+")*"),i+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var d=hi(t.delimiter||"/"),p=i.slice(-d.length)===d;return o||(i=(p?i.slice(0,-d.length):i)+"(?:"+d+"(?=$))?"),i+=r?"$":o&&p?"":"(?="+d+"|$)",gi(new RegExp("^"+i,fi(t)),n)}function bi(e,n,t){return oi(n)||(t=n||t,n=[]),t=t||{},e instanceof RegExp?function(e,n){var t=e.source.match(/\((?!\?)/g);if(t)for(var o=0;o<t.length;o++)n.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return gi(e,n)}(e,n):oi(e)?function(e,n,t){for(var o=[],r=0;r<e.length;r++)o.push(bi(e[r],n,t).source);return gi(new RegExp("(?:"+o.join("|")+")",fi(t)),n)}(e,n,t):function(e,n,t){return wi(di(e,t),n,t)}(e,n,t)}ri.parse=ii,ri.compile=ai,ri.tokensToFunction=si,ri.tokensToRegExp=li;var vi=Object.create(null);function yi(e,n,t){n=n||{};try{var o=vi[e]||(vi[e]=ri.compile(e));return"string"==typeof n.pathMatch&&(n[0]=n.pathMatch),o(n,{pretty:!0})}catch(e){return""}finally{delete n[0]}}function xi(e,n,t,o){var r="string"==typeof e?{path:e}:e;if(r._normalized)return r;if(r.name){var i=(r=qr({},e)).params;return i&&"object"==typeof i&&(r.params=qr({},i)),r}if(!r.path&&r.params&&n){(r=qr({},r))._normalized=!0;var a=qr(qr({},n.params),r.params);if(n.name)r.name=n.name,r.params=a;else if(n.matched.length){var s=n.matched[n.matched.length-1].path;r.path=yi(s,a,n.path)}else 0;return r}var l=function(e){var n="",t="",o=e.indexOf("#");o>=0&&(n=e.slice(o),e=e.slice(0,o));var r=e.indexOf("?");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{path:e,query:t,hash:n}}(r.path||""),c=n&&n.path||"/",d=l.path?ni(l.path,c,t||r.append):c,p=function(e,n,t){void 0===n&&(n={});var o,r=t||Fr;try{o=r(e||"")}catch(e){o={}}for(var i in n){var a=n[i];o[i]=Array.isArray(a)?a.map(Nr):Nr(a)}return o}(l.query,r.query,o&&o.options.parseQuery),u=r.hash||l.hash;return u&&"#"!==u.charAt(0)&&(u="#"+u),{_normalized:!0,path:d,query:p,hash:u}}var ki,Ei=function(){},Ii={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(e){var n=this,t=this.$router,o=this.$route,r=t.resolve(this.to,o,this.append),i=r.location,a=r.route,s=r.href,l={},c=t.options.linkActiveClass,d=t.options.linkExactActiveClass,p=null==c?"router-link-active":c,u=null==d?"router-link-exact-active":d,h=null==this.activeClass?p:this.activeClass,m=null==this.exactActiveClass?u:this.exactActiveClass,g=a.redirectedFrom?$r(null,xi(a.redirectedFrom),null,t):a;l[m]=Kr(o,g,this.exactPath),l[h]=this.exact||this.exactPath?l[m]:function(e,n){return 0===e.path.replace(Hr,"/").indexOf(n.path.replace(Hr,"/"))&&(!n.hash||e.hash===n.hash)&&function(e,n){for(var t in n)if(!(t in e))return!1;return!0}(e.query,n.query)}(o,g);var f=l[m]?this.ariaCurrentValue:null,w=function(e){Si(e)&&(n.replace?t.replace(i,Ei):t.push(i,Ei))},b={click:Si};Array.isArray(this.event)?this.event.forEach((function(e){b[e]=w})):b[this.event]=w;var v={class:l},y=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:a,navigate:w,isActive:l[h],isExactActive:l[m]});if(y){if(1===y.length)return y[0];if(y.length>1||!y.length)return 0===y.length?e():e("span",{},y)}if("a"===this.tag)v.on=b,v.attrs={href:s,"aria-current":f};else{var x=function e(n){var t;if(n)for(var o=0;o<n.length;o++){if("a"===(t=n[o]).tag)return t;if(t.children&&(t=e(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var k=x.data=qr({},x.data);for(var E in k.on=k.on||{},k.on){var I=k.on[E];E in b&&(k.on[E]=Array.isArray(I)?I:[I])}for(var S in b)S in k.on?k.on[S].push(b[S]):k.on[S]=w;var T=x.data.attrs=qr({},x.data.attrs);T.href=s,T["aria-current"]=f}else v.on=b}return e(this.tag,v,this.$slots.default)}};function Si(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}var Ti="undefined"!=typeof window;function zi(e,n,t,o,r){var i=n||[],a=t||Object.create(null),s=o||Object.create(null);e.forEach((function(e){!function e(n,t,o,r,i,a){var s=r.path,l=r.name;0;var c=r.pathToRegexpOptions||{},d=function(e,n,t){t||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==n)return e;return ti(n.path+"/"+e)}(s,i,c.strict);"boolean"==typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var p={path:d,regex:Ai(d,c),components:r.components||{default:r.component},alias:r.alias?"string"==typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:l,parent:i,matchAs:a,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach((function(r){var i=a?ti(a+"/"+r.path):void 0;e(n,t,o,r,p,i)}));t[p.path]||(n.push(p.path),t[p.path]=p);if(void 0!==r.alias)for(var u=Array.isArray(r.alias)?r.alias:[r.alias],h=0;h<u.length;++h){0;var m={path:u[h],children:r.children};e(n,t,o,m,i,p.path||"/")}l&&(o[l]||(o[l]=p))}(i,a,s,e,r)}));for(var l=0,c=i.length;l<c;l++)"*"===i[l]&&(i.push(i.splice(l,1)[0]),c--,l--);return{pathList:i,pathMap:a,nameMap:s}}function Ai(e,n){return ri(e,[],n)}function ji(e,n){var t=zi(e),o=t.pathList,r=t.pathMap,i=t.nameMap;function a(e,t,a){var s=xi(e,t,!1,n),c=s.name;if(c){var d=i[c];if(!d)return l(null,s);var p=d.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var u in t.params)!(u in s.params)&&p.indexOf(u)>-1&&(s.params[u]=t.params[u]);return s.path=yi(d.path,s.params),l(d,s,a)}if(s.path){s.params={};for(var h=0;h<o.length;h++){var m=o[h],g=r[m];if(Pi(g.regex,s.path,s.params))return l(g,s,a)}}return l(null,s)}function s(e,t){var o=e.redirect,r="function"==typeof o?o($r(e,t,null,n)):o;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return l(null,t);var s=r,c=s.name,d=s.path,p=t.query,u=t.hash,h=t.params;if(p=s.hasOwnProperty("query")?s.query:p,u=s.hasOwnProperty("hash")?s.hash:u,h=s.hasOwnProperty("params")?s.params:h,c){i[c];return a({_normalized:!0,name:c,query:p,hash:u,params:h},void 0,t)}if(d){var m=function(e,n){return ni(e,n.parent?n.parent.path:"/",!0)}(d,e);return a({_normalized:!0,path:yi(m,h),query:p,hash:u},void 0,t)}return l(null,t)}function l(e,t,o){return e&&e.redirect?s(e,o||t):e&&e.matchAs?function(e,n,t){var o=a({_normalized:!0,path:yi(t,n.params)});if(o){var r=o.matched,i=r[r.length-1];return n.params=o.params,l(i,n)}return l(null,n)}(0,t,e.matchAs):$r(e,t,o,n)}return{match:a,addRoute:function(e,n){var t="object"!=typeof e?i[e]:void 0;zi([n||e],o,r,i,t),t&&t.alias.length&&zi(t.alias.map((function(e){return{path:e,children:[n]}})),o,r,i,t)},getRoutes:function(){return o.map((function(e){return r[e]}))},addRoutes:function(e){zi(e,o,r,i)}}}function Pi(e,n,t){var o=n.match(e);if(!o)return!1;if(!t)return!0;for(var r=1,i=o.length;r<i;++r){var a=e.keys[r-1];a&&(t[a.name||"pathMatch"]="string"==typeof o[r]?Mr(o[r]):o[r])}return!0}var Ci=Ti&&window.performance&&window.performance.now?window.performance:Date;function _i(){return Ci.now().toFixed(3)}var Bi=_i();function Oi(){return Bi}function qi(e){return Bi=e}var Di=Object.create(null);function Wi(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,n=window.location.href.replace(e,""),t=qr({},window.history.state);return t.key=Oi(),window.history.replaceState(t,"",n),window.addEventListener("popstate",Mi),function(){window.removeEventListener("popstate",Mi)}}function Ri(e,n,t,o){if(e.app){var r=e.options.scrollBehavior;r&&e.app.$nextTick((function(){var i=function(){var e=Oi();if(e)return Di[e]}(),a=r.call(e,n,t,o?i:null);a&&("function"==typeof a.then?a.then((function(e){$i(e,i)})).catch((function(e){0})):$i(a,i))}))}}function Li(){var e=Oi();e&&(Di[e]={x:window.pageXOffset,y:window.pageYOffset})}function Mi(e){Li(),e.state&&e.state.key&&qi(e.state.key)}function Ni(e){return Ui(e.x)||Ui(e.y)}function Fi(e){return{x:Ui(e.x)?e.x:window.pageXOffset,y:Ui(e.y)?e.y:window.pageYOffset}}function Ui(e){return"number"==typeof e}var Hi=/^#\d/;function $i(e,n){var t,o="object"==typeof e;if(o&&"string"==typeof e.selector){var r=Hi.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var i=e.offset&&"object"==typeof e.offset?e.offset:{};n=function(e,n){var t=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{x:o.left-t.left-n.x,y:o.top-t.top-n.y}}(r,i={x:Ui((t=i).x)?t.x:0,y:Ui(t.y)?t.y:0})}else Ni(e)&&(n=Fi(e))}else o&&Ni(e)&&(n=Fi(e));n&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:n.x,top:n.y,behavior:e.behavior}):window.scrollTo(n.x,n.y))}var Vi,Gi=Ti&&((-1===(Vi=window.navigator.userAgent).indexOf("Android 2.")&&-1===Vi.indexOf("Android 4.0")||-1===Vi.indexOf("Mobile Safari")||-1!==Vi.indexOf("Chrome")||-1!==Vi.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function Zi(e,n){Li();var t=window.history;try{if(n){var o=qr({},t.state);o.key=Oi(),t.replaceState(o,"",e)}else t.pushState({key:qi(_i())},"",e)}catch(t){window.location[n?"replace":"assign"](e)}}function Ji(e){Zi(e,!0)}function Ki(e,n,t){var o=function(r){r>=e.length?t():e[r]?n(e[r],(function(){o(r+1)})):o(r+1)};o(0)}var Xi={redirected:2,aborted:4,cancelled:8,duplicated:16};function Yi(e,n){return ea(e,n,Xi.redirected,'Redirected when going from "'+e.fullPath+'" to "'+function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var n={};return na.forEach((function(t){t in e&&(n[t]=e[t])})),JSON.stringify(n,null,2)}(n)+'" via a navigation guard.')}function Qi(e,n){return ea(e,n,Xi.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+n.fullPath+'" with a new navigation.')}function ea(e,n,t,o){var r=new Error(o);return r._isRouter=!0,r.from=e,r.to=n,r.type=t,r}var na=["params","query","hash"];function ta(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function oa(e,n){return ta(e)&&e._isRouter&&(null==n||e.type===n)}function ra(e){return function(n,t,o){var r=!1,i=0,a=null;ia(e,(function(e,n,t,s){if("function"==typeof e&&void 0===e.cid){r=!0,i++;var l,c=la((function(n){var r;((r=n).__esModule||sa&&"Module"===r[Symbol.toStringTag])&&(n=n.default),e.resolved="function"==typeof n?n:ki.extend(n),t.components[s]=n,--i<=0&&o()})),d=la((function(e){var n="Failed to resolve async component "+s+": "+e;a||(a=ta(e)?e:new Error(n),o(a))}));try{l=e(c,d)}catch(e){d(e)}if(l)if("function"==typeof l.then)l.then(c,d);else{var p=l.component;p&&"function"==typeof p.then&&p.then(c,d)}}})),r||o()}}function ia(e,n){return aa(e.map((function(e){return Object.keys(e.components).map((function(t){return n(e.components[t],e.instances[t],e,t)}))})))}function aa(e){return Array.prototype.concat.apply([],e)}var sa="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function la(e){var n=!1;return function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];if(!n)return n=!0,e.apply(this,t)}}var ca=function(e,n){this.router=e,this.base=function(e){if(!e)if(Ti){var n=document.querySelector("base");e=(e=n&&n.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(n),this.current=Gr,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function da(e,n,t,o){var r=ia(e,(function(e,o,r,i){var a=function(e,n){"function"!=typeof e&&(e=ki.extend(e));return e.options[n]}(e,n);if(a)return Array.isArray(a)?a.map((function(e){return t(e,o,r,i)})):t(a,o,r,i)}));return aa(o?r.reverse():r)}function pa(e,n){if(n)return function(){return e.apply(n,arguments)}}ca.prototype.listen=function(e){this.cb=e},ca.prototype.onReady=function(e,n){this.ready?e():(this.readyCbs.push(e),n&&this.readyErrorCbs.push(n))},ca.prototype.onError=function(e){this.errorCbs.push(e)},ca.prototype.transitionTo=function(e,n,t){var o,r=this;try{o=this.router.match(e,this.current)}catch(e){throw this.errorCbs.forEach((function(n){n(e)})),e}var i=this.current;this.confirmTransition(o,(function(){r.updateRoute(o),n&&n(o),r.ensureURL(),r.router.afterHooks.forEach((function(e){e&&e(o,i)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(e){e(o)})))}),(function(e){t&&t(e),e&&!r.ready&&(oa(e,Xi.redirected)&&i===Gr||(r.ready=!0,r.readyErrorCbs.forEach((function(n){n(e)}))))}))},ca.prototype.confirmTransition=function(e,n,t){var o=this,r=this.current;this.pending=e;var i,a,s=function(e){!oa(e)&&ta(e)&&(o.errorCbs.length?o.errorCbs.forEach((function(n){n(e)})):console.error(e)),t&&t(e)},l=e.matched.length-1,c=r.matched.length-1;if(Kr(e,r)&&l===c&&e.matched[l]===r.matched[c])return this.ensureURL(),e.hash&&Ri(this.router,r,e,!1),s(((a=ea(i=r,e,Xi.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",a));var d=function(e,n){var t,o=Math.max(e.length,n.length);for(t=0;t<o&&e[t]===n[t];t++);return{updated:n.slice(0,t),activated:n.slice(t),deactivated:e.slice(t)}}(this.current.matched,e.matched),p=d.updated,u=d.deactivated,h=d.activated,m=[].concat(function(e){return da(e,"beforeRouteLeave",pa,!0)}(u),this.router.beforeHooks,function(e){return da(e,"beforeRouteUpdate",pa)}(p),h.map((function(e){return e.beforeEnter})),ra(h)),g=function(n,t){if(o.pending!==e)return s(Qi(r,e));try{n(e,r,(function(n){!1===n?(o.ensureURL(!0),s(function(e,n){return ea(e,n,Xi.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+n.fullPath+'" via a navigation guard.')}(r,e))):ta(n)?(o.ensureURL(!0),s(n)):"string"==typeof n||"object"==typeof n&&("string"==typeof n.path||"string"==typeof n.name)?(s(Yi(r,e)),"object"==typeof n&&n.replace?o.replace(n):o.push(n)):t(n)}))}catch(e){s(e)}};Ki(m,g,(function(){Ki(function(e){return da(e,"beforeRouteEnter",(function(e,n,t,o){return function(e,n,t){return function(o,r,i){return e(o,r,(function(e){"function"==typeof e&&(n.enteredCbs[t]||(n.enteredCbs[t]=[]),n.enteredCbs[t].push(e)),i(e)}))}}(e,t,o)}))}(h).concat(o.router.resolveHooks),g,(function(){if(o.pending!==e)return s(Qi(r,e));o.pending=null,n(e),o.router.app&&o.router.app.$nextTick((function(){Yr(e)}))}))}))},ca.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},ca.prototype.setupListeners=function(){},ca.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=Gr,this.pending=null};var ua=function(e){function n(n,t){e.call(this,n,t),this._startLocation=ha(this.base)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var n=this.router,t=n.options.scrollBehavior,o=Gi&&t;o&&this.listeners.push(Wi());var r=function(){var t=e.current,r=ha(e.base);e.current===Gr&&r===e._startLocation||e.transitionTo(r,(function(e){o&&Ri(n,e,t,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},n.prototype.go=function(e){window.history.go(e)},n.prototype.push=function(e,n,t){var o=this,r=this.current;this.transitionTo(e,(function(e){Zi(ti(o.base+e.fullPath)),Ri(o.router,e,r,!1),n&&n(e)}),t)},n.prototype.replace=function(e,n,t){var o=this,r=this.current;this.transitionTo(e,(function(e){Ji(ti(o.base+e.fullPath)),Ri(o.router,e,r,!1),n&&n(e)}),t)},n.prototype.ensureURL=function(e){if(ha(this.base)!==this.current.fullPath){var n=ti(this.base+this.current.fullPath);e?Zi(n):Ji(n)}},n.prototype.getCurrentLocation=function(){return ha(this.base)},n}(ca);function ha(e){var n=window.location.pathname,t=n.toLowerCase(),o=e.toLowerCase();return!e||t!==o&&0!==t.indexOf(ti(o+"/"))||(n=n.slice(e.length)),(n||"/")+window.location.search+window.location.hash}var ma=function(e){function n(n,t,o){e.call(this,n,t),o&&function(e){var n=ha(e);if(!/^\/#/.test(n))return window.location.replace(ti(e+"/#"+n)),!0}(this.base)||ga()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var n=this.router.options.scrollBehavior,t=Gi&&n;t&&this.listeners.push(Wi());var o=function(){var n=e.current;ga()&&e.transitionTo(fa(),(function(o){t&&Ri(e.router,o,n,!0),Gi||va(o.fullPath)}))},r=Gi?"popstate":"hashchange";window.addEventListener(r,o),this.listeners.push((function(){window.removeEventListener(r,o)}))}},n.prototype.push=function(e,n,t){var o=this,r=this.current;this.transitionTo(e,(function(e){ba(e.fullPath),Ri(o.router,e,r,!1),n&&n(e)}),t)},n.prototype.replace=function(e,n,t){var o=this,r=this.current;this.transitionTo(e,(function(e){va(e.fullPath),Ri(o.router,e,r,!1),n&&n(e)}),t)},n.prototype.go=function(e){window.history.go(e)},n.prototype.ensureURL=function(e){var n=this.current.fullPath;fa()!==n&&(e?ba(n):va(n))},n.prototype.getCurrentLocation=function(){return fa()},n}(ca);function ga(){var e=fa();return"/"===e.charAt(0)||(va("/"+e),!1)}function fa(){var e=window.location.href,n=e.indexOf("#");return n<0?"":e=e.slice(n+1)}function wa(e){var n=window.location.href,t=n.indexOf("#");return(t>=0?n.slice(0,t):n)+"#"+e}function ba(e){Gi?Zi(wa(e)):window.location.hash=e}function va(e){Gi?Ji(wa(e)):window.location.replace(wa(e))}var ya=function(e){function n(n,t){e.call(this,n,t),this.stack=[],this.index=-1}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.push=function(e,n,t){var o=this;this.transitionTo(e,(function(e){o.stack=o.stack.slice(0,o.index+1).concat(e),o.index++,n&&n(e)}),t)},n.prototype.replace=function(e,n,t){var o=this;this.transitionTo(e,(function(e){o.stack=o.stack.slice(0,o.index).concat(e),n&&n(e)}),t)},n.prototype.go=function(e){var n=this,t=this.index+e;if(!(t<0||t>=this.stack.length)){var o=this.stack[t];this.confirmTransition(o,(function(){var e=n.current;n.index=t,n.updateRoute(o),n.router.afterHooks.forEach((function(n){n&&n(o,e)}))}),(function(e){oa(e,Xi.duplicated)&&(n.index=t)}))}},n.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},n.prototype.ensureURL=function(){},n}(ca),xa=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=ji(e.routes||[],this);var n=e.mode||"hash";switch(this.fallback="history"===n&&!Gi&&!1!==e.fallback,this.fallback&&(n="hash"),Ti||(n="abstract"),this.mode=n,n){case"history":this.history=new ua(this,e.base);break;case"hash":this.history=new ma(this,e.base,this.fallback);break;case"abstract":this.history=new ya(this,e.base);break;default:0}},ka={currentRoute:{configurable:!0}};function Ea(e,n){return e.push(n),function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)}}xa.prototype.match=function(e,n,t){return this.matcher.match(e,n,t)},ka.currentRoute.get=function(){return this.history&&this.history.current},xa.prototype.init=function(e){var n=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var t=n.apps.indexOf(e);t>-1&&n.apps.splice(t,1),n.app===e&&(n.app=n.apps[0]||null),n.app||n.history.teardown()})),!this.app){this.app=e;var t=this.history;if(t instanceof ua||t instanceof ma){var o=function(e){t.setupListeners(),function(e){var o=t.current,r=n.options.scrollBehavior;Gi&&r&&"fullPath"in e&&Ri(n,e,o,!1)}(e)};t.transitionTo(t.getCurrentLocation(),o,o)}t.listen((function(e){n.apps.forEach((function(n){n._route=e}))}))}},xa.prototype.beforeEach=function(e){return Ea(this.beforeHooks,e)},xa.prototype.beforeResolve=function(e){return Ea(this.resolveHooks,e)},xa.prototype.afterEach=function(e){return Ea(this.afterHooks,e)},xa.prototype.onReady=function(e,n){this.history.onReady(e,n)},xa.prototype.onError=function(e){this.history.onError(e)},xa.prototype.push=function(e,n,t){var o=this;if(!n&&!t&&"undefined"!=typeof Promise)return new Promise((function(n,t){o.history.push(e,n,t)}));this.history.push(e,n,t)},xa.prototype.replace=function(e,n,t){var o=this;if(!n&&!t&&"undefined"!=typeof Promise)return new Promise((function(n,t){o.history.replace(e,n,t)}));this.history.replace(e,n,t)},xa.prototype.go=function(e){this.history.go(e)},xa.prototype.back=function(){this.go(-1)},xa.prototype.forward=function(){this.go(1)},xa.prototype.getMatchedComponents=function(e){var n=e?e.matched?e:this.resolve(e).route:this.currentRoute;return n?[].concat.apply([],n.matched.map((function(e){return Object.keys(e.components).map((function(n){return e.components[n]}))}))):[]},xa.prototype.resolve=function(e,n,t){var o=xi(e,n=n||this.history.current,t,this),r=this.match(o,n),i=r.redirectedFrom||r.fullPath;return{location:o,route:r,href:function(e,n,t){var o="hash"===t?"#"+n:n;return e?ti(e+"/"+o):o}(this.history.base,i,this.mode),normalizedTo:o,resolved:r}},xa.prototype.getRoutes=function(){return this.matcher.getRoutes()},xa.prototype.addRoute=function(e,n){this.matcher.addRoute(e,n),this.history.current!==Gr&&this.history.transitionTo(this.history.getCurrentLocation())},xa.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==Gr&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(xa.prototype,ka),xa.install=function e(n){if(!e.installed||ki!==n){e.installed=!0,ki=n;var t=function(e){return void 0!==e},o=function(e,n){var o=e.$options._parentVnode;t(o)&&t(o=o.data)&&t(o=o.registerRouteInstance)&&o(e,n)};n.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),n.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,o(this,this)},destroyed:function(){o(this)}}),Object.defineProperty(n.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(n.prototype,"$route",{get:function(){return this._routerRoot._route}}),n.component("RouterView",Qr),n.component("RouterLink",Ii);var r=n.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}},xa.version="3.5.3",xa.isNavigationFailure=oa,xa.NavigationFailureType=Xi,xa.START_LOCATION=Gr,Ti&&window.Vue&&window.Vue.use(xa);var Ia=xa;t(177),t(178),t(255),t(75),t(179),t(28),t(29),t(257);function Sa(e){e.locales&&Object.keys(e.locales).forEach((function(n){e.locales[n].path=n})),Object.freeze(e)}t(70),t(92),t(126);function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var za=t(72),Aa=(t(189),t(17),t(45),t(231),t(232),t(40),t(30),{NotFound:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,482))},Layout:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,481))}}),ja={"v-79b43964":function(){return t.e(10).then(t.bind(null,483))},"v-44938013":function(){return t.e(9).then(t.bind(null,484))},"v-571ff2dc":function(){return t.e(12).then(t.bind(null,485))},"v-526aa213":function(){return t.e(8).then(t.bind(null,486))},"v-7cc7038c":function(){return t.e(11).then(t.bind(null,487))},"v-0314a71a":function(){return t.e(13).then(t.bind(null,488))},"v-1c909bf1":function(){return t.e(14).then(t.bind(null,489))},"v-165fc73e":function(){return t.e(15).then(t.bind(null,490))},"v-1c81b1d1":function(){return t.e(16).then(t.bind(null,491))},"v-74a48801":function(){return t.e(17).then(t.bind(null,492))},"v-db429bfe":function(){return t.e(18).then(t.bind(null,493))},"v-20db9ab1":function(){return t.e(20).then(t.bind(null,494))},"v-eaa45d16":function(){return t.e(19).then(t.bind(null,495))},"v-10bc4568":function(){return t.e(21).then(t.bind(null,496))},"v-70d60836":function(){return t.e(22).then(t.bind(null,497))},"v-7774bc2e":function(){return t.e(23).then(t.bind(null,498))},"v-1736c87e":function(){return t.e(24).then(t.bind(null,499))},"v-05708a17":function(){return t.e(26).then(t.bind(null,500))},"v-2a4feda9":function(){return t.e(25).then(t.bind(null,501))},"v-58450ae1":function(){return t.e(27).then(t.bind(null,502))},"v-f2bcf6be":function(){return t.e(28).then(t.bind(null,503))},"v-f7d28072":function(){return t.e(29).then(t.bind(null,504))},"v-1ca7d95b":function(){return t.e(30).then(t.bind(null,505))},"v-2c7e0d14":function(){return t.e(32).then(t.bind(null,506))},"v-550f651e":function(){return t.e(31).then(t.bind(null,507))},"v-edffc1de":function(){return t.e(33).then(t.bind(null,508))},"v-5a9106b6":function(){return t.e(35).then(t.bind(null,509))},"v-c6d0fe70":function(){return t.e(34).then(t.bind(null,510))},"v-05bb32c5":function(){return t.e(37).then(t.bind(null,511))},"v-6b1ef0e2":function(){return t.e(36).then(t.bind(null,512))},"v-761267ca":function(){return t.e(7).then(t.bind(null,513))},"v-75c3e621":function(){return t.e(38).then(t.bind(null,514))},"v-26c99fee":function(){return t.e(39).then(t.bind(null,515))},"v-1db599c1":function(){return t.e(40).then(t.bind(null,516))},"v-3c7a47a6":function(){return t.e(41).then(t.bind(null,517))},"v-341058ac":function(){return t.e(43).then(t.bind(null,518))},"v-c95bfe9e":function(){return t.e(42).then(t.bind(null,519))},"v-5248a0d6":function(){return t.e(44).then(t.bind(null,520))},"v-5e560f2e":function(){return t.e(45).then(t.bind(null,521))},"v-33c4dd84":function(){return t.e(46).then(t.bind(null,522))},"v-b8f23556":function(){return t.e(47).then(t.bind(null,523))},"v-faa1b6a4":function(){return t.e(48).then(t.bind(null,524))},"v-297782c8":function(){return t.e(49).then(t.bind(null,525))},"v-0fd01242":function(){return t.e(50).then(t.bind(null,526))},"v-396bc0a2":function(){return t.e(51).then(t.bind(null,527))},"v-0ff23836":function(){return t.e(52).then(t.bind(null,528))},"v-52a40636":function(){return t.e(53).then(t.bind(null,529))},"v-4d806d4a":function(){return t.e(5).then(t.bind(null,530))},"v-03d803ac":function(){return t.e(6).then(t.bind(null,531))},"v-68391054":function(){return t.e(54).then(t.bind(null,532))},"v-1cf534e2":function(){return t.e(56).then(t.bind(null,533))},"v-689292e4":function(){return t.e(57).then(t.bind(null,534))},"v-12ea82f6":function(){return t.e(59).then(t.bind(null,535))},"v-e82c7110":function(){return t.e(58).then(t.bind(null,536))},"v-47281556":function(){return t.e(60).then(t.bind(null,537))},"v-5bb8458e":function(){return t.e(64).then(t.bind(null,538))},"v-5b833ad6":function(){return t.e(61).then(t.bind(null,539))},"v-f47f4670":function(){return t.e(65).then(t.bind(null,540))},"v-e3e44e54":function(){return t.e(66).then(t.bind(null,541))},"v-78b7b65e":function(){return t.e(67).then(t.bind(null,542))},"v-3b987894":function(){return t.e(68).then(t.bind(null,543))},"v-741c97f6":function(){return t.e(63).then(t.bind(null,544))},"v-034e691c":function(){return t.e(69).then(t.bind(null,545))},"v-696eb7b6":function(){return t.e(70).then(t.bind(null,546))},"v-bbde2d94":function(){return t.e(71).then(t.bind(null,547))},"v-55446214":function(){return t.e(74).then(t.bind(null,548))},"v-054af894":function(){return t.e(72).then(t.bind(null,549))},"v-bf7ee5d4":function(){return t.e(73).then(t.bind(null,550))},"v-35125e6c":function(){return t.e(75).then(t.bind(null,551))},"v-63be3680":function(){return t.e(76).then(t.bind(null,552))},"v-190abcd4":function(){return t.e(77).then(t.bind(null,553))},"v-fb5f084c":function(){return t.e(78).then(t.bind(null,554))},"v-ff9a60e0":function(){return t.e(81).then(t.bind(null,555))},"v-cd05c214":function(){return t.e(62).then(t.bind(null,556))},"v-8cfc824c":function(){return t.e(80).then(t.bind(null,557))},"v-57a4b8f6":function(){return t.e(79).then(t.bind(null,558))},"v-0fa59f16":function(){return t.e(82).then(t.bind(null,559))},"v-71b9b456":function(){return t.e(83).then(t.bind(null,560))},"v-d3c8dcd4":function(){return t.e(84).then(t.bind(null,561))},"v-7fb1c6b6":function(){return t.e(87).then(t.bind(null,562))},"v-176fb276":function(){return t.e(86).then(t.bind(null,563))},"v-ef868210":function(){return t.e(85).then(t.bind(null,564))},"v-03ab227c":function(){return t.e(88).then(t.bind(null,565))},"v-7b00c136":function(){return t.e(89).then(t.bind(null,566))},"v-3ca7fbf6":function(){return t.e(90).then(t.bind(null,567))},"v-a76ba9dc":function(){return t.e(91).then(t.bind(null,568))},"v-763da300":function(){return t.e(92).then(t.bind(null,569))},"v-4cf8aa14":function(){return t.e(93).then(t.bind(null,570))},"v-27586b96":function(){return t.e(94).then(t.bind(null,571))},"v-35bb83d6":function(){return t.e(95).then(t.bind(null,572))},"v-41185d48":function(){return t.e(96).then(t.bind(null,573))},"v-11e74cf6":function(){return t.e(98).then(t.bind(null,574))},"v-e2d07bd4":function(){return t.e(97).then(t.bind(null,575))},"v-2518c296":function(){return t.e(99).then(t.bind(null,576))},"v-23f80a00":function(){return t.e(100).then(t.bind(null,577))},"v-52dd6a0e":function(){return t.e(101).then(t.bind(null,578))},"v-29266c76":function(){return t.e(102).then(t.bind(null,579))},"v-7f386e4c":function(){return t.e(103).then(t.bind(null,580))},"v-576b33b6":function(){return t.e(104).then(t.bind(null,581))},"v-84e206ae":function(){return t.e(105).then(t.bind(null,582))},"v-b5a603ee":function(){return t.e(106).then(t.bind(null,583))},"v-1a644ec7":function(){return t.e(107).then(t.bind(null,584))},"v-473f97a9":function(){return t.e(108).then(t.bind(null,585))},"v-468a159b":function(){return t.e(109).then(t.bind(null,586))},"v-9104e66e":function(){return t.e(110).then(t.bind(null,587))},"v-74f04889":function(){return t.e(111).then(t.bind(null,588))},"v-f42d0eae":function(){return t.e(112).then(t.bind(null,589))},"v-001280e9":function(){return t.e(113).then(t.bind(null,590))},"v-54288cd2":function(){return t.e(114).then(t.bind(null,591))},"v-308b466e":function(){return t.e(116).then(t.bind(null,592))},"v-bc2fc4ee":function(){return t.e(115).then(t.bind(null,593))},"v-e2da7c3a":function(){return t.e(117).then(t.bind(null,594))},"v-240d0a8a":function(){return t.e(118).then(t.bind(null,595))},"v-6d0e1e4f":function(){return t.e(119).then(t.bind(null,596))},"v-48e813ee":function(){return t.e(120).then(t.bind(null,597))},"v-8be846ae":function(){return t.e(121).then(t.bind(null,598))},"v-755ca2a1":function(){return t.e(122).then(t.bind(null,599))},"v-b29f7aae":function(){return t.e(123).then(t.bind(null,600))},"v-b3f5e5e6":function(){return t.e(124).then(t.bind(null,601))},"v-6b0d1149":function(){return t.e(126).then(t.bind(null,602))},"v-7745b1b3":function(){return t.e(125).then(t.bind(null,603))},"v-d6f6dfb2":function(){return t.e(127).then(t.bind(null,604))},"v-3305c626":function(){return t.e(128).then(t.bind(null,605))},"v-fe5f59ae":function(){return t.e(129).then(t.bind(null,606))},"v-4834c0a9":function(){return t.e(131).then(t.bind(null,607))},"v-d9a0338a":function(){return t.e(130).then(t.bind(null,608))},"v-730b5cee":function(){return t.e(132).then(t.bind(null,609))},"v-af18676e":function(){return t.e(133).then(t.bind(null,610))},"v-1c7de6ae":function(){return t.e(134).then(t.bind(null,611))},"v-03bc8b69":function(){return t.e(135).then(t.bind(null,612))},"v-c96864ae":function(){return t.e(137).then(t.bind(null,613))},"v-6bff5b09":function(){return t.e(136).then(t.bind(null,614))},"v-f06838ee":function(){return t.e(138).then(t.bind(null,615))},"v-646fabcd":function(){return t.e(139).then(t.bind(null,616))},"v-3a6c20e9":function(){return t.e(140).then(t.bind(null,617))},"v-61e0c51a":function(){return t.e(141).then(t.bind(null,618))},"v-40eb4fee":function(){return t.e(142).then(t.bind(null,619))},"v-2b0a719b":function(){return t.e(143).then(t.bind(null,620))},"v-e9393eee":function(){return t.e(144).then(t.bind(null,621))},"v-2010e6e9":function(){return t.e(145).then(t.bind(null,622))},"v-5f5dc8ee":function(){return t.e(146).then(t.bind(null,623))},"v-63c3f391":function(){return t.e(147).then(t.bind(null,624))},"v-05b8deae":function(){return t.e(148).then(t.bind(null,625))},"v-471f7129":function(){return t.e(149).then(t.bind(null,626))},"v-37535b29":function(){return t.e(150).then(t.bind(null,627))},"v-8dd2e16e":function(){return t.e(151).then(t.bind(null,628))},"v-669d1536":function(){return t.e(152).then(t.bind(null,629))},"v-77c7574e":function(){return t.e(154).then(t.bind(null,630))},"v-3ac7adf2":function(){return t.e(153).then(t.bind(null,631))},"v-120245c5":function(){return t.e(156).then(t.bind(null,632))},"v-714d5e66":function(){return t.e(155).then(t.bind(null,633))},"v-4128311f":function(){return t.e(157).then(t.bind(null,634))},"v-4a14cad1":function(){return t.e(158).then(t.bind(null,635))},"v-6f483f8a":function(){return t.e(159).then(t.bind(null,636))},"v-56be2eae":function(){return t.e(160).then(t.bind(null,637))},"v-0945d1a9":function(){return t.e(161).then(t.bind(null,638))},"v-3fd9bf2e":function(){return t.e(162).then(t.bind(null,639))},"v-053bf579":function(){return t.e(164).then(t.bind(null,640))},"v-4ff9d6ee":function(){return t.e(163).then(t.bind(null,641))},"v-3ccd199e":function(){return t.e(165).then(t.bind(null,642))},"v-d8a438b2":function(){return t.e(166).then(t.bind(null,643))},"v-6a8d8996":function(){return t.e(167).then(t.bind(null,644))},"v-083d8456":function(){return t.e(169).then(t.bind(null,645))},"v-029c4bd4":function(){return t.e(170).then(t.bind(null,646))},"v-ec1b6254":function(){return t.e(168).then(t.bind(null,647))},"v-a39d7268":function(){return t.e(171).then(t.bind(null,648))},"v-5d8a843c":function(){return t.e(172).then(t.bind(null,649))},"v-22512ffc":function(){return t.e(173).then(t.bind(null,650))},"v-e4a8fc80":function(){return t.e(174).then(t.bind(null,651))},"v-5f4de1d4":function(){return t.e(175).then(t.bind(null,652))},"v-4990f536":function(){return t.e(177).then(t.bind(null,653))},"v-60043f86":function(){return t.e(176).then(t.bind(null,654))},"v-b98b34d4":function(){return t.e(178).then(t.bind(null,655))},"v-5f08fad6":function(){return t.e(180).then(t.bind(null,656))},"v-2ef47f20":function(){return t.e(179).then(t.bind(null,657))},"v-baca0a54":function(){return t.e(182).then(t.bind(null,658))},"v-38b73014":function(){return t.e(181).then(t.bind(null,659))},"v-ae32825c":function(){return t.e(183).then(t.bind(null,660))},"v-4a5a380e":function(){return t.e(184).then(t.bind(null,661))},"v-ac273aa4":function(){return t.e(185).then(t.bind(null,662))},"v-b71bf4a8":function(){return t.e(186).then(t.bind(null,663))},"v-f36a4056":function(){return t.e(188).then(t.bind(null,664))},"v-6c588de9":function(){return t.e(187).then(t.bind(null,665))},"v-77d89496":function(){return t.e(189).then(t.bind(null,666))},"v-b44c3050":function(){return t.e(190).then(t.bind(null,667))},"v-c1f83154":function(){return t.e(191).then(t.bind(null,668))},"v-a8d8b794":function(){return t.e(192).then(t.bind(null,669))},"v-dbd4f394":function(){return t.e(55).then(t.bind(null,670))},"v-7a5660f6":function(){return t.e(193).then(t.bind(null,671))},"v-220fa348":function(){return t.e(194).then(t.bind(null,672))},"v-b7125e14":function(){return t.e(195).then(t.bind(null,673))},"v-2a5a7956":function(){return t.e(196).then(t.bind(null,674))},"v-dc6b0d14":function(){return t.e(197).then(t.bind(null,675))},"v-5f406e36":function(){return t.e(198).then(t.bind(null,676))},"v-660ca696":function(){return t.e(199).then(t.bind(null,677))},"v-6d189af6":function(){return t.e(200).then(t.bind(null,678))},"v-d25e5c94":function(){return t.e(201).then(t.bind(null,679))},"v-594c0a54":function(){return t.e(202).then(t.bind(null,680))},"v-0fab7c14":function(){return t.e(203).then(t.bind(null,681))},"v-a11bcd14":function(){return t.e(204).then(t.bind(null,682))},"v-70ccebe8":function(){return t.e(205).then(t.bind(null,683))},"v-7df0a2c0":function(){return t.e(206).then(t.bind(null,684))},"v-37513354":function(){return t.e(207).then(t.bind(null,685))},"v-a2900ea4":function(){return t.e(208).then(t.bind(null,686))},"v-3b23a850":function(){return t.e(209).then(t.bind(null,687))},"v-d9a2ae94":function(){return t.e(210).then(t.bind(null,688))},"v-1d2360c9":function(){return t.e(211).then(t.bind(null,689))},"v-164abd37":function(){return t.e(212).then(t.bind(null,690))},"v-a0419dee":function(){return t.e(213).then(t.bind(null,691))},"v-777d0d29":function(){return t.e(215).then(t.bind(null,692))},"v-652a4738":function(){return t.e(214).then(t.bind(null,693))},"v-ed50dac8":function(){return t.e(216).then(t.bind(null,694))},"v-174c319c":function(){return t.e(218).then(t.bind(null,695))},"v-5b5dc388":function(){return t.e(217).then(t.bind(null,696))},"v-1ca8f3de":function(){return t.e(219).then(t.bind(null,697))},"v-42a2f4dc":function(){return t.e(220).then(t.bind(null,698))},"v-631469ac":function(){return t.e(221).then(t.bind(null,699))},"v-74a6f75c":function(){return t.e(222).then(t.bind(null,700))},"v-2e78cb1c":function(){return t.e(223).then(t.bind(null,701))},"v-97587600":function(){return t.e(224).then(t.bind(null,702))},"v-2fb63222":function(){return t.e(225).then(t.bind(null,703))},"v-6c1f86fc":function(){return t.e(226).then(t.bind(null,704))},"v-2be4a934":function(){return t.e(228).then(t.bind(null,705))},"v-7d682484":function(){return t.e(227).then(t.bind(null,706))},"v-be795108":function(){return t.e(229).then(t.bind(null,707))},"v-f6d3c3c8":function(){return t.e(230).then(t.bind(null,708))},"v-2c1a6138":function(){return t.e(231).then(t.bind(null,709))},"v-dca5f300":function(){return t.e(233).then(t.bind(null,710))},"v-ccf3fb80":function(){return t.e(232).then(t.bind(null,711))},"v-3dd7a2a6":function(){return t.e(234).then(t.bind(null,712))},"v-3850bac0":function(){return t.e(235).then(t.bind(null,713))},"v-460e5408":function(){return t.e(236).then(t.bind(null,714))},"v-10482bdc":function(){return t.e(237).then(t.bind(null,715))},"v-79119bcc":function(){return t.e(238).then(t.bind(null,716))},"v-1e7c9e48":function(){return t.e(239).then(t.bind(null,717))},"v-2fc3d436":function(){return t.e(240).then(t.bind(null,718))},"v-67e4aa88":function(){return t.e(241).then(t.bind(null,719))},"v-28a5295c":function(){return t.e(242).then(t.bind(null,720))},"v-34cc2c1c":function(){return t.e(243).then(t.bind(null,721))},"v-321cf4bc":function(){return t.e(244).then(t.bind(null,722))},"v-61b1b0dc":function(){return t.e(245).then(t.bind(null,723))},"v-6527a7fc":function(){return t.e(246).then(t.bind(null,724))},"v-672e500e":function(){return t.e(247).then(t.bind(null,725))},"v-3cebb51c":function(){return t.e(248).then(t.bind(null,726))},"v-3618d428":function(){return t.e(249).then(t.bind(null,727))},"v-2a0a47d4":function(){return t.e(250).then(t.bind(null,728))},"v-167d1130":function(){return t.e(251).then(t.bind(null,729))},"v-bf418988":function(){return t.e(252).then(t.bind(null,730))},"v-f9d90298":function(){return t.e(253).then(t.bind(null,731))},"v-2d3f34c8":function(){return t.e(254).then(t.bind(null,732))},"v-a52dd74c":function(){return t.e(255).then(t.bind(null,733))},"v-0c59c83c":function(){return t.e(256).then(t.bind(null,734))},"v-060fb43c":function(){return t.e(257).then(t.bind(null,735))},"v-5b0b0cfc":function(){return t.e(258).then(t.bind(null,736))},"v-0ee4541c":function(){return t.e(260).then(t.bind(null,737))},"v-369a9b48":function(){return t.e(259).then(t.bind(null,738))},"v-053ffc88":function(){return t.e(261).then(t.bind(null,739))},"v-d6e377c8":function(){return t.e(262).then(t.bind(null,740))},"v-2e2015b4":function(){return t.e(263).then(t.bind(null,741))},"v-2182af48":function(){return t.e(267).then(t.bind(null,742))},"v-07ee08cf":function(){return t.e(268).then(t.bind(null,743))},"v-47760738":function(){return t.e(269).then(t.bind(null,744))},"v-d7c389aa":function(){return t.e(270).then(t.bind(null,745))},"v-62f711c8":function(){return t.e(265).then(t.bind(null,746))},"v-271d449a":function(){return t.e(271).then(t.bind(null,747))},"v-fb044f08":function(){return t.e(272).then(t.bind(null,748))},"v-2ba1ace4":function(){return t.e(274).then(t.bind(null,749))},"v-433d799c":function(){return t.e(266).then(t.bind(null,750))},"v-d056ec78":function(){return t.e(273).then(t.bind(null,751))},"v-cdd00072":function(){return t.e(275).then(t.bind(null,752))},"v-0cd45fa4":function(){return t.e(276).then(t.bind(null,753))},"v-958b6fe4":function(){return t.e(264).then(t.bind(null,754))}};function Pa(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}var Ca=/-(\w)/g,_a=Pa((function(e){return e.replace(Ca,(function(e,n){return n?n.toUpperCase():""}))})),Ba=/\B([A-Z])/g,Oa=Pa((function(e){return e.replace(Ba,"-$1").toLowerCase()})),qa=Pa((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}));function Da(e,n){if(n)return e(n)?e(n):n.includes("-")?e(qa(_a(n))):e(qa(n))||e(Oa(n))}var Wa=Object.assign({},Aa,ja),Ra=function(e){return Wa[e]},La=function(e){return ja[e]},Ma=function(e){return Aa[e]},Na=function(e){return Or.component(e)};function Fa(e){return Da(La,e)}function Ua(e){return Da(Ma,e)}function Ha(e){return Da(Ra,e)}function $a(e){return Da(Na,e)}function Va(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Promise.all(n.filter((function(e){return e})).map(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($a(n)||!Ha(n)){e.next=5;break}return e.next=3,Ha(n)();case 3:t=e.sent,Or.component(n,t.default);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))}function Ga(e,n){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[e]=n)}var Za=t(138),Ja=(t(190),t(110),t(53),t(219)),Ka=t.n(Ja),Xa=t(220),Ya=t.n(Xa),Qa={created:function(){if(this.siteMeta=this.$site.headTags.filter((function(e){return"meta"===Object(Za.a)(e,1)[0]})).map((function(e){var n=Object(Za.a)(e,2);n[0];return n[1]})),this.$ssrContext){var e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map((function(e){var n="<meta";return Object.keys(e).forEach((function(t){n+=" ".concat(t,'="').concat(Ya()(e[t]),'"')})),n+">"})).join("\n    "):"",this.$ssrContext.canonicalLink=ns(this.$canonicalUrl)}var n},mounted:function(){this.currentMetaTags=Object(za.a)(document.querySelectorAll("meta")),this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta:function(){document.title=this.$title,document.documentElement.lang=this.$lang;var e=this.getMergedMetaTags();this.currentMetaTags=ts(e,this.currentMetaTags)},getMergedMetaTags:function(){var e=this.$page.frontmatter.meta||[];return Ka()([{name:"description",content:this.$description}],e,this.siteMeta,os)},updateCanonicalLink:function(){es(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",ns(this.$canonicalUrl))}},watch:{$page:function(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy:function(){ts(null,this.currentMetaTags),es()}};function es(){var e=document.querySelector("link[rel='canonical']");e&&e.remove()}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?'<link href="'.concat(e,'" rel="canonical" />'):""}function ts(e,n){if(n&&Object(za.a)(n).filter((function(e){return e.parentNode===document.head})).forEach((function(e){return document.head.removeChild(e)})),e)return e.map((function(e){var n=document.createElement("meta");return Object.keys(e).forEach((function(t){n.setAttribute(t,e[t])})),document.head.appendChild(n),n}))}function os(e){for(var n=0,t=["name","property","itemprop"];n<t.length;n++){var o=t[n];if(e.hasOwnProperty(o))return e[o]+o}return JSON.stringify(e)}t(139);var rs=t(152),is={mounted:function(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(rs)()((function(){this.setActiveHash()}),300),setActiveHash:function(){for(var e=this,n=[].slice.call(document.querySelectorAll(".sidebar-link")),t=[].slice.call(document.querySelectorAll(".header-anchor")).filter((function(e){return n.some((function(n){return n.hash===e.hash}))})),o=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+o,a=0;a<t.length;a++){var s=t[a],l=t[a+1],c=0===a&&0===o||o>=s.parentElement.offsetTop+10&&(!l||o<l.parentElement.offsetTop-10),d=decodeURIComponent(this.$route.hash);if(c&&d!==decodeURIComponent(s.hash)){var p=s;if(i===r)for(var u=a+1;u<t.length;u++)if(d===decodeURIComponent(t[u].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(p.hash),(function(){e.$nextTick((function(){e.$vuepress.$set("disableScrollBehavior",!1)}))}))}}}},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},as=(t(78),t(101)),ss=t.n(as),ls={mounted:function(){var e=this;ss.a.configure({showSpinner:!1}),this.$router.beforeEach((function(e,n,t){e.path===n.path||Or.component(e.name)||ss.a.start(),t()})),this.$router.afterEach((function(){ss.a.done(),e.isSidebarOpen=!1}))}};t(74),t(54),t(77),t(364);function cs(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t(99);function ds(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ps(e,n,t){return n&&ds(e.prototype,n),t&&ds(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}t(365);var us=function(){function e(){cs(this,e);this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}return ps(e,[{key:"show",value:function(e){var n=this,t=e.text,o=void 0===t?"":t,r=e.duration,i=void 0===r?3e3:r,a=document.createElement("div");a.className="message move-in",a.innerHTML='\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">'.concat(o,"</div>\n    "),this.containerEl.appendChild(a),i>0&&setTimeout((function(){n.close(a)}),i)}},{key:"close",value:function(e){e.className=e.className.replace("move-in",""),e.className+="move-out",e.addEventListener("animationend",(function(){e.remove()}))}}]),e}(),hs={mounted:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy:function(){var e=this;setTimeout((function(){(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach((function(n){document.querySelectorAll(n).forEach(e.generateCopyButton)}))}),1e3)},generateCopyButton:function(e){var n=this;if(!e.classList.contains("codecopy-enabled")){var t=document.createElement("i");t.className="code-copy",t.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',t.title="Copy to clipboard",t.addEventListener("click",(function(){n.copyToClipboard(e.innerText)})),e.appendChild(t),e.classList.add("codecopy-enabled")}},copyToClipboard:function(e){var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select(),document.execCommand("copy"),(new us).show({text:"复制成功",duration:1e3}),document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};t(234),t(103),t(104),t(140),t(367);!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var ms={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},gs={},fs=function(e){return'<div id="app">\n'.concat(e,"\n</div>")},ws=function(e){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[e]?window.$VUEPRESS_DEMO_BLOCK[e]:ms[e]},bs=function e(n,t,o){var r=document.createElement(n);return t&&Object.keys(t).forEach((function(e){if(e.indexOf("data"))r[e]=t[e];else{var n=e.replace("data","");r.dataset[n]=t[e]}})),o&&o.forEach((function(n){var t=n.tag,o=n.attrs,i=n.children;r.appendChild(e(t,o,i))})),r},vs=function(e,n,t){var o,r=(o=e.querySelectorAll(".".concat(n)),Array.prototype.slice.call(o));return 1!==r.length||t?r:r[0]},ys=function(e,n){var t,o,r=e.match(/<style>([\s\S]+)<\/style>/),i=e.match(/<template>([\s\S]+)<\/template>/),a=e.match(/<script>([\s\S]+)<\/script>/),s={css:r&&r[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:a&&a[1].replace(/^\n|\n$/g,""),jsLib:n.jsLib||[],cssLib:n.cssLib||[]};s.htmlTpl=fs(s.html),s.jsTpl=(t=s.js,o=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(o,"\n})")),s.script=function(e,n){var t=e.split(/export\s+default/),o="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),r=window.Babel?window.Babel.transform(o,{presets:["es2015"]}).code:o,i=[eval][0](r);return i.template=n,i}(s.js,s.html);var l=ws("vue");return s.jsLib.unshift(l),s},xs=function(e,n){var t,o=e.match(/<style>([\s\S]+)<\/style>/),r=e.match(/<html>([\s\S]+)<\/html>/),i=e.match(/<script>([\s\S]+)<\/script>/),a={css:o&&o[1].replace(/^\n|\n$/g,""),html:r&&r[1].replace(/^\n|\n$/g,""),js:i&&i[1].replace(/^\n|\n$/g,""),jsLib:n.jsLib||[],cssLib:n.cssLib||[]};return a.htmlTpl=a.html,a.jsTpl=a.js,a.script=(t=a.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),a},ks=function(e){return e=e.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),e+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function Es(){var e=vs(document,"vuepress-plugin-demo-block__wrapper",!0);e.length?e.forEach((function(e){if("true"!==e.dataset.created){e.style.display="block";var n=vs(e,"vuepress-plugin-demo-block__code"),t=vs(e,"vuepress-plugin-demo-block__display"),o=vs(e,"vuepress-plugin-demo-block__footer"),r=vs(t,"vuepress-plugin-demo-block__app"),i=decodeURIComponent(e.dataset.code),a=decodeURIComponent(e.dataset.config),s=decodeURIComponent(e.dataset.type);a=a?JSON.parse(a):{};var l=n.querySelector("div").clientHeight,c="react"===s?function(e,n){var t=(0,window.Babel.transform)(e,{presets:["es2015","react"]}).code,o="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),r=new Function("return ".concat(o))(),i={js:r,css:r.__style__||"",jsLib:n.jsLib||[],cssLib:n.cssLib||[],jsTpl:ks(e),htmlTpl:fs("")},a=ws("react"),s=ws("reactDOM");return i.jsLib.unshift(a,s),i}(i,a):"vanilla"===s?xs(i,a):ys(i,a),d=bs("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(o.appendChild(d),d.addEventListener("click",Is.bind(null,d,l,n,o)),ws("jsfiddle")&&o.appendChild(function(e){var n=e.css,t=e.htmlTpl,o=e.jsTpl,r=e.jsLib,i=e.cssLib,a=r.concat(i).concat(ws("cssLib")).concat(ws("jsLib")).join(",");return bs("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:n}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:o}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:a}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),ws("codepen")&&o.appendChild(function(e){var n=e.css,t=e.htmlTpl,o=e.jsTpl,r=e.jsLib,i=e.cssLib,a=JSON.stringify({css:n,html:t,js:o,js_external:r.concat(ws("jsLib")).join(";"),css_external:i.concat(ws("cssLib")).join(";"),layout:ws("codepenLayout"),js_pre_processor:ws("codepenJsProcessor"),editors:ws("codepenEditors")});return bs("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:a}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==a.horizontal?a.horizontal:ws("horizontal")){e.classList.add("vuepress-plugin-demo-block__horizontal");var p=n.firstChild.cloneNode(!0);p.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(p)}if(c.css&&function(e){if(!gs[e]){var n=bs("style",{innerHTML:e});document.body.appendChild(n),gs[e]=!0}}(c.css),"react"===s)ReactDOM.render(React.createElement(c.js),r);else if("vue"===s){var u=(new(Vue.extend(c.script))).$mount();r.appendChild(u.$el)}else"vanilla"===s&&(r.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());e.dataset.created="true"}})):setTimeout((function(e){Es()}),300)}function Is(e,n,t,o){var r="1"!==e.dataset.isExpand;t.style.height=r?"".concat(n,"px"):0,r?o.classList.add("vuepress-plugin-demo-block__show-link"):o.classList.remove("vuepress-plugin-demo-block__show-link"),e.dataset.isExpand=r?"1":"0"}var Ss={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},Es()},updated:function(){Es()}},Ts=(t(224),"auto"),zs="zoom-in",As="zoom-out",js="grab",Ps="move";function Cs(e,n,t){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r={passive:!1};o?e.addEventListener(n,t,r):e.removeEventListener(n,t,r)}function _s(e,n){if(e){var t=new Image;t.onload=function(){n&&n(t)},t.src=e}}function Bs(e){return e.dataset.original?e.dataset.original:"A"===e.parentNode.tagName?e.parentNode.getAttribute("href"):null}function Os(e,n,t){!function(e){var n=qs,t=Ds;if(e.transition){var o=e.transition;delete e.transition,e[n]=o}if(e.transform){var r=e.transform;delete e.transform,e[t]=r}}(n);var o=e.style,r={};for(var i in n)t&&(r[i]=o[i]||""),o[i]=n[i];return r}var qs="transition",Ds="transform",Ws="transform",Rs="transitionend";var Ls=function(){},Ms={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Ls,onClose:Ls,onGrab:Ls,onMove:Ls,onRelease:Ls,onBeforeOpen:Ls,onBeforeClose:Ls,onBeforeGrab:Ls,onBeforeRelease:Ls,onImageLoading:Ls,onImageLoaded:Ls},Ns={init:function(e){var n,t;n=this,t=e,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((function(e){n[e]=n[e].bind(t)}))},click:function(e){if(e.preventDefault(),Us(e))return window.open(this.target.srcOriginal||e.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(e.currentTarget)},scroll:function(){var e=document.documentElement||document.body.parentNode||document.body,n=window.pageXOffset||e.scrollLeft,t=window.pageYOffset||e.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:n,y:t});var o=this.lastScrollPosition.x-n,r=this.lastScrollPosition.y-t,i=this.options.scrollThreshold;(Math.abs(r)>=i||Math.abs(o)>=i)&&(this.lastScrollPosition=null,this.close())},keydown:function(e){(function(e){return"Escape"===(e.key||e.code)||27===e.keyCode})(e)&&(this.released?this.close():this.release(this.close))},mousedown:function(e){if(Fs(e)&&!Us(e)){e.preventDefault();var n=e.clientX,t=e.clientY;this.pressTimer=setTimeout(function(){this.grab(n,t)}.bind(this),200)}},mousemove:function(e){this.released||this.move(e.clientX,e.clientY)},mouseup:function(e){Fs(e)&&!Us(e)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(e){e.preventDefault();var n=e.touches[0],t=n.clientX,o=n.clientY;this.pressTimer=setTimeout(function(){this.grab(t,o)}.bind(this),200)},touchmove:function(e){if(!this.released){var n=e.touches[0],t=n.clientX,o=n.clientY;this.move(t,o)}},touchend:function(e){(function(e){e.targetTouches.length})(e)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Fs(e){return 0===e.button}function Us(e){return e.metaKey||e.ctrlKey}var Hs={init:function(e){this.el=document.createElement("div"),this.instance=e,this.parent=document.body,Os(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(e.options),Cs(this.el,"click",e.handler.clickOverlay.bind(e))},updateStyle:function(e){Os(this.el,{zIndex:e.zIndex,backgroundColor:e.bgColor,transition:"opacity\n        "+e.transitionDuration+"s\n        "+e.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},$s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),Gs=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Zs={init:function(e,n){this.el=e,this.instance=n,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Bs(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var e=this.instance.options,n=e.zIndex,t=e.enableGrab,o=e.transitionDuration,r=e.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:n+1,cursor:t?js:As,transition:Ws+"\n        "+o+"s\n        "+r,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Os(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Os(this.el,{transform:"none"})},grab:function(e,n,t){var o=Js(),r=o.x-e,i=o.y-n;Os(this.el,{cursor:Ps,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(e,n,t){var o=Js(),r=o.x-e,i=o.y-n;Os(this.el,{transition:Ws,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Os(this.el,this.styleClose)},restoreOpenStyle:function(){Os(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var e=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var n=this.el.cloneNode(!1);n.setAttribute("src",this.srcOriginal),n.style.position="fixed",n.style.visibility="hidden",e.appendChild(n),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),e.removeChild(n)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var e=Js(),n=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:e.x-n,y:e.y-t}},calculateScale:function(){var e=this.el.dataset,n=e.zoomingHeight,t=e.zoomingWidth,o=this.instance.options,r=o.customSize,i=o.scaleBase;if(!r&&n&&t)return{x:t/this.rect.width,y:n/this.rect.height};if(r&&"object"===(void 0===r?"undefined":$s(r)))return{x:r.width/this.rect.width,y:r.height/this.rect.height};var a=this.rect.width/2,s=this.rect.height/2,l=Js(),c={x:l.x-a,y:l.y-s},d=c.x/a,p=c.y/s,u=i+Math.min(d,p);if(r&&"string"==typeof r){var h=t||this.el.naturalWidth,m=n||this.el.naturalHeight,g=parseFloat(r)*h/(100*this.rect.width),f=parseFloat(r)*m/(100*this.rect.height);if(u>g||u>f)return{x:g,y:f}}return{x:u,y:u}}};function Js(){var e=document.documentElement;return{x:Math.min(e.clientWidth,window.innerWidth)/2,y:Math.min(e.clientHeight,window.innerHeight)/2}}function Ks(e,n,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(o){Cs(e,o,n[o],t)}))}var Xs=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=Object.create(Zs),this.overlay=Object.create(Hs),this.handler=Object.create(Ns),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=Gs({},Ms,n),this.overlay.init(this),this.handler.init(this)}return Vs(e,[{key:"listen",value:function(e){if("string"==typeof e)for(var n=document.querySelectorAll(e),t=n.length;t--;)this.listen(n[t]);else"IMG"===e.tagName&&(e.style.cursor=zs,Cs(e,"click",this.handler.click),this.options.preloadImage&&_s(Bs(e)));return this}},{key:"config",value:function(e){return e?(Gs(this.options,e),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var o="string"==typeof e?document.querySelector(e):e;if("IMG"===o.tagName){if(this.options.onBeforeOpen(o),this.target.init(o,this),!this.options.preloadImage){var r=this.target.srcOriginal;null!=r&&(this.options.onImageLoading(o),_s(r,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Cs(document,"scroll",this.handler.scroll),Cs(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Cs(window,"resize",this.handler.resizeWindow);var i=function e(){Cs(o,Rs,e,!1),n.lock=!1,n.target.upgradeSource(),n.options.enableGrab&&Ks(document,n.handler,!0),t(o)};return Cs(o,Rs,i),this}}}},{key:"close",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Ts,this.overlay.fadeOut(),this.target.zoomOut(),Cs(document,"scroll",this.handler.scroll,!1),Cs(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Cs(window,"resize",this.handler.resizeWindow,!1);var o=function o(){Cs(t,Rs,o,!1),e.shown=!1,e.lock=!1,e.target.downgradeSource(),e.options.enableGrab&&Ks(document,e.handler,!1),e.target.restoreCloseStyle(),e.overlay.remove(),n(t)};return Cs(t,Rs,o),this}}},{key:"grab",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var r=this.target.el;this.options.onBeforeGrab(r),this.released=!1,this.target.grab(e,n,t);var i=function e(){Cs(r,Rs,e,!1),o(r)};return Cs(r,Rs,i),this}}},{key:"move",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Ps,this.target.move(e,n,t);var r=this.target.el,i=function e(){Cs(r,Rs,e,!1),o(r)};return Cs(r,Rs,i),this}}},{key:"release",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Ts,this.target.restoreOpenStyle();var o=function o(){Cs(t,Rs,o,!1),e.lock=!1,e.released=!0,n(t)};return Cs(t,Rs,o),this}}}]),e}(),Ys=".theme-vdoing-content img:not(.no-zoom)",Qs=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),el=Number("500"),nl=function(){function e(){cs(this,e),this.instance=new Xs(Qs)}return ps(e,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ys;"undefined"!=typeof window&&this.instance.listen(e)}},{key:"updateDelay",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ys,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:el;setTimeout((function(){return e.update(n)}),t)}}]),e}(),tl=[Qa,is,ls,hs,Ss,{watch:{"$page.path":function(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted:function(){this.$vuepress.zooming=new nl,this.$vuepress.zooming.updateDelay()}}],ol={name:"GlobalLayout",computed:{layout:function(){var e=this.getLayout();return Ga("layout",e),Or.component(e)}},methods:{getLayout:function(){if(this.$page.path){var e=this.$page.frontmatter.layout;return e&&(this.$vuepress.getLayoutAsyncComponent(e)||this.$vuepress.getVueComponent(e))?e:"Layout"}return"NotFound"}}},rl=t(20),il=Object(rl.a)(ol,(function(){var e=this.$createElement;return(this._self._c||e)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(e,n,t){var o;switch(n){case"components":e[n]||(e[n]={}),Object.assign(e[n],t);break;case"mixins":e[n]||(e[n]=[]),(o=e[n]).push.apply(o,Object(za.a)(t));break;default:throw new Error("Unknown option name.")}}(il,"mixins",tl);var al=[{name:"v-79b43964",path:"/pages/5e2e48/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-79b43964").then(t)}},{path:"/pages/5e2e48/index.html",redirect:"/pages/5e2e48/"},{path:"/_posts/随笔/Hugo搭建博客网站.html",redirect:"/pages/5e2e48/"},{name:"v-44938013",path:"/pages/c5290a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-44938013").then(t)}},{path:"/pages/c5290a/index.html",redirect:"/pages/c5290a/"},{path:"/_posts/随笔/Express的简单使用.html",redirect:"/pages/c5290a/"},{name:"v-571ff2dc",path:"/pages/a1c699/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-571ff2dc").then(t)}},{path:"/pages/a1c699/index.html",redirect:"/pages/a1c699/"},{path:"/_posts/随笔/Javascript简单问题.html",redirect:"/pages/a1c699/"},{name:"v-526aa213",path:"/pages/c6fa10/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-526aa213").then(t)}},{path:"/pages/c6fa10/index.html",redirect:"/pages/c6fa10/"},{path:"/_posts/随笔/API接口.html",redirect:"/pages/c6fa10/"},{name:"v-7cc7038c",path:"/pages/289d6d/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-7cc7038c").then(t)}},{path:"/pages/289d6d/index.html",redirect:"/pages/289d6d/"},{path:"/_posts/随笔/JS 的基本使用.html",redirect:"/pages/289d6d/"},{name:"v-0314a71a",path:"/pages/b4310a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-0314a71a").then(t)}},{path:"/pages/b4310a/index.html",redirect:"/pages/b4310a/"},{path:"/_posts/随笔/Linux clash使用指南.html",redirect:"/pages/b4310a/"},{name:"v-1c909bf1",path:"/pages/e50d3f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1c909bf1").then(t)}},{path:"/pages/e50d3f/index.html",redirect:"/pages/e50d3f/"},{path:"/_posts/随笔/Nuxt.js的基本使用.html",redirect:"/pages/e50d3f/"},{name:"v-165fc73e",path:"/pages/111443/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-165fc73e").then(t)}},{path:"/pages/111443/index.html",redirect:"/pages/111443/"},{path:"/_posts/随笔/Nuxt3.的基本使用.html",redirect:"/pages/111443/"},{name:"v-1c81b1d1",path:"/pages/b44d09/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1c81b1d1").then(t)}},{path:"/pages/b44d09/index.html",redirect:"/pages/b44d09/"},{path:"/_posts/随笔/PS的简单使用.html",redirect:"/pages/b44d09/"},{name:"v-74a48801",path:"/pages/b60b12/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-74a48801").then(t)}},{path:"/pages/b60b12/index.html",redirect:"/pages/b60b12/"},{path:"/_posts/随笔/Typora的基本使用.html",redirect:"/pages/b60b12/"},{name:"v-db429bfe",path:"/pages/f0e3a1/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-db429bfe").then(t)}},{path:"/pages/f0e3a1/index.html",redirect:"/pages/f0e3a1/"},{path:"/_posts/随笔/VuePress的基本使用.html",redirect:"/pages/f0e3a1/"},{name:"v-20db9ab1",path:"/pages/f5b03c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-20db9ab1").then(t)}},{path:"/pages/f5b03c/index.html",redirect:"/pages/f5b03c/"},{path:"/_posts/随笔/chrome的简单使用.html",redirect:"/pages/f5b03c/"},{name:"v-eaa45d16",path:"/pages/8886b3/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-eaa45d16").then(t)}},{path:"/pages/8886b3/index.html",redirect:"/pages/8886b3/"},{path:"/_posts/随笔/axios的基本使用.html",redirect:"/pages/8886b3/"},{name:"v-10bc4568",path:"/pages/baeb6f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-10bc4568").then(t)}},{path:"/pages/baeb6f/index.html",redirect:"/pages/baeb6f/"},{path:"/_posts/随笔/cmd基本使用.html",redirect:"/pages/baeb6f/"},{name:"v-70d60836",path:"/pages/07a82e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-70d60836").then(t)}},{path:"/pages/07a82e/index.html",redirect:"/pages/07a82e/"},{path:"/_posts/随笔/css简单小问题.html",redirect:"/pages/07a82e/"},{name:"v-7774bc2e",path:"/pages/b82c53/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-7774bc2e").then(t)}},{path:"/pages/b82c53/index.html",redirect:"/pages/b82c53/"},{path:"/_posts/随笔/express的基本使用.html",redirect:"/pages/b82c53/"},{name:"v-1736c87e",path:"/pages/144094/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1736c87e").then(t)}},{path:"/pages/144094/index.html",redirect:"/pages/144094/"},{path:"/_posts/随笔/ffmpge的基本使用.html",redirect:"/pages/144094/"},{name:"v-05708a17",path:"/pages/7d2d63/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-05708a17").then(t)}},{path:"/pages/7d2d63/index.html",redirect:"/pages/7d2d63/"},{path:"/_posts/随笔/git的简单使用.html",redirect:"/pages/7d2d63/"},{name:"v-2a4feda9",path:"/pages/7765c9/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2a4feda9").then(t)}},{path:"/pages/7765c9/index.html",redirect:"/pages/7765c9/"},{path:"/_posts/随笔/gitbook的简单使用.html",redirect:"/pages/7765c9/"},{name:"v-58450ae1",path:"/pages/bd60b6/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-58450ae1").then(t)}},{path:"/pages/bd60b6/index.html",redirect:"/pages/bd60b6/"},{path:"/_posts/随笔/gulp的基本使用.html",redirect:"/pages/bd60b6/"},{name:"v-f2bcf6be",path:"/pages/ce8bab/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-f2bcf6be").then(t)}},{path:"/pages/ce8bab/index.html",redirect:"/pages/ce8bab/"},{path:"/_posts/随笔/hexo的基本使用.html",redirect:"/pages/ce8bab/"},{name:"v-f7d28072",path:"/pages/0f6c5d/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-f7d28072").then(t)}},{path:"/pages/0f6c5d/index.html",redirect:"/pages/0f6c5d/"},{path:"/_posts/随笔/html导入html的方法.html",redirect:"/pages/0f6c5d/"},{name:"v-1ca7d95b",path:"/pages/f908ca/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1ca7d95b").then(t)}},{path:"/pages/f908ca/index.html",redirect:"/pages/f908ca/"},{path:"/_posts/随笔/jQuery中获取当前窗口的宽度值.html",redirect:"/pages/f908ca/"},{name:"v-2c7e0d14",path:"/pages/a6be7c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2c7e0d14").then(t)}},{path:"/pages/a6be7c/index.html",redirect:"/pages/a6be7c/"},{path:"/_posts/随笔/markdown的基本用法.html",redirect:"/pages/a6be7c/"},{name:"v-550f651e",path:"/pages/33bd12/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-550f651e").then(t)}},{path:"/pages/33bd12/index.html",redirect:"/pages/33bd12/"},{path:"/_posts/随笔/linux的基本使用.html",redirect:"/pages/33bd12/"},{name:"v-edffc1de",path:"/pages/56de9b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-edffc1de").then(t)}},{path:"/pages/56de9b/index.html",redirect:"/pages/56de9b/"},{path:"/_posts/随笔/ngnix的基本使用.html",redirect:"/pages/56de9b/"},{name:"v-5a9106b6",path:"/pages/7d827e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5a9106b6").then(t)}},{path:"/pages/7d827e/index.html",redirect:"/pages/7d827e/"},{path:"/_posts/随笔/npm、yarn 的基本使用.html",redirect:"/pages/7d827e/"},{name:"v-c6d0fe70",path:"/pages/375245/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-c6d0fe70").then(t)}},{path:"/pages/375245/index.html",redirect:"/pages/375245/"},{path:"/_posts/随笔/node 的基本使用.html",redirect:"/pages/375245/"},{name:"v-05bb32c5",path:"/pages/e46548/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-05bb32c5").then(t)}},{path:"/pages/e46548/index.html",redirect:"/pages/e46548/"},{path:"/_posts/随笔/puppeteer的基本使用.html",redirect:"/pages/e46548/"},{name:"v-6b1ef0e2",path:"/pages/35c5f5/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6b1ef0e2").then(t)}},{path:"/pages/35c5f5/index.html",redirect:"/pages/35c5f5/"},{path:"/_posts/随笔/npm的一些有用的库.html",redirect:"/pages/35c5f5/"},{name:"v-761267ca",path:"/tags/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-761267ca").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-75c3e621",path:"/pages/ed136c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-75c3e621").then(t)}},{path:"/pages/ed136c/index.html",redirect:"/pages/ed136c/"},{path:"/_posts/随笔/python的基本使用.html",redirect:"/pages/ed136c/"},{name:"v-26c99fee",path:"/pages/02b027/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-26c99fee").then(t)}},{path:"/pages/02b027/index.html",redirect:"/pages/02b027/"},{path:"/_posts/随笔/sass、less和stylus的基本使用.html",redirect:"/pages/02b027/"},{name:"v-1db599c1",path:"/pages/299f21/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1db599c1").then(t)}},{path:"/pages/299f21/index.html",redirect:"/pages/299f21/"},{path:"/_posts/随笔/typescript的基本使用.html",redirect:"/pages/299f21/"},{name:"v-3c7a47a6",path:"/pages/2767b2/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3c7a47a6").then(t)}},{path:"/pages/2767b2/index.html",redirect:"/pages/2767b2/"},{path:"/_posts/随笔/uni_app的基本使用.html",redirect:"/pages/2767b2/"},{name:"v-341058ac",path:"/pages/44fdfb/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-341058ac").then(t)}},{path:"/pages/44fdfb/index.html",redirect:"/pages/44fdfb/"},{path:"/_posts/随笔/vuepress-theme-vdoing的使用.html",redirect:"/pages/44fdfb/"},{name:"v-c95bfe9e",path:"/pages/133a3c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-c95bfe9e").then(t)}},{path:"/pages/133a3c/index.html",redirect:"/pages/133a3c/"},{path:"/_posts/随笔/vscode的简单使用.html",redirect:"/pages/133a3c/"},{name:"v-5248a0d6",path:"/pages/ab483b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5248a0d6").then(t)}},{path:"/pages/ab483b/index.html",redirect:"/pages/ab483b/"},{path:"/_posts/随笔/vue的基本使用.html",redirect:"/pages/ab483b/"},{name:"v-5e560f2e",path:"/pages/e34db6/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5e560f2e").then(t)}},{path:"/pages/e34db6/index.html",redirect:"/pages/e34db6/"},{path:"/_posts/随笔/《Electron超详细实战开发教程》笔记.html",redirect:"/pages/e34db6/"},{name:"v-33c4dd84",path:"/pages/0ff065/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-33c4dd84").then(t)}},{path:"/pages/0ff065/index.html",redirect:"/pages/0ff065/"},{path:"/_posts/随笔/初始化项目.html",redirect:"/pages/0ff065/"},{name:"v-b8f23556",path:"/pages/17a29b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-b8f23556").then(t)}},{path:"/pages/17a29b/index.html",redirect:"/pages/17a29b/"},{path:"/_posts/随笔/小米手环导出数据.html",redirect:"/pages/17a29b/"},{name:"v-faa1b6a4",path:"/pages/894877/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-faa1b6a4").then(t)}},{path:"/pages/894877/index.html",redirect:"/pages/894877/"},{path:"/_posts/随笔/微信小程序的基本使用.html",redirect:"/pages/894877/"},{name:"v-297782c8",path:"/pages/2830b1/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-297782c8").then(t)}},{path:"/pages/2830b1/index.html",redirect:"/pages/2830b1/"},{path:"/_posts/随笔/搭建个人服务器.html",redirect:"/pages/2830b1/"},{name:"v-0fd01242",path:"/pages/c2798c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-0fd01242").then(t)}},{path:"/pages/c2798c/index.html",redirect:"/pages/c2798c/"},{path:"/_posts/随笔/搭建网站(vuepress).html",redirect:"/pages/c2798c/"},{name:"v-396bc0a2",path:"/pages/dad5ca/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-396bc0a2").then(t)}},{path:"/pages/dad5ca/index.html",redirect:"/pages/dad5ca/"},{path:"/_posts/随笔/查看谷歌浏览器版本.html",redirect:"/pages/dad5ca/"},{name:"v-0ff23836",path:"/pages/1dba76/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-0ff23836").then(t)}},{path:"/pages/1dba76/index.html",redirect:"/pages/1dba76/"},{path:"/_posts/随笔/跨域.html",redirect:"/pages/1dba76/"},{name:"v-52a40636",path:"/pages/94a20c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-52a40636").then(t)}},{path:"/pages/94a20c/index.html",redirect:"/pages/94a20c/"},{path:"/_posts/随笔/软件的简单安装.html",redirect:"/pages/94a20c/"},{name:"v-4d806d4a",path:"/archives/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-4d806d4a").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-03d803ac",path:"/categories/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-03d803ac").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-68391054",path:"/pages/0c961f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-68391054").then(t)}},{path:"/pages/0c961f/index.html",redirect:"/pages/0c961f/"},{path:"/_posts/随笔/颜色代码表.html",redirect:"/pages/0c961f/"},{name:"v-1cf534e2",path:"/pages/061751/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1cf534e2").then(t)}},{path:"/pages/061751/index.html",redirect:"/pages/061751/"},{path:"/《Electron中文文档》/",redirect:"/pages/061751/"},{name:"v-689292e4",path:"/pages/ef34c2/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-689292e4").then(t)}},{path:"/pages/ef34c2/index.html",redirect:"/pages/ef34c2/"},{path:"/《Electron中文文档》/api/accelerator.html",redirect:"/pages/ef34c2/"},{name:"v-12ea82f6",path:"/pages/cf2dd8/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-12ea82f6").then(t)}},{path:"/pages/cf2dd8/index.html",redirect:"/pages/cf2dd8/"},{path:"/《Electron中文文档》/api/auto-updater.html",redirect:"/pages/cf2dd8/"},{name:"v-e82c7110",path:"/pages/6c2fdf/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-e82c7110").then(t)}},{path:"/pages/6c2fdf/index.html",redirect:"/pages/6c2fdf/"},{path:"/《Electron中文文档》/api/app.html",redirect:"/pages/6c2fdf/"},{name:"v-47281556",path:"/pages/5e04f4/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-47281556").then(t)}},{path:"/pages/5e04f4/index.html",redirect:"/pages/5e04f4/"},{path:"/《Electron中文文档》/api/browser-view.html",redirect:"/pages/5e04f4/"},{name:"v-5bb8458e",path:"/pages/b76157/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5bb8458e").then(t)}},{path:"/pages/b76157/index.html",redirect:"/pages/b76157/"},{path:"/《Electron中文文档》/api/clipboard.html",redirect:"/pages/b76157/"},{name:"v-5b833ad6",path:"/pages/343dac/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5b833ad6").then(t)}},{path:"/pages/343dac/index.html",redirect:"/pages/343dac/"},{path:"/《Electron中文文档》/api/browser-window-proxy.html",redirect:"/pages/343dac/"},{name:"v-f47f4670",path:"/pages/df60b0/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-f47f4670").then(t)}},{path:"/pages/df60b0/index.html",redirect:"/pages/df60b0/"},{path:"/《Electron中文文档》/api/command-line-switches.html",redirect:"/pages/df60b0/"},{name:"v-e3e44e54",path:"/pages/174609/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-e3e44e54").then(t)}},{path:"/pages/174609/index.html",redirect:"/pages/174609/"},{path:"/《Electron中文文档》/api/command-line.html",redirect:"/pages/174609/"},{name:"v-78b7b65e",path:"/pages/2539a4/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-78b7b65e").then(t)}},{path:"/pages/2539a4/index.html",redirect:"/pages/2539a4/"},{path:"/《Electron中文文档》/api/content-tracing.html",redirect:"/pages/2539a4/"},{name:"v-3b987894",path:"/pages/f440fa/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3b987894").then(t)}},{path:"/pages/f440fa/index.html",redirect:"/pages/f440fa/"},{path:"/《Electron中文文档》/api/context-bridge.html",redirect:"/pages/f440fa/"},{name:"v-741c97f6",path:"/pages/2a8a59/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-741c97f6").then(t)}},{path:"/pages/2a8a59/index.html",redirect:"/pages/2a8a59/"},{path:"/《Electron中文文档》/api/client-request.html",redirect:"/pages/2a8a59/"},{name:"v-034e691c",path:"/pages/5b7ee9/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-034e691c").then(t)}},{path:"/pages/5b7ee9/index.html",redirect:"/pages/5b7ee9/"},{path:"/《Electron中文文档》/api/cookies.html",redirect:"/pages/5b7ee9/"},{name:"v-696eb7b6",path:"/pages/2eaaef/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-696eb7b6").then(t)}},{path:"/pages/2eaaef/index.html",redirect:"/pages/2eaaef/"},{path:"/《Electron中文文档》/api/crash-reporter.html",redirect:"/pages/2eaaef/"},{name:"v-bbde2d94",path:"/pages/375ede/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-bbde2d94").then(t)}},{path:"/pages/375ede/index.html",redirect:"/pages/375ede/"},{path:"/《Electron中文文档》/api/debugger.html",redirect:"/pages/375ede/"},{name:"v-55446214",path:"/pages/88061c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-55446214").then(t)}},{path:"/pages/88061c/index.html",redirect:"/pages/88061c/"},{path:"/《Electron中文文档》/api/dock.html",redirect:"/pages/88061c/"},{name:"v-054af894",path:"/pages/d173e4/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-054af894").then(t)}},{path:"/pages/d173e4/index.html",redirect:"/pages/d173e4/"},{path:"/《Electron中文文档》/api/desktop-capturer.html",redirect:"/pages/d173e4/"},{name:"v-bf7ee5d4",path:"/pages/52d365/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-bf7ee5d4").then(t)}},{path:"/pages/52d365/index.html",redirect:"/pages/52d365/"},{path:"/《Electron中文文档》/api/dialog.html",redirect:"/pages/52d365/"},{name:"v-35125e6c",path:"/pages/7a1355/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-35125e6c").then(t)}},{path:"/pages/7a1355/index.html",redirect:"/pages/7a1355/"},{path:"/《Electron中文文档》/api/download-item.html",redirect:"/pages/7a1355/"},{name:"v-63be3680",path:"/pages/ce4875/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-63be3680").then(t)}},{path:"/pages/ce4875/index.html",redirect:"/pages/ce4875/"},{path:"/《Electron中文文档》/api/environment-variables.html",redirect:"/pages/ce4875/"},{name:"v-190abcd4",path:"/pages/6ed1b7/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-190abcd4").then(t)}},{path:"/pages/6ed1b7/index.html",redirect:"/pages/6ed1b7/"},{path:"/《Electron中文文档》/api/extensions.html",redirect:"/pages/6ed1b7/"},{name:"v-fb5f084c",path:"/pages/cd40a4/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-fb5f084c").then(t)}},{path:"/pages/cd40a4/index.html",redirect:"/pages/cd40a4/"},{path:"/《Electron中文文档》/api/file-object.html",redirect:"/pages/cd40a4/"},{name:"v-ff9a60e0",path:"/pages/00e35f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-ff9a60e0").then(t)}},{path:"/pages/00e35f/index.html",redirect:"/pages/00e35f/"},{path:"/《Electron中文文档》/api/in-app-purchase.html",redirect:"/pages/00e35f/"},{name:"v-cd05c214",path:"/pages/bd8406/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-cd05c214").then(t)}},{path:"/pages/bd8406/index.html",redirect:"/pages/bd8406/"},{path:"/《Electron中文文档》/api/browser-window.html",redirect:"/pages/bd8406/"},{name:"v-8cfc824c",path:"/pages/678020/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-8cfc824c").then(t)}},{path:"/pages/678020/index.html",redirect:"/pages/678020/"},{path:"/《Electron中文文档》/api/global-shortcut.html",redirect:"/pages/678020/"},{name:"v-57a4b8f6",path:"/pages/aaae4f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-57a4b8f6").then(t)}},{path:"/pages/aaae4f/index.html",redirect:"/pages/aaae4f/"},{path:"/《Electron中文文档》/api/frameless-window.html",redirect:"/pages/aaae4f/"},{name:"v-0fa59f16",path:"/pages/a797f6/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-0fa59f16").then(t)}},{path:"/pages/a797f6/index.html",redirect:"/pages/a797f6/"},{path:"/《Electron中文文档》/api/incoming-message.html",redirect:"/pages/a797f6/"},{name:"v-71b9b456",path:"/pages/25fbe6/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-71b9b456").then(t)}},{path:"/pages/25fbe6/index.html",redirect:"/pages/25fbe6/"},{path:"/《Electron中文文档》/api/ipc-main.html",redirect:"/pages/25fbe6/"},{name:"v-d3c8dcd4",path:"/pages/a2e50a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-d3c8dcd4").then(t)}},{path:"/pages/a2e50a/index.html",redirect:"/pages/a2e50a/"},{path:"/《Electron中文文档》/api/ipc-renderer.html",redirect:"/pages/a2e50a/"},{name:"v-7fb1c6b6",path:"/pages/e5ab7b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-7fb1c6b6").then(t)}},{path:"/pages/e5ab7b/index.html",redirect:"/pages/e5ab7b/"},{path:"/《Electron中文文档》/api/message-channel-main.html",redirect:"/pages/e5ab7b/"},{name:"v-176fb276",path:"/pages/899c36/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-176fb276").then(t)}},{path:"/pages/899c36/index.html",redirect:"/pages/899c36/"},{path:"/《Electron中文文档》/api/menu.html",redirect:"/pages/899c36/"},{name:"v-ef868210",path:"/pages/ec4f94/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-ef868210").then(t)}},{path:"/pages/ec4f94/index.html",redirect:"/pages/ec4f94/"},{path:"/《Electron中文文档》/api/menu-item.html",redirect:"/pages/ec4f94/"},{name:"v-03ab227c",path:"/pages/ead173/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-03ab227c").then(t)}},{path:"/pages/ead173/index.html",redirect:"/pages/ead173/"},{path:"/《Electron中文文档》/api/message-port-main.html",redirect:"/pages/ead173/"},{name:"v-7b00c136",path:"/pages/3e61f2/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-7b00c136").then(t)}},{path:"/pages/3e61f2/index.html",redirect:"/pages/3e61f2/"},{path:"/《Electron中文文档》/api/native-image.html",redirect:"/pages/3e61f2/"},{name:"v-3ca7fbf6",path:"/pages/b3588c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3ca7fbf6").then(t)}},{path:"/pages/b3588c/index.html",redirect:"/pages/b3588c/"},{path:"/《Electron中文文档》/api/native-theme.html",redirect:"/pages/b3588c/"},{name:"v-a76ba9dc",path:"/pages/81d8f0/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-a76ba9dc").then(t)}},{path:"/pages/81d8f0/index.html",redirect:"/pages/81d8f0/"},{path:"/《Electron中文文档》/api/net-log.html",redirect:"/pages/81d8f0/"},{name:"v-763da300",path:"/pages/a4688b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-763da300").then(t)}},{path:"/pages/a4688b/index.html",redirect:"/pages/a4688b/"},{path:"/《Electron中文文档》/api/net.html",redirect:"/pages/a4688b/"},{name:"v-4cf8aa14",path:"/pages/d61d2a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-4cf8aa14").then(t)}},{path:"/pages/d61d2a/index.html",redirect:"/pages/d61d2a/"},{path:"/《Electron中文文档》/api/notification.html",redirect:"/pages/d61d2a/"},{name:"v-27586b96",path:"/pages/3bc018/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-27586b96").then(t)}},{path:"/pages/3bc018/index.html",redirect:"/pages/3bc018/"},{path:"/《Electron中文文档》/api/power-monitor.html",redirect:"/pages/3bc018/"},{name:"v-35bb83d6",path:"/pages/513361/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-35bb83d6").then(t)}},{path:"/pages/513361/index.html",redirect:"/pages/513361/"},{path:"/《Electron中文文档》/api/power-save-blocker.html",redirect:"/pages/513361/"},{name:"v-41185d48",path:"/pages/659889/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-41185d48").then(t)}},{path:"/pages/659889/index.html",redirect:"/pages/659889/"},{path:"/《Electron中文文档》/api/process.html",redirect:"/pages/659889/"},{name:"v-11e74cf6",path:"/pages/9d512e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-11e74cf6").then(t)}},{path:"/pages/9d512e/index.html",redirect:"/pages/9d512e/"},{path:"/《Electron中文文档》/api/safe-storage.html",redirect:"/pages/9d512e/"},{name:"v-e2d07bd4",path:"/pages/9fe961/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-e2d07bd4").then(t)}},{path:"/pages/9fe961/index.html",redirect:"/pages/9fe961/"},{path:"/《Electron中文文档》/api/protocol.html",redirect:"/pages/9fe961/"},{name:"v-2518c296",path:"/pages/eefb2c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2518c296").then(t)}},{path:"/pages/eefb2c/index.html",redirect:"/pages/eefb2c/"},{path:"/《Electron中文文档》/api/screen.html",redirect:"/pages/eefb2c/"},{name:"v-23f80a00",path:"/pages/75d39a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-23f80a00").then(t)}},{path:"/pages/75d39a/index.html",redirect:"/pages/75d39a/"},{path:"/《Electron中文文档》/api/service-workers.html",redirect:"/pages/75d39a/"},{name:"v-52dd6a0e",path:"/pages/9bda44/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-52dd6a0e").then(t)}},{path:"/pages/9bda44/index.html",redirect:"/pages/9bda44/"},{path:"/《Electron中文文档》/api/session.html",redirect:"/pages/9bda44/"},{name:"v-29266c76",path:"/pages/65af91/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-29266c76").then(t)}},{path:"/pages/65af91/index.html",redirect:"/pages/65af91/"},{path:"/《Electron中文文档》/api/share-menu.html",redirect:"/pages/65af91/"},{name:"v-7f386e4c",path:"/pages/1813fe/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-7f386e4c").then(t)}},{path:"/pages/1813fe/index.html",redirect:"/pages/1813fe/"},{path:"/《Electron中文文档》/api/shell.html",redirect:"/pages/1813fe/"},{name:"v-576b33b6",path:"/pages/52b438/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-576b33b6").then(t)}},{path:"/pages/52b438/index.html",redirect:"/pages/52b438/"},{path:"/《Electron中文文档》/api/structures/bluetooth-device.html",redirect:"/pages/52b438/"},{name:"v-84e206ae",path:"/pages/ea7882/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-84e206ae").then(t)}},{path:"/pages/ea7882/index.html",redirect:"/pages/ea7882/"},{path:"/《Electron中文文档》/api/structures/certificate-principal.html",redirect:"/pages/ea7882/"},{name:"v-b5a603ee",path:"/pages/c6b036/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-b5a603ee").then(t)}},{path:"/pages/c6b036/index.html",redirect:"/pages/c6b036/"},{path:"/《Electron中文文档》/api/structures/certificate.html",redirect:"/pages/c6b036/"},{name:"v-1a644ec7",path:"/pages/711aec/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1a644ec7").then(t)}},{path:"/pages/711aec/index.html",redirect:"/pages/711aec/"},{path:"/《Electron中文文档》/api/structures/cookie.html",redirect:"/pages/711aec/"},{name:"v-473f97a9",path:"/pages/c75cbd/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-473f97a9").then(t)}},{path:"/pages/c75cbd/index.html",redirect:"/pages/c75cbd/"},{path:"/《Electron中文文档》/api/structures/cpu-usage.html",redirect:"/pages/c75cbd/"},{name:"v-468a159b",path:"/pages/0158f7/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-468a159b").then(t)}},{path:"/pages/0158f7/index.html",redirect:"/pages/0158f7/"},{path:"/《Electron中文文档》/api/structures/crash-report.html",redirect:"/pages/0158f7/"},{name:"v-9104e66e",path:"/pages/474a1c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-9104e66e").then(t)}},{path:"/pages/474a1c/index.html",redirect:"/pages/474a1c/"},{path:"/《Electron中文文档》/api/structures/custom-scheme.html",redirect:"/pages/474a1c/"},{name:"v-74f04889",path:"/pages/de1c7d/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-74f04889").then(t)}},{path:"/pages/de1c7d/index.html",redirect:"/pages/de1c7d/"},{path:"/《Electron中文文档》/api/structures/desktop-capturer-source.html",redirect:"/pages/de1c7d/"},{name:"v-f42d0eae",path:"/pages/037026/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-f42d0eae").then(t)}},{path:"/pages/037026/index.html",redirect:"/pages/037026/"},{path:"/《Electron中文文档》/api/structures/display.html",redirect:"/pages/037026/"},{name:"v-001280e9",path:"/pages/8eebd0/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-001280e9").then(t)}},{path:"/pages/8eebd0/index.html",redirect:"/pages/8eebd0/"},{path:"/《Electron中文文档》/api/structures/event.html",redirect:"/pages/8eebd0/"},{name:"v-54288cd2",path:"/pages/d60068/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-54288cd2").then(t)}},{path:"/pages/d60068/index.html",redirect:"/pages/d60068/"},{path:"/《Electron中文文档》/api/structures/extension-info.html",redirect:"/pages/d60068/"},{name:"v-308b466e",path:"/pages/0cc765/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-308b466e").then(t)}},{path:"/pages/0cc765/index.html",redirect:"/pages/0cc765/"},{path:"/《Electron中文文档》/api/structures/file-filter.html",redirect:"/pages/0cc765/"},{name:"v-bc2fc4ee",path:"/pages/60e7dc/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-bc2fc4ee").then(t)}},{path:"/pages/60e7dc/index.html",redirect:"/pages/60e7dc/"},{path:"/《Electron中文文档》/api/structures/extension.html",redirect:"/pages/60e7dc/"},{name:"v-e2da7c3a",path:"/pages/3c246e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-e2da7c3a").then(t)}},{path:"/pages/3c246e/index.html",redirect:"/pages/3c246e/"},{path:"/《Electron中文文档》/api/structures/file-path-with-headers.html",redirect:"/pages/3c246e/"},{name:"v-240d0a8a",path:"/pages/b94c1a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-240d0a8a").then(t)}},{path:"/pages/b94c1a/index.html",redirect:"/pages/b94c1a/"},{path:"/《Electron中文文档》/api/structures/gpu-feature-status.html",redirect:"/pages/b94c1a/"},{name:"v-6d0e1e4f",path:"/pages/993c77/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6d0e1e4f").then(t)}},{path:"/pages/993c77/index.html",redirect:"/pages/993c77/"},{path:"/《Electron中文文档》/api/structures/hid-device.html",redirect:"/pages/993c77/"},{name:"v-48e813ee",path:"/pages/c7110a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-48e813ee").then(t)}},{path:"/pages/c7110a/index.html",redirect:"/pages/c7110a/"},{path:"/《Electron中文文档》/api/structures/input-event.html",redirect:"/pages/c7110a/"},{name:"v-8be846ae",path:"/pages/1cdaec/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-8be846ae").then(t)}},{path:"/pages/1cdaec/index.html",redirect:"/pages/1cdaec/"},{path:"/《Electron中文文档》/api/structures/io-counters.html",redirect:"/pages/1cdaec/"},{name:"v-755ca2a1",path:"/pages/069721/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-755ca2a1").then(t)}},{path:"/pages/069721/index.html",redirect:"/pages/069721/"},{path:"/《Electron中文文档》/api/structures/ipc-main-event.html",redirect:"/pages/069721/"},{name:"v-b29f7aae",path:"/pages/9b92b7/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-b29f7aae").then(t)}},{path:"/pages/9b92b7/index.html",redirect:"/pages/9b92b7/"},{path:"/《Electron中文文档》/api/structures/ipc-main-invoke-event.html",redirect:"/pages/9b92b7/"},{name:"v-b3f5e5e6",path:"/pages/a4a725/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-b3f5e5e6").then(t)}},{path:"/pages/a4a725/index.html",redirect:"/pages/a4a725/"},{path:"/《Electron中文文档》/api/structures/ipc-renderer-event.html",redirect:"/pages/a4a725/"},{name:"v-6b0d1149",path:"/pages/465e9a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6b0d1149").then(t)}},{path:"/pages/465e9a/index.html",redirect:"/pages/465e9a/"},{path:"/《Electron中文文档》/api/structures/jump-list-item.html",redirect:"/pages/465e9a/"},{name:"v-7745b1b3",path:"/pages/5ca0f3/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-7745b1b3").then(t)}},{path:"/pages/5ca0f3/index.html",redirect:"/pages/5ca0f3/"},{path:"/《Electron中文文档》/api/structures/jump-list-category.html",redirect:"/pages/5ca0f3/"},{name:"v-d6f6dfb2",path:"/pages/40163b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-d6f6dfb2").then(t)}},{path:"/pages/40163b/index.html",redirect:"/pages/40163b/"},{path:"/《Electron中文文档》/api/structures/keyboard-event.html",redirect:"/pages/40163b/"},{name:"v-3305c626",path:"/pages/d57aa1/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3305c626").then(t)}},{path:"/pages/d57aa1/index.html",redirect:"/pages/d57aa1/"},{path:"/《Electron中文文档》/api/structures/keyboard-input-event.html",redirect:"/pages/d57aa1/"},{name:"v-fe5f59ae",path:"/pages/001ec6/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-fe5f59ae").then(t)}},{path:"/pages/001ec6/index.html",redirect:"/pages/001ec6/"},{path:"/《Electron中文文档》/api/structures/memory-info.html",redirect:"/pages/001ec6/"},{name:"v-4834c0a9",path:"/pages/d848ab/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-4834c0a9").then(t)}},{path:"/pages/d848ab/index.html",redirect:"/pages/d848ab/"},{path:"/《Electron中文文档》/api/structures/mime-typed-buffer.html",redirect:"/pages/d848ab/"},{name:"v-d9a0338a",path:"/pages/9daa14/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-d9a0338a").then(t)}},{path:"/pages/9daa14/index.html",redirect:"/pages/9daa14/"},{path:"/《Electron中文文档》/api/structures/memory-usage-details.html",redirect:"/pages/9daa14/"},{name:"v-730b5cee",path:"/pages/a0dfaa/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-730b5cee").then(t)}},{path:"/pages/a0dfaa/index.html",redirect:"/pages/a0dfaa/"},{path:"/《Electron中文文档》/api/structures/mouse-input-event.html",redirect:"/pages/a0dfaa/"},{name:"v-af18676e",path:"/pages/5e702d/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-af18676e").then(t)}},{path:"/pages/5e702d/index.html",redirect:"/pages/5e702d/"},{path:"/《Electron中文文档》/api/structures/mouse-wheel-input-event.html",redirect:"/pages/5e702d/"},{name:"v-1c7de6ae",path:"/pages/e6a0f1/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1c7de6ae").then(t)}},{path:"/pages/e6a0f1/index.html",redirect:"/pages/e6a0f1/"},{path:"/《Electron中文文档》/api/structures/new-window-web-contents-event.html",redirect:"/pages/e6a0f1/"},{name:"v-03bc8b69",path:"/pages/94040f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-03bc8b69").then(t)}},{path:"/pages/94040f/index.html",redirect:"/pages/94040f/"},{path:"/《Electron中文文档》/api/structures/notification-action.html",redirect:"/pages/94040f/"},{name:"v-c96864ae",path:"/pages/f94917/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-c96864ae").then(t)}},{path:"/pages/f94917/index.html",redirect:"/pages/f94917/"},{path:"/《Electron中文文档》/api/structures/point.html",redirect:"/pages/f94917/"},{name:"v-6bff5b09",path:"/pages/e308cf/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6bff5b09").then(t)}},{path:"/pages/e308cf/index.html",redirect:"/pages/e308cf/"},{path:"/《Electron中文文档》/api/structures/notification-response.html",redirect:"/pages/e308cf/"},{name:"v-f06838ee",path:"/pages/35cd26/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-f06838ee").then(t)}},{path:"/pages/35cd26/index.html",redirect:"/pages/35cd26/"},{path:"/《Electron中文文档》/api/structures/post-body.html",redirect:"/pages/35cd26/"},{name:"v-646fabcd",path:"/pages/cc3754/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-646fabcd").then(t)}},{path:"/pages/cc3754/index.html",redirect:"/pages/cc3754/"},{path:"/《Electron中文文档》/api/structures/printer-info.html",redirect:"/pages/cc3754/"},{name:"v-3a6c20e9",path:"/pages/606b0f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3a6c20e9").then(t)}},{path:"/pages/606b0f/index.html",redirect:"/pages/606b0f/"},{path:"/《Electron中文文档》/api/structures/process-memory-info.html",redirect:"/pages/606b0f/"},{name:"v-61e0c51a",path:"/pages/423c4f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-61e0c51a").then(t)}},{path:"/pages/423c4f/index.html",redirect:"/pages/423c4f/"},{path:"/《Electron中文文档》/api/structures/process-metric.html",redirect:"/pages/423c4f/"},{name:"v-40eb4fee",path:"/pages/459bf8/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-40eb4fee").then(t)}},{path:"/pages/459bf8/index.html",redirect:"/pages/459bf8/"},{path:"/《Electron中文文档》/api/structures/product.html",redirect:"/pages/459bf8/"},{name:"v-2b0a719b",path:"/pages/cd4f45/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2b0a719b").then(t)}},{path:"/pages/cd4f45/index.html",redirect:"/pages/cd4f45/"},{path:"/《Electron中文文档》/api/structures/protocol-request.html",redirect:"/pages/cd4f45/"},{name:"v-e9393eee",path:"/pages/b401a9/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-e9393eee").then(t)}},{path:"/pages/b401a9/index.html",redirect:"/pages/b401a9/"},{path:"/《Electron中文文档》/api/structures/protocol-response-upload-data.html",redirect:"/pages/b401a9/"},{name:"v-2010e6e9",path:"/pages/56869d/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2010e6e9").then(t)}},{path:"/pages/56869d/index.html",redirect:"/pages/56869d/"},{path:"/《Electron中文文档》/api/structures/protocol-response.html",redirect:"/pages/56869d/"},{name:"v-5f5dc8ee",path:"/pages/a8c333/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5f5dc8ee").then(t)}},{path:"/pages/a8c333/index.html",redirect:"/pages/a8c333/"},{path:"/《Electron中文文档》/api/structures/rectangle.html",redirect:"/pages/a8c333/"},{name:"v-63c3f391",path:"/pages/c56141/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-63c3f391").then(t)}},{path:"/pages/c56141/index.html",redirect:"/pages/c56141/"},{path:"/《Electron中文文档》/api/structures/referrer.html",redirect:"/pages/c56141/"},{name:"v-05b8deae",path:"/pages/181679/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-05b8deae").then(t)}},{path:"/pages/181679/index.html",redirect:"/pages/181679/"},{path:"/《Electron中文文档》/api/structures/scrubber-item.html",redirect:"/pages/181679/"},{name:"v-471f7129",path:"/pages/9695fc/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-471f7129").then(t)}},{path:"/pages/9695fc/index.html",redirect:"/pages/9695fc/"},{path:"/《Electron中文文档》/api/structures/segmented-control-segment.html",redirect:"/pages/9695fc/"},{name:"v-37535b29",path:"/pages/d9da1b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-37535b29").then(t)}},{path:"/pages/d9da1b/index.html",redirect:"/pages/d9da1b/"},{path:"/《Electron中文文档》/api/structures/serial-port.html",redirect:"/pages/d9da1b/"},{name:"v-8dd2e16e",path:"/pages/ccb181/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-8dd2e16e").then(t)}},{path:"/pages/ccb181/index.html",redirect:"/pages/ccb181/"},{path:"/《Electron中文文档》/api/structures/service-worker-info.html",redirect:"/pages/ccb181/"},{name:"v-669d1536",path:"/pages/b71b3b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-669d1536").then(t)}},{path:"/pages/b71b3b/index.html",redirect:"/pages/b71b3b/"},{path:"/《Electron中文文档》/api/structures/shared-worker-info.html",redirect:"/pages/b71b3b/"},{name:"v-77c7574e",path:"/pages/c77422/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-77c7574e").then(t)}},{path:"/pages/c77422/index.html",redirect:"/pages/c77422/"},{path:"/《Electron中文文档》/api/structures/shortcut-details.html",redirect:"/pages/c77422/"},{name:"v-3ac7adf2",path:"/pages/a847ba/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3ac7adf2").then(t)}},{path:"/pages/a847ba/index.html",redirect:"/pages/a847ba/"},{path:"/《Electron中文文档》/api/structures/sharing-item.html",redirect:"/pages/a847ba/"},{name:"v-120245c5",path:"/pages/081015/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-120245c5").then(t)}},{path:"/pages/081015/index.html",redirect:"/pages/081015/"},{path:"/《Electron中文文档》/api/structures/task.html",redirect:"/pages/081015/"},{name:"v-714d5e66",path:"/pages/47c752/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-714d5e66").then(t)}},{path:"/pages/47c752/index.html",redirect:"/pages/47c752/"},{path:"/《Electron中文文档》/api/structures/size.html",redirect:"/pages/47c752/"},{name:"v-4128311f",path:"/pages/61f30a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-4128311f").then(t)}},{path:"/pages/61f30a/index.html",redirect:"/pages/61f30a/"},{path:"/《Electron中文文档》/api/structures/thumbar-button.html",redirect:"/pages/61f30a/"},{name:"v-4a14cad1",path:"/pages/b7e91d/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-4a14cad1").then(t)}},{path:"/pages/b7e91d/index.html",redirect:"/pages/b7e91d/"},{path:"/《Electron中文文档》/api/structures/trace-categories-and-options.html",redirect:"/pages/b7e91d/"},{name:"v-6f483f8a",path:"/pages/972b96/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6f483f8a").then(t)}},{path:"/pages/972b96/index.html",redirect:"/pages/972b96/"},{path:"/《Electron中文文档》/api/structures/trace-config.html",redirect:"/pages/972b96/"},{name:"v-56be2eae",path:"/pages/66e074/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-56be2eae").then(t)}},{path:"/pages/66e074/index.html",redirect:"/pages/66e074/"},{path:"/《Electron中文文档》/api/structures/transaction.html",redirect:"/pages/66e074/"},{name:"v-0945d1a9",path:"/pages/dcc676/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-0945d1a9").then(t)}},{path:"/pages/dcc676/index.html",redirect:"/pages/dcc676/"},{path:"/《Electron中文文档》/api/structures/upload-data.html",redirect:"/pages/dcc676/"},{name:"v-3fd9bf2e",path:"/pages/8f77ee/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3fd9bf2e").then(t)}},{path:"/pages/8f77ee/index.html",redirect:"/pages/8f77ee/"},{path:"/《Electron中文文档》/api/structures/upload-file.html",redirect:"/pages/8f77ee/"},{name:"v-053bf579",path:"/pages/972fe1/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-053bf579").then(t)}},{path:"/pages/972fe1/index.html",redirect:"/pages/972fe1/"},{path:"/《Electron中文文档》/api/structures/user-default-types.html",redirect:"/pages/972fe1/"},{name:"v-4ff9d6ee",path:"/pages/123859/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-4ff9d6ee").then(t)}},{path:"/pages/123859/index.html",redirect:"/pages/123859/"},{path:"/《Electron中文文档》/api/structures/upload-raw-data.html",redirect:"/pages/123859/"},{name:"v-3ccd199e",path:"/pages/30b49a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3ccd199e").then(t)}},{path:"/pages/30b49a/index.html",redirect:"/pages/30b49a/"},{path:"/《Electron中文文档》/api/structures/web-request-filter.html",redirect:"/pages/30b49a/"},{name:"v-d8a438b2",path:"/pages/d5cdb2/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-d8a438b2").then(t)}},{path:"/pages/d5cdb2/index.html",redirect:"/pages/d5cdb2/"},{path:"/《Electron中文文档》/api/structures/web-source.html",redirect:"/pages/d5cdb2/"},{name:"v-6a8d8996",path:"/pages/1ac236/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6a8d8996").then(t)}},{path:"/pages/1ac236/index.html",redirect:"/pages/1ac236/"},{path:"/《Electron中文文档》/api/synopsis.html",redirect:"/pages/1ac236/"},{name:"v-083d8456",path:"/pages/41d57b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-083d8456").then(t)}},{path:"/pages/41d57b/index.html",redirect:"/pages/41d57b/"},{path:"/《Electron中文文档》/api/touch-bar-button.html",redirect:"/pages/41d57b/"},{name:"v-029c4bd4",path:"/pages/89769b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-029c4bd4").then(t)}},{path:"/pages/89769b/index.html",redirect:"/pages/89769b/"},{path:"/《Electron中文文档》/api/touch-bar-color-picker.html",redirect:"/pages/89769b/"},{name:"v-ec1b6254",path:"/pages/625e5c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-ec1b6254").then(t)}},{path:"/pages/625e5c/index.html",redirect:"/pages/625e5c/"},{path:"/《Electron中文文档》/api/system-preferences.html",redirect:"/pages/625e5c/"},{name:"v-a39d7268",path:"/pages/cfdeed/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-a39d7268").then(t)}},{path:"/pages/cfdeed/index.html",redirect:"/pages/cfdeed/"},{path:"/《Electron中文文档》/api/touch-bar-group.html",redirect:"/pages/cfdeed/"},{name:"v-5d8a843c",path:"/pages/784373/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5d8a843c").then(t)}},{path:"/pages/784373/index.html",redirect:"/pages/784373/"},{path:"/《Electron中文文档》/api/touch-bar-label.html",redirect:"/pages/784373/"},{name:"v-22512ffc",path:"/pages/961e88/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-22512ffc").then(t)}},{path:"/pages/961e88/index.html",redirect:"/pages/961e88/"},{path:"/《Electron中文文档》/api/touch-bar-other-items-proxy.html",redirect:"/pages/961e88/"},{name:"v-e4a8fc80",path:"/pages/b6bfb8/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-e4a8fc80").then(t)}},{path:"/pages/b6bfb8/index.html",redirect:"/pages/b6bfb8/"},{path:"/《Electron中文文档》/api/touch-bar-popover.html",redirect:"/pages/b6bfb8/"},{name:"v-5f4de1d4",path:"/pages/ff977a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5f4de1d4").then(t)}},{path:"/pages/ff977a/index.html",redirect:"/pages/ff977a/"},{path:"/《Electron中文文档》/api/touch-bar-scrubber.html",redirect:"/pages/ff977a/"},{name:"v-4990f536",path:"/pages/bb34e4/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-4990f536").then(t)}},{path:"/pages/bb34e4/index.html",redirect:"/pages/bb34e4/"},{path:"/《Electron中文文档》/api/touch-bar-slider.html",redirect:"/pages/bb34e4/"},{name:"v-60043f86",path:"/pages/02bdb4/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-60043f86").then(t)}},{path:"/pages/02bdb4/index.html",redirect:"/pages/02bdb4/"},{path:"/《Electron中文文档》/api/touch-bar-segmented-control.html",redirect:"/pages/02bdb4/"},{name:"v-b98b34d4",path:"/pages/131201/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-b98b34d4").then(t)}},{path:"/pages/131201/index.html",redirect:"/pages/131201/"},{path:"/《Electron中文文档》/api/touch-bar-spacer.html",redirect:"/pages/131201/"},{name:"v-5f08fad6",path:"/pages/042bbc/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5f08fad6").then(t)}},{path:"/pages/042bbc/index.html",redirect:"/pages/042bbc/"},{path:"/《Electron中文文档》/api/tray.html",redirect:"/pages/042bbc/"},{name:"v-2ef47f20",path:"/pages/c2621e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2ef47f20").then(t)}},{path:"/pages/c2621e/index.html",redirect:"/pages/c2621e/"},{path:"/《Electron中文文档》/api/touch-bar.html",redirect:"/pages/c2621e/"},{name:"v-baca0a54",path:"/pages/181cb7/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-baca0a54").then(t)}},{path:"/pages/181cb7/index.html",redirect:"/pages/181cb7/"},{path:"/《Electron中文文档》/api/web-frame-main.html",redirect:"/pages/181cb7/"},{name:"v-38b73014",path:"/pages/372b1d/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-38b73014").then(t)}},{path:"/pages/372b1d/index.html",redirect:"/pages/372b1d/"},{path:"/《Electron中文文档》/api/web-contents.html",redirect:"/pages/372b1d/"},{name:"v-ae32825c",path:"/pages/512ebb/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-ae32825c").then(t)}},{path:"/pages/512ebb/index.html",redirect:"/pages/512ebb/"},{path:"/《Electron中文文档》/api/web-frame.html",redirect:"/pages/512ebb/"},{name:"v-4a5a380e",path:"/pages/7a64fe/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-4a5a380e").then(t)}},{path:"/pages/7a64fe/index.html",redirect:"/pages/7a64fe/"},{path:"/《Electron中文文档》/api/web-request.html",redirect:"/pages/7a64fe/"},{name:"v-ac273aa4",path:"/pages/30d795/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-ac273aa4").then(t)}},{path:"/pages/30d795/index.html",redirect:"/pages/30d795/"},{path:"/《Electron中文文档》/api/webview-tag.html",redirect:"/pages/30d795/"},{name:"v-b71bf4a8",path:"/pages/3e739c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-b71bf4a8").then(t)}},{path:"/pages/3e739c/index.html",redirect:"/pages/3e739c/"},{path:"/《Electron中文文档》/api/window-open.html",redirect:"/pages/3e739c/"},{name:"v-f36a4056",path:"/pages/5b6ad3/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-f36a4056").then(t)}},{path:"/pages/5b6ad3/index.html",redirect:"/pages/5b6ad3/"},{path:"/《Electron中文文档》/development/",redirect:"/pages/5b6ad3/"},{name:"v-6c588de9",path:"/pages/a0cca8/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6c588de9").then(t)}},{path:"/pages/a0cca8/index.html",redirect:"/pages/a0cca8/"},{path:"/《Electron中文文档》/breaking-changes.html",redirect:"/pages/a0cca8/"},{name:"v-77d89496",path:"/pages/d2f4a6/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-77d89496").then(t)}},{path:"/pages/d2f4a6/index.html",redirect:"/pages/d2f4a6/"},{path:"/《Electron中文文档》/development/azure-vm-setup.html",redirect:"/pages/d2f4a6/"},{name:"v-b44c3050",path:"/pages/13e47e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-b44c3050").then(t)}},{path:"/pages/13e47e/index.html",redirect:"/pages/13e47e/"},{path:"/《Electron中文文档》/development/build-instructions-gn.html",redirect:"/pages/13e47e/"},{name:"v-c1f83154",path:"/pages/a0636a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-c1f83154").then(t)}},{path:"/pages/a0636a/index.html",redirect:"/pages/a0636a/"},{path:"/《Electron中文文档》/development/build-instructions-linux.html",redirect:"/pages/a0636a/"},{name:"v-a8d8b794",path:"/pages/3882bf/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-a8d8b794").then(t)}},{path:"/pages/3882bf/index.html",redirect:"/pages/3882bf/"},{path:"/《Electron中文文档》/development/build-instructions-macos.html",redirect:"/pages/3882bf/"},{name:"v-dbd4f394",path:"/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-dbd4f394").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-7a5660f6",path:"/pages/0cc203/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-7a5660f6").then(t)}},{path:"/pages/0cc203/index.html",redirect:"/pages/0cc203/"},{path:"/《Electron中文文档》/development/build-instructions-windows.html",redirect:"/pages/0cc203/"},{name:"v-220fa348",path:"/pages/48bb56/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-220fa348").then(t)}},{path:"/pages/48bb56/index.html",redirect:"/pages/48bb56/"},{path:"/《Electron中文文档》/development/build-system-overview.html",redirect:"/pages/48bb56/"},{name:"v-b7125e14",path:"/pages/ce709a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-b7125e14").then(t)}},{path:"/pages/ce709a/index.html",redirect:"/pages/ce709a/"},{path:"/《Electron中文文档》/development/chromium-development.html",redirect:"/pages/ce709a/"},{name:"v-2a5a7956",path:"/pages/40bd27/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2a5a7956").then(t)}},{path:"/pages/40bd27/index.html",redirect:"/pages/40bd27/"},{path:"/《Electron中文文档》/development/clang-format.html",redirect:"/pages/40bd27/"},{name:"v-dc6b0d14",path:"/pages/d11403/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-dc6b0d14").then(t)}},{path:"/pages/d11403/index.html",redirect:"/pages/d11403/"},{path:"/《Electron中文文档》/development/clang-tidy.html",redirect:"/pages/d11403/"},{name:"v-5f406e36",path:"/pages/53d5b7/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5f406e36").then(t)}},{path:"/pages/53d5b7/index.html",redirect:"/pages/53d5b7/"},{path:"/《Electron中文文档》/development/coding-style.html",redirect:"/pages/53d5b7/"},{name:"v-660ca696",path:"/pages/7a4b62/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-660ca696").then(t)}},{path:"/pages/7a4b62/index.html",redirect:"/pages/7a4b62/"},{path:"/《Electron中文文档》/development/debug-instructions-windows.html",redirect:"/pages/7a4b62/"},{name:"v-6d189af6",path:"/pages/5cb012/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6d189af6").then(t)}},{path:"/pages/5cb012/index.html",redirect:"/pages/5cb012/"},{path:"/《Electron中文文档》/development/debugging-instructions-macos-xcode.html",redirect:"/pages/5cb012/"},{name:"v-d25e5c94",path:"/pages/bd3f59/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-d25e5c94").then(t)}},{path:"/pages/bd3f59/index.html",redirect:"/pages/bd3f59/"},{path:"/《Electron中文文档》/development/debugging-instructions-macos.html",redirect:"/pages/bd3f59/"},{name:"v-594c0a54",path:"/pages/2c4778/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-594c0a54").then(t)}},{path:"/pages/2c4778/index.html",redirect:"/pages/2c4778/"},{path:"/《Electron中文文档》/development/electron-vs-nwjs.html",redirect:"/pages/2c4778/"},{name:"v-0fab7c14",path:"/pages/d94ccf/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-0fab7c14").then(t)}},{path:"/pages/d94ccf/index.html",redirect:"/pages/d94ccf/"},{path:"/《Electron中文文档》/development/goma.html",redirect:"/pages/d94ccf/"},{name:"v-a11bcd14",path:"/pages/b8c213/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-a11bcd14").then(t)}},{path:"/pages/b8c213/index.html",redirect:"/pages/b8c213/"},{path:"/《Electron中文文档》/development/issues.html",redirect:"/pages/b8c213/"},{name:"v-70ccebe8",path:"/pages/c7b207/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-70ccebe8").then(t)}},{path:"/pages/c7b207/index.html",redirect:"/pages/c7b207/"},{path:"/《Electron中文文档》/development/patches.html",redirect:"/pages/c7b207/"},{name:"v-7df0a2c0",path:"/pages/1396b2/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-7df0a2c0").then(t)}},{path:"/pages/1396b2/index.html",redirect:"/pages/1396b2/"},{path:"/《Electron中文文档》/development/pull-requests.html",redirect:"/pages/1396b2/"},{name:"v-37513354",path:"/pages/803acc/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-37513354").then(t)}},{path:"/pages/803acc/index.html",redirect:"/pages/803acc/"},{path:"/《Electron中文文档》/development/setting-up-symbol-server.html",redirect:"/pages/803acc/"},{name:"v-a2900ea4",path:"/pages/38b362/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-a2900ea4").then(t)}},{path:"/pages/38b362/index.html",redirect:"/pages/38b362/"},{path:"/《Electron中文文档》/development/source-code-directory-structure.html",redirect:"/pages/38b362/"},{name:"v-3b23a850",path:"/pages/fd75d4/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3b23a850").then(t)}},{path:"/pages/fd75d4/index.html",redirect:"/pages/fd75d4/"},{path:"/《Electron中文文档》/development/testing.html",redirect:"/pages/fd75d4/"},{name:"v-d9a2ae94",path:"/pages/29df8e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-d9a2ae94").then(t)}},{path:"/pages/29df8e/index.html",redirect:"/pages/29df8e/"},{path:"/《Electron中文文档》/development/v8-development.html",redirect:"/pages/29df8e/"},{name:"v-1d2360c9",path:"/pages/9c267a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1d2360c9").then(t)}},{path:"/pages/9c267a/index.html",redirect:"/pages/9c267a/"},{path:"/《Electron中文文档》/experimental.html",redirect:"/pages/9c267a/"},{name:"v-164abd37",path:"/pages/7f77c2/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-164abd37").then(t)}},{path:"/pages/7f77c2/index.html",redirect:"/pages/7f77c2/"},{path:"/《Electron中文文档》/faq.html",redirect:"/pages/7f77c2/"},{name:"v-a0419dee",path:"/pages/d72bbc/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-a0419dee").then(t)}},{path:"/pages/d72bbc/index.html",redirect:"/pages/d72bbc/"},{path:"/《Electron中文文档》/glossary.html",redirect:"/pages/d72bbc/"},{name:"v-777d0d29",path:"/pages/22c8c5/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-777d0d29").then(t)}},{path:"/pages/22c8c5/index.html",redirect:"/pages/22c8c5/"},{path:"/《Electron中文文档》/styleguide.html",redirect:"/pages/22c8c5/"},{name:"v-652a4738",path:"/pages/72d32c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-652a4738").then(t)}},{path:"/pages/72d32c/index.html",redirect:"/pages/72d32c/"},{path:"/《Electron中文文档》/",redirect:"/pages/72d32c/"},{name:"v-ed50dac8",path:"/pages/9d9546/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-ed50dac8").then(t)}},{path:"/pages/9d9546/index.html",redirect:"/pages/9d9546/"},{path:"/《Electron中文文档》/tutorial/accessibility.html",redirect:"/pages/9d9546/"},{name:"v-174c319c",path:"/pages/e50d38/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-174c319c").then(t)}},{path:"/pages/e50d38/index.html",redirect:"/pages/e50d38/"},{path:"/《Electron中文文档》/tutorial/application-distribution.html",redirect:"/pages/e50d38/"},{name:"v-5b5dc388",path:"/pages/afc8ea/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5b5dc388").then(t)}},{path:"/pages/afc8ea/index.html",redirect:"/pages/afc8ea/"},{path:"/《Electron中文文档》/tutorial/application-debugging.html",redirect:"/pages/afc8ea/"},{name:"v-1ca8f3de",path:"/pages/644b78/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1ca8f3de").then(t)}},{path:"/pages/644b78/index.html",redirect:"/pages/644b78/"},{path:"/《Electron中文文档》/tutorial/automated-testing-with-a-custom-driver.html",redirect:"/pages/644b78/"},{name:"v-42a2f4dc",path:"/pages/5f1055/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-42a2f4dc").then(t)}},{path:"/pages/5f1055/index.html",redirect:"/pages/5f1055/"},{path:"/《Electron中文文档》/tutorial/boilerplates-and-clis.html",redirect:"/pages/5f1055/"},{name:"v-631469ac",path:"/pages/79a080/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-631469ac").then(t)}},{path:"/pages/79a080/index.html",redirect:"/pages/79a080/"},{path:"/《Electron中文文档》/tutorial/code-signing.html",redirect:"/pages/79a080/"},{name:"v-74a6f75c",path:"/pages/28e368/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-74a6f75c").then(t)}},{path:"/pages/28e368/index.html",redirect:"/pages/28e368/"},{path:"/《Electron中文文档》/tutorial/context-isolation.html",redirect:"/pages/28e368/"},{name:"v-2e78cb1c",path:"/pages/6c268a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2e78cb1c").then(t)}},{path:"/pages/6c268a/index.html",redirect:"/pages/6c268a/"},{path:"/《Electron中文文档》/tutorial/dark-mode.html",redirect:"/pages/6c268a/"},{name:"v-97587600",path:"/pages/f9f8ff/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-97587600").then(t)}},{path:"/pages/f9f8ff/index.html",redirect:"/pages/f9f8ff/"},{path:"/《Electron中文文档》/tutorial/debugging-main-process.html",redirect:"/pages/f9f8ff/"},{name:"v-2fb63222",path:"/pages/c25a19/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2fb63222").then(t)}},{path:"/pages/c25a19/index.html",redirect:"/pages/c25a19/"},{path:"/《Electron中文文档》/tutorial/debugging-vscode.html",redirect:"/pages/c25a19/"},{name:"v-6c1f86fc",path:"/pages/dbd08b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6c1f86fc").then(t)}},{path:"/pages/dbd08b/index.html",redirect:"/pages/dbd08b/"},{path:"/《Electron中文文档》/tutorial/devices.html",redirect:"/pages/dbd08b/"},{name:"v-2be4a934",path:"/pages/375e96/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2be4a934").then(t)}},{path:"/pages/375e96/index.html",redirect:"/pages/375e96/"},{path:"/《Electron中文文档》/tutorial/electron-timelines.html",redirect:"/pages/375e96/"},{name:"v-7d682484",path:"/pages/da9606/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-7d682484").then(t)}},{path:"/pages/da9606/index.html",redirect:"/pages/da9606/"},{path:"/《Electron中文文档》/tutorial/devtools-extension.html",redirect:"/pages/da9606/"},{name:"v-be795108",path:"/pages/09695e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-be795108").then(t)}},{path:"/pages/09695e/index.html",redirect:"/pages/09695e/"},{path:"/《Electron中文文档》/tutorial/electron-versioning.html",redirect:"/pages/09695e/"},{name:"v-f6d3c3c8",path:"/pages/aa75da/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-f6d3c3c8").then(t)}},{path:"/pages/aa75da/index.html",redirect:"/pages/aa75da/"},{path:"/《Electron中文文档》/tutorial/fuses.html",redirect:"/pages/aa75da/"},{name:"v-2c1a6138",path:"/pages/4149a6/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2c1a6138").then(t)}},{path:"/pages/4149a6/index.html",redirect:"/pages/4149a6/"},{path:"/《Electron中文文档》/tutorial/in-app-purchases.html",redirect:"/pages/4149a6/"},{name:"v-dca5f300",path:"/pages/ec4a95/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-dca5f300").then(t)}},{path:"/pages/ec4a95/index.html",redirect:"/pages/ec4a95/"},{path:"/《Electron中文文档》/tutorial/introduction.html",redirect:"/pages/ec4a95/"},{name:"v-ccf3fb80",path:"/pages/de1dc9/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-ccf3fb80").then(t)}},{path:"/pages/de1dc9/index.html",redirect:"/pages/de1dc9/"},{path:"/《Electron中文文档》/tutorial/installation.html",redirect:"/pages/de1dc9/"},{name:"v-3dd7a2a6",path:"/pages/bac63f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3dd7a2a6").then(t)}},{path:"/pages/bac63f/index.html",redirect:"/pages/bac63f/"},{path:"/《Electron中文文档》/tutorial/keyboard-shortcuts.html",redirect:"/pages/bac63f/"},{name:"v-3850bac0",path:"/pages/0a7ba5/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3850bac0").then(t)}},{path:"/pages/0a7ba5/index.html",redirect:"/pages/0a7ba5/"},{path:"/《Electron中文文档》/tutorial/launch-app-from-url-in-another-app.html",redirect:"/pages/0a7ba5/"},{name:"v-460e5408",path:"/pages/ba795b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-460e5408").then(t)}},{path:"/pages/ba795b/index.html",redirect:"/pages/ba795b/"},{path:"/《Electron中文文档》/tutorial/linux-desktop-actions.html",redirect:"/pages/ba795b/"},{name:"v-10482bdc",path:"/pages/e8cdfc/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-10482bdc").then(t)}},{path:"/pages/e8cdfc/index.html",redirect:"/pages/e8cdfc/"},{path:"/《Electron中文文档》/tutorial/mac-app-store-submission-guide.html",redirect:"/pages/e8cdfc/"},{name:"v-79119bcc",path:"/pages/eb53d4/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-79119bcc").then(t)}},{path:"/pages/eb53d4/index.html",redirect:"/pages/eb53d4/"},{path:"/《Electron中文文档》/tutorial/macos-dock.html",redirect:"/pages/eb53d4/"},{name:"v-1e7c9e48",path:"/pages/6c7d5c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-1e7c9e48").then(t)}},{path:"/pages/6c7d5c/index.html",redirect:"/pages/6c7d5c/"},{path:"/《Electron中文文档》/tutorial/message-ports.html",redirect:"/pages/6c7d5c/"},{name:"v-2fc3d436",path:"/pages/286d06/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2fc3d436").then(t)}},{path:"/pages/286d06/index.html",redirect:"/pages/286d06/"},{path:"/《Electron中文文档》/tutorial/multithreading.html",redirect:"/pages/286d06/"},{name:"v-67e4aa88",path:"/pages/860cdb/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-67e4aa88").then(t)}},{path:"/pages/860cdb/index.html",redirect:"/pages/860cdb/"},{path:"/《Electron中文文档》/tutorial/native-file-drag-drop.html",redirect:"/pages/860cdb/"},{name:"v-28a5295c",path:"/pages/8e4b6f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-28a5295c").then(t)}},{path:"/pages/8e4b6f/index.html",redirect:"/pages/8e4b6f/"},{path:"/《Electron中文文档》/tutorial/notifications.html",redirect:"/pages/8e4b6f/"},{name:"v-34cc2c1c",path:"/pages/48fe5f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-34cc2c1c").then(t)}},{path:"/pages/48fe5f/index.html",redirect:"/pages/48fe5f/"},{path:"/《Electron中文文档》/tutorial/offscreen-rendering.html",redirect:"/pages/48fe5f/"},{name:"v-321cf4bc",path:"/pages/f11f86/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-321cf4bc").then(t)}},{path:"/pages/f11f86/index.html",redirect:"/pages/f11f86/"},{path:"/《Electron中文文档》/tutorial/online-offline-events.html",redirect:"/pages/f11f86/"},{name:"v-61b1b0dc",path:"/pages/40e830/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-61b1b0dc").then(t)}},{path:"/pages/40e830/index.html",redirect:"/pages/40e830/"},{path:"/《Electron中文文档》/tutorial/performance.html",redirect:"/pages/40e830/"},{name:"v-6527a7fc",path:"/pages/a4b14a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-6527a7fc").then(t)}},{path:"/pages/a4b14a/index.html",redirect:"/pages/a4b14a/"},{path:"/《Electron中文文档》/tutorial/process-model.html",redirect:"/pages/a4b14a/"},{name:"v-672e500e",path:"/pages/4700e9/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-672e500e").then(t)}},{path:"/pages/4700e9/index.html",redirect:"/pages/4700e9/"},{path:"/《Electron中文文档》/tutorial/progress-bar.html",redirect:"/pages/4700e9/"},{name:"v-3cebb51c",path:"/pages/92691e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3cebb51c").then(t)}},{path:"/pages/92691e/index.html",redirect:"/pages/92691e/"},{path:"/《Electron中文文档》/tutorial/quick-start.html",redirect:"/pages/92691e/"},{name:"v-3618d428",path:"/pages/42ce1a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-3618d428").then(t)}},{path:"/pages/42ce1a/index.html",redirect:"/pages/42ce1a/"},{path:"/《Electron中文文档》/tutorial/recent-documents.html",redirect:"/pages/42ce1a/"},{name:"v-2a0a47d4",path:"/pages/eb2daa/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2a0a47d4").then(t)}},{path:"/pages/eb2daa/index.html",redirect:"/pages/eb2daa/"},{path:"/《Electron中文文档》/tutorial/repl.html",redirect:"/pages/eb2daa/"},{name:"v-167d1130",path:"/pages/f37a5f/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-167d1130").then(t)}},{path:"/pages/f37a5f/index.html",redirect:"/pages/f37a5f/"},{path:"/《Electron中文文档》/tutorial/represented-file.html",redirect:"/pages/f37a5f/"},{name:"v-bf418988",path:"/pages/becd5c/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-bf418988").then(t)}},{path:"/pages/becd5c/index.html",redirect:"/pages/becd5c/"},{path:"/《Electron中文文档》/tutorial/sandbox.html",redirect:"/pages/becd5c/"},{name:"v-f9d90298",path:"/pages/d330c8/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-f9d90298").then(t)}},{path:"/pages/d330c8/index.html",redirect:"/pages/d330c8/"},{path:"/《Electron中文文档》/tutorial/security.html",redirect:"/pages/d330c8/"},{name:"v-2d3f34c8",path:"/pages/a0f3c3/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2d3f34c8").then(t)}},{path:"/pages/a0f3c3/index.html",redirect:"/pages/a0f3c3/"},{path:"/《Electron中文文档》/tutorial/snapcraft.html",redirect:"/pages/a0f3c3/"},{name:"v-a52dd74c",path:"/pages/8be765/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-a52dd74c").then(t)}},{path:"/pages/8be765/index.html",redirect:"/pages/8be765/"},{path:"/《Electron中文文档》/tutorial/spellchecker.html",redirect:"/pages/8be765/"},{name:"v-0c59c83c",path:"/pages/d8fa9d/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-0c59c83c").then(t)}},{path:"/pages/d8fa9d/index.html",redirect:"/pages/d8fa9d/"},{path:"/《Electron中文文档》/tutorial/support.html",redirect:"/pages/d8fa9d/"},{name:"v-060fb43c",path:"/pages/a66921/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-060fb43c").then(t)}},{path:"/pages/a66921/index.html",redirect:"/pages/a66921/"},{path:"/《Electron中文文档》/tutorial/testing-on-headless-ci.html",redirect:"/pages/a66921/"},{name:"v-5b0b0cfc",path:"/pages/20036a/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-5b0b0cfc").then(t)}},{path:"/pages/20036a/index.html",redirect:"/pages/20036a/"},{path:"/《Electron中文文档》/tutorial/testing-widevine-cdm.html",redirect:"/pages/20036a/"},{name:"v-0ee4541c",path:"/pages/8ac520/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-0ee4541c").then(t)}},{path:"/pages/8ac520/index.html",redirect:"/pages/8ac520/"},{path:"/《Electron中文文档》/tutorial/updates.html",redirect:"/pages/8ac520/"},{name:"v-369a9b48",path:"/pages/b4c243/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-369a9b48").then(t)}},{path:"/pages/b4c243/index.html",redirect:"/pages/b4c243/"},{path:"/《Electron中文文档》/tutorial/tray.html",redirect:"/pages/b4c243/"},{name:"v-053ffc88",path:"/pages/0023b3/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-053ffc88").then(t)}},{path:"/pages/0023b3/index.html",redirect:"/pages/0023b3/"},{path:"/《Electron中文文档》/tutorial/using-native-node-modules.html",redirect:"/pages/0023b3/"},{name:"v-d6e377c8",path:"/pages/79d4df/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-d6e377c8").then(t)}},{path:"/pages/79d4df/index.html",redirect:"/pages/79d4df/"},{path:"/《Electron中文文档》/tutorial/using-pepper-flash-plugin.html",redirect:"/pages/79d4df/"},{name:"v-2e2015b4",path:"/pages/798c49/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2e2015b4").then(t)}},{path:"/pages/798c49/index.html",redirect:"/pages/798c49/"},{path:"/《Electron中文文档》/tutorial/using-selenium-and-webdriver.html",redirect:"/pages/798c49/"},{name:"v-2182af48",path:"/pages/878fb7/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2182af48").then(t)}},{path:"/pages/878fb7/index.html",redirect:"/pages/878fb7/"},{path:"/《Electron中文文档》/tutorial/windows-taskbar.html",redirect:"/pages/878fb7/"},{name:"v-07ee08cf",path:"/pages/c77e3b/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-07ee08cf").then(t)}},{path:"/pages/c77e3b/index.html",redirect:"/pages/c77e3b/"},{path:"/《JavaScript教程》笔记/JavaScript 中搜索数组元素.html",redirect:"/pages/c77e3b/"},{name:"v-47760738",path:"/pages/2bebc1/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-47760738").then(t)}},{path:"/pages/2bebc1/index.html",redirect:"/pages/2bebc1/"},{path:"/《JavaScript教程》笔记/js事件.html",redirect:"/pages/2bebc1/"},{name:"v-d7c389aa",path:"/pages/8f7083/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-d7c389aa").then(t)}},{path:"/pages/8f7083/index.html",redirect:"/pages/8f7083/"},{path:"/《JavaScript教程》笔记/js读取文件.html",redirect:"/pages/8f7083/"},{name:"v-62f711c8",path:"/pages/5b55e4/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-62f711c8").then(t)}},{path:"/pages/5b55e4/index.html",redirect:"/pages/5b55e4/"},{path:"/《Electron中文文档》/tutorial/windows-arm.html",redirect:"/pages/5b55e4/"},{name:"v-271d449a",path:"/pages/b7708e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-271d449a").then(t)}},{path:"/pages/b7708e/index.html",redirect:"/pages/b7708e/"},{path:"/《JavaScript教程》笔记/nodejs的基本用法.html",redirect:"/pages/b7708e/"},{name:"v-fb044f08",path:"/pages/170433/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-fb044f08").then(t)}},{path:"/pages/170433/index.html",redirect:"/pages/170433/"},{path:"/《TypeScript 》笔记/TypeScript 的基本使用.html",redirect:"/pages/170433/"},{name:"v-2ba1ace4",path:"/pages/2289bc/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-2ba1ace4").then(t)}},{path:"/pages/2289bc/index.html",redirect:"/pages/2289bc/"},{path:"/《Vue》笔记/99.其他/electron-vue的基本使用.html",redirect:"/pages/2289bc/"},{name:"v-433d799c",path:"/pages/814555/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-433d799c").then(t)}},{path:"/pages/814555/index.html",redirect:"/pages/814555/"},{path:"/《Electron中文文档》/tutorial/windows-store-guide.html",redirect:"/pages/814555/"},{name:"v-d056ec78",path:"/pages/8e4f2e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-d056ec78").then(t)}},{path:"/pages/8e4f2e/index.html",redirect:"/pages/8e4f2e/"},{path:"/《Vue》笔记/99.其他/Ant Design Vue的基本使用.html",redirect:"/pages/8e4f2e/"},{name:"v-cdd00072",path:"/pages/017a70/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-cdd00072").then(t)}},{path:"/pages/017a70/index.html",redirect:"/pages/017a70/"},{path:"/课堂笔记/《Electron免费视频教程-从基础到实战》[技术胖].html",redirect:"/pages/017a70/"},{name:"v-0cd45fa4",path:"/pages/18ce1e/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-0cd45fa4").then(t)}},{path:"/pages/18ce1e/index.html",redirect:"/pages/18ce1e/"},{path:"/课堂笔记/《Electron超详细实战开发教程》[老陈打码].html",redirect:"/pages/18ce1e/"},{name:"v-958b6fe4",path:"/pages/eabf78/",component:il,beforeEnter:function(e,n,t){Va("Layout","v-958b6fe4").then(t)}},{path:"/pages/eabf78/index.html",redirect:"/pages/eabf78/"},{path:"/《Electron中文文档》/tutorial/web-embeds.html",redirect:"/pages/eabf78/"},{path:"*",component:il}],sl={title:"",description:"",base:"/",headTags:[["link",{rel:"icon",href:"/img/favicon.ico"}],["meta",{name:"keywords",content:"前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown"}],["meta",{name:"baidu-site-verification",content:"7F55weZDDc"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"Hugo搭建博客网站",frontmatter:{title:"Hugo搭建博客网站",date:"2022-04-07T10:56:03.000Z",tags:["Hugo"],author:"lixuwen",permalink:"/pages/5e2e48/",sidebar:"auto",categories:["随笔"]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/Hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99.html",relativePath:"_posts/随笔/Hugo搭建博客网站.md",key:"v-79b43964",path:"/pages/5e2e48/",headers:[{level:3,title:"Hugo中文文档(https://www.gohugo.org/)",slug:"hugo中文文档-https-www-gohugo-org",normalizedTitle:"hugo中文文档(https://www.gohugo.org/)",charIndex:2},{level:3,title:"下载配置环境",slug:"下载配置环境",normalizedTitle:"下载配置环境",charIndex:87},{level:3,title:"生成站点",slug:"生成站点",normalizedTitle:"生成站点",charIndex:257},{level:3,title:"文章头部信息",slug:"文章头部信息",normalizedTitle:"文章头部信息",charIndex:321},{level:3,title:"创建文章",slug:"创建文章",normalizedTitle:"创建文章",charIndex:788},{level:3,title:"示例网站",slug:"示例网站",normalizedTitle:"示例网站",charIndex:1375},{level:3,title:"运行Hugo",slug:"运行hugo",normalizedTitle:"运行hugo",charIndex:1412},{level:3,title:"部署",slug:"部署",normalizedTitle:"部署",charIndex:1725},{level:3,title:"使用 GitHub Action 自动发布文章",slug:"使用-github-action-自动发布文章",normalizedTitle:"使用 github action 自动发布文章",charIndex:2218},{level:3,title:"修改主题",slug:"修改主题",normalizedTitle:"修改主题",charIndex:2490}],headersStr:"Hugo中文文档(https://www.gohugo.org/) 下载配置环境 生成站点 文章头部信息 创建文章 示例网站 运行Hugo 部署 使用 GitHub Action 自动发布文章 修改主题",content:'# Hugo中文文档(https://www.gohugo.org/)\n\nHugo Releases\n\nhugo_0.96.0_Linux-64bit.tar.gz\n\n\n# 下载配置环境\n\n// windows\n//下载hugo_0.96.0_Windows-64bit.zip并解压至E:\\move_software\\hugo\nsetx  /m "path" "E:\\move_software\\hugo;%path%" \nexit\nhugo version\n\nE:\\\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 生成站点\n\nhugo new site E:\\hugoSite\ncd E:\\hugoSite && E:\n\n\n1\n2\n\n\n\n# 文章头部信息\n\narchetypes\\default.md\n\ntitle: "{{ replace .Name "-" " " | title }}"\ndate: {{ .Date }}\nlastmod: {{ .Date }}\ntags: []\n\ndescription: ""\ncategories: []\nkeywords: []\nauthor: "wenxuli"\ncomment: true\ntoc: true\nautoCollapseToc: true\npostMetaInFooter: false\nhiddenFromHomePage: false\ncontentCopyright: true\nreward: true\nmathjax: true\nmathjaxEnableSingleDollar: false\nmathjaxEnableAutoNumber: false\ndraft: true\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 创建文章\n\n// 创建一个 about 页面：\nhugo new about.md\n// 创建第一篇文章，放到 post 目录，方便之后生成聚合页面。\nhugo new post/first.md\n\n\n\n1\n2\n3\n4\n5\n\n\n主题theme\n\ngithub-hugo-themes\n\n\n\n\n\n//hugo-theme-learn\ngit clone https://github.com/matcornic/hugo-theme-learn.git  themes/hugo-theme-learn\nhugo server  --buildDrafts --theme=hugo-theme-learn\n\n//hugo-theme-even\ngit clone https://github.com/olOwOlo/hugo-theme-even themes/even\nhugo server  --buildDrafts --theme=even\ncopy config.toml config.toml.copy\ncopy themes\\even\\exampleSite\\config.toml  config.toml /y\n//复原copy config.toml.copy config.toml /y\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 示例网站\n\nhttps://peteraba.com/\n\n\n1\n\n\n\n# 运行Hugo\n\n在你的站点根目录执行 Hugo 命令进行调试：\n\ncd ../\nhugo server --theme=hugo-PaperMod --buildDrafts\n\n// hugo server --theme=hyde --buildDrafts\n// hugo server --theme=twentyfourteen --buildDrafts\n// hugo server --theme=hugo-redlounge --buildDrafts\n// hugo server --theme=hugo-h5bp-simple --buildDrafts\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 部署\n\nhugo --theme=hugo-theme-learn --baseUrl=http://wenxuli2.github.io/"\n// hugo --theme=hyde --baseUrl="http://coderzh.github.io/"\n// hugo --theme=hugo-PaperMod --baseUrl="http://wenxuli2.github.io/"\n\n\n1\n2\n3\n\n\n如果一切顺利，所有静态页面都会生成到 public 目录，将pubilc目录里所有文件 push 到刚创建的Repository的 master 分支。\n\ncd public\ngit init\ngit remote add origin git@github.com:wenxuli2/wenxuli2.github.io.git\ngit add -A\ngit commit -m "first commit"\ngit push -u origin master\n// http://wenxuli2.github.io/\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 使用 GitHub Action 自动发布文章\n\n1.在 GitHub 上的个人网站仓库 kinredon.github.io 新建 source 分支\n\n2.清除文件夹 kinredon.github.io 中的内容，并将个人网站 quickstart 中的所有内容 copy 到 kinredon.github.io ：\n\n3.生成 ACTIONS_DEPLOY_KEY\n\nssh-keygen -t rsa -b 4096 -C "$(git config user.email)" -f gh-pages -N ""\n\n\n1\n\n\n\n# 修改主题\n\n1.修改侧边图片\nthemes\\hugo-theme-learn\\layouts\\partials\\logo.html\n<img src="images/asideImg.webp" alt="" id="grav-logo">\n    \x3c!-- <svg id="grav-logo" style="width:100%; height:100%;" viewBox="0 0 504 140" version="1.1" ....\n2.不喜欢粉红色\nthemes\\hugo-theme-learn\\static\\css\\theme.css\n\\#header-wrapper \n  /* background: #8451a1; */\n  background: #333333;\n将9c6fb6 替换为 2bb0ff\n# themes\\hugo-theme-learn\\layouts\\partials\\home.html\nhref="/home" 改 href="/home"\n<li><a class="padding" href="/home" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> {{T "Clear-History"}}</a></li>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n参考\n\n使用 Hugo 搭建个人网站（博客、个人主页）并发布到 Github 上\n\nHugo博客的脚本快速发布博客\n\n打开https://wenxuli2.github.io/',normalizedContent:'# hugo中文文档(https://www.gohugo.org/)\n\nhugo releases\n\nhugo_0.96.0_linux-64bit.tar.gz\n\n\n# 下载配置环境\n\n// windows\n//下载hugo_0.96.0_windows-64bit.zip并解压至e:\\move_software\\hugo\nsetx  /m "path" "e:\\move_software\\hugo;%path%" \nexit\nhugo version\n\ne:\\\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 生成站点\n\nhugo new site e:\\hugosite\ncd e:\\hugosite && e:\n\n\n1\n2\n\n\n\n# 文章头部信息\n\narchetypes\\default.md\n\ntitle: "{{ replace .name "-" " " | title }}"\ndate: {{ .date }}\nlastmod: {{ .date }}\ntags: []\n\ndescription: ""\ncategories: []\nkeywords: []\nauthor: "wenxuli"\ncomment: true\ntoc: true\nautocollapsetoc: true\npostmetainfooter: false\nhiddenfromhomepage: false\ncontentcopyright: true\nreward: true\nmathjax: true\nmathjaxenablesingledollar: false\nmathjaxenableautonumber: false\ndraft: true\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 创建文章\n\n// 创建一个 about 页面：\nhugo new about.md\n// 创建第一篇文章，放到 post 目录，方便之后生成聚合页面。\nhugo new post/first.md\n\n\n\n1\n2\n3\n4\n5\n\n\n主题theme\n\ngithub-hugo-themes\n\n\n\n\n\n//hugo-theme-learn\ngit clone https://github.com/matcornic/hugo-theme-learn.git  themes/hugo-theme-learn\nhugo server  --builddrafts --theme=hugo-theme-learn\n\n//hugo-theme-even\ngit clone https://github.com/olowolo/hugo-theme-even themes/even\nhugo server  --builddrafts --theme=even\ncopy config.toml config.toml.copy\ncopy themes\\even\\examplesite\\config.toml  config.toml /y\n//复原copy config.toml.copy config.toml /y\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 示例网站\n\nhttps://peteraba.com/\n\n\n1\n\n\n\n# 运行hugo\n\n在你的站点根目录执行 hugo 命令进行调试：\n\ncd ../\nhugo server --theme=hugo-papermod --builddrafts\n\n// hugo server --theme=hyde --builddrafts\n// hugo server --theme=twentyfourteen --builddrafts\n// hugo server --theme=hugo-redlounge --builddrafts\n// hugo server --theme=hugo-h5bp-simple --builddrafts\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 部署\n\nhugo --theme=hugo-theme-learn --baseurl=http://wenxuli2.github.io/"\n// hugo --theme=hyde --baseurl="http://coderzh.github.io/"\n// hugo --theme=hugo-papermod --baseurl="http://wenxuli2.github.io/"\n\n\n1\n2\n3\n\n\n如果一切顺利，所有静态页面都会生成到 public 目录，将pubilc目录里所有文件 push 到刚创建的repository的 master 分支。\n\ncd public\ngit init\ngit remote add origin git@github.com:wenxuli2/wenxuli2.github.io.git\ngit add -a\ngit commit -m "first commit"\ngit push -u origin master\n// http://wenxuli2.github.io/\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 使用 github action 自动发布文章\n\n1.在 github 上的个人网站仓库 kinredon.github.io 新建 source 分支\n\n2.清除文件夹 kinredon.github.io 中的内容，并将个人网站 quickstart 中的所有内容 copy 到 kinredon.github.io ：\n\n3.生成 actions_deploy_key\n\nssh-keygen -t rsa -b 4096 -c "$(git config user.email)" -f gh-pages -n ""\n\n\n1\n\n\n\n# 修改主题\n\n1.修改侧边图片\nthemes\\hugo-theme-learn\\layouts\\partials\\logo.html\n<img src="images/asideimg.webp" alt="" id="grav-logo">\n    \x3c!-- <svg id="grav-logo" style="width:100%; height:100%;" viewbox="0 0 504 140" version="1.1" ....\n2.不喜欢粉红色\nthemes\\hugo-theme-learn\\static\\css\\theme.css\n\\#header-wrapper \n  /* background: #8451a1; */\n  background: #333333;\n将9c6fb6 替换为 2bb0ff\n# themes\\hugo-theme-learn\\layouts\\partials\\home.html\nhref="/home" 改 href="/home"\n<li><a class="padding" href="/home" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> {{t "clear-history"}}</a></li>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n参考\n\n使用 hugo 搭建个人网站（博客、个人主页）并发布到 github 上\n\nhugo博客的脚本快速发布博客\n\n打开https://wenxuli2.github.io/',charsets:{cjk:!0}},{title:"Express的简单使用",frontmatter:{title:"Express的简单使用",date:"2022-03-13T05:03:19.000Z",permalink:"/pages/c5290a/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/Express%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/Express的简单使用.md",key:"v-44938013",path:"/pages/c5290a/",headers:[{level:3,title:"安装",slug:"安装",normalizedTitle:"安装",charIndex:2},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:32},{level:3,title:"官方小例子",slug:"官方小例子",normalizedTitle:"官方小例子",charIndex:55},{level:3,title:"简单bug",slug:"简单bug",normalizedTitle:"简单bug",charIndex:204}],headersStr:"安装 参考 官方小例子 简单bug",content:"# 安装\n\nnpm install express \n\n\n\n# 参考\n\ngithub-express\n\n\n# 官方小例子\n\nconst express = require('express')\nconst app = express()\napp.get('/', function (req, res) {\nres.send('Hello World')\n})\n\napp.listen(3000)\n\n\n\n# 简单bug\n\n1.Error: listen EADDRINUSE: address already in use :::3000\neg:端口被占用\nnetstat -ano|findstr \"5001\"\ntaskkill -PID 852 -F\n\n\nconst express = require('express');\nconst app = express();\nconst bodyparser = require('body-parser');\napp.use(bodyparser.urlencoded({ extended: true }));\napp.use(bodyparser.json())\n// 直接设置静态资源文件\napp.use(express.static('./public'))\napp.post('/postData', function (req, res) {  //这里参数加上刚刚的解析的而且这里不是get了\n    const result = req.body\n    res.send(JSON.stringify(result));\n})\napp.listen(5000)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n",normalizedContent:"# 安装\n\nnpm install express \n\n\n\n# 参考\n\ngithub-express\n\n\n# 官方小例子\n\nconst express = require('express')\nconst app = express()\napp.get('/', function (req, res) {\nres.send('hello world')\n})\n\napp.listen(3000)\n\n\n\n# 简单bug\n\n1.error: listen eaddrinuse: address already in use :::3000\neg:端口被占用\nnetstat -ano|findstr \"5001\"\ntaskkill -pid 852 -f\n\n\nconst express = require('express');\nconst app = express();\nconst bodyparser = require('body-parser');\napp.use(bodyparser.urlencoded({ extended: true }));\napp.use(bodyparser.json())\n// 直接设置静态资源文件\napp.use(express.static('./public'))\napp.post('/postdata', function (req, res) {  //这里参数加上刚刚的解析的而且这里不是get了\n    const result = req.body\n    res.send(json.stringify(result));\n})\napp.listen(5000)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n",charsets:{cjk:!0}},{title:"Javascript简单问题",frontmatter:{title:"Javascript简单问题",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/a1c699/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/Javascript%E7%AE%80%E5%8D%95%E9%97%AE%E9%A2%98.html",relativePath:"_posts/随笔/Javascript简单问题.md",key:"v-571ff2dc",path:"/pages/a1c699/",headers:[{level:3,title:"JavaScript有几种数据类型？",slug:"javascript有几种数据类型",normalizedTitle:"javascript有几种数据类型？",charIndex:2},{level:3,title:"JavaScript最大安全数字与最小安全数字？",slug:"javascript最大安全数字与最小安全数字",normalizedTitle:"javascript最大安全数字与最小安全数字？",charIndex:85},{level:3,title:"深拷贝与浅拷贝的区别？",slug:"深拷贝与浅拷贝的区别",normalizedTitle:"深拷贝与浅拷贝的区别？",charIndex:164},{level:3,title:"闭包是什么？",slug:"闭包是什么",normalizedTitle:"闭包是什么？",charIndex:237},{level:3,title:"原型链是什么呀？",slug:"原型链是什么呀",normalizedTitle:"原型链是什么呀？",charIndex:311},{level:3,title:"原型是什么？原型链是什么？",slug:"原型是什么-原型链是什么",normalizedTitle:"原型是什么？原型链是什么？",charIndex:755},{level:3,title:"什么是变量提升？什么是函数提升？",slug:"什么是变量提升-什么是函数提升",normalizedTitle:"什么是变量提升？什么是函数提升？",charIndex:1114},{level:3,title:"valueOf 与 toString？",slug:"valueof-与-tostring",normalizedTitle:"valueof 与 tostring？",charIndex:1380},{level:3,title:"栈内存和堆内存的区别",slug:"栈内存和堆内存的区别",normalizedTitle:"栈内存和堆内存的区别",charIndex:1462},{level:3,title:"显示转化和隐式转换",slug:"显示转化和隐式转换",normalizedTitle:"显示转化和隐式转换",charIndex:3461},{level:3,title:"双等号左右两边的转换规则？",slug:"双等号左右两边的转换规则",normalizedTitle:"双等号左右两边的转换规则？",charIndex:3809},{level:3,title:"== 与 === 的区别？",slug:"与-的区别",normalizedTitle:"== 与 === 的区别？",charIndex:4014},{level:3,title:"undefined >= undefined 为什么是 false ？",slug:"undefined-undefined-为什么是-false",normalizedTitle:"undefined &gt;= undefined 为什么是 false ？",charIndex:null},{level:3,title:"null >= null 为什么是 true？",slug:"null-null-为什么是-true",normalizedTitle:"null &gt;= null 为什么是 true？",charIndex:null},{level:3,title:"[] == ![] 为什么是 true ？",slug:"为什么是-true",normalizedTitle:"[] == ![] 为什么是 true ？",charIndex:4194},{level:3,title:"0.1 + 0.2 === 0.3，对吗？",slug:"_0-1-0-2-0-3-对吗",normalizedTitle:"0.1 + 0.2 === 0.3，对吗？",charIndex:4281},{level:3,title:"什么是匿名函数？",slug:"什么是匿名函数",normalizedTitle:"什么是匿名函数？",charIndex:4490},{level:3,title:"绑定点击事件有几种方式？",slug:"绑定点击事件有几种方式",normalizedTitle:"绑定点击事件有几种方式？",charIndex:4570},{level:3,title:"函数声明和函数表达式的区别？",slug:"函数声明和函数表达式的区别",normalizedTitle:"函数声明和函数表达式的区别？",charIndex:4767},{level:3,title:"JavaScript的事件流模型有哪些？",slug:"javascript的事件流模型有哪些",normalizedTitle:"javascript的事件流模型有哪些？",charIndex:4976},{level:3,title:"如何阻止事件冒泡？",slug:"如何阻止事件冒泡",normalizedTitle:"如何阻止事件冒泡？",charIndex:5307},{level:3,title:"如何阻止事件默认行为？",slug:"如何阻止事件默认行为",normalizedTitle:"如何阻止事件默认行为？",charIndex:5448},{level:3,title:"什么是事件委托？",slug:"什么是事件委托",normalizedTitle:"什么是事件委托？",charIndex:5591},{level:3,title:"Set与Array的区别是什么？",slug:"set与array的区别是什么",normalizedTitle:"set与array的区别是什么？",charIndex:6407}],headersStr:"JavaScript有几种数据类型？ JavaScript最大安全数字与最小安全数字？ 深拷贝与浅拷贝的区别？ 闭包是什么？ 原型链是什么呀？ 原型是什么？原型链是什么？ 什么是变量提升？什么是函数提升？ valueOf 与 toString？ 栈内存和堆内存的区别 显示转化和隐式转换 双等号左右两边的转换规则？ == 与 === 的区别？ undefined >= undefined 为什么是 false ？ null >= null 为什么是 true？ [] == ![] 为什么是 true ？ 0.1 + 0.2 === 0.3，对吗？ 什么是匿名函数？ 绑定点击事件有几种方式？ 函数声明和函数表达式的区别？ JavaScript的事件流模型有哪些？ 如何阻止事件冒泡？ 如何阻止事件默认行为？ 什么是事件委托？ Set与Array的区别是什么？",content:"# JavaScript有几种数据类型？\n\nnumber、string、boolean、undefined、null、symbol、bigint、object\n\n\n\n# JavaScript最大安全数字与最小安全数字？\n\nNumber.MAX_SAFE_INTEGER、Number.MIN_SAFE_INTEGER\n\n\n\n# 深拷贝与浅拷贝的区别？\n\n浅拷贝：只拷贝第一层，深层的依然是引用，改变深层会影响原对象\n深拷贝：每一层都拷贝了，改变数据不会影响原对象\n\n\n\n# 闭包是什么？\n\n闭包是一个函数，是一个能让外部访问到函数内部的函数\n优点：使外部能访问内部，延长内部变量寿命\n缺点：滥用闭包造成内存泄漏\n\n\n\n# 原型链是什么呀？\n\n原型链是一条引用的链，实例的隐式原型指向构造函数的显式原型，可以使用A instanceof B来判断B是否在A的原型链上。\n\nfunction Fn() {}// Fn为构造函数\nvar f1 = new Fn();//f1 是Fn构造函数创建出来的对象\nconsole.log(Fn.prototype) // {}\nconsole.log(typeof Fn.prototype)// object\nconsole.log(Fn.prototype.constructor)//[Function: Fn]\nconsole.log(f1.__proto__)// {}\n\n// 所有Fn.prototype.__proto__===Object.prototype\nconsole.log(typeof Object.prototype) //object\nconsole.log(Object.prototype.__proto__) //null\n\n\n\n# 原型是什么？原型链是什么？\n\n什么是变量提升？函数提升？\n在js中只有两种作用域，全局作用域和函数作用域，在ES6之前，js是没有块级作用域。\nJavaScript 代码的执行分为两个阶段。第一个阶段在当前词法环境中注册所有的变量和函数声明，简单说就是，解析，解析完成之后，第二个阶段的 JavaScript 执行就开始了！\nJS中创建函数有两种方式：函数声明式和函数字面量式。只有函数声明才存在函数提升。\nJavaScript 仅提升声明，而不提升初始化。如果你先使用的变量，再声明并初始化它，变量的值将是 undefined。\n1:所有的声明都会提升到作用域的最顶上去。\n2:同一个变量只会声明一次，其他的会被忽略掉。\n3:函数声明的优先级高于变量申明的优先级，并且函数声明和函数定义的部分一起被提升。\n\n\n\n# 什么是变量提升？什么是函数提升？\n\nisNaN 与 Number.isNaN的区别？\n// Number.isNaN不存在类型转换的行为。\nconsole.log(Number('测试')) // NaN\nconsole.log(isNaN('测试')) //true\nconsole.log(Number.isNaN('测试')) //false\n解决遍历对象时，把原型上的属性遍历出来了咋办？\nhasOwnProperty() //方法会返回一个布尔值，指示对象自身属性中是否具有指定的属性（也就是，是否有指定的键）\n\n\n\n# valueOf 与 toString？\n\ntoString：正常情况下、偏向于显示、对象、字符转换\nvalueOf：比较偏向于计算、数字、运算操作符转换\n\n\n\n# 栈内存和堆内存的区别\n\n栈内存               堆内存\n存储基础数据类型          存储引用类型\n按值访问              按引用访问\n存储的值大小固定          存储的值大小不定\n由系统自动分配内存空间       由代码进行指定分配\n空间小运行效率高          空间大、运行效率相对较低\n先进后出、后进先出 无序存储，   根据引用直接获取引用数据类型\n\n### 除了基本类型的就是引用类型了 Object 类型。细分的话，有：Object、Array、Date、RegExp、Function 检测 ### JavaScript变量在内存中具体存储形式？ // 基本数据类型：存在栈内存里 // 引用数据类型：指针存栈内存，指向堆内存中一块地址，内容存在堆内存中, // JavaScript不允许直接访问堆内存中的位置，因此操作对象时，实际操作对象的引用 // 基本类型发生复制行为 let a1 = 0; a2 = \"this is string\" // 栈内存 let b = { x: 10 }; // 变量b存在于栈中，{ x: 10 }作为对象存在于堆中 // 访问堆内存中的引用数据类型时,从栈中获取该对象的地址引用,再从堆内存中取得我们需要的数据. // 引用类型发生复制行为 let a = { x: 10, y: 20 }; let b2 = a; b2.x = 5; console.log(a.x); // 5 // 引用类型的复制，同样为新的变量b2分配一个新的值，保存在栈内存中，不同的是，这个值仅仅是引用类型的一个地址指针 // 他们两个指向同一个值，也就是地址指针相同，在堆内存中访问到的具体对象实际上是同一个 // 因此改变b2.x时，a.x也发生了变化，这就是引用类型的特性 ### 讲一讲JavaScript的装箱和拆箱？ // 装箱：把基本数据类型转化为对应的引用数据类型的操作 // 看以下代码，s1只是一个基本数据类型，他是怎么能调用indexOf的呢？ const s1 = 'Sunshine_Lin' const index = s1.indexOf('_') console.log(index) // 8 // 原来是JavaScript内部进行了装箱操作 var temp = new String('Sunshine_Lin') // 创建String类型的一个实例； const index2 = temp.indexOf('_') // 在实例上调用指定的方法； temp = null // 销毁这个实例； console.log(index2) // 8 //拆箱：将引用数据类型转化为对应的基本数据类型的操作, 通过valueOf或者toString方法实现拆箱操作 var objNum = new Number(123); var objStr =new String(\"123\"); console.log( typeof objNum ); //object console.log( typeof objStr ); //object console.log( typeof objNum.valueOf() ); //number console.log( typeof objStr.valueOf() ); //string console.log( typeof objNum.toString() ); // string console.log( typeof objStr.toString() ); // string ### null和undefined的异同点有哪些？ 1.相同点 都是空类型 转布尔值都是false，都是假值 null == undefined 为 true 2.不同点 typeof，前者为object，后者为undefined null转数字为0，undefined转数字为NaN null === undefined 为 false ### 如何判断数据类型？ 1.typeof：能判断string、number、undefined、boolean、function、object（null是object） 2.Object.prototype.toString.call()：能判断大部分数据类型 3.instanceOf 用来判断某个构造函数的 prototype 属性所指向的对象是否存在于另外一个要检测对象的原型链上 ### 为什么typeof null 是object？ 不同数据类型底层都是用二进制来表示的，二进制前三位为000则会被判断为object，而null二进制全是0，所以被判断成object\n\n\n# 显示转化和隐式转换\n\n显示的转换数据类型主要通过JS定义的数据转换方法。\n转型函数有Boolean()、Number()、parseInt()、parseFloat()、toString()\n隐式的数据转换，在JS中有一些操作符或者语句也会进行数据转换。比如if语句将条件转换为布尔类型值。\n递增和递减操作符(++,--),逻辑非操作符(!) 与 比较操作符(<,>,=),判断语句(if，do-while，while)\nJavaScript的隐式转换规则？\n转string类型：+（字符串连接符）\n转number类型：++/--(自增自减运算符) + - * / %(算术运算符) > < >= <= == != === !== (关系运算符)\n转boolean：!（逻辑非运算符)\n\n\n\n# 双等号左右两边的转换规则？\n\nnull == undefined 为 true\n1.如果有一个操作数是布尔值，则在比较相等性之前先将其转换为数值——false转换为0，而true转换为1；\n2.如果一个操作数是字符串，另一个操作数是数值，在比较相等性之前先将字符串转换为数值\n3.如果一个操作数是对象，另一个操作数不是，则调用对象的toString()方法，用得到的基本类型值按照前面的规则进行比较\n\n\n\n# == 与 === 的区别？\n\n==：比较过程会进行隐式转换\n===：值相同，类型相同才会为true\n\n\n\n# undefined >= undefined 为什么是 false ？\n\n隐式转换，变成NaN >= NaN，NaN不等于自身也不大于自身\n\n\n\n# null >= null 为什么是 true？\n\n隐式转换，变成0 >= 0，为true\n\n\n\n# [] == ![] 为什么是 true ？\n\n第一步：转为[] == false\n第二步：转为[] == 0\n第三步：转为'' == 0\n第四步：转为0 == 0\n\n\n\n# 0.1 + 0.2 === 0.3，对吗？\n\n存在精度丢失问题，由于有些小数无法用二进制表示，所以只能取近似值，\nconsole.log(0.1 + 0.2 === 0.3) // false\nconsole.log((0.1*10+0.2*10)/10 ===0.3) //true\nconsole.log(parseFloat((0.1+0.2).toFixed(10)) ===0.3) //true\n\n\n\n# 什么是匿名函数？\n\n匿名函数，就是没有名字的函数，比如：\n(function(x, y){\n    alert(x + y);  \n})(2, 3)\n\n\n\n# 绑定点击事件有几种方式？\n\n1.xxx.onclick = function (){}\n2.<xxx onclick=\"\"></xxx>\n3.xxx.addEventListener('click', function(){}, false)\n// addEventListener的第三个参数是干嘛的？决定事件是捕获阶段执行还是冒泡阶段执行，true：捕获，false：默认，冒泡\n\n\n\n# 函数声明和函数表达式的区别？\n\n// 函数声明：享受函数提升\n// 函数表达式：归类于变量声明，享受变量提升\n// 函数提升优先级 > 变量提升优先级\nconsole.log(fun) // fun () {}\n// 函数表达式\nvar fun = function(name) {}\n// 函数声明\nfunction fun () {}\nconsole.log(fun) // fun (name) {}\n\n\n\n# JavaScript的事件流模型有哪些？\n\n事件冒泡：由最具体的元素接收，并往上传播\n事件捕获：由最不具体的元素接收，并往下传播\nDOM事件流：事件捕获 -> 目标阶段 -> 事件冒泡\nAjax、Axios、Fetch有啥区别？\nAjax：是对XMLHttpRequest(XHR)的封装\nAxios：是基于Promise对XHR对象的封装\nFetch：是window的一个方法，基于Promise，与XHR无关，不兼容IE\nload、$(document).ready、DOMContentLoaded的区别？\n$(document).ready、DOMContentLoaded：DOM树构建完毕，但还没有请求静态资源\nload：静态资源请求完毕\n\n\n\n# 如何阻止事件冒泡？\n\nfunction stopBubble(e) {\nif (e.stopPropagation) {\n    e.stopPropagation()\n} else {\n    window.event.cancelBubble = true;\n}\n}\n\n\n\n# 如何阻止事件默认行为？\n\nfunction stopDefault(e) {\nif (e.preventDefault) {\n    e.preventDefault();\n} else {\n    window.event.returnValue = false;\n}\n}\n\n\n\n# 什么是事件委托？\n\n当子元素都需要绑定相同事件时，可以将事件绑在父元素上，优点有：\n绑定在父元素，则只需绑定一次，节省性能\n后续新增的子元素也可以触发父元素绑定的事件\n如何实现数组去重？\nlet arr = [1, 2, 1,2,3]\nlet newArr = []\n// // 1. for循环\n// // 2. for循环 + indexOf / includes\n// for (let i = 0, l = arr.length; i < l; i++) {\n//   if (newArr.indexOf(arr[i]) === -1) {\n//     newArr.push(arr[i])\n//   }\n// }\n// // 3. forEach + includes / indexOf\n// arr.forEach(item => {\n//   if (!newArr.includes(item)) newArr.push(item)\n// })\n// 4. 基于对象处理\nlet obj = {}\nfor (let i = 0; i < arr.length; i++) {\nlet item = arr[i] // 如果对象中已经有该元素, 说明该元素是重复元素\nif (obj[item] !== undefined) { // 就把数组最后一位放在该位置, 相当于删掉了该元素\n    arr[i] = arr[arr.length - 1]     // 数组长度减1, 将最后一个元素去掉\n    arr.length-- // i减一, 保证下次循环从替换的元素开始\n    i--\n    // continue\n}\nobj[item] = item\n}\n// 5.Set\n// console.log([... new Set(arr)])\n// console.log(arr)\n\n\n\n# Set与Array的区别是什么？\n\n区别      判断有无元素   添加元素           删除元素               长度       清空       转换               遍历        去重\nSET     has      add            delete             size     clear    new Set(array)   forEach   有\nARRAY   index    push、unshift   splice、pop、shift   lenght   重新赋值[]   keys、value       无         无\n\n### Map与Object的区别是什么？\n\n区别    设置属性               获取属性值      判断属性存在与否   删除元素        清空       转数组键值对    遍历\nMAP   set                get        has        delete      clear    entries   自带forEach\nOBJ   obj[key] = value   obj[key]   obj[key]   delete关键字   重新赋值{}   entries   无",normalizedContent:"# javascript有几种数据类型？\n\nnumber、string、boolean、undefined、null、symbol、bigint、object\n\n\n\n# javascript最大安全数字与最小安全数字？\n\nnumber.max_safe_integer、number.min_safe_integer\n\n\n\n# 深拷贝与浅拷贝的区别？\n\n浅拷贝：只拷贝第一层，深层的依然是引用，改变深层会影响原对象\n深拷贝：每一层都拷贝了，改变数据不会影响原对象\n\n\n\n# 闭包是什么？\n\n闭包是一个函数，是一个能让外部访问到函数内部的函数\n优点：使外部能访问内部，延长内部变量寿命\n缺点：滥用闭包造成内存泄漏\n\n\n\n# 原型链是什么呀？\n\n原型链是一条引用的链，实例的隐式原型指向构造函数的显式原型，可以使用a instanceof b来判断b是否在a的原型链上。\n\nfunction fn() {}// fn为构造函数\nvar f1 = new fn();//f1 是fn构造函数创建出来的对象\nconsole.log(fn.prototype) // {}\nconsole.log(typeof fn.prototype)// object\nconsole.log(fn.prototype.constructor)//[function: fn]\nconsole.log(f1.__proto__)// {}\n\n// 所有fn.prototype.__proto__===object.prototype\nconsole.log(typeof object.prototype) //object\nconsole.log(object.prototype.__proto__) //null\n\n\n\n# 原型是什么？原型链是什么？\n\n什么是变量提升？函数提升？\n在js中只有两种作用域，全局作用域和函数作用域，在es6之前，js是没有块级作用域。\njavascript 代码的执行分为两个阶段。第一个阶段在当前词法环境中注册所有的变量和函数声明，简单说就是，解析，解析完成之后，第二个阶段的 javascript 执行就开始了！\njs中创建函数有两种方式：函数声明式和函数字面量式。只有函数声明才存在函数提升。\njavascript 仅提升声明，而不提升初始化。如果你先使用的变量，再声明并初始化它，变量的值将是 undefined。\n1:所有的声明都会提升到作用域的最顶上去。\n2:同一个变量只会声明一次，其他的会被忽略掉。\n3:函数声明的优先级高于变量申明的优先级，并且函数声明和函数定义的部分一起被提升。\n\n\n\n# 什么是变量提升？什么是函数提升？\n\nisnan 与 number.isnan的区别？\n// number.isnan不存在类型转换的行为。\nconsole.log(number('测试')) // nan\nconsole.log(isnan('测试')) //true\nconsole.log(number.isnan('测试')) //false\n解决遍历对象时，把原型上的属性遍历出来了咋办？\nhasownproperty() //方法会返回一个布尔值，指示对象自身属性中是否具有指定的属性（也就是，是否有指定的键）\n\n\n\n# valueof 与 tostring？\n\ntostring：正常情况下、偏向于显示、对象、字符转换\nvalueof：比较偏向于计算、数字、运算操作符转换\n\n\n\n# 栈内存和堆内存的区别\n\n栈内存               堆内存\n存储基础数据类型          存储引用类型\n按值访问              按引用访问\n存储的值大小固定          存储的值大小不定\n由系统自动分配内存空间       由代码进行指定分配\n空间小运行效率高          空间大、运行效率相对较低\n先进后出、后进先出 无序存储，   根据引用直接获取引用数据类型\n\n### 除了基本类型的就是引用类型了 object 类型。细分的话，有：object、array、date、regexp、function 检测 ### javascript变量在内存中具体存储形式？ // 基本数据类型：存在栈内存里 // 引用数据类型：指针存栈内存，指向堆内存中一块地址，内容存在堆内存中, // javascript不允许直接访问堆内存中的位置，因此操作对象时，实际操作对象的引用 // 基本类型发生复制行为 let a1 = 0; a2 = \"this is string\" // 栈内存 let b = { x: 10 }; // 变量b存在于栈中，{ x: 10 }作为对象存在于堆中 // 访问堆内存中的引用数据类型时,从栈中获取该对象的地址引用,再从堆内存中取得我们需要的数据. // 引用类型发生复制行为 let a = { x: 10, y: 20 }; let b2 = a; b2.x = 5; console.log(a.x); // 5 // 引用类型的复制，同样为新的变量b2分配一个新的值，保存在栈内存中，不同的是，这个值仅仅是引用类型的一个地址指针 // 他们两个指向同一个值，也就是地址指针相同，在堆内存中访问到的具体对象实际上是同一个 // 因此改变b2.x时，a.x也发生了变化，这就是引用类型的特性 ### 讲一讲javascript的装箱和拆箱？ // 装箱：把基本数据类型转化为对应的引用数据类型的操作 // 看以下代码，s1只是一个基本数据类型，他是怎么能调用indexof的呢？ const s1 = 'sunshine_lin' const index = s1.indexof('_') console.log(index) // 8 // 原来是javascript内部进行了装箱操作 var temp = new string('sunshine_lin') // 创建string类型的一个实例； const index2 = temp.indexof('_') // 在实例上调用指定的方法； temp = null // 销毁这个实例； console.log(index2) // 8 //拆箱：将引用数据类型转化为对应的基本数据类型的操作, 通过valueof或者tostring方法实现拆箱操作 var objnum = new number(123); var objstr =new string(\"123\"); console.log( typeof objnum ); //object console.log( typeof objstr ); //object console.log( typeof objnum.valueof() ); //number console.log( typeof objstr.valueof() ); //string console.log( typeof objnum.tostring() ); // string console.log( typeof objstr.tostring() ); // string ### null和undefined的异同点有哪些？ 1.相同点 都是空类型 转布尔值都是false，都是假值 null == undefined 为 true 2.不同点 typeof，前者为object，后者为undefined null转数字为0，undefined转数字为nan null === undefined 为 false ### 如何判断数据类型？ 1.typeof：能判断string、number、undefined、boolean、function、object（null是object） 2.object.prototype.tostring.call()：能判断大部分数据类型 3.instanceof 用来判断某个构造函数的 prototype 属性所指向的对象是否存在于另外一个要检测对象的原型链上 ### 为什么typeof null 是object？ 不同数据类型底层都是用二进制来表示的，二进制前三位为000则会被判断为object，而null二进制全是0，所以被判断成object\n\n\n# 显示转化和隐式转换\n\n显示的转换数据类型主要通过js定义的数据转换方法。\n转型函数有boolean()、number()、parseint()、parsefloat()、tostring()\n隐式的数据转换，在js中有一些操作符或者语句也会进行数据转换。比如if语句将条件转换为布尔类型值。\n递增和递减操作符(++,--),逻辑非操作符(!) 与 比较操作符(<,>,=),判断语句(if，do-while，while)\njavascript的隐式转换规则？\n转string类型：+（字符串连接符）\n转number类型：++/--(自增自减运算符) + - * / %(算术运算符) > < >= <= == != === !== (关系运算符)\n转boolean：!（逻辑非运算符)\n\n\n\n# 双等号左右两边的转换规则？\n\nnull == undefined 为 true\n1.如果有一个操作数是布尔值，则在比较相等性之前先将其转换为数值——false转换为0，而true转换为1；\n2.如果一个操作数是字符串，另一个操作数是数值，在比较相等性之前先将字符串转换为数值\n3.如果一个操作数是对象，另一个操作数不是，则调用对象的tostring()方法，用得到的基本类型值按照前面的规则进行比较\n\n\n\n# == 与 === 的区别？\n\n==：比较过程会进行隐式转换\n===：值相同，类型相同才会为true\n\n\n\n# undefined >= undefined 为什么是 false ？\n\n隐式转换，变成nan >= nan，nan不等于自身也不大于自身\n\n\n\n# null >= null 为什么是 true？\n\n隐式转换，变成0 >= 0，为true\n\n\n\n# [] == ![] 为什么是 true ？\n\n第一步：转为[] == false\n第二步：转为[] == 0\n第三步：转为'' == 0\n第四步：转为0 == 0\n\n\n\n# 0.1 + 0.2 === 0.3，对吗？\n\n存在精度丢失问题，由于有些小数无法用二进制表示，所以只能取近似值，\nconsole.log(0.1 + 0.2 === 0.3) // false\nconsole.log((0.1*10+0.2*10)/10 ===0.3) //true\nconsole.log(parsefloat((0.1+0.2).tofixed(10)) ===0.3) //true\n\n\n\n# 什么是匿名函数？\n\n匿名函数，就是没有名字的函数，比如：\n(function(x, y){\n    alert(x + y);  \n})(2, 3)\n\n\n\n# 绑定点击事件有几种方式？\n\n1.xxx.onclick = function (){}\n2.<xxx onclick=\"\"></xxx>\n3.xxx.addeventlistener('click', function(){}, false)\n// addeventlistener的第三个参数是干嘛的？决定事件是捕获阶段执行还是冒泡阶段执行，true：捕获，false：默认，冒泡\n\n\n\n# 函数声明和函数表达式的区别？\n\n// 函数声明：享受函数提升\n// 函数表达式：归类于变量声明，享受变量提升\n// 函数提升优先级 > 变量提升优先级\nconsole.log(fun) // fun () {}\n// 函数表达式\nvar fun = function(name) {}\n// 函数声明\nfunction fun () {}\nconsole.log(fun) // fun (name) {}\n\n\n\n# javascript的事件流模型有哪些？\n\n事件冒泡：由最具体的元素接收，并往上传播\n事件捕获：由最不具体的元素接收，并往下传播\ndom事件流：事件捕获 -> 目标阶段 -> 事件冒泡\najax、axios、fetch有啥区别？\najax：是对xmlhttprequest(xhr)的封装\naxios：是基于promise对xhr对象的封装\nfetch：是window的一个方法，基于promise，与xhr无关，不兼容ie\nload、$(document).ready、domcontentloaded的区别？\n$(document).ready、domcontentloaded：dom树构建完毕，但还没有请求静态资源\nload：静态资源请求完毕\n\n\n\n# 如何阻止事件冒泡？\n\nfunction stopbubble(e) {\nif (e.stoppropagation) {\n    e.stoppropagation()\n} else {\n    window.event.cancelbubble = true;\n}\n}\n\n\n\n# 如何阻止事件默认行为？\n\nfunction stopdefault(e) {\nif (e.preventdefault) {\n    e.preventdefault();\n} else {\n    window.event.returnvalue = false;\n}\n}\n\n\n\n# 什么是事件委托？\n\n当子元素都需要绑定相同事件时，可以将事件绑在父元素上，优点有：\n绑定在父元素，则只需绑定一次，节省性能\n后续新增的子元素也可以触发父元素绑定的事件\n如何实现数组去重？\nlet arr = [1, 2, 1,2,3]\nlet newarr = []\n// // 1. for循环\n// // 2. for循环 + indexof / includes\n// for (let i = 0, l = arr.length; i < l; i++) {\n//   if (newarr.indexof(arr[i]) === -1) {\n//     newarr.push(arr[i])\n//   }\n// }\n// // 3. foreach + includes / indexof\n// arr.foreach(item => {\n//   if (!newarr.includes(item)) newarr.push(item)\n// })\n// 4. 基于对象处理\nlet obj = {}\nfor (let i = 0; i < arr.length; i++) {\nlet item = arr[i] // 如果对象中已经有该元素, 说明该元素是重复元素\nif (obj[item] !== undefined) { // 就把数组最后一位放在该位置, 相当于删掉了该元素\n    arr[i] = arr[arr.length - 1]     // 数组长度减1, 将最后一个元素去掉\n    arr.length-- // i减一, 保证下次循环从替换的元素开始\n    i--\n    // continue\n}\nobj[item] = item\n}\n// 5.set\n// console.log([... new set(arr)])\n// console.log(arr)\n\n\n\n# set与array的区别是什么？\n\n区别      判断有无元素   添加元素           删除元素               长度       清空       转换               遍历        去重\nset     has      add            delete             size     clear    new set(array)   foreach   有\narray   index    push、unshift   splice、pop、shift   lenght   重新赋值[]   keys、value       无         无\n\n### map与object的区别是什么？\n\n区别    设置属性               获取属性值      判断属性存在与否   删除元素        清空       转数组键值对    遍历\nmap   set                get        has        delete      clear    entries   自带foreach\nobj   obj[key] = value   obj[key]   obj[key]   delete关键字   重新赋值{}   entries   无",charsets:{cjk:!0}},{title:"API接口",frontmatter:{title:"API接口",date:"2022-03-13T20:09:23.000Z",permalink:"/pages/c6fa10/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/API%E6%8E%A5%E5%8F%A3.html",relativePath:"_posts/随笔/API接口.md",key:"v-526aa213",path:"/pages/c6fa10/",headers:[{level:3,title:"免费API接口",slug:"免费api接口",normalizedTitle:"免费api接口",charIndex:2},{level:3,title:"常用下拉词API接口",slug:"常用下拉词api接口",normalizedTitle:"常用下拉词api接口",charIndex:265}],headersStr:"免费API接口 常用下拉词API接口",content:"# 免费API接口\n\n[github-public-apis](https://github.com/public-apis/public-apis)\n[免费API接口](http://suggestion.baidu.com)\n[搜索引擎智能提示API接口地址](https://www.iaspnetcore.com/blog/blogpost/5a8efc68f5eba4276034179d)\n[各大搜索引擎下拉词API接口地址](https://www.jianshu.com/p/72a1ec75c0e6)\n\n\n\n# 常用下拉词API接口\n\n1.百度,下拉词API接口\nhttp://suggestion.baidu.com/su?wd=关键词&p=3&cb=cb\n2.google\nhttp://suggestqueries.google.com/complete/search?client=youtube&q=关键词&jsonp=cb",normalizedContent:"# 免费api接口\n\n[github-public-apis](https://github.com/public-apis/public-apis)\n[免费api接口](http://suggestion.baidu.com)\n[搜索引擎智能提示api接口地址](https://www.iaspnetcore.com/blog/blogpost/5a8efc68f5eba4276034179d)\n[各大搜索引擎下拉词api接口地址](https://www.jianshu.com/p/72a1ec75c0e6)\n\n\n\n# 常用下拉词api接口\n\n1.百度,下拉词api接口\nhttp://suggestion.baidu.com/su?wd=关键词&p=3&cb=cb\n2.google\nhttp://suggestqueries.google.com/complete/search?client=youtube&q=关键词&jsonp=cb",charsets:{cjk:!0}},{title:"JS 的基本使用",frontmatter:{title:"JS 的基本使用",date:"2022-03-21T17:32:12.000Z",permalink:"/pages/289d6d/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/JS%20%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/JS 的基本使用.md",key:"v-7cc7038c",path:"/pages/289d6d/",headers:[{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:2},{level:3,title:"根据数组字典内某个元素(日期)排序",slug:"根据数组字典内某个元素-日期-排序",normalizedTitle:"根据数组字典内某个元素(日期)排序",charIndex:9},{level:3,title:"JS 时间字符串与时间戳之间的转换",slug:"js-时间字符串与时间戳之间的转换",normalizedTitle:"js 时间字符串与时间戳之间的转换",charIndex:456},{level:3,title:"参考",slug:"参考-2",normalizedTitle:"参考",charIndex:2},{level:4,title:"字符转时间戳",slug:"字符转时间戳",normalizedTitle:"字符转时间戳",charIndex:503},{level:3,title:"JS--map函数的使用",slug:"js-map函数的使用",normalizedTitle:"js--map函数的使用",charIndex:681},{level:3,title:"下载图片",slug:"下载图片",normalizedTitle:"下载图片",charIndex:837},{level:3,title:"html-download属性",slug:"html-download属性",normalizedTitle:"html-download属性",charIndex:846},{level:3,title:"检测浏览器是否支持",slug:"检测浏览器是否支持",normalizedTitle:"检测浏览器是否支持",charIndex:1099},{level:3,title:"自动点击标签",slug:"自动点击标签",normalizedTitle:"自动点击标签",charIndex:1170},{level:3,title:"nodejs下载图片",slug:"nodejs下载图片",normalizedTitle:"nodejs下载图片",charIndex:1631},{level:3,title:"arguments 是一个对应于传递给函数的参数的类数组对象。",slug:"arguments-是一个对应于传递给函数的参数的类数组对象。",normalizedTitle:"arguments 是一个对应于传递给函数的参数的类数组对象。",charIndex:2074},{level:3,title:"Set 对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。",slug:"set-对象允许你存储任何类型的唯一值-无论是原始值或者是对象引用。",normalizedTitle:"set 对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。",charIndex:2110},{level:3,title:"JavaScript 标准内置对象",slug:"javascript-标准内置对象",normalizedTitle:"javascript 标准内置对象",charIndex:2149},{level:3,title:"document.querySelector",slug:"document-queryselector",normalizedTitle:"document.queryselector",charIndex:2431},{level:2,title:"JS剪切板",slug:"js剪切板",normalizedTitle:"js剪切板",charIndex:2458},{level:3,title:"参考",slug:"参考-3",normalizedTitle:"参考",charIndex:2},{level:3,title:"localStorage",slug:"localstorage",normalizedTitle:"localstorage",charIndex:2771},{level:3,title:"JS正则表达式",slug:"js正则表达式",normalizedTitle:"js正则表达式",charIndex:3352},{level:3,title:"JS数组对象去重",slug:"js数组对象去重",normalizedTitle:"js数组对象去重",charIndex:4048},{level:3,title:"参考",slug:"参考-4",normalizedTitle:"参考",charIndex:2},{level:3,title:"常用方法",slug:"常用方法",normalizedTitle:"常用方法",charIndex:4107},{level:4,title:"数组例子",slug:"数组例子",normalizedTitle:"数组例子",charIndex:4115},{level:4,title:"利用array.map()和array.find()或者arr.findIndex",slug:"利用array-map-和array-find-或者arr-findindex",normalizedTitle:"利用array.map()和array.find()或者arr.findindex",charIndex:4465},{level:4,title:"利用arr.reduce 和 array.find 和 array.concat",slug:"利用arr-reduce-和-array-find-和-array-concat",normalizedTitle:"利用arr.reduce 和 array.find 和 array.concat",charIndex:5107},{level:4,title:"利用对象访问属性的方法，判断对象中是否存在key",slug:"利用对象访问属性的方法-判断对象中是否存在key",normalizedTitle:"利用对象访问属性的方法，判断对象中是否存在key",charIndex:6024},{level:4,title:"利用reduce方法遍历数组,reduce第一个参数是遍历需要执行的函数，第二个参数是item的初始值",slug:"利用reduce方法遍历数组-reduce第一个参数是遍历需要执行的函数-第二个参数是item的初始值",normalizedTitle:"利用reduce方法遍历数组,reduce第一个参数是遍历需要执行的函数，第二个参数是item的初始值",charIndex:6290}],headersStr:"参考 根据数组字典内某个元素(日期)排序 JS 时间字符串与时间戳之间的转换 参考 字符转时间戳 JS--map函数的使用 下载图片 html-download属性 检测浏览器是否支持 自动点击标签 nodejs下载图片 arguments 是一个对应于传递给函数的参数的类数组对象。 Set 对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。 JavaScript 标准内置对象 document.querySelector JS剪切板 参考 localStorage JS正则表达式 JS数组对象去重 参考 常用方法 数组例子 利用array.map()和array.find()或者arr.findIndex 利用arr.reduce 和 array.find 和 array.concat 利用对象访问属性的方法，判断对象中是否存在key 利用reduce方法遍历数组,reduce第一个参数是遍历需要执行的函数，第二个参数是item的初始值",content:"# 参考\n\n\n# 根据数组字典内某个元素(日期)排序\n\ntaskList=[{\"title\":\"API接口\",\"date\":\"2022-03-21 16:48:39\",\"tags\":\"\"},{\"title\":\"css简单小问题\",\"date\":\"2022-5-21 16:46:26\",\"tags\":\"\"},{\"title\":\"axios的基本使用\",\"date\":\"2022-4-21 16:38:20\",\"tags\":\"axios\"}]\nconst date2timestamp =date => new Date(date.substring(0,19).replace(/-/g,'/')).getTime();\nconst compare  =  property => (a,b) => date2timestamp(a[property]) -date2timestamp(b[property])\nconsole.log(taskList.sort(compare('date')))\n\n\n\n# JS 时间字符串与时间戳之间的转换\n\n\n# 参考\n\nJS 时间字符串与时间戳之间的转换\n\n# 字符转时间戳\n\nconst date = '2015-03-05 17:59:00.0';   \nconst date2timestamp =date => new Date(date.substring(0,19).replace(/-/g,'/')).getTime();\nconsole.log(date2timestamp(date))\n\n\n\n# JS--map函数的使用\n\nlet array = [1, 2, 3, 4, 5];\nlet newArray = array.map((item) => {\n    return item * item;\n})\nconsole.log(newArray)  // [1, 4, 9, 16, 25]\n\n\n\n# 下载图片\n\n\n# html-download属性\n\n\x3c!-- 不同源是直接打开而不是下载 --\x3e\n\x3c!-- <a href=\"https://www.google.com/favicon.ico\" download=\"favicon.ico\" id=\"favicon\">Download file</a> --\x3e\n<a href=\"./images/www.google.com/favicon.ico\" download=\"favicon.ico\" id=\"favicon\">Download file</a>\n\n\n\n# 检测浏览器是否支持\n\nconsole.log('download' in document.createElement('a'))\n\n\n\n# 自动点击标签\n\n<script>\n    //自动点击的方法 clickId 点击事件的id属性值  字符串类型\n    autoClick(clickId=\"favicon\")\n    function autoClick(clickId) {\n        // IE\n        if (document.all) {\n            document.getElementById(clickId).click();\n        }\n        // 其它浏览器\n        else {\n            const e = document.createEvent(\"MouseEvents\");\n            e.initEvent(\"click\", true, true);\n            document.getElementById(clickId).dispatchEvent(e);\n        }\n    }\n<\/script>\n\n\n\n# nodejs下载图片\n\nconst request = require('request');//也是请求网址模块，只不过下载图片的函数比较简单，所以用这个\nconst fs = require('fs');//用于操作文件流\n\nconst img_url = \"https://www.baidu.com/favicon.ico\"\nconst file_name = 'favicon.ico'\ndownload_img(img_url, file_name)\n\n// 异步执行函数，用于下载图片，接收图片地址，和文件命名方式两个参数。\nasync function download_img(img_url, file_name){\nawait request(img_url).pipe(fs.createWriteStream(file_name)).on('close',function(){\n    console.log('pic saved!')\n})\n}\n\n\n\n# arguments 是一个对应于传递给函数的参数的类数组对象。\n\n\n# Set 对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。\n\n\n# JavaScript 标准内置对象\n\nFunction.prototype.apply() \n    方法调用一个具有给定this值的函数，以及以一个数组（或类数组对象）的形式提供的参数。\nFunction.prototype.call() \n    方法使用一个指定的 this 值和单独给出的一个或多个参数来调用一个函数。\nFunction.prototype.call()\n    方法使用一个指定的 this 值和单独给出的一个或多个参数来调用一个函数。\nArray.from() 方法对一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。\n\n\n\n# document.querySelector\n\n\n# JS剪切板\n\n\n# 参考\n\nmdn-Clipboard\n\n[mdn-Navigator.clipboard](https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/\n\n剪贴板操作 Clipboard API 教程\n\nJavaScript 技术篇-navigator.permissions读取chrome剪切板权限获取不生效原因：只有在https协议下使用有效。手动设置chrome页面剪切板读取权限方法\n\nJs 获取剪贴板值\n\n已废弃document.execCommand\n\nwindow.clipboardData 不行\n\n简单的复制文本到剪切板\n\n\n# localStorage\n\nconst FormData =\nlocalStorage.setItem('FormData',JSON.stringify(FormData))\nFormData = JSON.parse(localStorage.getItem('FormData'))\nlocalStorage.removeItem()\nlocalStorage.clear()\n\n\n//监视数据变换，save.html 变换storage，自身不响应监听，show 响应监听，必须同源\n[](https://www.csdn.net/tags/MtTaIgzsODU5MDYtYmxvZwO0O0OO0O0O.html)\nwindow.addEventListener(\"getItemEvent\", function (e) {\n    console.log('getItemEvent')\n});\nwindow.addEventListener(\"setItemEvent\", function (e) {\n    console.log('setItemEvent')\n});\nwindow.addEventListener('storage', function (e) {\n    console.log('storage')\n})\n\n\n\n# JS正则表达式\n\n^ 匹配一个输入或一行的开头，/^a/匹配\"an A\"，而不匹配\"An a\"\n$ 匹配一个输入或一行的结尾，/a$/匹配\"An a\"，而不匹配\"an A\"\n* 匹配前面元字符0次或多次，/ba*/将匹配b,ba,baa,baaa\n+ 匹配前面元字符1次或多次，/ba*/将匹配ba,baa,baaa\n? 匹配前面元字符0次或1次，/ba*/将匹配b,ba\n(x) 匹配x保存x在名为$1...$9的变量中\nx|y 匹配x或y\n{n} 精确匹配n次\n{n,} 匹配n次以上\n{n,m} 匹配n-m次\n[xyz] 字符集(character set)，匹配这个集合中的任一一个字符(或元字符)\n[^xyz] 不匹配这个集合中的任何一个字符\n[\\b] 匹配一个退格符\n\\b 匹配一个单词的边界\n\\B 匹配一个单词的非边界\n\\cX 这儿，X是一个控制符，/\\cM/匹配Ctrl-M\n\\d 匹配一个字数字符，/\\d/ = /[0-9]/\n\\D 匹配一个非字数字符，/\\D/ = /[^0-9]/\n\\n 匹配一个换行符\n\\r 匹配一个回车符\n\\s 匹配一个空白字符，包括\\n,\\r,\\f,\\t,\\v等\n\\S 匹配一个非空白字符，等于/[^\\n\\f\\r\\t\\v]/\n\\t 匹配一个制表符\n\\v 匹配一个重直制表符\n\\w 匹配一个可以组成单词的字符(alphanumeric，这是我的意译，含数字)，包括下划线，如[\\w]匹配\"$5.98\"中的5，等于[a-zA-Z0-9]\n\\W 匹配一个不可以组成单词的字符，如[\\W]匹配\"$5.98\"中的$，等于[^a-zA-Z0-9]。\n\n\n\n# JS数组对象去重\n\n\n# 参考\n\njavascript 数组对象去重的5种方式\njs中数组对象去重的两种方法\n\n\n# 常用方法\n\n# 数组例子\n\nlet arr = [\n    { url: '', 'image_url': '' },\n    { url: 'https://reactjs.org/', 'image_url': 'https://reactjs.org/' },\n    { url: 'https://jquery.com/', 'image_url': 'https://jquery.com/' },\n    { url: 'https://reactjs.org/', 'image_url': 'https://reactjs.org/' },\n    { url: 'https://jquery.com/', 'image_url': 'https://jquery.com/' },\n]\n\n\n# 利用array.map()和array.find()或者arr.findIndex\n\n// var clearDuplicate1 = (arr, key) => Array.from(new Set(arr.map(e => e[key]))).map(e => arr.find(x => x[key] == e));\nconst clearDuplicate1 = (arr, key) =>Array.from(new Set(arr.map(e => e[key]))).map(e => arr.find(x => x[key] == e))\nconsole.log(clearDuplicate1(arr,'url'))\n\n// var clearDuplicate2 = (arr, key) => Array.from(new Set(arr.map(e => e[key]))).map(e => arr.findIndex(x => x[key] == e)).map(e => arr[e])\nconst clearDuplicate2 = (arr, key) => Array.from(new Set(arr.map(e => e[key]))).map(e => arr.findIndex(x => x[key] == e)).map(e => arr[e])\nconsole.log(clearDuplicate2(arr,'url'))\n\n\n# 利用arr.reduce 和 array.find 和 array.concat\n\nconst clearDuplicate3 = (arr, key) => arr.reduce((acc, current) => {\n    return acc.find(item => item[key] === current[key]) ? acc : acc.concat([current]) \n}, []);\nconsole.log(clearDuplicate3(arr,'url'))\n利用array.filter和set.has 或者 对象访问属性的方法\nconst clearDuplicate4 = (arr, key) => {\n    const set = new Set()\n    return arr.filter(e => {\n        const duplicate = set.has(e[key])\n        set.add(e[key])\n        return !duplicate\n    })\n}\nconsole.log(clearDuplicate4(arr,'url'))\n\nconst clearDuplicate42 = (arr, key) => {\n    const obj = new Object()\n    return arr.filter(e => {\n        return obj[e[key]] ? false:obj[e[key]] = true\n    })\n}\nconsole.log(clearDuplicate42(arr,'url'))\n利用array.filter 和array.map、indexof\nconst clearDuplicate5 = (arr, key) => arr.filter((ele, index, a) => (a.map(e => e[key]).indexOf(ele[key])) ===index)\nconsole.log(clearDuplicate5(arr,'url'))\n\n\n# 利用对象访问属性的方法，判断对象中是否存在key\n\nconst result = [];\nconst obj = {};\nfor (let i = 0; i < arr.length; i++) {\n    if (!obj[arr[i].url]) {\n        if (arr[i].url){//去空\n            result.push(arr[i]);\n        };\n        obj[arr[i].url] = true;\n    }\n}\nconsole.log(result);\n\n\n# 利用reduce方法遍历数组,reduce第一个参数是遍历需要执行的函数，第二个参数是item的初始值\n\nconst obj2 = {};\narr = arr.reduce(function (item, next) {\n    obj2[next.url] ? '' : obj2[next.url] = true && item.push(next);\n    return item;\n}, []);\nconsole.log(arr);\n",normalizedContent:"# 参考\n\n\n# 根据数组字典内某个元素(日期)排序\n\ntasklist=[{\"title\":\"api接口\",\"date\":\"2022-03-21 16:48:39\",\"tags\":\"\"},{\"title\":\"css简单小问题\",\"date\":\"2022-5-21 16:46:26\",\"tags\":\"\"},{\"title\":\"axios的基本使用\",\"date\":\"2022-4-21 16:38:20\",\"tags\":\"axios\"}]\nconst date2timestamp =date => new date(date.substring(0,19).replace(/-/g,'/')).gettime();\nconst compare  =  property => (a,b) => date2timestamp(a[property]) -date2timestamp(b[property])\nconsole.log(tasklist.sort(compare('date')))\n\n\n\n# js 时间字符串与时间戳之间的转换\n\n\n# 参考\n\njs 时间字符串与时间戳之间的转换\n\n# 字符转时间戳\n\nconst date = '2015-03-05 17:59:00.0';   \nconst date2timestamp =date => new date(date.substring(0,19).replace(/-/g,'/')).gettime();\nconsole.log(date2timestamp(date))\n\n\n\n# js--map函数的使用\n\nlet array = [1, 2, 3, 4, 5];\nlet newarray = array.map((item) => {\n    return item * item;\n})\nconsole.log(newarray)  // [1, 4, 9, 16, 25]\n\n\n\n# 下载图片\n\n\n# html-download属性\n\n\x3c!-- 不同源是直接打开而不是下载 --\x3e\n\x3c!-- <a href=\"https://www.google.com/favicon.ico\" download=\"favicon.ico\" id=\"favicon\">download file</a> --\x3e\n<a href=\"./images/www.google.com/favicon.ico\" download=\"favicon.ico\" id=\"favicon\">download file</a>\n\n\n\n# 检测浏览器是否支持\n\nconsole.log('download' in document.createelement('a'))\n\n\n\n# 自动点击标签\n\n<script>\n    //自动点击的方法 clickid 点击事件的id属性值  字符串类型\n    autoclick(clickid=\"favicon\")\n    function autoclick(clickid) {\n        // ie\n        if (document.all) {\n            document.getelementbyid(clickid).click();\n        }\n        // 其它浏览器\n        else {\n            const e = document.createevent(\"mouseevents\");\n            e.initevent(\"click\", true, true);\n            document.getelementbyid(clickid).dispatchevent(e);\n        }\n    }\n<\/script>\n\n\n\n# nodejs下载图片\n\nconst request = require('request');//也是请求网址模块，只不过下载图片的函数比较简单，所以用这个\nconst fs = require('fs');//用于操作文件流\n\nconst img_url = \"https://www.baidu.com/favicon.ico\"\nconst file_name = 'favicon.ico'\ndownload_img(img_url, file_name)\n\n// 异步执行函数，用于下载图片，接收图片地址，和文件命名方式两个参数。\nasync function download_img(img_url, file_name){\nawait request(img_url).pipe(fs.createwritestream(file_name)).on('close',function(){\n    console.log('pic saved!')\n})\n}\n\n\n\n# arguments 是一个对应于传递给函数的参数的类数组对象。\n\n\n# set 对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。\n\n\n# javascript 标准内置对象\n\nfunction.prototype.apply() \n    方法调用一个具有给定this值的函数，以及以一个数组（或类数组对象）的形式提供的参数。\nfunction.prototype.call() \n    方法使用一个指定的 this 值和单独给出的一个或多个参数来调用一个函数。\nfunction.prototype.call()\n    方法使用一个指定的 this 值和单独给出的一个或多个参数来调用一个函数。\narray.from() 方法对一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。\n\n\n\n# document.queryselector\n\n\n# js剪切板\n\n\n# 参考\n\nmdn-clipboard\n\n[mdn-navigator.clipboard](https://developer.mozilla.org/zh-cn/docs/web/api/navigator/\n\n剪贴板操作 clipboard api 教程\n\njavascript 技术篇-navigator.permissions读取chrome剪切板权限获取不生效原因：只有在https协议下使用有效。手动设置chrome页面剪切板读取权限方法\n\njs 获取剪贴板值\n\n已废弃document.execcommand\n\nwindow.clipboarddata 不行\n\n简单的复制文本到剪切板\n\n\n# localstorage\n\nconst formdata =\nlocalstorage.setitem('formdata',json.stringify(formdata))\nformdata = json.parse(localstorage.getitem('formdata'))\nlocalstorage.removeitem()\nlocalstorage.clear()\n\n\n//监视数据变换，save.html 变换storage，自身不响应监听，show 响应监听，必须同源\n[](https://www.csdn.net/tags/mttaigzsodu5mdytymxvzwo0o0oo0o0o.html)\nwindow.addeventlistener(\"getitemevent\", function (e) {\n    console.log('getitemevent')\n});\nwindow.addeventlistener(\"setitemevent\", function (e) {\n    console.log('setitemevent')\n});\nwindow.addeventlistener('storage', function (e) {\n    console.log('storage')\n})\n\n\n\n# js正则表达式\n\n^ 匹配一个输入或一行的开头，/^a/匹配\"an a\"，而不匹配\"an a\"\n$ 匹配一个输入或一行的结尾，/a$/匹配\"an a\"，而不匹配\"an a\"\n* 匹配前面元字符0次或多次，/ba*/将匹配b,ba,baa,baaa\n+ 匹配前面元字符1次或多次，/ba*/将匹配ba,baa,baaa\n? 匹配前面元字符0次或1次，/ba*/将匹配b,ba\n(x) 匹配x保存x在名为$1...$9的变量中\nx|y 匹配x或y\n{n} 精确匹配n次\n{n,} 匹配n次以上\n{n,m} 匹配n-m次\n[xyz] 字符集(character set)，匹配这个集合中的任一一个字符(或元字符)\n[^xyz] 不匹配这个集合中的任何一个字符\n[\\b] 匹配一个退格符\n\\b 匹配一个单词的边界\n\\b 匹配一个单词的非边界\n\\cx 这儿，x是一个控制符，/\\cm/匹配ctrl-m\n\\d 匹配一个字数字符，/\\d/ = /[0-9]/\n\\d 匹配一个非字数字符，/\\d/ = /[^0-9]/\n\\n 匹配一个换行符\n\\r 匹配一个回车符\n\\s 匹配一个空白字符，包括\\n,\\r,\\f,\\t,\\v等\n\\s 匹配一个非空白字符，等于/[^\\n\\f\\r\\t\\v]/\n\\t 匹配一个制表符\n\\v 匹配一个重直制表符\n\\w 匹配一个可以组成单词的字符(alphanumeric，这是我的意译，含数字)，包括下划线，如[\\w]匹配\"$5.98\"中的5，等于[a-za-z0-9]\n\\w 匹配一个不可以组成单词的字符，如[\\w]匹配\"$5.98\"中的$，等于[^a-za-z0-9]。\n\n\n\n# js数组对象去重\n\n\n# 参考\n\njavascript 数组对象去重的5种方式\njs中数组对象去重的两种方法\n\n\n# 常用方法\n\n# 数组例子\n\nlet arr = [\n    { url: '', 'image_url': '' },\n    { url: 'https://reactjs.org/', 'image_url': 'https://reactjs.org/' },\n    { url: 'https://jquery.com/', 'image_url': 'https://jquery.com/' },\n    { url: 'https://reactjs.org/', 'image_url': 'https://reactjs.org/' },\n    { url: 'https://jquery.com/', 'image_url': 'https://jquery.com/' },\n]\n\n\n# 利用array.map()和array.find()或者arr.findindex\n\n// var clearduplicate1 = (arr, key) => array.from(new set(arr.map(e => e[key]))).map(e => arr.find(x => x[key] == e));\nconst clearduplicate1 = (arr, key) =>array.from(new set(arr.map(e => e[key]))).map(e => arr.find(x => x[key] == e))\nconsole.log(clearduplicate1(arr,'url'))\n\n// var clearduplicate2 = (arr, key) => array.from(new set(arr.map(e => e[key]))).map(e => arr.findindex(x => x[key] == e)).map(e => arr[e])\nconst clearduplicate2 = (arr, key) => array.from(new set(arr.map(e => e[key]))).map(e => arr.findindex(x => x[key] == e)).map(e => arr[e])\nconsole.log(clearduplicate2(arr,'url'))\n\n\n# 利用arr.reduce 和 array.find 和 array.concat\n\nconst clearduplicate3 = (arr, key) => arr.reduce((acc, current) => {\n    return acc.find(item => item[key] === current[key]) ? acc : acc.concat([current]) \n}, []);\nconsole.log(clearduplicate3(arr,'url'))\n利用array.filter和set.has 或者 对象访问属性的方法\nconst clearduplicate4 = (arr, key) => {\n    const set = new set()\n    return arr.filter(e => {\n        const duplicate = set.has(e[key])\n        set.add(e[key])\n        return !duplicate\n    })\n}\nconsole.log(clearduplicate4(arr,'url'))\n\nconst clearduplicate42 = (arr, key) => {\n    const obj = new object()\n    return arr.filter(e => {\n        return obj[e[key]] ? false:obj[e[key]] = true\n    })\n}\nconsole.log(clearduplicate42(arr,'url'))\n利用array.filter 和array.map、indexof\nconst clearduplicate5 = (arr, key) => arr.filter((ele, index, a) => (a.map(e => e[key]).indexof(ele[key])) ===index)\nconsole.log(clearduplicate5(arr,'url'))\n\n\n# 利用对象访问属性的方法，判断对象中是否存在key\n\nconst result = [];\nconst obj = {};\nfor (let i = 0; i < arr.length; i++) {\n    if (!obj[arr[i].url]) {\n        if (arr[i].url){//去空\n            result.push(arr[i]);\n        };\n        obj[arr[i].url] = true;\n    }\n}\nconsole.log(result);\n\n\n# 利用reduce方法遍历数组,reduce第一个参数是遍历需要执行的函数，第二个参数是item的初始值\n\nconst obj2 = {};\narr = arr.reduce(function (item, next) {\n    obj2[next.url] ? '' : obj2[next.url] = true && item.push(next);\n    return item;\n}, []);\nconsole.log(arr);\n",charsets:{cjk:!0}},{title:"Linux clash使用指南",frontmatter:{title:"Linux clash使用指南",date:"2022-04-02T10:19:29.000Z",permalink:"/pages/b4310a/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/Linux%20clash%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97.html",relativePath:"_posts/随笔/Linux clash使用指南.md",key:"v-0314a71a",path:"/pages/b4310a/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Nuxt.js的基本使用",frontmatter:{title:"Nuxt.js的基本使用",date:"2022-04-07T00:56:30.000Z",tags:["Nuxt"],author:"lixuwen",permalink:"/pages/e50d3f/",sidebar:"auto",categories:["随笔"]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/Nuxt.js%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/Nuxt.js的基本使用.md",key:"v-1c909bf1",path:"/pages/e50d3f/",headers:[{level:3,title:"简介",slug:"简介",normalizedTitle:"简介",charIndex:10},{level:3,title:"hello world",slug:"hello-world",normalizedTitle:"hello world",charIndex:87},{level:3,title:"Nuxt.js优点",slug:"nuxt-js优点",normalizedTitle:"nuxt.js优点",charIndex:434},{level:3,title:"安装",slug:"安装",normalizedTitle:"安装",charIndex:617},{level:3,title:"目录结构",slug:"目录结构",normalizedTitle:"目录结构",charIndex:687},{level:3,title:"Nuxt常用配置项",slug:"nuxt常用配置项",normalizedTitle:"nuxt常用配置项",charIndex:1494},{level:4,title:"修改端口",slug:"修改端口",normalizedTitle:"修改端口",charIndex:1507},{level:3,title:"配置css",slug:"配置css",normalizedTitle:"配置css",charIndex:1614},{level:3,title:"路由",slug:"路由",normalizedTitle:"路由",charIndex:483},{level:3,title:"Nuxt的动态路由和参数校验",slug:"nuxt的动态路由和参数校验",normalizedTitle:"nuxt的动态路由和参数校验",charIndex:3138},{level:3,title:"Nuxt的路由动画效果",slug:"nuxt的路由动画效果",normalizedTitle:"nuxt的路由动画效果",charIndex:3798},{level:3,title:"默认模板和默认布局",slug:"默认模板和默认布局",normalizedTitle:"默认模板和默认布局",charIndex:4288},{level:3,title:"Nuxt的错误页面和个性meta设置",slug:"nuxt的错误页面和个性meta设置",normalizedTitle:"nuxt的错误页面和个性meta设置",charIndex:4623},{level:3,title:"asyncData方法获取数据",slug:"asyncdata方法获取数据",normalizedTitle:"asyncdata方法获取数据",charIndex:5520},{level:3,title:"静态资源和打包",slug:"静态资源和打包",normalizedTitle:"静态资源和打包",charIndex:6742},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:7423}],headersStr:"简介 hello world Nuxt.js优点 安装 目录结构 Nuxt常用配置项 修改端口 配置css 路由 Nuxt的动态路由和参数校验 Nuxt的路由动画效果 默认模板和默认布局 Nuxt的错误页面和个性meta设置 asyncData方法获取数据 静态资源和打包 参考",content:'[TOC]\n\n\n# 简介\n\nNuxtJS 让你构建你的下一个 Vue.js 应用程序变得更有信心。这是一个 开源 的框架，让 web 开发变得简单而强大。\n\n\n1\n\n\n\n# hello world\n\nnpm install vue-cli -g\ncd z:/test && Z:\nmkdir nuxtDomo\ncd nuxtDomo\n// package.json 文件用来设定如何运行 nuxt\n   "scripts": {\n    "dev": "nuxt"\n   }\nnpm init -y\nnpm install --save nuxt\n// pages 目录\nmkdir pages \nnew-item pages/index.vue\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\npages/index.vue\n\n<template>\n <h1>Hello world!</h1>\n</template>\n\n\n1\n2\n3\n\n\n\n# Nuxt.js优点\n\n * 基于 Vue.js\n * 自动代码分层\n * 服务端渲染\n * 强大的路由功能，支持异步数据\n * 静态文件服务\n * ES6/ES7 语法支持\n * 打包和压缩 JS 和 CSS\n * HTML头部标签管理\n * 本地开发支持热加载\n * 集成ESLint\n * 支持各种样式预处理器： SASS、LESS、 Stylus等等\n\n\n# 安装\n\nnpx create-nuxt-app nuxtdemo\ncd nuxtdemo\nnpm run dev\n\n\n1\n2\n3\n\n\n\n# 目录结构\n\n|-- .nuxt             // Nuxt自动生成，临时的用于编辑的文件，build\n|-- assets            // 用于组织未编译的静态资源入LESS、SASS 或 JavaScript\n|-- components        // 用于自己编写的Vue组件，比如滚动组件，日历组件，分页组件\n|-- layouts           // 布局目录，用于组织应用的布局组件，不可更改。\n|-- middleware        // 用于存放中间件\n|-- pages             // 用于存放写的页面，我们主要的工作区域\n|-- plugins           // 用于存放JavaScript插件的地方\n|-- static            // 用于存放静态资源文件，比如图片\n|-- store             // 用于组织应用的Vuex 状态管理。\n|-- .editorconfig     // 开发工具格式配置\n|-- .eslintrc.js      // ESLint的配置文件，用于检查代码格式\n|-- .gitignore        // 配置git不上传的文件\n|-- nuxt.config.json  // 用于组织Nuxt.js应用的个性化配置，已覆盖默认配置\n|-- package-lock.json // npm自动生成，用于帮助package的统一性设置的，yarn也有相同的操作\n|-- package-lock.json // npm自动生成，用于帮助package的统一性设置的，yarn也有相同的操作\n|-- package.json      // npm包管理配置文件\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# Nuxt常用配置项\n\n# 修改端口\n\npackage.json添加：\n\n"config":{\n\t"nuxt":{\n\t"host": "127.0.0.1",\n\t"port": "4000"\n\t}\n},\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 配置css\n\nmd assets/css \nnew-item assets/css/normailze.css,pages/user.vue\n\n\n1\n2\n\n\nnuxt.config.js添加\n\ncss: [\n        "~assets/css/normailze.css"\n    ],\n\n\n1\n2\n3\n\n\nnormailze.css\n\nhtml {\n  color: red !important;\n}\n\n\n1\n2\n3\n\n\npages/user.vue\n\n<template>\n  <div class="">\n    user\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n\n\n配置build\n\n// Build Configuration: https://go.nuxtjs.dev/config-build\n    build: {\n        loader: [\n            {\n                test: /\\.(png|jpe?g|gif|svg)$/,\n                loader: "url-loader",\n                query: {\n                    limit: 10000,\n                    name: "img/[name].[hash].[ext]"\n                }\n            }\n        ]\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 路由\n\nmd pages/about,pages/news\nnew-item pages/about/index.vue,pages/news/index.vue\n\n\n1\n2\n\n\nindex.vue\n\n<template>\n  <div>\n    <ul>\n      <li>\n        <nuxt-link :to="{name: \'index\'}">Home</nuxt-link>\n      </li>\n      <li>\n        <nuxt-link :to="{name: \'about\'}">About</nuxt-link>\n      </li>\n      <li>\n        <nuxt-link :to="{name:\'news\',params:{newId:3306}}">News</nuxt-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\npages/about/index\n\n<template>\n  <div class="">\n    <h2>about</h2>\n    <nuxt-link :to="{name: \'index\'}">Home</nuxt-link>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n\n\npages/news/index.vue\n\n<template>\n  <div class="">\n    <h2>news</h2>\n    <p>NewsID:{{$route.params.newId}}</p>\n    <nuxt-link :to="{name: \'index\'}">Home</nuxt-link>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Nuxt的动态路由和参数校验\n\nnew-item pages/news/_id.vue\n\n\n1\n\n\npages/news/_id.vue\n\n<template>\n  <div>\n    <h2>News-Content [{{$route.params.id}}]</h2>\n    <ul>\n      <li>\n        <nuxt-link :to="{name:\'index\'}">Index</nuxt-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  validate ({ params }) {\n    // Must be a number\n    return /^\\d+$/.test(params.id)\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\npages/news/index.vue加上\n\n若不清楚生成的name是什么，可以看.nuxt\\router.js\n\n<nuxt-link :to="{name:\'news-id\',params:{id:123}}">News-1</nuxt-link>\n    <br>\n<nuxt-link :to="{name:\'news-id\',params:{id:\'abc\'}}">News-2</nuxt-link>\n\n\n1\n2\n3\n\n\n\n# Nuxt的路由动画效果\n\nassets\\css\\normailze.css\n\n.page-enter-active,\n.page-leave-active {\n  transition: opacity 2s;\n}\n\n.page-enter,\n.page-leave-active {\n  transition: opacity 0;\n}\n\n.test-enter-active,\n.test-leave-active {\n  transition: all 2s;\n  font-size: 12px;\n}\n\n.test-enter,\n.test-leave-active {\n  transition: opacity 0;\n  font-size: 40px;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nabout/index.vue加上：\n\n<script>\nexport default {\n  transition: \'test\'\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 默认模板和默认布局\n\nmkdir layouts\nnew-item app.html,layouts/default.vue\n\n\n1\n2\n\n\nlayouts\n\n<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    {{HEAD}}\n</head>\n\n<body>\n    {{默认模板}}\n    {{APP}}\n</body>\n\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nlayouts/default.vue\n\n<template>\n  <div>\n    <p>默认布局</p>\n    <nuxt />\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# Nuxt的错误页面和个性meta设置\n\nnew-item layouts/error.vue\n\n\n1\n\n\nerror.vue\n\n<template>\n  <div>\n    <h2 v-if="error.statusCode == 404">404页面不存在</h2>\n    <h2 v-else>500服务器错误</h2>\n    <ul>\n      <li>\n        <nuxt-link to="index">Home</nuxt-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\'error\'],\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\npages/news/index.vue加上title\n\n<nuxt-link :to="{name:\'news-id\',params:{id:123,title:\'wenxuli\'}}">News-1</nuxt-link>\n</br>\n<nuxt-link :to="{name:\'news-id\',params:{id:\'abc\',title:\'wenxuli\'}}">News-2</nuxt-link>\n\n\n1\n2\n3\n\n\n_id.vue加上：\n\ndata () {\n    return {\n      title: this.$route.params.title,\n    }\n  },\n  //   独立设置head信息\n  head () {\n    return {\n      title: this.title,\n      meta: [\n        { hid: \'description\', name: \'news\', content: \'This is news page\' }\n      ]\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# asyncData方法获取数据\n\n远程假数据\n\nnpm install -g json-server\njson-server -v\nmkdir mock\nnew-item mock/db.json\necho \'{"name":"mock","version":"1.0.0","description":"","main":"index.js","scripts":{"mock":"json-server --watch db.json --port 4000"},"keywords":[],"author":"","license":"ISC"}\'>mock/package.json\nstart cmd\ncd mock\njson-server --watch db.json --port 4000\n\n//简便方法 \nnpm init -y\nmock/package.json加上\n"scripts": {\n    "start": "json-server --watch db.json --port 4000"\n  },\n npm start\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\ndb.json\n\n{\n    "data": {\n        "name": "JSPang",\n        "age": 18,\n        "interest": "I love coding!"\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n假数据url：http://localhost:4000/data\n\nnpm install axios --save\nnew-item pages\\ansyData.vue\n\n\n1\n2\n\n\npages\\ansyData.vue\n\n<template>\n  <div>\n    <h1>姓名：{{info.name}}</h1>\n    <h2>年龄：{{info.age}}</h2>\n    <h2>兴趣：{{info.interest}}</h2>\n\n  </div>\n</template>\n<script>\nimport axios from \'axios\'\nexport default {\n  data () {\n    return {\n      name: \'hello World\',\n    }\n  },\n  async asyncData () {\n    let { data } = await axios.get(\'http://localhost:4000/data\')\n    return { info: data }\n\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 静态资源和打包\n\n直接引入图片\n\n我们在网上任意下载一个图片，放到项目中的static文件夹下面，然后可以使用下面的引入方法进行引用\n\n<div><img src="~static/logo.png" /></div>\n\n\n1\n\n\n这种引用方法是不用估计相对路径的，“~”就相当于定位到了项目跟目录，这时候你的图片路径就不会出现错误，就算打包也是正常的。\n\nCSS引入图片\n\n如果在CSS中引入图片，方法和html中直接引入是一样的，也是用“~”符号引入。\n\n<style>\n  .diss{\n    width: 300px;\n    height: 100px;\n    background-image: url(\'~static/logo.png\')\n  }\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这时候在npm run dev 下是完全正常的，那我们看一下打包。\n\n打包静态HTML并运行\n\n用Nuxt.js制作完成后，你可以打包成静态文件并放在服务器上，进行运行。\n\n在终端中输入：\n\nnpm run generate\nnpm i -g live-server\ncd dist \nlive-server\n\n\n1\n2\n3\n4\n\n\n然后在dist文件夹下输入live-server就可以了。\n\n总结：Nuxt.js框架非常简单，因为大部分的事情他都为我们做好了，我们只要安装它的规则来编写代码。我相信小伙伴通过10节课的学习，已经可以做出自己想要的效果了，Nuxt.js这个技能树也算点亮了。期待更多实用课程，我们下套课程见了。\n\n\n# 参考\n\nnuxtjs\n\nNuxt.js免费视频教程 开启SSR渲染 ( 共10集)\n\nNuxt.js免费视频教程 开启SSR渲染',normalizedContent:'[toc]\n\n\n# 简介\n\nnuxtjs 让你构建你的下一个 vue.js 应用程序变得更有信心。这是一个 开源 的框架，让 web 开发变得简单而强大。\n\n\n1\n\n\n\n# hello world\n\nnpm install vue-cli -g\ncd z:/test && z:\nmkdir nuxtdomo\ncd nuxtdomo\n// package.json 文件用来设定如何运行 nuxt\n   "scripts": {\n    "dev": "nuxt"\n   }\nnpm init -y\nnpm install --save nuxt\n// pages 目录\nmkdir pages \nnew-item pages/index.vue\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\npages/index.vue\n\n<template>\n <h1>hello world!</h1>\n</template>\n\n\n1\n2\n3\n\n\n\n# nuxt.js优点\n\n * 基于 vue.js\n * 自动代码分层\n * 服务端渲染\n * 强大的路由功能，支持异步数据\n * 静态文件服务\n * es6/es7 语法支持\n * 打包和压缩 js 和 css\n * html头部标签管理\n * 本地开发支持热加载\n * 集成eslint\n * 支持各种样式预处理器： sass、less、 stylus等等\n\n\n# 安装\n\nnpx create-nuxt-app nuxtdemo\ncd nuxtdemo\nnpm run dev\n\n\n1\n2\n3\n\n\n\n# 目录结构\n\n|-- .nuxt             // nuxt自动生成，临时的用于编辑的文件，build\n|-- assets            // 用于组织未编译的静态资源入less、sass 或 javascript\n|-- components        // 用于自己编写的vue组件，比如滚动组件，日历组件，分页组件\n|-- layouts           // 布局目录，用于组织应用的布局组件，不可更改。\n|-- middleware        // 用于存放中间件\n|-- pages             // 用于存放写的页面，我们主要的工作区域\n|-- plugins           // 用于存放javascript插件的地方\n|-- static            // 用于存放静态资源文件，比如图片\n|-- store             // 用于组织应用的vuex 状态管理。\n|-- .editorconfig     // 开发工具格式配置\n|-- .eslintrc.js      // eslint的配置文件，用于检查代码格式\n|-- .gitignore        // 配置git不上传的文件\n|-- nuxt.config.json  // 用于组织nuxt.js应用的个性化配置，已覆盖默认配置\n|-- package-lock.json // npm自动生成，用于帮助package的统一性设置的，yarn也有相同的操作\n|-- package-lock.json // npm自动生成，用于帮助package的统一性设置的，yarn也有相同的操作\n|-- package.json      // npm包管理配置文件\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# nuxt常用配置项\n\n# 修改端口\n\npackage.json添加：\n\n"config":{\n\t"nuxt":{\n\t"host": "127.0.0.1",\n\t"port": "4000"\n\t}\n},\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 配置css\n\nmd assets/css \nnew-item assets/css/normailze.css,pages/user.vue\n\n\n1\n2\n\n\nnuxt.config.js添加\n\ncss: [\n        "~assets/css/normailze.css"\n    ],\n\n\n1\n2\n3\n\n\nnormailze.css\n\nhtml {\n  color: red !important;\n}\n\n\n1\n2\n3\n\n\npages/user.vue\n\n<template>\n  <div class="">\n    user\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n\n\n配置build\n\n// build configuration: https://go.nuxtjs.dev/config-build\n    build: {\n        loader: [\n            {\n                test: /\\.(png|jpe?g|gif|svg)$/,\n                loader: "url-loader",\n                query: {\n                    limit: 10000,\n                    name: "img/[name].[hash].[ext]"\n                }\n            }\n        ]\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 路由\n\nmd pages/about,pages/news\nnew-item pages/about/index.vue,pages/news/index.vue\n\n\n1\n2\n\n\nindex.vue\n\n<template>\n  <div>\n    <ul>\n      <li>\n        <nuxt-link :to="{name: \'index\'}">home</nuxt-link>\n      </li>\n      <li>\n        <nuxt-link :to="{name: \'about\'}">about</nuxt-link>\n      </li>\n      <li>\n        <nuxt-link :to="{name:\'news\',params:{newid:3306}}">news</nuxt-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\npages/about/index\n\n<template>\n  <div class="">\n    <h2>about</h2>\n    <nuxt-link :to="{name: \'index\'}">home</nuxt-link>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n\n\npages/news/index.vue\n\n<template>\n  <div class="">\n    <h2>news</h2>\n    <p>newsid:{{$route.params.newid}}</p>\n    <nuxt-link :to="{name: \'index\'}">home</nuxt-link>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# nuxt的动态路由和参数校验\n\nnew-item pages/news/_id.vue\n\n\n1\n\n\npages/news/_id.vue\n\n<template>\n  <div>\n    <h2>news-content [{{$route.params.id}}]</h2>\n    <ul>\n      <li>\n        <nuxt-link :to="{name:\'index\'}">index</nuxt-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  validate ({ params }) {\n    // must be a number\n    return /^\\d+$/.test(params.id)\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\npages/news/index.vue加上\n\n若不清楚生成的name是什么，可以看.nuxt\\router.js\n\n<nuxt-link :to="{name:\'news-id\',params:{id:123}}">news-1</nuxt-link>\n    <br>\n<nuxt-link :to="{name:\'news-id\',params:{id:\'abc\'}}">news-2</nuxt-link>\n\n\n1\n2\n3\n\n\n\n# nuxt的路由动画效果\n\nassets\\css\\normailze.css\n\n.page-enter-active,\n.page-leave-active {\n  transition: opacity 2s;\n}\n\n.page-enter,\n.page-leave-active {\n  transition: opacity 0;\n}\n\n.test-enter-active,\n.test-leave-active {\n  transition: all 2s;\n  font-size: 12px;\n}\n\n.test-enter,\n.test-leave-active {\n  transition: opacity 0;\n  font-size: 40px;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nabout/index.vue加上：\n\n<script>\nexport default {\n  transition: \'test\'\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 默认模板和默认布局\n\nmkdir layouts\nnew-item app.html,layouts/default.vue\n\n\n1\n2\n\n\nlayouts\n\n<!doctype html>\n<html lang="en">\n\n<head>\n    {{head}}\n</head>\n\n<body>\n    {{默认模板}}\n    {{app}}\n</body>\n\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nlayouts/default.vue\n\n<template>\n  <div>\n    <p>默认布局</p>\n    <nuxt />\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# nuxt的错误页面和个性meta设置\n\nnew-item layouts/error.vue\n\n\n1\n\n\nerror.vue\n\n<template>\n  <div>\n    <h2 v-if="error.statuscode == 404">404页面不存在</h2>\n    <h2 v-else>500服务器错误</h2>\n    <ul>\n      <li>\n        <nuxt-link to="index">home</nuxt-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\'error\'],\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\npages/news/index.vue加上title\n\n<nuxt-link :to="{name:\'news-id\',params:{id:123,title:\'wenxuli\'}}">news-1</nuxt-link>\n</br>\n<nuxt-link :to="{name:\'news-id\',params:{id:\'abc\',title:\'wenxuli\'}}">news-2</nuxt-link>\n\n\n1\n2\n3\n\n\n_id.vue加上：\n\ndata () {\n    return {\n      title: this.$route.params.title,\n    }\n  },\n  //   独立设置head信息\n  head () {\n    return {\n      title: this.title,\n      meta: [\n        { hid: \'description\', name: \'news\', content: \'this is news page\' }\n      ]\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# asyncdata方法获取数据\n\n远程假数据\n\nnpm install -g json-server\njson-server -v\nmkdir mock\nnew-item mock/db.json\necho \'{"name":"mock","version":"1.0.0","description":"","main":"index.js","scripts":{"mock":"json-server --watch db.json --port 4000"},"keywords":[],"author":"","license":"isc"}\'>mock/package.json\nstart cmd\ncd mock\njson-server --watch db.json --port 4000\n\n//简便方法 \nnpm init -y\nmock/package.json加上\n"scripts": {\n    "start": "json-server --watch db.json --port 4000"\n  },\n npm start\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\ndb.json\n\n{\n    "data": {\n        "name": "jspang",\n        "age": 18,\n        "interest": "i love coding!"\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n假数据url：http://localhost:4000/data\n\nnpm install axios --save\nnew-item pages\\ansydata.vue\n\n\n1\n2\n\n\npages\\ansydata.vue\n\n<template>\n  <div>\n    <h1>姓名：{{info.name}}</h1>\n    <h2>年龄：{{info.age}}</h2>\n    <h2>兴趣：{{info.interest}}</h2>\n\n  </div>\n</template>\n<script>\nimport axios from \'axios\'\nexport default {\n  data () {\n    return {\n      name: \'hello world\',\n    }\n  },\n  async asyncdata () {\n    let { data } = await axios.get(\'http://localhost:4000/data\')\n    return { info: data }\n\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 静态资源和打包\n\n直接引入图片\n\n我们在网上任意下载一个图片，放到项目中的static文件夹下面，然后可以使用下面的引入方法进行引用\n\n<div><img src="~static/logo.png" /></div>\n\n\n1\n\n\n这种引用方法是不用估计相对路径的，“~”就相当于定位到了项目跟目录，这时候你的图片路径就不会出现错误，就算打包也是正常的。\n\ncss引入图片\n\n如果在css中引入图片，方法和html中直接引入是一样的，也是用“~”符号引入。\n\n<style>\n  .diss{\n    width: 300px;\n    height: 100px;\n    background-image: url(\'~static/logo.png\')\n  }\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这时候在npm run dev 下是完全正常的，那我们看一下打包。\n\n打包静态html并运行\n\n用nuxt.js制作完成后，你可以打包成静态文件并放在服务器上，进行运行。\n\n在终端中输入：\n\nnpm run generate\nnpm i -g live-server\ncd dist \nlive-server\n\n\n1\n2\n3\n4\n\n\n然后在dist文件夹下输入live-server就可以了。\n\n总结：nuxt.js框架非常简单，因为大部分的事情他都为我们做好了，我们只要安装它的规则来编写代码。我相信小伙伴通过10节课的学习，已经可以做出自己想要的效果了，nuxt.js这个技能树也算点亮了。期待更多实用课程，我们下套课程见了。\n\n\n# 参考\n\nnuxtjs\n\nnuxt.js免费视频教程 开启ssr渲染 ( 共10集)\n\nnuxt.js免费视频教程 开启ssr渲染',charsets:{cjk:!0}},{title:"的基本使用",frontmatter:{title:"的基本使用",date:"2022-04-06T16:10:05.000Z",permalink:"/pages/111443/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/Nuxt3.%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/Nuxt3.的基本使用.md",key:"v-165fc73e",path:"/pages/111443/",headers:[{level:3,title:"Nuxt3的简介",slug:"nuxt3的简介",normalizedTitle:"nuxt3的简介",charIndex:2},{level:3,title:"初始化",slug:"初始化",normalizedTitle:"初始化",charIndex:353},{level:3,title:"Nuxt3的优势介绍",slug:"nuxt3的优势介绍",normalizedTitle:"nuxt3的优势介绍",charIndex:448},{level:3,title:"Nuxt3的目录结构",slug:"nuxt3的目录结构",normalizedTitle:"nuxt3的目录结构",charIndex:931},{level:3,title:"编写Hello World程序",slug:"编写hello-world程序",normalizedTitle:"编写hello world程序",charIndex:1525},{level:3,title:"页面和约定路由的使用",slug:"页面和约定路由的使用",normalizedTitle:"页面和约定路由的使用",charIndex:1619},{level:3,title:"最小应用",slug:"最小应用",normalizedTitle:"最小应用",charIndex:1690},{level:3,title:"Nuxt3创建页面,约定路由",slug:"nuxt3创建页面-约定路由",normalizedTitle:"nuxt3创建页面,约定路由",charIndex:1772},{level:3,title:"NuxtLink标签的使用",slug:"nuxtlink标签的使用",normalizedTitle:"nuxtlink标签的使用",charIndex:1885},{level:3,title:"动态路由的使用(Dynamic Routes)",slug:"动态路由的使用-dynamic-routes",normalizedTitle:"动态路由的使用(dynamic routes)",charIndex:2081},{level:4,title:"单参数的传递",slug:"单参数的传递",normalizedTitle:"单参数的传递",charIndex:2108},{level:4,title:"在script里获取参数",slug:"在script里获取参数",normalizedTitle:"在script里获取参数",charIndex:2248},{level:4,title:"多参数的获取",slug:"多参数的获取",normalizedTitle:"多参数的获取",charIndex:2360},{level:3,title:"嵌套路由",slug:"嵌套路由",normalizedTitle:"嵌套路由",charIndex:2447},{level:3,title:"页面布局",slug:"页面布局",normalizedTitle:"页面布局",charIndex:2621},{level:3,title:"自定义布局文件",slug:"自定义布局文件",normalizedTitle:"自定义布局文件",charIndex:2805},{level:4,title:"使用NuxtLayout",slug:"使用nuxtlayout",normalizedTitle:"使用nuxtlayout",charIndex:2884},{level:4,title:"配合",slug:"配合",normalizedTitle:"配合",charIndex:3350},{level:3,title:"组件自动导入",slug:"组件自动导入",normalizedTitle:"组件自动导入",charIndex:3521},{level:3,title:"自动导入组件",slug:"自动导入组件",normalizedTitle:"自动导入组件",charIndex:3532},{level:3,title:"组件名称约定",slug:"组件名称约定",normalizedTitle:"组件名称约定",charIndex:3755},{level:3,title:"组件懒加载",slug:"组件懒加载",normalizedTitle:"组件懒加载",charIndex:3894},{level:3,title:"数据获取",slug:"数据获取",normalizedTitle:"数据获取",charIndex:4215},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:4340},{level:4,title:"历时两个月！Nuxt3从入门到实战！你值得收藏！",slug:"历时两个月-nuxt3从入门到实战-你值得收藏",normalizedTitle:"历时两个月！nuxt3从入门到实战！你值得收藏！",charIndex:4352}],headersStr:"Nuxt3的简介 初始化 Nuxt3的优势介绍 Nuxt3的目录结构 编写Hello World程序 页面和约定路由的使用 最小应用 Nuxt3创建页面,约定路由 NuxtLink标签的使用 动态路由的使用(Dynamic Routes) 单参数的传递 在script里获取参数 多参数的获取 嵌套路由 页面布局 自定义布局文件 使用NuxtLayout 配合 组件自动导入 自动导入组件 组件名称约定 组件懒加载 数据获取 参考 历时两个月！Nuxt3从入门到实战！你值得收藏！",content:'# Nuxt3的简介\n\nNuxt3是基于Vue3发布的SSR框架，也是Vue全家桶系列的一员。如果你了解Nuxt2，应该也了解Nuxt3的使命和用途。但是如果你不了解，你需要先知道两个概念。\n\n * SPA应用：也就是单页应用，这些多是在客户端的应用，不能进行SEO优化（搜索引擎优化）。\n * SSR应用：在服务端进行渲染，渲染完成后返回给客户端，每个页面有独立的URL，对SEO友好。\n\n所以如果你开发的应用是企业网站、商品展示 、博客这类型的展示型网站，就需要使用搜索引擎喜欢的SSR应用。当我们明白这两个概念后，再来看Nuxt3的使命。因为Vue开发的应用默认是单页应用（SPA应用），但如果你想针对于搜索优化，就需要使用Vue的SSR模式开发，而Nuxt3就是Vue的SSR开发的框架。\n\n\n# 初始化\n\ncd Z:test && cd Z:\nnpx nuxi init nuxt3-test\nnuxt3-test\nnpm i\nnpm run dev\n\n\n1\n2\n3\n4\n5\n\n\n\n# Nuxt3的优势介绍\n\n * 更轻量：以现代浏览器为基础的情况下，服务器部署和客户端产物最多减小75倍。\n * 更快：用动态服务端代码来优化冷启动。\n * Hybird：增量动态生成和其他高级模式现在都成为可能。\n * Suspense: 导航前后可在任何组件中获取数据。\n * Composition API : 使用Composition API 和 Nuxt3的composables 实现真正的可复用性。\n * Nuxt CLI ： 权限的零依赖体验，助你轻松搭建项目和集成模块。\n * Nuxt Devtools ：专属调试工具，更多的信息和快速修复，在浏览器中高效工作。\n * Nuxt Kit ：全新的基于 TypeScript 和跨版本兼容的模块开发。\n * Webpack5 ： 更快的构建速度和更小的构建包，并且零配置。\n * Vite：用Vite作为你的打包器，体验轻量级的快速HMR。\n * Vue3 ： 完全支持Vue3语法，这一点特别关键。\n * TypeScript：由原生TypeScript和ESM构成，没有额外配置步骤。\n\n\n# Nuxt3的目录结构\n\n- .nuxt               // 自动生成的目录，用于展示结果\n- node_modules        // 项目依赖包存放目录\n- .gitignore          // Git的配置目录，比如一些文件不用Git管理就可以在这个文件中配置\n- app.vue             // 项目入口文件，你可以在这里配置路由的出口\n- nuxt.config.ts      // nuxt项目的配置文件 ，这个里边可以配置Nuxt项目的方法面面\n- package-lock.json   // 锁定安装时包的版本，以保证其他人在 npm install时和你保持一致\n- package.json        // 包的配置文件和项目的启动调式命令配置\n- README.md           // 项目的说明文件\n- tsconfig.json       // TypeScript的配置文件\n- pages               // 开发的页面目录\n- components          // 组件目录\n- assets              // 静态资源目录\n- layouts             // 项目布局目录\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 编写Hello World程序\n\nmkdir components\nnew-Item components/HelloWorld.vue\nnpm run dev\n\n\n1\n2\n3\n\n\n\n# 页面和约定路由的使用\n\nNuxt3的一个特点就是约定式开发，讲究的是约定大于配置。这种开发形式就是按照框架的约定进行开发。\n\n\n1\n\n\n\n# 最小应用\n\n在nuxt3中如果没有pages/目录，则表示不会包含vue-router依赖。如果我们不需要路由或者就是一个落地页时就可以这么搞。\n\n\n1\n\n\n\n# Nuxt3创建页面,约定路由\n\n\nmkdir pages\nnew-Item pages/Demo1.vue\nnpm run dev\n访问http://localhost:3000/demo1\n\n\n1\n2\n3\n4\n5\n\n\n\n# NuxtLink标签的使用\n\nnew-Item pages/index.vue\n\n\n1\n\n\nindex.vue\n\n<template>\n  <div class="">\n    <h1>Index Page</h1>\n    <NuxtLink to="/demo1">Demo1.vue</NuxtLink>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 动态路由的使用(Dynamic Routes)\n\n# 单参数的传递\n\n// 单参数的传递只要在页面的文件名中用[ ]扩起来就可以了。比如新建一个页面，叫做 demo2-[id].vue\nnew-Item pages/demo2-[id].vue\n// 参数接收可以使用 $route.params.id的形式\n\n\n1\n2\n3\n\n\n# 在script里获取参数\n\nimport { ref } from "vue";\nconst route = useRoute();\nconst id = ref(route.params.id);\n\n\n1\n2\n3\n\n\n# 多参数的获取\n\nmkdir pages/goods-[name]\nnew-Item pages/goods-[name]/demo2-[id].vue\n\n\n1\n2\n\n\n\n# 嵌套路由\n\nmkdir pages/parent\nnew-Item pages/parent.vue,pages/parent/child.vue\n\n\n1\n2\n\n\nchild.vue\n\n<template>\n  <div>\n    <h1>child page</h1>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 页面布局\n\n// 别名、重定向和路由守卫等\nmkdir layouts\nnew-Item  layouts/default.vue\n\n\n1\n2\n3\n\n\ndefault.vue\n\n<template>\n  <div>\n    通用布局页，default.vue:\n    <slot />\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 自定义布局文件\n\nnew-Item  layouts/custom.vue\nnew-Item  pages/helloworld.vue\n\n\n1\n2\n\n\n# 使用NuxtLayout\n\n可以使用NuxtLayout组件结合slots获得完全控制力，同时需要设置组件选项layout: false。\n\nhelloworld.vue\n\n<template>\n  <NuxtLayout name="custom">\n    <template #header>\n     <h1>hello page</h1>\n    </template>\n    some content...\n  </NuxtLayout>\n</template>\n<script>\nexport default {\n  layout: false,\n};\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\ncustom.vue\n\n<template>\n  <div>\n    内容来自自定义布局页custom.vue！\n    <slot name="header"/>\n    <slot />\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 配合\n\n由于需要设置layout选项，所以在这个script标签旁边同时使用\n\n<script>\nexport default {\n  layout: "custom",\n};\n<\/script>\n\n<script setup>\n// your setup script\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 组件自动导入\n\n\n# 自动导入组件\n\nmkdir components\nnew-Item components/TheHeader.vue,components/TheFooter.vue\n\n\n1\n2\n\n\nlayouts/default.vue\n\n<template>\n  <div>\n    <TheHeader />\n    <slot />\n    <TheFooter />\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 组件名称约定\n\n没有嵌套的组件会以文件名直接导入\n\n存在嵌套关系，那么组件名称将会基于路径和文件名连起来，比如上面的base/foo/Button.vue注册名称将会是BaseFooButton，将来用起来会像下面这样：\n\n<BaseFooButton />\n\n\n1\n\n\n\n# 组件懒加载\n\n如果在组件名前面加上Lazy前缀，则可以按需懒加载该组件，可用于优化打包尺寸。\n\n<template>\n  <div>\n    <h1>Mountains</h1>\n    <LazyMountainsList v-if="show" />\n    <button v-if="!show" @click="show = true">显示列表</button>\n  </div>\n</template>\n\n<script setup>\n  import {ref} from \'vue\'\n  const show = ref(false)\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 数据获取\n\nnuxt3中提供的数据获取函数有以下四个：\n\n * useFetch\n * useLazyFetch\n * useAsyncData\n * useLazyAsyncData\n\n> 注意：它们都必须在setup或生命周期钩子中使用\n\n\n# 参考\n\n官方文档\n\n# 历时两个月！Nuxt3从入门到实战！你值得收藏！\n\nnpx nuxi init nuxt3-app\ncd nuxt3-app\nyarn i\nyarn dev\nmkdir layouts\nnew-Item pages/index.vue,pages/detail.vue\n\n\n1\n2\n3\n4\n5\n6\n\n\nindex.vue\n\n<template>\n  <div>index page</div>\n  \x3c!--跳转链接--\x3e\n  <NuxtLink to="/detail">Detail Page</NuxtLink>\n</template>\n\n\n1\n2\n3\n4\n5\n\n\ndetail.vue\n\n<template>\n  <div>detail page</div>\n</template>\n\n\n1\n2\n3\n',normalizedContent:'# nuxt3的简介\n\nnuxt3是基于vue3发布的ssr框架，也是vue全家桶系列的一员。如果你了解nuxt2，应该也了解nuxt3的使命和用途。但是如果你不了解，你需要先知道两个概念。\n\n * spa应用：也就是单页应用，这些多是在客户端的应用，不能进行seo优化（搜索引擎优化）。\n * ssr应用：在服务端进行渲染，渲染完成后返回给客户端，每个页面有独立的url，对seo友好。\n\n所以如果你开发的应用是企业网站、商品展示 、博客这类型的展示型网站，就需要使用搜索引擎喜欢的ssr应用。当我们明白这两个概念后，再来看nuxt3的使命。因为vue开发的应用默认是单页应用（spa应用），但如果你想针对于搜索优化，就需要使用vue的ssr模式开发，而nuxt3就是vue的ssr开发的框架。\n\n\n# 初始化\n\ncd z:test && cd z:\nnpx nuxi init nuxt3-test\nnuxt3-test\nnpm i\nnpm run dev\n\n\n1\n2\n3\n4\n5\n\n\n\n# nuxt3的优势介绍\n\n * 更轻量：以现代浏览器为基础的情况下，服务器部署和客户端产物最多减小75倍。\n * 更快：用动态服务端代码来优化冷启动。\n * hybird：增量动态生成和其他高级模式现在都成为可能。\n * suspense: 导航前后可在任何组件中获取数据。\n * composition api : 使用composition api 和 nuxt3的composables 实现真正的可复用性。\n * nuxt cli ： 权限的零依赖体验，助你轻松搭建项目和集成模块。\n * nuxt devtools ：专属调试工具，更多的信息和快速修复，在浏览器中高效工作。\n * nuxt kit ：全新的基于 typescript 和跨版本兼容的模块开发。\n * webpack5 ： 更快的构建速度和更小的构建包，并且零配置。\n * vite：用vite作为你的打包器，体验轻量级的快速hmr。\n * vue3 ： 完全支持vue3语法，这一点特别关键。\n * typescript：由原生typescript和esm构成，没有额外配置步骤。\n\n\n# nuxt3的目录结构\n\n- .nuxt               // 自动生成的目录，用于展示结果\n- node_modules        // 项目依赖包存放目录\n- .gitignore          // git的配置目录，比如一些文件不用git管理就可以在这个文件中配置\n- app.vue             // 项目入口文件，你可以在这里配置路由的出口\n- nuxt.config.ts      // nuxt项目的配置文件 ，这个里边可以配置nuxt项目的方法面面\n- package-lock.json   // 锁定安装时包的版本，以保证其他人在 npm install时和你保持一致\n- package.json        // 包的配置文件和项目的启动调式命令配置\n- readme.md           // 项目的说明文件\n- tsconfig.json       // typescript的配置文件\n- pages               // 开发的页面目录\n- components          // 组件目录\n- assets              // 静态资源目录\n- layouts             // 项目布局目录\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 编写hello world程序\n\nmkdir components\nnew-item components/helloworld.vue\nnpm run dev\n\n\n1\n2\n3\n\n\n\n# 页面和约定路由的使用\n\nnuxt3的一个特点就是约定式开发，讲究的是约定大于配置。这种开发形式就是按照框架的约定进行开发。\n\n\n1\n\n\n\n# 最小应用\n\n在nuxt3中如果没有pages/目录，则表示不会包含vue-router依赖。如果我们不需要路由或者就是一个落地页时就可以这么搞。\n\n\n1\n\n\n\n# nuxt3创建页面,约定路由\n\n\nmkdir pages\nnew-item pages/demo1.vue\nnpm run dev\n访问http://localhost:3000/demo1\n\n\n1\n2\n3\n4\n5\n\n\n\n# nuxtlink标签的使用\n\nnew-item pages/index.vue\n\n\n1\n\n\nindex.vue\n\n<template>\n  <div class="">\n    <h1>index page</h1>\n    <nuxtlink to="/demo1">demo1.vue</nuxtlink>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 动态路由的使用(dynamic routes)\n\n# 单参数的传递\n\n// 单参数的传递只要在页面的文件名中用[ ]扩起来就可以了。比如新建一个页面，叫做 demo2-[id].vue\nnew-item pages/demo2-[id].vue\n// 参数接收可以使用 $route.params.id的形式\n\n\n1\n2\n3\n\n\n# 在script里获取参数\n\nimport { ref } from "vue";\nconst route = useroute();\nconst id = ref(route.params.id);\n\n\n1\n2\n3\n\n\n# 多参数的获取\n\nmkdir pages/goods-[name]\nnew-item pages/goods-[name]/demo2-[id].vue\n\n\n1\n2\n\n\n\n# 嵌套路由\n\nmkdir pages/parent\nnew-item pages/parent.vue,pages/parent/child.vue\n\n\n1\n2\n\n\nchild.vue\n\n<template>\n  <div>\n    <h1>child page</h1>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 页面布局\n\n// 别名、重定向和路由守卫等\nmkdir layouts\nnew-item  layouts/default.vue\n\n\n1\n2\n3\n\n\ndefault.vue\n\n<template>\n  <div>\n    通用布局页，default.vue:\n    <slot />\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 自定义布局文件\n\nnew-item  layouts/custom.vue\nnew-item  pages/helloworld.vue\n\n\n1\n2\n\n\n# 使用nuxtlayout\n\n可以使用nuxtlayout组件结合slots获得完全控制力，同时需要设置组件选项layout: false。\n\nhelloworld.vue\n\n<template>\n  <nuxtlayout name="custom">\n    <template #header>\n     <h1>hello page</h1>\n    </template>\n    some content...\n  </nuxtlayout>\n</template>\n<script>\nexport default {\n  layout: false,\n};\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\ncustom.vue\n\n<template>\n  <div>\n    内容来自自定义布局页custom.vue！\n    <slot name="header"/>\n    <slot />\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 配合\n\n由于需要设置layout选项，所以在这个script标签旁边同时使用\n\n<script>\nexport default {\n  layout: "custom",\n};\n<\/script>\n\n<script setup>\n// your setup script\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 组件自动导入\n\n\n# 自动导入组件\n\nmkdir components\nnew-item components/theheader.vue,components/thefooter.vue\n\n\n1\n2\n\n\nlayouts/default.vue\n\n<template>\n  <div>\n    <theheader />\n    <slot />\n    <thefooter />\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 组件名称约定\n\n没有嵌套的组件会以文件名直接导入\n\n存在嵌套关系，那么组件名称将会基于路径和文件名连起来，比如上面的base/foo/button.vue注册名称将会是basefoobutton，将来用起来会像下面这样：\n\n<basefoobutton />\n\n\n1\n\n\n\n# 组件懒加载\n\n如果在组件名前面加上lazy前缀，则可以按需懒加载该组件，可用于优化打包尺寸。\n\n<template>\n  <div>\n    <h1>mountains</h1>\n    <lazymountainslist v-if="show" />\n    <button v-if="!show" @click="show = true">显示列表</button>\n  </div>\n</template>\n\n<script setup>\n  import {ref} from \'vue\'\n  const show = ref(false)\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 数据获取\n\nnuxt3中提供的数据获取函数有以下四个：\n\n * usefetch\n * uselazyfetch\n * useasyncdata\n * uselazyasyncdata\n\n> 注意：它们都必须在setup或生命周期钩子中使用\n\n\n# 参考\n\n官方文档\n\n# 历时两个月！nuxt3从入门到实战！你值得收藏！\n\nnpx nuxi init nuxt3-app\ncd nuxt3-app\nyarn i\nyarn dev\nmkdir layouts\nnew-item pages/index.vue,pages/detail.vue\n\n\n1\n2\n3\n4\n5\n6\n\n\nindex.vue\n\n<template>\n  <div>index page</div>\n  \x3c!--跳转链接--\x3e\n  <nuxtlink to="/detail">detail page</nuxtlink>\n</template>\n\n\n1\n2\n3\n4\n5\n\n\ndetail.vue\n\n<template>\n  <div>detail page</div>\n</template>\n\n\n1\n2\n3\n',charsets:{cjk:!0}},{title:"PS的简单使用",frontmatter:{title:"PS的简单使用",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/b44d09/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/PS%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/PS的简单使用.md",key:"v-1c81b1d1",path:"/pages/b44d09/",headers:[{level:3,title:"左侧工具栏",slug:"左侧工具栏",normalizedTitle:"左侧工具栏",charIndex:2},{level:3,title:"快捷键",slug:"快捷键",normalizedTitle:"快捷键",charIndex:199},{level:3,title:"案例",slug:"案例",normalizedTitle:"案例",charIndex:290},{level:4,title:"背景透明化",slug:"背景透明化",normalizedTitle:"背景透明化",charIndex:296},{level:4,title:"画小圆圈",slug:"画小圆圈",normalizedTitle:"画小圆圈",charIndex:356}],headersStr:"左侧工具栏 快捷键 案例 背景透明化 画小圆圈",content:"# 左侧工具栏\n\n移动工具 V\n矩形工具 M\n套索工具 L\n快速选择工具L\n裁剪工具 C\n吸管工具 I\n污点修复工具 J\n画笔工具 B\n仿制图章工具 S\n历史记录画笔工具 Y\n橡皮擦工具 E\n渐变工具\n模糊工具 G\n减淡工具 O\n钢笔工具 P\n横排文字工具 T\n路径选择工具 A\n矩形工具 U\n抓手工具 H\n缩放工具 Z\n切换前景色和背景色 X\n以快速蒙版模式编辑 Q\n更改屏幕模式 F\n\n\n\n# 快捷键\n\n缩放； alt+鼠标滚轮\n新建一个图层 ctrl+shift+N\n调节物体大小 ctrl+T\n复制 ctrl+alt+T\n阵列 ctrl+alt+shift+T\n\n\n\n# 案例\n\n# 背景透明化\n\n1.图层解锁\n2.【图层】-【图层样式】-【混合选项】\n3.拖动颜色混合带，调整到合适的程度即可\n\n\n# 画小圆圈\n\n矩形工具-椭圆工具-(按shift画正圆)\n阵列复制\n复制 ctrl+alt+T\n阵列 ctrl+alt+shift+T\n填充颜色\nctrl+del\n上方工具栏-填充-设置-新建调色板-选择",normalizedContent:"# 左侧工具栏\n\n移动工具 v\n矩形工具 m\n套索工具 l\n快速选择工具l\n裁剪工具 c\n吸管工具 i\n污点修复工具 j\n画笔工具 b\n仿制图章工具 s\n历史记录画笔工具 y\n橡皮擦工具 e\n渐变工具\n模糊工具 g\n减淡工具 o\n钢笔工具 p\n横排文字工具 t\n路径选择工具 a\n矩形工具 u\n抓手工具 h\n缩放工具 z\n切换前景色和背景色 x\n以快速蒙版模式编辑 q\n更改屏幕模式 f\n\n\n\n# 快捷键\n\n缩放； alt+鼠标滚轮\n新建一个图层 ctrl+shift+n\n调节物体大小 ctrl+t\n复制 ctrl+alt+t\n阵列 ctrl+alt+shift+t\n\n\n\n# 案例\n\n# 背景透明化\n\n1.图层解锁\n2.【图层】-【图层样式】-【混合选项】\n3.拖动颜色混合带，调整到合适的程度即可\n\n\n# 画小圆圈\n\n矩形工具-椭圆工具-(按shift画正圆)\n阵列复制\n复制 ctrl+alt+t\n阵列 ctrl+alt+shift+t\n填充颜色\nctrl+del\n上方工具栏-填充-设置-新建调色板-选择",charsets:{cjk:!0}},{title:"Typora的基本使用",frontmatter:{title:"Typora的基本使用",date:"2022-04-02T22:37:41.000Z",permalink:"/pages/b60b12/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/Typora%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/Typora的基本使用.md",key:"v-74a48801",path:"/pages/b60b12/",headersStr:null,content:"ctrl+/ 切换源码模式\n\nctrl+shift+k 代码块\n\ncd %userprofile%\\Desktop\n\ncd %uesrprofile%\\Desktop\n\n\n1\n",normalizedContent:"ctrl+/ 切换源码模式\n\nctrl+shift+k 代码块\n\ncd %userprofile%\\desktop\n\ncd %uesrprofile%\\desktop\n\n\n1\n",charsets:{cjk:!0}},{title:"VuePress的基本使用",frontmatter:{title:"VuePress的基本使用",date:"2022-04-07T23:04:29.000Z",tags:["VuePress"],author:"lixuwen",permalink:"/pages/f0e3a1/",sidebar:"auto",categories:["随笔"]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/VuePress%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/VuePress的基本使用.md",key:"v-db429bfe",path:"/pages/f0e3a1/",headers:[{level:3,title:"安装",slug:"安装",normalizedTitle:"安装",charIndex:10},{level:3,title:"快速上手",slug:"快速上手",normalizedTitle:"快速上手",charIndex:200},{level:3,title:"目录结构",slug:"目录结构",normalizedTitle:"目录结构",charIndex:877},{level:3,title:"基本配置",slug:"基本配置",normalizedTitle:"基本配置",charIndex:2138},{level:4,title:"docs/.vuepress/config.js",slug:"docs-vuepress-config-js",normalizedTitle:"docs/.vuepress/config.js",charIndex:1993},{level:4,title:"主题配置",slug:"主题配置",normalizedTitle:"主题配置",charIndex:2536},{level:3,title:"导航栏",slug:"导航栏",normalizedTitle:"导航栏",charIndex:3108},{level:3,title:"侧边栏",slug:"侧边栏",normalizedTitle:"侧边栏",charIndex:4928},{level:3,title:"官方插件",slug:"官方插件",normalizedTitle:"官方插件",charIndex:4936},{level:4,title:"last-updated",slug:"last-updated",normalizedTitle:"last-updated",charIndex:4944},{level:4,title:"PWA",slug:"pwa",normalizedTitle:"pwa",charIndex:4960},{level:3,title:"向上按钮back-to-top",slug:"向上按钮back-to-top",normalizedTitle:"向上按钮back-to-top",charIndex:5782},{level:2,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:3,title:"谷歌分析",slug:"谷歌分析",normalizedTitle:"谷歌分析",charIndex:6102},{level:3,title:"分割config",slug:"分割config",normalizedTitle:"分割config",charIndex:6111},{level:3,title:"保护隐私信息",slug:"保护隐私信息",normalizedTitle:"保护隐私信息",charIndex:6281},{level:3,title:"Markdown 用法进阶",slug:"markdown-用法进阶",normalizedTitle:"markdown 用法进阶",charIndex:6292},{level:3,title:"自动化部署",slug:"自动化部署",normalizedTitle:"自动化部署",charIndex:6479},{level:3,title:"travis不生效,No builds for this repository#",slug:"travis不生效-no-builds-for-this-repository",normalizedTitle:"travis不生效,no builds for this repository#",charIndex:6489},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:6666}],headersStr:"安装 快速上手 目录结构 基本配置 docs/.vuepress/config.js 主题配置 导航栏 侧边栏 官方插件 last-updated PWA 向上按钮back-to-top  谷歌分析 分割config 保护隐私信息 Markdown 用法进阶 自动化部署 travis不生效,No builds for this repository# 参考",content:"[TOC]\n\n\n# 安装\n\n# 安装\nyarn global add vuepress # 或者：npm install -g vuepress\n# 新建一个 markdown 文件\necho '# Hello VuePress!' > README.md\n# 开始写作\nvuepress dev .\n# 构建静态文件\nvuepress build .\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 快速上手\n\n# 创建并进入一个新目录\nmkdir vuepress-starter && cd vuepress-starter\n# 使用你喜欢的包管理器进行初始化\n# yarn init -y # npm init\n# 将 VuePress 安装为本地依赖\n# 我们已经不再推荐全局安装 VuePress\nyarn add -D vuepress \n# npm install -D vuepress\n# 注意\n# 如果你的现有项目依赖了 webpack 3.x，我们推荐使用 Yarn (opens new window)而不是 npm 来安装 VuePress。因为在这种情形下，npm 会生成错误的依赖树。\n# 创建你的第一篇文档\nmkdir docs  \necho 'Hello VuePress' > docs/README.md\n# 打开vscode\ncode .\n# 在 package.json 中添加一些 scripts(opens new window)\n    {\n      \"scripts\": {\n        \"docs:dev\": \"vuepress dev docs\",\n        \"docs:build\": \"vuepress build docs\"\n      }\n    }\n# 在本地启动服务器\nyarn docs:dev # npm run docs:dev\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 目录结构\n\n.\n├── docs\n│   ├── .vuepress (可选的)\n│   │   ├── components (可选的)\n│   │   ├── theme (可选的)\n│   │   │   └── Layout.vue\n│   │   ├── public (可选的)\n│   │   ├── styles (可选的)\n│   │   │   ├── index.styl\n│   │   │   └── palette.styl\n│   │   ├── templates (可选的, 谨慎配置)\n│   │   │   ├── dev.html\n│   │   │   └── ssr.html\n│   │   ├── config.js (可选的)\n│   │   └── enhanceApp.js (可选的)\n│   │ \n│   ├── README.md\n│   ├── guide\n│   │   └── README.md\n│   └── config.md\n│ \n└── package.json\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\ndocs/.vuepress                     : 用于存放全局的配置、组件、静态资源等。\ndocs/.vuepress/components          : 该目录中的 Vue 组件将会被自动注册为全局组件。\ndocs/.vuepress/theme               : 用于存放本地主题。\ndocs/.vuepress/styles              : 用于存放样式相关的文件。\ndocs/.vuepress/styles/index.styl   : 将会被自动应用的全局样式文件，会生成在最终的 CSS 文件结尾，具有比默认样式更高的优先级。\ndocs/.vuepress/styles/palette.styl : 用于重写默认颜色常量，或者设置新的 stylus 颜色常量。\ndocs/.vuepress/public              : 静态资源目录。\ndocs/.vuepress/templates           : 存储 HTML 模板文件。\ndocs/.vuepress/templates/dev.html  : 用于开发环境的 HTML 模板文件。\ndocs/.vuepress/templates/ssr.html  : 构建时基于 Vue SSR 的 HTML 模板文件。\ndocs/.vuepress/config.js           : 配置文件的入口文件，也可以是 YML 或 toml。\ndocs/.vuepress/enhanceApp.js       : 客户端应用的增强。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 基本配置\n\nmd docs/.vuepress\necho module.exports={title:'Hello VuePress',description:'Just playing around'} >docs/.vuepress/config.js\n# 对于上述的配置，如果你运行起yarn  dev server，你应该能看到一个页面，它包含一个页头，里面包含一个标题和一个搜索框。VuePress 内置了基于 headers 的搜索 —— 它会自动为所有页面的标题、h2 和 h3 构建起一个简单的搜索索引。\n\n\n1\n2\n3\n\n\n# docs/.vuepress/config.js\n\nmodule.exports = {\n  title: 'Hello VuePress',\n  description: 'Just playing around'\n}\n\n\n1\n2\n3\n4\n\n\n# 主题配置\n\nhero.png\n\n\n\n\necho '---\nhome: true\nheroImage: /hero.png\nheroText: Hero 标题\ntagline: Hero 副标题\nactionText: 快速上手 →\nactionLink: /zh/guide/\nfeatures:\n- title: 简洁至上\n  details: 以 Markdown 为中心的项目结构，以最少的配置帮助你专注于写作。\n- title: Vue驱动\n  details: 享受 Vue + webpack 的开发体验，在 Markdown 中使用 Vue 组件，同时可以使用 Vue 来开发自定义主题。\n- title: 高性能\n  details: VuePress 为每个页面预渲染生成静态的 HTML，同时在页面被加载的时候，将作为 SPA 运行。\nfooter: MIT Licensed | Copyright © 2018-present Evan You\n---' > docs/README.md\nmd docs/.vuepress/public\n# 将下载的图片放到docs/.vuepress/public目录下\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 导航栏\n\nmd docs/.vuepress/public/assets/img\n// docs/.vuepress/config.js\n// 导航栏 Logo\n    themeConfig: {\n        // 禁用导航栏\n        // navbar: false,\n        logo: '/assets/img/hero.png',\n        nav: [\n            { text: 'Home', link: '/' },\n            { text: 'Guide', link: '/guide/' },\n            { text: 'External', link: 'https://google.com' },\n            // 外部链接 <a> 标签的特性将默认包含target=\"_blank\" rel=\"noopener noreferrer\"，你可以提供 target 与 rel，它们将被作为特性被增加到 <a> 标签上：\n            { text: 'External', link: 'https://google.com', target: '_self', rel: '' },\n            { text: 'Guide', link: '/guide/', target: '_blank' },\n            // 当你提供了一个 items 数组而不是一个单一的 link 时，它将显示为一个 下拉列表\n            {\n                text: 'Languages',\n                ariaLabel: 'Language Menu',\n                items: [\n                    { text: 'Chinese', link: '/language/chinese/' },\n                    { text: 'Japanese', link: '/language/japanese/' }\n                ]\n            },\n            // 此外，你还可以通过嵌套的 items 来在 下拉列表 中设置分组：\n            {\n                text: 'Languages2',\n                items: [\n                    {\n                        text: 'Group1', items: [\n                            { text: 'Chinese1', link: '/language/chinese/' },\n                            { text: 'Japanese1', link: '/language/japanese/' }\n                        ]\n                    },\n                    {\n                        text: 'Group2', items: [\n                            { text: 'Chinese2', link: '/language/chinese/' },\n                            { text: 'Japanese2', link: '/language/japanese/' }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 侧边栏\n\n\n# 官方插件\n\n# last-updated\n\n# PWA\n\nyarn add -D @vuepress/plugin-pwa\n\n\n1\n\n\nplugins: [\n         [\n            '@vuepress/pwa': {\n                serviceWorker: true,\n                updatePopup: {\n                    message: \"New content is available.\",\n                    buttonText: \"Refresh\"\n                }\n\n            }\n        ]\n    ],\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\napp-mainifest.firebaseapp.com\n\n评论Vssue\n\nyarn add @vssue/vuepress-plugin-vssue\nyarn add @vssue/api-github-v4\n\n\n1\n2\n\n\nmd docs/.vuepress/theme/layouts\nnew-item docs/.vuepress/theme/index.js\n\n\n1\n2\n\n\n'@vssue/vuepress-plugin-vssue': {\n      // 设置 `platform` 而不是 `api`\n      platform: 'github',\n      // 其他的 Vssue 配置\n      owner: 'OWNER_OF_REPO',\n      repo: 'NAME_OF_REPO',\n      clientId: 'YOUR_CLIENT_ID',\n      clientSecret: 'YOUR_CLIENT_SECRET',\n    },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 向上按钮back-to-top\n\n劝学\n\nnew-item docs/quanxue.md\n\n\n\n1\n2\n\n\n\n#\n\n# 安装\nyarn add -D @vuepress/plugin-back-to-top\n# OR npm install -D @vuepress/plugin-back-to-top\n# 使用\nmodule.exports = {\n  plugins: ['@vuepress/back-to-top']\n}\n# 或者：\nmodule.exports = {\n  plugins:{'@vuepress/back-to-top':true}\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 谷歌分析\n\n\n# 分割config\n\nmd docs\\.vuepress\\config\ncd docs\\.vuepress\\config\\ \nnew-item headConf.js,pluginsConf.js,navConf.js,sidebarConf.js\n\n\n\n1\n2\n3\n4\n\n\nvuepress-plugin-auto-sidebar\n\n\n# 保护隐私信息\n\n\n# Markdown 用法进阶\n\ncountUp.js\n\nyarn add countup.js # npm i countup.js\nmd docs/.vuepress/components/\nnew-item docs/.vuepress/components/Countup.vue\n\n\n1\n2\n3\n\n\nnew-item docs/countup.md\n\n\n1\n\n\n\n# 自动化部署\n\n\n# travis不生效,No builds for this repository#\n\n（https://blog.csdn.net/ky1in93/article/details/118917149）\n\nnew-item .travis.yml\n\n\n1\n\n\ntravis-ci\n\n拓展：webpack的DefinePlugin 完成环境变量的注入\n\n\n# 参考\n\nvuepress官网",normalizedContent:"[toc]\n\n\n# 安装\n\n# 安装\nyarn global add vuepress # 或者：npm install -g vuepress\n# 新建一个 markdown 文件\necho '# hello vuepress!' > readme.md\n# 开始写作\nvuepress dev .\n# 构建静态文件\nvuepress build .\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 快速上手\n\n# 创建并进入一个新目录\nmkdir vuepress-starter && cd vuepress-starter\n# 使用你喜欢的包管理器进行初始化\n# yarn init -y # npm init\n# 将 vuepress 安装为本地依赖\n# 我们已经不再推荐全局安装 vuepress\nyarn add -d vuepress \n# npm install -d vuepress\n# 注意\n# 如果你的现有项目依赖了 webpack 3.x，我们推荐使用 yarn (opens new window)而不是 npm 来安装 vuepress。因为在这种情形下，npm 会生成错误的依赖树。\n# 创建你的第一篇文档\nmkdir docs  \necho 'hello vuepress' > docs/readme.md\n# 打开vscode\ncode .\n# 在 package.json 中添加一些 scripts(opens new window)\n    {\n      \"scripts\": {\n        \"docs:dev\": \"vuepress dev docs\",\n        \"docs:build\": \"vuepress build docs\"\n      }\n    }\n# 在本地启动服务器\nyarn docs:dev # npm run docs:dev\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 目录结构\n\n.\n├── docs\n│   ├── .vuepress (可选的)\n│   │   ├── components (可选的)\n│   │   ├── theme (可选的)\n│   │   │   └── layout.vue\n│   │   ├── public (可选的)\n│   │   ├── styles (可选的)\n│   │   │   ├── index.styl\n│   │   │   └── palette.styl\n│   │   ├── templates (可选的, 谨慎配置)\n│   │   │   ├── dev.html\n│   │   │   └── ssr.html\n│   │   ├── config.js (可选的)\n│   │   └── enhanceapp.js (可选的)\n│   │ \n│   ├── readme.md\n│   ├── guide\n│   │   └── readme.md\n│   └── config.md\n│ \n└── package.json\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\ndocs/.vuepress                     : 用于存放全局的配置、组件、静态资源等。\ndocs/.vuepress/components          : 该目录中的 vue 组件将会被自动注册为全局组件。\ndocs/.vuepress/theme               : 用于存放本地主题。\ndocs/.vuepress/styles              : 用于存放样式相关的文件。\ndocs/.vuepress/styles/index.styl   : 将会被自动应用的全局样式文件，会生成在最终的 css 文件结尾，具有比默认样式更高的优先级。\ndocs/.vuepress/styles/palette.styl : 用于重写默认颜色常量，或者设置新的 stylus 颜色常量。\ndocs/.vuepress/public              : 静态资源目录。\ndocs/.vuepress/templates           : 存储 html 模板文件。\ndocs/.vuepress/templates/dev.html  : 用于开发环境的 html 模板文件。\ndocs/.vuepress/templates/ssr.html  : 构建时基于 vue ssr 的 html 模板文件。\ndocs/.vuepress/config.js           : 配置文件的入口文件，也可以是 yml 或 toml。\ndocs/.vuepress/enhanceapp.js       : 客户端应用的增强。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 基本配置\n\nmd docs/.vuepress\necho module.exports={title:'hello vuepress',description:'just playing around'} >docs/.vuepress/config.js\n# 对于上述的配置，如果你运行起yarn  dev server，你应该能看到一个页面，它包含一个页头，里面包含一个标题和一个搜索框。vuepress 内置了基于 headers 的搜索 —— 它会自动为所有页面的标题、h2 和 h3 构建起一个简单的搜索索引。\n\n\n1\n2\n3\n\n\n# docs/.vuepress/config.js\n\nmodule.exports = {\n  title: 'hello vuepress',\n  description: 'just playing around'\n}\n\n\n1\n2\n3\n4\n\n\n# 主题配置\n\nhero.png\n\n\n\n\necho '---\nhome: true\nheroimage: /hero.png\nherotext: hero 标题\ntagline: hero 副标题\nactiontext: 快速上手 →\nactionlink: /zh/guide/\nfeatures:\n- title: 简洁至上\n  details: 以 markdown 为中心的项目结构，以最少的配置帮助你专注于写作。\n- title: vue驱动\n  details: 享受 vue + webpack 的开发体验，在 markdown 中使用 vue 组件，同时可以使用 vue 来开发自定义主题。\n- title: 高性能\n  details: vuepress 为每个页面预渲染生成静态的 html，同时在页面被加载的时候，将作为 spa 运行。\nfooter: mit licensed | copyright © 2018-present evan you\n---' > docs/readme.md\nmd docs/.vuepress/public\n# 将下载的图片放到docs/.vuepress/public目录下\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 导航栏\n\nmd docs/.vuepress/public/assets/img\n// docs/.vuepress/config.js\n// 导航栏 logo\n    themeconfig: {\n        // 禁用导航栏\n        // navbar: false,\n        logo: '/assets/img/hero.png',\n        nav: [\n            { text: 'home', link: '/' },\n            { text: 'guide', link: '/guide/' },\n            { text: 'external', link: 'https://google.com' },\n            // 外部链接 <a> 标签的特性将默认包含target=\"_blank\" rel=\"noopener noreferrer\"，你可以提供 target 与 rel，它们将被作为特性被增加到 <a> 标签上：\n            { text: 'external', link: 'https://google.com', target: '_self', rel: '' },\n            { text: 'guide', link: '/guide/', target: '_blank' },\n            // 当你提供了一个 items 数组而不是一个单一的 link 时，它将显示为一个 下拉列表\n            {\n                text: 'languages',\n                arialabel: 'language menu',\n                items: [\n                    { text: 'chinese', link: '/language/chinese/' },\n                    { text: 'japanese', link: '/language/japanese/' }\n                ]\n            },\n            // 此外，你还可以通过嵌套的 items 来在 下拉列表 中设置分组：\n            {\n                text: 'languages2',\n                items: [\n                    {\n                        text: 'group1', items: [\n                            { text: 'chinese1', link: '/language/chinese/' },\n                            { text: 'japanese1', link: '/language/japanese/' }\n                        ]\n                    },\n                    {\n                        text: 'group2', items: [\n                            { text: 'chinese2', link: '/language/chinese/' },\n                            { text: 'japanese2', link: '/language/japanese/' }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 侧边栏\n\n\n# 官方插件\n\n# last-updated\n\n# pwa\n\nyarn add -d @vuepress/plugin-pwa\n\n\n1\n\n\nplugins: [\n         [\n            '@vuepress/pwa': {\n                serviceworker: true,\n                updatepopup: {\n                    message: \"new content is available.\",\n                    buttontext: \"refresh\"\n                }\n\n            }\n        ]\n    ],\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\napp-mainifest.firebaseapp.com\n\n评论vssue\n\nyarn add @vssue/vuepress-plugin-vssue\nyarn add @vssue/api-github-v4\n\n\n1\n2\n\n\nmd docs/.vuepress/theme/layouts\nnew-item docs/.vuepress/theme/index.js\n\n\n1\n2\n\n\n'@vssue/vuepress-plugin-vssue': {\n      // 设置 `platform` 而不是 `api`\n      platform: 'github',\n      // 其他的 vssue 配置\n      owner: 'owner_of_repo',\n      repo: 'name_of_repo',\n      clientid: 'your_client_id',\n      clientsecret: 'your_client_secret',\n    },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 向上按钮back-to-top\n\n劝学\n\nnew-item docs/quanxue.md\n\n\n\n1\n2\n\n\n\n#\n\n# 安装\nyarn add -d @vuepress/plugin-back-to-top\n# or npm install -d @vuepress/plugin-back-to-top\n# 使用\nmodule.exports = {\n  plugins: ['@vuepress/back-to-top']\n}\n# 或者：\nmodule.exports = {\n  plugins:{'@vuepress/back-to-top':true}\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 谷歌分析\n\n\n# 分割config\n\nmd docs\\.vuepress\\config\ncd docs\\.vuepress\\config\\ \nnew-item headconf.js,pluginsconf.js,navconf.js,sidebarconf.js\n\n\n\n1\n2\n3\n4\n\n\nvuepress-plugin-auto-sidebar\n\n\n# 保护隐私信息\n\n\n# markdown 用法进阶\n\ncountup.js\n\nyarn add countup.js # npm i countup.js\nmd docs/.vuepress/components/\nnew-item docs/.vuepress/components/countup.vue\n\n\n1\n2\n3\n\n\nnew-item docs/countup.md\n\n\n1\n\n\n\n# 自动化部署\n\n\n# travis不生效,no builds for this repository#\n\n（https://blog.csdn.net/ky1in93/article/details/118917149）\n\nnew-item .travis.yml\n\n\n1\n\n\ntravis-ci\n\n拓展：webpack的defineplugin 完成环境变量的注入\n\n\n# 参考\n\nvuepress官网",charsets:{cjk:!0}},{title:"chrome的简单使用",frontmatter:{title:"chrome的简单使用",date:"2022-03-20T19:58:13.000Z",permalink:"/pages/f5b03c/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/chrome%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/chrome的简单使用.md",key:"v-20db9ab1",path:"/pages/f5b03c/",headers:[{level:3,title:"快捷方式指定代理端口",slug:"快捷方式指定代理端口",normalizedTitle:"快捷方式指定代理端口",charIndex:2},{level:3,title:"夜间模式",slug:"夜间模式",normalizedTitle:"夜间模式",charIndex:87}],headersStr:"快捷方式指定代理端口 夜间模式",content:"# 快捷方式指定代理端口\n\n--proxy-server=127.0.0.1:7890\n/proxy-server=socks5://127.0.0.1:7890\n\n\n\n# 夜间模式\n\nchrome://flags/#enable-force-dark\nDark Mode  夜间模式插件",normalizedContent:"# 快捷方式指定代理端口\n\n--proxy-server=127.0.0.1:7890\n/proxy-server=socks5://127.0.0.1:7890\n\n\n\n# 夜间模式\n\nchrome://flags/#enable-force-dark\ndark mode  夜间模式插件",charsets:{cjk:!0}},{title:"axios的基本使用",frontmatter:{title:"axios的基本使用",date:"2022-03-21T16:47:02.000Z",permalink:"/pages/8886b3/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/axios%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/axios的基本使用.md",key:"v-eaa45d16",path:"/pages/8886b3/",headers:[{level:3,title:"概述",slug:"概述",normalizedTitle:"概述",charIndex:2},{level:3,title:"特性",slug:"特性",normalizedTitle:"特性",charIndex:127},{level:3,title:"安装",slug:"安装",normalizedTitle:"安装",charIndex:247},{level:3,title:"案例",slug:"案例",normalizedTitle:"案例",charIndex:345},{level:3,title:"简单封装",slug:"简单封装",normalizedTitle:"简单封装",charIndex:924},{level:4,title:"axios API",slug:"axios-api",normalizedTitle:"axios api",charIndex:2038},{level:4,title:"获取远端图片",slug:"获取远端图片",normalizedTitle:"获取远端图片",charIndex:2175},{level:3,title:"请求方法的别名",slug:"请求方法的别名",normalizedTitle:"请求方法的别名",charIndex:2356},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:2750},{level:3,title:"请求配置",slug:"请求配置",normalizedTitle:"请求配置",charIndex:2993}],headersStr:"概述 特性 安装 案例 简单封装 axios API 获取远端图片 请求方法的别名 实例方法 请求配置",content:"# 概述\n\nAxios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。\n参考\n[axios中文文档|axios中文网](http://axios-js.com/zh-cn/docs/index.html)\n\n\n\n# 特性\n\n从浏览器中创建 XMLHttpRequests\n从 node.js 创建 http 请求\n支持 Promise API\n拦截请求和响应\n转换请求数据和响应数据\n取消请求\n自动转换 JSON 数据\n客户端支持防御 XSRF\n\n\n\n# 安装\n\nnpm i axios --save\ncdn:<script src=\"https://unpkg.com/axios/dist/axios.min.js\"><\/script>\n\n\n\n# 案例\n\n简单get请求\nconst axios = require('axios');\nconst url = 'https://www.baidu.com/'\naxios.get(url)\n.then(function (response) {\n    // console.log(response);\n    // console.log(response.data); // `data` 由服务器提供的响应\n    // console.log(response.status); // `status` 来自服务器响应的 HTTP 状态码\n    // console.log(response.statusText); // `statusText` 来自服务器响应的 HTTP 状态信息\n    // console.log(response.headers); // `headers` 服务器响应的头\n    // console.log(response.config); // `config` 是为请求提供的配置信息\n    console.log(response.request); // `request` \n})\n.catch(function (error) {\nconsole.log(error);\n});\n\n\n\n# 简单封装\n\nimport axios from 'axios'\nexport default function ajax (url, data={}, type='GET') {\n    return new Promise(function (resolve, reject) {\n    // 执行异步ajax请求\n    let promise\n    if (type === 'GET') {\n        // 准备url query参数数据\n        let dataStr = '' //数据拼接字符串\n        Object.keys(data).forEach(key => {\n        dataStr += key + '=' + data[key] + '&'\n        })\n        if (dataStr !== '') {\n        dataStr = dataStr.substring(0, dataStr.lastIndexOf('&'))\n        url = url + '?' + dataStr\n        }\n        // 发送get请求\n        promise = axios.get(url)\n    } else {\n        // 发送post请求\n        promise = axios.post(url, data)\n    }\n    promise.then(function (response) {\n        // 成功了调用resolve()\n        resolve(response.data)\n    }).catch(function (error) {\n        //失败了调用reject()\n        reject(error)\n    })\n    })\n}\n执行多个并发请求axios.all\nfunction getUserAccount() {\n    return axios.get('/user/12345');\n}\nfunction getUserPermissions() {\nreturn axios.get('/user/12345/permissions');\n}\n\n\naxios.all([getUserAccount(),    getUserPermissions()])\n.then(axios.spread(function (acct, perms) {\n// 两个请求现在都执行完成\n}));\n\n\n# axios API\n\n// 发送 POST 请求\naxios({\nmethod: 'post',\nurl: '/user/12345',\ndata: {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n}\n});\n\n\n# 获取远端图片\n\naxios({\nmethod:'get',\nurl:'http://bit.ly/2mTM3nY',\nresponseType:'stream'\n})\n.then(function(response) {\nresponse.data.pipe(fs.createWriteStream('ada_lovelace.jpg'))\n});\n\n\n\n# 请求方法的别名\n\naxios.request(config)\naxios.get(url[, config])\naxios.delete(url[, config])\naxios.head(url[, config])\naxios.options(url[, config])\naxios.post(url[, data[, config]])\naxios.put(url[, data[, config]])\naxios.patch(url[, data[, config]])\n创建实例\nconst instance = axios.create({\n    baseURL: 'https://some-domain.com/api/',\n    timeout: 1000,\n    headers: {'X-Custom-Header': 'foobar'}\n});\n\n\n\n# 实例方法\n\naxios#request(config)\naxios#get(url[, config])\naxios#delete(url[, config])\naxios#head(url[, config])\naxios#options(url[, config])\naxios#post(url[, data[, config]])\naxios#put(url[, data[, config]])\naxios#patch(url[, data[, config]])\n\n\n\n# 请求配置\n\n// `url` 是用于请求的服务器 URL\n// `method` 是创建请求时使用的方法\n// `baseURL` 将自动加在 `url` 前面，除非 `url` 是一个绝对 URL。\n// `transformRequest` 允许在向服务器发送前，修改请求数据\n// `transformResponse` 在传递给 then/catch 前，允许修改响应数据\n// `headers` 是即将被发送的自定义请求头\n// `params` 是即将与请求一起发送的 URL 参数\n// `paramsSerializer` 是一个负责 `params` 序列化的函数\n// `data` 是作为请求主体被发送的数据\n// `timeout` 指定请求超时的毫秒数(0 表示无超时时间)\n// `withCredentials` 表示跨域请求时是否需要使用凭证\n// `adapter` 允许自定义处理请求，以使测试更轻松\n// `auth` 表示应该使用 HTTP 基础验证，并提供凭据\n// `responseType` 表示服务器响应的数据类型，可以是 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'\n// `responseEncoding` indicates encoding to use for decoding responses\n// `xsrfCookieName` 是用作 xsrf token 的值的cookie的名称\n// `onUploadProgress` 允许为上传处理进度事件\n// `onDownloadProgress` 允许为下载处理进度事件\n// `maxContentLength` 定义允许的响应内容的最大尺寸\n// `validateStatus` 定义对于给定的HTTP 响应状态码是 resolve 或 reject  promise 。如果 `validateStatus` 返回 `true` (或者设置为 `null` 或 `undefined`)，promise 将被 resolve; 否则，promise 将被 rejecte\n// `maxRedirects` 定义在 node.js 中 follow 的最大重定向数目\n// `socketPath` defines a UNIX Socket to be used in node.js.\n// `httpAgent` 和 `httpsAgent` 分别在 node.js 中用于定义在执行 http 和 https 时使用的自定义代理。允许像这样配置选项：\n// `keepAlive` 默认没有启用\n// 'proxy' 定义代理服务器的主机名称和端口\n// `auth` 表示 HTTP 基础验证应当用于连接代理，并提供凭据\n// 这将会设置一个 `Proxy-Authorization` 头，覆写掉已有的通过使用 `header` 设置的自定义 `Proxy-Authorization` 头。\n// `cancelToken` 指定用于取消请求的 cancel token\n具体\n    {\n    // `url` 是用于请求的服务器 URL\n    url: '/user',\n// `method` 是创建请求时使用的方法\nmethod: 'get', // default\n\n// `baseURL` 将自动加在 `url` 前面，除非 `url` 是一个绝对 URL。\n// 它可以通过设置一个 `baseURL` 便于为 axios 实例的方法传递相对 URL\nbaseURL: 'https://some-domain.com/api/',\n\n// `transformRequest` 允许在向服务器发送前，修改请求数据\n// 只能用在 'PUT', 'POST' 和 'PATCH' 这几个请求方法\n// 后面数组中的函数必须返回一个字符串，或 ArrayBuffer，或 Stream\ntransformRequest: [function (data, headers) {\n    // 对 data 进行任意转换处理\n    return data;\n}],\n\n// `transformResponse` 在传递给 then/catch 前，允许修改响应数据\ntransformResponse: [function (data) {\n    // 对 data 进行任意转换处理\n    return data;\n}],\n\n// `headers` 是即将被发送的自定义请求头\nheaders: {'X-Requested-With': 'XMLHttpRequest'},\n\n// `params` 是即将与请求一起发送的 URL 参数\n// 必须是一个无格式对象(plain object)或 URLSearchParams 对象\nparams: {\n    ID: 12345\n},\n\n// `paramsSerializer` 是一个负责 `params` 序列化的函数\n// (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\nparamsSerializer: function(params) {\n    return Qs.stringify(params, {arrayFormat: 'brackets'})\n},\n\n// `data` 是作为请求主体被发送的数据\n// 只适用于这些请求方法 'PUT', 'POST', 和 'PATCH'\n// 在没有设置 `transformRequest` 时，必须是以下类型之一：\n// - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n// - 浏览器专属：FormData, File, Blob\n// - Node 专属： Stream\ndata: {\n    firstName: 'Fred'\n},\n\n// `timeout` 指定请求超时的毫秒数(0 表示无超时时间)\n// 如果请求话费了超过 `timeout` 的时间，请求将被中断\ntimeout: 1000,\n\n// `withCredentials` 表示跨域请求时是否需要使用凭证\nwithCredentials: false, // default\n\n// `adapter` 允许自定义处理请求，以使测试更轻松\n// 返回一个 promise 并应用一个有效的响应 (查阅 [response docs](#response-api)).\nadapter: function (config) {\n    /* ... */\n},\n\n// `auth` 表示应该使用 HTTP 基础验证，并提供凭据\n// 这将设置一个 `Authorization` 头，覆写掉现有的任意使用 `headers` 设置的自定义 `Authorization`头\nauth: {\n    username: 'janedoe',\n    password: 's00pers3cret'\n},\n\n// `responseType` 表示服务器响应的数据类型，可以是 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'\nresponseType: 'json', // default\n\n// `responseEncoding` indicates encoding to use for decoding responses\n// Note: Ignored for `responseType` of 'stream' or client-side requests\nresponseEncoding: 'utf8', // default\n\n// `xsrfCookieName` 是用作 xsrf token 的值的cookie的名称\nxsrfCookieName: 'XSRF-TOKEN', // default\n\n// `xsrfHeaderName` is the name of the http header that carries the xsrf token value\nxsrfHeaderName: 'X-XSRF-TOKEN', // default\n\n// `onUploadProgress` 允许为上传处理进度事件\nonUploadProgress: function (progressEvent) {\n    // Do whatever you want with the native progress event\n},\n\n// `onDownloadProgress` 允许为下载处理进度事件\nonDownloadProgress: function (progressEvent) {\n    // 对原生进度事件的处理\n},\n\n// `maxContentLength` 定义允许的响应内容的最大尺寸\nmaxContentLength: 2000,\n\n// `validateStatus` 定义对于给定的HTTP 响应状态码是 resolve 或 reject  promise 。如果 `validateStatus` 返回 `true` (或者设置为 `null` 或 `undefined`)，promise 将被 resolve; 否则，promise 将被 rejecte\nvalidateStatus: function (status) {\n    return status &gt;= 200 &amp;&amp; status &lt; 300; // default\n},\n\n// `maxRedirects` 定义在 node.js 中 follow 的最大重定向数目\n// 如果设置为0，将不会 follow 任何重定向\nmaxRedirects: 5, // default\n\n// `socketPath` defines a UNIX Socket to be used in node.js.\n// e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n// Only either `socketPath` or `proxy` can be specified.\n// If both are specified, `socketPath` is used.\nsocketPath: null, // default\n\n// `httpAgent` 和 `httpsAgent` 分别在 node.js 中用于定义在执行 http 和 https 时使用的自定义代理。允许像这样配置选项：\n// `keepAlive` 默认没有启用\nhttpAgent: new http.Agent({ keepAlive: true }),\nhttpsAgent: new https.Agent({ keepAlive: true }),\n\n// 'proxy' 定义代理服务器的主机名称和端口\n// `auth` 表示 HTTP 基础验证应当用于连接代理，并提供凭据\n// 这将会设置一个 `Proxy-Authorization` 头，覆写掉已有的通过使用 `header` 设置的自定义 `Proxy-Authorization` 头。\nproxy: {\n    host: '127.0.0.1',\n    port: 9000,\n    auth: {\n    username: 'mikeymike',\n    password: 'rapunz3l'\n    }\n},\n\n// `cancelToken` 指定用于取消请求的 cancel token\n// （查看后面的 Cancellation 这节了解更多）\ncancelToken: new CancelToken(function (cancel) {\n})\n}\n\n\n响应结构 // data 由服务器提供的响应 // status 来自服务器响应的 HTTP 状态码 // statusText 来自服务器响应的 HTTP 状态信息 // headers 服务器响应的头 // config 是为请求提供的配置信息 // 'request' { // data 由服务器提供的响应 data: {},\n\n// status 来自服务器响应的 HTTP 状态码 status: 200,\n\n// statusText 来自服务器响应的 HTTP 状态信息 statusText: 'OK',\n\n// headers 服务器响应的头 headers: {},\n\n// config 是为请求提供的配置信息 config: {}, // 'request' // request is the request that generated this response // It is the last ClientRequest instance in node.js (in redirects) // and an XMLHttpRequest instance the browser request: {} }",normalizedContent:"# 概述\n\naxios 是一个基于 promise 的 http 库，可以用在浏览器和 node.js 中。\n参考\n[axios中文文档|axios中文网](http://axios-js.com/zh-cn/docs/index.html)\n\n\n\n# 特性\n\n从浏览器中创建 xmlhttprequests\n从 node.js 创建 http 请求\n支持 promise api\n拦截请求和响应\n转换请求数据和响应数据\n取消请求\n自动转换 json 数据\n客户端支持防御 xsrf\n\n\n\n# 安装\n\nnpm i axios --save\ncdn:<script src=\"https://unpkg.com/axios/dist/axios.min.js\"><\/script>\n\n\n\n# 案例\n\n简单get请求\nconst axios = require('axios');\nconst url = 'https://www.baidu.com/'\naxios.get(url)\n.then(function (response) {\n    // console.log(response);\n    // console.log(response.data); // `data` 由服务器提供的响应\n    // console.log(response.status); // `status` 来自服务器响应的 http 状态码\n    // console.log(response.statustext); // `statustext` 来自服务器响应的 http 状态信息\n    // console.log(response.headers); // `headers` 服务器响应的头\n    // console.log(response.config); // `config` 是为请求提供的配置信息\n    console.log(response.request); // `request` \n})\n.catch(function (error) {\nconsole.log(error);\n});\n\n\n\n# 简单封装\n\nimport axios from 'axios'\nexport default function ajax (url, data={}, type='get') {\n    return new promise(function (resolve, reject) {\n    // 执行异步ajax请求\n    let promise\n    if (type === 'get') {\n        // 准备url query参数数据\n        let datastr = '' //数据拼接字符串\n        object.keys(data).foreach(key => {\n        datastr += key + '=' + data[key] + '&'\n        })\n        if (datastr !== '') {\n        datastr = datastr.substring(0, datastr.lastindexof('&'))\n        url = url + '?' + datastr\n        }\n        // 发送get请求\n        promise = axios.get(url)\n    } else {\n        // 发送post请求\n        promise = axios.post(url, data)\n    }\n    promise.then(function (response) {\n        // 成功了调用resolve()\n        resolve(response.data)\n    }).catch(function (error) {\n        //失败了调用reject()\n        reject(error)\n    })\n    })\n}\n执行多个并发请求axios.all\nfunction getuseraccount() {\n    return axios.get('/user/12345');\n}\nfunction getuserpermissions() {\nreturn axios.get('/user/12345/permissions');\n}\n\n\naxios.all([getuseraccount(),    getuserpermissions()])\n.then(axios.spread(function (acct, perms) {\n// 两个请求现在都执行完成\n}));\n\n\n# axios api\n\n// 发送 post 请求\naxios({\nmethod: 'post',\nurl: '/user/12345',\ndata: {\n    firstname: 'fred',\n    lastname: 'flintstone'\n}\n});\n\n\n# 获取远端图片\n\naxios({\nmethod:'get',\nurl:'http://bit.ly/2mtm3ny',\nresponsetype:'stream'\n})\n.then(function(response) {\nresponse.data.pipe(fs.createwritestream('ada_lovelace.jpg'))\n});\n\n\n\n# 请求方法的别名\n\naxios.request(config)\naxios.get(url[, config])\naxios.delete(url[, config])\naxios.head(url[, config])\naxios.options(url[, config])\naxios.post(url[, data[, config]])\naxios.put(url[, data[, config]])\naxios.patch(url[, data[, config]])\n创建实例\nconst instance = axios.create({\n    baseurl: 'https://some-domain.com/api/',\n    timeout: 1000,\n    headers: {'x-custom-header': 'foobar'}\n});\n\n\n\n# 实例方法\n\naxios#request(config)\naxios#get(url[, config])\naxios#delete(url[, config])\naxios#head(url[, config])\naxios#options(url[, config])\naxios#post(url[, data[, config]])\naxios#put(url[, data[, config]])\naxios#patch(url[, data[, config]])\n\n\n\n# 请求配置\n\n// `url` 是用于请求的服务器 url\n// `method` 是创建请求时使用的方法\n// `baseurl` 将自动加在 `url` 前面，除非 `url` 是一个绝对 url。\n// `transformrequest` 允许在向服务器发送前，修改请求数据\n// `transformresponse` 在传递给 then/catch 前，允许修改响应数据\n// `headers` 是即将被发送的自定义请求头\n// `params` 是即将与请求一起发送的 url 参数\n// `paramsserializer` 是一个负责 `params` 序列化的函数\n// `data` 是作为请求主体被发送的数据\n// `timeout` 指定请求超时的毫秒数(0 表示无超时时间)\n// `withcredentials` 表示跨域请求时是否需要使用凭证\n// `adapter` 允许自定义处理请求，以使测试更轻松\n// `auth` 表示应该使用 http 基础验证，并提供凭据\n// `responsetype` 表示服务器响应的数据类型，可以是 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'\n// `responseencoding` indicates encoding to use for decoding responses\n// `xsrfcookiename` 是用作 xsrf token 的值的cookie的名称\n// `onuploadprogress` 允许为上传处理进度事件\n// `ondownloadprogress` 允许为下载处理进度事件\n// `maxcontentlength` 定义允许的响应内容的最大尺寸\n// `validatestatus` 定义对于给定的http 响应状态码是 resolve 或 reject  promise 。如果 `validatestatus` 返回 `true` (或者设置为 `null` 或 `undefined`)，promise 将被 resolve; 否则，promise 将被 rejecte\n// `maxredirects` 定义在 node.js 中 follow 的最大重定向数目\n// `socketpath` defines a unix socket to be used in node.js.\n// `httpagent` 和 `httpsagent` 分别在 node.js 中用于定义在执行 http 和 https 时使用的自定义代理。允许像这样配置选项：\n// `keepalive` 默认没有启用\n// 'proxy' 定义代理服务器的主机名称和端口\n// `auth` 表示 http 基础验证应当用于连接代理，并提供凭据\n// 这将会设置一个 `proxy-authorization` 头，覆写掉已有的通过使用 `header` 设置的自定义 `proxy-authorization` 头。\n// `canceltoken` 指定用于取消请求的 cancel token\n具体\n    {\n    // `url` 是用于请求的服务器 url\n    url: '/user',\n// `method` 是创建请求时使用的方法\nmethod: 'get', // default\n\n// `baseurl` 将自动加在 `url` 前面，除非 `url` 是一个绝对 url。\n// 它可以通过设置一个 `baseurl` 便于为 axios 实例的方法传递相对 url\nbaseurl: 'https://some-domain.com/api/',\n\n// `transformrequest` 允许在向服务器发送前，修改请求数据\n// 只能用在 'put', 'post' 和 'patch' 这几个请求方法\n// 后面数组中的函数必须返回一个字符串，或 arraybuffer，或 stream\ntransformrequest: [function (data, headers) {\n    // 对 data 进行任意转换处理\n    return data;\n}],\n\n// `transformresponse` 在传递给 then/catch 前，允许修改响应数据\ntransformresponse: [function (data) {\n    // 对 data 进行任意转换处理\n    return data;\n}],\n\n// `headers` 是即将被发送的自定义请求头\nheaders: {'x-requested-with': 'xmlhttprequest'},\n\n// `params` 是即将与请求一起发送的 url 参数\n// 必须是一个无格式对象(plain object)或 urlsearchparams 对象\nparams: {\n    id: 12345\n},\n\n// `paramsserializer` 是一个负责 `params` 序列化的函数\n// (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\nparamsserializer: function(params) {\n    return qs.stringify(params, {arrayformat: 'brackets'})\n},\n\n// `data` 是作为请求主体被发送的数据\n// 只适用于这些请求方法 'put', 'post', 和 'patch'\n// 在没有设置 `transformrequest` 时，必须是以下类型之一：\n// - string, plain object, arraybuffer, arraybufferview, urlsearchparams\n// - 浏览器专属：formdata, file, blob\n// - node 专属： stream\ndata: {\n    firstname: 'fred'\n},\n\n// `timeout` 指定请求超时的毫秒数(0 表示无超时时间)\n// 如果请求话费了超过 `timeout` 的时间，请求将被中断\ntimeout: 1000,\n\n// `withcredentials` 表示跨域请求时是否需要使用凭证\nwithcredentials: false, // default\n\n// `adapter` 允许自定义处理请求，以使测试更轻松\n// 返回一个 promise 并应用一个有效的响应 (查阅 [response docs](#response-api)).\nadapter: function (config) {\n    /* ... */\n},\n\n// `auth` 表示应该使用 http 基础验证，并提供凭据\n// 这将设置一个 `authorization` 头，覆写掉现有的任意使用 `headers` 设置的自定义 `authorization`头\nauth: {\n    username: 'janedoe',\n    password: 's00pers3cret'\n},\n\n// `responsetype` 表示服务器响应的数据类型，可以是 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'\nresponsetype: 'json', // default\n\n// `responseencoding` indicates encoding to use for decoding responses\n// note: ignored for `responsetype` of 'stream' or client-side requests\nresponseencoding: 'utf8', // default\n\n// `xsrfcookiename` 是用作 xsrf token 的值的cookie的名称\nxsrfcookiename: 'xsrf-token', // default\n\n// `xsrfheadername` is the name of the http header that carries the xsrf token value\nxsrfheadername: 'x-xsrf-token', // default\n\n// `onuploadprogress` 允许为上传处理进度事件\nonuploadprogress: function (progressevent) {\n    // do whatever you want with the native progress event\n},\n\n// `ondownloadprogress` 允许为下载处理进度事件\nondownloadprogress: function (progressevent) {\n    // 对原生进度事件的处理\n},\n\n// `maxcontentlength` 定义允许的响应内容的最大尺寸\nmaxcontentlength: 2000,\n\n// `validatestatus` 定义对于给定的http 响应状态码是 resolve 或 reject  promise 。如果 `validatestatus` 返回 `true` (或者设置为 `null` 或 `undefined`)，promise 将被 resolve; 否则，promise 将被 rejecte\nvalidatestatus: function (status) {\n    return status &gt;= 200 &amp;&amp; status &lt; 300; // default\n},\n\n// `maxredirects` 定义在 node.js 中 follow 的最大重定向数目\n// 如果设置为0，将不会 follow 任何重定向\nmaxredirects: 5, // default\n\n// `socketpath` defines a unix socket to be used in node.js.\n// e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n// only either `socketpath` or `proxy` can be specified.\n// if both are specified, `socketpath` is used.\nsocketpath: null, // default\n\n// `httpagent` 和 `httpsagent` 分别在 node.js 中用于定义在执行 http 和 https 时使用的自定义代理。允许像这样配置选项：\n// `keepalive` 默认没有启用\nhttpagent: new http.agent({ keepalive: true }),\nhttpsagent: new https.agent({ keepalive: true }),\n\n// 'proxy' 定义代理服务器的主机名称和端口\n// `auth` 表示 http 基础验证应当用于连接代理，并提供凭据\n// 这将会设置一个 `proxy-authorization` 头，覆写掉已有的通过使用 `header` 设置的自定义 `proxy-authorization` 头。\nproxy: {\n    host: '127.0.0.1',\n    port: 9000,\n    auth: {\n    username: 'mikeymike',\n    password: 'rapunz3l'\n    }\n},\n\n// `canceltoken` 指定用于取消请求的 cancel token\n// （查看后面的 cancellation 这节了解更多）\ncanceltoken: new canceltoken(function (cancel) {\n})\n}\n\n\n响应结构 // data 由服务器提供的响应 // status 来自服务器响应的 http 状态码 // statustext 来自服务器响应的 http 状态信息 // headers 服务器响应的头 // config 是为请求提供的配置信息 // 'request' { // data 由服务器提供的响应 data: {},\n\n// status 来自服务器响应的 http 状态码 status: 200,\n\n// statustext 来自服务器响应的 http 状态信息 statustext: 'ok',\n\n// headers 服务器响应的头 headers: {},\n\n// config 是为请求提供的配置信息 config: {}, // 'request' // request is the request that generated this response // it is the last clientrequest instance in node.js (in redirects) // and an xmlhttprequest instance the browser request: {} }",charsets:{cjk:!0}},{title:"cmd基本使用",frontmatter:{title:"cmd基本使用",date:"2022-04-02T22:28:52.000Z",permalink:"/pages/baeb6f/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/cmd%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/cmd基本使用.md",key:"v-10bc4568",path:"/pages/baeb6f/",headers:[{level:2,title:"cmd",slug:"cmd",normalizedTitle:"cmd",charIndex:2},{level:3,title:"简单命令",slug:"简单命令",normalizedTitle:"简单命令",charIndex:10},{level:2,title:"powershell",slug:"powershell",normalizedTitle:"powershell",charIndex:1922},{level:3,title:"windows cmd下http和https代理设置以及取消",slug:"windows-cmd下http和https代理设置以及取消",normalizedTitle:"windows cmd下http和https代理设置以及取消",charIndex:2103},{level:3,title:"curl",slug:"curl",normalizedTitle:"curl",charIndex:2228},{level:3,title:"命令行启动桌面软件",slug:"命令行启动桌面软件",normalizedTitle:"命令行启动桌面软件",charIndex:3460},{level:3,title:"编码",slug:"编码",normalizedTitle:"编码",charIndex:3592},{level:3,title:"生成目录书",slug:"生成目录书",normalizedTitle:"生成目录书",charIndex:3661},{level:3,title:"常用命令",slug:"常用命令",normalizedTitle:"常用命令",charIndex:3699}],headersStr:"cmd 简单命令 powershell windows cmd下http和https代理设置以及取消 curl 命令行启动桌面软件 编码 生成目录书 常用命令",content:'# cmd\n\n\n# 简单命令\n\n * 帮助\n   \n   xcopy /?\n   \n   \n   1\n   \n\n * 进入当前用户桌面\n   \n   cd %userprofile%\\Desktop \n   \n   D:\\WinRAR\n   \n   \n   1\n   2\n   3\n   \n\n * 改名\n   \n   ren ffmpeg-2022-03-31-git-e301a24fa1-full_build ffmpeg\n   \n   \n   1\n   \n\n * 移动-copy\n   \n   \n   \n   \n   \n   1\n   2\n   \n\n * 复制-xcopy\n   \n   xcopy /e /i /y ffmpeg D:\\ffmpeg\\ \n   // /S           复制目录和子目录，不包括空目录。\n   // /E           复制目录和子目录，包括空目录。\n   // /I           如果目标不存在，且要复制多个文件，则假定目标必须是目录。\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * 删除\n   \n   rd /s /q ffmpeg\n   \n   \n   1\n   \n\n * convert\n   \n   ::将FAT32转换成NTFS的办法\n   convert z:/fs:ntfs\n   \n   \n   1\n   2\n   \n\n * 添加环境变量\n   \n   // setx加上/m参数表示设置的是系统的环境变量\n   // 追加一个路径到系统path环境变量中\n   setx "path" "D:\\WinRAR;%path%" /m\n   setx "path" "C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python310;%path%" /m\n   \n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * 压缩解压\n   \n   WinRAR X ffmpeg-2022-03-31-git-e301a24fa1-full_build.zip\n   解压文件并包含完整路径的命令行语法是:\n   WinRAR X [-参数] <压缩文件> [文件] [@文件列表] [目标文件夹\\]\n   解压文件并忽略路径是:\n   WinRAR E [-参数] <压缩文件> [文件] [@文件列表] [目标文件夹\\]\n   例如说，您要从压缩文件 LETTERS.RAR 中解压文件 LETTER.TXT 到当前文件夹时，请使用下列命令:\n   WinRAR X LETTERS.RAR LETTER.TXT\n   压缩文件扩展名是可选的，并且可以忽略。 \n   下一个命令是从压缩文件 Songs 解压全部的 *.WAV 文件到 Audio 文件夹:\n   WinRAR X Songs *.WAV Audio\\\n   在文件中列出要解压的文件，然后在命令行逐一列出也是可以的。这种例子下，在命令行必须指定被压缩文件列表文件的文件名。在文件名添加符号 @ 前缀。例如，如果您创建一个文件 Binaries，里面含有字符串 *.exe 和 *.com，然后运行命令 :\n   WinRAR X TOOLS @Binaries\n   TOOLS 压缩文件中所有 EXE 和 COM 扩展名的文件，都会被解压到当前文件夹。 \n   解压期间，有个窗口将会出现显示操作的状况。如果您希望中断解压的进行，在命令窗口单击“取消”按钮。您也可以单击“后台”按钮将 WinRAR 最小化放到任务栏。如果解压完成，而且没有错误，WinRAR 将会返回到界面模式。在有错误的状况时，则会出现 错误诊断信息窗口。\n   参阅 命令行界面 可以获得命令和参数的详细帮助。 \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   \n   * 查看端口\n   \n   netstat -aon|findstr "3306"\n   tasklist|findstr "5772"\n   taskkill /f /t /im mysqld.exe\n   \n   \n   1\n   2\n   3\n   \n   * 服务\n   \n   按win+R键\n   \n   \n   1\n   \n   \n   输入 services.msc\n\n\n# powershell\n\n// 压缩文件：\nCompress-Archive -Path D:\\Tools -DestinationPath E:\\Tools_bakcup.zip\n// 解压文件：\nExpand-Archive -Path E:\\Tools_bakcup.zip -DestinationPath F:\\Tools\n\n\n1\n2\n3\n4\n\n\n\n# windows cmd下http和https代理设置以及取消\n\n1.设置代理\nset http_proxy=http://93.158.214.153:3128\nset https_proxy=https://93.158.214.153:3128\ncurl --connect-timeout 5 -m 20 cip.cc\ncurl --connect-timeout 10 -m 20 cip.cc\n\ncurl ipinfo.io \ncurl ipinfo.io/ip #查询本机公网IP\ncurl ifconfig.me\n\n如果有用户名和密码\nset http_proxy_user=jake\nset http_proxy_pass=abcd\n2.取消代理设置\nset http_proxy=\nset https_proxy=\n3.查询代理\ncurl cip.cc\ncurl --connect-timeout 5 -m 20 cip.cc\ncurl http://www.youtube.com/\ncurl https://www.baidu.com/\ncurl https://www.google.com/\ncurl https://checkerproxy.net/\n\nhttp_proxy=socks5://127.0.0.1:1080 \nhttps_proxy=socks5://127.0.0.1:1080 \nall_proxy=socks5://127.0.0.1:1080\'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# curl\n\n使用CURL时，有两个超时时间：一个是连接超时时间，另一个是数据传输的最大允许时间。\n连接超时时间用--connect-timeout参数来指定，数据传输的最大允许时间用-m参数来指定。\ncurl --connect-timeout 10 -m 20 cip.cc\n连接超时的话，出错提示形如：\ncurl: (28) connect() timed out!\n数据传输的最大允许时间超时的话，出错提示形如：\ncurl: (28) Operation timed out after 2000 milliseconds with 0 bytes received\n\ncurl  -v  IP #查看具体过程信息\n\n错误\nConnection timeout after\nUnsupported proxy syntax in\nRecv failure: Connection was reset\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nWindows下CMD设置代理\n\n1、首先在IE浏览器中设置上网的代理、\n2、以管理员身份打开CMD 执行 \nnetsh winhttp import proxy source=ie \n3、Netsh winhttp show proxy 查看当前使用的代理\n4、Netsh winhttp rest proxy 取消当前使用的代理\n\n\n1\n2\n3\n4\n5\n\n\n\n# 命令行启动桌面软件\n\nmkdir c:\\desktop\\bin\ncopy %userprofile%\\Desktop\\*.lnk c:\\desktop\\bin\nsetx /m "path" "c:\\desktop\\bin;%path%"\n\n\n1\n2\n3\n\n\n\n# 编码\n\n\n\n# chcp 65001 # 声明采用UTF-8编码 936 \n# chcp 936 # 默认的gbk\n\n\n1\n2\n\n\n\n# 生成目录书\n\ntree  /f . > dir_tree.txt\n\n\n\n# 常用命令\n\n# 导出输入过的命令\ndoskey /history >cmdlist.txt',normalizedContent:'# cmd\n\n\n# 简单命令\n\n * 帮助\n   \n   xcopy /?\n   \n   \n   1\n   \n\n * 进入当前用户桌面\n   \n   cd %userprofile%\\desktop \n   \n   d:\\winrar\n   \n   \n   1\n   2\n   3\n   \n\n * 改名\n   \n   ren ffmpeg-2022-03-31-git-e301a24fa1-full_build ffmpeg\n   \n   \n   1\n   \n\n * 移动-copy\n   \n   \n   \n   \n   \n   1\n   2\n   \n\n * 复制-xcopy\n   \n   xcopy /e /i /y ffmpeg d:\\ffmpeg\\ \n   // /s           复制目录和子目录，不包括空目录。\n   // /e           复制目录和子目录，包括空目录。\n   // /i           如果目标不存在，且要复制多个文件，则假定目标必须是目录。\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * 删除\n   \n   rd /s /q ffmpeg\n   \n   \n   1\n   \n\n * convert\n   \n   ::将fat32转换成ntfs的办法\n   convert z:/fs:ntfs\n   \n   \n   1\n   2\n   \n\n * 添加环境变量\n   \n   // setx加上/m参数表示设置的是系统的环境变量\n   // 追加一个路径到系统path环境变量中\n   setx "path" "d:\\winrar;%path%" /m\n   setx "path" "c:\\users\\administrator\\appdata\\local\\programs\\python\\python310;%path%" /m\n   \n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * 压缩解压\n   \n   winrar x ffmpeg-2022-03-31-git-e301a24fa1-full_build.zip\n   解压文件并包含完整路径的命令行语法是:\n   winrar x [-参数] <压缩文件> [文件] [@文件列表] [目标文件夹\\]\n   解压文件并忽略路径是:\n   winrar e [-参数] <压缩文件> [文件] [@文件列表] [目标文件夹\\]\n   例如说，您要从压缩文件 letters.rar 中解压文件 letter.txt 到当前文件夹时，请使用下列命令:\n   winrar x letters.rar letter.txt\n   压缩文件扩展名是可选的，并且可以忽略。 \n   下一个命令是从压缩文件 songs 解压全部的 *.wav 文件到 audio 文件夹:\n   winrar x songs *.wav audio\\\n   在文件中列出要解压的文件，然后在命令行逐一列出也是可以的。这种例子下，在命令行必须指定被压缩文件列表文件的文件名。在文件名添加符号 @ 前缀。例如，如果您创建一个文件 binaries，里面含有字符串 *.exe 和 *.com，然后运行命令 :\n   winrar x tools @binaries\n   tools 压缩文件中所有 exe 和 com 扩展名的文件，都会被解压到当前文件夹。 \n   解压期间，有个窗口将会出现显示操作的状况。如果您希望中断解压的进行，在命令窗口单击“取消”按钮。您也可以单击“后台”按钮将 winrar 最小化放到任务栏。如果解压完成，而且没有错误，winrar 将会返回到界面模式。在有错误的状况时，则会出现 错误诊断信息窗口。\n   参阅 命令行界面 可以获得命令和参数的详细帮助。 \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   \n   * 查看端口\n   \n   netstat -aon|findstr "3306"\n   tasklist|findstr "5772"\n   taskkill /f /t /im mysqld.exe\n   \n   \n   1\n   2\n   3\n   \n   * 服务\n   \n   按win+r键\n   \n   \n   1\n   \n   \n   输入 services.msc\n\n\n# powershell\n\n// 压缩文件：\ncompress-archive -path d:\\tools -destinationpath e:\\tools_bakcup.zip\n// 解压文件：\nexpand-archive -path e:\\tools_bakcup.zip -destinationpath f:\\tools\n\n\n1\n2\n3\n4\n\n\n\n# windows cmd下http和https代理设置以及取消\n\n1.设置代理\nset http_proxy=http://93.158.214.153:3128\nset https_proxy=https://93.158.214.153:3128\ncurl --connect-timeout 5 -m 20 cip.cc\ncurl --connect-timeout 10 -m 20 cip.cc\n\ncurl ipinfo.io \ncurl ipinfo.io/ip #查询本机公网ip\ncurl ifconfig.me\n\n如果有用户名和密码\nset http_proxy_user=jake\nset http_proxy_pass=abcd\n2.取消代理设置\nset http_proxy=\nset https_proxy=\n3.查询代理\ncurl cip.cc\ncurl --connect-timeout 5 -m 20 cip.cc\ncurl http://www.youtube.com/\ncurl https://www.baidu.com/\ncurl https://www.google.com/\ncurl https://checkerproxy.net/\n\nhttp_proxy=socks5://127.0.0.1:1080 \nhttps_proxy=socks5://127.0.0.1:1080 \nall_proxy=socks5://127.0.0.1:1080\'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# curl\n\n使用curl时，有两个超时时间：一个是连接超时时间，另一个是数据传输的最大允许时间。\n连接超时时间用--connect-timeout参数来指定，数据传输的最大允许时间用-m参数来指定。\ncurl --connect-timeout 10 -m 20 cip.cc\n连接超时的话，出错提示形如：\ncurl: (28) connect() timed out!\n数据传输的最大允许时间超时的话，出错提示形如：\ncurl: (28) operation timed out after 2000 milliseconds with 0 bytes received\n\ncurl  -v  ip #查看具体过程信息\n\n错误\nconnection timeout after\nunsupported proxy syntax in\nrecv failure: connection was reset\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nwindows下cmd设置代理\n\n1、首先在ie浏览器中设置上网的代理、\n2、以管理员身份打开cmd 执行 \nnetsh winhttp import proxy source=ie \n3、netsh winhttp show proxy 查看当前使用的代理\n4、netsh winhttp rest proxy 取消当前使用的代理\n\n\n1\n2\n3\n4\n5\n\n\n\n# 命令行启动桌面软件\n\nmkdir c:\\desktop\\bin\ncopy %userprofile%\\desktop\\*.lnk c:\\desktop\\bin\nsetx /m "path" "c:\\desktop\\bin;%path%"\n\n\n1\n2\n3\n\n\n\n# 编码\n\n\n\n# chcp 65001 # 声明采用utf-8编码 936 \n# chcp 936 # 默认的gbk\n\n\n1\n2\n\n\n\n# 生成目录书\n\ntree  /f . > dir_tree.txt\n\n\n\n# 常用命令\n\n# 导出输入过的命令\ndoskey /history >cmdlist.txt',charsets:{cjk:!0}},{title:"css简单小问题",frontmatter:{title:"css简单小问题",date:"2022-03-21T16:47:02.000Z",permalink:"/pages/07a82e/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/css%E7%AE%80%E5%8D%95%E5%B0%8F%E9%97%AE%E9%A2%98.html",relativePath:"_posts/随笔/css简单小问题.md",key:"v-70d60836",path:"/pages/07a82e/",headers:[{level:3,title:"问题",slug:"问题",normalizedTitle:"问题",charIndex:2},{level:4,title:"css 取消原来input的阴影边框效果",slug:"css-取消原来input的阴影边框效果",normalizedTitle:"css 取消原来input的阴影边框效果",charIndex:80},{level:4,title:"buttin、text 、input 高度不一致",slug:"buttin、text-、input-高度不一致",normalizedTitle:"buttin、text 、input 高度不一致",charIndex:242},{level:4,title:"input 与父元素底部不贴合",slug:"input-与父元素底部不贴合",normalizedTitle:"input 与父元素底部不贴合",charIndex:383},{level:3,title:"知识点",slug:"知识点",normalizedTitle:"知识点",charIndex:503},{level:4,title:"有继承性的属性",slug:"有继承性的属性",normalizedTitle:"有继承性的属性",charIndex:510},{level:4,title:"行内元素、块级元素、空元素",slug:"行内元素、块级元素、空元素",normalizedTitle:"行内元素、块级元素、空元素",charIndex:994},{level:4,title:"单行文本居中",slug:"单行文本居中",normalizedTitle:"单行文本居中",charIndex:1282},{level:4,title:"两行三列",slug:"两行三列",normalizedTitle:"两行三列",charIndex:1478},{level:4,title:"隐藏元素的方法",slug:"隐藏元素的方法",normalizedTitle:"隐藏元素的方法",charIndex:1557},{level:4,title:"垂直水平居中",slug:"垂直水平居中",normalizedTitle:"垂直水平居中",charIndex:1794},{level:4,title:"用css改变鼠标箭头",slug:"用css改变鼠标箭头",normalizedTitle:"用css改变鼠标箭头",charIndex:2894},{level:4,title:"CSS position定位",slug:"css-position定位",normalizedTitle:"css position定位",charIndex:3404},{level:4,title:"伪类:和伪元素::的区别",slug:"伪类-和伪元素-的区别",normalizedTitle:"伪类:和伪元素::的区别",charIndex:3462},{level:4,title:"a标签中间加竖线",slug:"a标签中间加竖线",normalizedTitle:"a标签中间加竖线",charIndex:3677}],excerpt:'<h3 id="问题"><a class="header-anchor" href="#问题">#</a> 问题</h3>\n<blockquote>\n<p>css搜索框与按钮有间隙\nmargin-right -5px\n</br>\ncss+div浮动怎么让它在窗口大小变化时不改变位置\n:父元素写死宽度</p>\n</blockquote>\n',headersStr:"问题 css 取消原来input的阴影边框效果 buttin、text 、input 高度不一致 input 与父元素底部不贴合 知识点 有继承性的属性 行内元素、块级元素、空元素 单行文本居中 两行三列 隐藏元素的方法 垂直水平居中 用css改变鼠标箭头 CSS position定位 伪类:和伪元素::的区别 a标签中间加竖线",content:'# 问题\n\n> css搜索框与按钮有间隙 margin-right -5px\n> css+div浮动怎么让它在窗口大小变化时不改变位置 :父元素写死宽度\n\n# css 取消原来input的阴影边框效果\n\ninput \n    outline-color invert\n    outline-style none\n    outline-width 0px\n    border none\n    border-style none\n    text-shadow none\n\n\n# buttin、text 、input 高度不一致\n\n// button的高度包含边框的高度，而文本框text则不包含边框高度。\nbutton\n    box-sizing border-box\n    border 0\n    border: 1px solid #ccc\n\n\n# input 与父元素底部不贴合\n\n// vertical-align 属性设置元素的垂直对齐方式。\nvertical-align 0.7px\ninput页面加载时，自动获得焦点\nautofocus // 页面加载时，自动获得焦点\n\n\n\n# 知识点\n\n# 有继承性的属性\n\n//字体系列属性\nfont-family：字体系列\nfont-weight：字体的粗细\nfont-size：字体的大小\nfont-style：字体的风格\n//文本系列属性\ntext-indent：文本缩进\ntext-align：文本水平对齐\nline-height：行高\nword-spacing：单词之间的间距\nletter-spacing：中文或者字母之间的间距\ntext-transform：控制文本大小写（就是uppercase、lowercase、capitalize这三个）\ncolor：文本颜色\n    a标签的color不能继承，要在\n        a\n            color red\n            &:hover \n                color #fff\n// 元素可见性\nvisibility：控制元素显示隐藏\n// 列表布局属性\nlist-style：列表风格，包括list-style-type、list-style-image等\n//光标属性\ncursor：光标显示为何种形态\n\n\n# 行内元素、块级元素、空元素\n\n行内元素有：a b span img input select strong；\n块级元素有：div、nav、aside、header、footer、section、article、address、p、 ul ol li dl dt dd h1 h2 h3 h4 h5 h6 p\n空元素\n<br>、<hr>、<img>、<input>、<link>、<meta><area>、<base>、<col>、<colgroup>、<command>、<embed>、<keygen>、<param>、<source>、<track>、<wbr>\n\n\n# 单行文本居中\n\nline-height 设置跟父元素一样即可\n将img中图片与文字垂直居中 方法一 .appcode position absolute text-align center img / / width 90px height 90px display block margin auto 方法二 display flex justify-content center\n\n\n# 两行三列\n\np\n    display flex\n    flex-wrap: wrap\n    s\n        flex 1 0 33.33%\n\n\n# 隐藏元素的方法\n\ndisplay none 不渲染，不占位，不响应\nvisibility hidden\nopacity  0\n隐藏标签里的文本\ntext-indent -9999em\n监听后代元素获得焦点\n&.active,&:hover \n:focus-within 是一个CSS 伪类 ，表示一个元素获得焦点，或该元素的后代元素获得焦点。换句话说，元素自身或者它的某个后代匹配 :focus 伪类。（shadow DOM 树 (en-US)中的后代也包括在内）\n\n\n# 垂直水平居中\n\n方法一\n    1.父\n        position relative\n    2.子\n        position: absolute\n        left 50%\n        top 50%\n        ransform translate(-50%,-50%)\n方法二\n    前提：子父盒子都有宽高\n    1.父\n        position relative\n    2.子\n        position: absolute\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        margin: auto;\n方法三\n媒体查询\n@media mediatype and|not|only (media fature) {\n    css-code\n}   \n@media \n    mediatype 媒体类型\n    and|not|only 关键字\n    (media fature) 媒体特性必须要有小括号\nflex布局\nflex\n    flex-direction\n        row\n        column\n        row-reverse\n        column-reverse\n    flex-wrap\n        nowrap\n        wrap\n        nowrap-reverse\n        wrap-reverse\n    flow-flow\n        flex-direction&flex-warp的简写\n    justify-content\n        flex-start\n        flex-end\n        center\n        sapce-between\n        space-around\n    align-items\n        strech(默认)\n        flex-start\n        flex-end\n        center\n        baseline\n    align-content\n        定义了多根轴线（多行）的对齐方式\n        strech(默认)\n        flex-start\n        flex-end\n        center\n        sapce-between\n        space-around\n\n\n# 用css改变鼠标箭头\n\n[用css改变鼠标箭头](http://www.zzsky.cn/build/content/23.htm)\n一、在<body>与</body>之间加入如下代码（这里选择cursor（文本）作为对象，还可以自己改为其他的，如link等）：\n    <span style="cursor:*">文本或其它页面元素</span>\n二、把*换成15种效果的一种：\n    hand      手形\n    crosshair      十字型\n    text      文本光标\n    wait      等待效果\n    default      默认效果\n    help      问号\n    e-size      向右的箭头\n    ne-resize      向右上的箭头\n    nw-resize      向左上的箭头\n    w-resize      向左的箭头\n    sw-resize      左下的箭头\n    s-resize      向下的箭头\n    se-resize      向右下的箭头\n    auto      系统自动给出的效果\n\n\n# CSS position定位\n\nstatic\nrelative\nfixed\nabsoulte\nsticky\n\n\n# 伪类:和伪元素::的区别\n\n伪类: \n就是这个元素的一个状态 比如 :active :checked    :empty, 都是当这个元素的一个状态.\n伪元素:\n你需要创建一个新的元素才能完成的样式,也就是说,如果你不用伪元素,你需要信创建一个元素才能完成这样的效果;\n比如::after 和::before作用是在元素前后添加内容和样式, 对于伪元素 css提供了一个content属性 可以在css中对伪元素添加内容\n\n\n# a标签中间加竖线\n\n//方法一 \nword-spacing -5px //父标签 \nborder 1px solid #424242 //竖线标签\n//方法二\n// border-left  1px solid #424242\n// margin-left -1px\n// padding-left 5px\n方法三\n\x3c!-- <span class="sep">|</span> --\x3e',normalizedContent:'# 问题\n\n> css搜索框与按钮有间隙 margin-right -5px\n> css+div浮动怎么让它在窗口大小变化时不改变位置 :父元素写死宽度\n\n# css 取消原来input的阴影边框效果\n\ninput \n    outline-color invert\n    outline-style none\n    outline-width 0px\n    border none\n    border-style none\n    text-shadow none\n\n\n# buttin、text 、input 高度不一致\n\n// button的高度包含边框的高度，而文本框text则不包含边框高度。\nbutton\n    box-sizing border-box\n    border 0\n    border: 1px solid #ccc\n\n\n# input 与父元素底部不贴合\n\n// vertical-align 属性设置元素的垂直对齐方式。\nvertical-align 0.7px\ninput页面加载时，自动获得焦点\nautofocus // 页面加载时，自动获得焦点\n\n\n\n# 知识点\n\n# 有继承性的属性\n\n//字体系列属性\nfont-family：字体系列\nfont-weight：字体的粗细\nfont-size：字体的大小\nfont-style：字体的风格\n//文本系列属性\ntext-indent：文本缩进\ntext-align：文本水平对齐\nline-height：行高\nword-spacing：单词之间的间距\nletter-spacing：中文或者字母之间的间距\ntext-transform：控制文本大小写（就是uppercase、lowercase、capitalize这三个）\ncolor：文本颜色\n    a标签的color不能继承，要在\n        a\n            color red\n            &:hover \n                color #fff\n// 元素可见性\nvisibility：控制元素显示隐藏\n// 列表布局属性\nlist-style：列表风格，包括list-style-type、list-style-image等\n//光标属性\ncursor：光标显示为何种形态\n\n\n# 行内元素、块级元素、空元素\n\n行内元素有：a b span img input select strong；\n块级元素有：div、nav、aside、header、footer、section、article、address、p、 ul ol li dl dt dd h1 h2 h3 h4 h5 h6 p\n空元素\n<br>、<hr>、<img>、<input>、<link>、<meta><area>、<base>、<col>、<colgroup>、<command>、<embed>、<keygen>、<param>、<source>、<track>、<wbr>\n\n\n# 单行文本居中\n\nline-height 设置跟父元素一样即可\n将img中图片与文字垂直居中 方法一 .appcode position absolute text-align center img / / width 90px height 90px display block margin auto 方法二 display flex justify-content center\n\n\n# 两行三列\n\np\n    display flex\n    flex-wrap: wrap\n    s\n        flex 1 0 33.33%\n\n\n# 隐藏元素的方法\n\ndisplay none 不渲染，不占位，不响应\nvisibility hidden\nopacity  0\n隐藏标签里的文本\ntext-indent -9999em\n监听后代元素获得焦点\n&.active,&:hover \n:focus-within 是一个css 伪类 ，表示一个元素获得焦点，或该元素的后代元素获得焦点。换句话说，元素自身或者它的某个后代匹配 :focus 伪类。（shadow dom 树 (en-us)中的后代也包括在内）\n\n\n# 垂直水平居中\n\n方法一\n    1.父\n        position relative\n    2.子\n        position: absolute\n        left 50%\n        top 50%\n        ransform translate(-50%,-50%)\n方法二\n    前提：子父盒子都有宽高\n    1.父\n        position relative\n    2.子\n        position: absolute\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        margin: auto;\n方法三\n媒体查询\n@media mediatype and|not|only (media fature) {\n    css-code\n}   \n@media \n    mediatype 媒体类型\n    and|not|only 关键字\n    (media fature) 媒体特性必须要有小括号\nflex布局\nflex\n    flex-direction\n        row\n        column\n        row-reverse\n        column-reverse\n    flex-wrap\n        nowrap\n        wrap\n        nowrap-reverse\n        wrap-reverse\n    flow-flow\n        flex-direction&flex-warp的简写\n    justify-content\n        flex-start\n        flex-end\n        center\n        sapce-between\n        space-around\n    align-items\n        strech(默认)\n        flex-start\n        flex-end\n        center\n        baseline\n    align-content\n        定义了多根轴线（多行）的对齐方式\n        strech(默认)\n        flex-start\n        flex-end\n        center\n        sapce-between\n        space-around\n\n\n# 用css改变鼠标箭头\n\n[用css改变鼠标箭头](http://www.zzsky.cn/build/content/23.htm)\n一、在<body>与</body>之间加入如下代码（这里选择cursor（文本）作为对象，还可以自己改为其他的，如link等）：\n    <span style="cursor:*">文本或其它页面元素</span>\n二、把*换成15种效果的一种：\n    hand      手形\n    crosshair      十字型\n    text      文本光标\n    wait      等待效果\n    default      默认效果\n    help      问号\n    e-size      向右的箭头\n    ne-resize      向右上的箭头\n    nw-resize      向左上的箭头\n    w-resize      向左的箭头\n    sw-resize      左下的箭头\n    s-resize      向下的箭头\n    se-resize      向右下的箭头\n    auto      系统自动给出的效果\n\n\n# css position定位\n\nstatic\nrelative\nfixed\nabsoulte\nsticky\n\n\n# 伪类:和伪元素::的区别\n\n伪类: \n就是这个元素的一个状态 比如 :active :checked    :empty, 都是当这个元素的一个状态.\n伪元素:\n你需要创建一个新的元素才能完成的样式,也就是说,如果你不用伪元素,你需要信创建一个元素才能完成这样的效果;\n比如::after 和::before作用是在元素前后添加内容和样式, 对于伪元素 css提供了一个content属性 可以在css中对伪元素添加内容\n\n\n# a标签中间加竖线\n\n//方法一 \nword-spacing -5px //父标签 \nborder 1px solid #424242 //竖线标签\n//方法二\n// border-left  1px solid #424242\n// margin-left -1px\n// padding-left 5px\n方法三\n\x3c!-- <span class="sep">|</span> --\x3e',charsets:{cjk:!0}},{title:"express的基本使用",frontmatter:{title:"express的基本使用",date:"2022-03-23T09:13:11.000Z",permalink:"/pages/b82c53/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/express%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/express的基本使用.md",key:"v-7774bc2e",path:"/pages/b82c53/",headers:[{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:2},{level:3,title:"杀死指定端口",slug:"杀死指定端口",normalizedTitle:"杀死指定端口",charIndex:21},{level:3,title:"例子",slug:"例子",normalizedTitle:"例子",charIndex:99},{level:3,title:"express 部署 dist 文件",slug:"express-部署-dist-文件",normalizedTitle:"express 部署 dist 文件",charIndex:1435}],headersStr:"参考 杀死指定端口 例子 express 部署 dist 文件",content:"# 参考\n\nExpress中文网\n\n\n# 杀死指定端口\n\n// cmd\n    netstat -aon|findstr \"5500\"\n    taskkill /pid 2476 -f\n\n\n\n# 例子\n\nconst express = require('express')\nconst bodyParser = require(\"body-parser\")\n// const cors = require(\"cors\"); // 导入cors 中间件，详情看github\n// app.use(cors({credentials: true, origin: 'http://localhost:5500'}));\nconst app = express()\n// 处理静态资源\n// app.use(express.static('public'))\n// 处理参数\napp.use(bodyParser.json());\n// app.use(bodyParser.urlencoded({\n//     extended:false\n// }))\n\nconst port = 3000\n\n//本地服务器解决跨域，不可缺\napp.all('*', function (req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*');\n    //Access-Control-Allow-Headers ,可根据浏览器的F12查看,把对应的粘贴在这里就行\n    res.header('Access-Control-Allow-Headers', 'Content-Type');\n    res.header('Access-Control-Allow-Methods', '*');\n    res.header('Content-Type', 'application/json;charset=utf-8');\n    next();\n  });\n\n// promise\napp.get('/pdata', (req, res) => {\n    res.send('Hello promise!')\n})\n// fetch\napp.get('/fdata', (req, res) => {\n    res.send('Hello Fetch!')\n})\n\napp.get('/json', (req, res) => {\n    res.send({\n        'uname':'张三',\n        'age':18\n    })\n})\n\n// axios\napp.get('/adata', (req, res) => {\n    // res.header(\"Access-Control-Allow-Origin\", \"*\");\n    // res.header('Access-Control-Allow-Origin', 'http://localhost:5500')\n    res.send('Hello axios!')\n})\n\napp.listen(port, () => {\n    console.log(`Example app listening on port http://localhost:${port}`)\n})\n\n\n\n# express 部署 dist 文件\n\n// serves.js \n\tconst express = require('express')\n\tconst app = express()\n\tconst port = 8012 // 自定义端口号（不要与已存在端口冲突）\n\tapp.use(express.static('dist')) // dist 是项目的打包资源路径\n\tapp.listen(port, () => console.log(`服务器 ${port} 开启成功!`))",normalizedContent:"# 参考\n\nexpress中文网\n\n\n# 杀死指定端口\n\n// cmd\n    netstat -aon|findstr \"5500\"\n    taskkill /pid 2476 -f\n\n\n\n# 例子\n\nconst express = require('express')\nconst bodyparser = require(\"body-parser\")\n// const cors = require(\"cors\"); // 导入cors 中间件，详情看github\n// app.use(cors({credentials: true, origin: 'http://localhost:5500'}));\nconst app = express()\n// 处理静态资源\n// app.use(express.static('public'))\n// 处理参数\napp.use(bodyparser.json());\n// app.use(bodyparser.urlencoded({\n//     extended:false\n// }))\n\nconst port = 3000\n\n//本地服务器解决跨域，不可缺\napp.all('*', function (req, res, next) {\n    res.header('access-control-allow-origin', '*');\n    //access-control-allow-headers ,可根据浏览器的f12查看,把对应的粘贴在这里就行\n    res.header('access-control-allow-headers', 'content-type');\n    res.header('access-control-allow-methods', '*');\n    res.header('content-type', 'application/json;charset=utf-8');\n    next();\n  });\n\n// promise\napp.get('/pdata', (req, res) => {\n    res.send('hello promise!')\n})\n// fetch\napp.get('/fdata', (req, res) => {\n    res.send('hello fetch!')\n})\n\napp.get('/json', (req, res) => {\n    res.send({\n        'uname':'张三',\n        'age':18\n    })\n})\n\n// axios\napp.get('/adata', (req, res) => {\n    // res.header(\"access-control-allow-origin\", \"*\");\n    // res.header('access-control-allow-origin', 'http://localhost:5500')\n    res.send('hello axios!')\n})\n\napp.listen(port, () => {\n    console.log(`example app listening on port http://localhost:${port}`)\n})\n\n\n\n# express 部署 dist 文件\n\n// serves.js \n\tconst express = require('express')\n\tconst app = express()\n\tconst port = 8012 // 自定义端口号（不要与已存在端口冲突）\n\tapp.use(express.static('dist')) // dist 是项目的打包资源路径\n\tapp.listen(port, () => console.log(`服务器 ${port} 开启成功!`))",charsets:{cjk:!0}},{title:"ffmpge的基本使用",frontmatter:{title:"ffmpge的基本使用",date:"2022-04-03T09:25:06.000Z",permalink:"/pages/144094/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/ffmpge%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/ffmpge的基本使用.md",key:"v-1736c87e",path:"/pages/144094/",headers:[{level:3,title:"下载",slug:"下载",normalizedTitle:"下载",charIndex:2},{level:4,title:"常见命令",slug:"常见命令",normalizedTitle:"常见命令",charIndex:489},{level:5,title:"裁剪",slug:"裁剪",normalizedTitle:"裁剪",charIndex:497},{level:3,title:"合并",slug:"合并",normalizedTitle:"合并",charIndex:841},{level:3,title:"ffmpeg生成视频封面图",slug:"ffmpeg生成视频封面图",normalizedTitle:"ffmpeg生成视频封面图",charIndex:1475},{level:3,title:"制作动图git",slug:"制作动图git",normalizedTitle:"制作动图git",charIndex:1658},{level:3,title:"提升音量",slug:"提升音量",normalizedTitle:"提升音量",charIndex:1741},{level:3,title:"倍速播放",slug:"倍速播放",normalizedTitle:"倍速播放",charIndex:1803},{level:3,title:"常用命令行参数",slug:"常用命令行参数",normalizedTitle:"常用命令行参数",charIndex:2029},{level:3,title:"1 显示文件信息",slug:"_1-显示文件信息",normalizedTitle:"1 显示文件信息",charIndex:2319},{level:3,title:"压缩音频",slug:"压缩音频",normalizedTitle:"压缩音频",charIndex:2817},{level:3,title:"挂载字幕",slug:"挂载字幕",normalizedTitle:"挂载字幕",charIndex:3152},{level:3,title:"分离字幕",slug:"分离字幕",normalizedTitle:"分离字幕",charIndex:5565}],headersStr:"下载 常见命令 裁剪 合并 ffmpeg生成视频封面图 制作动图git 提升音量 倍速播放 常用命令行参数 1 显示文件信息 压缩音频 挂载字幕 分离字幕",content:'# 下载\n\nffmpeg官网\n\n 1. 打开https://ffmpeg.org/点击Download\n 2. 选择window - Windows builds from gyan.dev\n 3. 选择 https://www.gyan.dev/ffmpeg/builds/ffmpeg-git-github\n 4. 选择 ffmpeg-2022-03-31-git-e301a24fa1-full_build.zip下载\n 5. 解压-重命名-移动到D: D:\\ffmpeg\n\n// 在下载zip文件夹下打开cmd\nWinRAR X ffmpeg-2022-03-31-git-e301a24fa1-full_build.zip\nxcopy /s /e /i /y ffmpeg-2022-03-31-git-e301a24fa1-full_build D:\\ffmpeg\\ \nsetx "path" "D:\\ffmpeg\\bin;%path%" /m\n\nexit\n// 重启cmd窗口查看版本号\nffmpeg -version\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 常见命令\n\n# 裁剪\n\nffmpeg -ss 00:00:00 -t 00:01:00 -i input.mp4 -vcodec copy -acodec copy output.mp4 \n\n// -i 表示源视频文件\n// -ss表示开始切割的时间，-t表示要切多少。上面就是从开始，切5秒钟出来。\n// -y 表示如果输出文件已存在则覆盖。\n\nffmpeg -ss 00:00:00 -t 00:40:00 -i input.mp4 -vcodec copy -acodec copy output.mp4 \nffmpeg -ss 00:40:00 -i input.mp4 -vcodec copy -acodec copy output1.mp4 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 合并\n\nffmpeg -f concat -safe 0 -i filelist.txt -c copy output.mp4\n\n\n1\n\n\nfile input1.mp4\nfile input1.mp4\nfile input1.mp4\n\n\n1\n2\n3\n\n\n\n// 解码后文件播放时长：慢、准确，\n// 一个媒体文件里边有多个音视频流，各个流的时长也未必一样，一般播放器会以video stream的时长作为播放时长，另外，并不是所有格式的视频，会在音视频流级别保存了时长，这时可能会拿不到时长\n// 解码后文件播放时长（get duration by decoding）\nffmpeg.exe -i input.mp4  -f null -\n// 音视频流时长（stream duration）\nffprobe.exe -v error -select_streams v:0 -show_entries stream=duration -of default=noprint_wrappers=1:nokey=1 input.mp4\n// 容器时长（container duration)\n// 特点：慢、准确\nffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 -i input.mp4\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ffmpeg生成视频封面图\n\n# 视频 a.mp4 第一帧导出为 a.jpg\nffmpeg -i input.mp4 -y -f image2 -frames 1 poster.jpg\n# 指定封面图大小\nffmpeg -i input.mp4 -y -f image2 -s 640*480 -frames 1 poster.jpg\n\n\n1\n2\n3\n4\n\n\n\n# 制作动图git\n\nffmpeg -i input.mp4 -vf setpts=PTS/8 -af atempo=8 -f gif out.gif\n\n\n1\n\n\n\n# 提升音量\n\nffmpeg -i input.wav -af volume=-3dB output.wav\n\n\n1\n\n\n\n# 倍速播放\n\nffmpeg -i input.mp4 -vf setpts=PTS/2 -af atempo=2 out.mp4\n\nffmpeg -i 27.主进程和渲染进程的通讯.mp4 -vf setpts=PTS/2 -af atempo=2 27.主进程和渲染进程的通讯@.mp4\n\n\nffmpeg -i out.mp4 -vf setpts=PTS/2 -af atempo=0.125 out2.mp4\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 常用命令行参数\n\n-c：指定编码器\n-c copy：直接复制，不经过重新编码（这样比较快）\n-c:v：指定视频编码器\n-c:a：指定音频编码器\n-i：指定输入文件\n-an：去除音频流\n-vn： 去除视频流\n-preset：指定输出的视频质量，会影响文件的生成速度，有以下几个可用的值\n\t    ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow。\n-y：不经过确认，输出时直接覆盖同名文件。\n12345678910\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 1 显示文件信息\n\nffmpeg -i input.mp4 -hide_banner\n\n\n1\n\n\n分离视频\n\n$ ffmpeg -i input.mp4 -vcodec copy -an output.mp4\n\n\n1\n\n\n分离音频\n\n$ ffmpeg -i input.mp4 -acodec copy -vn output.m4a\n\nffmpeg -i input.mp4 -acodec copy -vn output.wav\nffmpeg -i input.mp4 -acodec copy -vn output.aac\n\n\nffmpeg -i "Z:\\Learn\\技术胖\\18-桌面应用开发(Desktop Applications)\\Electron超详细实战开发教程\\video\\1.最新Electron课程介绍.mp4" -acodec copy -vn "Z:\\Learn\\技术胖\\18-桌面应用开发(Desktop Applications)\\Electron超详细实战开发教程\\audio\\1.最新Electron课程介绍.aac"\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 压缩音频\n\n在cmd中输入命令并运行：\nffmpeg -i "Electron超详细实战开发教程.wav" -b:a 64k -acodec mp3 -ar 44100 -ac 1 "Electron超详细实战开发教程.mp3"\n命令参数解释：\n-i "1.wav"表示输入，后面的文件名必须要用双引号；\n-b:a 64k表示音频的码率为64kb/s，即8kB/s；\n-acodec mp3表示设定声音编解码器为mp3；\n-ar 44100表示设定采样率为44100；\n"1.mp3"表示输出保存的文件名。\n\nffmpeg -i "Electron超详细实战开发教程.wav" -ar 500 "out.wav"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 挂载字幕\n\n\n# ffmpeg -i input.mp4 -i input.srt -c:s copy -c:v copy -c:a copy out.mp4\n# 添加硬字幕，ffmpeg最终都会将字幕格式先转换成ass字幕流再将字幕嵌入到视频帧中，这个过程需要重新编解码，所以速度比较慢。\nffmpeg -i input.mp4 -vf subtitles=input.srt output.mp4\nffmpeg -i input.mp4 -vf subtitles=input.ass output.mp4\n# 添加软字幕，添加软字幕的原理和流程就跟给视频添加音频一样，这个过程不需要重新编解码，所以速度非常快。\nffmpeg -i input.mp4 -i input.srt -c copy output.mp4\nffmpeg -i input.mp4 -i input.ass -c copy output.mkv\n\nffmpeg -i input.mkv -i input.ass -c copy output.mkv\n\n给mkv文件添加srt格式的软字幕：\nffmpeg -i input.mkv -i input.srt -c copy -c:s srt output.mkv\n给mp4文件添加srt格式的软字幕(mkv格式本身支持字幕轨道，但mp4需要使用mov_text）\nffmpeg -i input.mp4 -i input.srt -c copy -c:s mov_text output.mp4\n给mkv文件添加ass软字幕(mp4不支持ass编码格式的字幕流,mkv支持）\nffmpeg -i input.mp4 -i input.ass -c copy -c:s ass output.mkv\n\n\n\nffmpeg -i "1.最新Electron课程介绍.mp4" -i "1.最新Electron课程介绍.srt" -c copy "output.mp4"\nffmpeg -i "1.最新Electron课程介绍.mp4" -i "1.最新Electron课程介绍.ass" -c copy "output.mp4"\nffmpeg -i 1.最新Electron课程介绍.mp4 -i 1.最新Electron课程介绍.srt -c:s copy -c:v copy -c:a copy out.mp4\n\nffmpeg -i 1.最新Electron课程介绍.mp4 -i 1.最新Electron课程介绍.ass -c:s copy -c:v copy -c:a copy out.mp4\n\n# 字幕格式转换\nffmpeg -i input.srt input.vtt\nffmpeg -i input.srt input.ass\n\nffmpeg -i  input.ass input.srt\n\n\n\n\nos.system("ffmpeg -i "+video_file_path+" -i "+subtitle_file_path+" -c:s copy -c:v copy -c:a copy "+subtitle_video_file_path)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n将 Outline 和 Shadow 大小更改为 0.\n阴影的 alpha 设置将控制背景框的透明度.单击阴影颜色以将阴影颜色的 Alpha 调整为所需的透明度级别.\n在文本编辑器中编辑 ASS 文件.在 Style 行中，将 BorderStyle 对应的值更改为 4.这将填充每个字幕事件的边界框背景.示例 Style 行:\nStyle: Default,Arial,20,&H00FFFFFF,&H000000FF,&H80000000,&H80000000,-1,0,0,0,100,100,0,0,4,0,0,2,10,10,10,1\n请注意，BorderStyle=4 是一个非标准值，因此它可能无法在所有播放器中正常工作.\n\n# ffmpeg -i input.mp4 -filter_complex "drawbox=w=iw:h=24:y=ih-28:t=max:color=black@0.4,subtitles=input.ass" output.mp4\n\nffmpeg -i input -filter_complex "subtitles=subs.ass:force_style=\'OutlineColour=&H80000000,BorderStyle=3,Outline=1,Shadow=0,MarginV=20\'" output\n\nStyle: Default,Arial,20,&H00FFFFFF,&H000000FF,&H80000000,&H80000000,-1,0,0,0,100,100,0,0,4,0,0,2,10,10,10,1\n\nStyle: Default,Arial,20,&H00FFFFFF,&H000000FF,&H00000000,&H64000000,0,0,0,0,100,100,0,0,3,0,1,2,10,10,10,1\n\nffmpeg -i input.mp4 -filter_complex "drawbox=w=iw:h=24:y=ih-28:t=max:color=black@0.4,subtitles=input.ass" output.mp4\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 分离字幕\n\nffmpeg -i input.mp4 -map 0:s:0 out.srt\nffmpeg -i input.mkv -map 0:s:0 out.ass\n\nffmpeg -i input.mp4 -vn -an -codec:s:0.1 srt out.srt\nffmpeg -i input.mp4 -vn -an -codec:s:0 srt out.srt\nffmpeg -i input.mp4 -vn -an -codec:s srt out.srt\n\nffmpeg -i input.mp4 -c copy -map 0:s:0 out.srt\n\nffmpeg -i input.mp4 -codec copy -bsf: h264_mp4toannexb -f h264 3.h264 \n\n增加字幕流\nffmpeg -i input.mp4 -i input.ass -map 0:0 -map 0:1 -map 1 -c:a copy -c:v copy -c:s copy output.mp4\n\n提取字幕流\n1）原始文本输出\nffmpeg -i input.mp4 -an -vn -bsf:s mov2textsub -scodec copy -f rawvideo sub.txt\nffmpeg -i input.mp4 -an -vn -c:s copy -f rawvideo -map 0:s sub2.txt\n2）ass格式输出\nffmpeg -i input.mp4 -an -vn -scodec copy sub3.ass\n\nffmpeg -i input.mkv -c copy -c:s  output.mp4\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nffmpeg -i input.mkv -vcodec copy -acodec copy output.m\n\n\n1\n',normalizedContent:'# 下载\n\nffmpeg官网\n\n 1. 打开https://ffmpeg.org/点击download\n 2. 选择window - windows builds from gyan.dev\n 3. 选择 https://www.gyan.dev/ffmpeg/builds/ffmpeg-git-github\n 4. 选择 ffmpeg-2022-03-31-git-e301a24fa1-full_build.zip下载\n 5. 解压-重命名-移动到d: d:\\ffmpeg\n\n// 在下载zip文件夹下打开cmd\nwinrar x ffmpeg-2022-03-31-git-e301a24fa1-full_build.zip\nxcopy /s /e /i /y ffmpeg-2022-03-31-git-e301a24fa1-full_build d:\\ffmpeg\\ \nsetx "path" "d:\\ffmpeg\\bin;%path%" /m\n\nexit\n// 重启cmd窗口查看版本号\nffmpeg -version\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 常见命令\n\n# 裁剪\n\nffmpeg -ss 00:00:00 -t 00:01:00 -i input.mp4 -vcodec copy -acodec copy output.mp4 \n\n// -i 表示源视频文件\n// -ss表示开始切割的时间，-t表示要切多少。上面就是从开始，切5秒钟出来。\n// -y 表示如果输出文件已存在则覆盖。\n\nffmpeg -ss 00:00:00 -t 00:40:00 -i input.mp4 -vcodec copy -acodec copy output.mp4 \nffmpeg -ss 00:40:00 -i input.mp4 -vcodec copy -acodec copy output1.mp4 \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 合并\n\nffmpeg -f concat -safe 0 -i filelist.txt -c copy output.mp4\n\n\n1\n\n\nfile input1.mp4\nfile input1.mp4\nfile input1.mp4\n\n\n1\n2\n3\n\n\n\n// 解码后文件播放时长：慢、准确，\n// 一个媒体文件里边有多个音视频流，各个流的时长也未必一样，一般播放器会以video stream的时长作为播放时长，另外，并不是所有格式的视频，会在音视频流级别保存了时长，这时可能会拿不到时长\n// 解码后文件播放时长（get duration by decoding）\nffmpeg.exe -i input.mp4  -f null -\n// 音视频流时长（stream duration）\nffprobe.exe -v error -select_streams v:0 -show_entries stream=duration -of default=noprint_wrappers=1:nokey=1 input.mp4\n// 容器时长（container duration)\n// 特点：慢、准确\nffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 -i input.mp4\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ffmpeg生成视频封面图\n\n# 视频 a.mp4 第一帧导出为 a.jpg\nffmpeg -i input.mp4 -y -f image2 -frames 1 poster.jpg\n# 指定封面图大小\nffmpeg -i input.mp4 -y -f image2 -s 640*480 -frames 1 poster.jpg\n\n\n1\n2\n3\n4\n\n\n\n# 制作动图git\n\nffmpeg -i input.mp4 -vf setpts=pts/8 -af atempo=8 -f gif out.gif\n\n\n1\n\n\n\n# 提升音量\n\nffmpeg -i input.wav -af volume=-3db output.wav\n\n\n1\n\n\n\n# 倍速播放\n\nffmpeg -i input.mp4 -vf setpts=pts/2 -af atempo=2 out.mp4\n\nffmpeg -i 27.主进程和渲染进程的通讯.mp4 -vf setpts=pts/2 -af atempo=2 27.主进程和渲染进程的通讯@.mp4\n\n\nffmpeg -i out.mp4 -vf setpts=pts/2 -af atempo=0.125 out2.mp4\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 常用命令行参数\n\n-c：指定编码器\n-c copy：直接复制，不经过重新编码（这样比较快）\n-c:v：指定视频编码器\n-c:a：指定音频编码器\n-i：指定输入文件\n-an：去除音频流\n-vn： 去除视频流\n-preset：指定输出的视频质量，会影响文件的生成速度，有以下几个可用的值\n\t    ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow。\n-y：不经过确认，输出时直接覆盖同名文件。\n12345678910\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 1 显示文件信息\n\nffmpeg -i input.mp4 -hide_banner\n\n\n1\n\n\n分离视频\n\n$ ffmpeg -i input.mp4 -vcodec copy -an output.mp4\n\n\n1\n\n\n分离音频\n\n$ ffmpeg -i input.mp4 -acodec copy -vn output.m4a\n\nffmpeg -i input.mp4 -acodec copy -vn output.wav\nffmpeg -i input.mp4 -acodec copy -vn output.aac\n\n\nffmpeg -i "z:\\learn\\技术胖\\18-桌面应用开发(desktop applications)\\electron超详细实战开发教程\\video\\1.最新electron课程介绍.mp4" -acodec copy -vn "z:\\learn\\技术胖\\18-桌面应用开发(desktop applications)\\electron超详细实战开发教程\\audio\\1.最新electron课程介绍.aac"\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 压缩音频\n\n在cmd中输入命令并运行：\nffmpeg -i "electron超详细实战开发教程.wav" -b:a 64k -acodec mp3 -ar 44100 -ac 1 "electron超详细实战开发教程.mp3"\n命令参数解释：\n-i "1.wav"表示输入，后面的文件名必须要用双引号；\n-b:a 64k表示音频的码率为64kb/s，即8kb/s；\n-acodec mp3表示设定声音编解码器为mp3；\n-ar 44100表示设定采样率为44100；\n"1.mp3"表示输出保存的文件名。\n\nffmpeg -i "electron超详细实战开发教程.wav" -ar 500 "out.wav"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 挂载字幕\n\n\n# ffmpeg -i input.mp4 -i input.srt -c:s copy -c:v copy -c:a copy out.mp4\n# 添加硬字幕，ffmpeg最终都会将字幕格式先转换成ass字幕流再将字幕嵌入到视频帧中，这个过程需要重新编解码，所以速度比较慢。\nffmpeg -i input.mp4 -vf subtitles=input.srt output.mp4\nffmpeg -i input.mp4 -vf subtitles=input.ass output.mp4\n# 添加软字幕，添加软字幕的原理和流程就跟给视频添加音频一样，这个过程不需要重新编解码，所以速度非常快。\nffmpeg -i input.mp4 -i input.srt -c copy output.mp4\nffmpeg -i input.mp4 -i input.ass -c copy output.mkv\n\nffmpeg -i input.mkv -i input.ass -c copy output.mkv\n\n给mkv文件添加srt格式的软字幕：\nffmpeg -i input.mkv -i input.srt -c copy -c:s srt output.mkv\n给mp4文件添加srt格式的软字幕(mkv格式本身支持字幕轨道，但mp4需要使用mov_text）\nffmpeg -i input.mp4 -i input.srt -c copy -c:s mov_text output.mp4\n给mkv文件添加ass软字幕(mp4不支持ass编码格式的字幕流,mkv支持）\nffmpeg -i input.mp4 -i input.ass -c copy -c:s ass output.mkv\n\n\n\nffmpeg -i "1.最新electron课程介绍.mp4" -i "1.最新electron课程介绍.srt" -c copy "output.mp4"\nffmpeg -i "1.最新electron课程介绍.mp4" -i "1.最新electron课程介绍.ass" -c copy "output.mp4"\nffmpeg -i 1.最新electron课程介绍.mp4 -i 1.最新electron课程介绍.srt -c:s copy -c:v copy -c:a copy out.mp4\n\nffmpeg -i 1.最新electron课程介绍.mp4 -i 1.最新electron课程介绍.ass -c:s copy -c:v copy -c:a copy out.mp4\n\n# 字幕格式转换\nffmpeg -i input.srt input.vtt\nffmpeg -i input.srt input.ass\n\nffmpeg -i  input.ass input.srt\n\n\n\n\nos.system("ffmpeg -i "+video_file_path+" -i "+subtitle_file_path+" -c:s copy -c:v copy -c:a copy "+subtitle_video_file_path)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n将 outline 和 shadow 大小更改为 0.\n阴影的 alpha 设置将控制背景框的透明度.单击阴影颜色以将阴影颜色的 alpha 调整为所需的透明度级别.\n在文本编辑器中编辑 ass 文件.在 style 行中，将 borderstyle 对应的值更改为 4.这将填充每个字幕事件的边界框背景.示例 style 行:\nstyle: default,arial,20,&h00ffffff,&h000000ff,&h80000000,&h80000000,-1,0,0,0,100,100,0,0,4,0,0,2,10,10,10,1\n请注意，borderstyle=4 是一个非标准值，因此它可能无法在所有播放器中正常工作.\n\n# ffmpeg -i input.mp4 -filter_complex "drawbox=w=iw:h=24:y=ih-28:t=max:color=black@0.4,subtitles=input.ass" output.mp4\n\nffmpeg -i input -filter_complex "subtitles=subs.ass:force_style=\'outlinecolour=&h80000000,borderstyle=3,outline=1,shadow=0,marginv=20\'" output\n\nstyle: default,arial,20,&h00ffffff,&h000000ff,&h80000000,&h80000000,-1,0,0,0,100,100,0,0,4,0,0,2,10,10,10,1\n\nstyle: default,arial,20,&h00ffffff,&h000000ff,&h00000000,&h64000000,0,0,0,0,100,100,0,0,3,0,1,2,10,10,10,1\n\nffmpeg -i input.mp4 -filter_complex "drawbox=w=iw:h=24:y=ih-28:t=max:color=black@0.4,subtitles=input.ass" output.mp4\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 分离字幕\n\nffmpeg -i input.mp4 -map 0:s:0 out.srt\nffmpeg -i input.mkv -map 0:s:0 out.ass\n\nffmpeg -i input.mp4 -vn -an -codec:s:0.1 srt out.srt\nffmpeg -i input.mp4 -vn -an -codec:s:0 srt out.srt\nffmpeg -i input.mp4 -vn -an -codec:s srt out.srt\n\nffmpeg -i input.mp4 -c copy -map 0:s:0 out.srt\n\nffmpeg -i input.mp4 -codec copy -bsf: h264_mp4toannexb -f h264 3.h264 \n\n增加字幕流\nffmpeg -i input.mp4 -i input.ass -map 0:0 -map 0:1 -map 1 -c:a copy -c:v copy -c:s copy output.mp4\n\n提取字幕流\n1）原始文本输出\nffmpeg -i input.mp4 -an -vn -bsf:s mov2textsub -scodec copy -f rawvideo sub.txt\nffmpeg -i input.mp4 -an -vn -c:s copy -f rawvideo -map 0:s sub2.txt\n2）ass格式输出\nffmpeg -i input.mp4 -an -vn -scodec copy sub3.ass\n\nffmpeg -i input.mkv -c copy -c:s  output.mp4\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nffmpeg -i input.mkv -vcodec copy -acodec copy output.m\n\n\n1\n',charsets:{cjk:!0}},{title:"git的简单使用",frontmatter:{title:"git的简单使用",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/7d2d63/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/git%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/git的简单使用.md",key:"v-05708a17",path:"/pages/7d2d63/",headers:[{level:2,title:"概述",slug:"概述",normalizedTitle:"概述",charIndex:2},{level:2,title:"生成密钥",slug:"生成密钥",normalizedTitle:"生成密钥",charIndex:72},{level:2,title:"云服务器切换git用户并且设置密钥",slug:"云服务器切换git用户并且设置密钥",normalizedTitle:"云服务器切换git用户并且设置密钥",charIndex:310},{level:2,title:"常用git命令",slug:"常用git命令",normalizedTitle:"常用git命令",charIndex:618},{level:2,title:"修改远程仓库地址",slug:"修改远程仓库地址",normalizedTitle:"修改远程仓库地址",charIndex:1854},{level:3,title:"GitHub拉取文件夹下的某个具体文件/文件夹",slug:"github拉取文件夹下的某个具体文件-文件夹",normalizedTitle:"github拉取文件夹下的某个具体文件/文件夹",charIndex:2021},{level:3,title:"GitHub代理设置",slug:"github代理设置",normalizedTitle:"github代理设置",charIndex:3724},{level:3,title:"Github Action 精华指南",slug:"github-action-精华指南",normalizedTitle:"github action 精华指南",charIndex:4655}],excerpt:'<h2 id="概述"><a class="header-anchor" href="#概述">#</a> 概述</h2>\n\x3c!--beforebegin--\x3e<div class="language- extra-class">\x3c!--afterbegin--\x3e<pre><code>学git看这两个网站足够了，一下绝大部分内容都是从这里抄的，记录一下，防止自己忘记\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<p><a href="https://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html" target="_blank" rel="noopener noreferrer">阮一峰的网络日志<OutboundLink/></a> <br>\n<a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener noreferrer">廖雪峰的官方网站\n<OutboundLink/></a></p>\n',headersStr:"概述 生成密钥 云服务器切换git用户并且设置密钥 常用git命令 修改远程仓库地址 GitHub拉取文件夹下的某个具体文件/文件夹 GitHub代理设置 Github Action 精华指南",content:'# 概述\n\n学git看这两个网站足够了，一下绝大部分内容都是从这里抄的，记录一下，防止自己忘记\n\n\n阮一峰的网络日志\n廖雪峰的官方网站\n\n\n# 生成密钥\n\ngit config --global user.name "wenxuli2"\ngit config --global user.email "1031553051@qq.com"\n\n\nssh-keygen -t rsa -C "1031553051@qq.com"\n# notepad C:\\Users\\Administrator\\.ssh\\id_rsa.pub\n#start https://github.com/settings/ssh/new\n\n\n\n# 云服务器切换git用户并且设置密钥\n\n# mkdir ~/.ssh\n# chmod 755  ~/.ssh\n# vim ~/.ssh/authorized_keys\n记得将john改成你的本地计算机用户名\n生成密钥,在这个位置C:\\Users\\john\\.ssh\\id_rsa.pub\n如果有就不用再生成了\nPS: ssh-keygen -t rsa\n直接用记事本打开复制粘贴到云服务器~/.ssh/id_rsa.pub处\nPS: notepad C:\\Users\\Administrator\\.ssh\\id_rsa.pub\n保存好后\n# chmod 644 ~/.ssh/authorized_keys\n\n\n\n# 常用git命令\n\ngit init\ngit remote add origin git@github.com:wenxuli2/docs.git\ngit add .\ngit commit -m "frist"\ngit push -u origin master\n\n//慎用\ngit push --force origin master\n    --force选项，结果导致远程主机上更新的版本被覆盖。除非你很确定要这样做，否则应该尽量避免使用--force选项。\ngit push origin --delete home-page.git (fetch)\ngit push origin --delete master 删除远程分支\ngit remote -v 查看项目远程地址\n查看远程主机的网址\ngit branch -r -D origin/master\ngit branch -a 查看远程项目所有分支\n\n切换到基础分支\ngit checkout master\n创建并切换到新分支\ngit checkout -b source\n更新分支代码并提交\ngit add *\ngit commit -m "init source"\ngit push origin source\n\n新建分支\ngit checkout -b "fix-In-2"\n它是下面两条命令的简写：\n$ git branch iss53\n$ git checkout iss53\n\ngit log 查看历史提交信息\ngit status 检查下修改了什么内容\n\ngit remote show origin 查看当前仓库基本信息\n\n删除分支\ngit branch -d hotfix\n\ngit status\n\ngit merge\n\n删除远程分支并不会删除本地分支\ngit push origin --delete [branchname]\n清理本地无效分支(远程已删除本地没删除的分支):\ngit fetch -p\n\n\n\ngit branch -m main master git fetch origin git branch -u origin/master master git remote set-head origin -a\n\n\n# 提交到 Github $ $ git push -u origin master\n\n\ngit 如何取消add操作，这里仅取消提交到库存区这个动作，只撤消动作，修改的文件不变 可以直接使用命令\ngit reset HEAD\n这个是整体回到上次一次操作\n绿字变红字(撤销add) 如果是某个文件回滚到上一次操作： 同上只撤消动作工作区修改的文件不变 git reset HEAD 文件名\n红字变无 (撤销没add修改) git checkout -- 文件 二、撤消工作区编辑 撤消之前未add的所有修改 git reset --hard HEAD\n\n\n# 修改远程仓库地址\n\n# 1. 直接修改\ngit remote set-url origin [url]\n# 2、先删除再修改地址\ngit remote rm origin\ngit remote add origin [url]\n# 3、直接修改配置文件\n进入项目\n.git/config\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# GitHub拉取文件夹下的某个具体文件/文件夹\n\n# 1.初始化\nmkdir localdir # 创建用于作为本地仓库的文件夹\ncd localdir # 进入文件夹\ngit init # 在本地指定文件夹内执行此命令设置为git仓库\n# 2. 拉取remote all objects信息\ngit remote add -f origin http://github/projectName.git # 添加远程仓库地址，实现拉取remote的all objects信息\n# 3. 开启sparse clone\ngit config core.sparsecheckout true # 用于控制是否允许设置pull指定文件/夹，适用于Git1.7.0以后版本，本质是开启sparse clone\necho "fileName" >> .git/info/sparse-checkout # 本地目录的.git文件夹下，如果没有sparse-checkout文件则创建，在其中添加指定的文件/夹fileName，就是需要拉取的那个特定文件/夹。*表示所有，！表示匹配相反\ncat .git/info/sparse-chechout # 查看\n# 4. 拉取指定目录\ngit pull origin master # 拉取命令是一样的，只是已经通过配置文件sparse-chechout指定了目标文件/夹\n\n\ngit remote add -f origin https://github.com/electron/i18n.git\ngit remote add -f origin git@github.com:electron/i18n.git\ngit config core.sparsecheckout true \n# git config core.sparsecheckout false\necho "content" >> .git/info/sparse-checkout \n# cat .git/info/sparse-chechout # 查看\ngit pull origin master # 拉取命令是一样的，只是已经通过配置文件sparse-chechout指定了目标文件/夹\n\n\ngit clone https://github.com/electron/i18n.git/content\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nsvn\n\nsvn co --depth empty https://github.com/user/repo # make an empty checkout fo the repository\nsvn up trunk # get the trunck branch,The Subversion bridge maps trunk to the Git HEAD branch(which is usually master)\nsvn co https://github.com/user/repo/trunk/fileName # 拉取指定目录\n\nsvn co --depth empty https://github.com/user/repo # make an empty checkout fo the repository\nsvn up trunk # get the trunck branch,The Subversion bridge maps trunk to the Git HEAD branch(which is usually master)\nsvn co https://github.com/user/repo/trunk/fileName # 拉取指定目录\n\nsvn co https://github.com/electron/i18n.git\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# GitHub代理设置\n\n// 只对GitHub进行代理\ngit config --global http.https://github.com.proxy https://127.0.0.1:7890\ngit config --global https.https://github.com.proxy https://127.0.0.1:7890\n// 全局代理设置\ngit config --global http.proxy http://127.0.0.1:7890\ngit config --global https.proxy https://127.0.0.1:7890\n\n**注意：以上两点都是对https协议进行代理设置，也就是仅对`git clone https://www.github.com/xxxx/xxxx.git`这种命令有效。对于SSH协议，也就是`git clone git@github.com:xxxxxx/xxxxxx.git`这种，依旧是无效的。**\n\n// sock5代理设置\ngit config --global http.https://github.com.proxy socks5://127.0.0.1:7890\ngit config --global https.https://github.com.proxy socks5://127.0.0.1:7890\n\n// 取消github代理\ngit config --global --unset http.https://github.com.proxy\ngit config --global --unset https.https://github.com.proxy\n// 取消git代理\ngit config --global --unset http.proxy\ngit config --global --unset https.proxy\n\n// 查看已有配置\ngit config --global -l\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# Github Action 精华指南\n\ngithub-action官方市场',normalizedContent:'# 概述\n\n学git看这两个网站足够了，一下绝大部分内容都是从这里抄的，记录一下，防止自己忘记\n\n\n阮一峰的网络日志\n廖雪峰的官方网站\n\n\n# 生成密钥\n\ngit config --global user.name "wenxuli2"\ngit config --global user.email "1031553051@qq.com"\n\n\nssh-keygen -t rsa -c "1031553051@qq.com"\n# notepad c:\\users\\administrator\\.ssh\\id_rsa.pub\n#start https://github.com/settings/ssh/new\n\n\n\n# 云服务器切换git用户并且设置密钥\n\n# mkdir ~/.ssh\n# chmod 755  ~/.ssh\n# vim ~/.ssh/authorized_keys\n记得将john改成你的本地计算机用户名\n生成密钥,在这个位置c:\\users\\john\\.ssh\\id_rsa.pub\n如果有就不用再生成了\nps: ssh-keygen -t rsa\n直接用记事本打开复制粘贴到云服务器~/.ssh/id_rsa.pub处\nps: notepad c:\\users\\administrator\\.ssh\\id_rsa.pub\n保存好后\n# chmod 644 ~/.ssh/authorized_keys\n\n\n\n# 常用git命令\n\ngit init\ngit remote add origin git@github.com:wenxuli2/docs.git\ngit add .\ngit commit -m "frist"\ngit push -u origin master\n\n//慎用\ngit push --force origin master\n    --force选项，结果导致远程主机上更新的版本被覆盖。除非你很确定要这样做，否则应该尽量避免使用--force选项。\ngit push origin --delete home-page.git (fetch)\ngit push origin --delete master 删除远程分支\ngit remote -v 查看项目远程地址\n查看远程主机的网址\ngit branch -r -d origin/master\ngit branch -a 查看远程项目所有分支\n\n切换到基础分支\ngit checkout master\n创建并切换到新分支\ngit checkout -b source\n更新分支代码并提交\ngit add *\ngit commit -m "init source"\ngit push origin source\n\n新建分支\ngit checkout -b "fix-in-2"\n它是下面两条命令的简写：\n$ git branch iss53\n$ git checkout iss53\n\ngit log 查看历史提交信息\ngit status 检查下修改了什么内容\n\ngit remote show origin 查看当前仓库基本信息\n\n删除分支\ngit branch -d hotfix\n\ngit status\n\ngit merge\n\n删除远程分支并不会删除本地分支\ngit push origin --delete [branchname]\n清理本地无效分支(远程已删除本地没删除的分支):\ngit fetch -p\n\n\n\ngit branch -m main master git fetch origin git branch -u origin/master master git remote set-head origin -a\n\n\n# 提交到 github $ $ git push -u origin master\n\n\ngit 如何取消add操作，这里仅取消提交到库存区这个动作，只撤消动作，修改的文件不变 可以直接使用命令\ngit reset head\n这个是整体回到上次一次操作\n绿字变红字(撤销add) 如果是某个文件回滚到上一次操作： 同上只撤消动作工作区修改的文件不变 git reset head 文件名\n红字变无 (撤销没add修改) git checkout -- 文件 二、撤消工作区编辑 撤消之前未add的所有修改 git reset --hard head\n\n\n# 修改远程仓库地址\n\n# 1. 直接修改\ngit remote set-url origin [url]\n# 2、先删除再修改地址\ngit remote rm origin\ngit remote add origin [url]\n# 3、直接修改配置文件\n进入项目\n.git/config\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# github拉取文件夹下的某个具体文件/文件夹\n\n# 1.初始化\nmkdir localdir # 创建用于作为本地仓库的文件夹\ncd localdir # 进入文件夹\ngit init # 在本地指定文件夹内执行此命令设置为git仓库\n# 2. 拉取remote all objects信息\ngit remote add -f origin http://github/projectname.git # 添加远程仓库地址，实现拉取remote的all objects信息\n# 3. 开启sparse clone\ngit config core.sparsecheckout true # 用于控制是否允许设置pull指定文件/夹，适用于git1.7.0以后版本，本质是开启sparse clone\necho "filename" >> .git/info/sparse-checkout # 本地目录的.git文件夹下，如果没有sparse-checkout文件则创建，在其中添加指定的文件/夹filename，就是需要拉取的那个特定文件/夹。*表示所有，！表示匹配相反\ncat .git/info/sparse-chechout # 查看\n# 4. 拉取指定目录\ngit pull origin master # 拉取命令是一样的，只是已经通过配置文件sparse-chechout指定了目标文件/夹\n\n\ngit remote add -f origin https://github.com/electron/i18n.git\ngit remote add -f origin git@github.com:electron/i18n.git\ngit config core.sparsecheckout true \n# git config core.sparsecheckout false\necho "content" >> .git/info/sparse-checkout \n# cat .git/info/sparse-chechout # 查看\ngit pull origin master # 拉取命令是一样的，只是已经通过配置文件sparse-chechout指定了目标文件/夹\n\n\ngit clone https://github.com/electron/i18n.git/content\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nsvn\n\nsvn co --depth empty https://github.com/user/repo # make an empty checkout fo the repository\nsvn up trunk # get the trunck branch,the subversion bridge maps trunk to the git head branch(which is usually master)\nsvn co https://github.com/user/repo/trunk/filename # 拉取指定目录\n\nsvn co --depth empty https://github.com/user/repo # make an empty checkout fo the repository\nsvn up trunk # get the trunck branch,the subversion bridge maps trunk to the git head branch(which is usually master)\nsvn co https://github.com/user/repo/trunk/filename # 拉取指定目录\n\nsvn co https://github.com/electron/i18n.git\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# github代理设置\n\n// 只对github进行代理\ngit config --global http.https://github.com.proxy https://127.0.0.1:7890\ngit config --global https.https://github.com.proxy https://127.0.0.1:7890\n// 全局代理设置\ngit config --global http.proxy http://127.0.0.1:7890\ngit config --global https.proxy https://127.0.0.1:7890\n\n**注意：以上两点都是对https协议进行代理设置，也就是仅对`git clone https://www.github.com/xxxx/xxxx.git`这种命令有效。对于ssh协议，也就是`git clone git@github.com:xxxxxx/xxxxxx.git`这种，依旧是无效的。**\n\n// sock5代理设置\ngit config --global http.https://github.com.proxy socks5://127.0.0.1:7890\ngit config --global https.https://github.com.proxy socks5://127.0.0.1:7890\n\n// 取消github代理\ngit config --global --unset http.https://github.com.proxy\ngit config --global --unset https.https://github.com.proxy\n// 取消git代理\ngit config --global --unset http.proxy\ngit config --global --unset https.proxy\n\n// 查看已有配置\ngit config --global -l\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# github action 精华指南\n\ngithub-action官方市场',charsets:{cjk:!0}},{title:"gitbook的简单使用",frontmatter:{title:"gitbook的简单使用",date:"2022-04-11T20:15:35.000Z",permalink:"/pages/7765c9/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/gitbook%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/gitbook的简单使用.md",key:"v-2a4feda9",path:"/pages/7765c9/",headersStr:null,content:"# 参考",normalizedContent:"# 参考",charsets:{cjk:!0}},{title:"gulp的基本使用",frontmatter:{title:"gulp的基本使用",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/bd60b6/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/gulp%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/gulp的基本使用.md",key:"v-58450ae1",path:"/pages/bd60b6/",headers:[{level:3,title:"概述",slug:"概述",normalizedTitle:"概述",charIndex:2},{level:3,title:"初始化项目",slug:"初始化项目",normalizedTitle:"初始化项目",charIndex:248},{level:3,title:"gulpfile.js",slug:"gulpfile-js",normalizedTitle:"gulpfile.js",charIndex:520}],headersStr:"概述 初始化项目 gulpfile.js",content:"# 概述\n\nnpm i gulp-cli -g\nnpx mkdirp my-project\ncd my-project\nnpm init\nnpm i gulp --save-dev\n\n每个function都是一个任务，任务分为公开任务和私有任务，未导出就是私有任务，导出就是公开任务。function必须接受一个callback作为参数，或者return出stream、promise、event emitter、child process、 observable这五种类型的一个值。\n\n\n\n# 初始化项目\n\nnpx mkdirp my-gulp4-project cd my-gulp4-project npm i gulp -D npm i gulp-sass gulp-live-server gulp-uglify gulp-clean-css -D\nmkdir src,\"./src/img\",\"./src/css\",\"./src/js\",\"./src/html\",\"./src/styles\",dist,\"./dist/img\",\"./dist/css\",\"./dist/js\",\"./dist/html\",\nnew-item gulpfile.js,README.MD,\"./src/html/index.html\",\"./src/styles/index.scss\",\"./src/js/index.js\"\n\n\n\n# gulpfile.js\n\nconst {src,dest,watch,parallel} = require('gulp') const sass = require('gulp-sass')(require('sass')); // 使用sass const gls = require('gulp-live-server') // 创建服务 const uglify = require('gulp-uglify'); // 压缩js const cleanCSS = require('gulp-clean-css'); // 压缩css\n// 处理html：输出\nfunction html(){\n    return src('src/*.html').pipe(dest('dist'))\n}\n// 处理css库：压缩，输出\nfunction cssInit(){\n    return src('src/styles/*.css').pipe(cleanCSS({compatibility: 'ie8'})).pipe(dest('dist/css'))\n}\n// 处理样式：编译sass，压缩，输出\nfunction css(){\n    return src('src/styles/*.scss').pipe(sass()).pipe(cleanCSS({compatibility: 'ie8'})).pipe(dest('dist/css'))\n}\n// 处理js库，不需压缩直接输出\nfunction jsLibInit(){\n    return src('src/js/lib/*.js').pipe(dest('dist/js/lib'))\n}\n// 处理js：抛去库，压缩，输出\nfunction js(){\n    return src(['src/js/**/*.js','!src/js/lib/**']).pipe(uglify()).pipe(dest('dist/js'))\n}\n// 处理图片：输出\nfunction img(){\n    return src('src/img/**').pipe(dest('dist/img'))\n}\n\n// 启动server\nfunction server(cb){\n    const server = gls.static('dist',80)\n    server.start()\n    cb()\n}\n// 监听变化\nfunction watchChange(cb){\n    watch('src/*.html', html)\n    watch('src/styles/*.scss', css)\n    watch(['src/js/**/*.js','!src/js/lib/**'],js)\n    watch('src/img/**',img)\n    cb()\n}\nexports.server = parallel(html,cssInit,css,img,jsLibInit,js,server,watchChange)",normalizedContent:"# 概述\n\nnpm i gulp-cli -g\nnpx mkdirp my-project\ncd my-project\nnpm init\nnpm i gulp --save-dev\n\n每个function都是一个任务，任务分为公开任务和私有任务，未导出就是私有任务，导出就是公开任务。function必须接受一个callback作为参数，或者return出stream、promise、event emitter、child process、 observable这五种类型的一个值。\n\n\n\n# 初始化项目\n\nnpx mkdirp my-gulp4-project cd my-gulp4-project npm i gulp -d npm i gulp-sass gulp-live-server gulp-uglify gulp-clean-css -d\nmkdir src,\"./src/img\",\"./src/css\",\"./src/js\",\"./src/html\",\"./src/styles\",dist,\"./dist/img\",\"./dist/css\",\"./dist/js\",\"./dist/html\",\nnew-item gulpfile.js,readme.md,\"./src/html/index.html\",\"./src/styles/index.scss\",\"./src/js/index.js\"\n\n\n\n# gulpfile.js\n\nconst {src,dest,watch,parallel} = require('gulp') const sass = require('gulp-sass')(require('sass')); // 使用sass const gls = require('gulp-live-server') // 创建服务 const uglify = require('gulp-uglify'); // 压缩js const cleancss = require('gulp-clean-css'); // 压缩css\n// 处理html：输出\nfunction html(){\n    return src('src/*.html').pipe(dest('dist'))\n}\n// 处理css库：压缩，输出\nfunction cssinit(){\n    return src('src/styles/*.css').pipe(cleancss({compatibility: 'ie8'})).pipe(dest('dist/css'))\n}\n// 处理样式：编译sass，压缩，输出\nfunction css(){\n    return src('src/styles/*.scss').pipe(sass()).pipe(cleancss({compatibility: 'ie8'})).pipe(dest('dist/css'))\n}\n// 处理js库，不需压缩直接输出\nfunction jslibinit(){\n    return src('src/js/lib/*.js').pipe(dest('dist/js/lib'))\n}\n// 处理js：抛去库，压缩，输出\nfunction js(){\n    return src(['src/js/**/*.js','!src/js/lib/**']).pipe(uglify()).pipe(dest('dist/js'))\n}\n// 处理图片：输出\nfunction img(){\n    return src('src/img/**').pipe(dest('dist/img'))\n}\n\n// 启动server\nfunction server(cb){\n    const server = gls.static('dist',80)\n    server.start()\n    cb()\n}\n// 监听变化\nfunction watchchange(cb){\n    watch('src/*.html', html)\n    watch('src/styles/*.scss', css)\n    watch(['src/js/**/*.js','!src/js/lib/**'],js)\n    watch('src/img/**',img)\n    cb()\n}\nexports.server = parallel(html,cssinit,css,img,jslibinit,js,server,watchchange)",charsets:{cjk:!0}},{title:"hexo的基本使用",frontmatter:{title:"hexo的基本使用",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/ce8bab/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/hexo%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/hexo的基本使用.md",key:"v-f2bcf6be",path:"/pages/ce8bab/",headers:[{level:3,title:"Hexo的基本使用",slug:"hexo的基本使用",normalizedTitle:"hexo的基本使用",charIndex:2},{level:3,title:"安装",slug:"安装",normalizedTitle:"安装",charIndex:77},{level:3,title:"获取开源的 Hexo 主题",slug:"获取开源的-hexo-主题",normalizedTitle:"获取开源的 hexo 主题",charIndex:256},{level:4,title:"1.下载",slug:"_1-下载",normalizedTitle:"1.下载",charIndex:296},{level:4,title:"2.更改主题",slug:"_2-更改主题",normalizedTitle:"2.更改主题",charIndex:735},{level:4,title:"3、在博客根目录（注意不是yilia根目录）执行以下命令：",slug:"_3、在博客根目录-注意不是yilia根目录-执行以下命令",normalizedTitle:"3、在博客根目录（注意不是yilia根目录）执行以下命令：",charIndex:850},{level:3,title:"常见问题",slug:"常见问题",normalizedTitle:"常见问题",charIndex:1182}],headersStr:"Hexo的基本使用 安装 获取开源的 Hexo 主题 1.下载 2.更改主题 3、在博客根目录（注意不是yilia根目录）执行以下命令： 常见问题",content:"# Hexo的基本使用\n\n官网\n官网中文文档\ngithub-hexojs\nHexo-Next实用主题优化\nhexo-theme-keep官方文档\n\n\n# 安装\n\nnpm i hexo-cli -g\nhexo init H:/hexo/blog\ncd H:/hexo/blog\nnpm i hexo-deployer-git\nnpm i hexo\ncode .\nhexo new \"Hello\"\n//生成、发布hexo generate、\nhexo server\nhexo clean\nhexo g d\n\n\n\n# 获取开源的 Hexo 主题\n\ngithhub上最火的hexo-theme\n\n# 1.下载\n\n//cd <博客存放的目录>\npowershell\ncd H:\\hexo\\blog\n//排名第一,但是要一个个去配置麻烦\n[找到一个19年的别人的配置文件](https://github.com/caozongpeng/hexo-theme-next/blob/master/_config.yml)\n\ngit clone https://github.com/iissnan/hexo-theme-next.git themes/next\ngit clone https://github.com/litten/hexo-theme-yilia.git themes/yilia\nicarus具有不兼容最新hexo6.0，以及排斥其他theme，有兴趣的同学请自行测试\n//git clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus\ngit pull //更新最新版\n\n\n# 2.更改主题\n\n配置文件中_config.yml改 theme: yilia theme: yilia 若使用 next 必须安装hexo-renderer-swig 补充：npm i hexo-renderer-swig\n\n# 3、在博客根目录（注意不是yilia根目录）执行以下命令：\n\nnpm i hexo-generator-json-content --save\n在根目录_config.yml里添加配置：\njsonContent:\nmeta: false\npages: false\nposts:\ntitle: true\ndate: true\npath: true\ntext: false\nraw: false\ncontent: false\nslug: false\nupdated: false\ncomments: false\nlink: false\npermalink: false\nexcerpt: false\ncategories: false\ntags: true\n\n\n\n# 常见问题\n\n1.hexo使用theme出现“ {% extends ‘_layout.swig‘ %} {% import ‘_macro/post.swig‘ as post_template %}“问题\n    原因是hexo在5.0之后把swig给删除了需要自己手动安装\n    npm i hexo-renderer-swig\n2.const { Component } = require('inferno'); const classname = require\n    主题插件冲突，建议新的项目使用",normalizedContent:"# hexo的基本使用\n\n官网\n官网中文文档\ngithub-hexojs\nhexo-next实用主题优化\nhexo-theme-keep官方文档\n\n\n# 安装\n\nnpm i hexo-cli -g\nhexo init h:/hexo/blog\ncd h:/hexo/blog\nnpm i hexo-deployer-git\nnpm i hexo\ncode .\nhexo new \"hello\"\n//生成、发布hexo generate、\nhexo server\nhexo clean\nhexo g d\n\n\n\n# 获取开源的 hexo 主题\n\ngithhub上最火的hexo-theme\n\n# 1.下载\n\n//cd <博客存放的目录>\npowershell\ncd h:\\hexo\\blog\n//排名第一,但是要一个个去配置麻烦\n[找到一个19年的别人的配置文件](https://github.com/caozongpeng/hexo-theme-next/blob/master/_config.yml)\n\ngit clone https://github.com/iissnan/hexo-theme-next.git themes/next\ngit clone https://github.com/litten/hexo-theme-yilia.git themes/yilia\nicarus具有不兼容最新hexo6.0，以及排斥其他theme，有兴趣的同学请自行测试\n//git clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus\ngit pull //更新最新版\n\n\n# 2.更改主题\n\n配置文件中_config.yml改 theme: yilia theme: yilia 若使用 next 必须安装hexo-renderer-swig 补充：npm i hexo-renderer-swig\n\n# 3、在博客根目录（注意不是yilia根目录）执行以下命令：\n\nnpm i hexo-generator-json-content --save\n在根目录_config.yml里添加配置：\njsoncontent:\nmeta: false\npages: false\nposts:\ntitle: true\ndate: true\npath: true\ntext: false\nraw: false\ncontent: false\nslug: false\nupdated: false\ncomments: false\nlink: false\npermalink: false\nexcerpt: false\ncategories: false\ntags: true\n\n\n\n# 常见问题\n\n1.hexo使用theme出现“ {% extends ‘_layout.swig‘ %} {% import ‘_macro/post.swig‘ as post_template %}“问题\n    原因是hexo在5.0之后把swig给删除了需要自己手动安装\n    npm i hexo-renderer-swig\n2.const { component } = require('inferno'); const classname = require\n    主题插件冲突，建议新的项目使用",charsets:{cjk:!0}},{title:"html导入html的方法",frontmatter:{title:"html导入html的方法",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/0f6c5d/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/html%E5%AF%BC%E5%85%A5html%E7%9A%84%E6%96%B9%E6%B3%95.html",relativePath:"_posts/随笔/html导入html的方法.md",key:"v-f7d28072",path:"/pages/0f6c5d/",headers:[{level:3,title:"1、$.load引入",slug:"_1、-load引入",normalizedTitle:"1、$.load引入",charIndex:2},{level:3,title:"2、iframe",slug:"_2、iframe",normalizedTitle:"2、iframe",charIndex:85}],headersStr:"1、$.load引入 2、iframe",content:'# 1、$.load引入\n\n$(document).ready(function () {\n    $(\'.main\').load(\'md的使用.html\')\n\n\n\n# 2、iframe\n\n\x3c!-- 1.导入 --\x3e\n<iframe src="md的使用.html" frameborder="0" class="iframe"></iframe>\n\x3c!-- 2.css实现宽高100% --\x3e\n.iframe\n    display block\n    width 100vw\n    height 100vh\n.object\n    display block\n    width 100vw\n    height 100vh',normalizedContent:'# 1、$.load引入\n\n$(document).ready(function () {\n    $(\'.main\').load(\'md的使用.html\')\n\n\n\n# 2、iframe\n\n\x3c!-- 1.导入 --\x3e\n<iframe src="md的使用.html" frameborder="0" class="iframe"></iframe>\n\x3c!-- 2.css实现宽高100% --\x3e\n.iframe\n    display block\n    width 100vw\n    height 100vh\n.object\n    display block\n    width 100vw\n    height 100vh',charsets:{cjk:!0}},{title:"jQuery中获取当前窗口的宽度值",frontmatter:{title:"jQuery中获取当前窗口的宽度值",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/f908ca/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/jQuery%E4%B8%AD%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E7%AA%97%E5%8F%A3%E7%9A%84%E5%AE%BD%E5%BA%A6%E5%80%BC.html",relativePath:"_posts/随笔/jQuery中获取当前窗口的宽度值.md",key:"v-1ca7d95b",path:"/pages/f908ca/",headers:[{level:3,title:"JavaScript获取网页、浏览器、屏幕高度和宽度汇总 jQuery中获取当前窗口的宽度值",slug:"javascript获取网页、浏览器、屏幕高度和宽度汇总-jquery中获取当前窗口的宽度值",normalizedTitle:"javascript获取网页、浏览器、屏幕高度和宽度汇总 jquery中获取当前窗口的宽度值",charIndex:2},{level:3,title:"宽度：",slug:"宽度",normalizedTitle:"宽度：",charIndex:352},{level:3,title:"JS",slug:"js",normalizedTitle:"js",charIndex:659},{level:3,title:"IE，FireFox 差异如下：",slug:"ie-firefox-差异如下",normalizedTitle:"ie，firefox 差异如下：",charIndex:1701}],headersStr:"JavaScript获取网页、浏览器、屏幕高度和宽度汇总 jQuery中获取当前窗口的宽度值 宽度： JS IE，FireFox 差异如下：",content:"# JavaScript获取网页、浏览器、屏幕高度和宽度汇总 jQuery中获取当前窗口的宽度值\n\njQuery\n$(window).height();                                  //浏览器当前窗口可视区域高度\n$(document).height();                              //浏览器当前窗口文档的高度\n$(document.body).height();                     //浏览器当前窗口文档body的高度\n$(document.body).outerHeight(true);      //浏览器当前窗口文档body的高度\n总高度包括border, padding, margin\n\n\n\n# 宽度：\n\n$(window).width();                                     //浏览器当前窗口可视区域宽度\n$(document).width();                                 //浏览器当前窗口文档对象宽度\n$(document.body).width();                        //浏览器当前窗口文档body的高度\n$(document.body).outerWidth(true);         //浏览器当前窗口文档body的\n总宽度包括border, padding, margin\n\n\n\n# JS\n\n网页可见区域宽：document.body.clientWidth\n网页可见区域高：document.body.clientHeight\n网页可见区域宽：document.body.offsetWidth (包括边线的宽)\n网页可见区域高：document.body.offsetHeight (包括边线的宽)\n网页正文全文宽：document.body.scrollWidth （带滚动条宽）\n网页正文全文高：document.body.scrollHeight （带滚动条高）\n网页被卷去的高：document.body.scrollTop\n网页被卷去的左：document.body.scrollLeft\n网页正文部分上：window.screenTop\n网页正文部分左：window.screenLeft\n屏幕分辨率的高：window.screen.height\n屏幕分辨率的宽：window.screen.width\n屏幕可用工作区高度：window.screen.availHeight\n屏幕可用工作区宽度：window.screen.availWidth\n\nHTML精确定位:scrollLeft,scrollWidth,clientWidth,offsetWidth\nscrollHeight: 获取对象的滚动高度。\nscrollLeft:设置或获取位于对象左边界和窗口中目前可见内容的最左端之间的距离\nscrollTop:设置或获取位于对象最顶端和窗口中可见内容的最顶端之间的距离\nscrollWidth:获取对象的滚动宽度\noffsetHeight:获取对象相对于版面或由父坐标 offsetParent 属性指定的父坐标的高度\noffsetLeft:获取对象相对于版面或由 offsetParent 属性指定的父坐标的计算左侧位置\noffsetTop:获取对象相对于版面或由 offsetTop 属性指定的父坐标的计算顶端位置\nevent.clientX 相对文档的水平座标\nevent.clientY 相对文档的垂直座标\nevent.offsetX 相对容器的水平坐标\nevent.offsetY 相对容器的垂直坐标\ndocument.documentElement.scrollTop 垂直方向滚动的值\nevent.clientX+document.documentElement.scrollTop 相对文档的水平座标+垂直方向滚动的量\n\n\n\n# IE，FireFox 差异如下：\n\nIE6.0、FF1.06+：\n复制代码代码如下:\nclientWidth = width + padding\nclientHeight = height + padding\noffsetWidth = width + padding + border\noffsetHeight = height + padding + border\nIE5.0/5.5：\n复制代码代码如下:\nclientWidth = width - border\nclientHeight = height - border\noffsetWidth = width\noffsetHeight = height",normalizedContent:"# javascript获取网页、浏览器、屏幕高度和宽度汇总 jquery中获取当前窗口的宽度值\n\njquery\n$(window).height();                                  //浏览器当前窗口可视区域高度\n$(document).height();                              //浏览器当前窗口文档的高度\n$(document.body).height();                     //浏览器当前窗口文档body的高度\n$(document.body).outerheight(true);      //浏览器当前窗口文档body的高度\n总高度包括border, padding, margin\n\n\n\n# 宽度：\n\n$(window).width();                                     //浏览器当前窗口可视区域宽度\n$(document).width();                                 //浏览器当前窗口文档对象宽度\n$(document.body).width();                        //浏览器当前窗口文档body的高度\n$(document.body).outerwidth(true);         //浏览器当前窗口文档body的\n总宽度包括border, padding, margin\n\n\n\n# js\n\n网页可见区域宽：document.body.clientwidth\n网页可见区域高：document.body.clientheight\n网页可见区域宽：document.body.offsetwidth (包括边线的宽)\n网页可见区域高：document.body.offsetheight (包括边线的宽)\n网页正文全文宽：document.body.scrollwidth （带滚动条宽）\n网页正文全文高：document.body.scrollheight （带滚动条高）\n网页被卷去的高：document.body.scrolltop\n网页被卷去的左：document.body.scrollleft\n网页正文部分上：window.screentop\n网页正文部分左：window.screenleft\n屏幕分辨率的高：window.screen.height\n屏幕分辨率的宽：window.screen.width\n屏幕可用工作区高度：window.screen.availheight\n屏幕可用工作区宽度：window.screen.availwidth\n\nhtml精确定位:scrollleft,scrollwidth,clientwidth,offsetwidth\nscrollheight: 获取对象的滚动高度。\nscrollleft:设置或获取位于对象左边界和窗口中目前可见内容的最左端之间的距离\nscrolltop:设置或获取位于对象最顶端和窗口中可见内容的最顶端之间的距离\nscrollwidth:获取对象的滚动宽度\noffsetheight:获取对象相对于版面或由父坐标 offsetparent 属性指定的父坐标的高度\noffsetleft:获取对象相对于版面或由 offsetparent 属性指定的父坐标的计算左侧位置\noffsettop:获取对象相对于版面或由 offsettop 属性指定的父坐标的计算顶端位置\nevent.clientx 相对文档的水平座标\nevent.clienty 相对文档的垂直座标\nevent.offsetx 相对容器的水平坐标\nevent.offsety 相对容器的垂直坐标\ndocument.documentelement.scrolltop 垂直方向滚动的值\nevent.clientx+document.documentelement.scrolltop 相对文档的水平座标+垂直方向滚动的量\n\n\n\n# ie，firefox 差异如下：\n\nie6.0、ff1.06+：\n复制代码代码如下:\nclientwidth = width + padding\nclientheight = height + padding\noffsetwidth = width + padding + border\noffsetheight = height + padding + border\nie5.0/5.5：\n复制代码代码如下:\nclientwidth = width - border\nclientheight = height - border\noffsetwidth = width\noffsetheight = height",charsets:{cjk:!0}},{title:"Markdown的基本用法",frontmatter:{title:"Markdown的基本用法",date:"2022-04-08T14:50:35.000Z",tags:[],author:"lixuwen",permalink:"/pages/a6be7c/",sidebar:"auto",categories:["随笔"]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/markdown%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95.html",relativePath:"_posts/随笔/markdown的基本用法.md",key:"v-2c7e0d14",path:"/pages/a6be7c/",headers:[{level:3,title:"Markdown中插入视频",slug:"markdown中插入视频",normalizedTitle:"markdown中插入视频",charIndex:52},{level:2,title:"3、插入音频",slug:"_3、插入音频",normalizedTitle:"3、插入音频",charIndex:889},{level:3,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:3,title:"",slug:"-2",normalizedTitle:"",charIndex:0},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:1225}],headersStr:"Markdown中插入视频 3、插入音频   参考",content:'[TOC]\n\n----------------------------------------\n\n\n# Markdown中插入视频\n\n1.方法一、html中的video标签\n\x3c!-- mp4格式 --\x3e\n<video id="video" controls="" preload="none" poster="封面">\n      <source id="mp4" src="mp4格式视频" type="video/mp4">\n</video>\n\n\x3c!-- webm格式 --\x3e\n<video id="video" controls="" preload="none" poster="封面">\n      <source id="webm" src="webm格式视频" type="video/webm">\n</videos>\n\n\x3c!-- ovg格式 --\x3e\n<video id="video" controls="" preload="none" poster="封面">\n      <source id="ogv" src="ogv格式视频" type="video/ogv">\n</videos>\n\n2.方法二、html中的iframe标签\n<iframe \nsrc="视频或者网页路径" \nscrolling="no" \nborder="0" \nframeborder="no" \nframespacing="0" \nallowfullscreen="true" \nheight=600 \nwidth=800> \n</iframe>\n\x3c!-- 相当于是子网页 --\x3e\n\x3c!-- B站分享链接提供 --\x3e\n\n3.方法三\n![](https://gitee.com/turbo-studio/image/raw/master/image/20210215225951.gif)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 3、插入音频\n\n\n#\n\n#3.1 使用audio 标签\n<audio id="audio" controls="" preload="none">\n      <source id="mp3" src="音频地址">\n</audio>\n# 3.2 使用iframe标签\n<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1488737309&auto=1&height=66"></iframe>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n#\n\n\n# 参考\n\nMarkdown中插入视频',normalizedContent:'[toc]\n\n----------------------------------------\n\n\n# markdown中插入视频\n\n1.方法一、html中的video标签\n\x3c!-- mp4格式 --\x3e\n<video id="video" controls="" preload="none" poster="封面">\n      <source id="mp4" src="mp4格式视频" type="video/mp4">\n</video>\n\n\x3c!-- webm格式 --\x3e\n<video id="video" controls="" preload="none" poster="封面">\n      <source id="webm" src="webm格式视频" type="video/webm">\n</videos>\n\n\x3c!-- ovg格式 --\x3e\n<video id="video" controls="" preload="none" poster="封面">\n      <source id="ogv" src="ogv格式视频" type="video/ogv">\n</videos>\n\n2.方法二、html中的iframe标签\n<iframe \nsrc="视频或者网页路径" \nscrolling="no" \nborder="0" \nframeborder="no" \nframespacing="0" \nallowfullscreen="true" \nheight=600 \nwidth=800> \n</iframe>\n\x3c!-- 相当于是子网页 --\x3e\n\x3c!-- b站分享链接提供 --\x3e\n\n3.方法三\n![](https://gitee.com/turbo-studio/image/raw/master/image/20210215225951.gif)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 3、插入音频\n\n\n#\n\n#3.1 使用audio 标签\n<audio id="audio" controls="" preload="none">\n      <source id="mp3" src="音频地址">\n</audio>\n# 3.2 使用iframe标签\n<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1488737309&auto=1&height=66"></iframe>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n#\n\n\n# 参考\n\nmarkdown中插入视频',charsets:{cjk:!0}},{title:"linux的基本使用",frontmatter:{title:"linux的基本使用",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/33bd12/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/linux的基本使用.md",key:"v-550f651e",path:"/pages/33bd12/",headers:[{level:3,title:"基本命令",slug:"基本命令",normalizedTitle:"基本命令",charIndex:2},{level:4,title:"netstat",slug:"netstat",normalizedTitle:"netstat",charIndex:10},{level:4,title:"rm",slug:"rm",normalizedTitle:"rm",charIndex:293},{level:4,title:"systemctl",slug:"systemctl",normalizedTitle:"systemctl",charIndex:521},{level:4,title:"uname",slug:"uname",normalizedTitle:"uname",charIndex:643},{level:4,title:"tar",slug:"tar",normalizedTitle:"tar",charIndex:559},{level:4,title:"chmod",slug:"chmod",normalizedTitle:"chmod",charIndex:1391},{level:4,title:"xrandr",slug:"xrandr",normalizedTitle:"xrandr",charIndex:1445},{level:3,title:"linux 查看剩余空间命令",slug:"linux-查看剩余空间命令",normalizedTitle:"linux 查看剩余空间命令",charIndex:1481},{level:3,title:"ifconfig",slug:"ifconfig",normalizedTitle:"ifconfig",charIndex:1839},{level:3,title:"linux配置开发环境",slug:"linux配置开发环境",normalizedTitle:"linux配置开发环境",charIndex:1912},{level:4,title:"LINUX Node.js 安装",slug:"linux-node-js-安装",normalizedTitle:"linux node.js 安装",charIndex:1927},{level:4,title:"解决linux中使用npm全局安装的命令无法运行",slug:"解决linux中使用npm全局安装的命令无法运行",normalizedTitle:"解决linux中使用npm全局安装的命令无法运行",charIndex:2438},{level:4,title:"Linux Express的安装与启动",slug:"linux-express的安装与启动",normalizedTitle:"linux express的安装与启动",charIndex:2905},{level:3,title:"npm命令",slug:"npm命令",normalizedTitle:"npm命令",charIndex:3280},{level:3,title:"linux安装moonge数据库",slug:"linux安装moonge数据库",normalizedTitle:"linux安装moonge数据库",charIndex:3326},{level:3,title:"安装软件",slug:"安装软件",normalizedTitle:"安装软件",charIndex:4169},{level:4,title:"linux安装chrome",slug:"linux安装chrome",normalizedTitle:"linux安装chrome",charIndex:4177},{level:4,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:4,title:"快捷方式",slug:"快捷方式",normalizedTitle:"快捷方式",charIndex:5773},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:254}],headersStr:"基本命令 netstat rm systemctl uname tar chmod xrandr linux 查看剩余空间命令 ifconfig linux配置开发环境 LINUX Node.js 安装 解决linux中使用npm全局安装的命令无法运行 Linux Express的安装与启动 npm命令 linux安装moonge数据库 安装软件 linux安装chrome  快捷方式 参考",content:'# 基本命令\n\n# netstat\n\n    用来打印Linux中网络系统的状态信息，可让你得知整个Linux操作系统的网络情况。\n    netstat -ntlp\n        -n或--numeric：直接使用ip地址，而不通过域名服务器；\n        -t或--tcp：显示TCP传输协议的连线状况；\n        -l或--listening：显示监控中的服务器的Socket；\n        -p或--programs：显示正在使用Socket的程序识别码和程序名称；\n        参考：https://ywnz.com/linux/netstat/\n\n\n# rm\n\n    -f　　　　-force　　　　　　忽略不存在的文件，强制删除，无任何提示\n    -i　　　　--interactive　　　 进行交互式地删除\n    -r | -R　　--recursive　　　  递归式地删除列出的目录下的所有目录和文件\n    -v　　　   --verbose　　　　详细显示进行的步骤\n    -rf           -- 组合命令            强制删除文件夹及内容不提示。（最常用）\n\n\n# systemctl\n\nnginx -s reload\nsystemctl start nginx.service\nsystemctl stop nginx.service\nsystemctl restart nginx.service\n\n\n# uname\n\n// 列出所有版本信息\nlsb_release -a\n\n\n# tar\n\n.tar 文件\n    # 仅打包，并非压缩\n    tar -xvf FileName.tar         # 解包\n    tar -cvf FileName.tar DirName # 将DirName和其下所有文件（夹）打包\n.gz\n    gunzip FileName.gz  # 解压1\n    gzip -d FileName.gz # 解压2\n    gzip FileName       # 压缩，只能压缩文件\n.tar.gz 和 .tgz\n    tar -zxvf FileName.tar.gz               # 解压\n    tar -zxvf  steamcmd_linux.tar.gz \n    tar -zcvf FileName.tar.gz DirName       # 将DirName和其下所有文件（夹）压缩\n    tar -C DesDirName -zxvf FileName.tar.gz # 解压到目标路径\n感觉.zip占用空间比.tar.gz大\n    unzip FileName.zip          # 解压\n    zip FileName.zip DirName    # 将DirName本身压缩\n    zip -r FileName.zip DirName # 压缩，递归处理，将指定目录下的所有文件和子目录一并压缩\nmac和linux并没有自带rar，需要去下载\n    rar x FileName.rar      # 解压\n    rar a FileName.rar DirName # 压缩\n\n\n# chmod\n\n//查看文件权限\nls -all 文件\n//加上可执行的权限\nchmod +x 文件\n\n\n# xrandr\n\n// 设置分辨率\nxrandr  -s 12\n\n\n\n# linux 查看剩余空间命令\n\ndf -hl\n// df命令是linux系统以磁盘分区为单位查看文件系统，可以加上参数查看磁盘剩余空间信息，显示格式为：\n// 文件系统    容量     已用     可用     已用%     挂载点\nls -lht\n// 会列出当前目录下每个文件的大小，同时也会给出当前目录下所有文件大小总和\ncat /proc/meminfo\n// 查看linux系统内存大小的详细信息，可以查看总内存，剩余内存、可使用内存等信息。\ncat /proc/cpuinfo\n// 查看linux系统的CPU型号、类型以及大小，如下图所示。\n// 通过greap命令根据Physical Processor ID筛选出多核CPU的信息。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ifconfig\n\n//查看ip\nifconfig\n\n\n----------------------------------------\n\n\n# linux配置开发环境\n\n# LINUX Node.js 安装\n\n[nodejs官方下载](https://nodejs.org/en/download/)\nmkdir /usr/local/server\ncd /usr/local/server\nwget https://nodejs.org/dist/v16.14.2/node-v16.14.2-linux-x64.tar.xz \ntar node-v16.14.2-linux-x64.tar.xz \ntar -Jxvf node-v16.14.2-linux-x64.tar.xz\nln -s /usr/local/server/node-v16.14.2-linux-x64/bin/node /usr/local/bin\nln -s /usr/local/server/node-v16.14.2-linux-x64/bin/npm /usr/local/bin\nnode -v\nnpm -v\n\nlink /root/.npm-global/bin/yarnpkg@ -> /root/.npm-global/lib/node_modules/yarn/bin/yarn.   \n\n\n# 解决linux中使用npm全局安装的命令无法运行\n\ncp /etc/profile /etc/profile.copy\nvi /etc/profile\n\n// 在末尾添加以下内容\nexport PATH="$PATH:/usr/local/server/node-v16.14.2-linux-x64/bin"\n// 保存后需要执行以下命令才会生效\nsource /etc/profile\n// 查看\ncnpm --version\nnodemon --version  \n\n\nlinux安装yarn\n\n这里介绍使用yum的方式：\n\n先要安装node.js，用 node -v 可以查看是否安装了node。\n1、添加yarn仓库\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\n2、安装yarn\n\nyum -y install yarn\n安装完成后， yarn -v 可以查看版本。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# Linux Express的安装与启动\n\nnpm install -g express-generator\nnpm install -g express\nmkdir /home/demos\ncd /home/demos\nexpress first_express\ncd first_express\nnpm install\nnpm start\n其他\n端口修改\n    vim ./bin/www\n    将3000改成你想要的端口\n    var port = normalizePort(process.env.PORT || \'3000\');\n设置静态资源\n    vim ./app.js\n    # 在 app.js 添加这行\n    app.use(express.static(\'/opt/projects/static\'));\n\n\n\n# npm命令\n\n//查看全局安装的版本\nnpm list -g --depth 0\n\n\n\n# linux安装moonge数据库\n\n// 列出所有版本信息\nlsb_release -a\n// 安装前我们需要安装各个 Linux 平台依赖包。\n// Red Hat/CentOS：\nsudo yum install libcurl openssl\n\n\nMongoDB 源码下载地址\n\n> 系统平台选择CentOS8.0\n\n\n\ncd /usr/local/server\nwget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel80-5.0.6.tgz\n\ntar -zxvf mongodb-linux-x86_64-rhel80-5.0.6.tgz\nmv mongodb-linux-x86_64-rhel80-5.0.6  mongodb\n\n// MongoDB 的可执行文件位于 bin 目录下，所以可以将其添加到 PATH 路径中：\nvi /etc/profile\n//profile\n    export PATH="$PATH:/usr/local/server/mongodb"\n    export PATH="$PATH:/usr/local/server/mongodb/bin"\n// 保存后需要执行以下命令才会生效\nsource /etc/profile\n// 查看版本\nmongo --version\nmkdir -p /var/lib/mongo\nmkdir -p /var/log/mongodb\n// 接下来启动 Mongodb 服务：\nmongod --dbpath /var/lib/mongo --logpath /var/log/mongodb/mongod.log --fork\n// 打开 /var/log/mongodb/mongod.log 文件看到以下信息，说明启动成功。\n\n\n----------------------------------------\n\n\n# 安装软件\n\n# linux安装chrome\n\nwget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\nsudo apt install ./google-chrome-stable_current_amd64.deb\n\n\n#\n\nclash_for_windows下载地址 // 新建 /usr/local/server文件夹 su root cd /usr/local mkdir server\n\nsu john\ncd ~/Downloads\nwget https://github.com/Fndroid/clash_for_windows_pkg/releases/download/0.19.14/Clash.for.Windows-0.19.14-x64-linux.tar.gz\ntar -zxvf Clash.for.Windows-0.19.14-x64-linux.tar.gz\ncp \'Clash for Windows-0.19.14-x64-linux\' clash\ncp clash  /usr/local/server/\nln -s /usr/local/server/clash/cfw /usr/local/bin/clash\n// 执行clash\nclash\n// google-chrome直接带代理节点打开\ngoogle-chrome --proxy-server="socks5://127.0.0.1:7890" https://www.google.com/\nln -s google-chrome  ~/Desktop\n\n\n\x3c!-- [Desktop Entry] --\x3e\n\x3c!-- Type=Application\nVersion=0.9.4\nName=Netanim\nComment=Run Netanim\nIcon=/usr2/ns-allinone-3.25/netanim-3.107/netanim-logo.png\nExec=/usr2/ns-allinone-3.25/netanim-3.107/NetAnim\nTerminal=false --\x3e\n// 谷歌应用商店安装\n    SwitchyOmega\n    SimpleProxy\n\n// 全局模式\n//设置代理(感觉没用)\ncp /etc/profile /etc/profile.copy\nvi /etc/profile\nexport http_proxy=http://127.0.0.1:7890/\nexport https_proxy=http://127.0.0.1:7890/\n// 更新环境文件\nsource /etc/profile\n\n\ncd ~/Downloads wget https://github.com/Fndroid/clash_for_windows_pkg/releases/download/0.19.14/Clash.for.Windows-0.19.14-x64-linux.tar.gz\n\nclash-linux下载地址 gunzip ./clash-linux-amd64-v1.10.0.gz // 移动至/usr/local/bin下,并且设置权限: sudo mv clash-linux-amd64-v1.10.0 /usr/local/bin/clash sudo chmod +x /usr/local/bin/clash 启动 初始启动时会下载config.yaml以及Country.mmdb到~/config/clash下. 下载好再次启动,就会出现下面的日志: cp clash/* ~/config/clash\n\n# 快捷方式\n\n\n# 参考\n\nLINUX Node.js 安装 Ubuntu 常用解压与压缩命令\n\nLinux Express的安装与启动\n\n如何在Ubuntu 20.04上安装Google Chrome浏览器',normalizedContent:'# 基本命令\n\n# netstat\n\n    用来打印linux中网络系统的状态信息，可让你得知整个linux操作系统的网络情况。\n    netstat -ntlp\n        -n或--numeric：直接使用ip地址，而不通过域名服务器；\n        -t或--tcp：显示tcp传输协议的连线状况；\n        -l或--listening：显示监控中的服务器的socket；\n        -p或--programs：显示正在使用socket的程序识别码和程序名称；\n        参考：https://ywnz.com/linux/netstat/\n\n\n# rm\n\n    -f　　　　-force　　　　　　忽略不存在的文件，强制删除，无任何提示\n    -i　　　　--interactive　　　 进行交互式地删除\n    -r | -r　　--recursive　　　  递归式地删除列出的目录下的所有目录和文件\n    -v　　　   --verbose　　　　详细显示进行的步骤\n    -rf           -- 组合命令            强制删除文件夹及内容不提示。（最常用）\n\n\n# systemctl\n\nnginx -s reload\nsystemctl start nginx.service\nsystemctl stop nginx.service\nsystemctl restart nginx.service\n\n\n# uname\n\n// 列出所有版本信息\nlsb_release -a\n\n\n# tar\n\n.tar 文件\n    # 仅打包，并非压缩\n    tar -xvf filename.tar         # 解包\n    tar -cvf filename.tar dirname # 将dirname和其下所有文件（夹）打包\n.gz\n    gunzip filename.gz  # 解压1\n    gzip -d filename.gz # 解压2\n    gzip filename       # 压缩，只能压缩文件\n.tar.gz 和 .tgz\n    tar -zxvf filename.tar.gz               # 解压\n    tar -zxvf  steamcmd_linux.tar.gz \n    tar -zcvf filename.tar.gz dirname       # 将dirname和其下所有文件（夹）压缩\n    tar -c desdirname -zxvf filename.tar.gz # 解压到目标路径\n感觉.zip占用空间比.tar.gz大\n    unzip filename.zip          # 解压\n    zip filename.zip dirname    # 将dirname本身压缩\n    zip -r filename.zip dirname # 压缩，递归处理，将指定目录下的所有文件和子目录一并压缩\nmac和linux并没有自带rar，需要去下载\n    rar x filename.rar      # 解压\n    rar a filename.rar dirname # 压缩\n\n\n# chmod\n\n//查看文件权限\nls -all 文件\n//加上可执行的权限\nchmod +x 文件\n\n\n# xrandr\n\n// 设置分辨率\nxrandr  -s 12\n\n\n\n# linux 查看剩余空间命令\n\ndf -hl\n// df命令是linux系统以磁盘分区为单位查看文件系统，可以加上参数查看磁盘剩余空间信息，显示格式为：\n// 文件系统    容量     已用     可用     已用%     挂载点\nls -lht\n// 会列出当前目录下每个文件的大小，同时也会给出当前目录下所有文件大小总和\ncat /proc/meminfo\n// 查看linux系统内存大小的详细信息，可以查看总内存，剩余内存、可使用内存等信息。\ncat /proc/cpuinfo\n// 查看linux系统的cpu型号、类型以及大小，如下图所示。\n// 通过greap命令根据physical processor id筛选出多核cpu的信息。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ifconfig\n\n//查看ip\nifconfig\n\n\n----------------------------------------\n\n\n# linux配置开发环境\n\n# linux node.js 安装\n\n[nodejs官方下载](https://nodejs.org/en/download/)\nmkdir /usr/local/server\ncd /usr/local/server\nwget https://nodejs.org/dist/v16.14.2/node-v16.14.2-linux-x64.tar.xz \ntar node-v16.14.2-linux-x64.tar.xz \ntar -jxvf node-v16.14.2-linux-x64.tar.xz\nln -s /usr/local/server/node-v16.14.2-linux-x64/bin/node /usr/local/bin\nln -s /usr/local/server/node-v16.14.2-linux-x64/bin/npm /usr/local/bin\nnode -v\nnpm -v\n\nlink /root/.npm-global/bin/yarnpkg@ -> /root/.npm-global/lib/node_modules/yarn/bin/yarn.   \n\n\n# 解决linux中使用npm全局安装的命令无法运行\n\ncp /etc/profile /etc/profile.copy\nvi /etc/profile\n\n// 在末尾添加以下内容\nexport path="$path:/usr/local/server/node-v16.14.2-linux-x64/bin"\n// 保存后需要执行以下命令才会生效\nsource /etc/profile\n// 查看\ncnpm --version\nnodemon --version  \n\n\nlinux安装yarn\n\n这里介绍使用yum的方式：\n\n先要安装node.js，用 node -v 可以查看是否安装了node。\n1、添加yarn仓库\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -o /etc/yum.repos.d/yarn.repo\n2、安装yarn\n\nyum -y install yarn\n安装完成后， yarn -v 可以查看版本。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# linux express的安装与启动\n\nnpm install -g express-generator\nnpm install -g express\nmkdir /home/demos\ncd /home/demos\nexpress first_express\ncd first_express\nnpm install\nnpm start\n其他\n端口修改\n    vim ./bin/www\n    将3000改成你想要的端口\n    var port = normalizeport(process.env.port || \'3000\');\n设置静态资源\n    vim ./app.js\n    # 在 app.js 添加这行\n    app.use(express.static(\'/opt/projects/static\'));\n\n\n\n# npm命令\n\n//查看全局安装的版本\nnpm list -g --depth 0\n\n\n\n# linux安装moonge数据库\n\n// 列出所有版本信息\nlsb_release -a\n// 安装前我们需要安装各个 linux 平台依赖包。\n// red hat/centos：\nsudo yum install libcurl openssl\n\n\nmongodb 源码下载地址\n\n> 系统平台选择centos8.0\n\n\n\ncd /usr/local/server\nwget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel80-5.0.6.tgz\n\ntar -zxvf mongodb-linux-x86_64-rhel80-5.0.6.tgz\nmv mongodb-linux-x86_64-rhel80-5.0.6  mongodb\n\n// mongodb 的可执行文件位于 bin 目录下，所以可以将其添加到 path 路径中：\nvi /etc/profile\n//profile\n    export path="$path:/usr/local/server/mongodb"\n    export path="$path:/usr/local/server/mongodb/bin"\n// 保存后需要执行以下命令才会生效\nsource /etc/profile\n// 查看版本\nmongo --version\nmkdir -p /var/lib/mongo\nmkdir -p /var/log/mongodb\n// 接下来启动 mongodb 服务：\nmongod --dbpath /var/lib/mongo --logpath /var/log/mongodb/mongod.log --fork\n// 打开 /var/log/mongodb/mongod.log 文件看到以下信息，说明启动成功。\n\n\n----------------------------------------\n\n\n# 安装软件\n\n# linux安装chrome\n\nwget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\nsudo apt install ./google-chrome-stable_current_amd64.deb\n\n\n#\n\nclash_for_windows下载地址 // 新建 /usr/local/server文件夹 su root cd /usr/local mkdir server\n\nsu john\ncd ~/downloads\nwget https://github.com/fndroid/clash_for_windows_pkg/releases/download/0.19.14/clash.for.windows-0.19.14-x64-linux.tar.gz\ntar -zxvf clash.for.windows-0.19.14-x64-linux.tar.gz\ncp \'clash for windows-0.19.14-x64-linux\' clash\ncp clash  /usr/local/server/\nln -s /usr/local/server/clash/cfw /usr/local/bin/clash\n// 执行clash\nclash\n// google-chrome直接带代理节点打开\ngoogle-chrome --proxy-server="socks5://127.0.0.1:7890" https://www.google.com/\nln -s google-chrome  ~/desktop\n\n\n\x3c!-- [desktop entry] --\x3e\n\x3c!-- type=application\nversion=0.9.4\nname=netanim\ncomment=run netanim\nicon=/usr2/ns-allinone-3.25/netanim-3.107/netanim-logo.png\nexec=/usr2/ns-allinone-3.25/netanim-3.107/netanim\nterminal=false --\x3e\n// 谷歌应用商店安装\n    switchyomega\n    simpleproxy\n\n// 全局模式\n//设置代理(感觉没用)\ncp /etc/profile /etc/profile.copy\nvi /etc/profile\nexport http_proxy=http://127.0.0.1:7890/\nexport https_proxy=http://127.0.0.1:7890/\n// 更新环境文件\nsource /etc/profile\n\n\ncd ~/downloads wget https://github.com/fndroid/clash_for_windows_pkg/releases/download/0.19.14/clash.for.windows-0.19.14-x64-linux.tar.gz\n\nclash-linux下载地址 gunzip ./clash-linux-amd64-v1.10.0.gz // 移动至/usr/local/bin下,并且设置权限: sudo mv clash-linux-amd64-v1.10.0 /usr/local/bin/clash sudo chmod +x /usr/local/bin/clash 启动 初始启动时会下载config.yaml以及country.mmdb到~/config/clash下. 下载好再次启动,就会出现下面的日志: cp clash/* ~/config/clash\n\n# 快捷方式\n\n\n# 参考\n\nlinux node.js 安装 ubuntu 常用解压与压缩命令\n\nlinux express的安装与启动\n\n如何在ubuntu 20.04上安装google chrome浏览器',charsets:{cjk:!0}},{title:"ngnix的基本使用",frontmatter:{title:"ngnix的基本使用",date:"2022-03-07T09:20:19.000Z",permalink:"/pages/56de9b/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/ngnix%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/ngnix的基本使用.md",key:"v-edffc1de",path:"/pages/56de9b/",headers:[{level:3,title:"systemctl命令详解",slug:"systemctl命令详解",normalizedTitle:"systemctl命令详解",charIndex:315},{level:3,title:"二级域名",slug:"二级域名",normalizedTitle:"二级域名",charIndex:701},{level:3,title:"nginx 部署vue项目",slug:"nginx-部署vue项目",normalizedTitle:"nginx 部署vue项目",charIndex:989},{level:3,title:"遇到的问题",slug:"遇到的问题",normalizedTitle:"遇到的问题",charIndex:1518}],headersStr:"systemctl命令详解 二级域名 nginx 部署vue项目 遇到的问题",content:'mkdir /home/www/home-page vim /home/www/home-page/index.html cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.copy vim /etc/nginx/nginx.conf nginx.conf配置 server_name 180.76.152.38; root /home/www/home; index index.html index.html; //最后面加上这三行 proxy_connect_timeout 1; proxy_send_timeout 30; proxy_read_timeout 60;\n\n\n# systemctl命令详解\n\n一、查询服务是否开机启动\nsystemctl is-enabled nginx.service\n二、开机运行服务 \nsystemctl enable nginx.service \n三、取消开机运行\nsystemctl disable nginx.service \n四、启动服务\nsystemctl start nginx.service \n五、停止服务\nsystemctl stop nginx.service \n六、重启服务\nsystemctl restart nginx.service \n七、重新加载服务配置文件\nsystemctl reload nginx.service\n八、查询服务运行状态\nsystemctl status nginx.service \n九、显示启动失败的服务\nsystemctl --failed \n\n\n\n# 二级域名\n\ncd /etc/nginx/vhost\ntouch blog.wenxuli.top.conf\nvi blog.wenxuli.top.conf\n// blog.wenxuli.top.conf\n    server {\n        listen 80;\n        server_name blog.wenxuli.top;\n        location / { \n                root /home/www/blog;\n                index index.html;\n        }\n    }\n\n\n\n# nginx 部署vue项目\n\nserver {\n    listen       8888;#默认端口是80，如果端口没被占用可以不用修改\n    server_name  localhost;\n    #charset koi8-r;\n    #access_log  logs/host.access.log  main;\n    root        E:/vue/my_project/dist;#vue项目的打包后的dist\n    location / {\n        try_files $uri $uri/ @router;#需要指向下面的@router否则会出现vue的路由在nginx中刷新出现404\n        index  index.html index.htm;\n    }\n    #对应上面的@router，主要原因是路由的路径资源并不是一个真实的路径，所以无法找到具体的文件\n    #因此需要rewrite到index.html中，然后交给路由在处理请求资源\n    location @router {\n        rewrite ^.*$ /index.html last;\n    }\n\n\n}\n\n\n# 遇到的问题\n\n1.Job for nginx.service failed because the control process exited with error code.\n\n\nSee "systemctl status nginx.service" and "journalctl -xe" nginx -t netstat -ntlp localhost',normalizedContent:'mkdir /home/www/home-page vim /home/www/home-page/index.html cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.copy vim /etc/nginx/nginx.conf nginx.conf配置 server_name 180.76.152.38; root /home/www/home; index index.html index.html; //最后面加上这三行 proxy_connect_timeout 1; proxy_send_timeout 30; proxy_read_timeout 60;\n\n\n# systemctl命令详解\n\n一、查询服务是否开机启动\nsystemctl is-enabled nginx.service\n二、开机运行服务 \nsystemctl enable nginx.service \n三、取消开机运行\nsystemctl disable nginx.service \n四、启动服务\nsystemctl start nginx.service \n五、停止服务\nsystemctl stop nginx.service \n六、重启服务\nsystemctl restart nginx.service \n七、重新加载服务配置文件\nsystemctl reload nginx.service\n八、查询服务运行状态\nsystemctl status nginx.service \n九、显示启动失败的服务\nsystemctl --failed \n\n\n\n# 二级域名\n\ncd /etc/nginx/vhost\ntouch blog.wenxuli.top.conf\nvi blog.wenxuli.top.conf\n// blog.wenxuli.top.conf\n    server {\n        listen 80;\n        server_name blog.wenxuli.top;\n        location / { \n                root /home/www/blog;\n                index index.html;\n        }\n    }\n\n\n\n# nginx 部署vue项目\n\nserver {\n    listen       8888;#默认端口是80，如果端口没被占用可以不用修改\n    server_name  localhost;\n    #charset koi8-r;\n    #access_log  logs/host.access.log  main;\n    root        e:/vue/my_project/dist;#vue项目的打包后的dist\n    location / {\n        try_files $uri $uri/ @router;#需要指向下面的@router否则会出现vue的路由在nginx中刷新出现404\n        index  index.html index.htm;\n    }\n    #对应上面的@router，主要原因是路由的路径资源并不是一个真实的路径，所以无法找到具体的文件\n    #因此需要rewrite到index.html中，然后交给路由在处理请求资源\n    location @router {\n        rewrite ^.*$ /index.html last;\n    }\n\n\n}\n\n\n# 遇到的问题\n\n1.job for nginx.service failed because the control process exited with error code.\n\n\nsee "systemctl status nginx.service" and "journalctl -xe" nginx -t netstat -ntlp localhost',charsets:{cjk:!0}},{title:"npm ,yarn 的基本使用",frontmatter:{title:"npm ,yarn 的基本使用",date:"2022-03-07T09:20:19.000Z",permalink:"/pages/7d827e/",sidebar:"auto",categories:["随笔"],tags:["npm","yarn"]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/npm%E3%80%81yarn%20%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/npm、yarn 的基本使用.md",key:"v-5a9106b6",path:"/pages/7d827e/",headersStr:null,content:'# npm的基本使用\n\n\n# npm的常用命令\n\nnpm list -g --depth 0 查看npm全局安装的包\n\n\n\n# yarn的基本使用\n\nyarn的中文文档\n\nnpm install --global yarn\nyarn --version\nyarn init\n\n\n> 添加依赖包\n\nyarn add [package]\nyarn add [package]@[version]\nyarn add [package]@[tag]\n\n\n> 指定依赖 yarn add [package] --dev yarn add [package] --peer yarn add [package] --optional\n\n> 升级、移除依赖包 yarn upgrade [package] yarn remove [package]\n\n> 安装项目的全部依赖 yarn yarn install\n\n\n# yarn的基本命令\n\n安装包：\nyarn install //安装package.json里所有包，并将包及它的所有依赖项保存进yarn.lock\n# 查看yarn版本\nyarn -v\n# 查看yarn的所有配置\nyarn config list\t\n# 修改yarn的源镜像为淘宝源\nyarn config set registry https://registry.npm.taobao.org/\n# 修改删除的源镜像为淘宝源\nyarn config delete registry \n# 查看当前yarn的bin的位置\nyarn global bin\n# 设置环境变量\nsetx /m "path" "C:\\Users\\Administrator\\AppData\\Local\\Yarn\\bin;%path%"\n# 查看当前yarn的全局安装位置\nyarn global dir\n# yarn 全局缓存\nyarn cache dir\n\n\n\nyarn的常用命令：\n安装yarn\nnpm install -g yarn\n安装成功后，查看版本号：\nyarn --version\n创建文件夹 yarn\nmd yarn\n进入yarn文件夹\ncd yarn\n初始化项目\nyarn init // 同npm init，执行输入信息后，会生成package.json文件\nyarn的配置项：\nyarn config list // 显示所有配置项\nyarn config get //显示某配置项\nyarn config delete //删除某配置项\nyarn config set [-g|--global] //设置配置项\n\n安装包：\nyarn install //安装package.json里所有包，并将包及它的所有依赖项保存进yarn.lock\nyarn install --flat //安装一个包的单一版本\nyarn install --force //强制重新下载所有包\nyarn install --production //只安装dependencies里的包\nyarn install --no-lockfile //不读取或生成yarn.lock\nyarn install --pure-lockfile //不生成yarn.lock\n添加包（会更新package.json和yarn.lock）：\n\nyarn add [package] // 在当前的项目中添加一个依赖包，会自动更新到package.json和yarn.lock文件中\nyarn add [package]@[version] // 安装指定版本，这里指的是主要版本，如果需要精确到小版本，使用-E参数\nyarn add [package]@[tag] // 安装某个tag（比如beta,next或者latest）\n//不指定依赖类型默认安装到dependencies里，你也可以指定依赖类型：\n\nyarn add --dev/-D // 加到 devDependencies\nyarn add --peer/-P // 加到 peerDependencies\nyarn add --optional/-O // 加到 optionalDependencies\n//默认安装包的主要版本里的最新版本，下面两个命令可以指定版本：\n\nyarn add --exact/-E // 安装包的精确版本。例如yarn add foo@1.2.3会接受1.9.1版，但是yarn add foo@1.2.3 --exact只会接受1.2.3版\nyarn add --tilde/-T // 安装包的次要版本里的最新版。例如yarn add foo@1.2.3 --tilde会接受1.2.9，但不接受1.3.0\n发布包\n\nyarn publish\n移除一个包\nyarn remove ：移除一个包，会自动更新package.json和yarn.lock\n更新一个依赖\nyarn upgrade 用于更新包到基于规范范围的最新版本\n运行脚本\nyarn run 用来执行在 package.json 中 scripts 属性下定义的脚本\n显示某个包的信息\nyarn info 可以用来查看某个模块的最新版本信息\n缓存\nyarn cache\nyarn cache list # 列出已缓存的每个包\nyarn cache dir # 返回 全局缓存位置\nyarn cache clean # 清除缓存\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n',normalizedContent:'# npm的基本使用\n\n\n# npm的常用命令\n\nnpm list -g --depth 0 查看npm全局安装的包\n\n\n\n# yarn的基本使用\n\nyarn的中文文档\n\nnpm install --global yarn\nyarn --version\nyarn init\n\n\n> 添加依赖包\n\nyarn add [package]\nyarn add [package]@[version]\nyarn add [package]@[tag]\n\n\n> 指定依赖 yarn add [package] --dev yarn add [package] --peer yarn add [package] --optional\n\n> 升级、移除依赖包 yarn upgrade [package] yarn remove [package]\n\n> 安装项目的全部依赖 yarn yarn install\n\n\n# yarn的基本命令\n\n安装包：\nyarn install //安装package.json里所有包，并将包及它的所有依赖项保存进yarn.lock\n# 查看yarn版本\nyarn -v\n# 查看yarn的所有配置\nyarn config list\t\n# 修改yarn的源镜像为淘宝源\nyarn config set registry https://registry.npm.taobao.org/\n# 修改删除的源镜像为淘宝源\nyarn config delete registry \n# 查看当前yarn的bin的位置\nyarn global bin\n# 设置环境变量\nsetx /m "path" "c:\\users\\administrator\\appdata\\local\\yarn\\bin;%path%"\n# 查看当前yarn的全局安装位置\nyarn global dir\n# yarn 全局缓存\nyarn cache dir\n\n\n\nyarn的常用命令：\n安装yarn\nnpm install -g yarn\n安装成功后，查看版本号：\nyarn --version\n创建文件夹 yarn\nmd yarn\n进入yarn文件夹\ncd yarn\n初始化项目\nyarn init // 同npm init，执行输入信息后，会生成package.json文件\nyarn的配置项：\nyarn config list // 显示所有配置项\nyarn config get //显示某配置项\nyarn config delete //删除某配置项\nyarn config set [-g|--global] //设置配置项\n\n安装包：\nyarn install //安装package.json里所有包，并将包及它的所有依赖项保存进yarn.lock\nyarn install --flat //安装一个包的单一版本\nyarn install --force //强制重新下载所有包\nyarn install --production //只安装dependencies里的包\nyarn install --no-lockfile //不读取或生成yarn.lock\nyarn install --pure-lockfile //不生成yarn.lock\n添加包（会更新package.json和yarn.lock）：\n\nyarn add [package] // 在当前的项目中添加一个依赖包，会自动更新到package.json和yarn.lock文件中\nyarn add [package]@[version] // 安装指定版本，这里指的是主要版本，如果需要精确到小版本，使用-e参数\nyarn add [package]@[tag] // 安装某个tag（比如beta,next或者latest）\n//不指定依赖类型默认安装到dependencies里，你也可以指定依赖类型：\n\nyarn add --dev/-d // 加到 devdependencies\nyarn add --peer/-p // 加到 peerdependencies\nyarn add --optional/-o // 加到 optionaldependencies\n//默认安装包的主要版本里的最新版本，下面两个命令可以指定版本：\n\nyarn add --exact/-e // 安装包的精确版本。例如yarn add foo@1.2.3会接受1.9.1版，但是yarn add foo@1.2.3 --exact只会接受1.2.3版\nyarn add --tilde/-t // 安装包的次要版本里的最新版。例如yarn add foo@1.2.3 --tilde会接受1.2.9，但不接受1.3.0\n发布包\n\nyarn publish\n移除一个包\nyarn remove ：移除一个包，会自动更新package.json和yarn.lock\n更新一个依赖\nyarn upgrade 用于更新包到基于规范范围的最新版本\n运行脚本\nyarn run 用来执行在 package.json 中 scripts 属性下定义的脚本\n显示某个包的信息\nyarn info 可以用来查看某个模块的最新版本信息\n缓存\nyarn cache\nyarn cache list # 列出已缓存的每个包\nyarn cache dir # 返回 全局缓存位置\nyarn cache clean # 清除缓存\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n',charsets:{cjk:!0}},{title:"node 的基本使用",frontmatter:{title:"node 的基本使用",date:"2022-03-07T09:20:19.000Z",permalink:"/pages/375245/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/node%20%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/node 的基本使用.md",key:"v-c6d0fe70",path:"/pages/375245/",headers:[{level:3,title:"npm查看全局路径",slug:"npm查看全局路径",normalizedTitle:"npm查看全局路径",charIndex:159},{level:3,title:"npm配置淘宝源",slug:"npm配置淘宝源",normalizedTitle:"npm配置淘宝源",charIndex:202},{level:3,title:"yarn配置淘宝源",slug:"yarn配置淘宝源",normalizedTitle:"yarn配置淘宝源",charIndex:503},{level:3,title:"在已经安装成功npm的情况下,只需要在CMD里边输入即可得到用户自定义配置文件的路径",slug:"在已经安装成功npm的情况下-只需要在cmd里边输入即可得到用户自定义配置文件的路径",normalizedTitle:"在已经安装成功npm的情况下,只需要在cmd里边输入即可得到用户自定义配置文件的路径",charIndex:1043},{level:4,title:"如何在 .yarnrc.yml 中添加淘宝镜像源",slug:"如何在-yarnrc-yml-中添加淘宝镜像源",normalizedTitle:"如何在 .yarnrc.yml 中添加淘宝镜像源",charIndex:1150},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:1238}],headersStr:"npm查看全局路径 npm配置淘宝源 yarn配置淘宝源 在已经安装成功npm的情况下,只需要在CMD里边输入即可得到用户自定义配置文件的路径 如何在 .yarnrc.yml 中添加淘宝镜像源 参考",content:'npm 目前支持以下几类依赖包管理： dependencies 业务依赖 devDependencies 开发依赖 peerDependencies 同等依赖 optionalDependencies 可选依赖 bundledDependencies / bundleDependencies 打包依赖 具体\n\n\n# npm查看全局路径\n\nnpm config get prefix \n\n\n1\n\n\n\n# npm配置淘宝源\n\nnpm config set sass_binary_site=https://npm.taobao.org/mirrors/node-sass/\nnpm config set phantomjs_cdnurl=https://npm.taobao.org/mirrors/phantomjs/\nnpm config set electron_mirror=https://npm.taobao.org/mirrors/electron/\nnpm config set registry=https://registry.npm.taobao.org\n\n\n1\n2\n3\n4\n\n\n\n# yarn配置淘宝源\n\nYarn 淘宝源安装，分别复制粘贴以下代码行到黑窗口运行即可\n\nyarn config set registry https://registry.npm.taobao.org -g\n\nyarn config set sass_binary_site http://cdn.npm.taobao.org/dist/node-sass -g\n\nnpm config set sass_binary_site=https://npm.taobao.org/mirrors/node-sass/\nnpm config set phantomjs_cdnurl=https://npm.taobao.org/mirrors/phantomjs/\nnpm config set electron_mirror=https://npm.taobao.org/mirrors/electron/\nnpm config set registry=https://registry.npm.taobao.org\n安装 node-sass、electron 和 phantomjs 时都能自动从淘宝源上下载\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 在已经安装成功npm的情况下,只需要在CMD里边输入即可得到用户自定义配置文件的路径\n\nnpm config get userconfig\nyarn config get userconfig\n\n\n1\n2\n\n\n# 如何在 .yarnrc.yml 中添加淘宝镜像源\n\nnpmRegistryServer: "https://registry.npm.taobao.org"\n\n\n1\n\n\n\n# 参考\n\nyarn配置淘宝源',normalizedContent:'npm 目前支持以下几类依赖包管理： dependencies 业务依赖 devdependencies 开发依赖 peerdependencies 同等依赖 optionaldependencies 可选依赖 bundleddependencies / bundledependencies 打包依赖 具体\n\n\n# npm查看全局路径\n\nnpm config get prefix \n\n\n1\n\n\n\n# npm配置淘宝源\n\nnpm config set sass_binary_site=https://npm.taobao.org/mirrors/node-sass/\nnpm config set phantomjs_cdnurl=https://npm.taobao.org/mirrors/phantomjs/\nnpm config set electron_mirror=https://npm.taobao.org/mirrors/electron/\nnpm config set registry=https://registry.npm.taobao.org\n\n\n1\n2\n3\n4\n\n\n\n# yarn配置淘宝源\n\nyarn 淘宝源安装，分别复制粘贴以下代码行到黑窗口运行即可\n\nyarn config set registry https://registry.npm.taobao.org -g\n\nyarn config set sass_binary_site http://cdn.npm.taobao.org/dist/node-sass -g\n\nnpm config set sass_binary_site=https://npm.taobao.org/mirrors/node-sass/\nnpm config set phantomjs_cdnurl=https://npm.taobao.org/mirrors/phantomjs/\nnpm config set electron_mirror=https://npm.taobao.org/mirrors/electron/\nnpm config set registry=https://registry.npm.taobao.org\n安装 node-sass、electron 和 phantomjs 时都能自动从淘宝源上下载\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 在已经安装成功npm的情况下,只需要在cmd里边输入即可得到用户自定义配置文件的路径\n\nnpm config get userconfig\nyarn config get userconfig\n\n\n1\n2\n\n\n# 如何在 .yarnrc.yml 中添加淘宝镜像源\n\nnpmregistryserver: "https://registry.npm.taobao.org"\n\n\n1\n\n\n\n# 参考\n\nyarn配置淘宝源',charsets:{cjk:!0}},{title:"puppeteer的基本使用",frontmatter:{title:"puppeteer的基本使用",date:"2022-03-23T20:25:05.000Z",permalink:"/pages/e46548/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/puppeteer%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/puppeteer的基本使用.md",key:"v-05bb32c5",path:"/pages/e46548/",headers:[{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:2},{level:3,title:"初始化项目",slug:"初始化项目",normalizedTitle:"初始化项目",charIndex:36}],headersStr:"参考 初始化项目",content:"# 参考\n\n使用无头浏览器进行网页爬取：Puppeteer教程\n\n\n# 初始化项目\n\ncd Z://test\nmkdir puppeteerDemo\nnpm init -y",normalizedContent:"# 参考\n\n使用无头浏览器进行网页爬取：puppeteer教程\n\n\n# 初始化项目\n\ncd z://test\nmkdir puppeteerdemo\nnpm init -y",charsets:{cjk:!0}},{title:"npm的一些有用的库",frontmatter:{title:"npm的一些有用的库",date:"2022-03-07T09:20:19.000Z",permalink:"/pages/35c5f5/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/npm%E7%9A%84%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%BA%93.html",relativePath:"_posts/随笔/npm的一些有用的库.md",key:"v-6b1ef0e2",path:"/pages/35c5f5/",headers:[{level:3,title:"自动生成目录结构",slug:"自动生成目录结构",normalizedTitle:"自动生成目录结构",charIndex:2},{level:3,title:"部署多个nodejs项目  pm2",slug:"部署多个nodejs项目-pm2",normalizedTitle:"部署多个nodejs项目  pm2",charIndex:null},{level:3,title:"live-server",slug:"live-server",normalizedTitle:"live-server",charIndex:1707},{level:3,title:"json-server",slug:"json-server",normalizedTitle:"json-server",charIndex:1775}],headersStr:"自动生成目录结构 部署多个nodejs项目  pm2 live-server json-server",content:'# 自动生成目录结构\n\nnpm install mddir -g \nmddir //会生成目录结果directoryList.md\n\n\n\n# 部署多个nodejs项目 pm2\n\nnpm install -g pm2\n// 生成配置文件\npm2 ecosystem\n//启动配置文件\npm2 startOrRestart  ecosystem.config.js\n// 查看启动情况\npm2 list\n// 启动\npm2 start npm -- run start，\npm2 start app.js \npm2 start app.js --name my-api # 命名进程\n停止方式\npm2 stop npm -- run start\npm2 monit              # 监视所有进程\npm2 logs               #  显示所有进程日志\npm2 stop all           # 停止所有进程\npm2 restart all        # 重启所有进程\npm2 reload all         # 0秒停机重载进程 (用于 NETWORKED 进程)\npm2 stop 0             # 停止指定的进程\npm2 restart 0          # 重启指定的进程\npm2 startup            # 产生 init 脚本 保持进程活着\npm2 web                # 运行健壮的 computer API endpoint (http://localhost:9615)\npm2 delete 0           # 杀死指定的进程\npm2 delete all         # 杀死全部进程\n\n运行进程的不同方式：\npm2 start app.js -i max  # 根据有效CPU数目启动最大进程数目\npm2 start app.js -i 3      # 启动3个进程\npm2 start app.js -x        #用fork模式启动 app.js 而不是使用 cluster\npm2 start app.js -x -- -a 23   # 用fork模式启动 app.js 并且传递参数 (-a 23)\npm2 start app.js --name serverone  # 启动一个进程并把它命名为 serverone\npm2 stop serverone       # 停止 serverone 进程\npm2 start app.json        # 启动进程, 在 app.json里设置选项\npm2 start app.js -i max -- -a 23                   #在--之后给 app.js 传递参数\npm2 start app.js -i max -e err.log -o out.log  # 启动 并 生成一个配置文件\n你也可以执行用其他语言编写的app  ( fork 模式):\npm2 start my-bash-script.sh    -x --interpreter bash\npm2 start my-python-script.py -x --interpreter python\n\n0秒停机重载:\n这项功能允许你重新载入代码而不用失去请求连接。\n注意：\n仅能用于web应用\n运行于Node 0.11.x版本\n运行于 cluster 模式（默认模式）\npm2 reload all\n\nCoffeeScript:\npm2 start my_app.coffee  #这就是全部\n\nPM2准备好为产品级服务了吗？\n只需在你的服务器上测试\n$ git clone https://github.com/Unitech/pm2.git\n$ cd pm2\n$ npm install  # 或者 npm install --dev ，如果devDependencies 没有安装\n$ npm test\n\n\n\n# live-server\n\nnpm i -g live-server\ncd dist \nlive-server\n\n\n1\n2\n3\n\n\n\n# json-server\n\nnpm install -g json-server\njson-server -v\nmkdir mock\nnew-item mock/db.json\necho \'{"name":"mock","version":"1.0.0","description":"","main":"index.js","scripts":{"mock":"json-server --watch db.json --port 4000"},"keywords":[],"author":"","license":"ISC"}\'>mock/package.json\nstart cmd\ncd mock\njson-server --watch db.json --port 4000\n\n//简便方法 \nnpm init -y\nmock/package.json加上\n"scripts": {\n    "start": "json-server --watch db.json --port 4000"\n  },\n npm start\n// db.json\n    {\n        "data": {\n            "name": "JSPang",\n            "age": 18,\n            "interest": "I love coding!"\n        }\n    }\n// 假数据url：http://localhost:4000/data\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n',normalizedContent:'# 自动生成目录结构\n\nnpm install mddir -g \nmddir //会生成目录结果directorylist.md\n\n\n\n# 部署多个nodejs项目 pm2\n\nnpm install -g pm2\n// 生成配置文件\npm2 ecosystem\n//启动配置文件\npm2 startorrestart  ecosystem.config.js\n// 查看启动情况\npm2 list\n// 启动\npm2 start npm -- run start，\npm2 start app.js \npm2 start app.js --name my-api # 命名进程\n停止方式\npm2 stop npm -- run start\npm2 monit              # 监视所有进程\npm2 logs               #  显示所有进程日志\npm2 stop all           # 停止所有进程\npm2 restart all        # 重启所有进程\npm2 reload all         # 0秒停机重载进程 (用于 networked 进程)\npm2 stop 0             # 停止指定的进程\npm2 restart 0          # 重启指定的进程\npm2 startup            # 产生 init 脚本 保持进程活着\npm2 web                # 运行健壮的 computer api endpoint (http://localhost:9615)\npm2 delete 0           # 杀死指定的进程\npm2 delete all         # 杀死全部进程\n\n运行进程的不同方式：\npm2 start app.js -i max  # 根据有效cpu数目启动最大进程数目\npm2 start app.js -i 3      # 启动3个进程\npm2 start app.js -x        #用fork模式启动 app.js 而不是使用 cluster\npm2 start app.js -x -- -a 23   # 用fork模式启动 app.js 并且传递参数 (-a 23)\npm2 start app.js --name serverone  # 启动一个进程并把它命名为 serverone\npm2 stop serverone       # 停止 serverone 进程\npm2 start app.json        # 启动进程, 在 app.json里设置选项\npm2 start app.js -i max -- -a 23                   #在--之后给 app.js 传递参数\npm2 start app.js -i max -e err.log -o out.log  # 启动 并 生成一个配置文件\n你也可以执行用其他语言编写的app  ( fork 模式):\npm2 start my-bash-script.sh    -x --interpreter bash\npm2 start my-python-script.py -x --interpreter python\n\n0秒停机重载:\n这项功能允许你重新载入代码而不用失去请求连接。\n注意：\n仅能用于web应用\n运行于node 0.11.x版本\n运行于 cluster 模式（默认模式）\npm2 reload all\n\ncoffeescript:\npm2 start my_app.coffee  #这就是全部\n\npm2准备好为产品级服务了吗？\n只需在你的服务器上测试\n$ git clone https://github.com/unitech/pm2.git\n$ cd pm2\n$ npm install  # 或者 npm install --dev ，如果devdependencies 没有安装\n$ npm test\n\n\n\n# live-server\n\nnpm i -g live-server\ncd dist \nlive-server\n\n\n1\n2\n3\n\n\n\n# json-server\n\nnpm install -g json-server\njson-server -v\nmkdir mock\nnew-item mock/db.json\necho \'{"name":"mock","version":"1.0.0","description":"","main":"index.js","scripts":{"mock":"json-server --watch db.json --port 4000"},"keywords":[],"author":"","license":"isc"}\'>mock/package.json\nstart cmd\ncd mock\njson-server --watch db.json --port 4000\n\n//简便方法 \nnpm init -y\nmock/package.json加上\n"scripts": {\n    "start": "json-server --watch db.json --port 4000"\n  },\n npm start\n// db.json\n    {\n        "data": {\n            "name": "jspang",\n            "age": 18,\n            "interest": "i love coding!"\n        }\n    }\n// 假数据url：http://localhost:4000/data\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n',charsets:{cjk:!0}},{title:"标签",frontmatter:{tagsPage:!0,title:"标签",permalink:"/tags/",article:!1},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-761267ca",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/11, 07:13:47",lastUpdatedTimestamp:1649632427e3},{title:"python的基本使用",frontmatter:{title:"python的基本使用",date:"2022-04-02T21:43:38.000Z",permalink:"/pages/ed136c/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/python%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/python的基本使用.md",key:"v-75c3e621",path:"/pages/ed136c/",headers:[{level:3,title:"安装项目所需要的库",slug:"安装项目所需要的库",normalizedTitle:"安装项目所需要的库",charIndex:2}],headersStr:"安装项目所需要的库",content:"# 安装项目所需要的库\n\npip install -r requirements.txt\n\n\n> requirements.txt\n\njsbeautifier==1.14.0\njsmin==3.0.0\nloguru==0.5.3\npycryptodome==3.11.0\n",normalizedContent:"# 安装项目所需要的库\n\npip install -r requirements.txt\n\n\n> requirements.txt\n\njsbeautifier==1.14.0\njsmin==3.0.0\nloguru==0.5.3\npycryptodome==3.11.0\n",charsets:{cjk:!0}},{title:"sass、less和stylus的基本使用",frontmatter:{title:"sass、less和stylus的基本使用",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/02b027/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/sass%E3%80%81less%E5%92%8Cstylus%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/sass、less和stylus的基本使用.md",key:"v-26c99fee",path:"/pages/02b027/",headers:[{level:3,title:"stylus的基本使用",slug:"stylus的基本使用",normalizedTitle:"stylus的基本使用",charIndex:2}],headersStr:"stylus的基本使用",content:"# stylus的基本使用\n\nstylus中文版参考文档之综述\n\nnpm install -g stylus\nstylus -w  stylus/index.styl -o css/index.css\nstylus -w  index.styl -o index.css\n1.父级引用 &\n2.top border -1px(#e4e4e4)\n3.>\n4.clearFix()//清除浮动",normalizedContent:"# stylus的基本使用\n\nstylus中文版参考文档之综述\n\nnpm install -g stylus\nstylus -w  stylus/index.styl -o css/index.css\nstylus -w  index.styl -o index.css\n1.父级引用 &\n2.top border -1px(#e4e4e4)\n3.>\n4.clearfix()//清除浮动",charsets:{cjk:!0}},{title:"typescript的基本使用",frontmatter:{title:"typescript的基本使用",date:"2022-03-07T09:20:19.000Z",permalink:"/pages/299f21/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/typescript%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/typescript的基本使用.md",key:"v-1db599c1",path:"/pages/299f21/",headersStr:null,content:"interface\n\nundefined，一个特殊值，通常用于指示变量尚未赋值。 any ,在一些情况下，如果我们无法确定变量的类型时（或者无需确认类型时），我们可以将其指定为 any 类型。尽量避免使用 void, void 类型表示没有任何类型。申明为 void 类型的变量，只能赋予 undefined 和 null never ,never 类型表示永远不会有值的一种类型。 symbol ,ES6 引入了一种新的原始数据类型 Symbol ，表示独一无二的值，它是 JavaScript 语言的第七种数据类型。\n\nTSError 1.Property 'uname' has no initializer and is not definitely assigned in the constructor. : it is because TypeScript 2.7 includes a strict class checking where all the properties should be initialized in the constructor. Set name property to empty string",normalizedContent:"interface\n\nundefined，一个特殊值，通常用于指示变量尚未赋值。 any ,在一些情况下，如果我们无法确定变量的类型时（或者无需确认类型时），我们可以将其指定为 any 类型。尽量避免使用 void, void 类型表示没有任何类型。申明为 void 类型的变量，只能赋予 undefined 和 null never ,never 类型表示永远不会有值的一种类型。 symbol ,es6 引入了一种新的原始数据类型 symbol ，表示独一无二的值，它是 javascript 语言的第七种数据类型。\n\ntserror 1.property 'uname' has no initializer and is not definitely assigned in the constructor. : it is because typescript 2.7 includes a strict class checking where all the properties should be initialized in the constructor. set name property to empty string",charsets:{cjk:!0}},{title:"uni_app的基本使用",frontmatter:{title:"uni_app的基本使用",date:"2022-02-19T19:42:06.000Z",permalink:"/pages/2767b2/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/uni_app%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/uni_app的基本使用.md",key:"v-3c7a47a6",path:"/pages/2767b2/",headers:[{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:2},{level:3,title:"环境安装",slug:"环境安装",normalizedTitle:"环境安装",charIndex:46},{level:3,title:"创建uni-app",slug:"创建uni-app",normalizedTitle:"创建uni-app",charIndex:81},{level:3,title:"进入工程项目",slug:"进入工程项目",normalizedTitle:"进入工程项目",charIndex:311},{level:3,title:"打包到 app",slug:"打包到-app",normalizedTitle:"打包到 app",charIndex:519},{level:3,title:"出现的错误",slug:"出现的错误",normalizedTitle:"出现的错误",charIndex:1110}],headersStr:"参考 环境安装 创建uni-app 进入工程项目 打包到 app 出现的错误",content:"# 参考\n\nuniapp官网\n\nHBuilderX App开发版 (317.3M)\n\n\n# 环境安装\n\nnpm install -g @vue/cli\n\n\n\n# 创建uni-app\n\ncd Z:\\test\n// 使用Vue3/Vite版\n\t创建以 javascript 开发的工程（如命令行创建失败，请直接访问 gitee 下载模板）\nnpx degit dcloudio/uni-preset-vue#vite uni_app_stuly\n// 创建以 typescript 开发的工程  \nnpx degit dcloudio/uni-preset-vue#vite-ts uni_app_stuly -y\n\n\n\n# 进入工程项目\n\ncd uni_app_stuly\n安装依赖\nnpm i\nnpm install parse-css-font\n运行\n\t# 运行到 h5   \n\tnpm run dev:h5  \n\t# 运行到 app   \n\tnpm run dev:app  \n\t# 运行到 微信小程序  \n\tnpm run dev:mp-weixin \n打包\n\t# 打包到 h5   \n\tnpm run build:h5  \n\t# 打包到 app   \n\tnpm run build:app  \n\t# 打包到 微信小程序  \n\tnpm run build:mp-weixin  \n\n\n\n# 打包到 app\n\nuni-app打包成Android Apk 全程详解 // 生成签名证书 // 使用keytool -genkey命令生成证书： keytool -genkey -alias testalias -keyalg RSA -keysize 2048 -validity 36500 -keystore test.keystore // testalias是证书别名，可修改为自己想设置的字符，建议使用英文字母和数字 // test.keystore是证书文件名称，可修改为自己想设置的文件名称，也可以指定完整文件路径 // 36500是证书的有效期，表示100年有效期，单位天，建议时间设置长一点，避免证书过期 // 以上命令运行完成后就会生成证书，路径为“D:\\Java\\jdk-18\\bin\\test.keystore”。 // 查看证书信息 // 可以使用以下命令查看： keytool -list -v -keystore test.keystore\n// Enter keystore password: //输入密码，回车\n\n注意：上述信息填写要规范，乱填有可能会影响应用上架应用市场。\n\n\n# 出现的错误\n\n？could not find commit hash for vite\n@网络不好\n2.Error: Cannot find module 'Z:\\test\\uni_app_stuly\\node_modules\\parse-css-font\\dist\\index.js'. Please verify that the package.json has a valid \"main\" entry\n: npm install parse-css-font\n",normalizedContent:"# 参考\n\nuniapp官网\n\nhbuilderx app开发版 (317.3m)\n\n\n# 环境安装\n\nnpm install -g @vue/cli\n\n\n\n# 创建uni-app\n\ncd z:\\test\n// 使用vue3/vite版\n\t创建以 javascript 开发的工程（如命令行创建失败，请直接访问 gitee 下载模板）\nnpx degit dcloudio/uni-preset-vue#vite uni_app_stuly\n// 创建以 typescript 开发的工程  \nnpx degit dcloudio/uni-preset-vue#vite-ts uni_app_stuly -y\n\n\n\n# 进入工程项目\n\ncd uni_app_stuly\n安装依赖\nnpm i\nnpm install parse-css-font\n运行\n\t# 运行到 h5   \n\tnpm run dev:h5  \n\t# 运行到 app   \n\tnpm run dev:app  \n\t# 运行到 微信小程序  \n\tnpm run dev:mp-weixin \n打包\n\t# 打包到 h5   \n\tnpm run build:h5  \n\t# 打包到 app   \n\tnpm run build:app  \n\t# 打包到 微信小程序  \n\tnpm run build:mp-weixin  \n\n\n\n# 打包到 app\n\nuni-app打包成android apk 全程详解 // 生成签名证书 // 使用keytool -genkey命令生成证书： keytool -genkey -alias testalias -keyalg rsa -keysize 2048 -validity 36500 -keystore test.keystore // testalias是证书别名，可修改为自己想设置的字符，建议使用英文字母和数字 // test.keystore是证书文件名称，可修改为自己想设置的文件名称，也可以指定完整文件路径 // 36500是证书的有效期，表示100年有效期，单位天，建议时间设置长一点，避免证书过期 // 以上命令运行完成后就会生成证书，路径为“d:\\java\\jdk-18\\bin\\test.keystore”。 // 查看证书信息 // 可以使用以下命令查看： keytool -list -v -keystore test.keystore\n// enter keystore password: //输入密码，回车\n\n注意：上述信息填写要规范，乱填有可能会影响应用上架应用市场。\n\n\n# 出现的错误\n\n？could not find commit hash for vite\n@网络不好\n2.error: cannot find module 'z:\\test\\uni_app_stuly\\node_modules\\parse-css-font\\dist\\index.js'. please verify that the package.json has a valid \"main\" entry\n: npm install parse-css-font\n",charsets:{cjk:!0}},{title:"vuepress-theme-vdoing的使用",frontmatter:{title:"vuepress-theme-vdoing的使用",date:"2022-04-10T07:07:10.000Z",permalink:"/pages/44fdfb/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/vuepress-theme-vdoing%E7%9A%84%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/vuepress-theme-vdoing的使用.md",key:"v-341058ac",path:"/pages/44fdfb/",headers:[{level:2,title:"快速上手",slug:"快速上手",normalizedTitle:"快速上手",charIndex:2},{level:2,title:"个性化项目",slug:"个性化项目",normalizedTitle:"个性化项目",charIndex:124},{level:3,title:"deploy.sh",slug:"deploy-sh",normalizedTitle:"deploy.sh",charIndex:134},{level:3,title:".gitignore",slug:"gitignore",normalizedTitle:".gitignore",charIndex:329}],headersStr:"快速上手 个性化项目 deploy.sh .gitignore",content:"# 快速上手\n\ngit clone https://github.com/xugaoyi/vuepress-theme-vdoing.git \ncd vuepress-theme-vdoing\nyarn install\nyarn dev\n\n\n\n# 个性化项目\n\n\n# deploy.sh\n\n原：\necho 'b.xugaoyi.com' > CNAME\n改：\n\nxugaoyi 直接替换为自己的github账号名\nvuepress-theme-vdoing 直接替换为自己的github仓库名\n\n\ngit config --global user.email \"894072666@qq.com\"\n改\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# .gitignore\n\n\n\n\n1\n\n\n# 删除笔记部分\nmove  docs\\  temp\\\nxcopy  temp\\.vuepress docs\\.vuepress\\  /s   /y \nxcopy  docs\\'@pages'  'docs\\@pages\\' /s   /y \nxcopy  temp\\index.md docs\\  /s   /y \necho ` '# 临时文件,不上传，没用时删' temp >> .gitignore\nmd docs\\_posts\\随笔\n\n# /img/logo.png\n# docs\\.vuepress\\public\\img\\logo.png\n#.vuepress\\public\\img\n\n\ndocs\\.vuepress\\config\\htmlModules.ts\n \n<img src=\"https://cdn.jsdelivr.net/gh/wenxuli2/jsDelivr_cdn@1.1/images/qrcode_for_gh.jpg')\"  style=\"width:100%;\" />\n关注公众号，回复[<b>前端资源</b>]，可获取 <a href=\"https://game.xugaoyi.com\" arget=\"_blank\" >\n\nrepo: 'wenxuli2/docs', // 导航栏右侧生成Github链接\n\ndocs\\index.md\n\n\n33333333333333 哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇",normalizedContent:"# 快速上手\n\ngit clone https://github.com/xugaoyi/vuepress-theme-vdoing.git \ncd vuepress-theme-vdoing\nyarn install\nyarn dev\n\n\n\n# 个性化项目\n\n\n# deploy.sh\n\n原：\necho 'b.xugaoyi.com' > cname\n改：\n\nxugaoyi 直接替换为自己的github账号名\nvuepress-theme-vdoing 直接替换为自己的github仓库名\n\n\ngit config --global user.email \"894072666@qq.com\"\n改\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# .gitignore\n\n\n\n\n1\n\n\n# 删除笔记部分\nmove  docs\\  temp\\\nxcopy  temp\\.vuepress docs\\.vuepress\\  /s   /y \nxcopy  docs\\'@pages'  'docs\\@pages\\' /s   /y \nxcopy  temp\\index.md docs\\  /s   /y \necho ` '# 临时文件,不上传，没用时删' temp >> .gitignore\nmd docs\\_posts\\随笔\n\n# /img/logo.png\n# docs\\.vuepress\\public\\img\\logo.png\n#.vuepress\\public\\img\n\n\ndocs\\.vuepress\\config\\htmlmodules.ts\n \n<img src=\"https://cdn.jsdelivr.net/gh/wenxuli2/jsdelivr_cdn@1.1/images/qrcode_for_gh.jpg')\"  style=\"width:100%;\" />\n关注公众号，回复[<b>前端资源</b>]，可获取 <a href=\"https://game.xugaoyi.com\" arget=\"_blank\" >\n\nrepo: 'wenxuli2/docs', // 导航栏右侧生成github链接\n\ndocs\\index.md\n\n\n33333333333333 哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇哇",charsets:{cjk:!0}},{title:"vscode的简单使用",frontmatter:{title:"vscode的简单使用",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/133a3c/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/vscode%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/vscode的简单使用.md",key:"v-c95bfe9e",path:"/pages/133a3c/",headers:[{level:3,title:"命令行",slug:"命令行",normalizedTitle:"命令行",charIndex:2},{level:3,title:"快捷键",slug:"快捷键",normalizedTitle:"快捷键",charIndex:47},{level:3,title:"vscode 插件",slug:"vscode-插件",normalizedTitle:"vscode 插件",charIndex:190},{level:3,title:"配置 settings.json",slug:"配置-settings-json",normalizedTitle:"配置 settings.json",charIndex:385},{level:3,title:"问题",slug:"问题",normalizedTitle:"问题",charIndex:2937},{level:4,title:"vscode不能在终端执行程序脚本",slug:"vscode不能在终端执行程序脚本",normalizedTitle:"vscode不能在终端执行程序脚本",charIndex:2943}],headersStr:"命令行 快捷键 vscode 插件 配置 settings.json 问题 vscode不能在终端执行程序脚本",content:'# 命令行\n\n新建文件\n$ new-item index.ts \nmkdir\ncd\n\n\n\n# 快捷键\n\n移动行：alt+up/down\n格式化代码 shift+alt+f\n自定快捷件：【文件】-【首选项】-【键盘快捷键】\n小写字母=>大写字母 : shift+alt+x\n大写字母=>小写字母 : shift+alt+y\n首字母小写=>大写 : shift+alt+u\n\n\n\n# vscode 插件\n\npx to rem\n右击-扩展设置-Px-to-rem: Px-per-rem\nNumber of pixels per 1rem.\n    可以设置当前rem与px的比例值\npx to em\n右击-扩展设置-Px To Em: Root Font Size\n    可以设置当前em与px的比例值\n\nstylus\nlanguage-stylus-plus\n\n\n\n# 配置 settings.json\n\n{\n     // vscode默认启用了根据文件类型自动设置tabsize的选项\n    "editor.detectIndentation": false,\n    // 重新设定tabsize\n    "editor.tabSize": 4,\n    // #每次保存的时候自动格式化 \n    "editor.formatOnSave": true,\n    // #每次保存的时候将代码按eslint格式进行修复\n    "eslint.autoFixOnSave": true,\n    // #去掉代码结尾的分号 \n    "prettier.semi": false,\n    // #使用带引号替代双引号 \n    "prettier.singleQuote": true,\n    // #让函数(名)和后面的括号之间加个空格\n    "javascript.format.insertSpaceBeforeFunctionParenthesis": true,\n    // #这个按用户自身习惯选择 \n    "vetur.format.defaultFormatter.html": "js-beautify-html",\n    // #让vue中的js按编辑器自带的ts格式进行格式化 \n    "vetur.format.defaultFormatter.js": "vscode-typescript",\n    "vetur.format.defaultFormatterOptions": {\n        "js-beautify-html": {\n            "wrap_line_length": 120,\n            "wrap_attributes": "auto"\n            // #vue组件中html代码格式化样式\n        }\n    },\n    // 格式化stylus, 需安装Manta\'s Stylus Supremacy插件\n    "stylusSupremacy.insertColons": false, // 是否插入冒号\n    "stylusSupremacy.insertSemicolons": false, // 是否插入分号\n    "stylusSupremacy.insertBraces": false, // 是否插入大括号\n    "stylusSupremacy.insertNewLineAroundImports": false, // import之后是否换行\n    "stylusSupremacy.insertNewLineAroundBlocks": false,\n    "explorer.confirmDelete": false, // 两个选择器中是否换行\n    "editor.codeActionsOnSave": {\n        "source.fixAll.eslint": true,\n        "source.fixAll.stylelint": true\n    },\n    "workbench.iconTheme": "vscode-icons",\n    "files.autoSave": "off",\n    "editor.suggestSelection": "first",\n    "vsintellicode.modify.editor.suggestSelection": "automaticallyOverrodeDefaultValue",\n    "diffEditor.ignoreTrimWhitespace": false,\n    "window.zoomLevel": 0,\n    "atomKeymap.promptV3Features": true,\n    "editor.multiCursorModifier": "ctrlCmd",\n    "editor.formatOnPaste": true,\n    "guides.enabled": false,\n    "eslint.format.enable": true,\n    //autoFix默认开启，只需输入字符串数组即可\n    "eslint.validate": [\n        "javascript",\n        "vue",\n        "html"\n    ],\n    "[vue]": {\n        "editor.defaultFormatter": "esbenp.prettier-vscode"\n    },\n    "editor.fontSize": 16,\n    "vetur.validation.template": false,\n    "[jsonc]": {\n        "editor.defaultFormatter": "vscode.json-language-features"\n    },\n    // 关闭eslint 语法检测\n    "eslint.enable": false\n    // "git.path": "C:\\Program Files\\Git\\cmd\\git.exe", git配置\n    // "terminal.integrated.shell.windows": "C:\\Program Files\\Git\\cmd\\git.exe",\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\n\n# 问题\n\n# vscode不能在终端执行程序脚本\n\nget-ExecutionPolicy，显示Restricted，表示状态是禁止的\nset-ExecutionPolicy RemoteSigned\n无法将“npm”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。 所在位置 行:1 字符: 1\n没有以管理员启动vscode\n[其他](https://www.cnblogs.com/sunmarvell/p/14430904.html)',normalizedContent:'# 命令行\n\n新建文件\n$ new-item index.ts \nmkdir\ncd\n\n\n\n# 快捷键\n\n移动行：alt+up/down\n格式化代码 shift+alt+f\n自定快捷件：【文件】-【首选项】-【键盘快捷键】\n小写字母=>大写字母 : shift+alt+x\n大写字母=>小写字母 : shift+alt+y\n首字母小写=>大写 : shift+alt+u\n\n\n\n# vscode 插件\n\npx to rem\n右击-扩展设置-px-to-rem: px-per-rem\nnumber of pixels per 1rem.\n    可以设置当前rem与px的比例值\npx to em\n右击-扩展设置-px to em: root font size\n    可以设置当前em与px的比例值\n\nstylus\nlanguage-stylus-plus\n\n\n\n# 配置 settings.json\n\n{\n     // vscode默认启用了根据文件类型自动设置tabsize的选项\n    "editor.detectindentation": false,\n    // 重新设定tabsize\n    "editor.tabsize": 4,\n    // #每次保存的时候自动格式化 \n    "editor.formatonsave": true,\n    // #每次保存的时候将代码按eslint格式进行修复\n    "eslint.autofixonsave": true,\n    // #去掉代码结尾的分号 \n    "prettier.semi": false,\n    // #使用带引号替代双引号 \n    "prettier.singlequote": true,\n    // #让函数(名)和后面的括号之间加个空格\n    "javascript.format.insertspacebeforefunctionparenthesis": true,\n    // #这个按用户自身习惯选择 \n    "vetur.format.defaultformatter.html": "js-beautify-html",\n    // #让vue中的js按编辑器自带的ts格式进行格式化 \n    "vetur.format.defaultformatter.js": "vscode-typescript",\n    "vetur.format.defaultformatteroptions": {\n        "js-beautify-html": {\n            "wrap_line_length": 120,\n            "wrap_attributes": "auto"\n            // #vue组件中html代码格式化样式\n        }\n    },\n    // 格式化stylus, 需安装manta\'s stylus supremacy插件\n    "stylussupremacy.insertcolons": false, // 是否插入冒号\n    "stylussupremacy.insertsemicolons": false, // 是否插入分号\n    "stylussupremacy.insertbraces": false, // 是否插入大括号\n    "stylussupremacy.insertnewlinearoundimports": false, // import之后是否换行\n    "stylussupremacy.insertnewlinearoundblocks": false,\n    "explorer.confirmdelete": false, // 两个选择器中是否换行\n    "editor.codeactionsonsave": {\n        "source.fixall.eslint": true,\n        "source.fixall.stylelint": true\n    },\n    "workbench.icontheme": "vscode-icons",\n    "files.autosave": "off",\n    "editor.suggestselection": "first",\n    "vsintellicode.modify.editor.suggestselection": "automaticallyoverrodedefaultvalue",\n    "diffeditor.ignoretrimwhitespace": false,\n    "window.zoomlevel": 0,\n    "atomkeymap.promptv3features": true,\n    "editor.multicursormodifier": "ctrlcmd",\n    "editor.formatonpaste": true,\n    "guides.enabled": false,\n    "eslint.format.enable": true,\n    //autofix默认开启，只需输入字符串数组即可\n    "eslint.validate": [\n        "javascript",\n        "vue",\n        "html"\n    ],\n    "[vue]": {\n        "editor.defaultformatter": "esbenp.prettier-vscode"\n    },\n    "editor.fontsize": 16,\n    "vetur.validation.template": false,\n    "[jsonc]": {\n        "editor.defaultformatter": "vscode.json-language-features"\n    },\n    // 关闭eslint 语法检测\n    "eslint.enable": false\n    // "git.path": "c:\\program files\\git\\cmd\\git.exe", git配置\n    // "terminal.integrated.shell.windows": "c:\\program files\\git\\cmd\\git.exe",\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\n\n# 问题\n\n# vscode不能在终端执行程序脚本\n\nget-executionpolicy，显示restricted，表示状态是禁止的\nset-executionpolicy remotesigned\n无法将“npm”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。 所在位置 行:1 字符: 1\n没有以管理员启动vscode\n[其他](https://www.cnblogs.com/sunmarvell/p/14430904.html)',charsets:{cjk:!0}},{title:"vue的基本使用",frontmatter:{title:"vue的基本使用",date:"2022-03-31T10:57:22.000Z",permalink:"/pages/ab483b/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/vue%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/vue的基本使用.md",key:"v-5248a0d6",path:"/pages/ab483b/",headers:[{level:3,title:"遇到的问题",slug:"遇到的问题",normalizedTitle:"遇到的问题",charIndex:64}],headersStr:"遇到的问题",content:"基本命令\n\nnpm i -g vue-cli\nnpm i -g @vue/cli\nvue ui\n\n\n\n1\n2\n3\n4\n\n\n\n# 遇到的问题\n\n1.vue run build 错误 CssSyntaxError错误\n\n原因：css文件中使用了//注释\nwebpack.prod.conf.js下注释掉以下代码\n\t// const OptimizeCSSPlugin = require('optimize-css-assets-webpack-plugin')\n    // new OptimizeCSSPlugin({\n    //   cssProcessorOptions: config.build.productionSourceMap\n    //   ? { safe: true, map: { inline: false } }\n    //   : { safe: true }\n    // }),\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n2.'vue' 不是内部或外部命令，也不是可运行的程序\n\nnpm i -g vue-cli\n\n\n1\n\n\n3.path C:\\Users\\Administrator\\AppData\\Roaming\\npm\\vue.ps1\n\nsetx \"path\" \"C:\\Users\\Administrator\\AppData\\Roaming\\npm;%path%\" /m\n\n\n1\n\n\n4.解决：'vue-cli-service' 不是内部或外部命令，也不是可运行的程序 或批处理文件",normalizedContent:"基本命令\n\nnpm i -g vue-cli\nnpm i -g @vue/cli\nvue ui\n\n\n\n1\n2\n3\n4\n\n\n\n# 遇到的问题\n\n1.vue run build 错误 csssyntaxerror错误\n\n原因：css文件中使用了//注释\nwebpack.prod.conf.js下注释掉以下代码\n\t// const optimizecssplugin = require('optimize-css-assets-webpack-plugin')\n    // new optimizecssplugin({\n    //   cssprocessoroptions: config.build.productionsourcemap\n    //   ? { safe: true, map: { inline: false } }\n    //   : { safe: true }\n    // }),\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n2.'vue' 不是内部或外部命令，也不是可运行的程序\n\nnpm i -g vue-cli\n\n\n1\n\n\n3.path c:\\users\\administrator\\appdata\\roaming\\npm\\vue.ps1\n\nsetx \"path\" \"c:\\users\\administrator\\appdata\\roaming\\npm;%path%\" /m\n\n\n1\n\n\n4.解决：'vue-cli-service' 不是内部或外部命令，也不是可运行的程序 或批处理文件",charsets:{cjk:!0}},{title:"《Electron超详细实战开发教程》笔记",frontmatter:{title:"《Electron超详细实战开发教程》笔记",date:"2022-04-11T08:13:34.000Z",permalink:"/pages/e34db6/",sidebar:"auto",categories:["随笔"],tags:["笔记"]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E3%80%8AElectron%E8%B6%85%E8%AF%A6%E7%BB%86%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B%E3%80%8B%E7%AC%94%E8%AE%B0.html",relativePath:"_posts/随笔/《Electron超详细实战开发教程》笔记.md",key:"v-5e560f2e",path:"/pages/e34db6/",headers:[{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:2},{level:2,title:"1.最新Electron课程介绍",slug:"_1-最新electron课程介绍",normalizedTitle:"1.最新electron课程介绍",charIndex:70},{level:2,title:"2.electron介绍与第一个应用",slug:"_2-electron介绍与第一个应用",normalizedTitle:"2.electron介绍与第一个应用",charIndex:91},{level:3,title:"目录结构",slug:"目录结构",normalizedTitle:"目录结构",charIndex:285},{level:2,title:"3.使用yarn快速创建electron项目",slug:"_3-使用yarn快速创建electron项目",normalizedTitle:"3.使用yarn快速创建electron项目",charIndex:678},{level:3,title:"main.js 添加webPreferences配置,使浏览器的js可以支持node接口",slug:"main-js-添加webpreferences配置-使浏览器的js可以支持node接口",normalizedTitle:"main.js 添加webpreferences配置,使浏览器的js可以支持node接口",charIndex:806},{level:3,title:"index.html",slug:"index-html",normalizedTitle:"index.html",charIndex:403},{level:2,title:"4.渲染进程的node环境调用",slug:"_4-渲染进程的node环境调用",normalizedTitle:"4.渲染进程的node环境调用",charIndex:1586},{level:2,title:"5.实现拖动文件渲染在页面中",slug:"_5-实现拖动文件渲染在页面中",normalizedTitle:"5.实现拖动文件渲染在页面中",charIndex:1606},{level:2,title:"6.webview的操控和使用",slug:"_6-webview的操控和使用",normalizedTitle:"6.webview的操控和使用",charIndex:1625},{level:2,title:"7.主进程和渲染进程的通讯",slug:"_7-主进程和渲染进程的通讯",normalizedTitle:"7.主进程和渲染进程的通讯",charIndex:1645},{level:2,title:"8.dialog窗口的配置",slug:"_8-dialog窗口的配置",normalizedTitle:"8.dialog窗口的配置",charIndex:1663},{level:2,title:"9.原生自带网络请求的库",slug:"_9-原生自带网络请求的库",normalizedTitle:"9.原生自带网络请求的库",charIndex:1681},{level:2,title:"10.electron-vue的环境搭建",slug:"_10-electron-vue的环境搭建",normalizedTitle:"10.electron-vue的环境搭建",charIndex:1698},{level:2,title:"11.项目的基本结构和使用",slug:"_11-项目的基本结构和使用",normalizedTitle:"11.项目的基本结构和使用",charIndex:1723},{level:2,title:"12.electron使用AntdUI组件",slug:"_12-electron使用antdui组件",normalizedTitle:"12.electron使用antdui组件",charIndex:1741},{level:2,title:"13.实现查找书籍功能",slug:"_13-实现查找书籍功能",normalizedTitle:"13.实现查找书籍功能",charIndex:1767},{level:2,title:"14.解决rowKey报错和获取下载链接地址",slug:"_14-解决rowkey报错和获取下载链接地址",normalizedTitle:"14.解决rowkey报错和获取下载链接地址",charIndex:1783},{level:2,title:"15.修改Axios实现后端请求",slug:"_15-修改axios实现后端请求",normalizedTitle:"15.修改axios实现后端请求",charIndex:1810},{level:2,title:"16.优化页面和功能",slug:"_16-优化页面和功能",normalizedTitle:"16.优化页面和功能",charIndex:1831},{level:2,title:"17.创建books页面和路由",slug:"_17-创建books页面和路由",normalizedTitle:"17.创建books页面和路由",charIndex:1846},{level:2,title:"18.解析EPUB文件",slug:"_18-解析epub文件",normalizedTitle:"18.解析epub文件",charIndex:1866},{level:2,title:"19.根据磁盘电子书生成书库列表",slug:"_19-根据磁盘电子书生成书库列表",normalizedTitle:"19.根据磁盘电子书生成书库列表",charIndex:1882},{level:2,title:"20.通过路由传参将书籍内容传递过去",slug:"_20-通过路由传参将书籍内容传递过去",normalizedTitle:"20.通过路由传参将书籍内容传递过去",charIndex:1903},{level:2,title:"21.最新Electron课程介绍",slug:"_21-最新electron课程介绍",normalizedTitle:"21.最新electron课程介绍",charIndex:1926},{level:2,title:"21.电子生成书章节列表",slug:"_21-电子生成书章节列表",normalizedTitle:"21.电子生成书章节列表",charIndex:1948},{level:2,title:"22.electron介绍与第一个应用",slug:"_22-electron介绍与第一个应用",normalizedTitle:"22.electron介绍与第一个应用",charIndex:1965},{level:2,title:"22.获取图片解析到书籍里",slug:"_22-获取图片解析到书籍里",normalizedTitle:"22.获取图片解析到书籍里",charIndex:1989},{level:2,title:"23.使用yarn快速创建electron项目",slug:"_23-使用yarn快速创建electron项目",normalizedTitle:"23.使用yarn快速创建electron项目",charIndex:2007},{level:2,title:"23.解析epub的css内容渲染到书籍里",slug:"_23-解析epub的css内容渲染到书籍里",normalizedTitle:"23.解析epub的css内容渲染到书籍里",charIndex:2035},{level:2,title:"24.修改中文不能搜索bug和打包成软件",slug:"_24-修改中文不能搜索bug和打包成软件",normalizedTitle:"24.修改中文不能搜索bug和打包成软件",charIndex:2061},{level:2,title:"24.渲染进程的node环境调用",slug:"_24-渲染进程的node环境调用",normalizedTitle:"24.渲染进程的node环境调用",charIndex:2086},{level:2,title:"遇到的问题",slug:"遇到的问题",normalizedTitle:"遇到的问题",charIndex:2107},{level:3,title:"1.Uncaught ReferenceError: require is not defined",slug:"_1-uncaught-referenceerror-require-is-not-defined",normalizedTitle:"1.uncaught referenceerror: require is not defined",charIndex:2117},{level:3,title:"2.Electron Security Warning (Insecure Content-Security-Policy)",slug:"_2-electron-security-warning-insecure-content-security-policy",normalizedTitle:"2.electron security warning (insecure content-security-policy)",charIndex:2484},{level:4,title:"3.高版本 require(electron).remote.BrowserWindow 报错 undefined，是因为从V14开始移除了remote，要使用的话需用通过npm引入",slug:"_3-高版本-require-electron-remote-browserwindow-报错-undefined-是因为从v14开始移除了remote-要使用的话需用通过npm引入",normalizedTitle:"3.高版本 require(electron).remote.browserwindow 报错 undefined，是因为从v14开始移除了remote，要使用的话需用通过npm引入",charIndex:2900}],headersStr:"参考 1.最新Electron课程介绍 2.electron介绍与第一个应用 目录结构 3.使用yarn快速创建electron项目 main.js 添加webPreferences配置,使浏览器的js可以支持node接口 index.html 4.渲染进程的node环境调用 5.实现拖动文件渲染在页面中 6.webview的操控和使用 7.主进程和渲染进程的通讯 8.dialog窗口的配置 9.原生自带网络请求的库 10.electron-vue的环境搭建 11.项目的基本结构和使用 12.electron使用AntdUI组件 13.实现查找书籍功能 14.解决rowKey报错和获取下载链接地址 15.修改Axios实现后端请求 16.优化页面和功能 17.创建books页面和路由 18.解析EPUB文件 19.根据磁盘电子书生成书库列表 20.通过路由传参将书籍内容传递过去 21.最新Electron课程介绍 21.电子生成书章节列表 22.electron介绍与第一个应用 22.获取图片解析到书籍里 23.使用yarn快速创建electron项目 23.解析epub的css内容渲染到书籍里 24.修改中文不能搜索bug和打包成软件 24.渲染进程的node环境调用 遇到的问题 1.Uncaught ReferenceError: require is not defined 2.Electron Security Warning (Insecure Content-Security-Policy) 3.高版本 require(electron).remote.BrowserWindow 报错 undefined，是因为从V14开始移除了remote，要使用的话需用通过npm引入",content:"# 参考\n\nelectron-官网\n\nelectron-github\n\nelectron-中文文档\n\n《Electron官方指南》\n\n\n# 1.最新Electron课程介绍\n\n\n# 2.electron介绍与第一个应用\n\ngit clone https://github.com/electron/electron-quick-start.git\ncd electron-quick-start\ncode .\ntree  /f . > dir_tree.md #Powershell环境下执行就不会中文乱码了\nyarn install\n\n\n1\n2\n3\n4\n5\n\n\n\n# 目录结构\n\n│  ELECTRON-QUICK-START\n    │  .gitignore\n    │  directoryList.md\n    │  dir_tree.md\n    │  dir_tree.txt\n    │  index.html         # 第一个页面\n    │  LICENSE.md\n    │  main.js\n    │  package-lock.json\n    │  package.json\n    │  preload.js\n    │  README.md\n    │  renderer.js\n    │  styles.css\n    │  \n    └─.github\n            dependabot.yml\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 3.使用yarn快速创建electron项目\n\nelectronforge\n\nyarn create electron-app my-app\ncd my-app\nyarn start\nyarn make # 编译为exe文件\n\n\n1\n2\n3\n4\n\n\n\n# main.js 添加webPreferences配置,使浏览器的js可以支持node接口\n\napp.on('ready',()=>{\n    mainWindow = new BrowserWindow({\n        webPreferences: {\n            // 开启node\n            nodeIntegration: true,\n            contextIsolation: false,\n            // 开启remote\n            // enableRemoteModule:true\n        }\n    }) // 设置打开窗口大小\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# index.html\n\n<button class=\"btn\">写入内容</button>\n\n\n1\n\n\nsrc\\js\\render.js\n\nconst fs = require('fs');\nconsole.log(fs)\n\nlet btn = document.querySelector('.btn')\nlet i = 0;\n\nconsole.log(btn)\nbtn.onclick = function () {\n    i++;\n    fs.writeFile(`input${i}.txt`, '内容', (err) => {\n        if (err) {\n            console.log(err)\n        } else {\n            console.log('写入成功')\n        }\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 4.渲染进程的node环境调用\n\n\n# 5.实现拖动文件渲染在页面中\n\n\n# 6.webview的操控和使用\n\n\n# 7.主进程和渲染进程的通讯\n\n\n# 8.dialog窗口的配置\n\n\n# 9.原生自带网络请求的库\n\n\n# 10.electron-vue的环境搭建\n\n\n# 11.项目的基本结构和使用\n\n\n# 12.electron使用AntdUI组件\n\n\n# 13.实现查找书籍功能\n\n\n# 14.解决rowKey报错和获取下载链接地址\n\n\n# 15.修改Axios实现后端请求\n\n\n# 16.优化页面和功能\n\n\n# 17.创建books页面和路由\n\n\n# 18.解析EPUB文件\n\n\n# 19.根据磁盘电子书生成书库列表\n\n\n# 20.通过路由传参将书籍内容传递过去\n\n\n# 21.最新Electron课程介绍\n\n\n# 21.电子生成书章节列表\n\n\n# 22.electron介绍与第一个应用\n\n\n# 22.获取图片解析到书籍里\n\n\n# 23.使用yarn快速创建electron项目\n\n\n# 23.解析epub的css内容渲染到书籍里\n\n\n# 24.修改中文不能搜索bug和打包成软件\n\n\n# 24.渲染进程的node环境调用\n\n\n# 遇到的问题\n\n\n# 1.Uncaught ReferenceError: require is not defined\n\nmainWindow = new BrowserWindow({\n        width:400,\n        height:400,\n        // webPreferences:{ nodeIntegration: true}\n        // webPreferences:{ nodeIntegration:true}\n        webPreferences: {\n            nodeIntegration: true,\n            contextIsolation: false,\n        }\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 2.Electron Security Warning (Insecure Content-Security-Policy)\n\n// 是安全策略的设置告警，意思是内容安全策略没有设置，或者使用了[unsafe](https://so.csdn.net/so/search?q=unsafe&spm=1001.2101.3001.7020)-eval的安全设置。如果想要不出现上述告警，有两种方式。\n// 方式一：index.html文件里设置安全策略\n<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self' 'unsafe-inline';\">\n// 方式二：main.js文件里屏蔽安全告警\nprocess.env['ELECTRON_DISABLE_SECURITY_WARNINGS'] = 'true';\n\n\n1\n2\n3\n4\n5\n\n\n# 3.高版本 require(electron).remote.BrowserWindow 报错 undefined，是因为从V14开始移除了remote，要使用的话需用通过npm引入\n\n// 1、通过 npm 方式引入 remote\nnpm install --save @electron/remote\n// 2、在主进程 mian.js 中添加引用代码\nrequire(\"@electron/remote/main\").initialize();\nrequire(\"@electron/remote/main\").enable(mainWindow.webContents);\n// 3、在渲染进程中引用\nconst { BrowserWindow } = require(\"@electron/remote\");\n\n\n1\n2\n3\n4\n5\n6\n7\n",normalizedContent:"# 参考\n\nelectron-官网\n\nelectron-github\n\nelectron-中文文档\n\n《electron官方指南》\n\n\n# 1.最新electron课程介绍\n\n\n# 2.electron介绍与第一个应用\n\ngit clone https://github.com/electron/electron-quick-start.git\ncd electron-quick-start\ncode .\ntree  /f . > dir_tree.md #powershell环境下执行就不会中文乱码了\nyarn install\n\n\n1\n2\n3\n4\n5\n\n\n\n# 目录结构\n\n│  electron-quick-start\n    │  .gitignore\n    │  directorylist.md\n    │  dir_tree.md\n    │  dir_tree.txt\n    │  index.html         # 第一个页面\n    │  license.md\n    │  main.js\n    │  package-lock.json\n    │  package.json\n    │  preload.js\n    │  readme.md\n    │  renderer.js\n    │  styles.css\n    │  \n    └─.github\n            dependabot.yml\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 3.使用yarn快速创建electron项目\n\nelectronforge\n\nyarn create electron-app my-app\ncd my-app\nyarn start\nyarn make # 编译为exe文件\n\n\n1\n2\n3\n4\n\n\n\n# main.js 添加webpreferences配置,使浏览器的js可以支持node接口\n\napp.on('ready',()=>{\n    mainwindow = new browserwindow({\n        webpreferences: {\n            // 开启node\n            nodeintegration: true,\n            contextisolation: false,\n            // 开启remote\n            // enableremotemodule:true\n        }\n    }) // 设置打开窗口大小\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# index.html\n\n<button class=\"btn\">写入内容</button>\n\n\n1\n\n\nsrc\\js\\render.js\n\nconst fs = require('fs');\nconsole.log(fs)\n\nlet btn = document.queryselector('.btn')\nlet i = 0;\n\nconsole.log(btn)\nbtn.onclick = function () {\n    i++;\n    fs.writefile(`input${i}.txt`, '内容', (err) => {\n        if (err) {\n            console.log(err)\n        } else {\n            console.log('写入成功')\n        }\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 4.渲染进程的node环境调用\n\n\n# 5.实现拖动文件渲染在页面中\n\n\n# 6.webview的操控和使用\n\n\n# 7.主进程和渲染进程的通讯\n\n\n# 8.dialog窗口的配置\n\n\n# 9.原生自带网络请求的库\n\n\n# 10.electron-vue的环境搭建\n\n\n# 11.项目的基本结构和使用\n\n\n# 12.electron使用antdui组件\n\n\n# 13.实现查找书籍功能\n\n\n# 14.解决rowkey报错和获取下载链接地址\n\n\n# 15.修改axios实现后端请求\n\n\n# 16.优化页面和功能\n\n\n# 17.创建books页面和路由\n\n\n# 18.解析epub文件\n\n\n# 19.根据磁盘电子书生成书库列表\n\n\n# 20.通过路由传参将书籍内容传递过去\n\n\n# 21.最新electron课程介绍\n\n\n# 21.电子生成书章节列表\n\n\n# 22.electron介绍与第一个应用\n\n\n# 22.获取图片解析到书籍里\n\n\n# 23.使用yarn快速创建electron项目\n\n\n# 23.解析epub的css内容渲染到书籍里\n\n\n# 24.修改中文不能搜索bug和打包成软件\n\n\n# 24.渲染进程的node环境调用\n\n\n# 遇到的问题\n\n\n# 1.uncaught referenceerror: require is not defined\n\nmainwindow = new browserwindow({\n        width:400,\n        height:400,\n        // webpreferences:{ nodeintegration: true}\n        // webpreferences:{ nodeintegration:true}\n        webpreferences: {\n            nodeintegration: true,\n            contextisolation: false,\n        }\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 2.electron security warning (insecure content-security-policy)\n\n// 是安全策略的设置告警，意思是内容安全策略没有设置，或者使用了[unsafe](https://so.csdn.net/so/search?q=unsafe&spm=1001.2101.3001.7020)-eval的安全设置。如果想要不出现上述告警，有两种方式。\n// 方式一：index.html文件里设置安全策略\n<meta http-equiv=\"content-security-policy\" content=\"default-src 'self' 'unsafe-inline';\">\n// 方式二：main.js文件里屏蔽安全告警\nprocess.env['electron_disable_security_warnings'] = 'true';\n\n\n1\n2\n3\n4\n5\n\n\n# 3.高版本 require(electron).remote.browserwindow 报错 undefined，是因为从v14开始移除了remote，要使用的话需用通过npm引入\n\n// 1、通过 npm 方式引入 remote\nnpm install --save @electron/remote\n// 2、在主进程 mian.js 中添加引用代码\nrequire(\"@electron/remote/main\").initialize();\nrequire(\"@electron/remote/main\").enable(mainwindow.webcontents);\n// 3、在渲染进程中引用\nconst { browserwindow } = require(\"@electron/remote\");\n\n\n1\n2\n3\n4\n5\n6\n7\n",charsets:{cjk:!0}},{title:"初始化项目",frontmatter:{title:"初始化项目",date:"2022-03-07T09:20:19.000Z",permalink:"/pages/0ff065/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE.html",relativePath:"_posts/随笔/初始化项目.md",key:"v-33c4dd84",path:"/pages/0ff065/",headers:[{level:3,title:"初始化webpack",slug:"初始化webpack",normalizedTitle:"初始化webpack",charIndex:2},{level:3,title:"Bootstarp按需加载",slug:"bootstarp按需加载",normalizedTitle:"bootstarp按需加载",charIndex:1066},{level:3,title:"初始化babel",slug:"初始化babel",normalizedTitle:"初始化babel",charIndex:1336}],headersStr:"初始化webpack Bootstarp按需加载 初始化babel",content:'# 初始化webpack\n\nmkdir webpack-demo\ncd webpack-demo\nnpm init -y\nnpm i webpack webpack-cli -D\n\n新建目录及文件 \n        mkdir src,dist,"src/css","src/styles","src/js","src/images"\n        new-item READMD.md,webpack.config.js,"./src/index.html","./src/main.js","./src/styles/index.stylus"\n\n在package.json配置\n    "scripts": {\n        "dev": "webpack --config webpack.config.js --mode development",\n        "build": "webpack --config webpack.config.js --mode production"\n     },\n\nwebpack.config配置\n    module.exports = {\n        entry:\'./src/main.js\',\n        output:{\n            filename:\'main.js\',\n            path: path.resolve(__dirname,"dist")\n        }\n\n    }\n导入loader\n    导入css\n        npm i style-loader css-loader -D\n    导入sass\n       npm i sass sass-loader\n    导入less\n      npm install less less-loader --save-dev\n      npm install --save-dev postcss-loader postcss\n    导入stylus\n      npm i stylus stylus-loader -D\n      npm install --save-dev style-loader\n\n导入plugin\n    npm i html-webpack-plugin clean-webpack-plugin mini-css-extract-plugin -D\n打包编译\n    npm run build\n\n\n\n# Bootstarp按需加载\n\nnpm i jquery bootstrap popper.js -save\nnew-item src/styles/index.scss\nnew-item src/styles/main.scss\n配置main.scss\n    @import \'bootstrap/scss/_functions\';\n    @import \'bootstrap/scss/_variables\';\n    @import \'bootstrap/scss/_mixins\';\n    //其它的就可以按需引入了\n\n\n\n# 初始化babel\n\nnpm i babel-cli -g\nmkdir my-babel\ncd my-babel\nnpm init -y\nnpm i babel-cli babel-preset-es2015 -D\nnew-item .babelrc\n.babelrc配置\n    {\n    "presets":["es2015"],\n    "plugins":[]\n    }\n    {\n\n\nbabel src --out-dir dist\n    \x3c!-- 参数 --\x3e\n    --watch',normalizedContent:'# 初始化webpack\n\nmkdir webpack-demo\ncd webpack-demo\nnpm init -y\nnpm i webpack webpack-cli -d\n\n新建目录及文件 \n        mkdir src,dist,"src/css","src/styles","src/js","src/images"\n        new-item readmd.md,webpack.config.js,"./src/index.html","./src/main.js","./src/styles/index.stylus"\n\n在package.json配置\n    "scripts": {\n        "dev": "webpack --config webpack.config.js --mode development",\n        "build": "webpack --config webpack.config.js --mode production"\n     },\n\nwebpack.config配置\n    module.exports = {\n        entry:\'./src/main.js\',\n        output:{\n            filename:\'main.js\',\n            path: path.resolve(__dirname,"dist")\n        }\n\n    }\n导入loader\n    导入css\n        npm i style-loader css-loader -d\n    导入sass\n       npm i sass sass-loader\n    导入less\n      npm install less less-loader --save-dev\n      npm install --save-dev postcss-loader postcss\n    导入stylus\n      npm i stylus stylus-loader -d\n      npm install --save-dev style-loader\n\n导入plugin\n    npm i html-webpack-plugin clean-webpack-plugin mini-css-extract-plugin -d\n打包编译\n    npm run build\n\n\n\n# bootstarp按需加载\n\nnpm i jquery bootstrap popper.js -save\nnew-item src/styles/index.scss\nnew-item src/styles/main.scss\n配置main.scss\n    @import \'bootstrap/scss/_functions\';\n    @import \'bootstrap/scss/_variables\';\n    @import \'bootstrap/scss/_mixins\';\n    //其它的就可以按需引入了\n\n\n\n# 初始化babel\n\nnpm i babel-cli -g\nmkdir my-babel\ncd my-babel\nnpm init -y\nnpm i babel-cli babel-preset-es2015 -d\nnew-item .babelrc\n.babelrc配置\n    {\n    "presets":["es2015"],\n    "plugins":[]\n    }\n    {\n\n\nbabel src --out-dir dist\n    \x3c!-- 参数 --\x3e\n    --watch',charsets:{cjk:!0}},{title:"小米手环导出数据",frontmatter:{title:"小米手环导出数据",date:"2022-04-03T08:34:57.000Z",permalink:"/pages/17a29b/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E5%B0%8F%E7%B1%B3%E6%89%8B%E7%8E%AF%E5%AF%BC%E5%87%BA%E6%95%B0%E6%8D%AE.html",relativePath:"_posts/随笔/小米手环导出数据.md",key:"v-b8f23556",path:"/pages/17a29b/",headers:[{level:3,title:"小米手环导出数据",slug:"小米手环导出数据",normalizedTitle:"小米手环导出数据",charIndex:2}],headersStr:"小米手环导出数据",content:"# 小米手环导出数据\n\nZepp Life\n\n导出下载数据包\n\n请选择 需要导出的数据类型\n\n * 个人数据 身高、体重、年龄、性别、头像、出生年月、昵称\n\n * 活动 活动时间、步数、距离、卡路里消耗\n\n * 睡眠\n   \n   日期、深睡时长、浅睡时长、清醒时长、入睡时间、起床时间\n\n * 心率 测量时间，心率\n\n * 体脂 测量时间、体重、BMI、体脂、肌肉、水分、基础代谢、内脏脂肪、骨量\n\n * 运动 运动类型、时间、时长、里程、最大速度、最小速度、平均速度、卡路里消耗\n\n> USER\n\nUSERID     GENDER   HEIGHT   WEIGHT   NICKNAME   AVATAR   BIRTHDAY\n1.09E+09   1        170      60       温绪理                 Jul-96\n\n> ACTIVITY\n\nDATE       STEPS   DISTANCE   RUNDISTANCE   CALORIES\n2022/4/2   1453    960        85            44\n2022/4/3   22      14         6             1\n\n> ACTIVITY_MINUTE\n\nDATE       TIME   STEPS\n2022/4/2   0:01   62\n\n> ACTIVITY_STAGE\n\nDATE       START   STOP    DISTANCE   CALORIES   STEPS\n2022/4/2   17:11   17:18   139        5          217\n2022/4/2   17:45   17:50   264        13         402\n2022/4/2   20:54   20:59   135        7          204\n\n> SLEEP\n\nDATE       DEEPSLEEPTIME   SHALLOWSLEEPTIME   WAKETIME   START                      STOP\n2022/4/2   65              180                0          2022-04-01 17:31:00+0000   2022-04-01 22:10:00+0000\n2022/4/3   54              294                1          2022-04-02 17:34:00+0000   2022-04-03 00:06:00+0000\n\n> BODY\n\nTIME   WEIGHT   HEIGHT   BMI   FATRATE   BODYWATERRATE   BONEMASS   METABOLISM   MUSCLERATE   VISCERALFAT\n                                                                                              \n\n> HEARTRATE\n\nTIME   HEARTRATE\n       \n\n> HEARTRATE_AUTO\n\nDATE       TIME   HEARTRATE\n2022/4/2   1:14   76\n2022/4/2   1:15   72\n\n> SPORT\n\nTYPE   STARTTIME   SPORTTIME(S)   MAXPACE(/METER)   MINPACE(/METER)   DISTANCE(M)   AVGPACE(/METER)   CALORIES(KCAL)\n                                                                                                      ",normalizedContent:"# 小米手环导出数据\n\nzepp life\n\n导出下载数据包\n\n请选择 需要导出的数据类型\n\n * 个人数据 身高、体重、年龄、性别、头像、出生年月、昵称\n\n * 活动 活动时间、步数、距离、卡路里消耗\n\n * 睡眠\n   \n   日期、深睡时长、浅睡时长、清醒时长、入睡时间、起床时间\n\n * 心率 测量时间，心率\n\n * 体脂 测量时间、体重、bmi、体脂、肌肉、水分、基础代谢、内脏脂肪、骨量\n\n * 运动 运动类型、时间、时长、里程、最大速度、最小速度、平均速度、卡路里消耗\n\n> user\n\nuserid     gender   height   weight   nickname   avatar   birthday\n1.09e+09   1        170      60       温绪理                 jul-96\n\n> activity\n\ndate       steps   distance   rundistance   calories\n2022/4/2   1453    960        85            44\n2022/4/3   22      14         6             1\n\n> activity_minute\n\ndate       time   steps\n2022/4/2   0:01   62\n\n> activity_stage\n\ndate       start   stop    distance   calories   steps\n2022/4/2   17:11   17:18   139        5          217\n2022/4/2   17:45   17:50   264        13         402\n2022/4/2   20:54   20:59   135        7          204\n\n> sleep\n\ndate       deepsleeptime   shallowsleeptime   waketime   start                      stop\n2022/4/2   65              180                0          2022-04-01 17:31:00+0000   2022-04-01 22:10:00+0000\n2022/4/3   54              294                1          2022-04-02 17:34:00+0000   2022-04-03 00:06:00+0000\n\n> body\n\ntime   weight   height   bmi   fatrate   bodywaterrate   bonemass   metabolism   musclerate   visceralfat\n                                                                                              \n\n> heartrate\n\ntime   heartrate\n       \n\n> heartrate_auto\n\ndate       time   heartrate\n2022/4/2   1:14   76\n2022/4/2   1:15   72\n\n> sport\n\ntype   starttime   sporttime(s)   maxpace(/meter)   minpace(/meter)   distance(m)   avgpace(/meter)   calories(kcal)\n                                                                                                      ",charsets:{cjk:!0}},{title:"微信小程序的基本使用",frontmatter:{title:"微信小程序的基本使用",date:"2022-04-09T01:12:38.000Z",tags:[],author:"lixuwen",permalink:"/pages/894877/",sidebar:"auto",categories:["随笔"]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"_posts/随笔/微信小程序的基本使用.md",key:"v-faa1b6a4",path:"/pages/894877/",headers:[{level:3,title:"小程序",slug:"小程序",normalizedTitle:"小程序",charIndex:52},{level:3,title:"微信官方文档",slug:"微信官方文档",normalizedTitle:"微信官方文档",charIndex:113},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:124}],headersStr:"小程序 微信官方文档 参考",content:"[TOC]\n\n----------------------------------------\n\n\n# 小程序\n\n[设置]-[帐号信息]-[AppID(小程序ID)]: wx0db544f1290b4e7e\n\n\n1\n\n\n\n# 微信官方文档\n\n\n# 参考",normalizedContent:"[toc]\n\n----------------------------------------\n\n\n# 小程序\n\n[设置]-[帐号信息]-[appid(小程序id)]: wx0db544f1290b4e7e\n\n\n1\n\n\n\n# 微信官方文档\n\n\n# 参考",charsets:{cjk:!0}},{title:"搭建个人服务器",frontmatter:{title:"搭建个人服务器",date:"2022-03-21T14:10:08.000Z",permalink:"/pages/2830b1/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8.html",relativePath:"_posts/随笔/搭建个人服务器.md",key:"v-297782c8",path:"/pages/2830b1/",headers:[{level:3,title:"概述",slug:"概述",normalizedTitle:"概述",charIndex:2},{level:3,title:"suggest",slug:"suggest",normalizedTitle:"suggest",charIndex:879},{level:3,title:"那些年遭遇的坑",slug:"那些年遭遇的坑",normalizedTitle:"那些年遭遇的坑",charIndex:1287},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:1584}],headersStr:"概述 suggest 那些年遭遇的坑 参考",content:"# 概述\n\n感觉hexo挺好玩的，但是我还是想要弄一个网站玩玩，记录一下搭建过程的血与泪。\n代表是云服务linux下的操作，PS: 代表是在本机powershell环境下的操作\n一.在云服务器上搭建git的服务器，具体见Git 服务器搭建\n二.下载安装ngnix，配置ngnix.conf\n三.新建项目，联系本机与服务器\n\n\n以下#的内容都是在su git的用户下进行 # git init --bare /home/git/home-page.git # chown git:git -R /home/www/home-page # cd /home/git/home-page.git/hooks/ # vim post-receive # 配置post-receive\n\nsu git\nmkdir /home/www/website-server\nchown git:git -R /home/www/website-server\ngit init --bare /home/git/website-server.git\ncd /home/git/website-server.git/hooks/\nvim post-receive\n# 配置post-receive\n!/bin/sh\ngit --work-tree=/home/www/website-server --git-dir=/home/git/website-server.git checkout -f\nchmod +x /home/git/website-server.git/hooks/post-receive\n\n\n改一下nginx.conf配置的root\n\n\nvi /etc/nginx/nginx.conf\n\n\n1\n2\n\n\n> PS:\n\ncd H:\ncd home-page\ngit clone git@180.76.152.38:/home/git/home-page.git\nNew-Item src/index.html\ngit add .\ngit push\n\n\n\n# suggest\n\n搜索引擎智能提示API接口地址 各大搜索引擎下拉词API接口地址 百度 https://www.baidu.com/su?&wd=搜索词 google http://clients1.google.com/complete/search?hl=zh&output=toolbar&q=关键词 http://suggestqueries.google.com/complete/search?client=youtube&q=关键词&jsonp=window.google.ac.h https://suggestqueries.google.com/complete/search?output=toolbar&hl=zh&q=word\n搜狗(sogou)\nApi地址：http://w.sugg.sogou.com/sugg/ajaj_json.jsp?key=设计&type=web\n\n\n\n# 那些年遭遇的坑\n\n1.error: failed to push some refs to '180.76.152.38:/home/git/website.git' git init --bare /home/git/home-page.git 一个新的裸库，但是最后push，死活push不上去 原因：请在su git，在git用户操作，不要再root用户下进行，又是linux该死的权限问题 2.网站资源都发生变化，但是网页还是没有变 Chrome 浏览器，按 Ctrl + Shift + R ，进行硬刷新（hard-refresh），可清空当前网页的缓存，重新打开当前页面\n\n\n\n# 参考\n\nJS获取transform rotate旋转角度的度数，matrix解析",normalizedContent:"# 概述\n\n感觉hexo挺好玩的，但是我还是想要弄一个网站玩玩，记录一下搭建过程的血与泪。\n代表是云服务linux下的操作，ps: 代表是在本机powershell环境下的操作\n一.在云服务器上搭建git的服务器，具体见git 服务器搭建\n二.下载安装ngnix，配置ngnix.conf\n三.新建项目，联系本机与服务器\n\n\n以下#的内容都是在su git的用户下进行 # git init --bare /home/git/home-page.git # chown git:git -r /home/www/home-page # cd /home/git/home-page.git/hooks/ # vim post-receive # 配置post-receive\n\nsu git\nmkdir /home/www/website-server\nchown git:git -r /home/www/website-server\ngit init --bare /home/git/website-server.git\ncd /home/git/website-server.git/hooks/\nvim post-receive\n# 配置post-receive\n!/bin/sh\ngit --work-tree=/home/www/website-server --git-dir=/home/git/website-server.git checkout -f\nchmod +x /home/git/website-server.git/hooks/post-receive\n\n\n改一下nginx.conf配置的root\n\n\nvi /etc/nginx/nginx.conf\n\n\n1\n2\n\n\n> ps:\n\ncd h:\ncd home-page\ngit clone git@180.76.152.38:/home/git/home-page.git\nnew-item src/index.html\ngit add .\ngit push\n\n\n\n# suggest\n\n搜索引擎智能提示api接口地址 各大搜索引擎下拉词api接口地址 百度 https://www.baidu.com/su?&wd=搜索词 google http://clients1.google.com/complete/search?hl=zh&output=toolbar&q=关键词 http://suggestqueries.google.com/complete/search?client=youtube&q=关键词&jsonp=window.google.ac.h https://suggestqueries.google.com/complete/search?output=toolbar&hl=zh&q=word\n搜狗(sogou)\napi地址：http://w.sugg.sogou.com/sugg/ajaj_json.jsp?key=设计&type=web\n\n\n\n# 那些年遭遇的坑\n\n1.error: failed to push some refs to '180.76.152.38:/home/git/website.git' git init --bare /home/git/home-page.git 一个新的裸库，但是最后push，死活push不上去 原因：请在su git，在git用户操作，不要再root用户下进行，又是linux该死的权限问题 2.网站资源都发生变化，但是网页还是没有变 chrome 浏览器，按 ctrl + shift + r ，进行硬刷新（hard-refresh），可清空当前网页的缓存，重新打开当前页面\n\n\n\n# 参考\n\njs获取transform rotate旋转角度的度数，matrix解析",charsets:{cjk:!0}},{title:"搭建网站(vuepress)",frontmatter:{title:"搭建网站(vuepress)",date:"2022-04-10T00:30:34.000Z",permalink:"/pages/c2798c/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E6%90%AD%E5%BB%BA%E7%BD%91%E7%AB%99(vuepress).html",relativePath:"_posts/随笔/搭建网站(vuepress).md",key:"v-0fd01242",path:"/pages/c2798c/",headers:[{level:3,title:"安装依赖",slug:"安装依赖",normalizedTitle:"安装依赖",charIndex:2},{level:3,title:"目录结构",slug:"目录结构",normalizedTitle:"目录结构",charIndex:372},{level:3,title:"package.json",slug:"package-json",normalizedTitle:"package.json",charIndex:1269},{level:3,title:"启动",slug:"启动",normalizedTitle:"启动",charIndex:1518},{level:4,title:"docs/README.md",slug:"docs-readme-md",normalizedTitle:"docs/readme.md",charIndex:892},{level:4,title:"docs/.vuepress/config.js",slug:"docs-vuepress-config-js",normalizedTitle:"docs/.vuepress/config.js",charIndex:917}],headersStr:"安装依赖 目录结构 package.json 启动 docs/README.md docs/.vuepress/config.js",content:'# 安装依赖\n\nmd Z#\\test\\website_vuepress &&  cd Z#\\test\\website_vuepress && Z#\nyarn init -y\nyarn add -D vuepress  @vuepress/plugin-pwa @vssue/vuepress-plugin-vssue @vssue/api-github-v4 vuepress-plugin-auto-sidebar\n# vuepress\n# @vuepress/plugin-pwa\n# @vssue/vuepress-plugin-vssue\n# @vssue/api-github-v4\n# vuepress-plugin-auto-sidebar\nyarn add -D moment\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 目录结构\n\n# 新建目录\nmd docs/.vuepress                     # 用于存放全局的配置、组件、静态资源等。\nmd docs/.vuepress/components          # 该目录中的 Vue 组件将会被自动注册为全局组件。\nmd docs/.vuepress/theme               # 用于存放本地主题。\nmd docs/.vuepress/styles              # 用于存放样式相关的文件。\nmd docs/.vuepress/styles/index.styl   # 将会被自动应用的全局样式文件，会生成在最终的 CSS 文件结尾，具有比默认样式更高的优先级。\nmd docs/.vuepress/styles/palette.styl # 用于重写默认颜色常量，或者设置新的 stylus 颜色常量。\nmd docs/.vuepress/public              # 静态资源目录。\nmd docs/.vuepress/templates           # 存储 HTML 模板文件。\n\n# 新建文件\nnew-item  docs/README.md\nnew-item  docs/.vuepress/config.js # 配置文件\nnew-item docs/.vuepress/templates/dev.html  # 用于开发环境的 HTML 模板文件。\nnew-item docs/.vuepress/templates/ssr.html  # 构建时基于 Vue SSR 的 HTML 模板文件。\nnew-item docs/.vuepress/config.js           # 配置文件的入口文件，也可以是 YML 或 toml。\nnew-item docs/.vuepress/enhanceApp.js       # 客户端应用的增强。\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# package.json\n\n{\n  "scripts": {\n    "docs:dev": "vuepress dev docs",\n    "docs:build": "vuepress build docs",\n    "dev": "vuepress dev docs",\n    "build": "vuepress build docs",\n    "deploy": "bash deploy.sh",\n    "cname": "bash cname.sh"\n  }\n}\n\n\n\n# 启动\n\n# docs/README.md\n\n# new-item  docs/README.md\n---\nhome: true\nheroImage: /favicon.ico\nheroText: Hero 标题\ntagline: Hero 副标题\nactionText: 快速上手 →\nactionLink: /zh/guide/\nfeatures:\n- title: 简洁至上\n  details: 以 Markdown 为中心的项目结构，以最少的配置帮助你专注于写作。\n- title: Vue驱动\n  details: 享受 Vue + webpack 的开发体验，在 Markdown 中使用 Vue 组件，同时可以使用 Vue 来开发自定义主题。\n- title: 高性能\n  details: VuePress 为每个页面预渲染生成静态的 HTML，同时在页面被加载的时候，将作为 SPA 运行。\nfooter: MIT Licensed | Copyright © 2018-present Evan You\n---\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# docs/.vuepress/config.js\n\n// new-item  docs/.vuepress/config.js\n\n\n1\n',normalizedContent:'# 安装依赖\n\nmd z#\\test\\website_vuepress &&  cd z#\\test\\website_vuepress && z#\nyarn init -y\nyarn add -d vuepress  @vuepress/plugin-pwa @vssue/vuepress-plugin-vssue @vssue/api-github-v4 vuepress-plugin-auto-sidebar\n# vuepress\n# @vuepress/plugin-pwa\n# @vssue/vuepress-plugin-vssue\n# @vssue/api-github-v4\n# vuepress-plugin-auto-sidebar\nyarn add -d moment\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 目录结构\n\n# 新建目录\nmd docs/.vuepress                     # 用于存放全局的配置、组件、静态资源等。\nmd docs/.vuepress/components          # 该目录中的 vue 组件将会被自动注册为全局组件。\nmd docs/.vuepress/theme               # 用于存放本地主题。\nmd docs/.vuepress/styles              # 用于存放样式相关的文件。\nmd docs/.vuepress/styles/index.styl   # 将会被自动应用的全局样式文件，会生成在最终的 css 文件结尾，具有比默认样式更高的优先级。\nmd docs/.vuepress/styles/palette.styl # 用于重写默认颜色常量，或者设置新的 stylus 颜色常量。\nmd docs/.vuepress/public              # 静态资源目录。\nmd docs/.vuepress/templates           # 存储 html 模板文件。\n\n# 新建文件\nnew-item  docs/readme.md\nnew-item  docs/.vuepress/config.js # 配置文件\nnew-item docs/.vuepress/templates/dev.html  # 用于开发环境的 html 模板文件。\nnew-item docs/.vuepress/templates/ssr.html  # 构建时基于 vue ssr 的 html 模板文件。\nnew-item docs/.vuepress/config.js           # 配置文件的入口文件，也可以是 yml 或 toml。\nnew-item docs/.vuepress/enhanceapp.js       # 客户端应用的增强。\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# package.json\n\n{\n  "scripts": {\n    "docs:dev": "vuepress dev docs",\n    "docs:build": "vuepress build docs",\n    "dev": "vuepress dev docs",\n    "build": "vuepress build docs",\n    "deploy": "bash deploy.sh",\n    "cname": "bash cname.sh"\n  }\n}\n\n\n\n# 启动\n\n# docs/readme.md\n\n# new-item  docs/readme.md\n---\nhome: true\nheroimage: /favicon.ico\nherotext: hero 标题\ntagline: hero 副标题\nactiontext: 快速上手 →\nactionlink: /zh/guide/\nfeatures:\n- title: 简洁至上\n  details: 以 markdown 为中心的项目结构，以最少的配置帮助你专注于写作。\n- title: vue驱动\n  details: 享受 vue + webpack 的开发体验，在 markdown 中使用 vue 组件，同时可以使用 vue 来开发自定义主题。\n- title: 高性能\n  details: vuepress 为每个页面预渲染生成静态的 html，同时在页面被加载的时候，将作为 spa 运行。\nfooter: mit licensed | copyright © 2018-present evan you\n---\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# docs/.vuepress/config.js\n\n// new-item  docs/.vuepress/config.js\n\n\n1\n',charsets:{cjk:!0}},{title:"查看谷歌浏览器版本",frontmatter:{title:"查看谷歌浏览器版本",date:"2022-04-08T21:15:41.000Z",permalink:"/pages/dad5ca/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E6%9F%A5%E7%9C%8B%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E7%89%88%E6%9C%AC.html",relativePath:"_posts/随笔/查看谷歌浏览器版本.md",key:"v-396bc0a2",path:"/pages/dad5ca/",headers:[{level:3,title:"查看谷歌浏览器版本",slug:"查看谷歌浏览器版本",normalizedTitle:"查看谷歌浏览器版本",charIndex:2}],headersStr:"查看谷歌浏览器版本",content:'# 查看谷歌浏览器版本\n\n浏览器地址栏输入: chrome://version/\n\n\n1\n\n\nchromedriver\n\n下载解压好的chromediver.exe文件放进python安装路径下的scripts文件夹里(或者你用的是anaconda,放进anaconda安装路径下的scripts文件夹里)…这样配置就完成了\n\n我的是“C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python310\\Scripts”\n\n#!/usr/bin/env/ python\n# -*- coding:utf-8 -*-\n\n"""\n@author: (Windows)\n@software: PyCharm\n@time:   10:23\n"""\n# win,python3.8,chromedriver版本与本地浏览器版本一致87\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nreq_url = "https://www.baidu.com"\nchrome_options=Options()\n#设置chrome浏览器无界面模式\nchrome_options.add_argument(\'--headless\')\nbrowser = webdriver.Chrome(options=chrome_options)\n# 开始请求\nbrowser.get(req_url)\n#打印页面源代码\nprint(browser.page_source)\n#关闭浏览器\nbrowser.close()\n#关闭chreomedriver进程\nbrowser.quit()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n',normalizedContent:'# 查看谷歌浏览器版本\n\n浏览器地址栏输入: chrome://version/\n\n\n1\n\n\nchromedriver\n\n下载解压好的chromediver.exe文件放进python安装路径下的scripts文件夹里(或者你用的是anaconda,放进anaconda安装路径下的scripts文件夹里)…这样配置就完成了\n\n我的是“c:\\users\\administrator\\appdata\\local\\programs\\python\\python310\\scripts”\n\n#!/usr/bin/env/ python\n# -*- coding:utf-8 -*-\n\n"""\n@author: (windows)\n@software: pycharm\n@time:   10:23\n"""\n# win,python3.8,chromedriver版本与本地浏览器版本一致87\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import options\nreq_url = "https://www.baidu.com"\nchrome_options=options()\n#设置chrome浏览器无界面模式\nchrome_options.add_argument(\'--headless\')\nbrowser = webdriver.chrome(options=chrome_options)\n# 开始请求\nbrowser.get(req_url)\n#打印页面源代码\nprint(browser.page_source)\n#关闭浏览器\nbrowser.close()\n#关闭chreomedriver进程\nbrowser.quit()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n',charsets:{cjk:!0}},{title:"跨域",frontmatter:{title:"跨域",date:"2022-03-23T11:07:17.000Z",permalink:"/pages/1dba76/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E8%B7%A8%E5%9F%9F.html",relativePath:"_posts/随笔/跨域.md",key:"v-0ff23836",path:"/pages/1dba76/",headers:[{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:2},{level:2,title:"jsonp",slug:"jsonp",normalizedTitle:"jsonp",charIndex:94},{level:3,title:"原文",slug:"原文",normalizedTitle:"原文",charIndex:104},{level:3,title:"1.异步加载 js",slug:"_1-异步加载-js",normalizedTitle:"1.异步加载 js",charIndex:580},{level:3,title:"JSONP的原理",slug:"jsonp的原理",normalizedTitle:"jsonp的原理",charIndex:916},{level:2,title:"vue + config + axios",slug:"vue-config-axios",normalizedTitle:"vue + config + axios",charIndex:1057},{level:2,title:"express + fetch / axios （本机实现跨域请求）",slug:"express-fetch-axios-本机实现跨域请求",normalizedTitle:"express + fetch / axios （本机实现跨域请求）",charIndex:1518},{level:3,title:"出现的问题",slug:"出现的问题",normalizedTitle:"出现的问题",charIndex:4654}],headersStr:"参考 jsonp 原文 1.异步加载 js JSONP的原理 vue + config + axios express + fetch / axios （本机实现跨域请求） 出现的问题",content:"# 参考\n\n[EXPRESS框架+FETCH/AXIOS.JS（本机实现跨域请求）](https://www.freesion.com/article/4564744523/)\n\n\n\n# jsonp\n\n\n# 原文\n\n[动态创建script标签解决跨域问题\n](https://www.cnblogs.com/rockyan/p/7987697.html)\n[异步<script>脚本及动态创建<script>实现 jsonp 跨域请求](https://www.jianshu.com/p/23232f79dcd5)\n[10 种跨域解决方案（附终极方案）](https://blog.csdn.net/blueblueskyhua/article/details/105506482?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-1-105506482.pc_agg_new_rank&utm_term=async%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88&spm=1000.2123.3001.4430)\n\n\n\n# 1.异步加载 js\n\nasync\ndefer\n动态创建<script>标签\n    function addScriptTag(src){\n        var script = document.createElement('script');\n        script.setAttribute(\"type\",\"text/javascript\");\n        script.src = src;\n        document.body.appendChild(script);\n    }\n    window.onload = function(){\n        addScriptTag(\"src/index.js\");\n    }\n\n\n\n# JSONP的原理\n\njsonp 是 json with padding (将json数据填充到函数中) 的缩写。\n请求返回的必须是合法的 JavaScript 代码，因此不能直接返 json 数据\n加载完会立即执行，在这里也就是请求返回的字符串中的 js 代码会立即执行\n\n\n\n# vue + config + axios\n\n// config\\index.js\n\tassetsSubDirectory: 'static',\n    assetsPublicPath: '/',\n    proxyTable: {\n      '/api': { // 匹配所有以 '/api'开头的请求路径\n        target: 'http://localhost:4000', // 代理目标的基础路径\n        changeOrigin: true, // 支持跨域\n        pathRewrite: {// 重写路径: 去掉路径中开头的'/api'\n          '^/api': ''\n        }\n      }\n    },\n// src\\api\\index.js\n\timport ajax from './ajax'\n\t// const BASE_URL = 'http://localhost:4000'\n\tconst BASE_URL = '/api'\n\n\n\n# express + fetch / axios （本机实现跨域请求）\n\nserver.js\n    const express = require('express')\n    const bodyParser = require(\"body-parser\")\n    // const cors = require(\"cors\"); // 导入cors 中间件，详情看github\n    // app.use(cors({credentials: true, origin: 'http://localhost:5500'}));\n    const app = express()\n    // 处理静态资源\n    // app.use(express.static('public'))\n    // 处理参数\n    app.use(bodyParser.json());\n    // app.use(bodyParser.urlencoded({\n    //     extended:false\n    // }))\n\n    const port = 3000\n\n    //本地服务器解决跨域，不可缺\n    app.all('*', function (req, res, next) {\n        res.header('Access-Control-Allow-Origin', '*');\n        //Access-Control-Allow-Headers ,可根据浏览器的F12查看,把对应的粘贴在这里就行\n        res.header('Access-Control-Allow-Headers', 'Content-Type');\n        res.header('Access-Control-Allow-Methods', '*');\n        res.header('Content-Type', 'application/json;charset=utf-8');\n        next();\n    });\n\n    // promise\n    app.get('/pdata', (req, res) => {\n        res.send('Hello promise!')\n    })\n    // fetch\n    app.get('/fdata', (req, res) => {\n        res.send('Hello Fetch!')\n    })\n\n    app.get('/json', (req, res) => {\n        res.send({\n            'uname':'张三',\n            'age':18\n        })\n    })\n\n    // axios\n    app.get('/adata', (req, res) => {\n        // res.header(\"Access-Control-Allow-Origin\", \"*\");\n        // res.header('Access-Control-Allow-Origin', 'http://localhost:5500')\n        res.send('Hello axios!')\n    })\n\n    app.listen(port, () => {\n        console.log(`Example app listening on port http://localhost:${port}`)\n    })\nindex.html\n    <script>\n        fetch('http://localhost:3000/fdata').then(function (data) {\n            // text()方法属于fetchAPI的一部分，它返回一个Promise实例对象，用于获取后台返回的数据\n            return data.text();\n        }).then(function (data) {\n            console.log(data);\n        })\n    <\/script>\n    <script>\n        fetch('http://localhost:3000/json').then(function (data) {\n            // return data.json();\n            return data.text();\n        }).then(function (data) {\n            console.log(typeof data);\n            console.log(data);\n            // var obj = JSON.parse(data); //将string转换成对象\n            // // console.log(obj.uname, obj.age, obj.gender)\n            // console.log(obj);\n        })\n    <\/script>\n\n    \x3c!-- axiox --\x3e\n    <script src=\"https://unpkg.com/axios/dist/axios.min.js\"><\/script>\n    <script src='./js/axios.js'><\/script>\n    <script>\n        // axios.defaults.withCredentials=true\n        // axios.defaults.crossDomain=true\n        // axios.defaults.headers.get['Content-Type'] = 'application/x-www-form-urlencoded'\n        // headers: {'Content-Type': 'application/x-www-form-urlencoded',\"Access-Control-Allow-Origin\":'*'}\n        // 为给定 ID 的 user 创建请求\n        // 允许跨域\n        // axios.defaults.withCredentials=true // 允许携带cookie\n        // axios.defaults.withCredentials = true\n        // axios.defaults.crossDomain=true\n        axios.get('http://localhost:3000/adata')\n        .then(function (response) {\n            console.log(response.data);\n        })\n        // .catch(function (error) {\n        //     console.log(error);\n        // });\n    <\/script>\n\n\n\n# 出现的问题\n\n[1.DevTools failed to parse SourceMap 警告解决方法](https://blog.csdn.net/whuhewei/article/details/105565746)\n方案一：浏览器禁用sourcemap功能\n[...]-[setting]-[取消勾选Enable JavaScript source maps]\n方案二：配置webpack\n在webpack.config.js中添加devtool: \"inline-source-map\"\n    const path = require(\"path\");\n    const HtmlWebpackPlugin = require(\"html-webpack-plugin\");\n    const htmlPlugin = new HtmlWebpackPlugin({\n        template: path.join(__dirname, \"./src/index.html\"),\n        filename: \"index.html\"\n    });\n\n    module.exports = {\n        mode: \"development\",\n        // mode: \"production\"\n        plugins: [\n            htmlPlugin\n        ],\n        module: {\n            rules: [\n                {\n                    test: /\\.js|jsx$/,\n                    use: \"babel-loader\",\n                    exclude: /node_modules/\n                }\n            ]\n        },\n        devtool: \"inline-source-map\"\n    };",normalizedContent:"# 参考\n\n[express框架+fetch/axios.js（本机实现跨域请求）](https://www.freesion.com/article/4564744523/)\n\n\n\n# jsonp\n\n\n# 原文\n\n[动态创建script标签解决跨域问题\n](https://www.cnblogs.com/rockyan/p/7987697.html)\n[异步<script>脚本及动态创建<script>实现 jsonp 跨域请求](https://www.jianshu.com/p/23232f79dcd5)\n[10 种跨域解决方案（附终极方案）](https://blog.csdn.net/blueblueskyhua/article/details/105506482?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-1-105506482.pc_agg_new_rank&utm_term=async%e8%b7%a8%e5%9f%9f%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88&spm=1000.2123.3001.4430)\n\n\n\n# 1.异步加载 js\n\nasync\ndefer\n动态创建<script>标签\n    function addscripttag(src){\n        var script = document.createelement('script');\n        script.setattribute(\"type\",\"text/javascript\");\n        script.src = src;\n        document.body.appendchild(script);\n    }\n    window.onload = function(){\n        addscripttag(\"src/index.js\");\n    }\n\n\n\n# jsonp的原理\n\njsonp 是 json with padding (将json数据填充到函数中) 的缩写。\n请求返回的必须是合法的 javascript 代码，因此不能直接返 json 数据\n加载完会立即执行，在这里也就是请求返回的字符串中的 js 代码会立即执行\n\n\n\n# vue + config + axios\n\n// config\\index.js\n\tassetssubdirectory: 'static',\n    assetspublicpath: '/',\n    proxytable: {\n      '/api': { // 匹配所有以 '/api'开头的请求路径\n        target: 'http://localhost:4000', // 代理目标的基础路径\n        changeorigin: true, // 支持跨域\n        pathrewrite: {// 重写路径: 去掉路径中开头的'/api'\n          '^/api': ''\n        }\n      }\n    },\n// src\\api\\index.js\n\timport ajax from './ajax'\n\t// const base_url = 'http://localhost:4000'\n\tconst base_url = '/api'\n\n\n\n# express + fetch / axios （本机实现跨域请求）\n\nserver.js\n    const express = require('express')\n    const bodyparser = require(\"body-parser\")\n    // const cors = require(\"cors\"); // 导入cors 中间件，详情看github\n    // app.use(cors({credentials: true, origin: 'http://localhost:5500'}));\n    const app = express()\n    // 处理静态资源\n    // app.use(express.static('public'))\n    // 处理参数\n    app.use(bodyparser.json());\n    // app.use(bodyparser.urlencoded({\n    //     extended:false\n    // }))\n\n    const port = 3000\n\n    //本地服务器解决跨域，不可缺\n    app.all('*', function (req, res, next) {\n        res.header('access-control-allow-origin', '*');\n        //access-control-allow-headers ,可根据浏览器的f12查看,把对应的粘贴在这里就行\n        res.header('access-control-allow-headers', 'content-type');\n        res.header('access-control-allow-methods', '*');\n        res.header('content-type', 'application/json;charset=utf-8');\n        next();\n    });\n\n    // promise\n    app.get('/pdata', (req, res) => {\n        res.send('hello promise!')\n    })\n    // fetch\n    app.get('/fdata', (req, res) => {\n        res.send('hello fetch!')\n    })\n\n    app.get('/json', (req, res) => {\n        res.send({\n            'uname':'张三',\n            'age':18\n        })\n    })\n\n    // axios\n    app.get('/adata', (req, res) => {\n        // res.header(\"access-control-allow-origin\", \"*\");\n        // res.header('access-control-allow-origin', 'http://localhost:5500')\n        res.send('hello axios!')\n    })\n\n    app.listen(port, () => {\n        console.log(`example app listening on port http://localhost:${port}`)\n    })\nindex.html\n    <script>\n        fetch('http://localhost:3000/fdata').then(function (data) {\n            // text()方法属于fetchapi的一部分，它返回一个promise实例对象，用于获取后台返回的数据\n            return data.text();\n        }).then(function (data) {\n            console.log(data);\n        })\n    <\/script>\n    <script>\n        fetch('http://localhost:3000/json').then(function (data) {\n            // return data.json();\n            return data.text();\n        }).then(function (data) {\n            console.log(typeof data);\n            console.log(data);\n            // var obj = json.parse(data); //将string转换成对象\n            // // console.log(obj.uname, obj.age, obj.gender)\n            // console.log(obj);\n        })\n    <\/script>\n\n    \x3c!-- axiox --\x3e\n    <script src=\"https://unpkg.com/axios/dist/axios.min.js\"><\/script>\n    <script src='./js/axios.js'><\/script>\n    <script>\n        // axios.defaults.withcredentials=true\n        // axios.defaults.crossdomain=true\n        // axios.defaults.headers.get['content-type'] = 'application/x-www-form-urlencoded'\n        // headers: {'content-type': 'application/x-www-form-urlencoded',\"access-control-allow-origin\":'*'}\n        // 为给定 id 的 user 创建请求\n        // 允许跨域\n        // axios.defaults.withcredentials=true // 允许携带cookie\n        // axios.defaults.withcredentials = true\n        // axios.defaults.crossdomain=true\n        axios.get('http://localhost:3000/adata')\n        .then(function (response) {\n            console.log(response.data);\n        })\n        // .catch(function (error) {\n        //     console.log(error);\n        // });\n    <\/script>\n\n\n\n# 出现的问题\n\n[1.devtools failed to parse sourcemap 警告解决方法](https://blog.csdn.net/whuhewei/article/details/105565746)\n方案一：浏览器禁用sourcemap功能\n[...]-[setting]-[取消勾选enable javascript source maps]\n方案二：配置webpack\n在webpack.config.js中添加devtool: \"inline-source-map\"\n    const path = require(\"path\");\n    const htmlwebpackplugin = require(\"html-webpack-plugin\");\n    const htmlplugin = new htmlwebpackplugin({\n        template: path.join(__dirname, \"./src/index.html\"),\n        filename: \"index.html\"\n    });\n\n    module.exports = {\n        mode: \"development\",\n        // mode: \"production\"\n        plugins: [\n            htmlplugin\n        ],\n        module: {\n            rules: [\n                {\n                    test: /\\.js|jsx$/,\n                    use: \"babel-loader\",\n                    exclude: /node_modules/\n                }\n            ]\n        },\n        devtool: \"inline-source-map\"\n    };",charsets:{cjk:!0}},{title:"软件的简单安装",frontmatter:{title:"软件的简单安装",date:"2022-03-13T16:42:27.000Z",permalink:"/pages/94a20c/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E8%BD%AF%E4%BB%B6%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%89%E8%A3%85.html",relativePath:"_posts/随笔/软件的简单安装.md",key:"v-52a40636",path:"/pages/94a20c/",headers:[{level:2,title:"linux 中安装node",slug:"linux-中安装node",normalizedTitle:"linux 中安装node",charIndex:2},{level:2,title:"phpstudy安装",slug:"phpstudy安装",normalizedTitle:"phpstudy安装",charIndex:49},{level:3,title:"php环境配置",slug:"php环境配置",normalizedTitle:"php环境配置",charIndex:64},{level:3,title:"安装",slug:"安装",normalizedTitle:"安装",charIndex:9},{level:3,title:"phpstudy",slug:"phpstudy",normalizedTitle:"phpstudy",charIndex:49},{level:3,title:"教程",slug:"教程",normalizedTitle:"教程",charIndex:117},{level:3,title:"vscode配置php",slug:"vscode配置php",normalizedTitle:"vscode配置php",charIndex:178},{level:3,title:"xampp",slug:"xampp",normalizedTitle:"xampp",charIndex:348},{level:3,title:"jdk",slug:"jdk",normalizedTitle:"jdk",charIndex:578},{level:3,title:"Typora",slug:"typora",normalizedTitle:"typora",charIndex:645},{level:3,title:"Git版本SVN工具简介与安装配置及使用",slug:"git版本svn工具简介与安装配置及使用",normalizedTitle:"git版本svn工具简介与安装配置及使用",charIndex:1265},{level:4,title:"1.安装Git",slug:"_1-安装git",normalizedTitle:"1.安装git",charIndex:1289},{level:4,title:"2.安装SVN",slug:"_2-安装svn",normalizedTitle:"2.安装svn",charIndex:1303}],headersStr:"linux 中安装node phpstudy安装 php环境配置 安装 phpstudy 教程 vscode配置php xampp jdk Typora Git版本SVN工具简介与安装配置及使用 1.安装Git 2.安装SVN",content:'# linux 中安装node\n\nyum install nodejs\nnode -v\n\n\n\n# phpstudy安装\n\n\n# php环境配置\n\n\n# 安装\n\n\n# phpstudy\n\nhttps://www.xp.cn/\n\n\n\n# 教程\n\n[PHP 教程](https://www.w3school.com.cn/php/index.asp)\n\n\n\n# vscode配置php\n\n插件：open php\nOpen-PHP-HTML-JS-in-browser: \n配置Document Root Folder文件夹将根目录的路径设置成小皮面板/WWW所在路径\n[VSCode搭建PHP开发环境](https://www.jianshu.com/p/9d29e359bc5e    )\n\n\n\n# xampp\n\n[xampp](https://www.apachefriends.org/download.html)\nDownload php_xdebug-2.6....dll\nmove to D:\\xampp\\php\\ext\nEdit D:\\xampp\\php\\php.init,加上\n    zend_extension = D:\\xampp\\php\\ext\\php_xdebug-3.1.3-8.1-vs16-nts-x86_64.dll\n\n\n\n# jdk\n\njdk\n\nset PATH=%PATH%;"D:\\Java\\jdk-18\\bin"\njava --version\n\n\n\n# Typora\n\nTypora破解(需要python3.0版本以上，Typora版本1.04以下) typoraio历史版本 cd %userprofile%\\Desktop git clone https://github.com/Mas0nShi/typoraCracker.git typoraCracker-master cd typoraCracker-master pip install -r requirements.txt python typora.py "D:\\Typora\\resources\\app.asar" workstation\\outfile\\\n\npython typora.py -u workstation\\outfile\\dec_app workstation\\outappasar\nxcopy workstation\\outappasar\\app.asar D:\\Typora\\resources\\app.asar /y \nxcopy example\\patch\\License.js workstation\\outfile\\dec_app /y \n// 生成的序列号\nnode example/keygen.js\nstart D:\\Typora\\Typora.exe\n// 打开Typora输入邮箱和生成的序列号进行激活\n序列号输入生成的码，邮箱输入crack@example.com。\n\n\n\n# Git版本SVN工具简介与安装配置及使用\n\n# 1.安装Git\n\n略\n\n# 2.安装SVN\n\nSVN下载 接着下载中文语言包，安装\n\n使用Git 和SVN可以更加系统性的开发项目，并且可以防项目丢失。优点很多：\n适合分布式开发，强调个体。\n公共服务器压力和数据量都不会太大。\n速度快、灵活。\n任意两个开发者之间可以很容易的解决冲突。\n离线工作等',normalizedContent:'# linux 中安装node\n\nyum install nodejs\nnode -v\n\n\n\n# phpstudy安装\n\n\n# php环境配置\n\n\n# 安装\n\n\n# phpstudy\n\nhttps://www.xp.cn/\n\n\n\n# 教程\n\n[php 教程](https://www.w3school.com.cn/php/index.asp)\n\n\n\n# vscode配置php\n\n插件：open php\nopen-php-html-js-in-browser: \n配置document root folder文件夹将根目录的路径设置成小皮面板/www所在路径\n[vscode搭建php开发环境](https://www.jianshu.com/p/9d29e359bc5e    )\n\n\n\n# xampp\n\n[xampp](https://www.apachefriends.org/download.html)\ndownload php_xdebug-2.6....dll\nmove to d:\\xampp\\php\\ext\nedit d:\\xampp\\php\\php.init,加上\n    zend_extension = d:\\xampp\\php\\ext\\php_xdebug-3.1.3-8.1-vs16-nts-x86_64.dll\n\n\n\n# jdk\n\njdk\n\nset path=%path%;"d:\\java\\jdk-18\\bin"\njava --version\n\n\n\n# typora\n\ntypora破解(需要python3.0版本以上，typora版本1.04以下) typoraio历史版本 cd %userprofile%\\desktop git clone https://github.com/mas0nshi/typoracracker.git typoracracker-master cd typoracracker-master pip install -r requirements.txt python typora.py "d:\\typora\\resources\\app.asar" workstation\\outfile\\\n\npython typora.py -u workstation\\outfile\\dec_app workstation\\outappasar\nxcopy workstation\\outappasar\\app.asar d:\\typora\\resources\\app.asar /y \nxcopy example\\patch\\license.js workstation\\outfile\\dec_app /y \n// 生成的序列号\nnode example/keygen.js\nstart d:\\typora\\typora.exe\n// 打开typora输入邮箱和生成的序列号进行激活\n序列号输入生成的码，邮箱输入crack@example.com。\n\n\n\n# git版本svn工具简介与安装配置及使用\n\n# 1.安装git\n\n略\n\n# 2.安装svn\n\nsvn下载 接着下载中文语言包，安装\n\n使用git 和svn可以更加系统性的开发项目，并且可以防项目丢失。优点很多：\n适合分布式开发，强调个体。\n公共服务器压力和数据量都不会太大。\n速度快、灵活。\n任意两个开发者之间可以很容易的解决冲突。\n离线工作等',charsets:{cjk:!0}},{title:"归档",frontmatter:{archivesPage:!0,title:"归档",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-4d806d4a",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/11, 07:13:47",lastUpdatedTimestamp:1649632427e3},{title:"分类",frontmatter:{categoriesPage:!0,title:"分类",permalink:"/categories/",article:!1},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-03d803ac",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/11, 07:13:47",lastUpdatedTimestamp:1649632427e3},{title:"颜色代码表",frontmatter:{title:"颜色代码表",date:"2022-04-03T14:12:58.000Z",permalink:"/pages/0c961f/",sidebar:"auto",categories:["随笔"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E9%A2%9C%E8%89%B2%E4%BB%A3%E7%A0%81%E8%A1%A8.html",relativePath:"_posts/随笔/颜色代码表.md",key:"v-68391054",path:"/pages/0c961f/",headers:[{level:3,title:"颜色代码表",slug:"颜色代码表",normalizedTitle:"颜色代码表",charIndex:2},{level:3,title:"常用颜色",slug:"常用颜色",normalizedTitle:"常用颜色",charIndex:12}],headersStr:"颜色代码表 常用颜色",content:"# 颜色代码表\n\n\n# 常用颜色\n\n纯白       WHITE    #FFFFFF\n纯黑       black    #000000\n纯红       red      #ff0000\n纯黄       yellow   #ffff00\n纯蓝       blue     #0000ff\n纯绿       green    #008000\n青色       cyan     #00ffff\n靛青/紫兰色   indigo   #4b0082\n紫色       purple   #800080\n粉红       pink     #ffc0cb",normalizedContent:"# 颜色代码表\n\n\n# 常用颜色\n\n纯白       white    #ffffff\n纯黑       black    #000000\n纯红       red      #ff0000\n纯黄       yellow   #ffff00\n纯蓝       blue     #0000ff\n纯绿       green    #008000\n青色       cyan     #00ffff\n靛青/紫兰色   indigo   #4b0082\n紫色       purple   #800080\n粉红       pink     #ffc0cb",charsets:{cjk:!0}},{title:"《Electron官方指南》",frontmatter:{title:"《Electron官方指南》",date:"2022-04-11T15:07:24.000Z",permalink:"/pages/061751/",categories:["《Electron中文文档》"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/",relativePath:"《Electron中文文档》/README.md",key:"v-1cf534e2",path:"/pages/061751/",headers:[{level:2,title:"常见问题 (FAQ)",slug:"常见问题-faq",normalizedTitle:"常见问题 (faq)",charIndex:194},{level:2,title:"指南和教程",slug:"指南和教程",normalizedTitle:"指南和教程",charIndex:258},{level:3,title:"入门指南",slug:"入门指南",normalizedTitle:"入门指南",charIndex:268},{level:3,title:"Learning the basics",slug:"learning-the-basics",normalizedTitle:"learning the basics",charIndex:300},{level:3,title:"Advanced steps",slug:"advanced-steps",normalizedTitle:"advanced steps",charIndex:666},{level:2,title:"详细教程",slug:"详细教程",normalizedTitle:"详细教程",charIndex:1119},{level:2,title:"API 参考",slug:"api-参考",normalizedTitle:"api 参考",charIndex:1311},{level:3,title:"自定义 DOM 元素:",slug:"自定义-dom-元素",normalizedTitle:"自定义 dom 元素:",charIndex:1384},{level:3,title:"主进程可用的模块:",slug:"主进程可用的模块",normalizedTitle:"主进程可用的模块:",charIndex:1473},{level:3,title:"渲染进程（网页）可用的模块:",slug:"渲染进程-网页-可用的模块",normalizedTitle:"渲染进程（网页）可用的模块:",charIndex:1864},{level:3,title:"两种进程都可用的模块:",slug:"两种进程都可用的模块",normalizedTitle:"两种进程都可用的模块:",charIndex:1928},{level:2,title:"开发",slug:"开发",normalizedTitle:"开发",charIndex:66}],headersStr:"常见问题 (FAQ) 指南和教程 入门指南 Learning the basics Advanced steps 详细教程 API 参考 自定义 DOM 元素: 主进程可用的模块: 渲染进程（网页）可用的模块: 两种进程都可用的模块: 开发",content:"# 官方指南\n\n请确认你所使用的文档与你的 Electron 版本匹配。 版本号应该是页面URL的一部分。 如果没有，你可能正在使用开发版本分支里的文档，这个分支可能包含了一些与你的 Electron 版本不兼容的 API。 如果想要访问旧版本的文档，你可以浏览标签： 通过在 GitHub 中打开下拉菜单“Switch branches/tags”中选择与你的版本匹配的分支。\n\n\n# 常见问题 (FAQ)\n\n有些问题经常被问到。 在新建问题之前请先查看：\n\n * Electron 常见问题 (FAQ)\n\n\n# 指南和教程\n\n\n# 入门指南\n\n * 简介\n * 快速入门\n * 流程模型\n\n\n# Learning the basics\n\n * 为你的应用添加功能\n   * 通知（Notifications）\n   * 最近的文件\n   * 应用程序进程\n   * 自定义 Dock 菜单\n   * 自定义 Windows 任务栏\n   * 自定义 Linux 桌面动作\n   * 键盘快捷键\n   * 离线/在线 侦测\n   * 针对 macOS 系统 BrowserWindows 的展示文件\n   * 原生文件拖 & 放\n   * 离屏渲染\n   * Dark Mode\n   * 语言\n * 模板和命令行界面\n   * 模板与命令行界面\n   * electron-forge\n   * electron-builder\n   * electron-react-boilerplate\n   * 其它工具和模板\n\n\n# Advanced steps\n\n * 应用架构\n   * 使用原生 Node.js 模块\n   * 性能策略\n   * Security Strategies\n   * 进程沙盒化\n * 辅助功能\n   * Manually Enabling Accessibility Features\n * 测试和调试\n   * 调试主进程\n   * 使用Visual Studio Code调试\n   * 使用 Selenium 和 WebDriver\n   * 使用自动化持续集成系统 (CI) 进行测试 (Travis, Jenkins)\n   * 开发者工具扩展\n   * 使用自定义驱动程序进行自动化测试\n   * 交互式解释器 (REPL)\n * 分发\n   * 支持平台\n   * 代码签名\n   * Mac 应用程序商店\n   * Windows 应用商店\n   * Snapcraft\n * 更新\n   * 部署更新服务器\n   * 在你的应用中实施更新\n   * 应用更新\n * 获得支持\n\n\n# 详细教程\n\n这些独立教程扩展了上面指南中所讨论的主题。\n\n * 安装 Electron\n   * 代理\n   * 自定义镜像和缓存\n   * 故障排查\n * Electron发布 & 开发者反馈\n   * 版本规则\n   * 发布时间线\n * 测试 Widevine CDM\n\n----------------------------------------\n\n * 术语表\n\n\n# API 参考\n\n * 简介\n * 进程对象\n * 支持的命令行开关\n * 环境变量\n * Chrome 扩展支持\n * 重要的API变更\n\n\n# 自定义 DOM 元素:\n\n * File 对象\n * <webview>标签\n * window.open 函数\n * BrowserWindowProProxy 对象\n\n\n# 主进程可用的模块:\n\n * app\n * autoUpdater\n * BrowserView\n * BrowserWindow\n * contentTracing\n * dialog\n * globalShortcut\n * inAppPurchase\n * ipcMain\n * Menu\n * MenuItem\n * MessageChannelMain\n * MessagePortMain\n * net\n * netLog\n * nativeTheme\n * 通知\n * powerMonitor\n * powerSaveBlocker\n * protocol\n * screen\n * session\n * ShareMenu\n * systemPreferences\n * 触控板\n * Tray\n * webContents\n * webFrameMain\n\n\n# 渲染进程（网页）可用的模块:\n\n * contextBridge\n * ipcRenderer\n * webFrame\n\n\n# 两种进程都可用的模块:\n\n * clipboard\n * crashReporter\n * desktopCapturer\n * nativeImage\n * shell\n\n\n# 开发\n\n请查看development/README.md",normalizedContent:"# 官方指南\n\n请确认你所使用的文档与你的 electron 版本匹配。 版本号应该是页面url的一部分。 如果没有，你可能正在使用开发版本分支里的文档，这个分支可能包含了一些与你的 electron 版本不兼容的 api。 如果想要访问旧版本的文档，你可以浏览标签： 通过在 github 中打开下拉菜单“switch branches/tags”中选择与你的版本匹配的分支。\n\n\n# 常见问题 (faq)\n\n有些问题经常被问到。 在新建问题之前请先查看：\n\n * electron 常见问题 (faq)\n\n\n# 指南和教程\n\n\n# 入门指南\n\n * 简介\n * 快速入门\n * 流程模型\n\n\n# learning the basics\n\n * 为你的应用添加功能\n   * 通知（notifications）\n   * 最近的文件\n   * 应用程序进程\n   * 自定义 dock 菜单\n   * 自定义 windows 任务栏\n   * 自定义 linux 桌面动作\n   * 键盘快捷键\n   * 离线/在线 侦测\n   * 针对 macos 系统 browserwindows 的展示文件\n   * 原生文件拖 & 放\n   * 离屏渲染\n   * dark mode\n   * 语言\n * 模板和命令行界面\n   * 模板与命令行界面\n   * electron-forge\n   * electron-builder\n   * electron-react-boilerplate\n   * 其它工具和模板\n\n\n# advanced steps\n\n * 应用架构\n   * 使用原生 node.js 模块\n   * 性能策略\n   * security strategies\n   * 进程沙盒化\n * 辅助功能\n   * manually enabling accessibility features\n * 测试和调试\n   * 调试主进程\n   * 使用visual studio code调试\n   * 使用 selenium 和 webdriver\n   * 使用自动化持续集成系统 (ci) 进行测试 (travis, jenkins)\n   * 开发者工具扩展\n   * 使用自定义驱动程序进行自动化测试\n   * 交互式解释器 (repl)\n * 分发\n   * 支持平台\n   * 代码签名\n   * mac 应用程序商店\n   * windows 应用商店\n   * snapcraft\n * 更新\n   * 部署更新服务器\n   * 在你的应用中实施更新\n   * 应用更新\n * 获得支持\n\n\n# 详细教程\n\n这些独立教程扩展了上面指南中所讨论的主题。\n\n * 安装 electron\n   * 代理\n   * 自定义镜像和缓存\n   * 故障排查\n * electron发布 & 开发者反馈\n   * 版本规则\n   * 发布时间线\n * 测试 widevine cdm\n\n----------------------------------------\n\n * 术语表\n\n\n# api 参考\n\n * 简介\n * 进程对象\n * 支持的命令行开关\n * 环境变量\n * chrome 扩展支持\n * 重要的api变更\n\n\n# 自定义 dom 元素:\n\n * file 对象\n * <webview>标签\n * window.open 函数\n * browserwindowproproxy 对象\n\n\n# 主进程可用的模块:\n\n * app\n * autoupdater\n * browserview\n * browserwindow\n * contenttracing\n * dialog\n * globalshortcut\n * inapppurchase\n * ipcmain\n * menu\n * menuitem\n * messagechannelmain\n * messageportmain\n * net\n * netlog\n * nativetheme\n * 通知\n * powermonitor\n * powersaveblocker\n * protocol\n * screen\n * session\n * sharemenu\n * systempreferences\n * 触控板\n * tray\n * webcontents\n * webframemain\n\n\n# 渲染进程（网页）可用的模块:\n\n * contextbridge\n * ipcrenderer\n * webframe\n\n\n# 两种进程都可用的模块:\n\n * clipboard\n * crashreporter\n * desktopcapturer\n * nativeimage\n * shell\n\n\n# 开发\n\n请查看development/readme.md",charsets:{cjk:!0}},{title:"accelerator",frontmatter:{title:"accelerator",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/ef34c2/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/accelerator.html",relativePath:"《Electron中文文档》/api/accelerator.md",key:"v-689292e4",path:"/pages/ef34c2/",headers:[{level:2,title:"跨平台提醒",slug:"跨平台提醒",normalizedTitle:"跨平台提醒",charIndex:452},{level:2,title:"可用的功能键",slug:"可用的功能键",normalizedTitle:"可用的功能键",charIndex:723},{level:2,title:"可用的普通按键",slug:"可用的普通按键",normalizedTitle:"可用的普通按键",charIndex:863}],headersStr:"跨平台提醒 可用的功能键 可用的普通按键",content:"# 快捷键\n\n> 定义键盘快捷键。\n\n快捷键可以包含多个功能键和一个键码的字符串，由符号+结合，用来定义你应用中的键盘快捷键\n\n示例\n\n * CommandOrControl+A\n * CommandOrControl+Shift+Z\n\n快捷方式使用 register 方法在 globalShortcut 模块中注册, 即:\n\nconst { app, globalShortcut } = require('electron')\n\napp.whenReady().then(() => {\n  // Register a 'CommandOrControl+Y' shortcut listener.\n  globalShortcut.register('CommandOrControl+Y', () => {\n    // Do stuff when Y and either Command/Control is pressed.\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 跨平台提醒\n\n在 Linux 和 Windows 上, Command 键没有任何效果, 所以使用 CommandOrControl表述, macOS 是 Command ，在 Linux 和 Windows 上是Control。\n\n使用 Alt按键替代 Option按键。 使用 Alt 键代替Option. Option 键只在 macOS 系统上存在, 而 Alt 键在任何系统上都有效.\n\nSuper (或 Meta) 键对应Windows 和 Linux 系统上的 Windows 键，但在 macOS 里为 Cmd 键.\n\n\n# 可用的功能键\n\n * Command (缩写为Cmd)\n * Control (缩写为Ctrl)\n * CommandOrControl (缩写为 CmdOrCtrl)\n * Alt\n * Option\n * AltGr\n * Shift\n * Super\n * 元数据\n\n\n# 可用的普通按键\n\n * 0 到 9\n * A 到 Z\n * F1 到 F24\n * Punctuation like ~, !, @, #, $, etc.\n * Plus\n * Space\n * Tab\n * 大写锁定（Capslock）\n * 数字锁定（Numlock）\n * 滚动锁定\n * Backspace\n * 删除\n * Insert\n * Return (等同于 Enter)\n * Up, Down, Left and Right\n * Home 和 End\n * PageUp 和 PageDown\n * Escape (缩写为 Esc)\n * VolumeUp, VolumeDown 和 VolumeMute\n * MediaNextTrack、MediaPreviousTrack、MediaStop 和 MediaPlayPause\n * PrintScreen\n * 小键盘按键\n   * num1-num9 -数字1-数字9\n   * numdec - 小数点\n   * numadd - 加号\n   * numsub - 减号\n   * nummult - 乘号\n   * numdiv - 除号",normalizedContent:"# 快捷键\n\n> 定义键盘快捷键。\n\n快捷键可以包含多个功能键和一个键码的字符串，由符号+结合，用来定义你应用中的键盘快捷键\n\n示例\n\n * commandorcontrol+a\n * commandorcontrol+shift+z\n\n快捷方式使用 register 方法在 globalshortcut 模块中注册, 即:\n\nconst { app, globalshortcut } = require('electron')\n\napp.whenready().then(() => {\n  // register a 'commandorcontrol+y' shortcut listener.\n  globalshortcut.register('commandorcontrol+y', () => {\n    // do stuff when y and either command/control is pressed.\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 跨平台提醒\n\n在 linux 和 windows 上, command 键没有任何效果, 所以使用 commandorcontrol表述, macos 是 command ，在 linux 和 windows 上是control。\n\n使用 alt按键替代 option按键。 使用 alt 键代替option. option 键只在 macos 系统上存在, 而 alt 键在任何系统上都有效.\n\nsuper (或 meta) 键对应windows 和 linux 系统上的 windows 键，但在 macos 里为 cmd 键.\n\n\n# 可用的功能键\n\n * command (缩写为cmd)\n * control (缩写为ctrl)\n * commandorcontrol (缩写为 cmdorctrl)\n * alt\n * option\n * altgr\n * shift\n * super\n * 元数据\n\n\n# 可用的普通按键\n\n * 0 到 9\n * a 到 z\n * f1 到 f24\n * punctuation like ~, !, @, #, $, etc.\n * plus\n * space\n * tab\n * 大写锁定（capslock）\n * 数字锁定（numlock）\n * 滚动锁定\n * backspace\n * 删除\n * insert\n * return (等同于 enter)\n * up, down, left and right\n * home 和 end\n * pageup 和 pagedown\n * escape (缩写为 esc)\n * volumeup, volumedown 和 volumemute\n * medianexttrack、mediaprevioustrack、mediastop 和 mediaplaypause\n * printscreen\n * 小键盘按键\n   * num1-num9 -数字1-数字9\n   * numdec - 小数点\n   * numadd - 加号\n   * numsub - 减号\n   * nummult - 乘号\n   * numdiv - 除号",charsets:{cjk:!0}},{title:"auto-updater",frontmatter:{title:"auto-updater",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/cf2dd8/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/auto-updater.html",relativePath:"《Electron中文文档》/api/auto-updater.md",key:"v-12ea82f6",path:"/pages/cf2dd8/",headers:[{level:2,title:"跨平台提醒",slug:"跨平台提醒",normalizedTitle:"跨平台提醒",charIndex:94},{level:3,title:"macOS",slug:"macos",normalizedTitle:"macos",charIndex:107},{level:3,title:"Windows",slug:"windows",normalizedTitle:"windows",charIndex:115},{level:2,title:"事件",slug:"事件",normalizedTitle:"事件",charIndex:1149},{level:3,title:"Event: 'error'",slug:"event-error",normalizedTitle:"event: 'error'",charIndex:1181},{level:3,title:"Event: 'checking-for-update'",slug:"event-checking-for-update",normalizedTitle:"event: 'checking-for-update'",charIndex:1236},{level:3,title:"Event: 'update-available'",slug:"event-update-available",normalizedTitle:"event: 'update-available'",charIndex:1284},{level:3,title:"Event: 'update-not-available'",slug:"event-update-not-available",normalizedTitle:"event: 'update-not-available'",charIndex:1337},{level:3,title:"Event: 'update-downloaded'",slug:"event-update-downloaded",normalizedTitle:"event: 'update-downloaded'",charIndex:1386},{level:3,title:"Event:  'before-quit-for-update'",slug:"event-before-quit-for-update",normalizedTitle:"event:  'before-quit-for-update'",charIndex:null},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:957},{level:3,title:"autoUpdater.setFeedURL(选项)",slug:"autoupdater-setfeedurl-选项",normalizedTitle:"autoupdater.setfeedurl(选项)",charIndex:1802},{level:3,title:"autoUpdater.getFeedURL()",slug:"autoupdater-getfeedurl",normalizedTitle:"autoupdater.getfeedurl()",charIndex:2031},{level:3,title:"autoUpdater.checkForUpdates()",slug:"autoupdater-checkforupdates",normalizedTitle:"autoupdater.checkforupdates()",charIndex:2090},{level:3,title:"autoUpdater.quitAndInstall()",slug:"autoupdater-quitandinstall",normalizedTitle:"autoupdater.quitandinstall()",charIndex:2317}],headersStr:"跨平台提醒 macOS Windows 事件 Event: 'error' Event: 'checking-for-update' Event: 'update-available' Event: 'update-not-available' Event: 'update-downloaded' Event:  'before-quit-for-update' 方法 autoUpdater.setFeedURL(选项) autoUpdater.getFeedURL() autoUpdater.checkForUpdates() autoUpdater.quitAndInstall()",content:"# autoUpdater\n\n> 使应用程序能够自动更新\n\n进程：主进程\n\n请参阅：在应用程序中如何实现更新的详细指南。\n\nautoUpdater是一个EventEmitter.\n\n\n# 跨平台提醒\n\n目前只支持 macOS 和 Windows 版本。 在 Linux 上没有内置的自动更新程序，因此建议使用发行版包管理器来更新您的应用程序。\n\n此外，每个平台都有一些细微的差别:\n\n\n# macOS\n\n在macOS上, autoUpdater模块建立在 Squirrel.Mac上,这意味着你不需要任何特殊的设置来使它工作。 对于服务器端要求, 你可以阅读 Server Support. 注意App Transport Security (ATS) 适用于所有请求作为更新过程的一部分。</0> 如需禁用ATS的应用程序可以在其应用程序的plist中添加 NSAllowsArbitraryLoads属性。\n\n注意： 在 macOS 上，您的应用程序必须得到签名后方可自动更新。 这是 Squirrel.Mac 的要求。\n\n\n# Windows\n\n在 Windows 上, 你必须将应用程序安装在用户的计算机上才能使用autoUpdater, 所以推荐使用 electron-winstaller, electron-forge 或者 grunt-electron-installer 模块来生成Windows安装程序。\n\n当使用 electron-winstaller 或 electron-forge 时，请确保不要在第一次运行你的应用程序时进行更新操作(也可查看这个 issue获取更多信息)。 还建议使用 electron-squirrel-startup 来创建应用程序的桌面快捷方式。\n\n使用Squirrel生成的安装程序将以 com.squirrel.PACKAGE_ID.YOUR_EXE_WITHOUT_DOT_EXE 的格式创建一个带有 Application User Model ID 的快捷图标，例子是 com.squirrel.slack.Slack 和 com.squirrel.code.Code。 你应该在自己的应用中使用 app.setAppUserModelId API 方法设置相同的 API和ID，不然 Windows 将不能正确地把你的应用固定在任务栏上。\n\nLike Squirrel.Mac, Windows can host updates on S3 or any other static file host. 你可以阅读 Squirrel.Windows的文档来获得更多关于 Squirrel.Windows 是如何工作的信息。\n\n\n# 事件\n\nautoUpdater 对象会触发以下的事件:\n\n\n# Event: 'error'\n\n返回:\n\n * error Error\n\n当更新发生错误的时候触发。\n\n\n# Event: 'checking-for-update'\n\n当开始检查更新的时候触发。\n\n\n# Event: 'update-available'\n\n当有可用更新的时候触发。 更新将自动下载。\n\n\n# Event: 'update-not-available'\n\n当没有可用更新的时候触发。\n\n\n# Event: 'update-downloaded'\n\n返回:\n\n * event Event\n * releaseNotes String\n * releaseName String\n * releaseDate Date\n * updateURL String\n\n在更新下载完成的时候触发。\n\n在 Windows 上只有 releaseName 是有效的。\n\n注意： 此事件并不一定需要处理。 成功下载的更新仍将在应用程序下次启动时应用。\n\n\n# Event: 'before-quit-for-update'\n\n此事件是在用户调用quitAndInstall()之后发出的。\n\n当此API被调用时，会在所有窗口关闭之前发出 before-quit 事件。 因此，如果您希望在关闭窗口进程退出之前执行操作，则应该侦听此事件，以及侦听 before-quit。\n\n\n# 方法\n\nautoUpdater 对象具有以下方法:\n\n\n# autoUpdater.setFeedURL(选项)\n\n * 选项 对象\n   * url String\n   * headers Record<String, String> (可选) macOS - HTTP 请求头。\n   * serverType String(可选) macOS - 可以是json 或者 default,查看 Squirrel.Mac 的README文件获取更多详细信息。\n\n设置检查更新的 url，并且初始化自动更新。\n\n\n# autoUpdater.getFeedURL()\n\n返回 String - 获取当前更新的 Feed 链接.\n\n\n# autoUpdater.checkForUpdates()\n\n询问服务器是否有更新。 在使用此 API 之前，您必须调用setFeedURL 。\n\nNote: If an update is available it will be downloaded automatically. Calling autoUpdater.checkForUpdates() twice will download the update two times.\n\n\n# autoUpdater.quitAndInstall()\n\n重启应用并在下载后安装更新。 它只应在发出 update-downloaded 后方可被调用。\n\n在此机制下，调用 autoUpdater.quitAndInstall() 将首先关闭所有应用程序窗口，并且在所有窗口都关闭之后自动调用 app.quit()\n\n注意: 严格来讲，执行一次自动更新不一定要调用此方法。因为下载更新文件成功之后，下次应用启动的时候会强制更新。",normalizedContent:"# autoupdater\n\n> 使应用程序能够自动更新\n\n进程：主进程\n\n请参阅：在应用程序中如何实现更新的详细指南。\n\nautoupdater是一个eventemitter.\n\n\n# 跨平台提醒\n\n目前只支持 macos 和 windows 版本。 在 linux 上没有内置的自动更新程序，因此建议使用发行版包管理器来更新您的应用程序。\n\n此外，每个平台都有一些细微的差别:\n\n\n# macos\n\n在macos上, autoupdater模块建立在 squirrel.mac上,这意味着你不需要任何特殊的设置来使它工作。 对于服务器端要求, 你可以阅读 server support. 注意app transport security (ats) 适用于所有请求作为更新过程的一部分。</0> 如需禁用ats的应用程序可以在其应用程序的plist中添加 nsallowsarbitraryloads属性。\n\n注意： 在 macos 上，您的应用程序必须得到签名后方可自动更新。 这是 squirrel.mac 的要求。\n\n\n# windows\n\n在 windows 上, 你必须将应用程序安装在用户的计算机上才能使用autoupdater, 所以推荐使用 electron-winstaller, electron-forge 或者 grunt-electron-installer 模块来生成windows安装程序。\n\n当使用 electron-winstaller 或 electron-forge 时，请确保不要在第一次运行你的应用程序时进行更新操作(也可查看这个 issue获取更多信息)。 还建议使用 electron-squirrel-startup 来创建应用程序的桌面快捷方式。\n\n使用squirrel生成的安装程序将以 com.squirrel.package_id.your_exe_without_dot_exe 的格式创建一个带有 application user model id 的快捷图标，例子是 com.squirrel.slack.slack 和 com.squirrel.code.code。 你应该在自己的应用中使用 app.setappusermodelid api 方法设置相同的 api和id，不然 windows 将不能正确地把你的应用固定在任务栏上。\n\nlike squirrel.mac, windows can host updates on s3 or any other static file host. 你可以阅读 squirrel.windows的文档来获得更多关于 squirrel.windows 是如何工作的信息。\n\n\n# 事件\n\nautoupdater 对象会触发以下的事件:\n\n\n# event: 'error'\n\n返回:\n\n * error error\n\n当更新发生错误的时候触发。\n\n\n# event: 'checking-for-update'\n\n当开始检查更新的时候触发。\n\n\n# event: 'update-available'\n\n当有可用更新的时候触发。 更新将自动下载。\n\n\n# event: 'update-not-available'\n\n当没有可用更新的时候触发。\n\n\n# event: 'update-downloaded'\n\n返回:\n\n * event event\n * releasenotes string\n * releasename string\n * releasedate date\n * updateurl string\n\n在更新下载完成的时候触发。\n\n在 windows 上只有 releasename 是有效的。\n\n注意： 此事件并不一定需要处理。 成功下载的更新仍将在应用程序下次启动时应用。\n\n\n# event: 'before-quit-for-update'\n\n此事件是在用户调用quitandinstall()之后发出的。\n\n当此api被调用时，会在所有窗口关闭之前发出 before-quit 事件。 因此，如果您希望在关闭窗口进程退出之前执行操作，则应该侦听此事件，以及侦听 before-quit。\n\n\n# 方法\n\nautoupdater 对象具有以下方法:\n\n\n# autoupdater.setfeedurl(选项)\n\n * 选项 对象\n   * url string\n   * headers record<string, string> (可选) macos - http 请求头。\n   * servertype string(可选) macos - 可以是json 或者 default,查看 squirrel.mac 的readme文件获取更多详细信息。\n\n设置检查更新的 url，并且初始化自动更新。\n\n\n# autoupdater.getfeedurl()\n\n返回 string - 获取当前更新的 feed 链接.\n\n\n# autoupdater.checkforupdates()\n\n询问服务器是否有更新。 在使用此 api 之前，您必须调用setfeedurl 。\n\nnote: if an update is available it will be downloaded automatically. calling autoupdater.checkforupdates() twice will download the update two times.\n\n\n# autoupdater.quitandinstall()\n\n重启应用并在下载后安装更新。 它只应在发出 update-downloaded 后方可被调用。\n\n在此机制下，调用 autoupdater.quitandinstall() 将首先关闭所有应用程序窗口，并且在所有窗口都关闭之后自动调用 app.quit()\n\n注意: 严格来讲，执行一次自动更新不一定要调用此方法。因为下载更新文件成功之后，下次应用启动的时候会强制更新。",charsets:{cjk:!0}},{title:"app",frontmatter:{title:"app",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/6c2fdf/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/app.html",relativePath:"《Electron中文文档》/api/app.md",key:"v-e82c7110",path:"/pages/6c2fdf/",headers:[{level:2,title:"事件",slug:"事件",normalizedTitle:"事件",charIndex:16},{level:3,title:"事件: 'will-finish-launching'",slug:"事件-will-finish-launching",normalizedTitle:"事件: 'will-finish-launching'",charIndex:190},{level:3,title:"事件: 'ready'",slug:"事件-ready",normalizedTitle:"事件: 'ready'",charIndex:454},{level:3,title:"事件: 'window-all-closed'",slug:"事件-window-all-closed",normalizedTitle:"事件: 'window-all-closed'",charIndex:779},{level:3,title:"事件：'before-quit'",slug:"事件-before-quit",normalizedTitle:"事件：'before-quit'",charIndex:989},{level:3,title:"事件: 'will-quit'",slug:"事件-will-quit",normalizedTitle:"事件: 'will-quit'",charIndex:1234},{level:3,title:"事件: 'quit'",slug:"事件-quit",normalizedTitle:"事件: 'quit'",charIndex:1470},{level:3,title:"事件: 'open-file' macOS",slug:"事件-open-file-macos",normalizedTitle:"事件: 'open-file' macos",charIndex:1596},{level:3,title:"事件: 'open-url' macOS",slug:"事件-open-url-macos",normalizedTitle:"事件: 'open-url' macos",charIndex:1904},{level:3,title:"事件: 'activate' macOS",slug:"事件-activate-macos",normalizedTitle:"事件: 'activate' macos",charIndex:2136},{level:3,title:"事件: 'did-groupe-active' macOS",slug:"事件-did-groupe-active-macos",normalizedTitle:"事件: 'did-groupe-active' macos",charIndex:2283},{level:3,title:"事件: 'continue-activity' macOS",slug:"事件-continue-activity-macos",normalizedTitle:"事件: 'continue-activity' macos",charIndex:2430},{level:3,title:"事件: 'will-continue-activity' macOS",slug:"事件-will-continue-activity-macos",normalizedTitle:"事件: 'will-continue-activity' macos",charIndex:2920},{level:3,title:"事件: 'continue-activity-error' macOS",slug:"事件-continue-activity-error-macos",normalizedTitle:"事件: 'continue-activity-error' macos",charIndex:3110},{level:3,title:"事件: 'activity-was-continued' macOS",slug:"事件-activity-was-continued-macos",normalizedTitle:"事件: 'activity-was-continued' macos",charIndex:3286},{level:3,title:"事件: 'update-activity-state' macOS",slug:"事件-update-activity-state-macos",normalizedTitle:"事件: 'update-activity-state' macos",charIndex:3478},{level:3,title:"事件: 'new-window-for-tab' macOS",slug:"事件-new-window-for-tab-macos",normalizedTitle:"事件: 'new-window-for-tab' macos",charIndex:3799},{level:3,title:"事件: 'browser-window-blur'",slug:"事件-browser-window-blur",normalizedTitle:"事件: 'browser-window-blur'",charIndex:3933},{level:3,title:"事件: 'browser-window-focus'",slug:"事件-browser-window-focus",normalizedTitle:"事件: 'browser-window-focus'",charIndex:4034},{level:3,title:"事件: 'browser-window-created'",slug:"事件-browser-window-created",normalizedTitle:"事件: 'browser-window-created'",charIndex:4136},{level:3,title:"事件: 'web-contents-created'",slug:"事件-web-contents-created",normalizedTitle:"事件: 'web-contents-created'",charIndex:4240},{level:3,title:"事件: 'certificate-error'",slug:"事件-certificate-error",normalizedTitle:"事件: 'certificate-error'",charIndex:4343},{level:3,title:"事件: 'select-client-certificate'",slug:"事件-select-client-certificate",normalizedTitle:"事件: 'select-client-certificate'",charIndex:4952},{level:3,title:'事件: "login"',slug:"事件-login",normalizedTitle:"事件: &quot;login&quot;",charIndex:null},{level:3,title:"事件: 'gpu-info-update'",slug:"事件-gpu-info-update",normalizedTitle:"事件: 'gpu-info-update'",charIndex:6107},{level:3,title:"事件: 'gpu-process-crashed' 已废弃",slug:"事件-gpu-process-crashed-已废弃",normalizedTitle:"事件: 'gpu-process-crashed' 已废弃",charIndex:6151},{level:3,title:"事件: 'renderer-process-crashed' 已废弃",slug:"事件-renderer-process-crashed-已废弃",normalizedTitle:"事件: 'renderer-process-crashed' 已废弃",charIndex:6379},{level:3,title:"事件: 'render-process-gone'",slug:"事件-render-process-gone",normalizedTitle:"事件: 'render-process-gone'",charIndex:6653},{level:3,title:"事件: 'child-process-gone'",slug:"事件-child-process-gone",normalizedTitle:"事件: 'child-process-gone'",charIndex:7135},{level:3,title:'事件: "accessibility-support-changed"  macOS   Windows',slug:"事件-accessibility-support-changed-macos-windows",normalizedTitle:"事件: &quot;accessibility-support-changed&quot;  macos   windows",charIndex:null},{level:3,title:"事件:'session-created'",slug:"事件-session-created",normalizedTitle:"事件:'session-created'",charIndex:8198},{level:3,title:"事件: 'second-instance'",slug:"事件-second-instance",normalizedTitle:"事件: 'second-instance'",charIndex:8398},{level:3,title:"事件: 'desktop-capturer-get-sources'",slug:"事件-desktop-capturer-get-sources",normalizedTitle:"事件: 'desktop-capturer-get-sources'",charIndex:8803},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:8991},{level:3,title:"app.quit()",slug:"app-quit",normalizedTitle:"app.quit()",charIndex:138},{level:3,title:"app.exit([exitCode])",slug:"app-exit-exitcode",normalizedTitle:"app.exit([exitcode])",charIndex:9231},{level:3,title:"app.relaunch([options])",slug:"app-relaunch-options",normalizedTitle:"app.relaunch([options])",charIndex:9373},{level:3,title:"app.isReady()",slug:"app-isready",normalizedTitle:"app.isready()",charIndex:690},{level:3,title:"app.whenReady()",slug:"app-whenready",normalizedTitle:"app.whenready()",charIndex:722},{level:3,title:"app.focus([options])",slug:"app-focus-options",normalizedTitle:"app.focus([options])",charIndex:10095},{level:3,title:"app.hide() macOS",slug:"app-hide-macos",normalizedTitle:"app.hide() macos",charIndex:10303},{level:3,title:"app.show() macOS",slug:"app-show-macos",normalizedTitle:"app.show() macos",charIndex:10342},{level:3,title:"app.setAppLogsPath([path])",slug:"app-setapplogspath-path",normalizedTitle:"app.setapplogspath([path])",charIndex:10391},{level:3,title:"app.getAppPath()",slug:"app-getapppath",normalizedTitle:"app.getapppath()",charIndex:10670},{level:3,title:"app.getPath(name)",slug:"app-getpath-name",normalizedTitle:"app.getpath(name)",charIndex:10718},{level:3,title:"app.getFileIcon(path[, options])",slug:"app-getfileicon-path-options",normalizedTitle:"app.getfileicon(path[, options])",charIndex:11471},{level:3,title:"app.setPath(name, path)",slug:"app-setpath-name-path",normalizedTitle:"app.setpath(name, path)",charIndex:11876},{level:3,title:"app.getVersion()",slug:"app-getversion",normalizedTitle:"app.getversion()",charIndex:12163},{level:3,title:"app.getName()",slug:"app-getname",normalizedTitle:"app.getname()",charIndex:12258},{level:3,title:"app.setName(name)",slug:"app-setname-name",normalizedTitle:"app.setname(name)",charIndex:12456},{level:3,title:"app.getLocale()",slug:"app-getlocale",normalizedTitle:"app.getlocale()",charIndex:12550},{level:3,title:"app.getLocaleCountryCode()",slug:"app-getlocalecountrycode",normalizedTitle:"app.getlocalecountrycode()",charIndex:12819},{level:3,title:"app.addRecentDocument(path) macOS Windows",slug:"app-addrecentdocument-path-macos-windows",normalizedTitle:"app.addrecentdocument(path) macos windows",charIndex:12936},{level:3,title:"app.clearRecentDocuments() macOS Windows",slug:"app-clearrecentdocuments-macos-windows",normalizedTitle:"app.clearrecentdocuments() macos windows",charIndex:13079},{level:3,title:"app.setAsDefaultProtocolClient(protocol[, path, args])",slug:"app-setasdefaultprotocolclient-protocol-path-args",normalizedTitle:"app.setasdefaultprotocolclient(protocol[, path, args])",charIndex:13137},{level:3,title:"app.removeAsDefaultProtocolClient(protocol[, path, args]) macOS Windows",slug:"app-removeasdefaultprotocolclient-protocol-path-args-macos-windows",normalizedTitle:"app.removeasdefaultprotocolclient(protocol[, path, args]) macos windows",charIndex:13926},{level:3,title:"app.isDefaultProtocolClient(protocol[, path, args])",slug:"app-isdefaultprotocolclient-protocol-path-args",normalizedTitle:"app.isdefaultprotocolclient(protocol[, path, args])",charIndex:14212},{level:3,title:"app.getApplicationNameForProtocol(url)",slug:"app-getapplicationnameforprotocol-url",normalizedTitle:"app.getapplicationnameforprotocol(url)",charIndex:14658},{level:3,title:"app.getApplicationInfoForProtocol(url) macOS Windows",slug:"app-getapplicationinfoforprotocol-url-macos-windows",normalizedTitle:"app.getapplicationinfoforprotocol(url) macos windows",charIndex:14987},{level:3,title:"app.setUserTasks(tasks) Windows",slug:"app-setusertasks-tasks-windows",normalizedTitle:"app.setusertasks(tasks) windows",charIndex:15325},{level:3,title:"app.getJumpListSettings() Windows",slug:"app-getjumplistsettings-windows",normalizedTitle:"app.getjumplistsettings() windows",charIndex:15539},{level:3,title:"app.setJumpList(categories) Windows",slug:"app-setjumplist-categories-windows",normalizedTitle:"app.setjumplist(categories) windows",charIndex:15812},{level:3,title:"app.requestSingleInstanceLock()",slug:"app-requestsingleinstancelock",normalizedTitle:"app.requestsingleinstancelock()",charIndex:8529},{level:3,title:"app.hasSingleInstanceLock()",slug:"app-hassingleinstancelock",normalizedTitle:"app.hassingleinstancelock()",charIndex:19022},{level:3,title:"app.releaseSingleInstanceLock()",slug:"app-releasesingleinstancelock",normalizedTitle:"app.releasesingleinstancelock()",charIndex:19131},{level:3,title:"app.setUserActivity(type, userInfo[, webpageURL]) macOS",slug:"app-setuseractivity-type-userinfo-webpageurl-macos",normalizedTitle:"app.setuseractivity(type, userinfo[, webpageurl]) macos",charIndex:19270},{level:3,title:"app.getCurrentActivityType() macOS",slug:"app-getcurrentactivitytype-macos",normalizedTitle:"app.getcurrentactivitytype() macos",charIndex:19562},{level:3,title:"app.invalidateCurrentActivity() macOS",slug:"app-invalidatecurrentactivity-macos",normalizedTitle:"app.invalidatecurrentactivity() macos",charIndex:19633},{level:3,title:"app.resignCurrentActivity() macOS",slug:"app-resigncurrentactivity-macos",normalizedTitle:"app.resigncurrentactivity() macos",charIndex:19695},{level:3,title:"app.updateCurrentActivity(type, userInfo) macOS",slug:"app-updatecurrentactivity-type-userinfo-macos",normalizedTitle:"app.updatecurrentactivity(type, userinfo) macos",charIndex:19765},{level:3,title:"app.setAppUserModelId(id) Windows",slug:"app-setappusermodelid-id-windows",normalizedTitle:"app.setappusermodelid(id) windows",charIndex:19964},{level:3,title:"app.setActivationPolicy(policy) macOS",slug:"app-setactivationpolicy-policy-macos",normalizedTitle:"app.setactivationpolicy(policy) macos",charIndex:20057},{level:3,title:"app.importCertificate(options, callback) Linux",slug:"app-importcertificate-options-callback-linux",normalizedTitle:"app.importcertificate(options, callback) linux",charIndex:20348},{level:3,title:"app.configureHostResolver(options)",slug:"app-configurehostresolver-options",normalizedTitle:"app.configurehostresolver(options)",charIndex:20628},{level:3,title:"app.disableHardwareAcceleration()",slug:"app-disablehardwareacceleration",normalizedTitle:"app.disablehardwareacceleration()",charIndex:22956},{level:3,title:"app.disableDomainBlockingFor3DAPIs()",slug:"app-disabledomainblockingfor3dapis",normalizedTitle:"app.disabledomainblockingfor3dapis()",charIndex:23039},{level:3,title:"app.getAppMetrics()",slug:"app-getappmetrics",normalizedTitle:"app.getappmetrics()",charIndex:23191},{level:3,title:"app.getGPUFeatureStatus()",slug:"app-getgpufeaturestatus",normalizedTitle:"app.getgpufeaturestatus()",charIndex:23283},{level:3,title:"app.getGPUInfo(infoType)",slug:"app-getgpuinfo-infotype",normalizedTitle:"app.getgpuinfo(infotype)",charIndex:23397},{level:3,title:"app.setBadgeCount([count]) Linux macOS",slug:"app-setbadgecount-count-linux-macos",normalizedTitle:"app.setbadgecount([count]) linux macos",charIndex:24444},{level:3,title:"app.getBadgeCount() Linux macOS",slug:"app-getbadgecount-linux-macos",normalizedTitle:"app.getbadgecount() linux macos",charIndex:24766},{level:3,title:"app.isUnityRunning() Linux",slug:"app-isunityrunning-linux",normalizedTitle:"app.isunityrunning() linux",charIndex:24844},{level:3,title:"app.getLoginItemSettings([options]) macOS Windows",slug:"app-getloginitemsettings-options-macos-windows",normalizedTitle:"app.getloginitemsettings([options]) macos windows",charIndex:24914},{level:3,title:"app.setLoginItemSettings(settings) macOS Windows",slug:"app-setloginitemsettings-settings-macos-windows",normalizedTitle:"app.setloginitemsettings(settings) macos windows",charIndex:26125},{level:3,title:"app.isAccessibilitySupportEnabled() macOS Windows",slug:"app-isaccessibilitysupportenabled-macos-windows",normalizedTitle:"app.isaccessibilitysupportenabled() macos windows",charIndex:27205},{level:3,title:"app.setAccessibilitySupportEnabled(enabled) macOS Windows",slug:"app-setaccessibilitysupportenabled-enabled-macos-windows",normalizedTitle:"app.setaccessibilitysupportenabled(enabled) macos windows",charIndex:27429},{level:3,title:"app.showAboutPanel()",slug:"app-showaboutpanel",normalizedTitle:"app.showaboutpanel()",charIndex:27675},{level:3,title:"app.setAboutPanelOptions(options)",slug:"app-setaboutpaneloptions-options",normalizedTitle:"app.setaboutpaneloptions(options)",charIndex:27760},{level:3,title:"app.isEmojiPanelSupported()",slug:"app-isemojipanelsupported",normalizedTitle:"app.isemojipanelsupported()",charIndex:28474},{level:3,title:"app.showEmojiPanel() macOS Windows",slug:"app-showemojipanel-macos-windows",normalizedTitle:"app.showemojipanel() macos windows",charIndex:28542},{level:3,title:"app.startAccessingSecurityScopedResource(bookmarkData) macOS",slug:"app-startaccessingsecurityscopedresource-bookmarkdata-macos",normalizedTitle:"app.startaccessingsecurityscopedresource(bookmarkdata) macos",charIndex:28599},{level:3,title:"app.enableSandbox()",slug:"app-enablesandbox",normalizedTitle:"app.enablesandbox()",charIndex:29185},{level:3,title:"app.isInApplicationsFolder() macOS",slug:"app-isinapplicationsfolder-macos",normalizedTitle:"app.isinapplicationsfolder() macos",charIndex:29308},{level:3,title:"app.moveToApplicationsFolder([options]) macOS",slug:"app-movetoapplicationsfolder-options-macos",normalizedTitle:"app.movetoapplicationsfolder([options]) macos",charIndex:29420},{level:3,title:"app.isSecureKeyboardEntryEnabled() macOS",slug:"app-issecurekeyboardentryenabled-macos",normalizedTitle:"app.issecurekeyboardentryenabled() macos",charIndex:30535},{level:3,title:"app.setSecureKeyboardEntryEnabled(enabled) macOS",slug:"app-setsecurekeyboardentryenabled-enabled-macos",normalizedTitle:"app.setsecurekeyboardentryenabled(enabled) macos",charIndex:30647},{level:2,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:16313},{level:3,title:"app.accessibilitySupportEnabled macOS Windows",slug:"app-accessibilitysupportenabled-macos-windows",normalizedTitle:"app.accessibilitysupportenabled macos windows",charIndex:30899},{level:3,title:"app.applicationMenu",slug:"app-applicationmenu",normalizedTitle:"app.applicationmenu",charIndex:31195},{level:3,title:"app.badgeCount Linux macOS",slug:"app-badgecount-linux-macos",normalizedTitle:"app.badgecount linux macos",charIndex:31283},{level:3,title:"app.commandLine 只读",slug:"app-commandline-只读",normalizedTitle:"app.commandline 只读",charIndex:31540},{level:3,title:"app.dock macOS 只读",slug:"app-dock-macos-只读",normalizedTitle:"app.dock macos 只读",charIndex:31607},{level:3,title:"app.isPackaged 只读",slug:"app-ispackaged-只读",normalizedTitle:"app.ispackaged 只读",charIndex:31681},{level:3,title:"app.name",slug:"app-name",normalizedTitle:"app.name",charIndex:31773},{level:3,title:"app.userAgentFallback",slug:"app-useragentfallback",normalizedTitle:"app.useragentfallback",charIndex:31964},{level:3,title:"app.runningUnderRosettaTranslation macOS Readonly Deprecated",slug:"app-runningunderrosettatranslation-macos-readonly-deprecated",normalizedTitle:"app.runningunderrosettatranslation macos readonly deprecated",charIndex:32126},{level:3,title:"app.runningUnderARM64Translation Readonly macOS Windows",slug:"app-runningunderarm64translation-readonly-macos-windows",normalizedTitle:"app.runningunderarm64translation readonly macos windows",charIndex:32452}],headersStr:"事件 事件: 'will-finish-launching' 事件: 'ready' 事件: 'window-all-closed' 事件：'before-quit' 事件: 'will-quit' 事件: 'quit' 事件: 'open-file' macOS 事件: 'open-url' macOS 事件: 'activate' macOS 事件: 'did-groupe-active' macOS 事件: 'continue-activity' macOS 事件: 'will-continue-activity' macOS 事件: 'continue-activity-error' macOS 事件: 'activity-was-continued' macOS 事件: 'update-activity-state' macOS 事件: 'new-window-for-tab' macOS 事件: 'browser-window-blur' 事件: 'browser-window-focus' 事件: 'browser-window-created' 事件: 'web-contents-created' 事件: 'certificate-error' 事件: 'select-client-certificate' 事件: \"login\" 事件: 'gpu-info-update' 事件: 'gpu-process-crashed' 已废弃 事件: 'renderer-process-crashed' 已废弃 事件: 'render-process-gone' 事件: 'child-process-gone' 事件: \"accessibility-support-changed\"  macOS   Windows 事件:'session-created' 事件: 'second-instance' 事件: 'desktop-capturer-get-sources' 方法 app.quit() app.exit([exitCode]) app.relaunch([options]) app.isReady() app.whenReady() app.focus([options]) app.hide() macOS app.show() macOS app.setAppLogsPath([path]) app.getAppPath() app.getPath(name) app.getFileIcon(path[, options]) app.setPath(name, path) app.getVersion() app.getName() app.setName(name) app.getLocale() app.getLocaleCountryCode() app.addRecentDocument(path) macOS Windows app.clearRecentDocuments() macOS Windows app.setAsDefaultProtocolClient(protocol[, path, args]) app.removeAsDefaultProtocolClient(protocol[, path, args]) macOS Windows app.isDefaultProtocolClient(protocol[, path, args]) app.getApplicationNameForProtocol(url) app.getApplicationInfoForProtocol(url) macOS Windows app.setUserTasks(tasks) Windows app.getJumpListSettings() Windows app.setJumpList(categories) Windows app.requestSingleInstanceLock() app.hasSingleInstanceLock() app.releaseSingleInstanceLock() app.setUserActivity(type, userInfo[, webpageURL]) macOS app.getCurrentActivityType() macOS app.invalidateCurrentActivity() macOS app.resignCurrentActivity() macOS app.updateCurrentActivity(type, userInfo) macOS app.setAppUserModelId(id) Windows app.setActivationPolicy(policy) macOS app.importCertificate(options, callback) Linux app.configureHostResolver(options) app.disableHardwareAcceleration() app.disableDomainBlockingFor3DAPIs() app.getAppMetrics() app.getGPUFeatureStatus() app.getGPUInfo(infoType) app.setBadgeCount([count]) Linux macOS app.getBadgeCount() Linux macOS app.isUnityRunning() Linux app.getLoginItemSettings([options]) macOS Windows app.setLoginItemSettings(settings) macOS Windows app.isAccessibilitySupportEnabled() macOS Windows app.setAccessibilitySupportEnabled(enabled) macOS Windows app.showAboutPanel() app.setAboutPanelOptions(options) app.isEmojiPanelSupported() app.showEmojiPanel() macOS Windows app.startAccessingSecurityScopedResource(bookmarkData) macOS app.enableSandbox() app.isInApplicationsFolder() macOS app.moveToApplicationsFolder([options]) macOS app.isSecureKeyboardEntryEnabled() macOS app.setSecureKeyboardEntryEnabled(enabled) macOS 属性 app.accessibilitySupportEnabled macOS Windows app.applicationMenu app.badgeCount Linux macOS app.commandLine 只读 app.dock macOS 只读 app.isPackaged 只读 app.name app.userAgentFallback app.runningUnderRosettaTranslation macOS Readonly Deprecated app.runningUnderARM64Translation Readonly macOS Windows",content:"# app\n\n> 控制应用程序的事件生命周期。\n\n进程：主进程\n\n下面的这个例子将会展示如何在最后一个窗口被关闭时退出应用：\n\nconst { app } = require('electron')\napp.on('window-all-closed', () => {\n  app.quit()\n})\n\n\n1\n2\n3\n4\n\n\n\n# 事件\n\napp 对象会发出以下事件:\n\n\n# 事件: 'will-finish-launching'\n\n当应用程序完成基础的启动的时候被触发。 在 Windows 和 Linux 中, will-finish-launching 事件与 ready 事件是相同的; 在 macOS 中，这个事件相当于 NSApplication 中的 applicationWillFinishLaunching 提示。 通常会在这里为 open-file 和 open-url 设置监听器，并启动崩溃报告和自动更新。\n\n绝大部分情况下，你必须在ready事件句柄中处理所有事务。\n\n\n# 事件: 'ready'\n\n返回:\n\n * event Event\n * launchInfo Record<string, any> | NotificationResponse macOS\n\n当 Electron 完成初始化时，发出一次。 在 macOS 上，如果从通知中心启动， launchInfo 内含有用于打开应用程序的 NSUserNotification 或来自 UNNotificationResponse 的 userInfo 信息。 你也可以通过调用 app.isReady() 来检查该事件是否已被触发，以及通过 app.whenReady() 得到一个当Electron已初始化后fulfill 的 Promise。\n\n\n# 事件: 'window-all-closed'\n\n当所有的窗口都被关闭时触发。\n\n如果你没有监听此事件并且所有窗口都关闭了，默认的行为是控制退出程序；但如果你监听了此事件，你可以控制是否退出程序。 如果用户按下了 Cmd + Q，或者开发者调用了 app.quit()，Electron 会首先关闭所有的窗口然后触发 will-quit 事件，在这种情况下 window-all-closed 事件不会被触发。\n\n\n# 事件：'before-quit'\n\n返回:\n\n * event Event\n\n在程序关闭窗口前发信号。 调用 event.preventDefault() 将阻止终止应用程序的默认行为。\n\n注意： 如果由 autoUpdater.quitAndInstal() 退出应用程序 ，那么在所有窗口触发 close 之后 才会触发 before-quit 并关闭所有窗口。\n\n**注:**在 Windows 系统中，如果应用程序因系统关机/重启或用户注销而关闭，那么这个事件不会被触发。\n\n\n# 事件: 'will-quit'\n\n返回:\n\n * event Event\n\n当所有窗口被关闭后触发，同时应用程序将退出。 调用 event.preventDefault() 将阻止终止应用程序的默认行为。\n\n关于 window-all-closed 和 will-quit 事件之间的差异, 请参见 window-all-closed 事件的说明。\n\n**注:**在 Windows 系统中，如果应用程序因系统关机/重启或用户注销而关闭，那么这个事件不会被触发。\n\n\n# 事件: 'quit'\n\n返回:\n\n * event Event\n * exitCode Integer\n\n在应用程序退出时发出。\n\n**注:**在 Windows 系统中，如果应用程序因系统关机/重启或用户注销而关闭，那么这个事件不会被触发。\n\n\n# 事件: 'open-file' macOS\n\n返回:\n\n * event Event\n * path String\n\n当用户想要在应用中打开一个文件时发出。 open-file 事件通常在应用已经打开，并且系统要再次使用该应用打开文件时发出。 open-file也会在一个文件被拖到 dock 并且还没有运行的时候发出。 请确认在应用启动的时候(甚至在 ready 事件发出前) 就对 open-file 事件进行监听。\n\n如果你想处理这个事件，你应该调用 event.preventDefault() 。\n\n在 Windows 系统中，你需要解析 process.argv (在主进程中) 来获取文件路径\n\n\n# 事件: 'open-url' macOS\n\n返回:\n\n * event Event\n * url String\n\n当用户想要在应用中打开一个 URL 时发出。 你的应用程序的 Info. plist 文件必须在 CFBundleURLTypes 这个key中定义 url scheme, 并将 NSPrincipalClass 设置为 AtomApplication。\n\n如果你想处理这个事件，你应该调用 event.preventDefault() 。\n\n\n# 事件: 'activate' macOS\n\n返回:\n\n * event Event\n * hasVisibleWindows Boolean\n\n当应用被激活时发出。 各种操作都可以触发此事件, 例如首次启动应用程序、尝试在应用程序已运行时或单击应用程序的坞站或任务栏图标时重新激活它。\n\n\n# 事件: 'did-groupe-active' macOS\n\n返回:\n\n * event Event\n\n当应用被激活时发出。 与 activate 事件的不同是应用，程序激活时都会触发 did-become-active ，而不仅仅在 Dock 图标被点击或应用程序被重新启动的时候。\n\n\n# 事件: 'continue-activity' macOS\n\n返回:\n\n * event Event\n * typeString-标识活动的字符串。 映射到 NSUserActivity. activityType。\n * userInfo unknown - 包含另一个设备上activity存储的应用特定状态。\n * details Object\n   * webpageURL String (optional) - A string identifying the URL of the webpage accessed by the activity on another device, if available.\n\n当来自不同设备的活动通过 Handoff 想要恢复时触发。 如果你想处理这个事件，你应该调用 event.preventDefault() 。\n\n只有具有支持相应的活动类型并且相同的开发团队 ID 作为启动程序时，用户行为才会进行。 所支持活动类型已在应用的 Info.plist 中的 NSUserActivityTypes 里明确定义。\n\n\n# 事件: 'will-continue-activity' macOS\n\n返回:\n\n * event Event\n * typeString-标识活动的字符串。 映射到 NSUserActivity. activityType。\n\n当来自不同设备的活动通过 Handoff 恢复之前触发。 如果你想处理这个事件，你应该调用 event.preventDefault() 。\n\n\n# 事件: 'continue-activity-error' macOS\n\n返回:\n\n * event Event\n * typeString-标识活动的字符串。 映射到 NSUserActivity. activityType。\n * error String - 详细的错误信息\n\n当来自不同设备的活动通过 Handoff 恢复失败时触发。\n\n\n# 事件: 'activity-was-continued' macOS\n\n返回:\n\n * event Event\n * typeString-标识活动的字符串。 映射到 NSUserActivity. activityType。\n * userInfo unknown - 包含activity存储的应用特定状态。\n\n当来自不同设备的活动通过 Handoff 成功恢复后触发。\n\n\n# 事件: 'update-activity-state' macOS\n\n返回:\n\n * event Event\n * typeString-标识活动的字符串。 映射到 NSUserActivity. activityType。\n * userInfo unknown - 包含activity存储的应用特定状态。\n\n当 Handoff 即将通过另一个设备恢复时触发。 如果需要更新要传输的状态，你应该立即调用 event.preventDefault(), 构造新的 userInfo 字典，并及时调用 app.updateCurrentActiviy()。 否则，操作会失败，并且触发 continue-activity-error\n\n\n# 事件: 'new-window-for-tab' macOS\n\n返回:\n\n * event Event\n\n当用户点击原生的macOS新标签按钮时触发。 只有在当前 BrowserWindow 有 tabbingIdentifier 时，新建tab按钮才可见。\n\n\n# 事件: 'browser-window-blur'\n\n返回:\n\n * event Event\n * window BrowserWindow\n\n在 browserWindow 失去焦点时发出。\n\n\n# 事件: 'browser-window-focus'\n\n返回:\n\n * event Event\n * window BrowserWindow\n\n在 browserWindow 获得焦点时发出。\n\n\n# 事件: 'browser-window-created'\n\n返回:\n\n * event Event\n * window BrowserWindow\n\n在创建新的 browserWindow 时发出。\n\n\n# 事件: 'web-contents-created'\n\n返回:\n\n * event Event\n * webContents WebContents\n\n在创建新的 webContents 时发出。\n\n\n# 事件: 'certificate-error'\n\n返回:\n\n * event Event\n * webContents WebContents\n * url String\n * error String - 错误码\n * certificate 证书\n * callback Function\n   * isTrustedBoolean-是否将证书视为可信的\n * isMainFrame Boolean\n\n当对 url 的 certificate 证书验证失败的时候发出。如果需要信任这个证书，你需要阻止默认行为 event.preventDefault() 并且调用 callback(true)。\n\nconst { app } = require('electron')\n\napp.on('certificate-error', (event, webContents, url, error, certificate, callback) => {\n  if (url === 'https://github.com') {\n    // Verification logic.\n    event.preventDefault()\n    callback(true)\n  } else {\n    callback(false)\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 事件: 'select-client-certificate'\n\n返回:\n\n * event Event\n * webContents WebContents\n * url URL\n * certificateList 证书[]\n * callback Function\n   * certificate 证书 (可选)\n\n当一个客户证书被请求的时候发出。\n\nurl 指的是请求客户端认证的网页地址，调用 callback 时需要传入一个证书列表中的证书。 需要通过调用 event.preventDefault() 来防止应用自动使用第一个证书进行验证。\n\nconst { app } = require('electron')\n\napp.on('select-client-certificate', (event, webContents, url, list, callback) => {\n  event.preventDefault()\n  callback(list[0])\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 事件: \"login\"\n\n返回:\n\n * event Event\n * webContents WebContents\n * authenticationResponseDetails Object\n   * url URL\n * authInfo Object\n   * isProxy Boolean\n   * scheme String\n   * host String\n   * port Integer\n   * realm String\n * callback Function\n   * username String (可选)\n   * password String (可选)\n\n当 webContents 要进行基本身份验证时触发。\n\n默认行为是取消所有身份验证。 默认行为是取消所有的验证行为，如果需要重写这个行为，你需要用 event.preventDefault() 来阻止默认行为，并且使用 callback(username, password) 来验证。\n\nconst { app } = require('electron')\n\napp.on('login', (event, webContents, details, authInfo, callback) => {\n  event.preventDefault()\n  callback('username', 'secret')\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n当 callback 在缺少用户名和密码的时候被调用，身份验证请求将被取消，同时将返回身份验证错误到页面。\n\n\n# 事件: 'gpu-info-update'\n\n每当有 GPU 信息更新时触发。\n\n\n# 事件: 'gpu-process-crashed' 已废弃\n\n返回:\n\n * event Event\n * killed Boolean\n\n当gpu进程崩溃或关闭（杀死）时触发\n\n**已废弃：**这个事件被包含更多子进程退出信息原因的child-process-gone事件取代了。 并不总是因为崩溃而触发。 当你换用child-process-gone事件时，原事件的 killed 布尔值可以被 reason === 'killed' 取代。\n\n\n# 事件: 'renderer-process-crashed' 已废弃\n\n返回:\n\n * event Event\n * webContents WebContents\n * killed Boolean\n\n当渲染器进程webContents崩溃或关闭（杀死）时触发。\n\n已废弃： 此事件被包含更多关于渲染过程为何消失的信息的 render-process-gone 事件替代了 并不总是因为崩溃而触发。 当你换用child-process-gone事件时，原事件的 killed 布尔值可以被 reason === 'killed' 取代。\n\n\n# 事件: 'render-process-gone'\n\n返回:\n\n * event Event\n * webContents WebContents\n * details Object\n   * reason String - 渲染进程消失的原因。 可选值：\n     * clean-exit - 以零为退出代码退出的进程\n     * abnormal-exit - 以非零退出代码退出的进程\n     * killed - 进程发送一个SIGTERM，否则是被外部杀死的。\n     * crashed - 进程崩溃\n     * oom - 进程内存不足\n     * launch-failed - 进程从未成功启动\n     * integrity-failure - 窗口代码完整性检查失败\n   * exitCode Integer - 进程的退出代码，除非在 reason 是 launch-failed 的情况下， exitCode 将是一个平台特定的启动失败错误代码。\n\n渲染器进程意外消失时触发。 这种情况通常因为进程崩溃或被杀死。\n\n\n# 事件: 'child-process-gone'\n\n返回:\n\n * event Event\n * details Object\n   * type String - 进程类型。 以下值之一：\n     * Utility\n     * Zygote\n     * Sandbox helper\n     * GPU\n     * Pepper Plugin\n     * Pepper Plugin Broker\n     * Unknown\n   * reason String - 子进程消失的原因。 可选值：\n     * clean-exit - 以零为退出代码退出的进程\n     * abnormal-exit - 以非零退出代码退出的进程\n     * killed - 进程发送一个SIGTERM，否则是被外部杀死的。\n     * crashed - 进程崩溃\n     * oom - 进程内存不足\n     * launch-failed - 进程从未成功启动\n     * integrity-failure - 窗口代码完整性检查失败\n   * exitCode Number - 进程的退出代码 (例如，在posix上，来自waitpid的状态；在Windows上则来自 GetExitCodeProcess)。\n   * serviceName String (可选) - 进程的非本地化名称。\n   * name String (可选) - 进程的名称。 功能性示例： Audio Service, Content Decryption Module Service, Network Service, Video Capture, 等等。\n\n子进程意外消失时触发。 这种情况通常因为进程崩溃或被杀死。 子进程不包括渲染器进程。\n\n\n# 事件: \"accessibility-support-changed\" _ macOS _ _ Windows _\n\n返回:\n\n * event Event\n * accessibilitySupportEnabled当启用了 Chrome 的辅助功能时为 true, 其他情况为 false。\n\n当 Chrome 的辅助功能状态改变时触发。 当启用或禁用辅助技术时将触发此事件，例如屏幕阅读器 。 查看更多详情 https://www.chromium.org/developers/design-documents/accessibility\n\n\n# 事件:'session-created'\n\n返回:\n\n * session Session\n\n当 Electron创建了一个新的 session后被触发.\n\nconst { app } = require('electron')\n\napp.on('session-created', (session) => {\n  console.log(session)\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# 事件: 'second-instance'\n\n返回:\n\n * event Event\n * argv String[] - 第二个实例的命令行参数数组\n * workingDirectory String - 第二个实例的工作目录\n\n当第二个实例被执行并且调用 app.requestSingleInstanceLock() 时，这个事件将在你的应用程序的首个实例中触发\n\nargv 是第二个实例的命令行参数的数组, workingDirectory 是这个实例当前工作目录。 通常, 应用程序会激活窗口并且取消最小化来响应。\n\n注意： 如果第二个实例是由不同于第一个实例的用户启动的。 argv 数组不包含参数。\n\n保证在 app 的 ready 事件发出后发出此事件。\n\n注意： 额外命令行参数可能由 Chromium 添加， ，例如 --original-process-start-time。\n\n\n# 事件: 'desktop-capturer-get-sources'\n\n返回:\n\n * event Event\n * webContents WebContents\n\n在 webContents 的渲染器进程中调用 desktopCapturer.getSources() 时触发。 调用 event.preventDefault() 将使它返回空的sources。\n\n\n# 方法\n\napp 对象具有以下方法:\n\n** 注意: **某些方法仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n\n# app.quit()\n\n尝试关闭所有窗口 将首先发出 before-quit 事件。 如果所有窗口都已成功关闭, 则将发出 will-quit 事件, 并且默认情况下应用程序将终止。\n\n此方法会确保执行所有beforeunload 和 unload事件处理程序。 可以在退出窗口之前的beforeunload事件处理程序中返回false取消退出。\n\n\n# app.exit([exitCode])\n\n * exitCode Integer (可选)\n\n使用 exitCode 立即退出。 exitCode 默认为0。\n\n所有窗口都将立即被关闭，而不询问用户，而且 before-quit 和 will-quit 事件也不会被触发。\n\n\n# app.relaunch([options])\n\n * options Object (可选)\n   * args String[] (可选)\n   * execPath String (可选)\n\n从当前实例退出，重启应用。\n\n默认情况下，新的实例将会使用和当前实例相同的工作目录以及命令行参数。 当设置了 args 参数时， args 将作为命令行参数传递。 当设置了 execPath ，execPath 将被执行以重新启动，而不是当前的应用程序。\n\n请注意, 此方法在执行时不会退出当前的应用程序, 你需要在调用 app.relaunch 方法后再执行 app. quit 或者 app.exit 来让应用重启。\n\n当 app.relaunch 被多次调用时,多个实例将在当前实例退出后启动。\n\n立即重启当前实例并向新的实例添加新的命令行参数的示例：\n\nconst { app } = require('electron')\n\napp.relaunch({ args: process.argv.slice(1).concat(['--relaunch']) })\napp.exit(0)\n\n\n1\n2\n3\n4\n\n\n\n# app.isReady()\n\n返回 Boolean 类型 - 如果 Electron 已经完成初始化，则返回 true, 其他情况为 false 另见 app.whenReady()。\n\n\n# app.whenReady()\n\n返回 Promise&lt;void&gt; - 当Electron 初始化完成。 可用作检查 app.isReady() 的方便选择，假如应用程序尚未就绪，则订阅ready事件。\n\n\n# app.focus([options])\n\n * options Object (可选)\n   * steal Boolean macOS - 使接收器成为激活的应用程序，即使另一个应用程序当前处于激活状态。\n\n在 Linux 上，使第一个可见窗口获得焦点。 在 macOS上，将应用程序变成激活的app。 在 Windows上，使应用程序的第一个窗口获得焦点。\n\n你应该尽可能少地使用 steal 选项。\n\n\n# app.hide() macOS\n\n隐藏所有的应用窗口，不是最小化.\n\n\n# app.show() macOS\n\n显示隐藏后的应用程序窗口。 不会使它们自动获得焦点。\n\n\n# app.setAppLogsPath([path])\n\n * path String (可选) - 日志存放的自定义路径。 必须是绝对路径。\n\n设置或创建一个您的应用程序日志目录，然后可以通过 app.getPath() 或 app.setPath(pathName, newPath) 进行操作。\n\n调用 app.setAppLogsPath() 却没有指定 path 参数将导致此目录在 macOS 下被设置为 ~/Library/Logs/YourAppName；在 Linux 和_Windows_ 下将被设置到 userData 目录中。\n\n\n# app.getAppPath()\n\n返回 String 类型 - 当前应用程序所在目录\n\n\n# app.getPath(name)\n\n * name String - 你可以通过这些名称请求下列路径：\n   * home 用户的 home 文件夹（主目录）\n   * appData 每个用户的应用程序数据目录，默认情况下指向：\n     * %APPDATA% Windows 中\n     * $XDG_CONFIG_HOME or ~/.config Linux 中\n     * ~/Library/Application Support macOS 中\n   * userData 储存你应用程序设置文件的文件夹，默认是 appData 文件夹附加应用的名称\n   * 缓存\n   * temp 临时文件夹\n   * exe当前的可执行文件\n   * module The libchromiumcontent 库\n   * desktop 当前用户的桌面文件夹\n   * documents 用户文档目录的路径\n   * downloads 用户下载目录的路径\n   * music 用户音乐目录的路径\n   * pictures 用户图片目录的路径\n   * videos 用户视频目录的路径\n   * recent 用户最近文件的目录 (仅限 Windows)。\n   * logs应用程序的日志文件夹\n   * crashDumps 崩溃转储文件存储的目录。\n\n返回 String - 一个与 name相关的特殊目录或文件的路径。 失败会抛出一个Error。\n\n如果 app.getPath('logs') 被调用前没有先调用 app.setAppLogsPath() ，将创建一个相当于调用 app.setAppLogsPath() 却没有 path 参数的默认日志目录。\n\n\n# app.getFileIcon(path[, options])\n\n * path String\n * options Object (可选)\n   * size String\n     * small - 16x16\n     * normal - 32x32\n     * large - _Linux_上是 48x48, Windows 上是 32x32, macOS 中无效\n\n返回 Promise<NativeImage> - 完成后返回当前应用的图标, 类型是 NativeImage.\n\n读取文件的关联图标。\n\n在 Windows 上, 会有两种图标：\n\n * 与某些文件扩展名相关联的图标, 比如 . mp3 ，. png 等。\n * 文件本身就带图标，像是 .exe, .dll, .ico\n\n在 Linux 和 macOS 系统中，图标取决于和应用程序绑定的 文件 mime 类型\n\n\n# app.setPath(name, path)\n\n * name String\n * path String\n\n重写 name 的路径为 path，一个特定的文件夹或者文件。 如果路径指向一个不存在的目录，则抛出一个 Error。 在这种情况下，目录应该以 fs.mkdirSync 或类似的方式创建。\n\nname 参数只能使用 app.getPath 定义过的 name\n\n默认情况下, 网页的 cookie 和缓存将存储在 userData 目录下。 如果要更改这个位置, 你需要在 app 模块中的 ready 事件被触发之前重写 userData 的路径。\n\n\n# app.getVersion()\n\n返回 String-加载的应用程序的版本。 如果应用程序的 package. json 文件中找不到版本号, 则返回当前包或者可执行文件的版本。\n\n\n# app.getName()\n\n返回 String-当前应用程序的名称, 它是应用程序的 package. json 文件中的名称。\n\n根据 npm 的命名规则, 通常 package.json 中的 name 字段是一个短的小写字符串。 通常还应该指定一个 productName 字段, 是首字母大写的完整名称，用于表示应用程序的名称。Electron 会优先使用这个字段作为应用名。\n\n\n# app.setName(name)\n\n * name String\n\n设置当前应用程序的名字\n\n注意： 此函数会覆盖Electron内部使用的名称；它不会影响操作系统使用的名称。\n\n\n# app.getLocale()\n\n返回 String - 当前应用程序区域，使用Chromium的 l10n_util 库获取。 可能的返回值记录在这里。\n\nTo set the locale, you'll want to use a command line switch at app startup, which may be found here.\n\n** 注意: **分发打包的应用程序时, 你必须指定 locales 文件夹。\n\n注意： 在 Windows 上，你必须得等 ready 事件触发之后，才能调用该方法\n\n\n# app.getLocaleCountryCode()\n\n返回 String - 用户操作系统区域设置的双字母 ISO 3166 国家代码。 该值取自本地操作系统 API。\n\n注意： 当无法检测本地国家代码时，它返回空字符串。\n\n\n# app.addRecentDocument(path) macOS Windows\n\n * path String\n\n将此 path 添加到最近打开的文件列表中\n\n此列表由操作系统管理。 在Windows上，您可以从任务栏访问此列表，在macOS上，您可以从dock菜单访问。\n\n\n# app.clearRecentDocuments() macOS Windows\n\n清空最近打开的文档列表\n\n\n# app.setAsDefaultProtocolClient(protocol[, path, args])\n\n * protocol String - 协议的名称, 不包含 ://。 例如，如果你希望应用处理 electron:// 链接，请以electron 为参数调用此方法。\n * path String (可选) Windows - Electron可执行文件路径。 默认为 process.execPath\n * args String[] (可选) Windows - 传递给可执行文件的参数。 默认为空数组。\n\n返回 Boolean-是否成功调用。\n\n将当前可执行文件的设置为协议(也就是 URI scheme) 的默认处理程序。 该方法允许你将应用更深入地集成到操作系统中。 一旦注册了，所有 your-protocol:// 开头的链接将使用当前可执行文件打开。 整个链接，包括协议部分，将作为参数传递给你的应用程序。\n\n** 注意: **在 macOS 上，您只能注册已添加到应用程序的 info.plist 中的协议，这个列表在运行时不能修改。 然而，你可以在构建时通过 Electron Forge, Electron Packager, 或通过文本编辑器编辑info.plist文件的方式修改。 有关详细信息，请参阅 Apple's documentation\n\n注意： 在 Windows Store 环境下(当打包为 appx)，此 API 对所有调用都返回 true，但它设置的注册表项将无法通过其他应用程序访问。 为了注册你的 Windows Store 应用程序作为默认的协议处理程序，你必须 在你的清单中声明协议。\n\nAPI 在内部使用 Windows 注册表和 LSSetDefaultHandlerForURLScheme。\n\n\n# app.removeAsDefaultProtocolClient(protocol[, path, args]) macOS Windows\n\n * protocol String - 协议的名称, 不包含 ://。\n * pathString (可选) _ Windows _-默认为 process.execPath\n * args String[] (可选) Windows - 默认为空数组\n\n返回 Boolean-是否成功调用。\n\n此方法检查当前可执行程序是否是协议(也就是URI scheme) 的默认处理程序。 如果是，则会将应用移除默认处理器。\n\n\n# app.isDefaultProtocolClient(protocol[, path, args])\n\n * protocol String - 协议的名称, 不包含 ://。\n * pathString (可选) _ Windows _-默认为 process.execPath\n * args String[] (可选) Windows - 默认为空数组\n\n返回 Boolean - 当前可执行程序是否是协议(也就是URI scheme) 的默认处理程序。\n\n** 注意: **在macOS上, 您可以使用此方法检查应用程序是否已注册为协议的默认协议处理程序。 同时可以通过查看 ~/Library/Preferences/com.apple.LaunchServices.plist 来确认。 有关详细信息，请参阅 Apple's documentation\n\nAPI 在内部使用 Windows 注册表和 LSCopyDefaultHandlerForURLScheme。\n\n\n# app.getApplicationNameForProtocol(url)\n\n * url String - 要检查的协议名称的 URL。 不同于家族中的其他方法，该方法接收至少包含 :// (例如：https://)的完整URL。\n\n返回 String - 处理协议的应用程序名称，或如果没有处理程序的空 字符串。 例如，如果Electron 是这个URL的默认 处理程序，那么在 Windows 和 Mac 上，这个返回值可以是 Electron。 然而，不要依赖于无法保证保持不变的精确格式。 Linux 上期望不同格式，可能带有 .desktop 后缀。\n\n此方法返回URL协议(也就是URI scheme) 的默认处理器的应用程序名称。\n\n\n# app.getApplicationInfoForProtocol(url) macOS Windows\n\n * url String - 要检查的协议名称的 URL。 不同于家族中的其他方法，该方法接收至少包含 :// (例如：https://)的完整URL。\n\n返回 Promise<Object> - resolve包含以下内容的object：\n\n * icon NativeImage - 处理协议的应用程序的显示图标。\n * path String - 处理协议的应用程序的安装路径。\n * name String - 处理协议的应用程序的显示名称。\n\n此方法返回包含应用程序名称，图标和默认协议处理器路径(也就是URI scheme) 的Promise。\n\n\n# app.setUserTasks(tasks) Windows\n\n * tasks Task[] - 由 Task 对象组成的数组\n\nWindows上添加 tasks 到 Jump List的 Tasks 类别。\n\ntasks 是 Task 对象组成的数组\n\n返回 Boolean-是否成功调用。\n\n** 注意: **如果您想自定义跳转列表, 请使用 aapp.setJumpList(categories) 来代替。\n\n\n# app.getJumpListSettings() Windows\n\n返回 Object:\n\n * minItems Integer - 将在跳转列表中显示项目的最小数量(有关此值的更详细描述，请参阅 MSDN docs).\n * removedItems JumpListItem[] - 用户已明确从Jump List自定义类别中删除的项对应的 JumpListItem 对象数组。 这些项目不能在 next 调用 app.setJumpList() 时重新添加到跳转列表中, Windows不会显示任何包含已删除项目的自定义类别.\n\n\n# app.setJumpList(categories) Windows\n\n * categories JumpListCategory[] | null - JumpListCategory 对象数组。\n\n设置或删除应用程序的自定义跳转列表，并返回以下字符串之一：\n\n * ok - 没有出现错误\n * error - 发生一个或多个错误，启用运行日志记录找出可能的原因。\n * invalidSeparatorError - 已尝试在跳转列表中向自定义类别添加分隔符。 分隔符只允许在标准 Tasks 类别下出现。\n * fileTypeRegistrationError -尝试向自定义跳转列表添加一个文件链接，但是该应用未注册处理该应用类型\n * customCategoryAccessDeniedError - 由于用户隐私或策略组设置，自定义类别无法添加到跳转列表。\n\n如果 categories 的值为 null， 之前设定的自定义跳转列表(如果存在) 将被替换为标准的应用跳转列表(由windows生成)\n\n注意： 如果一个 JumpListCategory 对象既没有设置 type 属性，也没有设置 name 属性，则假设其 type 是 tasks。 如果设置了 name 属性, 但省略了 type 属性, 则假定 type 为 custom。\n\n注意: 用户可以从自定义类别中移除项目， after 调用 app.setJumpList(categories) 方法之前， Windows不允许删除的项目添加回自定义类别。 尝试提前将删除的项目重新添加 到自定义类别中，将导致整个自定义类别被隐藏。 删除的项目可以使用 app.getJumpListSettings() 获取。\n\n注意： 跳列表项目 description 属性的最大长度为 260 个字符。 超过这个限制，当前项将不会被添加到跳转列表，也不会被展示。\n\n下面是创建自定义跳转列表的一个非常简单的示例:\n\nconst { app } = require('electron')\n\napp.setJumpList([\n  {\n    type: 'custom',\n    name: 'Recent Projects',\n    items: [\n      { type: 'file', path: 'C:\\\\Projects\\\\project1.proj' },\n      { type: 'file', path: 'C:\\\\Projects\\\\project2.proj' }\n    ]\n  },\n  { // has a name so `type` is assumed to be \"custom\"\n    name: 'Tools',\n    items: [\n      {\n        type: 'task',\n        title: 'Tool A',\n        program: process.execPath,\n        args: '--run-tool-a',\n        icon: process.execPath,\n        iconIndex: 0,\n        description: 'Runs Tool A'\n      },\n      {\n        type: 'task',\n        title: 'Tool B',\n        program: process.execPath,\n        args: '--run-tool-b',\n        icon: process.execPath,\n        iconIndex: 0,\n        description: 'Runs Tool B'\n      }\n    ]\n  },\n  { type: 'frequent' },\n  { // has no name and no type so `type` is assumed to be \"tasks\"\n    items: [\n      {\n        type: 'task',\n        title: 'New Project',\n        program: process.execPath,\n        args: '--new-project',\n        description: 'Create a new project.'\n      },\n      { type: 'separator' },\n      {\n        type: 'task',\n        title: 'Recover Project',\n        program: process.execPath,\n        args: '--recover-project',\n        description: 'Recover Project'\n      }\n    ]\n  }\n])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n\n# app.requestSingleInstanceLock()\n\n返回 Boolean\n\n此方法的返回值表示你的应用程序实例是否成功取得了锁。 如果它取得锁失败，你可以假设另一个应用实例已经取得了锁并且仍旧在运行，并立即退出。\n\nI.e. 如果当前进程是应用程序的主要实例，则此方法返回true，同时你的应用会继续运行。 如果当它返回 false如果你的程序没有取得锁，它应该立刻退出，并且将参数发送给那个已经取到锁的进程。\n\n在 macOS 上, 当用户尝试在 Finder 中打开您的应用程序的第二个实例时, 系统会通过发出 open-file 和 open-url 事件来自动强制执行单个实例,。 但是当用户在命令行中启动应用程序时, 系统的单实例机制将被绕过, 您必须手动调用此方法来确保单实例。\n\n在第二个实例启动时激活主实例窗口的示例:\n\nconst { app } = require('electron')\nlet myWindow = null\n\nconst gotTheLock = app.requestSingleInstanceLock()\n\nif (!gotTheLock) {\n  app.quit()\n} else {\n  app.on('second-instance', (event, commandLine, workingDirectory) => {\n    // 当运行第二个实例时,将会聚焦到myWindow这个窗口\n    if (myWindow) {\n      if (myWindow.isMinimized()) myWindow.restore()\n      myWindow.focus()\n    }\n  })\n\n  // 创建 myWindow, 加载应用的其余部分, etc...\n  app.whenReady().then(() => {\n    myWindow = createWindow()\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# app.hasSingleInstanceLock()\n\n返回 Boolean\n\n此方法返回你的应用实例当前是否持有单例锁。 你可以通过 app.requestSingleInstanceLock()请求锁，并且通过 app.releaseSingleInstanceLock() 释放锁。\n\n\n# app.releaseSingleInstanceLock()\n\n释放所有由 requestSingleInstanceLock 创建的锁。 该方法将允许应用程序的多个实例再次并行运行。\n\n\n# app.setUserActivity(type, userInfo[, webpageURL]) macOS\n\n * type String - 活动的唯一标识。 映射到 NSUserActivity. activityType。\n * userInfo any - 存储供其他设备使用的特定应用状态。\n * webpageURL String (可选) - 如果在返回的设备上没有安装合适的应用，要在浏览器中加载的网页。 协议必须是 http 或 https。\n\n创建一个 NSUserActivity 并将其设置为当前活动。 该活动之后可以Handoff到另一个设备。\n\n\n# app.getCurrentActivityType() macOS\n\n返回 String - 正在运行的 activity 的类型\n\n\n# app.invalidateCurrentActivity() macOS\n\n使当前的Handoff用户活动无效。\n\n\n# app.resignCurrentActivity() macOS\n\n将当前 Handoff 用户活动标记为非活动，但不使其失效。\n\n\n# app.updateCurrentActivity(type, userInfo) macOS\n\n * type String - 活动的唯一标识。 映射到 NSUserActivity. activityType。\n * userInfo any - 存储供其他设备使用的特定应用状态。\n\n当其类型与 type 匹配时更新当前活动, 将项目从 用户信息 合并到其当前 用户信息 字典中。\n\n\n# app.setAppUserModelId(id) Windows\n\n * id String\n\n改变当前应用的 Application User Model ID 为 id.\n\n\n# app.setActivationPolicy(policy) macOS\n\n * policy String - 可以是'regular', 'accessory', 或 'prohibited'。\n\n为给定应用设置激活策略。\n\n激活策略类型：\n\n * 'regulatory ' - 应用程序以普通应用出现在 Dock 中，可能有一个用户界面。\n * 'accessory' - 应用程序不会出现在 Dock 中，没有菜单栏， 但它可能会被程序或在点击其某个窗口时激活。\n * 'prohibited' - 应用程序不会出现在 Dock 中，可能无法创建窗口或被激活。\n\n\n# app.importCertificate(options, callback) Linux\n\n * 选项 对象\n   * certificate String - pkcs12 文件的路径\n   * password String - 证书的密码\n * callback Function\n   * result Integer - 导入结果\n\n将 pkcs12 格式的证书导入到平台证书库。 使用导入操作的 callback 调用返回 result ，值 0 表示成功，而任何其他值表示失败，根据Chromium net_error_list 。\n\n\n# app.configureHostResolver(options)\n\n * 选项 对象\n   * enableBuiltInResolver Boolean (optional) - Whether the built-in host resolver is used in preference to getaddrinfo. When enabled, the built-in resolver will attempt to use the system's DNS settings to do DNS lookups itself. Enabled by default on macOS, disabled by default on Windows and Linux.\n   * secureDnsMode String (optional) - Can be \"off\", \"automatic\" or \"secure\". Configures the DNS-over-HTTP mode. When \"off\", no DoH lookups will be performed. When \"automatic\", DoH lookups will be performed first if DoH is available, and insecure DNS lookups will be performed as a fallback. When \"secure\", only DoH lookups will be performed. Defaults to \"automatic\".\n   * secureDnsServers String[] (optional) - A list of DNS-over-HTTP server templates. See RFC8484 § 3 for details on the template format. Most servers support the POST method; the template for such servers is simply a URI. Note that for some DNS providers, the resolver will automatically upgrade to DoH unless DoH is explicitly disabled, even if there are no DoH servers provided in this list.\n   * enableAdditionalDnsQueryTypes Boolean (optional) - Controls whether additional DNS query types, e.g. HTTPS (DNS type 65) will be allowed besides the traditional A and AAAA queries when a request is being made via insecure DNS. Has no effect on Secure DNS which always allows additional types. 默认值为 true。\n\nConfigures host resolution (DNS and DNS-over-HTTPS). By default, the following resolvers will be used, in order:\n\n 1. DNS-over-HTTPS, if the DNS provider supports it, then\n 2. the built-in resolver (enabled on macOS only by default), then\n 3. the system's resolver (e.g. getaddrinfo).\n\nThis can be configured to either restrict usage of non-encrypted DNS (secureDnsMode: \"secure\"), or disable DNS-over-HTTPS (secureDnsMode: \"off\"). It is also possible to enable or disable the built-in resolver.\n\nTo disable insecure DNS, you can specify a secureDnsMode of \"secure\". If you do so, you should make sure to provide a list of DNS-over-HTTPS servers to use, in case the user's DNS configuration does not include a provider that supports DoH.\n\napp.configureHostResolver({\n  secureDnsMode: 'secure',\n  secureDnsServers: [\n    'https://cloudflare-dns.com/dns-query'\n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n此 API 必须在 ready 事件触发后调用\n\n\n# app.disableHardwareAcceleration()\n\n禁用当前应用程序的硬件加速。\n\n这个方法只能在应用程序准备就绪（ready）之前调用。\n\n\n# app.disableDomainBlockingFor3DAPIs()\n\n默认情况下, 如果 GPU 进程频繁崩溃, Chromium 会禁用 3D API (例如 WebGL) 直到在每个域的基础上重新启动。 这个函数会禁用该行为。\n\n这个方法只能在应用程序准备就绪（ready）之前调用。\n\n\n# app.getAppMetrics()\n\n返回 ProcessMetric[]: 包含所有与应用相关的进程的内存和CPU的使用统计的 ProcessMetric 对象的数组。\n\n\n# app.getGPUFeatureStatus()\n\n返回 GPUFeatureStatus-来自 chrome://gpu/ 的图形功能状态。\n\n注意： 此信息仅在 gpu-info-update 事件触发后才可用。\n\n\n# app.getGPUInfo(infoType)\n\n * infoType String - 可以是 basic 或 complete。\n\n返回 Promise<unknown>\n\n对于infoType等于complete： Promise 将包含所有GPU信息的Object正如 chromium's GPUInfo object。 这包括 chrome://gpu 页面上显示的版本和驱动程序信息。\n\n对于infoType等于basic： Promise 至少包含当请求complete时的属性Object。 下面是一个基础响应示例：\n\n{\n  auxAttributes:\n   {\n     amdSwitchable: true,\n     canSupportThreadedTextureMailbox: false,\n     directComposition: false,\n     directRendering: true,\n     glResetNotificationStrategy: 0,\n     inProcessGpu: true,\n     initializationTime: 0,\n     jpegDecodeAcceleratorSupported: false,\n     optimus: false,\n     passthroughCmdDecoder: false,\n     sandboxed: false,\n     softwareRendering: false,\n     supportsOverlays: false,\n     videoDecodeAcceleratorFlags: 0\n   },\n  gpuDevice:\n   [{ active: true, deviceId: 26657, vendorId: 4098 },\n     { active: false, deviceId: 3366, vendorId: 32902 }],\n  machineModelName: 'MacBookPro',\n  machineModelVersion: '11.5'\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n如果只需要基本信息，如vendorId或driverId，则应优先使用basic。\n\n\n# app.setBadgeCount([count]) Linux macOS\n\n * count Integer (可选) - 如果传入值，则将角标设置为所传入值，否则，在 macOS 上显示一个普通的白点(例如：通知数量未知)。 在 Linux 上，如果没有传入值，角标将不会显示。\n\n返回 Boolean-是否成功调用。\n\n为当前应用设置计数器角标。 将计数设置为 0 将隐藏角标。\n\n在 macOS 上，它会在dock 图标上显示。 在 Linux 上，它只适用于 Unity 启动器。\n\n注意： Unity 启动器需要一个 .desktop 文件才能工作。 欲了解更多信息， 请阅读 Unity integration 文档。\n\n\n# app.getBadgeCount() Linux macOS\n\nReturns Integer - 获取计数器提醒(badge) 中显示的当前值\n\n\n# app.isUnityRunning() Linux\n\nReturns Boolean - 当前桌面环境是否为 Unity 启动器\n\n\n# app.getLoginItemSettings([options]) macOS Windows\n\n * options Object (可选)\n   * path String (可选) Windows - 要比较的可执行路径。 默认为 process.execPath。\n   * args String[] (可选) Windows - 要比较的命令行参数。 默认为空数组。\n\n如果你为 app. setLoginItemSettings 提供path 和 args 选项，那么你需要在这里为 openAtLogin 设置相同的参数已确保正确的设置。\n\n返回 Object:\n\n * openAtLogin Boolean - true 如果应用程序设置为在登录时打开, 则为 <0>true</0>\n * openAsHidden Boolean macOS - 当应用程序设置为在登录时隐藏打开为true。 此设置在 MAS 构建 上不可用。\n * wasOpenedAtLogin Boolean macOS - 当应用程序在登录时自动运行为true。 此设置在 MAS 构建 上不可用。\n * wasOpenedAsHidden Boolean macOS - 当应用程序作为一个隐藏的登录项运行时为 true 。 这表示应用程序在启动时不应打开任何窗口。 此设置在 MAS 构建 上不可用。\n * restoreState Boolean macOS - true 如果应用程序作为登录项打开， 应该还原上一个会话状态。 这表示程序应该还原上次关闭时打开的窗口。 此设置在 MAS 构建 上不可用。\n * executableWillLaunchAtLogin Boolean Windows - true 应用程序被设置为在登录时打开，并且其启动项未停用。 该属性与 openAtLogin 不同，因为它忽略了 args 选项，如果给定的可执行程序在登录时启动并带有 任意 参数，此属性将为true。\n * launchItems Object[] Windows\n   * name String Windows - 注册表项的名称值。\n   * path String Windows - 与注册表条目相对应的应用可执行程序。\n   * args String[] Windows - 传递到可执行文件的命令行参数。\n   * scope String Windows - user 或 machine之一。 指示注册表条目是否处于 HKEY_CURRENT USER 或 HKEY_LOCAL_MACHINE下。\n   * enabled Boolean Windows - true 如果应用注册表项已获得启动批准，此时在任务管理器和 Windows 设置中显示为 enabled 。\n\n\n# app.setLoginItemSettings(settings) macOS Windows\n\n * settings Object\n   * openAtLogin Boolean (可选) - true 登录时打开应用程序， false 将应用从登录启动项中删除。 默认值为 false.\n   * openAsHidden Boolean (可选) macOS - true 以隐藏方式打开应用程序。 默认为false。 用户可以从系统首选项中编辑此设置, 以便在打开应用程序时检查 app.getLoginItemSettings().wasOpenedAsHidden 以了解当前值。 此设置在 MAS 构建 上不可用。\n   * path String (可选) Windows - 登录时运行的可执行文件。 默认为 process.execPath。\n   * args String[] (可选) Windows - 传递给可执行文件的控制台参数。 默认为空数组。 注意用引号包裹路径。\n   * enabled Boolean (可选) Windows - true 将更改已启用的启动注册表项，并在任务管理器和 Windows 设置中 启用 / 禁用 应用程序。 默认值为 true。\n   * name String (可选) Windows - 要写入注册表的值名称。 默认为应用的 AppUserModelId()。 设置应用程序的登录项设置。\n\n如果需要在 Windows 上使用Squirrel的 autoUpdater ，你需要将启动路径设置为 Update.exe，并传递指定应用程序名称的参数。 例如：\n\nconst appFolder = path.dirname(process.execPath)\nconst updateExe = path.resolve(appFolder, '..', 'Update.exe')\nconst exeName = path.basename(process.execPath)\n\napp.setLoginItemSettings({\n  openAtLogin: true,\n  path: updateExe,\n  args: [\n    '--processStart', `\"${exeName}\"`,\n    '--process-start-args', `\"--hidden\"`\n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# app.isAccessibilitySupportEnabled() macOS Windows\n\nReturns Boolean - 如果开启了Chrome的辅助功能, 则返回 true，其他情况返false。 如果使用了辅助技术（例如屏幕阅读），该 API 将返回 true。 查看更多细节，请查阅 https://www.chromium.org/developers/design-documents/accessibility\n\n\n# app.setAccessibilitySupportEnabled(enabled) macOS Windows\n\n * enable 逻辑值 - 启用或禁用访问权限树视图。\n\n手动启用 Chrome 的辅助功能的支持, 允许在应用程序中设置是否开启辅助功能。 在Chromium's accessibility docs查看更多的细节 默认为禁用\n\n此 API 必须在 ready 事件触发后调用\n\n注意： 渲染访问权限树可能会严重影响您应用的性能。 默认情况下不应启用该功能。\n\n\n# app.showAboutPanel()\n\n显示应用程序的\"关于\"面板选项。 这些选项可以被 app.setAboutPanelOptions(可选) 所覆盖。\n\n\n# app.setAboutPanelOptions(options)\n\n * 选项 对象\n   * applicationName String (可选) - 应用程序的名字\n   * applicationVersion String (可选) - 应用程序版本\n   * copyright String (可选) - 版权信息\n   * version String (可选) macOS - 应用程序版本号\n   * credits String (可选) macOS Windows - 信用信息。\n   * authors String[] (可选) Linux - 应用程序作者列表。\n   * website String (可选) Linux - 应用程序的网站。\n   * iconPath String (可选) Linux Windows - 以JPEG 或 PNG 文件格式为应用程序图标路径。 在 Linux 上，将显示为 64x64 像素，同时保留纵横比。\n\n设置 \"关于\" 面板选项。 这将覆盖应用程序在 macOS 上的 .plist 文件中定义的值。 详细信息请查阅 Apple 文档 。 在 Linux 上，没有默认值，所以必须设置值才能显示。\n\n如果您没有设置 credits 但仍希望在应用中显示它们，AppKit 将在 NSBundle 类的main方法返回的捆绑包中按顺序查找名为\"Credits.html\", \"Credits.rtf\"和\"Credits.rtfd\"的文件。 先找到的文件将被使用，如果未找到，则信息区域将留空。 有关更多信息，请参阅 Apple 文档 。\n\n\n# app.isEmojiPanelSupported()\n\n返回 布尔值 - 当前操作系统版本是否允许使用本机emoji选取器。\n\n\n# app.showEmojiPanel() macOS Windows\n\n打开系统自身的emjio选取器。\n\n\n# app.startAccessingSecurityScopedResource(bookmarkData) macOS\n\n * bookmarkData String - base64 编码的安全作用域的书签数据(bookmark data) ，通过 dialog.showOpenDialog 或者 dialog.showSaveDialog 方法获取。\n\n返回 Function - 该函数 必须 在你完成访问安全作用域文件后调用一次。 如果你忘记停止访问书签，内核资源将会泄漏，并且你的应用将失去完全到达沙盒之外的能力，直到应用重启。\n\n//开始读取文件\nconst stopAcessingSecurityScopedResource = app。 tartAccessingSecurityScopedResource(数据)\n// 您现在可以在 sandbox:party_popper 之外访问文件🎉\n\n// 记住在文件完成后停止访问\nstopAccessingSecurityScopedResource()\n\n\n1\n2\n3\n4\n5\n6\n\n\n开始访问安全范围内的资源。 通过这个方法，Electron 应用被打包为可到达Mac App Store沙箱之外访问用户选择的文件。 关于系统工作原理，请查阅Apple's documentation\n\n\n# app.enableSandbox()\n\n在应用程序上启用完全沙盒模式。 这意味着所有渲染器都将以沙盒的方式运行，无论 WebPreence 中 sandbox 标志的值是什么。\n\n这个方法只能在应用程序准备就绪（ready）之前调用。\n\n\n# app.isInApplicationsFolder() macOS\n\n返回 Boolean - 应用程序当前是否从系统应用程序文件夹运行。 与 app.moveToApplicationsFolder()一起使用\n\n\n# app.moveToApplicationsFolder([options]) macOS\n\n * options Object (可选)\n   * conflictHandler Function (可选) - 处理移动失败的潜在冲突。\n      * conflictType String - 处理器遇到移动冲突的类型； 可以是 exists 或 existsAndRunning, exists 意味着应用程序目录中存在相同名称的应用， existsAndRunning 表示存在并且正在运行。\n\n返回 Boolean - 移动是否成功。 请注意，如果移动成功，您的应用程序将退出并重新启动。\n\n默认情况下不会显示确认对话框。 如果您希望允许用户确认操作，您可以使用dialog API 进行确认。\n\n**注意：**如果并非是用户造成操作失败，这个方法会抛出错误。 例如，如果用户取消了授权会话，这个方法将返回false。 如果无法执行复制操作, 则此方法将抛出错误。 错误中的信息应该是翔实的，并告诉你到底是哪里出了问题。\n\n默认情况下，如果应用程序目录中存在与被移动的应用同名的应用，并且 未 运行，则已有应用将被丢弃，被移动的应用将顶替其位置。 如果它 正在 运行，预先存在的运行应用程序将承担焦点，以前活动的应用程序将退出自己。 此行为可以通过提供可选的冲突处理器来更改，处理器返回的 boolean 将决定移动冲突是否通过默认行为得到解决。 即：返回 false 将确保不采取进一步行动，返回 true 将导致默认行为同时方法继续执行。\n\n例如：\n\napp.moveToApplicationsFolder({\n  conflictHandler: (conflictType) => {\n    if (conflictType === 'exists') {\n      return dialog.showMessageBoxSync({\n        type: 'question',\n        buttons: ['Halt Move', 'Continue Move'],\n        defaultId: 0,\n        message: 'An app of this name already exists'\n      }) === 1\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n这意味着，如果应用已经存在于用户目录中，如果用户选择 '继续移动'，则该功能将继续其默认行为，现有应用将被丢弃，当前应用将移动到其位置。\n\n\n# app.isSecureKeyboardEntryEnabled() macOS\n\n返回 Boolean - 是否启用 Secure Keyboard Entry 。\n\n默认情况下，此 API 将返回 false。\n\n\n# app.setSecureKeyboardEntryEnabled(enabled) macOS\n\n * enabled Boolean - 启用或禁用 Secure Keyboard Entry\n\n在应用中启用 Secure Keyboard Entry 。\n\n通过使用此 API，可以防止密码和其他敏感信息等重要信息被其他进程截获。\n\n有关更多详细信息，请参阅 apple 文档 。\n\n注意： 仅在需要时启用 Secure Keyboard Entry ，并在不再需要时禁用。\n\n\n# 属性\n\n\n# app.accessibilitySupportEnabled macOS Windows\n\nBoolean属性 - 如果开启了Chrome的辅助功能，则返回 true，否则返回false。 如果使用了辅助功能（例如屏幕阅读），该 API 将返回 true。 手动将此属性设置为 true 可启用 Chrome 的辅助功能支持，允许开发人员在应用程序设置中向用户开放无障碍切换。\n\n有关详细信息，请参阅 chromium 的无障碍文档 。 默认为禁用\n\n此 API 必须在 ready 事件触发后调用\n\n注意： 渲染访问权限树可能会严重影响您应用的性能。 默认情况下不应启用该功能。\n\n\n# app.applicationMenu\n\nMenu | null 属性，如果设置 Menu ，则返回，否则返回 null 。 用户可以传递 Menu 来给此属性赋值。\n\n\n# app.badgeCount Linux macOS\n\n返回当前应用角标计数的 Integer 属性。 将计数设置为 0 将隐藏角标。\n\n在 macOS 上，为该属性设置任何非零整数，会显示在dock 图标上。 在 Linux 上，这个属性只适用于 Unity 启动器。\n\n注意： Unity 启动器需要一个 .desktop 文件才能工作。 欲了解更多信息， 请阅读 Unity integration 文档。\n\n注意： 在 macOS 上，为了使该属性生效，您需要确保您的应用程序具有显示通知的权限。\n\n\n# app.commandLine 只读\n\nCommandLine 对象，允许您读取和操作 Chromium 使用的命令行参数。\n\n\n# app.dock macOS 只读\n\nDock | undefined 对象，允许您在 macOS 上的用户dock中对应用图标进行操作。\n\n\n# app.isPackaged 只读\n\n返回一个Boolean值，如果应用已经打包，返回true ，否则返回false 。 对于大多数应用程序，此属性可用于区分开发和生产环境。\n\n\n# app.name\n\nString 属性，指明当前应用程序的名称，即应用程序 package.json 文件中的名称。\n\n根据 npm 的命名规则, 通常 package.json 中的 name 字段是一个短的小写字符串。 通常还应该指定一个 productName 字段, 是首字母大写的完整名称，用于表示应用程序的名称。Electron 会优先使用这个字段作为应用名。\n\n\n# app.userAgentFallback\n\nString Electron 用于全局回退的用户代理字符串。\n\n当用户代理在webContents 或 session 级别没有被设置时，将使用此用户代理。 有助于确保您的整个应用程序具有相同的用户代理。 在应用初始化中尽早设置为自定义值，以确保使用的是您覆盖的值。\n\n\n# app.runningUnderRosettaTranslation macOS Readonly Deprecated\n\nBoolean ，为 true 表明该应用程序目前正在运行在转译环境下。\n\n您可以使用此属性来提示用户下载应用程序的 arm64 版本，当用户错误地在转译环境下运行 x64 版本。\n\nDeprecated: This property is superceded by the runningUnderARM64Translation property which detects when the app is being translated to ARM64 in both macOS and Windows.\n\n\n# app.runningUnderARM64Translation Readonly macOS Windows\n\nA Boolean which when true indicates that the app is currently running under an ARM64 translator (like the macOS Rosetta Translator Environment or Windows WOW).\n\n您可以使用此属性来提示用户下载应用程序的 arm64 版本，当用户错误地在转译环境下运行 x64 版本。",normalizedContent:"# app\n\n> 控制应用程序的事件生命周期。\n\n进程：主进程\n\n下面的这个例子将会展示如何在最后一个窗口被关闭时退出应用：\n\nconst { app } = require('electron')\napp.on('window-all-closed', () => {\n  app.quit()\n})\n\n\n1\n2\n3\n4\n\n\n\n# 事件\n\napp 对象会发出以下事件:\n\n\n# 事件: 'will-finish-launching'\n\n当应用程序完成基础的启动的时候被触发。 在 windows 和 linux 中, will-finish-launching 事件与 ready 事件是相同的; 在 macos 中，这个事件相当于 nsapplication 中的 applicationwillfinishlaunching 提示。 通常会在这里为 open-file 和 open-url 设置监听器，并启动崩溃报告和自动更新。\n\n绝大部分情况下，你必须在ready事件句柄中处理所有事务。\n\n\n# 事件: 'ready'\n\n返回:\n\n * event event\n * launchinfo record<string, any> | notificationresponse macos\n\n当 electron 完成初始化时，发出一次。 在 macos 上，如果从通知中心启动， launchinfo 内含有用于打开应用程序的 nsusernotification 或来自 unnotificationresponse 的 userinfo 信息。 你也可以通过调用 app.isready() 来检查该事件是否已被触发，以及通过 app.whenready() 得到一个当electron已初始化后fulfill 的 promise。\n\n\n# 事件: 'window-all-closed'\n\n当所有的窗口都被关闭时触发。\n\n如果你没有监听此事件并且所有窗口都关闭了，默认的行为是控制退出程序；但如果你监听了此事件，你可以控制是否退出程序。 如果用户按下了 cmd + q，或者开发者调用了 app.quit()，electron 会首先关闭所有的窗口然后触发 will-quit 事件，在这种情况下 window-all-closed 事件不会被触发。\n\n\n# 事件：'before-quit'\n\n返回:\n\n * event event\n\n在程序关闭窗口前发信号。 调用 event.preventdefault() 将阻止终止应用程序的默认行为。\n\n注意： 如果由 autoupdater.quitandinstal() 退出应用程序 ，那么在所有窗口触发 close 之后 才会触发 before-quit 并关闭所有窗口。\n\n**注:**在 windows 系统中，如果应用程序因系统关机/重启或用户注销而关闭，那么这个事件不会被触发。\n\n\n# 事件: 'will-quit'\n\n返回:\n\n * event event\n\n当所有窗口被关闭后触发，同时应用程序将退出。 调用 event.preventdefault() 将阻止终止应用程序的默认行为。\n\n关于 window-all-closed 和 will-quit 事件之间的差异, 请参见 window-all-closed 事件的说明。\n\n**注:**在 windows 系统中，如果应用程序因系统关机/重启或用户注销而关闭，那么这个事件不会被触发。\n\n\n# 事件: 'quit'\n\n返回:\n\n * event event\n * exitcode integer\n\n在应用程序退出时发出。\n\n**注:**在 windows 系统中，如果应用程序因系统关机/重启或用户注销而关闭，那么这个事件不会被触发。\n\n\n# 事件: 'open-file' macos\n\n返回:\n\n * event event\n * path string\n\n当用户想要在应用中打开一个文件时发出。 open-file 事件通常在应用已经打开，并且系统要再次使用该应用打开文件时发出。 open-file也会在一个文件被拖到 dock 并且还没有运行的时候发出。 请确认在应用启动的时候(甚至在 ready 事件发出前) 就对 open-file 事件进行监听。\n\n如果你想处理这个事件，你应该调用 event.preventdefault() 。\n\n在 windows 系统中，你需要解析 process.argv (在主进程中) 来获取文件路径\n\n\n# 事件: 'open-url' macos\n\n返回:\n\n * event event\n * url string\n\n当用户想要在应用中打开一个 url 时发出。 你的应用程序的 info. plist 文件必须在 cfbundleurltypes 这个key中定义 url scheme, 并将 nsprincipalclass 设置为 atomapplication。\n\n如果你想处理这个事件，你应该调用 event.preventdefault() 。\n\n\n# 事件: 'activate' macos\n\n返回:\n\n * event event\n * hasvisiblewindows boolean\n\n当应用被激活时发出。 各种操作都可以触发此事件, 例如首次启动应用程序、尝试在应用程序已运行时或单击应用程序的坞站或任务栏图标时重新激活它。\n\n\n# 事件: 'did-groupe-active' macos\n\n返回:\n\n * event event\n\n当应用被激活时发出。 与 activate 事件的不同是应用，程序激活时都会触发 did-become-active ，而不仅仅在 dock 图标被点击或应用程序被重新启动的时候。\n\n\n# 事件: 'continue-activity' macos\n\n返回:\n\n * event event\n * typestring-标识活动的字符串。 映射到 nsuseractivity. activitytype。\n * userinfo unknown - 包含另一个设备上activity存储的应用特定状态。\n * details object\n   * webpageurl string (optional) - a string identifying the url of the webpage accessed by the activity on another device, if available.\n\n当来自不同设备的活动通过 handoff 想要恢复时触发。 如果你想处理这个事件，你应该调用 event.preventdefault() 。\n\n只有具有支持相应的活动类型并且相同的开发团队 id 作为启动程序时，用户行为才会进行。 所支持活动类型已在应用的 info.plist 中的 nsuseractivitytypes 里明确定义。\n\n\n# 事件: 'will-continue-activity' macos\n\n返回:\n\n * event event\n * typestring-标识活动的字符串。 映射到 nsuseractivity. activitytype。\n\n当来自不同设备的活动通过 handoff 恢复之前触发。 如果你想处理这个事件，你应该调用 event.preventdefault() 。\n\n\n# 事件: 'continue-activity-error' macos\n\n返回:\n\n * event event\n * typestring-标识活动的字符串。 映射到 nsuseractivity. activitytype。\n * error string - 详细的错误信息\n\n当来自不同设备的活动通过 handoff 恢复失败时触发。\n\n\n# 事件: 'activity-was-continued' macos\n\n返回:\n\n * event event\n * typestring-标识活动的字符串。 映射到 nsuseractivity. activitytype。\n * userinfo unknown - 包含activity存储的应用特定状态。\n\n当来自不同设备的活动通过 handoff 成功恢复后触发。\n\n\n# 事件: 'update-activity-state' macos\n\n返回:\n\n * event event\n * typestring-标识活动的字符串。 映射到 nsuseractivity. activitytype。\n * userinfo unknown - 包含activity存储的应用特定状态。\n\n当 handoff 即将通过另一个设备恢复时触发。 如果需要更新要传输的状态，你应该立即调用 event.preventdefault(), 构造新的 userinfo 字典，并及时调用 app.updatecurrentactiviy()。 否则，操作会失败，并且触发 continue-activity-error\n\n\n# 事件: 'new-window-for-tab' macos\n\n返回:\n\n * event event\n\n当用户点击原生的macos新标签按钮时触发。 只有在当前 browserwindow 有 tabbingidentifier 时，新建tab按钮才可见。\n\n\n# 事件: 'browser-window-blur'\n\n返回:\n\n * event event\n * window browserwindow\n\n在 browserwindow 失去焦点时发出。\n\n\n# 事件: 'browser-window-focus'\n\n返回:\n\n * event event\n * window browserwindow\n\n在 browserwindow 获得焦点时发出。\n\n\n# 事件: 'browser-window-created'\n\n返回:\n\n * event event\n * window browserwindow\n\n在创建新的 browserwindow 时发出。\n\n\n# 事件: 'web-contents-created'\n\n返回:\n\n * event event\n * webcontents webcontents\n\n在创建新的 webcontents 时发出。\n\n\n# 事件: 'certificate-error'\n\n返回:\n\n * event event\n * webcontents webcontents\n * url string\n * error string - 错误码\n * certificate 证书\n * callback function\n   * istrustedboolean-是否将证书视为可信的\n * ismainframe boolean\n\n当对 url 的 certificate 证书验证失败的时候发出。如果需要信任这个证书，你需要阻止默认行为 event.preventdefault() 并且调用 callback(true)。\n\nconst { app } = require('electron')\n\napp.on('certificate-error', (event, webcontents, url, error, certificate, callback) => {\n  if (url === 'https://github.com') {\n    // verification logic.\n    event.preventdefault()\n    callback(true)\n  } else {\n    callback(false)\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 事件: 'select-client-certificate'\n\n返回:\n\n * event event\n * webcontents webcontents\n * url url\n * certificatelist 证书[]\n * callback function\n   * certificate 证书 (可选)\n\n当一个客户证书被请求的时候发出。\n\nurl 指的是请求客户端认证的网页地址，调用 callback 时需要传入一个证书列表中的证书。 需要通过调用 event.preventdefault() 来防止应用自动使用第一个证书进行验证。\n\nconst { app } = require('electron')\n\napp.on('select-client-certificate', (event, webcontents, url, list, callback) => {\n  event.preventdefault()\n  callback(list[0])\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 事件: \"login\"\n\n返回:\n\n * event event\n * webcontents webcontents\n * authenticationresponsedetails object\n   * url url\n * authinfo object\n   * isproxy boolean\n   * scheme string\n   * host string\n   * port integer\n   * realm string\n * callback function\n   * username string (可选)\n   * password string (可选)\n\n当 webcontents 要进行基本身份验证时触发。\n\n默认行为是取消所有身份验证。 默认行为是取消所有的验证行为，如果需要重写这个行为，你需要用 event.preventdefault() 来阻止默认行为，并且使用 callback(username, password) 来验证。\n\nconst { app } = require('electron')\n\napp.on('login', (event, webcontents, details, authinfo, callback) => {\n  event.preventdefault()\n  callback('username', 'secret')\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n当 callback 在缺少用户名和密码的时候被调用，身份验证请求将被取消，同时将返回身份验证错误到页面。\n\n\n# 事件: 'gpu-info-update'\n\n每当有 gpu 信息更新时触发。\n\n\n# 事件: 'gpu-process-crashed' 已废弃\n\n返回:\n\n * event event\n * killed boolean\n\n当gpu进程崩溃或关闭（杀死）时触发\n\n**已废弃：**这个事件被包含更多子进程退出信息原因的child-process-gone事件取代了。 并不总是因为崩溃而触发。 当你换用child-process-gone事件时，原事件的 killed 布尔值可以被 reason === 'killed' 取代。\n\n\n# 事件: 'renderer-process-crashed' 已废弃\n\n返回:\n\n * event event\n * webcontents webcontents\n * killed boolean\n\n当渲染器进程webcontents崩溃或关闭（杀死）时触发。\n\n已废弃： 此事件被包含更多关于渲染过程为何消失的信息的 render-process-gone 事件替代了 并不总是因为崩溃而触发。 当你换用child-process-gone事件时，原事件的 killed 布尔值可以被 reason === 'killed' 取代。\n\n\n# 事件: 'render-process-gone'\n\n返回:\n\n * event event\n * webcontents webcontents\n * details object\n   * reason string - 渲染进程消失的原因。 可选值：\n     * clean-exit - 以零为退出代码退出的进程\n     * abnormal-exit - 以非零退出代码退出的进程\n     * killed - 进程发送一个sigterm，否则是被外部杀死的。\n     * crashed - 进程崩溃\n     * oom - 进程内存不足\n     * launch-failed - 进程从未成功启动\n     * integrity-failure - 窗口代码完整性检查失败\n   * exitcode integer - 进程的退出代码，除非在 reason 是 launch-failed 的情况下， exitcode 将是一个平台特定的启动失败错误代码。\n\n渲染器进程意外消失时触发。 这种情况通常因为进程崩溃或被杀死。\n\n\n# 事件: 'child-process-gone'\n\n返回:\n\n * event event\n * details object\n   * type string - 进程类型。 以下值之一：\n     * utility\n     * zygote\n     * sandbox helper\n     * gpu\n     * pepper plugin\n     * pepper plugin broker\n     * unknown\n   * reason string - 子进程消失的原因。 可选值：\n     * clean-exit - 以零为退出代码退出的进程\n     * abnormal-exit - 以非零退出代码退出的进程\n     * killed - 进程发送一个sigterm，否则是被外部杀死的。\n     * crashed - 进程崩溃\n     * oom - 进程内存不足\n     * launch-failed - 进程从未成功启动\n     * integrity-failure - 窗口代码完整性检查失败\n   * exitcode number - 进程的退出代码 (例如，在posix上，来自waitpid的状态；在windows上则来自 getexitcodeprocess)。\n   * servicename string (可选) - 进程的非本地化名称。\n   * name string (可选) - 进程的名称。 功能性示例： audio service, content decryption module service, network service, video capture, 等等。\n\n子进程意外消失时触发。 这种情况通常因为进程崩溃或被杀死。 子进程不包括渲染器进程。\n\n\n# 事件: \"accessibility-support-changed\" _ macos _ _ windows _\n\n返回:\n\n * event event\n * accessibilitysupportenabled当启用了 chrome 的辅助功能时为 true, 其他情况为 false。\n\n当 chrome 的辅助功能状态改变时触发。 当启用或禁用辅助技术时将触发此事件，例如屏幕阅读器 。 查看更多详情 https://www.chromium.org/developers/design-documents/accessibility\n\n\n# 事件:'session-created'\n\n返回:\n\n * session session\n\n当 electron创建了一个新的 session后被触发.\n\nconst { app } = require('electron')\n\napp.on('session-created', (session) => {\n  console.log(session)\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# 事件: 'second-instance'\n\n返回:\n\n * event event\n * argv string[] - 第二个实例的命令行参数数组\n * workingdirectory string - 第二个实例的工作目录\n\n当第二个实例被执行并且调用 app.requestsingleinstancelock() 时，这个事件将在你的应用程序的首个实例中触发\n\nargv 是第二个实例的命令行参数的数组, workingdirectory 是这个实例当前工作目录。 通常, 应用程序会激活窗口并且取消最小化来响应。\n\n注意： 如果第二个实例是由不同于第一个实例的用户启动的。 argv 数组不包含参数。\n\n保证在 app 的 ready 事件发出后发出此事件。\n\n注意： 额外命令行参数可能由 chromium 添加， ，例如 --original-process-start-time。\n\n\n# 事件: 'desktop-capturer-get-sources'\n\n返回:\n\n * event event\n * webcontents webcontents\n\n在 webcontents 的渲染器进程中调用 desktopcapturer.getsources() 时触发。 调用 event.preventdefault() 将使它返回空的sources。\n\n\n# 方法\n\napp 对象具有以下方法:\n\n** 注意: **某些方法仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n\n# app.quit()\n\n尝试关闭所有窗口 将首先发出 before-quit 事件。 如果所有窗口都已成功关闭, 则将发出 will-quit 事件, 并且默认情况下应用程序将终止。\n\n此方法会确保执行所有beforeunload 和 unload事件处理程序。 可以在退出窗口之前的beforeunload事件处理程序中返回false取消退出。\n\n\n# app.exit([exitcode])\n\n * exitcode integer (可选)\n\n使用 exitcode 立即退出。 exitcode 默认为0。\n\n所有窗口都将立即被关闭，而不询问用户，而且 before-quit 和 will-quit 事件也不会被触发。\n\n\n# app.relaunch([options])\n\n * options object (可选)\n   * args string[] (可选)\n   * execpath string (可选)\n\n从当前实例退出，重启应用。\n\n默认情况下，新的实例将会使用和当前实例相同的工作目录以及命令行参数。 当设置了 args 参数时， args 将作为命令行参数传递。 当设置了 execpath ，execpath 将被执行以重新启动，而不是当前的应用程序。\n\n请注意, 此方法在执行时不会退出当前的应用程序, 你需要在调用 app.relaunch 方法后再执行 app. quit 或者 app.exit 来让应用重启。\n\n当 app.relaunch 被多次调用时,多个实例将在当前实例退出后启动。\n\n立即重启当前实例并向新的实例添加新的命令行参数的示例：\n\nconst { app } = require('electron')\n\napp.relaunch({ args: process.argv.slice(1).concat(['--relaunch']) })\napp.exit(0)\n\n\n1\n2\n3\n4\n\n\n\n# app.isready()\n\n返回 boolean 类型 - 如果 electron 已经完成初始化，则返回 true, 其他情况为 false 另见 app.whenready()。\n\n\n# app.whenready()\n\n返回 promise&lt;void&gt; - 当electron 初始化完成。 可用作检查 app.isready() 的方便选择，假如应用程序尚未就绪，则订阅ready事件。\n\n\n# app.focus([options])\n\n * options object (可选)\n   * steal boolean macos - 使接收器成为激活的应用程序，即使另一个应用程序当前处于激活状态。\n\n在 linux 上，使第一个可见窗口获得焦点。 在 macos上，将应用程序变成激活的app。 在 windows上，使应用程序的第一个窗口获得焦点。\n\n你应该尽可能少地使用 steal 选项。\n\n\n# app.hide() macos\n\n隐藏所有的应用窗口，不是最小化.\n\n\n# app.show() macos\n\n显示隐藏后的应用程序窗口。 不会使它们自动获得焦点。\n\n\n# app.setapplogspath([path])\n\n * path string (可选) - 日志存放的自定义路径。 必须是绝对路径。\n\n设置或创建一个您的应用程序日志目录，然后可以通过 app.getpath() 或 app.setpath(pathname, newpath) 进行操作。\n\n调用 app.setapplogspath() 却没有指定 path 参数将导致此目录在 macos 下被设置为 ~/library/logs/yourappname；在 linux 和_windows_ 下将被设置到 userdata 目录中。\n\n\n# app.getapppath()\n\n返回 string 类型 - 当前应用程序所在目录\n\n\n# app.getpath(name)\n\n * name string - 你可以通过这些名称请求下列路径：\n   * home 用户的 home 文件夹（主目录）\n   * appdata 每个用户的应用程序数据目录，默认情况下指向：\n     * %appdata% windows 中\n     * $xdg_config_home or ~/.config linux 中\n     * ~/library/application support macos 中\n   * userdata 储存你应用程序设置文件的文件夹，默认是 appdata 文件夹附加应用的名称\n   * 缓存\n   * temp 临时文件夹\n   * exe当前的可执行文件\n   * module the libchromiumcontent 库\n   * desktop 当前用户的桌面文件夹\n   * documents 用户文档目录的路径\n   * downloads 用户下载目录的路径\n   * music 用户音乐目录的路径\n   * pictures 用户图片目录的路径\n   * videos 用户视频目录的路径\n   * recent 用户最近文件的目录 (仅限 windows)。\n   * logs应用程序的日志文件夹\n   * crashdumps 崩溃转储文件存储的目录。\n\n返回 string - 一个与 name相关的特殊目录或文件的路径。 失败会抛出一个error。\n\n如果 app.getpath('logs') 被调用前没有先调用 app.setapplogspath() ，将创建一个相当于调用 app.setapplogspath() 却没有 path 参数的默认日志目录。\n\n\n# app.getfileicon(path[, options])\n\n * path string\n * options object (可选)\n   * size string\n     * small - 16x16\n     * normal - 32x32\n     * large - _linux_上是 48x48, windows 上是 32x32, macos 中无效\n\n返回 promise<nativeimage> - 完成后返回当前应用的图标, 类型是 nativeimage.\n\n读取文件的关联图标。\n\n在 windows 上, 会有两种图标：\n\n * 与某些文件扩展名相关联的图标, 比如 . mp3 ，. png 等。\n * 文件本身就带图标，像是 .exe, .dll, .ico\n\n在 linux 和 macos 系统中，图标取决于和应用程序绑定的 文件 mime 类型\n\n\n# app.setpath(name, path)\n\n * name string\n * path string\n\n重写 name 的路径为 path，一个特定的文件夹或者文件。 如果路径指向一个不存在的目录，则抛出一个 error。 在这种情况下，目录应该以 fs.mkdirsync 或类似的方式创建。\n\nname 参数只能使用 app.getpath 定义过的 name\n\n默认情况下, 网页的 cookie 和缓存将存储在 userdata 目录下。 如果要更改这个位置, 你需要在 app 模块中的 ready 事件被触发之前重写 userdata 的路径。\n\n\n# app.getversion()\n\n返回 string-加载的应用程序的版本。 如果应用程序的 package. json 文件中找不到版本号, 则返回当前包或者可执行文件的版本。\n\n\n# app.getname()\n\n返回 string-当前应用程序的名称, 它是应用程序的 package. json 文件中的名称。\n\n根据 npm 的命名规则, 通常 package.json 中的 name 字段是一个短的小写字符串。 通常还应该指定一个 productname 字段, 是首字母大写的完整名称，用于表示应用程序的名称。electron 会优先使用这个字段作为应用名。\n\n\n# app.setname(name)\n\n * name string\n\n设置当前应用程序的名字\n\n注意： 此函数会覆盖electron内部使用的名称；它不会影响操作系统使用的名称。\n\n\n# app.getlocale()\n\n返回 string - 当前应用程序区域，使用chromium的 l10n_util 库获取。 可能的返回值记录在这里。\n\nto set the locale, you'll want to use a command line switch at app startup, which may be found here.\n\n** 注意: **分发打包的应用程序时, 你必须指定 locales 文件夹。\n\n注意： 在 windows 上，你必须得等 ready 事件触发之后，才能调用该方法\n\n\n# app.getlocalecountrycode()\n\n返回 string - 用户操作系统区域设置的双字母 iso 3166 国家代码。 该值取自本地操作系统 api。\n\n注意： 当无法检测本地国家代码时，它返回空字符串。\n\n\n# app.addrecentdocument(path) macos windows\n\n * path string\n\n将此 path 添加到最近打开的文件列表中\n\n此列表由操作系统管理。 在windows上，您可以从任务栏访问此列表，在macos上，您可以从dock菜单访问。\n\n\n# app.clearrecentdocuments() macos windows\n\n清空最近打开的文档列表\n\n\n# app.setasdefaultprotocolclient(protocol[, path, args])\n\n * protocol string - 协议的名称, 不包含 ://。 例如，如果你希望应用处理 electron:// 链接，请以electron 为参数调用此方法。\n * path string (可选) windows - electron可执行文件路径。 默认为 process.execpath\n * args string[] (可选) windows - 传递给可执行文件的参数。 默认为空数组。\n\n返回 boolean-是否成功调用。\n\n将当前可执行文件的设置为协议(也就是 uri scheme) 的默认处理程序。 该方法允许你将应用更深入地集成到操作系统中。 一旦注册了，所有 your-protocol:// 开头的链接将使用当前可执行文件打开。 整个链接，包括协议部分，将作为参数传递给你的应用程序。\n\n** 注意: **在 macos 上，您只能注册已添加到应用程序的 info.plist 中的协议，这个列表在运行时不能修改。 然而，你可以在构建时通过 electron forge, electron packager, 或通过文本编辑器编辑info.plist文件的方式修改。 有关详细信息，请参阅 apple's documentation\n\n注意： 在 windows store 环境下(当打包为 appx)，此 api 对所有调用都返回 true，但它设置的注册表项将无法通过其他应用程序访问。 为了注册你的 windows store 应用程序作为默认的协议处理程序，你必须 在你的清单中声明协议。\n\napi 在内部使用 windows 注册表和 lssetdefaulthandlerforurlscheme。\n\n\n# app.removeasdefaultprotocolclient(protocol[, path, args]) macos windows\n\n * protocol string - 协议的名称, 不包含 ://。\n * pathstring (可选) _ windows _-默认为 process.execpath\n * args string[] (可选) windows - 默认为空数组\n\n返回 boolean-是否成功调用。\n\n此方法检查当前可执行程序是否是协议(也就是uri scheme) 的默认处理程序。 如果是，则会将应用移除默认处理器。\n\n\n# app.isdefaultprotocolclient(protocol[, path, args])\n\n * protocol string - 协议的名称, 不包含 ://。\n * pathstring (可选) _ windows _-默认为 process.execpath\n * args string[] (可选) windows - 默认为空数组\n\n返回 boolean - 当前可执行程序是否是协议(也就是uri scheme) 的默认处理程序。\n\n** 注意: **在macos上, 您可以使用此方法检查应用程序是否已注册为协议的默认协议处理程序。 同时可以通过查看 ~/library/preferences/com.apple.launchservices.plist 来确认。 有关详细信息，请参阅 apple's documentation\n\napi 在内部使用 windows 注册表和 lscopydefaulthandlerforurlscheme。\n\n\n# app.getapplicationnameforprotocol(url)\n\n * url string - 要检查的协议名称的 url。 不同于家族中的其他方法，该方法接收至少包含 :// (例如：https://)的完整url。\n\n返回 string - 处理协议的应用程序名称，或如果没有处理程序的空 字符串。 例如，如果electron 是这个url的默认 处理程序，那么在 windows 和 mac 上，这个返回值可以是 electron。 然而，不要依赖于无法保证保持不变的精确格式。 linux 上期望不同格式，可能带有 .desktop 后缀。\n\n此方法返回url协议(也就是uri scheme) 的默认处理器的应用程序名称。\n\n\n# app.getapplicationinfoforprotocol(url) macos windows\n\n * url string - 要检查的协议名称的 url。 不同于家族中的其他方法，该方法接收至少包含 :// (例如：https://)的完整url。\n\n返回 promise<object> - resolve包含以下内容的object：\n\n * icon nativeimage - 处理协议的应用程序的显示图标。\n * path string - 处理协议的应用程序的安装路径。\n * name string - 处理协议的应用程序的显示名称。\n\n此方法返回包含应用程序名称，图标和默认协议处理器路径(也就是uri scheme) 的promise。\n\n\n# app.setusertasks(tasks) windows\n\n * tasks task[] - 由 task 对象组成的数组\n\nwindows上添加 tasks 到 jump list的 tasks 类别。\n\ntasks 是 task 对象组成的数组\n\n返回 boolean-是否成功调用。\n\n** 注意: **如果您想自定义跳转列表, 请使用 aapp.setjumplist(categories) 来代替。\n\n\n# app.getjumplistsettings() windows\n\n返回 object:\n\n * minitems integer - 将在跳转列表中显示项目的最小数量(有关此值的更详细描述，请参阅 msdn docs).\n * removeditems jumplistitem[] - 用户已明确从jump list自定义类别中删除的项对应的 jumplistitem 对象数组。 这些项目不能在 next 调用 app.setjumplist() 时重新添加到跳转列表中, windows不会显示任何包含已删除项目的自定义类别.\n\n\n# app.setjumplist(categories) windows\n\n * categories jumplistcategory[] | null - jumplistcategory 对象数组。\n\n设置或删除应用程序的自定义跳转列表，并返回以下字符串之一：\n\n * ok - 没有出现错误\n * error - 发生一个或多个错误，启用运行日志记录找出可能的原因。\n * invalidseparatorerror - 已尝试在跳转列表中向自定义类别添加分隔符。 分隔符只允许在标准 tasks 类别下出现。\n * filetyperegistrationerror -尝试向自定义跳转列表添加一个文件链接，但是该应用未注册处理该应用类型\n * customcategoryaccessdeniederror - 由于用户隐私或策略组设置，自定义类别无法添加到跳转列表。\n\n如果 categories 的值为 null， 之前设定的自定义跳转列表(如果存在) 将被替换为标准的应用跳转列表(由windows生成)\n\n注意： 如果一个 jumplistcategory 对象既没有设置 type 属性，也没有设置 name 属性，则假设其 type 是 tasks。 如果设置了 name 属性, 但省略了 type 属性, 则假定 type 为 custom。\n\n注意: 用户可以从自定义类别中移除项目， after 调用 app.setjumplist(categories) 方法之前， windows不允许删除的项目添加回自定义类别。 尝试提前将删除的项目重新添加 到自定义类别中，将导致整个自定义类别被隐藏。 删除的项目可以使用 app.getjumplistsettings() 获取。\n\n注意： 跳列表项目 description 属性的最大长度为 260 个字符。 超过这个限制，当前项将不会被添加到跳转列表，也不会被展示。\n\n下面是创建自定义跳转列表的一个非常简单的示例:\n\nconst { app } = require('electron')\n\napp.setjumplist([\n  {\n    type: 'custom',\n    name: 'recent projects',\n    items: [\n      { type: 'file', path: 'c:\\\\projects\\\\project1.proj' },\n      { type: 'file', path: 'c:\\\\projects\\\\project2.proj' }\n    ]\n  },\n  { // has a name so `type` is assumed to be \"custom\"\n    name: 'tools',\n    items: [\n      {\n        type: 'task',\n        title: 'tool a',\n        program: process.execpath,\n        args: '--run-tool-a',\n        icon: process.execpath,\n        iconindex: 0,\n        description: 'runs tool a'\n      },\n      {\n        type: 'task',\n        title: 'tool b',\n        program: process.execpath,\n        args: '--run-tool-b',\n        icon: process.execpath,\n        iconindex: 0,\n        description: 'runs tool b'\n      }\n    ]\n  },\n  { type: 'frequent' },\n  { // has no name and no type so `type` is assumed to be \"tasks\"\n    items: [\n      {\n        type: 'task',\n        title: 'new project',\n        program: process.execpath,\n        args: '--new-project',\n        description: 'create a new project.'\n      },\n      { type: 'separator' },\n      {\n        type: 'task',\n        title: 'recover project',\n        program: process.execpath,\n        args: '--recover-project',\n        description: 'recover project'\n      }\n    ]\n  }\n])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n\n# app.requestsingleinstancelock()\n\n返回 boolean\n\n此方法的返回值表示你的应用程序实例是否成功取得了锁。 如果它取得锁失败，你可以假设另一个应用实例已经取得了锁并且仍旧在运行，并立即退出。\n\ni.e. 如果当前进程是应用程序的主要实例，则此方法返回true，同时你的应用会继续运行。 如果当它返回 false如果你的程序没有取得锁，它应该立刻退出，并且将参数发送给那个已经取到锁的进程。\n\n在 macos 上, 当用户尝试在 finder 中打开您的应用程序的第二个实例时, 系统会通过发出 open-file 和 open-url 事件来自动强制执行单个实例,。 但是当用户在命令行中启动应用程序时, 系统的单实例机制将被绕过, 您必须手动调用此方法来确保单实例。\n\n在第二个实例启动时激活主实例窗口的示例:\n\nconst { app } = require('electron')\nlet mywindow = null\n\nconst gotthelock = app.requestsingleinstancelock()\n\nif (!gotthelock) {\n  app.quit()\n} else {\n  app.on('second-instance', (event, commandline, workingdirectory) => {\n    // 当运行第二个实例时,将会聚焦到mywindow这个窗口\n    if (mywindow) {\n      if (mywindow.isminimized()) mywindow.restore()\n      mywindow.focus()\n    }\n  })\n\n  // 创建 mywindow, 加载应用的其余部分, etc...\n  app.whenready().then(() => {\n    mywindow = createwindow()\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# app.hassingleinstancelock()\n\n返回 boolean\n\n此方法返回你的应用实例当前是否持有单例锁。 你可以通过 app.requestsingleinstancelock()请求锁，并且通过 app.releasesingleinstancelock() 释放锁。\n\n\n# app.releasesingleinstancelock()\n\n释放所有由 requestsingleinstancelock 创建的锁。 该方法将允许应用程序的多个实例再次并行运行。\n\n\n# app.setuseractivity(type, userinfo[, webpageurl]) macos\n\n * type string - 活动的唯一标识。 映射到 nsuseractivity. activitytype。\n * userinfo any - 存储供其他设备使用的特定应用状态。\n * webpageurl string (可选) - 如果在返回的设备上没有安装合适的应用，要在浏览器中加载的网页。 协议必须是 http 或 https。\n\n创建一个 nsuseractivity 并将其设置为当前活动。 该活动之后可以handoff到另一个设备。\n\n\n# app.getcurrentactivitytype() macos\n\n返回 string - 正在运行的 activity 的类型\n\n\n# app.invalidatecurrentactivity() macos\n\n使当前的handoff用户活动无效。\n\n\n# app.resigncurrentactivity() macos\n\n将当前 handoff 用户活动标记为非活动，但不使其失效。\n\n\n# app.updatecurrentactivity(type, userinfo) macos\n\n * type string - 活动的唯一标识。 映射到 nsuseractivity. activitytype。\n * userinfo any - 存储供其他设备使用的特定应用状态。\n\n当其类型与 type 匹配时更新当前活动, 将项目从 用户信息 合并到其当前 用户信息 字典中。\n\n\n# app.setappusermodelid(id) windows\n\n * id string\n\n改变当前应用的 application user model id 为 id.\n\n\n# app.setactivationpolicy(policy) macos\n\n * policy string - 可以是'regular', 'accessory', 或 'prohibited'。\n\n为给定应用设置激活策略。\n\n激活策略类型：\n\n * 'regulatory ' - 应用程序以普通应用出现在 dock 中，可能有一个用户界面。\n * 'accessory' - 应用程序不会出现在 dock 中，没有菜单栏， 但它可能会被程序或在点击其某个窗口时激活。\n * 'prohibited' - 应用程序不会出现在 dock 中，可能无法创建窗口或被激活。\n\n\n# app.importcertificate(options, callback) linux\n\n * 选项 对象\n   * certificate string - pkcs12 文件的路径\n   * password string - 证书的密码\n * callback function\n   * result integer - 导入结果\n\n将 pkcs12 格式的证书导入到平台证书库。 使用导入操作的 callback 调用返回 result ，值 0 表示成功，而任何其他值表示失败，根据chromium net_error_list 。\n\n\n# app.configurehostresolver(options)\n\n * 选项 对象\n   * enablebuiltinresolver boolean (optional) - whether the built-in host resolver is used in preference to getaddrinfo. when enabled, the built-in resolver will attempt to use the system's dns settings to do dns lookups itself. enabled by default on macos, disabled by default on windows and linux.\n   * securednsmode string (optional) - can be \"off\", \"automatic\" or \"secure\". configures the dns-over-http mode. when \"off\", no doh lookups will be performed. when \"automatic\", doh lookups will be performed first if doh is available, and insecure dns lookups will be performed as a fallback. when \"secure\", only doh lookups will be performed. defaults to \"automatic\".\n   * securednsservers string[] (optional) - a list of dns-over-http server templates. see rfc8484 § 3 for details on the template format. most servers support the post method; the template for such servers is simply a uri. note that for some dns providers, the resolver will automatically upgrade to doh unless doh is explicitly disabled, even if there are no doh servers provided in this list.\n   * enableadditionaldnsquerytypes boolean (optional) - controls whether additional dns query types, e.g. https (dns type 65) will be allowed besides the traditional a and aaaa queries when a request is being made via insecure dns. has no effect on secure dns which always allows additional types. 默认值为 true。\n\nconfigures host resolution (dns and dns-over-https). by default, the following resolvers will be used, in order:\n\n 1. dns-over-https, if the dns provider supports it, then\n 2. the built-in resolver (enabled on macos only by default), then\n 3. the system's resolver (e.g. getaddrinfo).\n\nthis can be configured to either restrict usage of non-encrypted dns (securednsmode: \"secure\"), or disable dns-over-https (securednsmode: \"off\"). it is also possible to enable or disable the built-in resolver.\n\nto disable insecure dns, you can specify a securednsmode of \"secure\". if you do so, you should make sure to provide a list of dns-over-https servers to use, in case the user's dns configuration does not include a provider that supports doh.\n\napp.configurehostresolver({\n  securednsmode: 'secure',\n  securednsservers: [\n    'https://cloudflare-dns.com/dns-query'\n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n此 api 必须在 ready 事件触发后调用\n\n\n# app.disablehardwareacceleration()\n\n禁用当前应用程序的硬件加速。\n\n这个方法只能在应用程序准备就绪（ready）之前调用。\n\n\n# app.disabledomainblockingfor3dapis()\n\n默认情况下, 如果 gpu 进程频繁崩溃, chromium 会禁用 3d api (例如 webgl) 直到在每个域的基础上重新启动。 这个函数会禁用该行为。\n\n这个方法只能在应用程序准备就绪（ready）之前调用。\n\n\n# app.getappmetrics()\n\n返回 processmetric[]: 包含所有与应用相关的进程的内存和cpu的使用统计的 processmetric 对象的数组。\n\n\n# app.getgpufeaturestatus()\n\n返回 gpufeaturestatus-来自 chrome://gpu/ 的图形功能状态。\n\n注意： 此信息仅在 gpu-info-update 事件触发后才可用。\n\n\n# app.getgpuinfo(infotype)\n\n * infotype string - 可以是 basic 或 complete。\n\n返回 promise<unknown>\n\n对于infotype等于complete： promise 将包含所有gpu信息的object正如 chromium's gpuinfo object。 这包括 chrome://gpu 页面上显示的版本和驱动程序信息。\n\n对于infotype等于basic： promise 至少包含当请求complete时的属性object。 下面是一个基础响应示例：\n\n{\n  auxattributes:\n   {\n     amdswitchable: true,\n     cansupportthreadedtexturemailbox: false,\n     directcomposition: false,\n     directrendering: true,\n     glresetnotificationstrategy: 0,\n     inprocessgpu: true,\n     initializationtime: 0,\n     jpegdecodeacceleratorsupported: false,\n     optimus: false,\n     passthroughcmddecoder: false,\n     sandboxed: false,\n     softwarerendering: false,\n     supportsoverlays: false,\n     videodecodeacceleratorflags: 0\n   },\n  gpudevice:\n   [{ active: true, deviceid: 26657, vendorid: 4098 },\n     { active: false, deviceid: 3366, vendorid: 32902 }],\n  machinemodelname: 'macbookpro',\n  machinemodelversion: '11.5'\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n如果只需要基本信息，如vendorid或driverid，则应优先使用basic。\n\n\n# app.setbadgecount([count]) linux macos\n\n * count integer (可选) - 如果传入值，则将角标设置为所传入值，否则，在 macos 上显示一个普通的白点(例如：通知数量未知)。 在 linux 上，如果没有传入值，角标将不会显示。\n\n返回 boolean-是否成功调用。\n\n为当前应用设置计数器角标。 将计数设置为 0 将隐藏角标。\n\n在 macos 上，它会在dock 图标上显示。 在 linux 上，它只适用于 unity 启动器。\n\n注意： unity 启动器需要一个 .desktop 文件才能工作。 欲了解更多信息， 请阅读 unity integration 文档。\n\n\n# app.getbadgecount() linux macos\n\nreturns integer - 获取计数器提醒(badge) 中显示的当前值\n\n\n# app.isunityrunning() linux\n\nreturns boolean - 当前桌面环境是否为 unity 启动器\n\n\n# app.getloginitemsettings([options]) macos windows\n\n * options object (可选)\n   * path string (可选) windows - 要比较的可执行路径。 默认为 process.execpath。\n   * args string[] (可选) windows - 要比较的命令行参数。 默认为空数组。\n\n如果你为 app. setloginitemsettings 提供path 和 args 选项，那么你需要在这里为 openatlogin 设置相同的参数已确保正确的设置。\n\n返回 object:\n\n * openatlogin boolean - true 如果应用程序设置为在登录时打开, 则为 <0>true</0>\n * openashidden boolean macos - 当应用程序设置为在登录时隐藏打开为true。 此设置在 mas 构建 上不可用。\n * wasopenedatlogin boolean macos - 当应用程序在登录时自动运行为true。 此设置在 mas 构建 上不可用。\n * wasopenedashidden boolean macos - 当应用程序作为一个隐藏的登录项运行时为 true 。 这表示应用程序在启动时不应打开任何窗口。 此设置在 mas 构建 上不可用。\n * restorestate boolean macos - true 如果应用程序作为登录项打开， 应该还原上一个会话状态。 这表示程序应该还原上次关闭时打开的窗口。 此设置在 mas 构建 上不可用。\n * executablewilllaunchatlogin boolean windows - true 应用程序被设置为在登录时打开，并且其启动项未停用。 该属性与 openatlogin 不同，因为它忽略了 args 选项，如果给定的可执行程序在登录时启动并带有 任意 参数，此属性将为true。\n * launchitems object[] windows\n   * name string windows - 注册表项的名称值。\n   * path string windows - 与注册表条目相对应的应用可执行程序。\n   * args string[] windows - 传递到可执行文件的命令行参数。\n   * scope string windows - user 或 machine之一。 指示注册表条目是否处于 hkey_current user 或 hkey_local_machine下。\n   * enabled boolean windows - true 如果应用注册表项已获得启动批准，此时在任务管理器和 windows 设置中显示为 enabled 。\n\n\n# app.setloginitemsettings(settings) macos windows\n\n * settings object\n   * openatlogin boolean (可选) - true 登录时打开应用程序， false 将应用从登录启动项中删除。 默认值为 false.\n   * openashidden boolean (可选) macos - true 以隐藏方式打开应用程序。 默认为false。 用户可以从系统首选项中编辑此设置, 以便在打开应用程序时检查 app.getloginitemsettings().wasopenedashidden 以了解当前值。 此设置在 mas 构建 上不可用。\n   * path string (可选) windows - 登录时运行的可执行文件。 默认为 process.execpath。\n   * args string[] (可选) windows - 传递给可执行文件的控制台参数。 默认为空数组。 注意用引号包裹路径。\n   * enabled boolean (可选) windows - true 将更改已启用的启动注册表项，并在任务管理器和 windows 设置中 启用 / 禁用 应用程序。 默认值为 true。\n   * name string (可选) windows - 要写入注册表的值名称。 默认为应用的 appusermodelid()。 设置应用程序的登录项设置。\n\n如果需要在 windows 上使用squirrel的 autoupdater ，你需要将启动路径设置为 update.exe，并传递指定应用程序名称的参数。 例如：\n\nconst appfolder = path.dirname(process.execpath)\nconst updateexe = path.resolve(appfolder, '..', 'update.exe')\nconst exename = path.basename(process.execpath)\n\napp.setloginitemsettings({\n  openatlogin: true,\n  path: updateexe,\n  args: [\n    '--processstart', `\"${exename}\"`,\n    '--process-start-args', `\"--hidden\"`\n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# app.isaccessibilitysupportenabled() macos windows\n\nreturns boolean - 如果开启了chrome的辅助功能, 则返回 true，其他情况返false。 如果使用了辅助技术（例如屏幕阅读），该 api 将返回 true。 查看更多细节，请查阅 https://www.chromium.org/developers/design-documents/accessibility\n\n\n# app.setaccessibilitysupportenabled(enabled) macos windows\n\n * enable 逻辑值 - 启用或禁用访问权限树视图。\n\n手动启用 chrome 的辅助功能的支持, 允许在应用程序中设置是否开启辅助功能。 在chromium's accessibility docs查看更多的细节 默认为禁用\n\n此 api 必须在 ready 事件触发后调用\n\n注意： 渲染访问权限树可能会严重影响您应用的性能。 默认情况下不应启用该功能。\n\n\n# app.showaboutpanel()\n\n显示应用程序的\"关于\"面板选项。 这些选项可以被 app.setaboutpaneloptions(可选) 所覆盖。\n\n\n# app.setaboutpaneloptions(options)\n\n * 选项 对象\n   * applicationname string (可选) - 应用程序的名字\n   * applicationversion string (可选) - 应用程序版本\n   * copyright string (可选) - 版权信息\n   * version string (可选) macos - 应用程序版本号\n   * credits string (可选) macos windows - 信用信息。\n   * authors string[] (可选) linux - 应用程序作者列表。\n   * website string (可选) linux - 应用程序的网站。\n   * iconpath string (可选) linux windows - 以jpeg 或 png 文件格式为应用程序图标路径。 在 linux 上，将显示为 64x64 像素，同时保留纵横比。\n\n设置 \"关于\" 面板选项。 这将覆盖应用程序在 macos 上的 .plist 文件中定义的值。 详细信息请查阅 apple 文档 。 在 linux 上，没有默认值，所以必须设置值才能显示。\n\n如果您没有设置 credits 但仍希望在应用中显示它们，appkit 将在 nsbundle 类的main方法返回的捆绑包中按顺序查找名为\"credits.html\", \"credits.rtf\"和\"credits.rtfd\"的文件。 先找到的文件将被使用，如果未找到，则信息区域将留空。 有关更多信息，请参阅 apple 文档 。\n\n\n# app.isemojipanelsupported()\n\n返回 布尔值 - 当前操作系统版本是否允许使用本机emoji选取器。\n\n\n# app.showemojipanel() macos windows\n\n打开系统自身的emjio选取器。\n\n\n# app.startaccessingsecurityscopedresource(bookmarkdata) macos\n\n * bookmarkdata string - base64 编码的安全作用域的书签数据(bookmark data) ，通过 dialog.showopendialog 或者 dialog.showsavedialog 方法获取。\n\n返回 function - 该函数 必须 在你完成访问安全作用域文件后调用一次。 如果你忘记停止访问书签，内核资源将会泄漏，并且你的应用将失去完全到达沙盒之外的能力，直到应用重启。\n\n//开始读取文件\nconst stopacessingsecurityscopedresource = app。 tartaccessingsecurityscopedresource(数据)\n// 您现在可以在 sandbox:party_popper 之外访问文件🎉\n\n// 记住在文件完成后停止访问\nstopaccessingsecurityscopedresource()\n\n\n1\n2\n3\n4\n5\n6\n\n\n开始访问安全范围内的资源。 通过这个方法，electron 应用被打包为可到达mac app store沙箱之外访问用户选择的文件。 关于系统工作原理，请查阅apple's documentation\n\n\n# app.enablesandbox()\n\n在应用程序上启用完全沙盒模式。 这意味着所有渲染器都将以沙盒的方式运行，无论 webpreence 中 sandbox 标志的值是什么。\n\n这个方法只能在应用程序准备就绪（ready）之前调用。\n\n\n# app.isinapplicationsfolder() macos\n\n返回 boolean - 应用程序当前是否从系统应用程序文件夹运行。 与 app.movetoapplicationsfolder()一起使用\n\n\n# app.movetoapplicationsfolder([options]) macos\n\n * options object (可选)\n   * conflicthandler function (可选) - 处理移动失败的潜在冲突。\n      * conflicttype string - 处理器遇到移动冲突的类型； 可以是 exists 或 existsandrunning, exists 意味着应用程序目录中存在相同名称的应用， existsandrunning 表示存在并且正在运行。\n\n返回 boolean - 移动是否成功。 请注意，如果移动成功，您的应用程序将退出并重新启动。\n\n默认情况下不会显示确认对话框。 如果您希望允许用户确认操作，您可以使用dialog api 进行确认。\n\n**注意：**如果并非是用户造成操作失败，这个方法会抛出错误。 例如，如果用户取消了授权会话，这个方法将返回false。 如果无法执行复制操作, 则此方法将抛出错误。 错误中的信息应该是翔实的，并告诉你到底是哪里出了问题。\n\n默认情况下，如果应用程序目录中存在与被移动的应用同名的应用，并且 未 运行，则已有应用将被丢弃，被移动的应用将顶替其位置。 如果它 正在 运行，预先存在的运行应用程序将承担焦点，以前活动的应用程序将退出自己。 此行为可以通过提供可选的冲突处理器来更改，处理器返回的 boolean 将决定移动冲突是否通过默认行为得到解决。 即：返回 false 将确保不采取进一步行动，返回 true 将导致默认行为同时方法继续执行。\n\n例如：\n\napp.movetoapplicationsfolder({\n  conflicthandler: (conflicttype) => {\n    if (conflicttype === 'exists') {\n      return dialog.showmessageboxsync({\n        type: 'question',\n        buttons: ['halt move', 'continue move'],\n        defaultid: 0,\n        message: 'an app of this name already exists'\n      }) === 1\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n这意味着，如果应用已经存在于用户目录中，如果用户选择 '继续移动'，则该功能将继续其默认行为，现有应用将被丢弃，当前应用将移动到其位置。\n\n\n# app.issecurekeyboardentryenabled() macos\n\n返回 boolean - 是否启用 secure keyboard entry 。\n\n默认情况下，此 api 将返回 false。\n\n\n# app.setsecurekeyboardentryenabled(enabled) macos\n\n * enabled boolean - 启用或禁用 secure keyboard entry\n\n在应用中启用 secure keyboard entry 。\n\n通过使用此 api，可以防止密码和其他敏感信息等重要信息被其他进程截获。\n\n有关更多详细信息，请参阅 apple 文档 。\n\n注意： 仅在需要时启用 secure keyboard entry ，并在不再需要时禁用。\n\n\n# 属性\n\n\n# app.accessibilitysupportenabled macos windows\n\nboolean属性 - 如果开启了chrome的辅助功能，则返回 true，否则返回false。 如果使用了辅助功能（例如屏幕阅读），该 api 将返回 true。 手动将此属性设置为 true 可启用 chrome 的辅助功能支持，允许开发人员在应用程序设置中向用户开放无障碍切换。\n\n有关详细信息，请参阅 chromium 的无障碍文档 。 默认为禁用\n\n此 api 必须在 ready 事件触发后调用\n\n注意： 渲染访问权限树可能会严重影响您应用的性能。 默认情况下不应启用该功能。\n\n\n# app.applicationmenu\n\nmenu | null 属性，如果设置 menu ，则返回，否则返回 null 。 用户可以传递 menu 来给此属性赋值。\n\n\n# app.badgecount linux macos\n\n返回当前应用角标计数的 integer 属性。 将计数设置为 0 将隐藏角标。\n\n在 macos 上，为该属性设置任何非零整数，会显示在dock 图标上。 在 linux 上，这个属性只适用于 unity 启动器。\n\n注意： unity 启动器需要一个 .desktop 文件才能工作。 欲了解更多信息， 请阅读 unity integration 文档。\n\n注意： 在 macos 上，为了使该属性生效，您需要确保您的应用程序具有显示通知的权限。\n\n\n# app.commandline 只读\n\ncommandline 对象，允许您读取和操作 chromium 使用的命令行参数。\n\n\n# app.dock macos 只读\n\ndock | undefined 对象，允许您在 macos 上的用户dock中对应用图标进行操作。\n\n\n# app.ispackaged 只读\n\n返回一个boolean值，如果应用已经打包，返回true ，否则返回false 。 对于大多数应用程序，此属性可用于区分开发和生产环境。\n\n\n# app.name\n\nstring 属性，指明当前应用程序的名称，即应用程序 package.json 文件中的名称。\n\n根据 npm 的命名规则, 通常 package.json 中的 name 字段是一个短的小写字符串。 通常还应该指定一个 productname 字段, 是首字母大写的完整名称，用于表示应用程序的名称。electron 会优先使用这个字段作为应用名。\n\n\n# app.useragentfallback\n\nstring electron 用于全局回退的用户代理字符串。\n\n当用户代理在webcontents 或 session 级别没有被设置时，将使用此用户代理。 有助于确保您的整个应用程序具有相同的用户代理。 在应用初始化中尽早设置为自定义值，以确保使用的是您覆盖的值。\n\n\n# app.runningunderrosettatranslation macos readonly deprecated\n\nboolean ，为 true 表明该应用程序目前正在运行在转译环境下。\n\n您可以使用此属性来提示用户下载应用程序的 arm64 版本，当用户错误地在转译环境下运行 x64 版本。\n\ndeprecated: this property is superceded by the runningunderarm64translation property which detects when the app is being translated to arm64 in both macos and windows.\n\n\n# app.runningunderarm64translation readonly macos windows\n\na boolean which when true indicates that the app is currently running under an arm64 translator (like the macos rosetta translator environment or windows wow).\n\n您可以使用此属性来提示用户下载应用程序的 arm64 版本，当用户错误地在转译环境下运行 x64 版本。",charsets:{cjk:!0}},{title:"browser-view",frontmatter:{title:"browser-view",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/5e04f4/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/browser-view.html",relativePath:"《Electron中文文档》/api/browser-view.md",key:"v-47281556",path:"/pages/5e04f4/",headers:[{level:2,title:"类: BrowserView",slug:"类-browserview",normalizedTitle:"类: browserview",charIndex:107},{level:3,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:145},{level:3,title:"new BrowserView([可选]) 实验功能",slug:"new-browserview-可选-实验功能",normalizedTitle:"new browserview([可选]) 实验功能",charIndex:467},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:576},{level:4,title:"view.webContents 实验功能",slug:"view-webcontents-实验功能",normalizedTitle:"view.webcontents 实验功能",charIndex:617},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:662},{level:4,title:"view.setAutoResize(options) 实验功能",slug:"view-setautoresize-options-实验功能",normalizedTitle:"view.setautoresize(options) 实验功能",charIndex:704},{level:4,title:"view.setBounds(bounds) 实验功能",slug:"view-setbounds-bounds-实验功能",normalizedTitle:"view.setbounds(bounds) 实验功能",charIndex:1014},{level:4,title:"view.getBounds() 实验功能",slug:"view-getbounds-实验功能",normalizedTitle:"view.getbounds() 实验功能",charIndex:1086},{level:4,title:"view.setBackgroundColor(color) 实验功能",slug:"view-setbackgroundcolor-color-实验功能",normalizedTitle:"view.setbackgroundcolor(color) 实验功能",charIndex:1159}],headersStr:"类: BrowserView 示例 new BrowserView([可选]) 实验功能 实例属性 view.webContents 实验功能 实例方法 view.setAutoResize(options) 实验功能 view.setBounds(bounds) 实验功能 view.getBounds() 实验功能 view.setBackgroundColor(color) 实验功能",content:"# BrowserView\n\nBrowserView 被用来让 BrowserWindow 嵌入更多的 web 内容。 它就像一个子窗口，除了它的位置是相对于父窗口。 这意味着可以替代webview标签.\n\n\n# 类: BrowserView\n\n> 创建和控制视图\n\n进程：主进程\n\n\n# 示例\n\n// 在主进程中.\nconst { BrowserView, BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow({ width: 800, height: 600 })\n\nconst view = new BrowserView()\nwin.setBrowserView(view)\nview.setBounds({ x: 0, y: 0, width: 300, height: 300 })\nview.webContents.loadURL('https://electronjs.org')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# new BrowserView([可选]) 实验功能\n\n * options Object (可选)\n   * webPreferences Object (可选) - 详情请看 BrowserWindow.\n\n\n# 实例属性\n\n使用 new BrowserView 创建的对象具有以下属性:\n\n# view.webContents 实验功能\n\n视图的WebContents 对象\n\n\n# 实例方法\n\n使用 new BrowserView创建的对象具有以下实例方法:\n\n# view.setAutoResize(options) 实验功能\n\n * 选项 对象\n   * width Boolean（可选） - 如果为true，视图宽度跟随窗口变化。 默认值为 false\n   * height Boolean(可选) - 如果 true，视图的高度将增长和缩小 与窗口。 默认值为 false\n   * horizontal Boolean (可选) - 如果为 true，视图的x轴和宽度将随着窗口的大小变化等比例缩放。 默认值为 false\n   * vertical Boolean(可选) - 如果 true，视图的y位置和高度将增长 和收缩比例与窗口。 默认值为 false\n\n# view.setBounds(bounds) 实验功能\n\n * bounds Rectangle\n\n调整视图的大小，并将它移动到窗口边界\n\n# view.getBounds() 实验功能\n\n返回 Rectangle\n\n此BrowserView实例的 bounds 为 Object。\n\n# view.setBackgroundColor(color) 实验功能\n\n * color String - Color in #aarrggbb or #argb form. Alpha 通道是 可选的。",normalizedContent:"# browserview\n\nbrowserview 被用来让 browserwindow 嵌入更多的 web 内容。 它就像一个子窗口，除了它的位置是相对于父窗口。 这意味着可以替代webview标签.\n\n\n# 类: browserview\n\n> 创建和控制视图\n\n进程：主进程\n\n\n# 示例\n\n// 在主进程中.\nconst { browserview, browserwindow } = require('electron')\n\nconst win = new browserwindow({ width: 800, height: 600 })\n\nconst view = new browserview()\nwin.setbrowserview(view)\nview.setbounds({ x: 0, y: 0, width: 300, height: 300 })\nview.webcontents.loadurl('https://electronjs.org')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# new browserview([可选]) 实验功能\n\n * options object (可选)\n   * webpreferences object (可选) - 详情请看 browserwindow.\n\n\n# 实例属性\n\n使用 new browserview 创建的对象具有以下属性:\n\n# view.webcontents 实验功能\n\n视图的webcontents 对象\n\n\n# 实例方法\n\n使用 new browserview创建的对象具有以下实例方法:\n\n# view.setautoresize(options) 实验功能\n\n * 选项 对象\n   * width boolean（可选） - 如果为true，视图宽度跟随窗口变化。 默认值为 false\n   * height boolean(可选) - 如果 true，视图的高度将增长和缩小 与窗口。 默认值为 false\n   * horizontal boolean (可选) - 如果为 true，视图的x轴和宽度将随着窗口的大小变化等比例缩放。 默认值为 false\n   * vertical boolean(可选) - 如果 true，视图的y位置和高度将增长 和收缩比例与窗口。 默认值为 false\n\n# view.setbounds(bounds) 实验功能\n\n * bounds rectangle\n\n调整视图的大小，并将它移动到窗口边界\n\n# view.getbounds() 实验功能\n\n返回 rectangle\n\n此browserview实例的 bounds 为 object。\n\n# view.setbackgroundcolor(color) 实验功能\n\n * color string - color in #aarrggbb or #argb form. alpha 通道是 可选的。",charsets:{cjk:!0}},{title:"clipboard",frontmatter:{title:"clipboard",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/b76157/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/clipboard.html",relativePath:"《Electron中文文档》/api/clipboard.md",key:"v-5bb8458e",path:"/pages/b76157/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:274},{level:3,title:"clipboard.readText([type])",slug:"clipboard-readtext-type",normalizedTitle:"clipboard.readtext([type])",charIndex:334},{level:3,title:"clipboard.writeText(text[, type])",slug:"clipboard-writetext-text-type",normalizedTitle:"clipboard.writetext(text[, type])",charIndex:678},{level:3,title:"clipboard.readHTML([type])",slug:"clipboard-readhtml-type",normalizedTitle:"clipboard.readhtml([type])",charIndex:969},{level:3,title:"clipboard.writeHTML(markup[, type])",slug:"clipboard-writehtml-markup-type",normalizedTitle:"clipboard.writehtml(markup[, type])",charIndex:1303},{level:3,title:"clipboard.readImage([type])",slug:"clipboard-readimage-type",normalizedTitle:"clipboard.readimage([type])",charIndex:1558},{level:3,title:"clipboard.writeImage(image[, type])",slug:"clipboard-writeimage-image-type",normalizedTitle:"clipboard.writeimage(image[, type])",charIndex:1714},{level:3,title:"clipboard.readRTF([type])",slug:"clipboard-readrtf-type",normalizedTitle:"clipboard.readrtf([type])",charIndex:1887},{level:3,title:"clipboard.writeRTF(text[, type])",slug:"clipboard-writertf-text-type",normalizedTitle:"clipboard.writertf(text[, type])",charIndex:2367},{level:3,title:"clipboard.readBookmark() macOS Windows",slug:"clipboard-readbookmark-macos-windows",normalizedTitle:"clipboard.readbookmark() macos windows",charIndex:2728},{level:3,title:"clipboard.writeBookmark(title, url[, type]) macOS Windows",slug:"clipboard-writebookmark-title-url-type-macos-windows",normalizedTitle:"clipboard.writebookmark(title, url[, type]) macos windows",charIndex:2880},{level:3,title:"clipboard.readFindText() macOS",slug:"clipboard-readfindtext-macos",normalizedTitle:"clipboard.readfindtext() macos",charIndex:3314},{level:3,title:"clipboard.writeFindText(text) macOS",slug:"clipboard-writefindtext-text-macos",normalizedTitle:"clipboard.writefindtext(text) macos",charIndex:3453},{level:3,title:"clipboard.clear([type])",slug:"clipboard-clear-type",normalizedTitle:"clipboard.clear([type])",charIndex:3576},{level:3,title:"clipboard.availableFormats([type])",slug:"clipboard-availableformats-type",normalizedTitle:"clipboard.availableformats([type])",charIndex:3710},{level:3,title:"clipboard.has(format[, type]) 实验功能",slug:"clipboard-has-format-type-实验功能",normalizedTitle:"clipboard.has(format[, type]) 实验功能",charIndex:4036},{level:3,title:"clipboard.read(format) 实验功能",slug:"clipboard-read-format-实验功能",normalizedTitle:"clipboard.read(format) 实验功能",charIndex:4373},{level:3,title:"clipboard.readBuffer(format) 实验功能",slug:"clipboard-readbuffer-format-实验功能",normalizedTitle:"clipboard.readbuffer(format) 实验功能",charIndex:4596},{level:3,title:"clipboard.writeBuffer(format, buffer[, type]) 实验功能",slug:"clipboard-writebuffer-format-buffer-type-实验功能",normalizedTitle:"clipboard.writebuffer(format, buffer[, type]) 实验功能",charIndex:4961},{level:3,title:"clipboard.write(data[, type])",slug:"clipboard-write-data-type",normalizedTitle:"clipboard.write(data[, type])",charIndex:5336}],headersStr:"方法 clipboard.readText([type]) clipboard.writeText(text[, type]) clipboard.readHTML([type]) clipboard.writeHTML(markup[, type]) clipboard.readImage([type]) clipboard.writeImage(image[, type]) clipboard.readRTF([type]) clipboard.writeRTF(text[, type]) clipboard.readBookmark() macOS Windows clipboard.writeBookmark(title, url[, type]) macOS Windows clipboard.readFindText() macOS clipboard.writeFindText(text) macOS clipboard.clear([type]) clipboard.availableFormats([type]) clipboard.has(format[, type]) 实验功能 clipboard.read(format) 实验功能 clipboard.readBuffer(format) 实验功能 clipboard.writeBuffer(format, buffer[, type]) 实验功能 clipboard.write(data[, type])",content:"# clipboard\n\n> 在系统剪贴板上执行复制和粘贴操作。\n\n进程： Main, Renderer\n\n在 Linux 上，还有一个 selection 粘贴板 。 想要操作该剪切板，你需要为每个函数传递 selection 参数。\n\nconst { clipboard } = require('electron')\n\nclipboard.writeText('Example String', 'selection')\nconsole.log(clipboard.readText('selection'))\n\n\n1\n2\n3\n4\n\n\n\n# 方法\n\nclipboard 对象具有以下方法:\n\n** 注意: **被标记为实验性的 api 将来可能被删除。\n\n\n# clipboard.readText([type])\n\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n返回 String- 剪贴板中的纯文本内容。\n\nconst { clipboard } = require('electron')\n\nclipboard.writeText('hello i am a bit of text!')\n\nconst text = clipboard.readText()\nconsole.log(text)\n// hello i am a bit of text!'\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# clipboard.writeText(text[, type])\n\n * text String\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n将 text 作为纯文本写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nconst text = 'hello i am a bit of text!'\nclipboard.writeText(text)\n\n\n1\n2\n3\n4\n\n\n\n# clipboard.readHTML([type])\n\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n返回 String- 剪贴板中的HTML内容。\n\nconst { clipboard } = require('electron')\n\nclipboard.writeHTML('<b>Hi</b>')\nconst html = clipboard.readHTML()\n\nconsole.log(html)\n// <meta charset='utf-8'><b>Hi</b>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# clipboard.writeHTML(markup[, type])\n\n * markup String\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n将 markup 写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nclipboard.writeHTML('<b>Hi</b')\n\n\n1\n2\n3\n\n\n\n# clipboard.readImage([type])\n\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n返回 NativeImage- 剪贴板中的图像内容。\n\n\n# clipboard.writeImage(image[, type])\n\n * image NativeImage\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n将 image 写入剪贴板。\n\n\n# clipboard.readRTF([type])\n\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n返回 String- 剪贴板中的RTF内容。\n\nconst { clipboard } = require('electron')\n\nclipboard.writeRTF('{\\\\rtf1\\\\ansi{\\\\fonttbl\\\\f0\\\\fswiss Helvetica;}\\\\f0\\\\pard\\nThis is some {\\\\b bold} text.\\\\par\\n}')\n\nconst rtf = clipboard.readRTF()\nconsole.log(rtf)\n// {\\\\rtf1\\\\ansi{\\\\fonttbl\\\\f0\\\\fswiss Helvetica;}\\\\f0\\\\pard\\nThis is some {\\\\b bold} text.\\\\par\\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# clipboard.writeRTF(text[, type])\n\n * text String\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n向剪贴板中写入 RTF 格式的 text.\n\nconst { clipboard } = require('electron')\n\nconst rtf = '{\\\\rtf1\\\\ansi{\\\\fonttbl\\\\f0\\\\fswiss Helvetica;}\\\\f0\\\\pard\\nThis is some {\\\\b bold} text.\\\\par\\n}'\nclipboard.writeRTF(rtf)\n\n\n1\n2\n3\n4\n\n\n\n# clipboard.readBookmark() macOS Windows\n\n返回 Object:\n\n * title String\n * url String\n\n返回一个对象, 其中包含表示剪贴板中书签 title 和 url 。 当书签不可用时, title 和 url 值将为空字符串。\n\n\n# clipboard.writeBookmark(title, url[, type]) macOS Windows\n\n * title String\n * url String\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n将书签的 title 和 url 写入剪贴板。\n\n注意：Windows上的大多数应用程序不支持粘贴书签，因此你可以使用 clipboard.write 将书签和后备文本写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nclipboard.writeBookmark({\n  text: 'https://electronjs.org',\n  bookmark: 'Electron Homepage'\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# clipboard.readFindText() macOS\n\n返回 String - \"查找粘贴板\"上的文本，这是保存有关活动应用程序查找面板当前状态信息的粘贴板。\n\n此方法从渲染进程调用时使用同步 IPC。 每当激活应用程序时, 都会从查找粘贴板中重新读取缓存值。\n\n\n# clipboard.writeFindText(text) macOS\n\n * text String\n\n将 text 作为纯文本写入查找粘贴板(粘贴板上有关于当前应用程序查找面板状态的信息)。 此方法从渲染进程调用时使用同步 IPC。\n\n\n# clipboard.clear([type])\n\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n清除剪贴板内容。\n\n\n# clipboard.availableFormats([type])\n\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n返回 String []- 剪贴板 type 所支持的格式的数组。\n\nconst { clipboard } = require('electron')\n\nconst formats = clipboard.availableFormats()\nconsole.log(formats)\n// [ 'text/plain', 'text/html' ]\n\n\n1\n2\n3\n4\n5\n\n\n\n# clipboard.has(format[, type]) 实验功能\n\n * format String\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n返回 Boolean, 剪贴板是否支持指定的 format。\n\nconst { clipboard } = require('electron')\n\nconst hasFormat = clipboard.has('<p>selection</p>')\nconsole.log(hasFormat)\n// 'true' or 'false'\n\n\n1\n2\n3\n4\n5\n\n\n\n# clipboard.read(format) 实验功能\n\n * format String\n\n返回 String- 从剪贴板中读取 format 类型的内容。\n\nformat should contain valid ASCII characters and have / separator. a/c, a/bc are valid formats while /abc, abc/, a/, /a, a are not valid.\n\n\n# clipboard.readBuffer(format) 实验功能\n\n * format String\n\n返回 Buffer- 从剪贴板中读取 format 类型的内容。\n\nconst { clipboard } = require('electron')\n\nconst buffer = Buffer.from('this is binary', 'utf8')\nclipboard.writeBuffer('public/utf8-plain-text', buffer)\n\nconst ret = clipboard.readBuffer('public/utf8-plain-text')\n\nconsole.log(buffer.equals(out))\n// true\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# clipboard.writeBuffer(format, buffer[, type]) 实验功能\n\n * format String\n * buffer Buffer\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n将 buffer 作为 format 类型写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nconst buffer = Buffer.from('writeBuffer', 'utf8')\nclipboard.writeBuffer('public/utf8-plain-text', buffer)\n\n\n1\n2\n3\n4\n\n\n\n# clipboard.write(data[, type])\n\n * data Object\n   * text String（可选）\n   * html String（可选）\n   * image NativeImage (可选)\n   * rtf String (可选)\n   * bookmark String (可选)- URL 的标题 text。\n * type String (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 Linux 中可用。\n\n将 data 写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nclipboard.write({\n  text: 'test',\n  html: '<b>Hi</b>',\n  rtf: '{\\\\rtf1\\\\utf8 text}',\n  bookmark: 'a title'\n})\n\nconsole.log(clipboard.readText())\n// 'test'\n\nconsole.log(clipboard.readHTML())\n// <meta charset='utf-8'><b>Hi</b>\n\nconsole.log(clipboard.readRTF())\n// '{\\\\rtf1\\\\utf8 text}'\n\nconsole.log(clipboard.readBookmark())\n// { title: 'a title', url: 'test' }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n",normalizedContent:"# clipboard\n\n> 在系统剪贴板上执行复制和粘贴操作。\n\n进程： main, renderer\n\n在 linux 上，还有一个 selection 粘贴板 。 想要操作该剪切板，你需要为每个函数传递 selection 参数。\n\nconst { clipboard } = require('electron')\n\nclipboard.writetext('example string', 'selection')\nconsole.log(clipboard.readtext('selection'))\n\n\n1\n2\n3\n4\n\n\n\n# 方法\n\nclipboard 对象具有以下方法:\n\n** 注意: **被标记为实验性的 api 将来可能被删除。\n\n\n# clipboard.readtext([type])\n\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n返回 string- 剪贴板中的纯文本内容。\n\nconst { clipboard } = require('electron')\n\nclipboard.writetext('hello i am a bit of text!')\n\nconst text = clipboard.readtext()\nconsole.log(text)\n// hello i am a bit of text!'\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# clipboard.writetext(text[, type])\n\n * text string\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n将 text 作为纯文本写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nconst text = 'hello i am a bit of text!'\nclipboard.writetext(text)\n\n\n1\n2\n3\n4\n\n\n\n# clipboard.readhtml([type])\n\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n返回 string- 剪贴板中的html内容。\n\nconst { clipboard } = require('electron')\n\nclipboard.writehtml('<b>hi</b>')\nconst html = clipboard.readhtml()\n\nconsole.log(html)\n// <meta charset='utf-8'><b>hi</b>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# clipboard.writehtml(markup[, type])\n\n * markup string\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n将 markup 写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nclipboard.writehtml('<b>hi</b')\n\n\n1\n2\n3\n\n\n\n# clipboard.readimage([type])\n\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n返回 nativeimage- 剪贴板中的图像内容。\n\n\n# clipboard.writeimage(image[, type])\n\n * image nativeimage\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n将 image 写入剪贴板。\n\n\n# clipboard.readrtf([type])\n\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n返回 string- 剪贴板中的rtf内容。\n\nconst { clipboard } = require('electron')\n\nclipboard.writertf('{\\\\rtf1\\\\ansi{\\\\fonttbl\\\\f0\\\\fswiss helvetica;}\\\\f0\\\\pard\\nthis is some {\\\\b bold} text.\\\\par\\n}')\n\nconst rtf = clipboard.readrtf()\nconsole.log(rtf)\n// {\\\\rtf1\\\\ansi{\\\\fonttbl\\\\f0\\\\fswiss helvetica;}\\\\f0\\\\pard\\nthis is some {\\\\b bold} text.\\\\par\\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# clipboard.writertf(text[, type])\n\n * text string\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n向剪贴板中写入 rtf 格式的 text.\n\nconst { clipboard } = require('electron')\n\nconst rtf = '{\\\\rtf1\\\\ansi{\\\\fonttbl\\\\f0\\\\fswiss helvetica;}\\\\f0\\\\pard\\nthis is some {\\\\b bold} text.\\\\par\\n}'\nclipboard.writertf(rtf)\n\n\n1\n2\n3\n4\n\n\n\n# clipboard.readbookmark() macos windows\n\n返回 object:\n\n * title string\n * url string\n\n返回一个对象, 其中包含表示剪贴板中书签 title 和 url 。 当书签不可用时, title 和 url 值将为空字符串。\n\n\n# clipboard.writebookmark(title, url[, type]) macos windows\n\n * title string\n * url string\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n将书签的 title 和 url 写入剪贴板。\n\n注意：windows上的大多数应用程序不支持粘贴书签，因此你可以使用 clipboard.write 将书签和后备文本写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nclipboard.writebookmark({\n  text: 'https://electronjs.org',\n  bookmark: 'electron homepage'\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# clipboard.readfindtext() macos\n\n返回 string - \"查找粘贴板\"上的文本，这是保存有关活动应用程序查找面板当前状态信息的粘贴板。\n\n此方法从渲染进程调用时使用同步 ipc。 每当激活应用程序时, 都会从查找粘贴板中重新读取缓存值。\n\n\n# clipboard.writefindtext(text) macos\n\n * text string\n\n将 text 作为纯文本写入查找粘贴板(粘贴板上有关于当前应用程序查找面板状态的信息)。 此方法从渲染进程调用时使用同步 ipc。\n\n\n# clipboard.clear([type])\n\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n清除剪贴板内容。\n\n\n# clipboard.availableformats([type])\n\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n返回 string []- 剪贴板 type 所支持的格式的数组。\n\nconst { clipboard } = require('electron')\n\nconst formats = clipboard.availableformats()\nconsole.log(formats)\n// [ 'text/plain', 'text/html' ]\n\n\n1\n2\n3\n4\n5\n\n\n\n# clipboard.has(format[, type]) 实验功能\n\n * format string\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n返回 boolean, 剪贴板是否支持指定的 format。\n\nconst { clipboard } = require('electron')\n\nconst hasformat = clipboard.has('<p>selection</p>')\nconsole.log(hasformat)\n// 'true' or 'false'\n\n\n1\n2\n3\n4\n5\n\n\n\n# clipboard.read(format) 实验功能\n\n * format string\n\n返回 string- 从剪贴板中读取 format 类型的内容。\n\nformat should contain valid ascii characters and have / separator. a/c, a/bc are valid formats while /abc, abc/, a/, /a, a are not valid.\n\n\n# clipboard.readbuffer(format) 实验功能\n\n * format string\n\n返回 buffer- 从剪贴板中读取 format 类型的内容。\n\nconst { clipboard } = require('electron')\n\nconst buffer = buffer.from('this is binary', 'utf8')\nclipboard.writebuffer('public/utf8-plain-text', buffer)\n\nconst ret = clipboard.readbuffer('public/utf8-plain-text')\n\nconsole.log(buffer.equals(out))\n// true\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# clipboard.writebuffer(format, buffer[, type]) 实验功能\n\n * format string\n * buffer buffer\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n将 buffer 作为 format 类型写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nconst buffer = buffer.from('writebuffer', 'utf8')\nclipboard.writebuffer('public/utf8-plain-text', buffer)\n\n\n1\n2\n3\n4\n\n\n\n# clipboard.write(data[, type])\n\n * data object\n   * text string（可选）\n   * html string（可选）\n   * image nativeimage (可选)\n   * rtf string (可选)\n   * bookmark string (可选)- url 的标题 text。\n * type string (optional) -可以是 selection 或 clipboard; 默认为 'clipboard'. selection 仅在 linux 中可用。\n\n将 data 写入剪贴板。\n\nconst { clipboard } = require('electron')\n\nclipboard.write({\n  text: 'test',\n  html: '<b>hi</b>',\n  rtf: '{\\\\rtf1\\\\utf8 text}',\n  bookmark: 'a title'\n})\n\nconsole.log(clipboard.readtext())\n// 'test'\n\nconsole.log(clipboard.readhtml())\n// <meta charset='utf-8'><b>hi</b>\n\nconsole.log(clipboard.readrtf())\n// '{\\\\rtf1\\\\utf8 text}'\n\nconsole.log(clipboard.readbookmark())\n// { title: 'a title', url: 'test' }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n",charsets:{cjk:!0}},{title:"browser-window-proxy",frontmatter:{title:"browser-window-proxy",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/343dac/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/browser-window-proxy.html",relativePath:"《Electron中文文档》/api/browser-window-proxy.md",key:"v-5b833ad6",path:"/pages/343dac/",headers:[{level:2,title:"类: BrowserWindowProxy",slug:"类-browserwindowproxy",normalizedTitle:"类: browserwindowproxy",charIndex:2},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:257},{level:4,title:"win.blur()",slug:"win-blur",normalizedTitle:"win.blur()",charIndex:297},{level:4,title:"win.close()",slug:"win-close",normalizedTitle:"win.close()",charIndex:324},{level:4,title:"win.eval(code)",slug:"win-eval-code",normalizedTitle:"win.eval(code)",charIndex:357},{level:4,title:"win.focus()",slug:"win-focus",normalizedTitle:"win.focus()",charIndex:404},{level:4,title:"win.print()",slug:"win-print",normalizedTitle:"win.print()",charIndex:433},{level:4,title:"win.postMessage(message, targetOrigin)",slug:"win-postmessage-message-targetorigin",normalizedTitle:"win.postmessage(message, targetorigin)",charIndex:462},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:618},{level:4,title:"win.closed",slug:"win-closed",normalizedTitle:"win.closed",charIndex:658}],headersStr:"类: BrowserWindowProxy 实例方法 win.blur() win.close() win.eval(code) win.focus() win.print() win.postMessage(message, targetOrigin) 实例属性 win.closed",content:"# 类: BrowserWindowProxy\n\n> 操纵子浏览器窗口\n\nProcess: Renderer\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n使用 window.open 创建一个新窗口时会返回一个 BrowserWindowProxy对象，并提供一个有限功能的子窗口.\n\n\n# 实例方法\n\nBrowserWindowProxy 对象具有以下实例方法:\n\n# win.blur()\n\n将焦点从子窗口中移除.\n\n# win.close()\n\n不调用卸载事件，便关闭了子窗口。\n\n# win.eval(code)\n\n * code String\n\nEval子窗口中的代码\n\n# win.focus()\n\n聚焦子窗口(即窗口置顶)\n\n# win.print()\n\n调用子窗口上的打印对话框\n\n# win.postMessage(message, targetOrigin)\n\n * message any\n * targetOrigin String\n\n调通过指定位置或用*来代替不明位置，向子窗口发送信息\n\n除了这些方法,子窗口还可以无特性和使用单一方法来实现 window.opener 对象.\n\n\n# 实例属性\n\nBrowserWindowProxy 对象具有以下实例属性:\n\n# win.closed\n\n在子窗口关闭后设置为 true 的 Boolean。",normalizedContent:"# 类: browserwindowproxy\n\n> 操纵子浏览器窗口\n\nprocess: renderer\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n使用 window.open 创建一个新窗口时会返回一个 browserwindowproxy对象，并提供一个有限功能的子窗口.\n\n\n# 实例方法\n\nbrowserwindowproxy 对象具有以下实例方法:\n\n# win.blur()\n\n将焦点从子窗口中移除.\n\n# win.close()\n\n不调用卸载事件，便关闭了子窗口。\n\n# win.eval(code)\n\n * code string\n\neval子窗口中的代码\n\n# win.focus()\n\n聚焦子窗口(即窗口置顶)\n\n# win.print()\n\n调用子窗口上的打印对话框\n\n# win.postmessage(message, targetorigin)\n\n * message any\n * targetorigin string\n\n调通过指定位置或用*来代替不明位置，向子窗口发送信息\n\n除了这些方法,子窗口还可以无特性和使用单一方法来实现 window.opener 对象.\n\n\n# 实例属性\n\nbrowserwindowproxy 对象具有以下实例属性:\n\n# win.closed\n\n在子窗口关闭后设置为 true 的 boolean。",charsets:{cjk:!0}},{title:"command-line-switches",frontmatter:{title:"command-line-switches",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/df60b0/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/command-line-switches.html",relativePath:"《Electron中文文档》/api/command-line-switches.md",key:"v-f47f4670",path:"/pages/df60b0/",headers:[{level:2,title:"Electron CLI 标志",slug:"electron-cli-标志",normalizedTitle:"electron cli 标志",charIndex:336},{level:3,title:"--auth-server-whitelist=url",slug:"auth-server-whitelist-url",normalizedTitle:"--auth-server-whitelist=url",charIndex:356},{level:3,title:"--auth-negotiate-delegate-whitelist=url",slug:"auth-negotiate-delegate-whitelist-url",normalizedTitle:"--auth-negotiate-delegate-whitelist=url",charIndex:554},{level:3,title:"--disable-ntlm-v2",slug:"disable-ntlm-v2",normalizedTitle:"--disable-ntlm-v2",charIndex:642},{level:3,title:"--disable-http-cache",slug:"disable-http-cache",normalizedTitle:"--disable-http-cache",charIndex:692},{level:3,title:"--disable-http2",slug:"disable-http2",normalizedTitle:"--disable-http2",charIndex:733},{level:3,title:"--disable-renderer-backgrounding",slug:"disable-renderer-backgrounding",normalizedTitle:"--disable-renderer-backgrounding",charIndex:775},{level:3,title:"--disk-cache-size=size",slug:"disk-cache-size-size",normalizedTitle:"--disk-cache-size=size",charIndex:906},{level:3,title:"--enable-api-filtering-logging",slug:"enable-api-filtering-logging",normalizedTitle:"--enable-api-filtering-logging",charIndex:959},{level:3,title:"--enable-logging[=file]",slug:"enable-logging-file",normalizedTitle:"--enable-logging[=file]",charIndex:1084},{level:3,title:"--force-fieldtrials=trials",slug:"force-fieldtrials-trials",normalizedTitle:"--force-fieldtrials=trials",charIndex:1722},{level:3,title:"--host-rules=rules",slug:"host-rules-rules",normalizedTitle:"--host-rules=rules",charIndex:1808},{level:3,title:"--host-resolver-rules=rules",slug:"host-resolver-rules-rules",normalizedTitle:"--host-resolver-rules=rules",charIndex:2193},{level:3,title:"--ignore-certificate-errors",slug:"ignore-certificate-errors",normalizedTitle:"--ignore-certificate-errors",charIndex:2263},{level:3,title:"--ignore-connections-limit=domains",slug:"ignore-connections-limit-domains",normalizedTitle:"--ignore-connections-limit=domains",charIndex:2307},{level:3,title:"--js-flags=flags",slug:"js-flags-flags",normalizedTitle:"--js-flags=flags",charIndex:2370},{level:3,title:"--lang",slug:"lang",normalizedTitle:"--lang",charIndex:2653},{level:3,title:"--log-file=path",slug:"log-file-path",normalizedTitle:"--log-file=path",charIndex:2674},{level:3,title:"--log-net-log=path",slug:"log-net-log-path",normalizedTitle:"--log-net-log=path",charIndex:2953},{level:3,title:"--log-level=N",slug:"log-level-n",normalizedTitle:"--log-level=n",charIndex:3004},{level:3,title:"--no-proxy-server",slug:"no-proxy-server",normalizedTitle:"--no-proxy-server",charIndex:3794},{level:3,title:"--no-sandbox",slug:"no-sandbox",normalizedTitle:"--no-sandbox",charIndex:3849},{level:3,title:"--proxy-bypass-list=hosts",slug:"proxy-bypass-list-hosts",normalizedTitle:"--proxy-bypass-list=hosts",charIndex:3923},{level:3,title:"--proxy-pac-url=url",slug:"proxy-pac-url-url",normalizedTitle:"--proxy-pac-url=url",charIndex:4285},{level:3,title:"--proxy-server=address:port",slug:"proxy-server-address-port",normalizedTitle:"--proxy-server=address:port",charIndex:4326},{level:3,title:"--remote-debugging-port=port",slug:"remote-debugging-port-port",normalizedTitle:"--remote-debugging-port=port",charIndex:4490},{level:3,title:"--v=log_level",slug:"v-log-level",normalizedTitle:"--v=log_level",charIndex:4541},{level:3,title:"--vmodule=pattern",slug:"vmodule-pattern",normalizedTitle:"--vmodule=pattern",charIndex:4698},{level:3,title:"--forcehighperformance_gpu",slug:"force-high-performance-gpu",normalizedTitle:"--forcehighperformance_gpu",charIndex:null},{level:3,title:"--forcelowpower_gpu",slug:"force-low-power-gpu",normalizedTitle:"--forcelowpower_gpu",charIndex:null},{level:2,title:"Node.js Flags",slug:"node-js-flags",normalizedTitle:"node.js flags",charIndex:5091},{level:3,title:"--inspect-brk[=[host:]port]",slug:"inspect-brk-host-port",normalizedTitle:"--inspect-brk[=[host:]port]",charIndex:5218},{level:3,title:"--inspect-port=[host:]port",slug:"inspect-port-host-port",normalizedTitle:"--inspect-port=[host:]port",charIndex:5336},{level:3,title:"--inspect[=[host:]port]",slug:"inspect-host-port",normalizedTitle:"--inspect[=[host:]port]",charIndex:5462},{level:3,title:"--inspect-publish-uid=stderr,http",slug:"inspect-publish-uid-stderr-http",normalizedTitle:"--inspect-publish-uid=stderr,http",charIndex:5707}],headersStr:"Electron CLI 标志 --auth-server-whitelist=url --auth-negotiate-delegate-whitelist=url --disable-ntlm-v2 --disable-http-cache --disable-http2 --disable-renderer-backgrounding --disk-cache-size=size --enable-api-filtering-logging --enable-logging[=file] --force-fieldtrials=trials --host-rules=rules --host-resolver-rules=rules --ignore-certificate-errors --ignore-connections-limit=domains --js-flags=flags --lang --log-file=path --log-net-log=path --log-level=N --no-proxy-server --no-sandbox --proxy-bypass-list=hosts --proxy-pac-url=url --proxy-server=address:port --remote-debugging-port=port --v=log_level --vmodule=pattern --forcehighperformance_gpu --forcelowpower_gpu Node.js Flags --inspect-brk[=[host:]port] --inspect-port=[host:]port --inspect[=[host:]port] --inspect-publish-uid=stderr,http",content:"# 支持的命令行开关\n\n> Electron支持的命令行开关.\n\n您可以在app 模块的ready事件生效之前，使用app.commandLine.appendSwitch将它们附加到您的应用程序的主要脚本中：\n\nconst { app } = require('electron')\napp.commandLine.appendSwitch('remote-debugging-port', '8315')\napp.commandLine.appendSwitch('host-rules', 'MAP * 127.0.0.1')\n\napp.whenReady().then(() => {\n  // 在这里写入你的代码\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Electron CLI 标志\n\n\n# --auth-server-whitelist=url\n\n启用了集成身份验证的以逗号分隔的服务器列表。\n\n例如：\n\n--auth-server-whitelist='*example.com, *foobar.com, *baz'\n\n\n1\n\n\n则任何以example.com, foobar.com, baz结尾的url, 都需要考虑集成验证. 没有 * 前缀的 URL 必须完全匹配。\n\n\n# --auth-negotiate-delegate-whitelist=url\n\n需要授权用户凭据的以逗号分隔的服务器列表。 没有 * 前缀的 URL 必须完全匹配。\n\n\n# --disable-ntlm-v2\n\n禁用NTLM v2的posix平台，对别处没有影响。\n\n\n# --disable-http-cache\n\n禁用HTTP请求的磁盘缓存.\n\n\n# --disable-http2\n\n禁用HTTP/2和SPDY/3.1协议.\n\n\n# --disable-renderer-backgrounding\n\n防止Chromium降低不可见的页面渲染进程的优先级.\n\n这个标识是全局的, 影响所有渲染进程. 如果你只想禁用一个窗口的节流保护，你可以采取playing silent audio.\n\n\n# --disk-cache-size=size\n\n强制磁盘缓存使用的最大磁盘空间（以字节为单位）。\n\n\n# --enable-api-filtering-logging\n\n开启以下API 的调用堆栈日志记录(过滤事件)：\n\n * desktopCapturer.getSources() / desktop-capturer-get-sources\n\n\n# --enable-logging[=file]\n\nPrints Chromium's logging to stderr (or a log file).\n\nThe ELECTRON_ENABLE_LOGGING environment variable has the same effect as passing --enable-logging.\n\nPassing --enable-logging will result in logs being printed on stderr. Passing --enable-logging=file will result in logs being saved to the file specified by --log-file=..., or to electron_debug.log in the user-data directory if --log-file is not specified.\n\n> Note: On Windows, logs from child processes cannot be sent to stderr. Logging to a file is the most reliable way to collect logs on Windows.\n\nSee also --log-file, --log-level, --v, and --vmodule.\n\n\n# --force-fieldtrials=trials\n\n试用特性将强制启用或禁用。\n\n例如： WebRTC-Audio-Red-For-Opus/Enabled/\n\n\n# --host-rules=rules\n\n以逗号分隔的rules列表，用于控制主机名的映射方式\n\n例如：\n\n * MAP * 127.0.0.1 强制将所有主机名映射到127.0.0.1\n * MAP *.google.com proxy 强制所有google.com子域名解析到\"proxy\".\n * MAP test.com [::1]:77 强制将 \"test.com\" 解析到 IPv6 环回接口。 也会强制目标套接字地址的端口为77。\n * MAP * baz, EXCLUDE www.google.com 把所有地址重新映射到“baz”, 除了\"www.google.com\".\n\n这些映射适用于网络请求中的端点主机. 网络请求包括TCP连接和直连的主机解析器, 以及HTTP代理连接中的CONNECT方式, 以及在SOCKS代理连接中的端点主机.\n\n\n# --host-resolver-rules=rules\n\n与--host-rules类似, 但是这些rules仅适用于主机解析器.\n\n\n# --ignore-certificate-errors\n\n忽略证书相关的错误.\n\n\n# --ignore-connections-limit=domains\n\n忽略由,分割的domains列表的连接限制.\n\n\n# --js-flags=flags\n\n指定传递到 Node.js 引擎的flags。 如果您想在主进程中启用 flags ，则必须在一开始运行Electron的时候就传递。\n\n$ electron --js-flags=\"--harmony_proxies --harmony_collections\" your-app\n\n\n1\n\n\n查看Node.js 文档或者在终端中运行node --help命令查看可用的flags列表。 此外，还可以运行node --v8-options来查看与Node.js的V8 JavaScript引擎特定相关的flags列表。\n\n\n# --lang\n\n设置系统语言环境\n\n\n# --log-file=path\n\nIf --enable-logging is specified, logs will be written to the given path. The parent directory must exist.\n\nSetting the ELECTRON_LOG_FILE environment variable is equivalent to passing this flag. If both are present, the command-line switch takes precedence.\n\n\n# --log-net-log=path\n\n启用需要保存的网络日志事件并将其写入path路径下.\n\n\n# --log-level=N\n\nSets the verbosity of logging when used together with --enable-logging. N should be one of Chrome's LogSeverities.\n\nNote that two complimentary logging mechanisms in Chromium -- LOG() and VLOG() -- are controlled by different switches. --log-level controls LOG() messages, while --v and --vmodule control VLOG() messages. So you may want to use a combination of these three switches depending on the granularity you want and what logging calls are made by the code you're trying to watch.\n\nSee Chromium Logging source for more information on how LOG() and VLOG() interact. Loosely speaking, VLOG() can be thought of as sub-levels / per-module levels inside LOG(INFO) to control the firehose of LOG(INFO) data.\n\nSee also --enable-logging, --log-level, --v, and --vmodule.\n\n\n# --no-proxy-server\n\n不使用代理服务器，并始终保持直连。 会覆盖其他代理服务器标记。\n\n\n# --no-sandbox\n\n禁用 Chromium 沙箱。 强制渲染器进程和Chromium助手进程以非沙盒化运行。 应该只在测试时使用。\n\n\n# --proxy-bypass-list=hosts\n\n指示Electron绕过使用; 分号; 分割的给定的主机列表中的代理服务器。 这个标志只有在与--proxy-server 同时使用时才具有效果。\n\n例如：\n\nconst { app } = require('electron')\napp.commandLine.appendSwitch('proxy-bypass-list', '<local>;*.google.com;*foo.com;1.2.3.4:5678')\n\n\n1\n2\n\n\n上面的代码, 除了本地地址(localhost,127.0.0.1等等.), google.com子域名, 包含foo.com后缀的主机地址, 以及任何在1.2.3.4:5678上的地址以外的所有主机都将使用代理服务器.\n\n\n# --proxy-pac-url=url\n\n在指定url中使用PAC脚本.\n\n\n# --proxy-server=address:port\n\n使用指定的覆盖系统设置的代理服务器. 这个开关只影响HTTP协议请求, 包括HTTPS和WebSocket请求. 值得注意的是并不是所有的代理服务器都支持HTTPS和WebSocket请求. 代理 URL 不支持用户名和密码认证方式 Chromium 的问题。\n\n\n# --remote-debugging-port=port\n\n在指定端口开启HTTP远程调试.\n\n\n# --v=log_level\n\n指定默认的最大活跃V-logging级别；默认值为0。 通常 V-logging 级别为正数。\n\n这个开关只有在--enable-logging也被传递时才起效.\n\nSee also --enable-logging, --log-level, and --vmodule.\n\n\n# --vmodule=pattern\n\n给定每个模块最大的V-logging等级, 覆盖--v设定的值. 如下: my_module=2,foo*=3 会更改所有代码在源文件 my_module.* 和 foo*.* 中的日志级别。\n\n任何包含正斜杠或反斜杠的模式都将针对 整个路径名进行测试，而不仅仅是模块。 如下: */foo/bar/*=2 会更改foo/bar 目录下源文件中所有代码的日志级别。\n\n这个开关只有在--enable-logging也被传递时才起效.\n\nSee also --enable-logging, --log-level, and --v.\n\n\n# --force_high_performance_gpu\n\n当有多个GPU可用时，强制使用独立显卡。\n\n\n# --force_low_power_gpu\n\n当有多个GPU可用时，强制使用集成显卡。\n\n\n# Node.js Flags\n\nElectron 支持一些 Node.js 支持的 CLI flags。\n\n注意： 当Electron 不是以 ELECTRON_RUN_AS_NODE运行时，传递不支持的命令行参数到Electron 不会起作用。\n\n\n# --inspect-brk[=[host:]port]\n\n在 主机:端口 上激活检查器并在用户脚本开始运行后中断。 默认 主机:端口 为127.0.0.1:9229。\n\n是 --debug-brk=[host:]port的别名\n\n\n# --inspect-port=[host:]port\n\n当检查器被激活时要使用的 主机:端口。 常用于通过发送 SIGUSR1 信号激活检查器时。 默认主机是 127.0.0.1。\n\n是 --debug-port=[host:]port的别名\n\n\n# --inspect[=[host:]port]\n\n在 主机:端口 上激活检查器。 默认是 127.0.0.1:9229。\n\n集成V8 检查器允许Chrome 开发者工具和 IDE 这些工具调试和修改 Electron 实例。 这些工具通过 TCP 端口连接到 Electron 实例，并使用 Chrome 开发者工具协议进行通信。\n\n调试相关的标识, 更多详细信息请查看 Debugging the Main Process指南。\n\n是 --debug[host:]port的别名\n\n\n# --inspect-publish-uid=stderr,http\n\n指定检查器的 web 套接字url 公开方式。\n\n默认情况下，websocket url在 stderr 中和在 http://host:port/json/list 的 /json/list 端点下都是可用的。",normalizedContent:"# 支持的命令行开关\n\n> electron支持的命令行开关.\n\n您可以在app 模块的ready事件生效之前，使用app.commandline.appendswitch将它们附加到您的应用程序的主要脚本中：\n\nconst { app } = require('electron')\napp.commandline.appendswitch('remote-debugging-port', '8315')\napp.commandline.appendswitch('host-rules', 'map * 127.0.0.1')\n\napp.whenready().then(() => {\n  // 在这里写入你的代码\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# electron cli 标志\n\n\n# --auth-server-whitelist=url\n\n启用了集成身份验证的以逗号分隔的服务器列表。\n\n例如：\n\n--auth-server-whitelist='*example.com, *foobar.com, *baz'\n\n\n1\n\n\n则任何以example.com, foobar.com, baz结尾的url, 都需要考虑集成验证. 没有 * 前缀的 url 必须完全匹配。\n\n\n# --auth-negotiate-delegate-whitelist=url\n\n需要授权用户凭据的以逗号分隔的服务器列表。 没有 * 前缀的 url 必须完全匹配。\n\n\n# --disable-ntlm-v2\n\n禁用ntlm v2的posix平台，对别处没有影响。\n\n\n# --disable-http-cache\n\n禁用http请求的磁盘缓存.\n\n\n# --disable-http2\n\n禁用http/2和spdy/3.1协议.\n\n\n# --disable-renderer-backgrounding\n\n防止chromium降低不可见的页面渲染进程的优先级.\n\n这个标识是全局的, 影响所有渲染进程. 如果你只想禁用一个窗口的节流保护，你可以采取playing silent audio.\n\n\n# --disk-cache-size=size\n\n强制磁盘缓存使用的最大磁盘空间（以字节为单位）。\n\n\n# --enable-api-filtering-logging\n\n开启以下api 的调用堆栈日志记录(过滤事件)：\n\n * desktopcapturer.getsources() / desktop-capturer-get-sources\n\n\n# --enable-logging[=file]\n\nprints chromium's logging to stderr (or a log file).\n\nthe electron_enable_logging environment variable has the same effect as passing --enable-logging.\n\npassing --enable-logging will result in logs being printed on stderr. passing --enable-logging=file will result in logs being saved to the file specified by --log-file=..., or to electron_debug.log in the user-data directory if --log-file is not specified.\n\n> note: on windows, logs from child processes cannot be sent to stderr. logging to a file is the most reliable way to collect logs on windows.\n\nsee also --log-file, --log-level, --v, and --vmodule.\n\n\n# --force-fieldtrials=trials\n\n试用特性将强制启用或禁用。\n\n例如： webrtc-audio-red-for-opus/enabled/\n\n\n# --host-rules=rules\n\n以逗号分隔的rules列表，用于控制主机名的映射方式\n\n例如：\n\n * map * 127.0.0.1 强制将所有主机名映射到127.0.0.1\n * map *.google.com proxy 强制所有google.com子域名解析到\"proxy\".\n * map test.com [::1]:77 强制将 \"test.com\" 解析到 ipv6 环回接口。 也会强制目标套接字地址的端口为77。\n * map * baz, exclude www.google.com 把所有地址重新映射到“baz”, 除了\"www.google.com\".\n\n这些映射适用于网络请求中的端点主机. 网络请求包括tcp连接和直连的主机解析器, 以及http代理连接中的connect方式, 以及在socks代理连接中的端点主机.\n\n\n# --host-resolver-rules=rules\n\n与--host-rules类似, 但是这些rules仅适用于主机解析器.\n\n\n# --ignore-certificate-errors\n\n忽略证书相关的错误.\n\n\n# --ignore-connections-limit=domains\n\n忽略由,分割的domains列表的连接限制.\n\n\n# --js-flags=flags\n\n指定传递到 node.js 引擎的flags。 如果您想在主进程中启用 flags ，则必须在一开始运行electron的时候就传递。\n\n$ electron --js-flags=\"--harmony_proxies --harmony_collections\" your-app\n\n\n1\n\n\n查看node.js 文档或者在终端中运行node --help命令查看可用的flags列表。 此外，还可以运行node --v8-options来查看与node.js的v8 javascript引擎特定相关的flags列表。\n\n\n# --lang\n\n设置系统语言环境\n\n\n# --log-file=path\n\nif --enable-logging is specified, logs will be written to the given path. the parent directory must exist.\n\nsetting the electron_log_file environment variable is equivalent to passing this flag. if both are present, the command-line switch takes precedence.\n\n\n# --log-net-log=path\n\n启用需要保存的网络日志事件并将其写入path路径下.\n\n\n# --log-level=n\n\nsets the verbosity of logging when used together with --enable-logging. n should be one of chrome's logseverities.\n\nnote that two complimentary logging mechanisms in chromium -- log() and vlog() -- are controlled by different switches. --log-level controls log() messages, while --v and --vmodule control vlog() messages. so you may want to use a combination of these three switches depending on the granularity you want and what logging calls are made by the code you're trying to watch.\n\nsee chromium logging source for more information on how log() and vlog() interact. loosely speaking, vlog() can be thought of as sub-levels / per-module levels inside log(info) to control the firehose of log(info) data.\n\nsee also --enable-logging, --log-level, --v, and --vmodule.\n\n\n# --no-proxy-server\n\n不使用代理服务器，并始终保持直连。 会覆盖其他代理服务器标记。\n\n\n# --no-sandbox\n\n禁用 chromium 沙箱。 强制渲染器进程和chromium助手进程以非沙盒化运行。 应该只在测试时使用。\n\n\n# --proxy-bypass-list=hosts\n\n指示electron绕过使用; 分号; 分割的给定的主机列表中的代理服务器。 这个标志只有在与--proxy-server 同时使用时才具有效果。\n\n例如：\n\nconst { app } = require('electron')\napp.commandline.appendswitch('proxy-bypass-list', '<local>;*.google.com;*foo.com;1.2.3.4:5678')\n\n\n1\n2\n\n\n上面的代码, 除了本地地址(localhost,127.0.0.1等等.), google.com子域名, 包含foo.com后缀的主机地址, 以及任何在1.2.3.4:5678上的地址以外的所有主机都将使用代理服务器.\n\n\n# --proxy-pac-url=url\n\n在指定url中使用pac脚本.\n\n\n# --proxy-server=address:port\n\n使用指定的覆盖系统设置的代理服务器. 这个开关只影响http协议请求, 包括https和websocket请求. 值得注意的是并不是所有的代理服务器都支持https和websocket请求. 代理 url 不支持用户名和密码认证方式 chromium 的问题。\n\n\n# --remote-debugging-port=port\n\n在指定端口开启http远程调试.\n\n\n# --v=log_level\n\n指定默认的最大活跃v-logging级别；默认值为0。 通常 v-logging 级别为正数。\n\n这个开关只有在--enable-logging也被传递时才起效.\n\nsee also --enable-logging, --log-level, and --vmodule.\n\n\n# --vmodule=pattern\n\n给定每个模块最大的v-logging等级, 覆盖--v设定的值. 如下: my_module=2,foo*=3 会更改所有代码在源文件 my_module.* 和 foo*.* 中的日志级别。\n\n任何包含正斜杠或反斜杠的模式都将针对 整个路径名进行测试，而不仅仅是模块。 如下: */foo/bar/*=2 会更改foo/bar 目录下源文件中所有代码的日志级别。\n\n这个开关只有在--enable-logging也被传递时才起效.\n\nsee also --enable-logging, --log-level, and --v.\n\n\n# --force_high_performance_gpu\n\n当有多个gpu可用时，强制使用独立显卡。\n\n\n# --force_low_power_gpu\n\n当有多个gpu可用时，强制使用集成显卡。\n\n\n# node.js flags\n\nelectron 支持一些 node.js 支持的 cli flags。\n\n注意： 当electron 不是以 electron_run_as_node运行时，传递不支持的命令行参数到electron 不会起作用。\n\n\n# --inspect-brk[=[host:]port]\n\n在 主机:端口 上激活检查器并在用户脚本开始运行后中断。 默认 主机:端口 为127.0.0.1:9229。\n\n是 --debug-brk=[host:]port的别名\n\n\n# --inspect-port=[host:]port\n\n当检查器被激活时要使用的 主机:端口。 常用于通过发送 sigusr1 信号激活检查器时。 默认主机是 127.0.0.1。\n\n是 --debug-port=[host:]port的别名\n\n\n# --inspect[=[host:]port]\n\n在 主机:端口 上激活检查器。 默认是 127.0.0.1:9229。\n\n集成v8 检查器允许chrome 开发者工具和 ide 这些工具调试和修改 electron 实例。 这些工具通过 tcp 端口连接到 electron 实例，并使用 chrome 开发者工具协议进行通信。\n\n调试相关的标识, 更多详细信息请查看 debugging the main process指南。\n\n是 --debug[host:]port的别名\n\n\n# --inspect-publish-uid=stderr,http\n\n指定检查器的 web 套接字url 公开方式。\n\n默认情况下，websocket url在 stderr 中和在 http://host:port/json/list 的 /json/list 端点下都是可用的。",charsets:{cjk:!0}},{title:"command-line",frontmatter:{title:"command-line",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/174609/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/command-line.html",relativePath:"《Electron中文文档》/api/command-line.md",key:"v-e3e44e54",path:"/pages/174609/",headers:[{level:2,title:"类: CommandLine",slug:"类-commandline",normalizedTitle:"类: commandline",charIndex:2},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:338},{level:4,title:"commandLine.appendSwitch(switch[, value])",slug:"commandline-appendswitch-switch-value",normalizedTitle:"commandline.appendswitch(switch[, value])",charIndex:346},{level:4,title:"commandLine.appendArgument(value)",slug:"commandline-appendargument-value",normalizedTitle:"commandline.appendargument(value)",charIndex:558},{level:4,title:"commandLine.hasSwitch(switch)",slug:"commandline-hasswitch-switch",normalizedTitle:"commandline.hasswitch(switch)",charIndex:799},{level:4,title:"commandLine.getSwitchValue(switch)",slug:"commandline-getswitchvalue-switch",normalizedTitle:"commandline.getswitchvalue(switch)",charIndex:882}],headersStr:"类: CommandLine 实例方法 commandLine.appendSwitch(switch[, value]) commandLine.appendArgument(value) commandLine.hasSwitch(switch) commandLine.getSwitchValue(switch)",content:"# 类: CommandLine\n\n> 操作Chromium读取的应用程序的命令行参数\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n下面的例子展示了如何检查—disable-gpu标志是否设置。\n\nconst { app } = require('electron')\napp.commandLine.hasSwitch('disable-gpu')\n\n\n1\n2\n\n\n关于你可以使用哪些参数，请查阅命令行参数文档。\n\n\n# 实例方法\n\n# commandLine.appendSwitch(switch[, value])\n\n * switch String - 命令行开关，不包含前边的-- --\n * value String (optional) - 给开关设置的值\n\n通过可选的参数 value 给 Chromium 中添加一个命令行开关。\n\n** 注意: **该方法不会影响 process. argv 该功能是为控制Chromium行为设计的。\n\n# commandLine.appendArgument(value)\n\n * valueString - 要追加到命令行的参数\n\n在Chromium的命令行中附加一个参数。 参数会被正确引用。 无论附加顺序如何，切换将在参数之前进行。\n\n如果你正在追加一个参数，如--switch=value, 请考虑使用appendSwitch('switch', 'value')\n\n** 注意: **该方法不会影响 process. argv 该功能是为控制Chromium行为设计的。\n\n# commandLine.hasSwitch(switch)\n\n * switch String - 命令行开关\n\n返回Boolean - 命令行开关是否打开。\n\n# commandLine.getSwitchValue(switch)\n\n * switch String - 命令行开关\n\n返回 String - 命令行开关值。\n\n注意： 当开关不存在或没有值时，它返回空字符串。",normalizedContent:"# 类: commandline\n\n> 操作chromium读取的应用程序的命令行参数\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n下面的例子展示了如何检查—disable-gpu标志是否设置。\n\nconst { app } = require('electron')\napp.commandline.hasswitch('disable-gpu')\n\n\n1\n2\n\n\n关于你可以使用哪些参数，请查阅命令行参数文档。\n\n\n# 实例方法\n\n# commandline.appendswitch(switch[, value])\n\n * switch string - 命令行开关，不包含前边的-- --\n * value string (optional) - 给开关设置的值\n\n通过可选的参数 value 给 chromium 中添加一个命令行开关。\n\n** 注意: **该方法不会影响 process. argv 该功能是为控制chromium行为设计的。\n\n# commandline.appendargument(value)\n\n * valuestring - 要追加到命令行的参数\n\n在chromium的命令行中附加一个参数。 参数会被正确引用。 无论附加顺序如何，切换将在参数之前进行。\n\n如果你正在追加一个参数，如--switch=value, 请考虑使用appendswitch('switch', 'value')\n\n** 注意: **该方法不会影响 process. argv 该功能是为控制chromium行为设计的。\n\n# commandline.hasswitch(switch)\n\n * switch string - 命令行开关\n\n返回boolean - 命令行开关是否打开。\n\n# commandline.getswitchvalue(switch)\n\n * switch string - 命令行开关\n\n返回 string - 命令行开关值。\n\n注意： 当开关不存在或没有值时，它返回空字符串。",charsets:{cjk:!0}},{title:"content-tracing",frontmatter:{title:"content-tracing",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/2539a4/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/content-tracing.html",relativePath:"《Electron中文文档》/api/content-tracing.md",key:"v-78b7b65e",path:"/pages/2539a4/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:595},{level:3,title:"contentTracing.getCategories()",slug:"contenttracing-getcategories",normalizedTitle:"contenttracing.getcategories()",charIndex:627},{level:3,title:"contentTracing.startRecording(options)",slug:"contenttracing-startrecording-options",normalizedTitle:"contenttracing.startrecording(options)",charIndex:850},{level:3,title:"contentTracing.stopRecording([resultFilePath])",slug:"contenttracing-stoprecording-resultfilepath",normalizedTitle:"contenttracing.stoprecording([resultfilepath])",charIndex:1112},{level:3,title:"contentTracing.getTraceBufferUsage()",slug:"contenttracing-gettracebufferusage",normalizedTitle:"contenttracing.gettracebufferusage()",charIndex:1479}],headersStr:"方法 contentTracing.getCategories() contentTracing.startRecording(options) contentTracing.stopRecording([resultFilePath]) contentTracing.getTraceBufferUsage()",content:"# contentTracing\n\n> 从Chromium收集追踪数据以找到性能瓶颈和慢操作。\n\n进程：主进程\n\n此模块不包括 Web 界面。 若要查看记录的轨迹，请使用跟踪查看器，在Chrome上可以访问 chrome://tracking 。\n\n**注意：**在应用程序模块的 ready 事件触发之前，您不应该使用此模块。\n\nconst { app, contentTracing } = require('electron')\n\napp.whenReady().then(() => {\n  (async () => {\n    await contentTracing.startRecording({\n      included_categories: ['*']\n    })\n    console.log('Tracing started')\n    await new Promise(resolve => setTimeout(resolve, 5000))\n    const path = await contentTracing.stopRecording()\n    console.log('Tracing data recorded to ' + path)\n  })()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 方法\n\ncontentTracing模块包含以下方法：\n\n\n# contentTracing.getCategories()\n\n返回 Promise<String[]> - 一旦所有子进程都确认了 getCategories 请求，会 resolve 一个类别组的数组\n\n获取一组类别组。 当到达新的代码路径时，类别组可能会更改。 另请参阅内置跟踪类别列表。\n\n> 注意： Electron 添加了一个名为 \"electron\" 的非默认追踪类别。 此类别可以用于捕捉Electron特定的追踪事件。\n\n\n# contentTracing.startRecording(options)\n\n * options (TraceConfig | TraceCategoriesAndOptions)\n\n返回 Promise<void> - 当所有子进程都确认了 startRecording 请求后 resolve.\n\n在所有进程上开始记录\n\n一旦收到EnableRecording请求，记录立即在本地开始进行，并在子进程上异步执行。\n\n如果一个记录已经运行了，promise将立即resolve，因为一次只能进行一个跟踪操作。\n\n\n# contentTracing.stopRecording([resultFilePath])\n\n * resultFilePath String (可选)\n\n返回 Promise<String> - 一旦所有子进程都确认了 stopRecording 请求，会 resolve 一个包含了追踪数据的文件路径\n\n停止所有进程记录。\n\n子进程通常缓存跟踪数据，并且很少清空和发送跟踪数据回到主进程。 这有助于最小化运行时间开销，因为通过IPC发送跟踪数据可能是一个开销巨大的操作。 因此，为了结束跟踪，Chromium异步地要求所有子进程刷新所有挂起的跟踪数据。\n\n追踪数据将被写入 resultFilePath。 如果 resultFilePath 是空的或未提供，追踪数据将被写入临时文件，并且路径将在promise中返回。\n\n\n# contentTracing.getTraceBufferUsage()\n\n返回 Promise<Object> - resolve一个包含了追踪缓冲器的 value 和 percentage 最大使用量的对象\n\n * value Number\n * percentage Number\n\n获取追踪缓冲区在进程间的最大使用量（占全部状态的百分比）。",normalizedContent:"# contenttracing\n\n> 从chromium收集追踪数据以找到性能瓶颈和慢操作。\n\n进程：主进程\n\n此模块不包括 web 界面。 若要查看记录的轨迹，请使用跟踪查看器，在chrome上可以访问 chrome://tracking 。\n\n**注意：**在应用程序模块的 ready 事件触发之前，您不应该使用此模块。\n\nconst { app, contenttracing } = require('electron')\n\napp.whenready().then(() => {\n  (async () => {\n    await contenttracing.startrecording({\n      included_categories: ['*']\n    })\n    console.log('tracing started')\n    await new promise(resolve => settimeout(resolve, 5000))\n    const path = await contenttracing.stoprecording()\n    console.log('tracing data recorded to ' + path)\n  })()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 方法\n\ncontenttracing模块包含以下方法：\n\n\n# contenttracing.getcategories()\n\n返回 promise<string[]> - 一旦所有子进程都确认了 getcategories 请求，会 resolve 一个类别组的数组\n\n获取一组类别组。 当到达新的代码路径时，类别组可能会更改。 另请参阅内置跟踪类别列表。\n\n> 注意： electron 添加了一个名为 \"electron\" 的非默认追踪类别。 此类别可以用于捕捉electron特定的追踪事件。\n\n\n# contenttracing.startrecording(options)\n\n * options (traceconfig | tracecategoriesandoptions)\n\n返回 promise<void> - 当所有子进程都确认了 startrecording 请求后 resolve.\n\n在所有进程上开始记录\n\n一旦收到enablerecording请求，记录立即在本地开始进行，并在子进程上异步执行。\n\n如果一个记录已经运行了，promise将立即resolve，因为一次只能进行一个跟踪操作。\n\n\n# contenttracing.stoprecording([resultfilepath])\n\n * resultfilepath string (可选)\n\n返回 promise<string> - 一旦所有子进程都确认了 stoprecording 请求，会 resolve 一个包含了追踪数据的文件路径\n\n停止所有进程记录。\n\n子进程通常缓存跟踪数据，并且很少清空和发送跟踪数据回到主进程。 这有助于最小化运行时间开销，因为通过ipc发送跟踪数据可能是一个开销巨大的操作。 因此，为了结束跟踪，chromium异步地要求所有子进程刷新所有挂起的跟踪数据。\n\n追踪数据将被写入 resultfilepath。 如果 resultfilepath 是空的或未提供，追踪数据将被写入临时文件，并且路径将在promise中返回。\n\n\n# contenttracing.gettracebufferusage()\n\n返回 promise<object> - resolve一个包含了追踪缓冲器的 value 和 percentage 最大使用量的对象\n\n * value number\n * percentage number\n\n获取追踪缓冲区在进程间的最大使用量（占全部状态的百分比）。",charsets:{cjk:!0}},{title:"context-bridge",frontmatter:{title:"context-bridge",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/f440fa/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/context-bridge.html",relativePath:"《Electron中文文档》/api/context-bridge.md",key:"v-3b987894",path:"/pages/f440fa/",headers:[{level:2,title:"词汇表",slug:"词汇表",normalizedTitle:"词汇表",charIndex:376},{level:3,title:"Main World",slug:"main-world",normalizedTitle:"main world",charIndex:324},{level:3,title:"Isolated World",slug:"isolated-world",normalizedTitle:"isolated world",charIndex:106},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:614},{level:3,title:"contextBridge.exposeInMainWorld(apiKey, api)",slug:"contextbridge-exposeinmainworld-apikey-api",normalizedTitle:"contextbridge.exposeinmainworld(apikey, api)",charIndex:644},{level:2,title:"用法",slug:"用法",normalizedTitle:"用法",charIndex:801},{level:3,title:"应用开发接口（API）",slug:"应用开发接口-api",normalizedTitle:"应用开发接口（api）",charIndex:808},{level:3,title:"API Functions",slug:"api-functions",normalizedTitle:"api functions",charIndex:1651},{level:4,title:"参数 / 错误 / 返回类型支持",slug:"参数-错误-返回类型支持",normalizedTitle:"参数 / 错误 / 返回类型支持",charIndex:1748},{level:3,title:"暴露Node Global Symbols",slug:"暴露node-global-symbols",normalizedTitle:"暴露node global symbols",charIndex:2735}],headersStr:"词汇表 Main World Isolated World 方法 contextBridge.exposeInMainWorld(apiKey, api) 用法 应用开发接口（API） API Functions 参数 / 错误 / 返回类型支持 暴露Node Global Symbols",content:"# contextBridge\n\n> 在隔离的上下文中创建一个安全的、双向的、同步的桥梁。\n\n进程: Renderer\n\n如下，是一个从隔离的预加载脚本将 API 暴露给渲染器的示例：\n\n// Preload (Isolated World)\nconst { contextBridge, ipcRenderer } = require('electron')\n\ncontextBridge.exposeInMainWorld(\n  'electron',\n  {\n    doThing: () => ipcRenderer.send('do-a-thing')\n  }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n// Renderer (Main World)\n\nwindow.electron.doThing()\n\n\n1\n2\n3\n\n\n\n# 词汇表\n\n\n# Main World\n\n\"Main World\"是主渲染器代码运行的 JavaScript 上下文。 默认情况下，你在渲染器中加载的页面在此环境中执行代码。\n\n\n# Isolated World\n\n当你在webPreferences属性中启用contextIsolation (Electron 12.0.0 及以上版本默认启用)，你的预加载脚本将运行在一个“被隔离的环境”中。 您可以在Security 文档中阅读更多关于上下文隔离及其影响的信息。\n\n\n# 方法\n\ncontextBridge模块有以下方法:\n\n\n# contextBridge.exposeInMainWorld(apiKey, api)\n\n * apiKey String - 将 API 注入到 窗口 的键。 API 将可通过 window[apiKey] 访问。\n * api any - 你的 API可以是什么样的以及它是如何工作的相关信息如下。\n\n\n# 用法\n\n\n# 应用开发接口（API）\n\n提供给 exposeInMainWorld 的 api 必须是一个 Function， String， Number， Array， Boolean；或一个键为字符串，值为一个 Function， String， Number， Array， Boolean的对象；或其他符合相同条件的嵌套对象。\n\nFunction 类型的值被代理到其他上下文中，所有其他类型的值都会被 复制 并 冻结。 在 API 中发送的任何数据 /原始数据将不可改变，在桥接器其中一侧的更新不会导致另一侧的更新。\n\n复杂 API 的示例如下：\n\nconst { contextBridge } = require('electron')\n\ncontextBridge.exposeInMainWorld(\n  'electron',\n  {\n    doThing: () => ipcRenderer.send('do-a-thing'),\n    myPromises: [Promise.resolve(), Promise.reject(new Error('whoops'))],\n    anAsyncFunction: async () => 123,\n    data: {\n      myFlags: ['a', 'b', 'c'],\n      bootTime: 1234\n    },\n    nestedAPI: {\n      evenDeeper: {\n        youCanDoThisAsMuchAsYouWant: {\n          fn: () => ({\n            returnData: 123\n          })\n        }\n      }\n    }\n  }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# API Functions\n\n你通过 contextBridge 绑定的 Function 值会被 Electron 代理，以确保保持上下文隔离。 这导致了我们在下面概述的一些键的限制。\n\n# 参数 / 错误 / 返回类型支持\n\n因为当参数、错误和返回值在桥接器上发送时会被 复制 ，所以只有某些类型可以使用。 从上层来看，如果你想要使用的类型可以序列化并反序列化为同一个对象，这个类型可以使用。 为确保完整性，下面列出了一份类型支持表：\n\n类型                复杂度   有入参   有返回值   局限性\nString            简单    ✅     ✅      N/A\nNumber            简单    ✅     ✅      N/A\nBoolean           简单    ✅     ✅      N/A\nObject            复杂    ✅     ✅      键仅支持使用此表中的“简单”的类型。 值必须在此表中支持的值。 修改prototype将被丢弃。\n                                     发送自定义类将复制值，但不会包含prototype。\nArray             复杂    ✅     ✅      与 Object 类型相同的限制\nError             复杂    ✅     ✅      所抛出的错误也会被复制，这可能导致消息和堆栈跟踪的错误略有变化，由于在不同的上下文中抛出\nPromise           复杂    ✅     ✅      只有当 promise 是返回值或确切参数时，它们才会被代理。 嵌套在数组或对象中的Promise将被丢弃。\nFunction          复杂    ✅     ✅      修改prototype将被丢弃。 发送类或构造函数将不起作用。\nCloneable Types   简单    ✅     ✅      点击链接查看可克隆类型的文档\nElement           复杂    ✅     ✅      修改prototype将被丢弃。 发送自定义元素将不生效。\nBlob              复杂    ✅     ✅      N/A\nSymbol            N/A   ❌     ❌      Symbol不能跨上下文复制，因此会丢弃它们\n\n如果您关心的类型不在上表中，可能是因为不支持该类型。\n\n\n# 暴露Node Global Symbols\n\ncontextBridge 可以被预加载脚本用来让您的渲染器访问Node API。 上面所述的支持类型表也适用于您通过 contextBridge暴露的Node API。 请注意许多Node的API授权访问本地系统资源。 请非常谨慎地暴露全局变量和api给不受信任的远程内容。\n\nconst { contextBridge } = require('electron')\nconst crypto = require('crypto')\ncontextBridge.exposeInMainWorld('nodeCrypto', {\n  sha256sum (data) {\n    const hash = crypto.createHash('sha256')\n    hash.update(data)\n    return hash.digest('hex')\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",normalizedContent:"# contextbridge\n\n> 在隔离的上下文中创建一个安全的、双向的、同步的桥梁。\n\n进程: renderer\n\n如下，是一个从隔离的预加载脚本将 api 暴露给渲染器的示例：\n\n// preload (isolated world)\nconst { contextbridge, ipcrenderer } = require('electron')\n\ncontextbridge.exposeinmainworld(\n  'electron',\n  {\n    dothing: () => ipcrenderer.send('do-a-thing')\n  }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n// renderer (main world)\n\nwindow.electron.dothing()\n\n\n1\n2\n3\n\n\n\n# 词汇表\n\n\n# main world\n\n\"main world\"是主渲染器代码运行的 javascript 上下文。 默认情况下，你在渲染器中加载的页面在此环境中执行代码。\n\n\n# isolated world\n\n当你在webpreferences属性中启用contextisolation (electron 12.0.0 及以上版本默认启用)，你的预加载脚本将运行在一个“被隔离的环境”中。 您可以在security 文档中阅读更多关于上下文隔离及其影响的信息。\n\n\n# 方法\n\ncontextbridge模块有以下方法:\n\n\n# contextbridge.exposeinmainworld(apikey, api)\n\n * apikey string - 将 api 注入到 窗口 的键。 api 将可通过 window[apikey] 访问。\n * api any - 你的 api可以是什么样的以及它是如何工作的相关信息如下。\n\n\n# 用法\n\n\n# 应用开发接口（api）\n\n提供给 exposeinmainworld 的 api 必须是一个 function， string， number， array， boolean；或一个键为字符串，值为一个 function， string， number， array， boolean的对象；或其他符合相同条件的嵌套对象。\n\nfunction 类型的值被代理到其他上下文中，所有其他类型的值都会被 复制 并 冻结。 在 api 中发送的任何数据 /原始数据将不可改变，在桥接器其中一侧的更新不会导致另一侧的更新。\n\n复杂 api 的示例如下：\n\nconst { contextbridge } = require('electron')\n\ncontextbridge.exposeinmainworld(\n  'electron',\n  {\n    dothing: () => ipcrenderer.send('do-a-thing'),\n    mypromises: [promise.resolve(), promise.reject(new error('whoops'))],\n    anasyncfunction: async () => 123,\n    data: {\n      myflags: ['a', 'b', 'c'],\n      boottime: 1234\n    },\n    nestedapi: {\n      evendeeper: {\n        youcandothisasmuchasyouwant: {\n          fn: () => ({\n            returndata: 123\n          })\n        }\n      }\n    }\n  }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# api functions\n\n你通过 contextbridge 绑定的 function 值会被 electron 代理，以确保保持上下文隔离。 这导致了我们在下面概述的一些键的限制。\n\n# 参数 / 错误 / 返回类型支持\n\n因为当参数、错误和返回值在桥接器上发送时会被 复制 ，所以只有某些类型可以使用。 从上层来看，如果你想要使用的类型可以序列化并反序列化为同一个对象，这个类型可以使用。 为确保完整性，下面列出了一份类型支持表：\n\n类型                复杂度   有入参   有返回值   局限性\nstring            简单    ✅     ✅      n/a\nnumber            简单    ✅     ✅      n/a\nboolean           简单    ✅     ✅      n/a\nobject            复杂    ✅     ✅      键仅支持使用此表中的“简单”的类型。 值必须在此表中支持的值。 修改prototype将被丢弃。\n                                     发送自定义类将复制值，但不会包含prototype。\narray             复杂    ✅     ✅      与 object 类型相同的限制\nerror             复杂    ✅     ✅      所抛出的错误也会被复制，这可能导致消息和堆栈跟踪的错误略有变化，由于在不同的上下文中抛出\npromise           复杂    ✅     ✅      只有当 promise 是返回值或确切参数时，它们才会被代理。 嵌套在数组或对象中的promise将被丢弃。\nfunction          复杂    ✅     ✅      修改prototype将被丢弃。 发送类或构造函数将不起作用。\ncloneable types   简单    ✅     ✅      点击链接查看可克隆类型的文档\nelement           复杂    ✅     ✅      修改prototype将被丢弃。 发送自定义元素将不生效。\nblob              复杂    ✅     ✅      n/a\nsymbol            n/a   ❌     ❌      symbol不能跨上下文复制，因此会丢弃它们\n\n如果您关心的类型不在上表中，可能是因为不支持该类型。\n\n\n# 暴露node global symbols\n\ncontextbridge 可以被预加载脚本用来让您的渲染器访问node api。 上面所述的支持类型表也适用于您通过 contextbridge暴露的node api。 请注意许多node的api授权访问本地系统资源。 请非常谨慎地暴露全局变量和api给不受信任的远程内容。\n\nconst { contextbridge } = require('electron')\nconst crypto = require('crypto')\ncontextbridge.exposeinmainworld('nodecrypto', {\n  sha256sum (data) {\n    const hash = crypto.createhash('sha256')\n    hash.update(data)\n    return hash.digest('hex')\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",charsets:{cjk:!0}},{title:"client-request",frontmatter:{title:"client-request",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/2a8a59/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/client-request.html",relativePath:"《Electron中文文档》/api/client-request.md",key:"v-741c97f6",path:"/pages/2a8a59/",headers:[{level:2,title:"类: ClientRequest",slug:"类-clientrequest",normalizedTitle:"类: clientrequest",charIndex:2},{level:3,title:"new ClientRequest(options)",slug:"new-clientrequest-options",normalizedTitle:"new clientrequest(options)",charIndex:246},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:1680},{level:4,title:"事件: 'response'",slug:"事件-response",normalizedTitle:"事件: 'response'",charIndex:1688},{level:4,title:'事件: "login"',slug:"事件-login",normalizedTitle:"事件: &quot;login&quot;",charIndex:null},{level:4,title:"事件：'finish'",slug:"事件-finish",normalizedTitle:"事件：'finish'",charIndex:2424},{level:4,title:"事件: 'abort'",slug:"事件-abort",normalizedTitle:"事件: 'abort'",charIndex:2478},{level:4,title:"Event: 'error'",slug:"event-error",normalizedTitle:"event: 'error'",charIndex:2545},{level:4,title:"事件： 'close'",slug:"事件-close",normalizedTitle:"事件： 'close'",charIndex:2687},{level:4,title:"事件: 'redirect'",slug:"事件-redirect",normalizedTitle:"事件: 'redirect'",charIndex:2783},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:3027},{level:4,title:"request.chunkedEncoding",slug:"request-chunkedencoding",normalizedTitle:"request.chunkedencoding",charIndex:3035},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:3270},{level:4,title:"request.setHeader(name, value)",slug:"request-setheader-name-value",normalizedTitle:"request.setheader(name, value)",charIndex:3278},{level:4,title:"request.getHeader(name)",slug:"request-getheader-name",normalizedTitle:"request.getheader(name)",charIndex:3687},{level:4,title:"request.removeHeader(name)",slug:"request-removeheader-name",normalizedTitle:"request.removeheader(name)",charIndex:3772},{level:4,title:"request.write(chunk[, encoding][, callback])",slug:"request-write-chunk-encoding-callback",normalizedTitle:"request.write(chunk[, encoding][, callback])",charIndex:3883},{level:4,title:"request.end([chunk][, encoding][, callback])",slug:"request-end-chunk-encoding-callback",normalizedTitle:"request.end([chunk][, encoding][, callback])",charIndex:4301},{level:4,title:"request.abort()",slug:"request-abort",normalizedTitle:"request.abort()",charIndex:4482},{level:4,title:"request.followRedirect()",slug:"request-followredirect",normalizedTitle:"request.followredirect()",charIndex:4617},{level:4,title:"request.getUploadProgress()",slug:"request-getuploadprogress",normalizedTitle:"request.getuploadprogress()",charIndex:4682}],headersStr:"类: ClientRequest new ClientRequest(options) 实例事件 事件: 'response' 事件: \"login\" 事件：'finish' 事件: 'abort' Event: 'error' 事件： 'close' 事件: 'redirect' 实例属性 request.chunkedEncoding 实例方法 request.setHeader(name, value) request.getHeader(name) request.removeHeader(name) request.write(chunk[, encoding][, callback]) request.end([chunk][, encoding][, callback]) request.abort() request.followRedirect() request.getUploadProgress()",content:"# 类: ClientRequest\n\n> 发起HTTP/HTTPS请求.\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\nClientRequest实现了Writable Stream接口, 因此是一个EventEmitter类型.\n\n\n# new ClientRequest(options)\n\n * options (Object | String) - 如果 options 是字符串，则将其解释为请求 URL。 如果是对象，它应该通过以下属性完全指定HTTP请求：\n   * method String (可选) - HTTP 请求方法。 默认为GET方法。\n   * url String (可选) - 请求URL。 必须以绝对路径形式提供，并将协议指定为http或https。\n   * session Object (可选) - 与请求相关联的Session实例.\n   * partition String (可选) - 与请求相关联的partition名称. 默认为空字符串. session 选项取代了 partition。 因此, 如果session是显式指定的, 则partition将被忽略.\n   * credentials String (可选) - 可以是 include 或 omit。 是否随此请求发送 凭据。 如果设置为 include，将使用与请求相关的会话凭据。 如果设置为 omit，则不会随请求发送凭据(并且不会在 401响应的事件中触发 'login' 事件)。 这与同名的 fetch 选项的行为相同。 如果未指定此选项，则会发送来自会话的身份验证数据，同时不发送cookie(除非 设置了useSessionCookies)。\n   * useSessionCookies Boolean (可选) - 是否从提供的会话与请求一起发送cookie。 如果指定了 credentials ，则此选项没有效果。 默认值为 false.\n   * protocol String (可选) - 可以是 http: 或 https:。 协议方案的形式为“scheme:”。 默认为 'http:'。\n   * host String (可选) - 作为连接提供的服务器主机,主机名和端口号'hostname:port'.\n   * hostname String (可选) - 服务器主机名.\n   * port Integer (可选) - 服务器侦听的端口号.\n   * path String (可选) - 请求URL的路径部分.\n   * redirect String (可选) - 可以是 follow， error 或 manual。 当前请求的重定向模式。 当模式为 error 时，任何重定向都会被中止。 当模式为 manual 时，重定向会被取消，除非 request.followRedirect 在redirect 事件期间同步调用。 默认值为 follow.\n   * origin String (可选) - 请求的源 URL。\n\noptions 属性，如 protocol, host, hostname, port 和 path，在 URL 模块中会严格遵循 Node.js 的模式\n\n例如,我们可以创建与github.com相同的请求如下:\n\nconst request = net.request({\n  method: 'GET',\n  protocol: 'https:',\n  hostname: 'github.com',\n  port: 443,\n  path: '/'\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 实例事件\n\n# 事件: 'response'\n\n返回:\n\n * response 收到的消息 - 表示HTTP响应消息的对象。\n\n# 事件: \"login\"\n\n返回:\n\n * authInfo Object\n   * isProxy Boolean\n   * scheme String\n   * host String\n   * port Integer\n   * realm String\n * callback Function\n   * username String (可选)\n   * password String (可选)\n\n当身份验证代理请求用户认证时触发\n\n用户证书会调用 callback方法:\n\n * username String\n * password String\n\nrequest.on('login', (authInfo, callback) => {\n  callback('username', 'password')\n})\n\n\n1\n2\n3\n\n\n提供空的凭证将取消请求，并在响应对象上报告一个身份验证错误:\n\nrequest.on('response', (response) => {\n  console.log(`STATUS: ${response.statusCode}`);\n  response.on('error', (error) => {\n    console.log(`ERROR: ${JSON.stringify(error)}`)\n  })\n})\nrequest.on('login', (authInfo, callback) => {\n  callback()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 事件：'finish'\n\n在 request 最终的 chunk 数据后写入 request 后触发\n\n# 事件: 'abort'\n\n在 request 被中止时触发。 如果 request 已经关闭， abort 事件将不会被触发。\n\n# Event: 'error'\n\n返回:\n\n * error Error -提供失败信息的错误对象。\n\n当 net网络模块没有发出网络请求时会触发。 通常情况下，当 request请求对象发出一个 error错误事件时，一个 close关闭事件会随之发生，并且不会提供响应对象。\n\n# 事件： 'close'\n\n作为HTTP 的 request-response 中的最后一个事件发出。 close事件表明，在request或response 对象中不会发出更多的事件。\n\n# 事件: 'redirect'\n\n返回:\n\n * statusCode Integer\n * method String\n * redirectUrl String\n * responseHeaders Record<String, String[]>\n\n当服务器返回重定向响应时触发(例如，301 页面永久性移走)。 调用 request.followRirect 将继续重定向。 如果该事件被处理，request.followRedirect 必须同步调用，否则请求将被取消。\n\n\n# 实例属性\n\n# request.chunkedEncoding\n\n一个Boolean类型的值，指定请求是否将使用 HTTP 分块传输编码。 默认值为 false. 该属性是可读写的, 但它只能在第一次写入操作之前设置，因为还没有写入 HTTP 头。 在第一写入后如果设置chunkedEncoding属性将引发错误。\n\n如果 request 的 body 是一个大的数据时，强烈建议使用块编码。因为数据将以小块的方式进行传输, 而不是在 Electron 进程内存中内部缓冲。\n\n\n# 实例方法\n\n# request.setHeader(name, value)\n\n * name String - 额外的 HTTP 头名称.\n * value String - 额外的 HTTP 头部值。\n\n添加一个额外的 HTTP 头。 头名称将按原样发布，不会转为小写。 它只能在第一次写入之前调用。 在第一次写入后调用此方法将引发错误。 如果传递的值不是 String, 则会调用 toString () 方法来获取最终值。\n\n某些头部受应用程序设置的限制。 这些头部如下所列。 有关受限头部的更多信息，可以在 Chromium的头部工具 中找到。\n\n * Content-Length\n * Host\n * Trailer 或 Te\n * Upgrade\n * Cookie2\n * Keep-Alive\n * Transfer-Encoding\n\n此外，也不允许将 Connection 头部设置为 upgrade。\n\n# request.getHeader(name)\n\n * name String - 指定一个额外的头名称.\n\n返回 String - 以前设置的额外头部名称的值。\n\n# request.removeHeader(name)\n\n * name String - 指定一个额外的头名称.\n\n移除先前设置的额外头部名称。 此方法只能在首次写入前调用。 尝试在第一次写入后调用将抛出一个错误。\n\n# request.write(chunk[, encoding][, callback])\n\n * chunk (String | Buffer) - 请求主体的数据块。 如果是字符串，则使用指定的编码将其转换为Buffer。\n * encoding String (可选) - 用于将字符串块转换为Buffer对象。 默认为“utf-8”。\n * callback Function (可选)-在写操作结束后调用。\n\ncallback 实质上是为了保持与 Node.js API 的相似性而引入的虚拟函数。 在将 chunk 内容传递到 Chromium 网络层之后, 在下一个 tick 中异步调用。 与 Node.js 实现相反, 不保证 chunk 内容在调用 callback 之前已经被刷新。\n\n向请求正文中添加一个数据块。 第一次写操作可能导致在线路上发出请求头。 在第一次写入操作后, 不允许添加或删除自定义标头。\n\n# request.end([chunk][, encoding][, callback])\n\n * chunk (String | Buffer) (可选)\n * encoding String (可选)\n * callback Function (可选)\n\n发送请求数据的剩下部分。 不允许进行后续的写入或结束操作。 finish 事件在结束操作后发出。\n\n# request.abort()\n\n取消正在进行的 HTTP 事务。 如果请求已发出 close 事件, 则中止操作将不起作用。 否则正在进行的事件将发出 abort 和 close 事件。 此外, 如果有一个正在进行的响应对象, 它将发出 aborted 事件。\n\n# request.followRedirect()\n\n继续任何待处理的重定向。 只能在 'redirect' 事件期间调用。\n\n# request.getUploadProgress()\n\n返回 Object:\n\n * active Boolean - 请求当前是否处于活动状态。 如果为 false，将不会设置其他属性。\n * started Boolean - 上传是否已经开始。 如果值为false，current 和 total 将被设置为 0。\n * current Integer - 到目前为止已上传的字节数\n * total Integer - 本次请求总共要上传的字节数\n\n您可以使用此方法获取使用 POST 请求的文件上传或其他数据传输的进度",normalizedContent:"# 类: clientrequest\n\n> 发起http/https请求.\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\nclientrequest实现了writable stream接口, 因此是一个eventemitter类型.\n\n\n# new clientrequest(options)\n\n * options (object | string) - 如果 options 是字符串，则将其解释为请求 url。 如果是对象，它应该通过以下属性完全指定http请求：\n   * method string (可选) - http 请求方法。 默认为get方法。\n   * url string (可选) - 请求url。 必须以绝对路径形式提供，并将协议指定为http或https。\n   * session object (可选) - 与请求相关联的session实例.\n   * partition string (可选) - 与请求相关联的partition名称. 默认为空字符串. session 选项取代了 partition。 因此, 如果session是显式指定的, 则partition将被忽略.\n   * credentials string (可选) - 可以是 include 或 omit。 是否随此请求发送 凭据。 如果设置为 include，将使用与请求相关的会话凭据。 如果设置为 omit，则不会随请求发送凭据(并且不会在 401响应的事件中触发 'login' 事件)。 这与同名的 fetch 选项的行为相同。 如果未指定此选项，则会发送来自会话的身份验证数据，同时不发送cookie(除非 设置了usesessioncookies)。\n   * usesessioncookies boolean (可选) - 是否从提供的会话与请求一起发送cookie。 如果指定了 credentials ，则此选项没有效果。 默认值为 false.\n   * protocol string (可选) - 可以是 http: 或 https:。 协议方案的形式为“scheme:”。 默认为 'http:'。\n   * host string (可选) - 作为连接提供的服务器主机,主机名和端口号'hostname:port'.\n   * hostname string (可选) - 服务器主机名.\n   * port integer (可选) - 服务器侦听的端口号.\n   * path string (可选) - 请求url的路径部分.\n   * redirect string (可选) - 可以是 follow， error 或 manual。 当前请求的重定向模式。 当模式为 error 时，任何重定向都会被中止。 当模式为 manual 时，重定向会被取消，除非 request.followredirect 在redirect 事件期间同步调用。 默认值为 follow.\n   * origin string (可选) - 请求的源 url。\n\noptions 属性，如 protocol, host, hostname, port 和 path，在 url 模块中会严格遵循 node.js 的模式\n\n例如,我们可以创建与github.com相同的请求如下:\n\nconst request = net.request({\n  method: 'get',\n  protocol: 'https:',\n  hostname: 'github.com',\n  port: 443,\n  path: '/'\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 实例事件\n\n# 事件: 'response'\n\n返回:\n\n * response 收到的消息 - 表示http响应消息的对象。\n\n# 事件: \"login\"\n\n返回:\n\n * authinfo object\n   * isproxy boolean\n   * scheme string\n   * host string\n   * port integer\n   * realm string\n * callback function\n   * username string (可选)\n   * password string (可选)\n\n当身份验证代理请求用户认证时触发\n\n用户证书会调用 callback方法:\n\n * username string\n * password string\n\nrequest.on('login', (authinfo, callback) => {\n  callback('username', 'password')\n})\n\n\n1\n2\n3\n\n\n提供空的凭证将取消请求，并在响应对象上报告一个身份验证错误:\n\nrequest.on('response', (response) => {\n  console.log(`status: ${response.statuscode}`);\n  response.on('error', (error) => {\n    console.log(`error: ${json.stringify(error)}`)\n  })\n})\nrequest.on('login', (authinfo, callback) => {\n  callback()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 事件：'finish'\n\n在 request 最终的 chunk 数据后写入 request 后触发\n\n# 事件: 'abort'\n\n在 request 被中止时触发。 如果 request 已经关闭， abort 事件将不会被触发。\n\n# event: 'error'\n\n返回:\n\n * error error -提供失败信息的错误对象。\n\n当 net网络模块没有发出网络请求时会触发。 通常情况下，当 request请求对象发出一个 error错误事件时，一个 close关闭事件会随之发生，并且不会提供响应对象。\n\n# 事件： 'close'\n\n作为http 的 request-response 中的最后一个事件发出。 close事件表明，在request或response 对象中不会发出更多的事件。\n\n# 事件: 'redirect'\n\n返回:\n\n * statuscode integer\n * method string\n * redirecturl string\n * responseheaders record<string, string[]>\n\n当服务器返回重定向响应时触发(例如，301 页面永久性移走)。 调用 request.followrirect 将继续重定向。 如果该事件被处理，request.followredirect 必须同步调用，否则请求将被取消。\n\n\n# 实例属性\n\n# request.chunkedencoding\n\n一个boolean类型的值，指定请求是否将使用 http 分块传输编码。 默认值为 false. 该属性是可读写的, 但它只能在第一次写入操作之前设置，因为还没有写入 http 头。 在第一写入后如果设置chunkedencoding属性将引发错误。\n\n如果 request 的 body 是一个大的数据时，强烈建议使用块编码。因为数据将以小块的方式进行传输, 而不是在 electron 进程内存中内部缓冲。\n\n\n# 实例方法\n\n# request.setheader(name, value)\n\n * name string - 额外的 http 头名称.\n * value string - 额外的 http 头部值。\n\n添加一个额外的 http 头。 头名称将按原样发布，不会转为小写。 它只能在第一次写入之前调用。 在第一次写入后调用此方法将引发错误。 如果传递的值不是 string, 则会调用 tostring () 方法来获取最终值。\n\n某些头部受应用程序设置的限制。 这些头部如下所列。 有关受限头部的更多信息，可以在 chromium的头部工具 中找到。\n\n * content-length\n * host\n * trailer 或 te\n * upgrade\n * cookie2\n * keep-alive\n * transfer-encoding\n\n此外，也不允许将 connection 头部设置为 upgrade。\n\n# request.getheader(name)\n\n * name string - 指定一个额外的头名称.\n\n返回 string - 以前设置的额外头部名称的值。\n\n# request.removeheader(name)\n\n * name string - 指定一个额外的头名称.\n\n移除先前设置的额外头部名称。 此方法只能在首次写入前调用。 尝试在第一次写入后调用将抛出一个错误。\n\n# request.write(chunk[, encoding][, callback])\n\n * chunk (string | buffer) - 请求主体的数据块。 如果是字符串，则使用指定的编码将其转换为buffer。\n * encoding string (可选) - 用于将字符串块转换为buffer对象。 默认为“utf-8”。\n * callback function (可选)-在写操作结束后调用。\n\ncallback 实质上是为了保持与 node.js api 的相似性而引入的虚拟函数。 在将 chunk 内容传递到 chromium 网络层之后, 在下一个 tick 中异步调用。 与 node.js 实现相反, 不保证 chunk 内容在调用 callback 之前已经被刷新。\n\n向请求正文中添加一个数据块。 第一次写操作可能导致在线路上发出请求头。 在第一次写入操作后, 不允许添加或删除自定义标头。\n\n# request.end([chunk][, encoding][, callback])\n\n * chunk (string | buffer) (可选)\n * encoding string (可选)\n * callback function (可选)\n\n发送请求数据的剩下部分。 不允许进行后续的写入或结束操作。 finish 事件在结束操作后发出。\n\n# request.abort()\n\n取消正在进行的 http 事务。 如果请求已发出 close 事件, 则中止操作将不起作用。 否则正在进行的事件将发出 abort 和 close 事件。 此外, 如果有一个正在进行的响应对象, 它将发出 aborted 事件。\n\n# request.followredirect()\n\n继续任何待处理的重定向。 只能在 'redirect' 事件期间调用。\n\n# request.getuploadprogress()\n\n返回 object:\n\n * active boolean - 请求当前是否处于活动状态。 如果为 false，将不会设置其他属性。\n * started boolean - 上传是否已经开始。 如果值为false，current 和 total 将被设置为 0。\n * current integer - 到目前为止已上传的字节数\n * total integer - 本次请求总共要上传的字节数\n\n您可以使用此方法获取使用 post 请求的文件上传或其他数据传输的进度",charsets:{cjk:!0}},{title:"cookies",frontmatter:{title:"cookies",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/5b7ee9/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/cookies.html",relativePath:"《Electron中文文档》/api/cookies.md",key:"v-034e691c",path:"/pages/5b7ee9/",headers:[{level:2,title:"类：Cookies",slug:"类-cookies",normalizedTitle:"类：cookies",charIndex:2},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:951},{level:4,title:"Event: 'changed'",slug:"event-changed",normalizedTitle:"event: 'changed'",charIndex:979},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:1369},{level:4,title:"cookies.get(filter)",slug:"cookies-get-filter",normalizedTitle:"cookies.get(filter)",charIndex:1398},{level:4,title:"cookies.set(details)",slug:"cookies-set-details",normalizedTitle:"cookies.set(details)",charIndex:1851},{level:4,title:"cookies.remove(url, name)",slug:"cookies-remove-url-name",normalizedTitle:"cookies.remove(url, name)",charIndex:2634},{level:4,title:"cookies.flushStore()",slug:"cookies-flushstore",normalizedTitle:"cookies.flushstore()",charIndex:2796}],headersStr:"类：Cookies 实例事件 Event: 'changed' 实例方法 cookies.get(filter) cookies.set(details) cookies.remove(url, name) cookies.flushStore()",content:"# 类：Cookies\n\n> 查询和修改一个会话的cookies\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n通过Session的cookies属性来访问Cookies的实例\n\n例如：\n\nconst { session } = require('electron')\n\n// 查询所有 cookies。\nsession.defaultSession.cookies.get({})\n  .then((cookies) => {\n    console.log(cookies)\n  }).catch((error) => {\n    console.log(error)\n  })\n\n// 查询所有与设置的 URL 相关的所有 cookies.\nsession.defaultSession.cookies.get({ url: 'http://www.github.com' })\n  .then((cookies) => {\n    console.log(cookies)\n  }).catch((error) => {\n    console.log(error)\n  })\n\n// 设置一个 cookie，使用设置的名称；\n// 如果存在，则会覆盖原先 cookie.\nconst cookie = { url: 'http://www.github.com', name: 'dummy_name', value: 'dummy' }\nsession.defaultSession.cookies.set(cookie)\n  .then(() => {\n    // success\n  }, (error) => {\n    console.error(error)\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 实例事件\n\n以下事件会在Cookies实例触发。\n\n# Event: 'changed'\n\n返回:\n\n * event Event\n * cookie Cookie - 变更后的 cookie 值。\n * cause String - 导致更改的原因，为以下值之一：\n   * explicit - cookie 是由消费者的操作直接更改的。\n   * overwrite - 一个覆盖原值的插入操作导致的 cookie 被自动删除。\n   * expired - cookie 在过期时自动删除。\n   * evicted - 在GC（垃圾回收机制）过程中被回收。\n   * expired-overwrite - 一个已过期的时间覆写了原cookie 的过期时间。\n * removed Boolean - true表示cookie 已被删掉, 否则为false.\n\n该事件在cookie 被添加、修改、删除或过期时触发。\n\n\n# 实例方法\n\n以下方法可以在Cookies实例调用。\n\n# cookies.get(filter)\n\n * filter Object\n   * url String (可选) - 检索与 url 相关的 cookie。 空意味着检索所有 URL 的 cookie 。\n   * nameString (可选) - 按名称筛选 cookie。\n   * domain String (optional) - 检索与域名或者 domain 子域名匹配的cookie。\n   * pathString (可选) - 检索路径与 path 匹配的 cookie。\n   * secureBoolean (可选) - 通过其Secure 属性筛选 cookie。\n   * sessionBoolean (可选) - 筛选出session 内可用或持久性 cookie。\n\n返回 Promise<Cookie[]> - 一个会解析成数组或者 cookie 对象的 promise。\n\n发送请求以获取匹配 filter 的所有 cookie，并通过响应来解决承诺问题。\n\n# cookies.set(details)\n\n * details Object\n   * url String - 与 cookie 关联的 url。 如果URL无效，promise将返回reject。\n   * name String (可选) - cookie 的名称。 如果省略则默认为空。\n   * value String (可选) - cookie 的值。 如果省略则默认为空。\n   * domain String (可选) - cookie所在域名，通常使用点号开头，以使其对子域名可用。 如果省略则默认为空。\n   * path String (可选) - cookie 的路径。 如果省略则默认为空。\n   * secure Boolean (可选) - cookie 是否应该标记为Secure。 Defaults to false unless Same Site=None attribute is used.\n   * httpOnly Boolean (可选) - cookie 是否应该标记为 HTTP only。 默认值为 false.\n   * expirationDateDouble (可选) - cookie 的到期日期，类型为时间戳，单位为秒。 如果省略, 则 cookie 将成为会话 cookie, 并且不会在会话之间保留。\n   * sameSite String (可选) - 要应用于此 cookie 的 Same Site 策略。 可以被设置为unspecified，no_restriction，lax或者strict 默认值为 no_restriction.\n\n返回 Promise<void> - cookie 设置时解析的一个 promise。\n\n用 details 去设置一个 cookie。\n\n# cookies.remove(url, name)\n\n * urlString - 与 cookie 关联的 URL。\n * nameString - cookie 名称。\n\n返回 Promise<void> - cookie 移除时解析的的一个 promise。\n\n移除与url 和 name匹配的 cookie。\n\n# cookies.flushStore()\n\n返回 Promise<void> - 一个在 cookie 写入时解析的 promise。\n\n写入所有未写入磁盘的 cookie。",normalizedContent:"# 类：cookies\n\n> 查询和修改一个会话的cookies\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n通过session的cookies属性来访问cookies的实例\n\n例如：\n\nconst { session } = require('electron')\n\n// 查询所有 cookies。\nsession.defaultsession.cookies.get({})\n  .then((cookies) => {\n    console.log(cookies)\n  }).catch((error) => {\n    console.log(error)\n  })\n\n// 查询所有与设置的 url 相关的所有 cookies.\nsession.defaultsession.cookies.get({ url: 'http://www.github.com' })\n  .then((cookies) => {\n    console.log(cookies)\n  }).catch((error) => {\n    console.log(error)\n  })\n\n// 设置一个 cookie，使用设置的名称；\n// 如果存在，则会覆盖原先 cookie.\nconst cookie = { url: 'http://www.github.com', name: 'dummy_name', value: 'dummy' }\nsession.defaultsession.cookies.set(cookie)\n  .then(() => {\n    // success\n  }, (error) => {\n    console.error(error)\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 实例事件\n\n以下事件会在cookies实例触发。\n\n# event: 'changed'\n\n返回:\n\n * event event\n * cookie cookie - 变更后的 cookie 值。\n * cause string - 导致更改的原因，为以下值之一：\n   * explicit - cookie 是由消费者的操作直接更改的。\n   * overwrite - 一个覆盖原值的插入操作导致的 cookie 被自动删除。\n   * expired - cookie 在过期时自动删除。\n   * evicted - 在gc（垃圾回收机制）过程中被回收。\n   * expired-overwrite - 一个已过期的时间覆写了原cookie 的过期时间。\n * removed boolean - true表示cookie 已被删掉, 否则为false.\n\n该事件在cookie 被添加、修改、删除或过期时触发。\n\n\n# 实例方法\n\n以下方法可以在cookies实例调用。\n\n# cookies.get(filter)\n\n * filter object\n   * url string (可选) - 检索与 url 相关的 cookie。 空意味着检索所有 url 的 cookie 。\n   * namestring (可选) - 按名称筛选 cookie。\n   * domain string (optional) - 检索与域名或者 domain 子域名匹配的cookie。\n   * pathstring (可选) - 检索路径与 path 匹配的 cookie。\n   * secureboolean (可选) - 通过其secure 属性筛选 cookie。\n   * sessionboolean (可选) - 筛选出session 内可用或持久性 cookie。\n\n返回 promise<cookie[]> - 一个会解析成数组或者 cookie 对象的 promise。\n\n发送请求以获取匹配 filter 的所有 cookie，并通过响应来解决承诺问题。\n\n# cookies.set(details)\n\n * details object\n   * url string - 与 cookie 关联的 url。 如果url无效，promise将返回reject。\n   * name string (可选) - cookie 的名称。 如果省略则默认为空。\n   * value string (可选) - cookie 的值。 如果省略则默认为空。\n   * domain string (可选) - cookie所在域名，通常使用点号开头，以使其对子域名可用。 如果省略则默认为空。\n   * path string (可选) - cookie 的路径。 如果省略则默认为空。\n   * secure boolean (可选) - cookie 是否应该标记为secure。 defaults to false unless same site=none attribute is used.\n   * httponly boolean (可选) - cookie 是否应该标记为 http only。 默认值为 false.\n   * expirationdatedouble (可选) - cookie 的到期日期，类型为时间戳，单位为秒。 如果省略, 则 cookie 将成为会话 cookie, 并且不会在会话之间保留。\n   * samesite string (可选) - 要应用于此 cookie 的 same site 策略。 可以被设置为unspecified，no_restriction，lax或者strict 默认值为 no_restriction.\n\n返回 promise<void> - cookie 设置时解析的一个 promise。\n\n用 details 去设置一个 cookie。\n\n# cookies.remove(url, name)\n\n * urlstring - 与 cookie 关联的 url。\n * namestring - cookie 名称。\n\n返回 promise<void> - cookie 移除时解析的的一个 promise。\n\n移除与url 和 name匹配的 cookie。\n\n# cookies.flushstore()\n\n返回 promise<void> - 一个在 cookie 写入时解析的 promise。\n\n写入所有未写入磁盘的 cookie。",charsets:{cjk:!0}},{title:"crash-reporter",frontmatter:{title:"crash-reporter",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/2eaaef/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/crash-reporter.html",relativePath:"《Electron中文文档》/api/crash-reporter.md",key:"v-696eb7b6",path:"/pages/2eaaef/",headers:[{level:3,title:"关于Linux上的Node子进程的说明",slug:"关于linux上的node子进程的说明",normalizedTitle:"关于linux上的node子进程的说明",charIndex:651},{level:4,title:"process.crashReporter.start(options)",slug:"process-crashreporter-start-options",normalizedTitle:"process.crashreporter.start(options)",charIndex:986},{level:4,title:"process.crashReporter.getParameters()",slug:"process-crashreporter-getparameters",normalizedTitle:"process.crashreporter.getparameters()",charIndex:1052},{level:4,title:"process.crashReporter.addExtraParameter(key, value)",slug:"process-crashreporter-addextraparameter-key-value",normalizedTitle:"process.crashreporter.addextraparameter(key, value)",charIndex:1127},{level:4,title:"process.crashReporter.removeExtraParameter(key)",slug:"process-crashreporter-removeextraparameter-key",normalizedTitle:"process.crashreporter.removeextraparameter(key)",charIndex:1230},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:1326},{level:3,title:"crashReporter.start(options)",slug:"crashreporter-start-options",normalizedTitle:"crashreporter.start(options)",charIndex:994},{level:3,title:"crashReporter.getLastCrashReport()",slug:"crashreporter-getlastcrashreport",normalizedTitle:"crashreporter.getlastcrashreport()",charIndex:2727},{level:3,title:"crashReporter.getUploadedReports()",slug:"crashreporter-getuploadedreports",normalizedTitle:"crashreporter.getuploadedreports()",charIndex:2875},{level:3,title:"crashReporter.getUploadToServer()",slug:"crashreporter-getuploadtoserver",normalizedTitle:"crashreporter.getuploadtoserver()",charIndex:2982},{level:3,title:"crashReporter.setUploadToServer(uploadToServer)",slug:"crashreporter-setuploadtoserver-uploadtoserver",normalizedTitle:"crashreporter.setuploadtoserver(uploadtoserver)",charIndex:3098},{level:3,title:"crashReporter.addExtraParameter(key, value)",slug:"crashreporter-addextraparameter-key-value",normalizedTitle:"crashreporter.addextraparameter(key, value)",charIndex:1135},{level:3,title:"crashReporter.removeExtraParameter(key)",slug:"crashreporter-removeextraparameter-key",normalizedTitle:"crashreporter.removeextraparameter(key)",charIndex:1238},{level:3,title:"crashReporter.getParameters()",slug:"crashreporter-getparameters",normalizedTitle:"crashreporter.getparameters()",charIndex:1060},{level:2,title:"崩溃报告内容",slug:"崩溃报告内容",normalizedTitle:"崩溃报告内容",charIndex:4027}],headersStr:"关于Linux上的Node子进程的说明 process.crashReporter.start(options) process.crashReporter.getParameters() process.crashReporter.addExtraParameter(key, value) process.crashReporter.removeExtraParameter(key) 方法 crashReporter.start(options) crashReporter.getLastCrashReport() crashReporter.getUploadedReports() crashReporter.getUploadToServer() crashReporter.setUploadToServer(uploadToServer) crashReporter.addExtraParameter(key, value) crashReporter.removeExtraParameter(key) crashReporter.getParameters() 崩溃报告内容",content:"# crashReporter\n\n> 将崩溃日志提交给远程服务器\n\n进程： Main, Renderer\n\n以下是一个设置Electron自动提交崩溃日志到远程服务器的示例：\n\nconst { crashReporter } = require('electron')\n\ncrashReporter.start({ submitURL: 'https://your-domain.com/url-to-submit' })\n\n\n1\n2\n3\n\n\n构建一个用于接受和处理崩溃日志的服务，你需要以下工程\n\n * socorro\n * mini-breakpad-server\n\n或者使用第三方托管的解决办法：\n\n * Backtrace\n * Sentry\n * BugSplat\n\n崩溃报告在上传之前会临时存储在应用程序的用户数据目录下 (在Windows和Mac上称为“Crashpad”，在Linux上称为“Crash reports”)。 在启动崩溃报告器之前，你可以通过调用 app.setPath('crashDumps', '/path/to/crashes') 来覆盖该目录。\n\n在 Windows 和 macOS 上，Electron 使用 crashpad 来监视和报告崩溃情况。 在 Linux上，Electron 使用breakpad。 这个实现细节是由Chromium驱动的，将来可能会发生变化。 尤其，crashpad是新出的，可能最终会取代所有平台的breakpad。\n\n\n# 关于Linux上的Node子进程的说明\n\n如果你在Linux上使用的是Node.js的 child_process 模块，并且想要在这些进程中报告崩溃信息，那么需要采取额外的步骤来在子进程中正确初始化崩溃报告器。 在 Mac 或 Windows 上就没有这个问题，因为这两个平台使用的Crashpad会自动监视子进程。\n\n由于Node的子进程中无法使用 require('electron') ，那么在Node的子进程中的 process 对象中的以下 API 是可用的。 请注意，在Linux上，每个Node子进程的 breakpad 崩溃报告器都有自己独立的实例。 这与渲染器子进程不同，其具有\"存根\" breakpad 报告器，将信息返回到主进程进行报告。\n\n# process.crashReporter.start(options)\n\n见 crashReporter.start()。\n\n# process.crashReporter.getParameters()\n\n见 crashReporter.getParameters()。\n\n# process.crashReporter.addExtraParameter(key, value)\n\n见 crashReporter.addExtraParameter(key, value)。\n\n# process.crashReporter.removeExtraParameter(key)\n\n见 crashReporter.removeExtraParameter(key)。\n\n\n# 方法\n\ncrashReporter 模块具有以下方法:\n\n\n# crashReporter.start(options)\n\n * 选项 对象\n   * submitURL String (可选) - 崩溃报告将以POST的方式发送给这个URL。 必填 除非uploadToServer是false\n   * productName String (可选) - 默认为 app.name.\n   * companyName String (可选) 已废弃 - 已废弃别名为{ globalExtra: { _companyName: ... } }。\n   * uploadToServer Boolean (可选) - 是否将崩溃报告发送给服务器。 如果为 false，崩溃报告将被收集并存储在崩溃目录中，但不会上传。 默认值为 true。\n   * ignoreSystemCrashHandler Boolean (可选) - 如果为true，在主进程中生成的崩溃将不会转发给系统崩溃处理器。 默认值为 false.\n   * rateLimit Boolean (可选) macOS Windows - 如果为true，将上传的崩溃次数限制到 1次/小时。 默认值为 false.\n   * compress Boolean (可选) - 如果为true，崩溃报告将压缩并上传，使用带有 Content-Encoding: gzip 的头部。 默认值为 true。\n   * extra Record<String, String> (可选) - 将随主进程生成的崩溃报告一起发送的额外字符串键/值注解。 只支持string值。 在子进程中产生的崩溃将不会在子进程生成的崩溃报告中包含这些额外的参数。 在子进程中调用 addExtrameter 。\n   * globalExtra Record<String, String> (可选) - 会与任意进程产生的崩溃报告一起发送的额外字符串键/值注解。 一旦崩溃报告器启动，这些注解就无法更改。 如果一个键在global extra参数和进程特定的额外参数中出现，那么全局的那个将优先使用。 默认情况下，会包括 productName 和应用程序版本，也就是Electron版本。\n\n该方法必须在使用其他 崩溃报告器 的API之前调用。 一旦以这种方式初始化，crashpad处理器就会从所有随后创建的进程中收集崩溃信息。 崩溃报告器一旦启动就无法禁用了。\n\n该方法应尽早地在app启动后调用，最好在 app.on('ready') 之前。 如果崩溃报告器没有在渲染器进程创建前初始化，那么渲染器进程将不会被崩溃报告器监视。\n\n注意： 您可以通过使用process.crash()生成一个崩溃来测试崩溃报告器。\n\n** 注意: **，如果您在第一次调用 start 后需要发送 附加的/更新的 extra 参数，你可以调用 addExtraParameter。\n\n注意： 通过 extra, globalExtra传递，或通过addExtrameter设置的参数对键和值的长度有限制。 键名最长是 39 字节，值不能超过 127 字节。 超过最大长度的键名将被直接忽略。 超过最大长度的键值将被截断。\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashReporter.getLastCrashReport()\n\n返回 CrashReport - 上次崩溃报告的日期和 ID。 只有已上传的崩溃报告会被返回；在磁盘上存在崩溃报告，除非上传了，否则不会返回。 如果没有上传的报告，则返回null\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashReporter.getUploadedReports()\n\n返回 CrashReport[]:\n\n返回所有已上传的崩溃报告。 每个报告包含日期以及上传ID。\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashReporter.getUploadToServer()\n\n返回 Boolean - 是否应向服务器提交报告。 通过start 方法或 setUploadToServer设置。\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashReporter.setUploadToServer(uploadToServer)\n\n * uploadToServer Boolean - 是否将报告提交到服务器。\n\n通常由用户首选项控制。 如果在 start 被调用前调用，该方法将不起作用。\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashReporter.addExtraParameter(key, value)\n\n * key String - 参数键，长度必须小于39个字节。\n * value String - 参数值，长度必须小于127个字节。\n\n设置一个在发送崩溃报告时将额外包含的参数。 当调用 start 时, 在这里指定的值会和所有通过 extra 选项设置的值一起发送。\n\n以这种方式添加的参数 (或通过 extra 参数到crashReporter.start)是特定于调用进程的。 在主进程中添加extra参数，这些参数将不会与渲染器或其它子进程的崩溃报告一起发送。 同样，在渲染器进程中添加的extra参数不会与其它渲染器进程或主进程中发生的崩溃一起发送。\n\n注意： 参数对键和值的长度有限制。 键名最长是 39 字节，值不能超过 20320 字节。 超过最大长度的键名将被直接忽略。 超过最大长度的键值将被截断。\n\n注意： 在linux上，超过 127 字节的值将被分割成多个键，每个长度为127个字节。 如下: addExtraParameter('foo', 'a'.repeat(130))将产生两个分块的键， foo__1 和 foo__2，第一个将包含前127字节，第二个将包含剩余的3字节。 在你的崩溃报告后端，你应该以这种格式将键合在一起。\n\n\n# crashReporter.removeExtraParameter(key)\n\n * key String - 参数键，长度必须小于39个字节。\n\n从当前的参数集中删除一个额外的参数。 未来的崩溃中将不包含此参数。\n\n\n# crashReporter.getParameters()\n\n返回 Record<String, String> - 崩溃报告器当前的“extra”参数。\n\n\n# 崩溃报告内容\n\n崩溃报告将发送下面 multipart/form-data POST 型的数据给 submitURL:\n\n * ver String - Electron 的版本.\n * platform String - 例如 'win32'.\n * process_type String - 例如 'renderer'.\n * guid String - 例如 '5e1286fc-da97-479e-918b-6bfb0c3d1c72'.\n * _version String - package.json 里的版本号.\n * _productName String - crashReporter options 对象中的产品名字\n * prod String - 基础产品的名称。 在这种情况下是Electron。\n * _companyName String - crashReporter options 对象中的公司名称\n * upload_file_minidump File - minidump 格式的崩溃报告\n * All level one properties of the extra object in the crashReporter options object.",normalizedContent:"# crashreporter\n\n> 将崩溃日志提交给远程服务器\n\n进程： main, renderer\n\n以下是一个设置electron自动提交崩溃日志到远程服务器的示例：\n\nconst { crashreporter } = require('electron')\n\ncrashreporter.start({ submiturl: 'https://your-domain.com/url-to-submit' })\n\n\n1\n2\n3\n\n\n构建一个用于接受和处理崩溃日志的服务，你需要以下工程\n\n * socorro\n * mini-breakpad-server\n\n或者使用第三方托管的解决办法：\n\n * backtrace\n * sentry\n * bugsplat\n\n崩溃报告在上传之前会临时存储在应用程序的用户数据目录下 (在windows和mac上称为“crashpad”，在linux上称为“crash reports”)。 在启动崩溃报告器之前，你可以通过调用 app.setpath('crashdumps', '/path/to/crashes') 来覆盖该目录。\n\n在 windows 和 macos 上，electron 使用 crashpad 来监视和报告崩溃情况。 在 linux上，electron 使用breakpad。 这个实现细节是由chromium驱动的，将来可能会发生变化。 尤其，crashpad是新出的，可能最终会取代所有平台的breakpad。\n\n\n# 关于linux上的node子进程的说明\n\n如果你在linux上使用的是node.js的 child_process 模块，并且想要在这些进程中报告崩溃信息，那么需要采取额外的步骤来在子进程中正确初始化崩溃报告器。 在 mac 或 windows 上就没有这个问题，因为这两个平台使用的crashpad会自动监视子进程。\n\n由于node的子进程中无法使用 require('electron') ，那么在node的子进程中的 process 对象中的以下 api 是可用的。 请注意，在linux上，每个node子进程的 breakpad 崩溃报告器都有自己独立的实例。 这与渲染器子进程不同，其具有\"存根\" breakpad 报告器，将信息返回到主进程进行报告。\n\n# process.crashreporter.start(options)\n\n见 crashreporter.start()。\n\n# process.crashreporter.getparameters()\n\n见 crashreporter.getparameters()。\n\n# process.crashreporter.addextraparameter(key, value)\n\n见 crashreporter.addextraparameter(key, value)。\n\n# process.crashreporter.removeextraparameter(key)\n\n见 crashreporter.removeextraparameter(key)。\n\n\n# 方法\n\ncrashreporter 模块具有以下方法:\n\n\n# crashreporter.start(options)\n\n * 选项 对象\n   * submiturl string (可选) - 崩溃报告将以post的方式发送给这个url。 必填 除非uploadtoserver是false\n   * productname string (可选) - 默认为 app.name.\n   * companyname string (可选) 已废弃 - 已废弃别名为{ globalextra: { _companyname: ... } }。\n   * uploadtoserver boolean (可选) - 是否将崩溃报告发送给服务器。 如果为 false，崩溃报告将被收集并存储在崩溃目录中，但不会上传。 默认值为 true。\n   * ignoresystemcrashhandler boolean (可选) - 如果为true，在主进程中生成的崩溃将不会转发给系统崩溃处理器。 默认值为 false.\n   * ratelimit boolean (可选) macos windows - 如果为true，将上传的崩溃次数限制到 1次/小时。 默认值为 false.\n   * compress boolean (可选) - 如果为true，崩溃报告将压缩并上传，使用带有 content-encoding: gzip 的头部。 默认值为 true。\n   * extra record<string, string> (可选) - 将随主进程生成的崩溃报告一起发送的额外字符串键/值注解。 只支持string值。 在子进程中产生的崩溃将不会在子进程生成的崩溃报告中包含这些额外的参数。 在子进程中调用 addextrameter 。\n   * globalextra record<string, string> (可选) - 会与任意进程产生的崩溃报告一起发送的额外字符串键/值注解。 一旦崩溃报告器启动，这些注解就无法更改。 如果一个键在global extra参数和进程特定的额外参数中出现，那么全局的那个将优先使用。 默认情况下，会包括 productname 和应用程序版本，也就是electron版本。\n\n该方法必须在使用其他 崩溃报告器 的api之前调用。 一旦以这种方式初始化，crashpad处理器就会从所有随后创建的进程中收集崩溃信息。 崩溃报告器一旦启动就无法禁用了。\n\n该方法应尽早地在app启动后调用，最好在 app.on('ready') 之前。 如果崩溃报告器没有在渲染器进程创建前初始化，那么渲染器进程将不会被崩溃报告器监视。\n\n注意： 您可以通过使用process.crash()生成一个崩溃来测试崩溃报告器。\n\n** 注意: **，如果您在第一次调用 start 后需要发送 附加的/更新的 extra 参数，你可以调用 addextraparameter。\n\n注意： 通过 extra, globalextra传递，或通过addextrameter设置的参数对键和值的长度有限制。 键名最长是 39 字节，值不能超过 127 字节。 超过最大长度的键名将被直接忽略。 超过最大长度的键值将被截断。\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashreporter.getlastcrashreport()\n\n返回 crashreport - 上次崩溃报告的日期和 id。 只有已上传的崩溃报告会被返回；在磁盘上存在崩溃报告，除非上传了，否则不会返回。 如果没有上传的报告，则返回null\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashreporter.getuploadedreports()\n\n返回 crashreport[]:\n\n返回所有已上传的崩溃报告。 每个报告包含日期以及上传id。\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashreporter.getuploadtoserver()\n\n返回 boolean - 是否应向服务器提交报告。 通过start 方法或 setuploadtoserver设置。\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashreporter.setuploadtoserver(uploadtoserver)\n\n * uploadtoserver boolean - 是否将报告提交到服务器。\n\n通常由用户首选项控制。 如果在 start 被调用前调用，该方法将不起作用。\n\n注意： 此方法仅在主进程中可用。\n\n\n# crashreporter.addextraparameter(key, value)\n\n * key string - 参数键，长度必须小于39个字节。\n * value string - 参数值，长度必须小于127个字节。\n\n设置一个在发送崩溃报告时将额外包含的参数。 当调用 start 时, 在这里指定的值会和所有通过 extra 选项设置的值一起发送。\n\n以这种方式添加的参数 (或通过 extra 参数到crashreporter.start)是特定于调用进程的。 在主进程中添加extra参数，这些参数将不会与渲染器或其它子进程的崩溃报告一起发送。 同样，在渲染器进程中添加的extra参数不会与其它渲染器进程或主进程中发生的崩溃一起发送。\n\n注意： 参数对键和值的长度有限制。 键名最长是 39 字节，值不能超过 20320 字节。 超过最大长度的键名将被直接忽略。 超过最大长度的键值将被截断。\n\n注意： 在linux上，超过 127 字节的值将被分割成多个键，每个长度为127个字节。 如下: addextraparameter('foo', 'a'.repeat(130))将产生两个分块的键， foo__1 和 foo__2，第一个将包含前127字节，第二个将包含剩余的3字节。 在你的崩溃报告后端，你应该以这种格式将键合在一起。\n\n\n# crashreporter.removeextraparameter(key)\n\n * key string - 参数键，长度必须小于39个字节。\n\n从当前的参数集中删除一个额外的参数。 未来的崩溃中将不包含此参数。\n\n\n# crashreporter.getparameters()\n\n返回 record<string, string> - 崩溃报告器当前的“extra”参数。\n\n\n# 崩溃报告内容\n\n崩溃报告将发送下面 multipart/form-data post 型的数据给 submiturl:\n\n * ver string - electron 的版本.\n * platform string - 例如 'win32'.\n * process_type string - 例如 'renderer'.\n * guid string - 例如 '5e1286fc-da97-479e-918b-6bfb0c3d1c72'.\n * _version string - package.json 里的版本号.\n * _productname string - crashreporter options 对象中的产品名字\n * prod string - 基础产品的名称。 在这种情况下是electron。\n * _companyname string - crashreporter options 对象中的公司名称\n * upload_file_minidump file - minidump 格式的崩溃报告\n * all level one properties of the extra object in the crashreporter options object.",charsets:{cjk:!0}},{title:"debugger",frontmatter:{title:"debugger",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/375ede/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/debugger.html",relativePath:"《Electron中文文档》/api/debugger.md",key:"v-bbde2d94",path:"/pages/375ede/",headers:[{level:2,title:"类: Debugger",slug:"类-debugger",normalizedTitle:"类: debugger",charIndex:2},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:919},{level:4,title:"Event: 'detach'",slug:"event-detach",normalizedTitle:"event: 'detach'",charIndex:927},{level:4,title:"Event: 'message'",slug:"event-message",normalizedTitle:"event: 'message'",charIndex:1044},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:1248},{level:4,title:"debugger.attach([protocolVersion])",slug:"debugger-attach-protocolversion",normalizedTitle:"debugger.attach([protocolversion])",charIndex:1256},{level:4,title:"debugger.isAttached()",slug:"debugger-isattached",normalizedTitle:"debugger.isattached()",charIndex:1367},{level:4,title:"debugger.detach()",slug:"debugger-detach",normalizedTitle:"debugger.detach()",charIndex:768},{level:4,title:"debugger.sendCommand(method[, commandParams, sessionId])",slug:"debugger-sendcommand-method-commandparams-sessionid",normalizedTitle:"debugger.sendcommand(method[, commandparams, sessionid])",charIndex:1482}],headersStr:"类: Debugger 实例事件 Event: 'detach' Event: 'message' 实例方法 debugger.attach([protocolVersion]) debugger.isAttached() debugger.detach() debugger.sendCommand(method[, commandParams, sessionId])",content:"# 类: Debugger\n\n> 备用的 Chrome 远程调试接口。\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\nChrome Developer Tools 在 JavaScript 运行时提供了一个 special binding , 允许与页面进行交互和检测。\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow()\n\ntry {\n  win.webContents.debugger.attach('1.1')\n} catch (err) {\n  console.log('Debugger attach failed : ', err)\n}\n\nwin.webContents.debugger.on('detach', (event, reason) => {\n  console.log('Debugger detached due to : ', reason)\n})\n\nwin.webContents.debugger.on('message', (event, method, params) => {\n  if (method === 'Network.requestWillBeSent') {\n    if (params.request.url === 'https://www.github.com') {\n      win.webContents.debugger.detach()\n    }\n  }\n})\n\nwin.webContents.debugger.sendCommand('Network.enable')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 实例事件\n\n# Event: 'detach'\n\n返回:\n\n * event Event\n * reason String - 分离调试器的原因\n\n调试会话终止时激活 发生在对应的webContents 关闭或者调用 devtools 时,。\n\n# Event: 'message'\n\n返回:\n\n * event Event\n * method String - 方法名.\n * params any - 远程调试协议中的 parameters 属性定义的事件参数。\n * sessionId String - 附加调试会话的唯一标识符， 与从 debugger.sendCommand 中发送的值相同。\n\n当正在调试的目标发出条件检测事件时触发。\n\n\n# 实例方法\n\n# debugger.attach([protocolVersion])\n\n * protocolVersion String (optional) - 需要调试的协议的版本\n\n添加调试器到 webContents 。\n\n# debugger.isAttached()\n\nReturns Boolean - 表示调试器是否成功添加到 webContents 。\n\n# debugger.detach()\n\n从 webContents 里分离调试器.\n\n# debugger.sendCommand(method[, commandParams, sessionId])\n\n * method String - 方法名称，应该是 远程调试协议中定义的方法之一。\n * commandParams any (可选) - 具有请求参数的 JSON 对象。\n * sessionId String (可选) - 发送带有调试会话id的命令给目标。 初始值可以通过发送 Target.attachToTarget 消息来获得。\n\n返回 Promise<any> - 一个 promise，远程调试协议中的命令描述的“returns”属性定义的响应，或者显示命令失败的错误消息。\n\n向调试目标发送给定的命令。",normalizedContent:"# 类: debugger\n\n> 备用的 chrome 远程调试接口。\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\nchrome developer tools 在 javascript 运行时提供了一个 special binding , 允许与页面进行交互和检测。\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow()\n\ntry {\n  win.webcontents.debugger.attach('1.1')\n} catch (err) {\n  console.log('debugger attach failed : ', err)\n}\n\nwin.webcontents.debugger.on('detach', (event, reason) => {\n  console.log('debugger detached due to : ', reason)\n})\n\nwin.webcontents.debugger.on('message', (event, method, params) => {\n  if (method === 'network.requestwillbesent') {\n    if (params.request.url === 'https://www.github.com') {\n      win.webcontents.debugger.detach()\n    }\n  }\n})\n\nwin.webcontents.debugger.sendcommand('network.enable')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 实例事件\n\n# event: 'detach'\n\n返回:\n\n * event event\n * reason string - 分离调试器的原因\n\n调试会话终止时激活 发生在对应的webcontents 关闭或者调用 devtools 时,。\n\n# event: 'message'\n\n返回:\n\n * event event\n * method string - 方法名.\n * params any - 远程调试协议中的 parameters 属性定义的事件参数。\n * sessionid string - 附加调试会话的唯一标识符， 与从 debugger.sendcommand 中发送的值相同。\n\n当正在调试的目标发出条件检测事件时触发。\n\n\n# 实例方法\n\n# debugger.attach([protocolversion])\n\n * protocolversion string (optional) - 需要调试的协议的版本\n\n添加调试器到 webcontents 。\n\n# debugger.isattached()\n\nreturns boolean - 表示调试器是否成功添加到 webcontents 。\n\n# debugger.detach()\n\n从 webcontents 里分离调试器.\n\n# debugger.sendcommand(method[, commandparams, sessionid])\n\n * method string - 方法名称，应该是 远程调试协议中定义的方法之一。\n * commandparams any (可选) - 具有请求参数的 json 对象。\n * sessionid string (可选) - 发送带有调试会话id的命令给目标。 初始值可以通过发送 target.attachtotarget 消息来获得。\n\n返回 promise<any> - 一个 promise，远程调试协议中的命令描述的“returns”属性定义的响应，或者显示命令失败的错误消息。\n\n向调试目标发送给定的命令。",charsets:{cjk:!0}},{title:"dock",frontmatter:{title:"dock",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/88061c/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/dock.html",relativePath:"《Electron中文文档》/api/dock.md",key:"v-55446214",path:"/pages/88061c/",headers:[{level:2,title:"类: Dock",slug:"类-dock",normalizedTitle:"类: dock",charIndex:2},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:272},{level:4,title:"dock.bounce([type]) macOS",slug:"dock-bounce-type-macos",normalizedTitle:"dock.bounce([type]) macos",charIndex:280},{level:4,title:"dock.cancelBounce(id) macOS",slug:"dock-cancelbounce-id-macos",normalizedTitle:"dock.cancelbounce(id) macos",charIndex:564},{level:4,title:"dock.downloadFinished(filePath) macOS",slug:"dock-downloadfinished-filepath-macos",normalizedTitle:"dock.downloadfinished(filepath) macos",charIndex:626},{level:4,title:"dock.setBadge(text) macOS",slug:"dock-setbadge-text-macos",normalizedTitle:"dock.setbadge(text) macos",charIndex:727},{level:4,title:"dock.getBadge() macOS",slug:"dock-getbadge-macos",normalizedTitle:"dock.getbadge() macos",charIndex:793},{level:4,title:"dock.hide() macOS",slug:"dock-hide-macos",normalizedTitle:"dock.hide() macos",charIndex:849},{level:4,title:"dock.show() macOS",slug:"dock-show-macos",normalizedTitle:"dock.show() macos",charIndex:885},{level:4,title:"dock.isVisible() macOS",slug:"dock-isvisible-macos",normalizedTitle:"dock.isvisible() macos",charIndex:945},{level:4,title:"dock.setMenu(menu) macOS",slug:"dock-setmenu-menu-macos",normalizedTitle:"dock.setmenu(menu) macos",charIndex:997},{level:4,title:"dock.getMenu() macOS",slug:"dock-getmenu-macos",normalizedTitle:"dock.getmenu() macos",charIndex:1070},{level:4,title:"dock.setIcon(image) macOS",slug:"dock-seticon-image-macos",normalizedTitle:"dock.seticon(image) macos",charIndex:1139}],headersStr:"类: Dock 实例方法 dock.bounce([type]) macOS dock.cancelBounce(id) macOS dock.downloadFinished(filePath) macOS dock.setBadge(text) macOS dock.getBadge() macOS dock.hide() macOS dock.show() macOS dock.isVisible() macOS dock.setMenu(menu) macOS dock.getMenu() macOS dock.setIcon(image) macOS",content:"# 类: Dock\n\n> 在 macOS dock中控制您的应用\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n下面的例子展示了如何在dock上使你的图标弹跳。\n\nconst { app } = require('electron')\napp.dock.bounce()\n\n\n1\n2\n\n\n\n# 实例方法\n\n# dock.bounce([type]) macOS\n\n * type String (可选) - 可以是 critical 或 informational。 默认值为informational\n\n返回 Integer - 代表请求的 ID。\n\n当传入的是 critical 时, dock 中的应用将会开始弹跳, 直到这个应用被激活或者这个请求被取消。\n\n当传递了 informational 时，dock图标将弹跳一秒钟。 然而，该请求仍然有效，直到应用程序激活或请求被取消。\n\n注意： 此方法只能在应用未获得焦点时使用；当应用获得焦点，该方法将返回 -1。\n\n# dock.cancelBounce(id) macOS\n\n * id Integer\n\n取消这个 id 对应的请求。\n\n# dock.downloadFinished(filePath) macOS\n\n * filePath String\n\n如果 filePath 位于 Downloads 文件夹中，则弹出下载队列。\n\n# dock.setBadge(text) macOS\n\n * text String\n\n设置应用在 dock 中显示的字符串。\n\n# dock.getBadge() macOS\n\n返回 String - 应用在 dock 中显示的字符串。\n\n# dock.hide() macOS\n\n隐藏 dock 中的图标。\n\n# dock.show() macOS\n\n返回 Promise<void> - 当dock图标显示时resolve。\n\n# dock.isVisible() macOS\n\n返回 Boolean - dock图标是否可见.\n\n# dock.setMenu(menu) macOS\n\n * menu Menu\n\n设置应用程序的 [dock 菜单][dock-menu]。\n\n# dock.getMenu() macOS\n\n返回 Menu | null - 应用程序的[dock 菜单][dock-menu]。\n\n# dock.setIcon(image) macOS\n\n * image (NativeImage | String)\n\n设置image作为应用在 dock 中显示的图标",normalizedContent:"# 类: dock\n\n> 在 macos dock中控制您的应用\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n下面的例子展示了如何在dock上使你的图标弹跳。\n\nconst { app } = require('electron')\napp.dock.bounce()\n\n\n1\n2\n\n\n\n# 实例方法\n\n# dock.bounce([type]) macos\n\n * type string (可选) - 可以是 critical 或 informational。 默认值为informational\n\n返回 integer - 代表请求的 id。\n\n当传入的是 critical 时, dock 中的应用将会开始弹跳, 直到这个应用被激活或者这个请求被取消。\n\n当传递了 informational 时，dock图标将弹跳一秒钟。 然而，该请求仍然有效，直到应用程序激活或请求被取消。\n\n注意： 此方法只能在应用未获得焦点时使用；当应用获得焦点，该方法将返回 -1。\n\n# dock.cancelbounce(id) macos\n\n * id integer\n\n取消这个 id 对应的请求。\n\n# dock.downloadfinished(filepath) macos\n\n * filepath string\n\n如果 filepath 位于 downloads 文件夹中，则弹出下载队列。\n\n# dock.setbadge(text) macos\n\n * text string\n\n设置应用在 dock 中显示的字符串。\n\n# dock.getbadge() macos\n\n返回 string - 应用在 dock 中显示的字符串。\n\n# dock.hide() macos\n\n隐藏 dock 中的图标。\n\n# dock.show() macos\n\n返回 promise<void> - 当dock图标显示时resolve。\n\n# dock.isvisible() macos\n\n返回 boolean - dock图标是否可见.\n\n# dock.setmenu(menu) macos\n\n * menu menu\n\n设置应用程序的 [dock 菜单][dock-menu]。\n\n# dock.getmenu() macos\n\n返回 menu | null - 应用程序的[dock 菜单][dock-menu]。\n\n# dock.seticon(image) macos\n\n * image (nativeimage | string)\n\n设置image作为应用在 dock 中显示的图标",charsets:{cjk:!0}},{title:"desktop-capturer",frontmatter:{title:"desktop-capturer",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d173e4/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/desktop-capturer.html",relativePath:"《Electron中文文档》/api/desktop-capturer.md",key:"v-054af894",path:"/pages/d173e4/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:1658},{level:3,title:"desktopCapturer.getSources(options)",slug:"desktopcapturer-getsources-options",normalizedTitle:"desktopcapturer.getsources(options)",charIndex:1691},{level:2,title:"注意事项",slug:"注意事项",normalizedTitle:"注意事项",charIndex:2239}],headersStr:"方法 desktopCapturer.getSources(options) 注意事项",content:"# desktopCapturer\n\n> 访问关于使用navigator.mediaDevices.getUserMedia API 获取的可以用来从桌面捕获音频和视频的媒体源的信息。\n\n进程： Main, Renderer\n\n下面的示例演示如何从标题为 Electron 的桌面窗口捕获视频:\n\n// In the renderer process.\nconst { desktopCapturer } = require('electron')\n\ndesktopCapturer.getSources({ types: ['window', 'screen'] }).then(async sources => {\n  for (const source of sources) {\n    if (source.name === 'Electron') {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: false,\n          video: {\n            mandatory: {\n              chromeMediaSource: 'desktop',\n              chromeMediaSourceId: source.id,\n              minWidth: 1280,\n              maxWidth: 1280,\n              minHeight: 720,\n              maxHeight: 720\n            }\n          }\n        })\n        handleStream(stream)\n      } catch (e) {\n        handleError(e)\n      }\n      return\n    }\n  }\n})\n\nfunction handleStream (stream) {\n  const video = document.querySelector('video')\n  video.srcObject = stream\n  video.onloadedmetadata = (e) => video.play()\n}\n\nfunction handleError (e) {\n  console.log(e)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n为了从desktopCapturer提供的源捕获视频，传递给 navigator.mediaDevices.getUserMedia 的约束条件需包括 chromeMediaSource: 'desktop' 和 audio: false。\n\n为了同时捕获整个桌面的音视频，传递给 navigator.mediaDevices.getUserMedia 的约束条件需包括 chromeMediaSource: 'desktop'，audio 和 视频，但不应该包括 chromeMediaSourceId 约束。\n\nconst constraints = {\n  audio: {\n    mandatory: {\n      chromeMediaSource: 'desktop'\n    }\n  },\n  video: {\n    mandatory: {\n      chromeMediaSource: 'desktop'\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 方法\n\ndesktopCapturer 模块有以下方法:\n\n\n# desktopCapturer.getSources(options)\n\n * 选项 对象\n   * 类型String[]-列出要捕获的桌面源类型的字符串数组, 可用类型为 screen 和 window。\n   * thumbnailSizeSize(可选) - 媒体源缩略图应缩放到的尺寸大小。 默认是 150 x 150。 当您不需要缩略图时，设置宽度或高度为0。 这将节省用于获取每个窗口和屏幕内容时的处理时间。\n   * fetchWindowIcons Boolean (可选) - 设置为true以便启用获取窗口图标。 默认值为false。 当值为false时，源的appIcon属性返回null。 如果一个源是屏幕类型也是如此。\n\n返回 Promise<DesktopCapturerSource[]> - resolve 一个DesktopCapturerSource 对象类型的数组，每个 DesktopCapturerSource 代表一个屏幕或一个可以被捕获的独立窗口。\n\n注意 在macOS 10.15 Catalina 或更高版本上捕获屏幕内容需要用户同意，可通过 systemPreferences.getMediaAccessStatus 检测是否授权。\n\n\n# 注意事项\n\n由于存在基本限制，因此navigator.mediaDevices.getUserMedia 无法在macOS上进行音频捕获，因此要访问系统音频的应用程序需要一个签名内核拓展. Chromium以及Electron扩展不提供这个。\n\n通过使用另一个MacOS应用程序（如Soundflower）捕获系统音频并将其通过虚拟音频输入设备来规避此限制是可能的。 然后可以用 navigator.mediaDevices.getUserMedia查询该虚拟设备。",normalizedContent:"# desktopcapturer\n\n> 访问关于使用navigator.mediadevices.getusermedia api 获取的可以用来从桌面捕获音频和视频的媒体源的信息。\n\n进程： main, renderer\n\n下面的示例演示如何从标题为 electron 的桌面窗口捕获视频:\n\n// in the renderer process.\nconst { desktopcapturer } = require('electron')\n\ndesktopcapturer.getsources({ types: ['window', 'screen'] }).then(async sources => {\n  for (const source of sources) {\n    if (source.name === 'electron') {\n      try {\n        const stream = await navigator.mediadevices.getusermedia({\n          audio: false,\n          video: {\n            mandatory: {\n              chromemediasource: 'desktop',\n              chromemediasourceid: source.id,\n              minwidth: 1280,\n              maxwidth: 1280,\n              minheight: 720,\n              maxheight: 720\n            }\n          }\n        })\n        handlestream(stream)\n      } catch (e) {\n        handleerror(e)\n      }\n      return\n    }\n  }\n})\n\nfunction handlestream (stream) {\n  const video = document.queryselector('video')\n  video.srcobject = stream\n  video.onloadedmetadata = (e) => video.play()\n}\n\nfunction handleerror (e) {\n  console.log(e)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n为了从desktopcapturer提供的源捕获视频，传递给 navigator.mediadevices.getusermedia 的约束条件需包括 chromemediasource: 'desktop' 和 audio: false。\n\n为了同时捕获整个桌面的音视频，传递给 navigator.mediadevices.getusermedia 的约束条件需包括 chromemediasource: 'desktop'，audio 和 视频，但不应该包括 chromemediasourceid 约束。\n\nconst constraints = {\n  audio: {\n    mandatory: {\n      chromemediasource: 'desktop'\n    }\n  },\n  video: {\n    mandatory: {\n      chromemediasource: 'desktop'\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 方法\n\ndesktopcapturer 模块有以下方法:\n\n\n# desktopcapturer.getsources(options)\n\n * 选项 对象\n   * 类型string[]-列出要捕获的桌面源类型的字符串数组, 可用类型为 screen 和 window。\n   * thumbnailsizesize(可选) - 媒体源缩略图应缩放到的尺寸大小。 默认是 150 x 150。 当您不需要缩略图时，设置宽度或高度为0。 这将节省用于获取每个窗口和屏幕内容时的处理时间。\n   * fetchwindowicons boolean (可选) - 设置为true以便启用获取窗口图标。 默认值为false。 当值为false时，源的appicon属性返回null。 如果一个源是屏幕类型也是如此。\n\n返回 promise<desktopcapturersource[]> - resolve 一个desktopcapturersource 对象类型的数组，每个 desktopcapturersource 代表一个屏幕或一个可以被捕获的独立窗口。\n\n注意 在macos 10.15 catalina 或更高版本上捕获屏幕内容需要用户同意，可通过 systempreferences.getmediaaccessstatus 检测是否授权。\n\n\n# 注意事项\n\n由于存在基本限制，因此navigator.mediadevices.getusermedia 无法在macos上进行音频捕获，因此要访问系统音频的应用程序需要一个签名内核拓展. chromium以及electron扩展不提供这个。\n\n通过使用另一个macos应用程序（如soundflower）捕获系统音频并将其通过虚拟音频输入设备来规避此限制是可能的。 然后可以用 navigator.mediadevices.getusermedia查询该虚拟设备。",charsets:{cjk:!0}},{title:"dialog",frontmatter:{title:"dialog",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/52d365/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/dialog.html",relativePath:"《Electron中文文档》/api/dialog.md",key:"v-bf7ee5d4",path:"/pages/52d365/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:200},{level:3,title:"dialog.showOpenDialogSync([browserWindow, ]options)",slug:"dialog-showopendialogsync-browserwindow-options",normalizedTitle:"dialog.showopendialogsync([browserwindow, ]options)",charIndex:225},{level:3,title:"dialog.showOpenDialog([browserWindow, ]options)",slug:"dialog-showopendialog-browserwindow-options",normalizedTitle:"dialog.showopendialog([browserwindow, ]options)",charIndex:1895},{level:3,title:"dialog.showSaveDialogSync([browserWindow, ]options)",slug:"dialog-showsavedialogsync-browserwindow-options",normalizedTitle:"dialog.showsavedialogsync([browserwindow, ]options)",charIndex:3898},{level:3,title:"dialog.showSaveDialog([browserWindow, ]options)",slug:"dialog-showsavedialog-browserwindow-options",normalizedTitle:"dialog.showsavedialog([browserwindow, ]options)",charIndex:4976},{level:3,title:"dialog.showMessageBoxSync([browserWindow, ]options)",slug:"dialog-showmessageboxsync-browserwindow-options",normalizedTitle:"dialog.showmessageboxsync([browserwindow, ]options)",charIndex:6277},{level:3,title:"dialog.showMessageBox([browserWindow, ]options)",slug:"dialog-showmessagebox-browserwindow-options",normalizedTitle:"dialog.showmessagebox([browserwindow, ]options)",charIndex:7629},{level:3,title:"dialog.showErrorBox(title, content)",slug:"dialog-showerrorbox-title-content",normalizedTitle:"dialog.showerrorbox(title, content)",charIndex:9466},{level:3,title:"dialog.showCertificateTrustDialog([browserWindow, ]options) macOS Windows",slug:"dialog-showcertificatetrustdialog-browserwindow-options-macos-windows",normalizedTitle:"dialog.showcertificatetrustdialog([browserwindow, ]options) macos windows",charIndex:9699},{level:2,title:"Bookmarks 数组",slug:"bookmarks-数组",normalizedTitle:"bookmarks 数组",charIndex:10138},{level:2,title:"工作表",slug:"工作表",normalizedTitle:"工作表",charIndex:10577}],headersStr:"方法 dialog.showOpenDialogSync([browserWindow, ]options) dialog.showOpenDialog([browserWindow, ]options) dialog.showSaveDialogSync([browserWindow, ]options) dialog.showSaveDialog([browserWindow, ]options) dialog.showMessageBoxSync([browserWindow, ]options) dialog.showMessageBox([browserWindow, ]options) dialog.showErrorBox(title, content) dialog.showCertificateTrustDialog([browserWindow, ]options) macOS Windows Bookmarks 数组 工作表",content:'# dialog\n\n> 显示用于打开和保存文件、警报等的本机系统对话框。\n\n进程：主进程\n\n下面是一个选择多个文件的对话框示例：\n\nconst { dialog } = require(\'electron\')\nconsole.log(dialog.showOpenDialog({ properties: [\'openFile\', \'multiSelections\'] }))\n\n\n1\n2\n\n\n\n# 方法\n\ndialog 模块具有以下方法:\n\n\n# dialog.showOpenDialogSync([browserWindow, ]options)\n\n * browserWindow BrowserWindow (可选)\n * 选项 对象\n   * title String (可选) - 对话框窗口的标题\n   * defaultPath String (可选) - 对话框的默认展示路径\n   * buttonLabel String (可选) - 「确认」按钮的自定义标签, 当为空时, 将使用默认标签。\n   * filters FileFilter[] (可选)\n   * properties String[] (可选) - 包含对话框相关属性。 支持以下属性值:\n     * openFile - 允许选择文件\n     * openDirectory - 允许选择文件夹\n     * multiSelections-允许多选。\n     * showHiddenFiles-显示对话框中的隐藏文件。\n     * createDirectory macOS -允许你通过对话框的形式创建新的目录。\n     * promptToCreate Windows-如果输入的文件路径在对话框中不存在, 则提示创建。 这并不是真的在路径上创建一个文件，而是允许返回一些不存在的地址交由应用程序去创建。\n     * noResolveAliases macOS-禁用自动的别名路径(符号链接) 解析。 所选别名现在将会返回别名路径而非其目标路径。\n     * treatPackageAsDirectory_ macOS _-将包 (如 .app 文件夹) 视为目录而不是文件。\n     * dontAddToRecent Windows - 不要将正在打开的项目添加到最近的文档列表中。\n   * message String (可选) _ macOS _-显示在输入框上方的消息。\n   * securityScopedBookmarks Boolean (可选) macOS mas - 在打包提交到Mac App Store时创建 security scoped bookmarks\n\n返回 String[] | undefined, 用户选择的文件路径，如果对话框被取消了 ，则返回undefined。\n\nbrowserWindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\nfilters 指定一个文件类型数组，用于规定用户可见或可选的特定类型范围。 例如：\n\n{\n  filters: [\n    { name: \'Images\', extensions: [\'jpg\', \'png\', \'gif\'] },\n    { name: \'Movies\', extensions: [\'mkv\', \'avi\', \'mp4\'] },\n    { name: \'Custom File Type\', extensions: [\'as\'] },\n    { name: \'All Files\', extensions: [\'*\'] }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nextensions 数组应为没有通配符或点的扩展名 (例如, "png" 是正确的, 而 ".png" 和 *. png " 就是错误的)。 若要显示所有文件, 请使用 "*" 通配符 (不支持其他通配符)。\n\n** 注意: **在 Windows 和 Linux 上, 打开对话框不能同时是文件选择器和目录选择器, 因此如果在这些平台上将 properties 设置为["openFile"、"openDirectory"], 则将显示为目录选择器。\n\ndialog.showOpenDialogSync(mainWindow, {\n  properties: [\'openFile\', \'openDirectory\']\n})\n\n\n1\n2\n3\n\n\n\n# dialog.showOpenDialog([browserWindow, ]options)\n\n * browserWindow BrowserWindow (可选)\n * 选项 对象\n   * title String (可选) - 对话框窗口的标题\n   * defaultPath String (可选) - 对话框的默认展示路径\n   * buttonLabel String (可选) - 「确认」按钮的自定义标签, 当为空时, 将使用默认标签。\n   * filters FileFilter[] (可选)\n   * properties String[] (可选) - 包含对话框相关属性。 支持以下属性值:\n     * openFile - 允许选择文件\n     * openDirectory - 允许选择文件夹\n     * multiSelections-允许多选。\n     * showHiddenFiles-显示对话框中的隐藏文件。\n     * createDirectory macOS -允许你通过对话框的形式创建新的目录。\n     * promptToCreate Windows-如果输入的文件路径在对话框中不存在, 则提示创建。 这并不是真的在路径上创建一个文件，而是允许返回一些不存在的地址交由应用程序去创建。\n     * noResolveAliases macOS-禁用自动的别名路径(符号链接) 解析。 所选别名现在将会返回别名路径而非其目标路径。\n     * treatPackageAsDirectory_ macOS _-将包 (如 .app 文件夹) 视为目录而不是文件。\n     * dontAddToRecent Windows - 不要将正在打开的项目添加到最近的文档列表中。\n   * message String (可选) _ macOS _-显示在输入框上方的消息。\n   * securityScopedBookmarks Boolean (可选) macOS mas - 在打包提交到Mac App Store时创建 security scoped bookmarks\n\n返回 Promise<Object> - resolve包含以下内容的object：\n\n * canceled Boolean - 对话框是否被取消。\n * filePaths String[] - 用户选择的文件路径的数组. 如果对话框被取消，这将是一个空的数组。\n * bookmarks String[] (optional) macOS mas - 一个数组， filePaths 数组，base64编码字符串包含安全范围书签数据。 securityScopedBookmarks 必须启用才能捕获数据。 (返回值见 这里的表格。)\n\nbrowserWindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\nfilters 指定一个文件类型数组，用于规定用户可见或可选的特定类型范围。 例如：\n\n{\n  filters: [\n    { name: \'Images\', extensions: [\'jpg\', \'png\', \'gif\'] },\n    { name: \'Movies\', extensions: [\'mkv\', \'avi\', \'mp4\'] },\n    { name: \'Custom File Type\', extensions: [\'as\'] },\n    { name: \'All Files\', extensions: [\'*\'] }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nextensions 数组应为没有通配符或点的扩展名 (例如, "png" 是正确的, 而 ".png" 和 *. png " 就是错误的)。 若要显示所有文件, 请使用 "*" 通配符 (不支持其他通配符)。\n\n** 注意: **在 Windows 和 Linux 上, 打开对话框不能同时是文件选择器和目录选择器, 因此如果在这些平台上将 properties 设置为["openFile"、"openDirectory"], 则将显示为目录选择器。\n\ndialog.showOpenDialog(mainWindow, {\n  properties: [\'openFile\', \'openDirectory\']\n}).then(result => {\n  console.log(result.canceled)\n  console.log(result.filePaths)\n}).catch(err => {\n  console.log(err)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# dialog.showSaveDialogSync([browserWindow, ]options)\n\n * browserWindow BrowserWindow (可选)\n * 选项 对象\n   * title String (可选) - 对话框标题。 无法在一些 Linux 桌面环境中显示。\n   * defaultPath String (可选) - 默认情况下使用的绝对目录路径、绝对文件路径或文件名。\n   * buttonLabel String (可选) - 「确认」按钮的自定义标签, 当为空时, 将使用默认标签。\n   * filters FileFilter[] (可选)\n   * message String (可选) _ macOS _-显示在对话框上的消息。\n   * nameFieldLabel String (可选) _ macOS _ - 文件名输入框对应的自定义标签名。\n   * showsTagField Boolean (可选) _ macOS _-显示标记输入框, 默认为 true。\n   * properties String[] (可选)\n     * showHiddenFiles-显示对话框中的隐藏文件。\n     * createDirectory macOS -允许你通过对话框的形式创建新的目录。\n     * treatPackageAsDirectory_ macOS _-将包 (如 .app 文件夹) 视为目录而不是文件。\n     * showOverwriteConfirmation Linux - 设置如果用户输入了已存在的文件名，是否会向用户显示确认对话框。\n     * dontAddToRecent Windows - 不要将正在保存的项目添加到最近的文档列表中。\n   * securityScopedBookmarks Boolean (可选) macOS mas - 在打包提交到Mac App Store时创建 security scoped bookmarks 当该选项被启用且文件尚不存在时，那么在选定的路径下将创建一个空文件。\n\n返回 String | undefined, 用户选择的文件路径，如果对话框被取消了 ，则返回undefined。\n\nbrowserWindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\nfilters 可以指定可显示文件的数组类型，详见 dialog.showOpenDialog 事例\n\n\n# dialog.showSaveDialog([browserWindow, ]options)\n\n * browserWindow BrowserWindow (可选)\n * 选项 对象\n   * title String (可选) - 对话框标题。 无法在一些 Linux 桌面环境中显示。\n   * defaultPath String (可选) - 默认情况下使用的绝对目录路径、绝对文件路径或文件名。\n   * buttonLabel String (可选) - 「确认」按钮的自定义标签, 当为空时, 将使用默认标签。\n   * filters FileFilter[] (可选)\n   * message String (可选) _ macOS _-显示在对话框上的消息。\n   * nameFieldLabel String (可选) _ macOS _ - 文件名输入框对应的自定义标签名。\n   * showsTagField Boolean (可选) macOS - 显示标签输入框，默认为 true。\n   * properties String[] (可选)\n     * showHiddenFiles-显示对话框中的隐藏文件。\n     * createDirectory macOS -允许你通过对话框的形式创建新的目录。\n     * treatPackageAsDirectory_ macOS _-将包 (如 .app 文件夹) 视为目录而不是文件。\n     * showOverwriteConfirmation Linux - 设置如果用户输入了已存在的文件名，是否会向用户显示确认对话框。\n     * dontAddToRecent Windows - 不要将正在保存的项目添加到最近的文档列表中。\n   * securityScopedBookmarks Boolean (可选) macOS mas - 在打包提交到Mac App Store时创建 security scoped bookmarks 当该选项被启用且文件尚不存在时，那么在选定的路径下将创建一个空文件。\n\n返回 Promise<Object> - resolve包含以下内容的object：\n\n * canceled Boolean - 对话框是否被取消。\n * filePath String (可选) - 如果对话框被取消，该值为 undefined。\n * bookmark String(optional) macOS mas - 包含了安全作用域的书签数据 Base64 编码的字符串来保存文件。 securityScopedBookmarks 必须启用才有效。 (返回值见 这里的表格。)\n\nbrowserWindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\nfilters 可以指定可显示文件的数组类型，详见 dialog.showOpenDialog 事例\n\n注意： 在macOS上，建议使用异步版本，以避免展开和折叠对话框时出现问题。\n\n\n# dialog.showMessageBoxSync([browserWindow, ]options)\n\n * browserWindow BrowserWindow (可选)\n * 选项 对象\n   * message String - message box 的内容.\n   * type String (可选) - 可以为 "none", "info", "error", "question" 或者 "warning". 在 Windows 上, "question" 与"info"显示相同的图标, 除非你使用了 "icon" 选项设置图标。 在 macOS 上, "warning" 和 "error" 显示相同的警告图标\n   * buttons String[] (可选) - 按钮文本数组。 在 Windows上，一个空数组将导致按钮被标为“OK”。\n   * defaultId Integer (可选) - 在 message box 对话框打开的时候，设置默认选中的按钮，值为在 buttons 数组中的索引.\n   * title String (可选) - message box 的标题，一些平台不显示.\n   * detail String (可选) - 额外信息.\n   * icon (NativeImage | String) (可选)\n   * textWidth Integer (optional) macOS - Custom width of the text in the message box.\n   * cancelId Integer (可选) - 用于取消对话框的按钮的索引，例如 Esc 键. 默认情况下，它被分配给第一个按钮，文字为 “cancel” 或 “no”。 如果不存在这个标签的按钮，同时该选项又未设置，返回值为0。\n   * noLink Boolean (可选) - 在Windows上，应用将尝试找出哪个 buttons 是常用按钮(例如 "Cancel" 或 "Yes")，然后在对话框中以链接命令的方式展现其它的按钮。 这可以使对话框以现代Windows应用程序的风格显示。 如果你不喜欢这个行为, 你可以设置 noLink 为 true.\n   * normalizeAccessKeys Boolean (可选) -规范跨平台的键盘访问键。 默认值为 false. 用 & 连接和转换键盘访问键, 以便它们在每个平台上正常工作.& 字符会在macOS上被删除，在 Linux 上会被转换为 _，在 Windows 上保持不变。 例如 Vie&w 的按钮标签在 Linux 上会被转换为 Vie_w，在 macOS 转换为 View 并且可以被选择。而Windows和Linux上表示 Alt-W 。\n\n返回 Integer - 点击的按钮的索引。\n\n显示一个消息框，它将阻塞进程直到消息框关闭。 它返回点击的按钮的索引。\n\nbrowserWindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。 如果 浏览器窗口 没有显示，则对话框不会附属于它。 在这种情况想，它将作为一个独立的窗口显示。\n\n\n# dialog.showMessageBox([browserWindow, ]options)\n\n * browserWindow BrowserWindow (可选)\n * 选项 对象\n   * message String - message box 的内容.\n   * type String (可选) - 可以为 "none", "info", "error", "question" 或者 "warning". 在 Windows 上, "question" 与"info"显示相同的图标, 除非你使用了 "icon" 选项设置图标。 在 macOS 上, "warning" 和 "error" 显示相同的警告图标\n   * buttons String[] (可选) - 按钮文本数组。 在 Windows上，一个空数组将导致按钮被标为“OK”。\n   * defaultId Integer (可选) - 在 message box 对话框打开的时候，设置默认选中的按钮，值为在 buttons 数组中的索引.\n   * signal AbortSignal (optional) - Pass an instance of AbortSignal to optionally close the message box, the message box will behave as if it was cancelled by the user. On macOS, signal does not work with message boxes that do not have a parent window, since those message boxes run synchronously due to platform limitations.\n   * title String (可选) - message box 的标题，一些平台不显示.\n   * detail String (可选) - 额外信息.\n   * checkboxLabel String (可选) - 如果使用了，消息框将包含带有给定标签的复选框。\n   * checkboxChecked Boolean (可选) - checkbox 的初始值。 默认值为 false\n   * icon NativeImage (可选)\n   * textWidth Integer (optional) macOS - Custom width of the text in the message box.\n   * cancelId Integer (可选) - 用于取消对话框的按钮的索引，例如 Esc 键. 默认情况下，它被分配给第一个按钮，文字为 “cancel” 或 “no”。 如果不存在这个标签的按钮，同时该选项又未设置，返回值为0。\n   * noLink Boolean (可选) - 在Windows上，应用将尝试找出哪个 buttons 是常用按钮(例如 "Cancel" 或 "Yes")，然后在对话框中以链接命令的方式展现其它的按钮。 这可以使对话框以现代Windows应用程序的风格显示。 如果你不喜欢这个行为, 你可以设置 noLink 为 true.\n   * normalizeAccessKeys Boolean (可选) -规范跨平台的键盘访问键。 默认值为 false. 用 & 连接和转换键盘访问键, 以便它们在每个平台上正常工作.& 字符会在macOS上被删除，在 Linux 上会被转换为 _，在 Windows 上保持不变。 例如 Vie&w 的按钮标签在 Linux 上会被转换为 Vie_w，在 macOS 转换为 View 并且可以被选择。而Windows和Linux上表示 Alt-W 。\n\n返回 Promise<Object> - resolve包含以下属性的promise：\n\n * response Number - 点击的按钮的索引。\n * checkboxChecked Boolean - 如果设置了 checkboxLabel，返回复选框是否被选中的状态。 否则，返回 false。\n\n显示一个消息框\n\nbrowserWindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\n\n# dialog.showErrorBox(title, content)\n\n * title String - 显示在错误框中的标题.\n * content String - 显示在错误框中的文本内容.\n\n显示一个显示错误消息的模态对话框。\n\n这个API可以在 app 模块触发 ready 事件之前被安全地调用，它通常用在启动时报告错误。 在 Linux 上, ready 事件之前调用这个API, 消息将被发送到stderr, 并且不会出现GUI对话框。\n\n\n# dialog.showCertificateTrustDialog([browserWindow, ]options) macOS Windows\n\n * browserWindow BrowserWindow (可选)\n * 选项 对象\n   * certificate Certificate - 信任/导入的证书\n   * message String - 要向用户显示的消息\n\n返回 Promise<void> - 当显示信任证书对话框时resolve。\n\n在macOS中, 将弹出一个用于展示消息与证书信息并向用户提供信任/导入证书的选项的模态对话框。 如果提供 browserWindow 参数, 则该对话框将附加到父窗口, 使其成模态框。\n\n在Windows中, 受限于Win32 API，可选项变得更为有限:\n\n * message 参数无效，因为操作系统提供了自身的确认对话框。\n * browserWindow 参数被忽略，因此无法成为模态对话框。\n\n\n# Bookmarks 数组\n\nshowOpenDialog、 showOpenDialogSync、 showSaveDialog和 showSaveDialogSync 将返回一个 bookmarks 数组。\n\n构建类型        SECURITYSCOPEDBOOKMARKS BOOLEAN   返回类型    返回值\nmacOS mas   True                              成功      [\'LONGBOOKMARKSTRING\']\nmacOS mas   True                              Error   [\'\'] (空字符串数组)\nmacOS mas   False                             NA      [] (空数组)\nnon mas     any                               NA      [] (空数组)\n\n\n# 工作表\n\n在MaCOS中，如果在<0>browserWindow</0>的参数中提供<0>BrowerWindow</0>这一参数，或者在非<0>browserWindow</0>中未提供<0>modals</0>参数，则将对附加到<0>window</0>中的<0>sheet</0>的形式呈现。\n\n您可以调用 BrowserWindow.getCurrentWindow().setSheetOffset(offset) 来更改附加工作表的窗口框架的偏移量。',normalizedContent:'# dialog\n\n> 显示用于打开和保存文件、警报等的本机系统对话框。\n\n进程：主进程\n\n下面是一个选择多个文件的对话框示例：\n\nconst { dialog } = require(\'electron\')\nconsole.log(dialog.showopendialog({ properties: [\'openfile\', \'multiselections\'] }))\n\n\n1\n2\n\n\n\n# 方法\n\ndialog 模块具有以下方法:\n\n\n# dialog.showopendialogsync([browserwindow, ]options)\n\n * browserwindow browserwindow (可选)\n * 选项 对象\n   * title string (可选) - 对话框窗口的标题\n   * defaultpath string (可选) - 对话框的默认展示路径\n   * buttonlabel string (可选) - 「确认」按钮的自定义标签, 当为空时, 将使用默认标签。\n   * filters filefilter[] (可选)\n   * properties string[] (可选) - 包含对话框相关属性。 支持以下属性值:\n     * openfile - 允许选择文件\n     * opendirectory - 允许选择文件夹\n     * multiselections-允许多选。\n     * showhiddenfiles-显示对话框中的隐藏文件。\n     * createdirectory macos -允许你通过对话框的形式创建新的目录。\n     * prompttocreate windows-如果输入的文件路径在对话框中不存在, 则提示创建。 这并不是真的在路径上创建一个文件，而是允许返回一些不存在的地址交由应用程序去创建。\n     * noresolvealiases macos-禁用自动的别名路径(符号链接) 解析。 所选别名现在将会返回别名路径而非其目标路径。\n     * treatpackageasdirectory_ macos _-将包 (如 .app 文件夹) 视为目录而不是文件。\n     * dontaddtorecent windows - 不要将正在打开的项目添加到最近的文档列表中。\n   * message string (可选) _ macos _-显示在输入框上方的消息。\n   * securityscopedbookmarks boolean (可选) macos mas - 在打包提交到mac app store时创建 security scoped bookmarks\n\n返回 string[] | undefined, 用户选择的文件路径，如果对话框被取消了 ，则返回undefined。\n\nbrowserwindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\nfilters 指定一个文件类型数组，用于规定用户可见或可选的特定类型范围。 例如：\n\n{\n  filters: [\n    { name: \'images\', extensions: [\'jpg\', \'png\', \'gif\'] },\n    { name: \'movies\', extensions: [\'mkv\', \'avi\', \'mp4\'] },\n    { name: \'custom file type\', extensions: [\'as\'] },\n    { name: \'all files\', extensions: [\'*\'] }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nextensions 数组应为没有通配符或点的扩展名 (例如, "png" 是正确的, 而 ".png" 和 *. png " 就是错误的)。 若要显示所有文件, 请使用 "*" 通配符 (不支持其他通配符)。\n\n** 注意: **在 windows 和 linux 上, 打开对话框不能同时是文件选择器和目录选择器, 因此如果在这些平台上将 properties 设置为["openfile"、"opendirectory"], 则将显示为目录选择器。\n\ndialog.showopendialogsync(mainwindow, {\n  properties: [\'openfile\', \'opendirectory\']\n})\n\n\n1\n2\n3\n\n\n\n# dialog.showopendialog([browserwindow, ]options)\n\n * browserwindow browserwindow (可选)\n * 选项 对象\n   * title string (可选) - 对话框窗口的标题\n   * defaultpath string (可选) - 对话框的默认展示路径\n   * buttonlabel string (可选) - 「确认」按钮的自定义标签, 当为空时, 将使用默认标签。\n   * filters filefilter[] (可选)\n   * properties string[] (可选) - 包含对话框相关属性。 支持以下属性值:\n     * openfile - 允许选择文件\n     * opendirectory - 允许选择文件夹\n     * multiselections-允许多选。\n     * showhiddenfiles-显示对话框中的隐藏文件。\n     * createdirectory macos -允许你通过对话框的形式创建新的目录。\n     * prompttocreate windows-如果输入的文件路径在对话框中不存在, 则提示创建。 这并不是真的在路径上创建一个文件，而是允许返回一些不存在的地址交由应用程序去创建。\n     * noresolvealiases macos-禁用自动的别名路径(符号链接) 解析。 所选别名现在将会返回别名路径而非其目标路径。\n     * treatpackageasdirectory_ macos _-将包 (如 .app 文件夹) 视为目录而不是文件。\n     * dontaddtorecent windows - 不要将正在打开的项目添加到最近的文档列表中。\n   * message string (可选) _ macos _-显示在输入框上方的消息。\n   * securityscopedbookmarks boolean (可选) macos mas - 在打包提交到mac app store时创建 security scoped bookmarks\n\n返回 promise<object> - resolve包含以下内容的object：\n\n * canceled boolean - 对话框是否被取消。\n * filepaths string[] - 用户选择的文件路径的数组. 如果对话框被取消，这将是一个空的数组。\n * bookmarks string[] (optional) macos mas - 一个数组， filepaths 数组，base64编码字符串包含安全范围书签数据。 securityscopedbookmarks 必须启用才能捕获数据。 (返回值见 这里的表格。)\n\nbrowserwindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\nfilters 指定一个文件类型数组，用于规定用户可见或可选的特定类型范围。 例如：\n\n{\n  filters: [\n    { name: \'images\', extensions: [\'jpg\', \'png\', \'gif\'] },\n    { name: \'movies\', extensions: [\'mkv\', \'avi\', \'mp4\'] },\n    { name: \'custom file type\', extensions: [\'as\'] },\n    { name: \'all files\', extensions: [\'*\'] }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nextensions 数组应为没有通配符或点的扩展名 (例如, "png" 是正确的, 而 ".png" 和 *. png " 就是错误的)。 若要显示所有文件, 请使用 "*" 通配符 (不支持其他通配符)。\n\n** 注意: **在 windows 和 linux 上, 打开对话框不能同时是文件选择器和目录选择器, 因此如果在这些平台上将 properties 设置为["openfile"、"opendirectory"], 则将显示为目录选择器。\n\ndialog.showopendialog(mainwindow, {\n  properties: [\'openfile\', \'opendirectory\']\n}).then(result => {\n  console.log(result.canceled)\n  console.log(result.filepaths)\n}).catch(err => {\n  console.log(err)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# dialog.showsavedialogsync([browserwindow, ]options)\n\n * browserwindow browserwindow (可选)\n * 选项 对象\n   * title string (可选) - 对话框标题。 无法在一些 linux 桌面环境中显示。\n   * defaultpath string (可选) - 默认情况下使用的绝对目录路径、绝对文件路径或文件名。\n   * buttonlabel string (可选) - 「确认」按钮的自定义标签, 当为空时, 将使用默认标签。\n   * filters filefilter[] (可选)\n   * message string (可选) _ macos _-显示在对话框上的消息。\n   * namefieldlabel string (可选) _ macos _ - 文件名输入框对应的自定义标签名。\n   * showstagfield boolean (可选) _ macos _-显示标记输入框, 默认为 true。\n   * properties string[] (可选)\n     * showhiddenfiles-显示对话框中的隐藏文件。\n     * createdirectory macos -允许你通过对话框的形式创建新的目录。\n     * treatpackageasdirectory_ macos _-将包 (如 .app 文件夹) 视为目录而不是文件。\n     * showoverwriteconfirmation linux - 设置如果用户输入了已存在的文件名，是否会向用户显示确认对话框。\n     * dontaddtorecent windows - 不要将正在保存的项目添加到最近的文档列表中。\n   * securityscopedbookmarks boolean (可选) macos mas - 在打包提交到mac app store时创建 security scoped bookmarks 当该选项被启用且文件尚不存在时，那么在选定的路径下将创建一个空文件。\n\n返回 string | undefined, 用户选择的文件路径，如果对话框被取消了 ，则返回undefined。\n\nbrowserwindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\nfilters 可以指定可显示文件的数组类型，详见 dialog.showopendialog 事例\n\n\n# dialog.showsavedialog([browserwindow, ]options)\n\n * browserwindow browserwindow (可选)\n * 选项 对象\n   * title string (可选) - 对话框标题。 无法在一些 linux 桌面环境中显示。\n   * defaultpath string (可选) - 默认情况下使用的绝对目录路径、绝对文件路径或文件名。\n   * buttonlabel string (可选) - 「确认」按钮的自定义标签, 当为空时, 将使用默认标签。\n   * filters filefilter[] (可选)\n   * message string (可选) _ macos _-显示在对话框上的消息。\n   * namefieldlabel string (可选) _ macos _ - 文件名输入框对应的自定义标签名。\n   * showstagfield boolean (可选) macos - 显示标签输入框，默认为 true。\n   * properties string[] (可选)\n     * showhiddenfiles-显示对话框中的隐藏文件。\n     * createdirectory macos -允许你通过对话框的形式创建新的目录。\n     * treatpackageasdirectory_ macos _-将包 (如 .app 文件夹) 视为目录而不是文件。\n     * showoverwriteconfirmation linux - 设置如果用户输入了已存在的文件名，是否会向用户显示确认对话框。\n     * dontaddtorecent windows - 不要将正在保存的项目添加到最近的文档列表中。\n   * securityscopedbookmarks boolean (可选) macos mas - 在打包提交到mac app store时创建 security scoped bookmarks 当该选项被启用且文件尚不存在时，那么在选定的路径下将创建一个空文件。\n\n返回 promise<object> - resolve包含以下内容的object：\n\n * canceled boolean - 对话框是否被取消。\n * filepath string (可选) - 如果对话框被取消，该值为 undefined。\n * bookmark string(optional) macos mas - 包含了安全作用域的书签数据 base64 编码的字符串来保存文件。 securityscopedbookmarks 必须启用才有效。 (返回值见 这里的表格。)\n\nbrowserwindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\nfilters 可以指定可显示文件的数组类型，详见 dialog.showopendialog 事例\n\n注意： 在macos上，建议使用异步版本，以避免展开和折叠对话框时出现问题。\n\n\n# dialog.showmessageboxsync([browserwindow, ]options)\n\n * browserwindow browserwindow (可选)\n * 选项 对象\n   * message string - message box 的内容.\n   * type string (可选) - 可以为 "none", "info", "error", "question" 或者 "warning". 在 windows 上, "question" 与"info"显示相同的图标, 除非你使用了 "icon" 选项设置图标。 在 macos 上, "warning" 和 "error" 显示相同的警告图标\n   * buttons string[] (可选) - 按钮文本数组。 在 windows上，一个空数组将导致按钮被标为“ok”。\n   * defaultid integer (可选) - 在 message box 对话框打开的时候，设置默认选中的按钮，值为在 buttons 数组中的索引.\n   * title string (可选) - message box 的标题，一些平台不显示.\n   * detail string (可选) - 额外信息.\n   * icon (nativeimage | string) (可选)\n   * textwidth integer (optional) macos - custom width of the text in the message box.\n   * cancelid integer (可选) - 用于取消对话框的按钮的索引，例如 esc 键. 默认情况下，它被分配给第一个按钮，文字为 “cancel” 或 “no”。 如果不存在这个标签的按钮，同时该选项又未设置，返回值为0。\n   * nolink boolean (可选) - 在windows上，应用将尝试找出哪个 buttons 是常用按钮(例如 "cancel" 或 "yes")，然后在对话框中以链接命令的方式展现其它的按钮。 这可以使对话框以现代windows应用程序的风格显示。 如果你不喜欢这个行为, 你可以设置 nolink 为 true.\n   * normalizeaccesskeys boolean (可选) -规范跨平台的键盘访问键。 默认值为 false. 用 & 连接和转换键盘访问键, 以便它们在每个平台上正常工作.& 字符会在macos上被删除，在 linux 上会被转换为 _，在 windows 上保持不变。 例如 vie&w 的按钮标签在 linux 上会被转换为 vie_w，在 macos 转换为 view 并且可以被选择。而windows和linux上表示 alt-w 。\n\n返回 integer - 点击的按钮的索引。\n\n显示一个消息框，它将阻塞进程直到消息框关闭。 它返回点击的按钮的索引。\n\nbrowserwindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。 如果 浏览器窗口 没有显示，则对话框不会附属于它。 在这种情况想，它将作为一个独立的窗口显示。\n\n\n# dialog.showmessagebox([browserwindow, ]options)\n\n * browserwindow browserwindow (可选)\n * 选项 对象\n   * message string - message box 的内容.\n   * type string (可选) - 可以为 "none", "info", "error", "question" 或者 "warning". 在 windows 上, "question" 与"info"显示相同的图标, 除非你使用了 "icon" 选项设置图标。 在 macos 上, "warning" 和 "error" 显示相同的警告图标\n   * buttons string[] (可选) - 按钮文本数组。 在 windows上，一个空数组将导致按钮被标为“ok”。\n   * defaultid integer (可选) - 在 message box 对话框打开的时候，设置默认选中的按钮，值为在 buttons 数组中的索引.\n   * signal abortsignal (optional) - pass an instance of abortsignal to optionally close the message box, the message box will behave as if it was cancelled by the user. on macos, signal does not work with message boxes that do not have a parent window, since those message boxes run synchronously due to platform limitations.\n   * title string (可选) - message box 的标题，一些平台不显示.\n   * detail string (可选) - 额外信息.\n   * checkboxlabel string (可选) - 如果使用了，消息框将包含带有给定标签的复选框。\n   * checkboxchecked boolean (可选) - checkbox 的初始值。 默认值为 false\n   * icon nativeimage (可选)\n   * textwidth integer (optional) macos - custom width of the text in the message box.\n   * cancelid integer (可选) - 用于取消对话框的按钮的索引，例如 esc 键. 默认情况下，它被分配给第一个按钮，文字为 “cancel” 或 “no”。 如果不存在这个标签的按钮，同时该选项又未设置，返回值为0。\n   * nolink boolean (可选) - 在windows上，应用将尝试找出哪个 buttons 是常用按钮(例如 "cancel" 或 "yes")，然后在对话框中以链接命令的方式展现其它的按钮。 这可以使对话框以现代windows应用程序的风格显示。 如果你不喜欢这个行为, 你可以设置 nolink 为 true.\n   * normalizeaccesskeys boolean (可选) -规范跨平台的键盘访问键。 默认值为 false. 用 & 连接和转换键盘访问键, 以便它们在每个平台上正常工作.& 字符会在macos上被删除，在 linux 上会被转换为 _，在 windows 上保持不变。 例如 vie&w 的按钮标签在 linux 上会被转换为 vie_w，在 macos 转换为 view 并且可以被选择。而windows和linux上表示 alt-w 。\n\n返回 promise<object> - resolve包含以下属性的promise：\n\n * response number - 点击的按钮的索引。\n * checkboxchecked boolean - 如果设置了 checkboxlabel，返回复选框是否被选中的状态。 否则，返回 false。\n\n显示一个消息框\n\nbrowserwindow 参数允许该对话框将自身附加到父窗口, 作为父窗口的模态框。\n\n\n# dialog.showerrorbox(title, content)\n\n * title string - 显示在错误框中的标题.\n * content string - 显示在错误框中的文本内容.\n\n显示一个显示错误消息的模态对话框。\n\n这个api可以在 app 模块触发 ready 事件之前被安全地调用，它通常用在启动时报告错误。 在 linux 上, ready 事件之前调用这个api, 消息将被发送到stderr, 并且不会出现gui对话框。\n\n\n# dialog.showcertificatetrustdialog([browserwindow, ]options) macos windows\n\n * browserwindow browserwindow (可选)\n * 选项 对象\n   * certificate certificate - 信任/导入的证书\n   * message string - 要向用户显示的消息\n\n返回 promise<void> - 当显示信任证书对话框时resolve。\n\n在macos中, 将弹出一个用于展示消息与证书信息并向用户提供信任/导入证书的选项的模态对话框。 如果提供 browserwindow 参数, 则该对话框将附加到父窗口, 使其成模态框。\n\n在windows中, 受限于win32 api，可选项变得更为有限:\n\n * message 参数无效，因为操作系统提供了自身的确认对话框。\n * browserwindow 参数被忽略，因此无法成为模态对话框。\n\n\n# bookmarks 数组\n\nshowopendialog、 showopendialogsync、 showsavedialog和 showsavedialogsync 将返回一个 bookmarks 数组。\n\n构建类型        securityscopedbookmarks boolean   返回类型    返回值\nmacos mas   true                              成功      [\'longbookmarkstring\']\nmacos mas   true                              error   [\'\'] (空字符串数组)\nmacos mas   false                             na      [] (空数组)\nnon mas     any                               na      [] (空数组)\n\n\n# 工作表\n\n在macos中，如果在<0>browserwindow</0>的参数中提供<0>browerwindow</0>这一参数，或者在非<0>browserwindow</0>中未提供<0>modals</0>参数，则将对附加到<0>window</0>中的<0>sheet</0>的形式呈现。\n\n您可以调用 browserwindow.getcurrentwindow().setsheetoffset(offset) 来更改附加工作表的窗口框架的偏移量。',charsets:{cjk:!0}},{title:"download-item",frontmatter:{title:"download-item",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/7a1355/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/download-item.html",relativePath:"《Electron中文文档》/api/download-item.md",key:"v-35125e6c",path:"/pages/7a1355/",headers:[{level:2,title:"类：downloadItem",slug:"类-downloaditem",normalizedTitle:"类：downloaditem",charIndex:2},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:1128},{level:4,title:"事件名: 'updated'",slug:"事件名-updated",normalizedTitle:"事件名: 'updated'",charIndex:1136},{level:4,title:"事件名: 'done'",slug:"事件名-done",normalizedTitle:"事件名: 'done'",charIndex:1311},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:1558},{level:4,title:"downloadItem.setSavePath(path)",slug:"downloaditem-setsavepath-path",normalizedTitle:"downloaditem.setsavepath(path)",charIndex:1590},{level:4,title:"downloadItem.getSavePath()",slug:"downloaditem-getsavepath",normalizedTitle:"downloaditem.getsavepath()",charIndex:1775},{level:4,title:"downloadItem.setSaveDialogOptions(options)",slug:"downloaditem-setsavedialogoptions-options",normalizedTitle:"downloaditem.setsavedialogoptions(options)",charIndex:1887},{level:4,title:"downloadItem.getSaveDialogOptions()",slug:"downloaditem-getsavedialogoptions",normalizedTitle:"downloaditem.getsavedialogoptions()",charIndex:2092},{level:4,title:"downloadItem.pause()",slug:"downloaditem-pause",normalizedTitle:"downloaditem.pause()",charIndex:2212},{level:4,title:"downloadItem.isPaused()",slug:"downloaditem-ispaused",normalizedTitle:"downloaditem.ispaused()",charIndex:2243},{level:4,title:"downloadItem.resume()",slug:"downloaditem-resume",normalizedTitle:"downloaditem.resume()",charIndex:2321},{level:4,title:"downloadItem.canResume()",slug:"downloaditem-canresume",normalizedTitle:"downloaditem.canresume()",charIndex:2487},{level:4,title:"downloadItem.cancel()",slug:"downloaditem-cancel",normalizedTitle:"downloaditem.cancel()",charIndex:1432},{level:4,title:"downloadItem.getURL()",slug:"downloaditem-geturl",normalizedTitle:"downloaditem.geturl()",charIndex:2572},{level:4,title:"downloadItem.getMimeType()",slug:"downloaditem-getmimetype",normalizedTitle:"downloaditem.getmimetype()",charIndex:2619},{level:4,title:"downloadItem.hasUserGesture()",slug:"downloaditem-hasusergesture",normalizedTitle:"downloaditem.hasusergesture()",charIndex:2672},{level:4,title:"downloadItem.getFilename()",slug:"downloaditem-getfilename",normalizedTitle:"downloaditem.getfilename()",charIndex:2730},{level:4,title:"downloadItem.getTotalBytes()",slug:"downloaditem-gettotalbytes",normalizedTitle:"downloaditem.gettotalbytes()",charIndex:2852},{level:4,title:"downloadItem.getReceivedBytes()",slug:"downloaditem-getreceivedbytes",normalizedTitle:"downloaditem.getreceivedbytes()",charIndex:2929},{level:4,title:"downloadItem.getContentDisposition()",slug:"downloaditem-getcontentdisposition",normalizedTitle:"downloaditem.getcontentdisposition()",charIndex:2988},{level:4,title:"downloadItem.getState()",slug:"downloaditem-getstate",normalizedTitle:"downloaditem.getstate()",charIndex:3068},{level:4,title:"downloadItem.getURLChain()",slug:"downloaditem-geturlchain",normalizedTitle:"downloaditem.geturlchain()",charIndex:3202},{level:4,title:"downloadItem.getLastModifiedTime()",slug:"downloaditem-getlastmodifiedtime",normalizedTitle:"downloaditem.getlastmodifiedtime()",charIndex:3266},{level:4,title:"downloadItem.getETag()",slug:"downloaditem-getetag",normalizedTitle:"downloaditem.getetag()",charIndex:3333},{level:4,title:"downloadItem.getStartTime()",slug:"downloaditem-getstarttime",normalizedTitle:"downloaditem.getstarttime()",charIndex:3379},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:3443},{level:4,title:"downloadItem.savePath",slug:"downloaditem-savepath",normalizedTitle:"downloaditem.savepath",charIndex:3451}],headersStr:"类：downloadItem 实例事件 事件名: 'updated' 事件名: 'done' 实例方法 downloadItem.setSavePath(path) downloadItem.getSavePath() downloadItem.setSaveDialogOptions(options) downloadItem.getSaveDialogOptions() downloadItem.pause() downloadItem.isPaused() downloadItem.resume() downloadItem.canResume() downloadItem.cancel() downloadItem.getURL() downloadItem.getMimeType() downloadItem.hasUserGesture() downloadItem.getFilename() downloadItem.getTotalBytes() downloadItem.getReceivedBytes() downloadItem.getContentDisposition() downloadItem.getState() downloadItem.getURLChain() downloadItem.getLastModifiedTime() downloadItem.getETag() downloadItem.getStartTime() 实例属性 downloadItem.savePath",content:"# 类：downloadItem\n\n> 控制来自于远程资源的文件下载。\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\nDownloadItem 是一个 EventEmitter 事件触发器，在Electron中代表一个下载项。 它用于will-download事件以及Session类，并且允许用户控制下载项目。\n\n// 在主进程中.\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow()\nwin.webContents.session.on('will-download', (event, item, webContents) => {\n  // 无需对话框提示， 直接将文件保存到路径\n  item.setSavePath('/tmp/save.pdf')\n\n  item.on('updated', (event, state) => {\n    if (state === 'interrupted') {\n      console.log('Download is interrupted but can be resumed')\n    } else if (state === 'progressing') {\n      if (item.isPaused()) {\n        console.log('Download is paused')\n      } else {\n        console.log(`Received bytes: ${item.getReceivedBytes()}`)\n      }\n    }\n  })\n  item.once('done', (event, state) => {\n    if (state === 'completed') {\n      console.log('Download successfully')\n    } else {\n      console.log(`Download failed: ${state}`)\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 实例事件\n\n# 事件名: 'updated'\n\n返回:\n\n * event Event\n * state String - 可以是 progressing 或 interrupted.\n\n当下载正在执行但还没完成的时候发出。\n\n状态可以是以下之一：\n\n * progressing - 下载正在进行中\n * interrupted - 下载已经中断，可以恢复\n\n# 事件名: 'done'\n\n返回:\n\n * event Event\n * state String - 可以是 completed, cancelled 或 interrupted.\n\n当下载处于终止态时触发。 包括下载完成，取消下载 (通过 downloadItem.cancel())，以及无法恢复的中断下载。\n\n状态可以是以下之一：\n\n * completed - 下载成功完成\n * cancelled - 下载已被取消\n * interrupted - 下载已经中断，无法恢复\n\n\n# 实例方法\n\ndownloadItem 对象具有以下方法：\n\n# downloadItem.setSavePath(path)\n\n * path String - 设置下载项目的保存文件路径。\n\n该API仅能在will-download 方法的回调中使用。 如果 path 不存在，Electron 将尝试递归创建目录。 如果用户没有通过这个API设置保存路径，Electron 将使用默认方式决定保存路径；通常弹出保存对话框。\n\n# downloadItem.getSavePath()\n\n返回String - 下载项的保存路径。 该值为通过 downloadItem.setSavePath(path) 设置的路径或通过显示的保存对话框选择的路径。\n\n# downloadItem.setSaveDialogOptions(options)\n\n * options SaveDialogOptions - 设置保存文件对话框选项。 这个对象与 dialog.showSaveDialog() 的 options 参数有相同属性。\n\n此 API 允许用户为下载项默认打开的保存对话框设置自定义选项。 该API仅能在will-download 方法的回调中使用。\n\n# downloadItem.getSaveDialogOptions()\n\n返回 SaveDialogOptions - 返回之前通过 downloadItem.setSaveDialogOptions(options) 设置的对象。\n\n# downloadItem.pause()\n\n暂停下载。\n\n# downloadItem.isPaused()\n\nReturns Boolean - Whether the download is paused.\n\n# downloadItem.resume()\n\nResumes the download that has been paused.\n\n注意： 为了支持断点续传，必须要从支持范围请求的服务器下载，并且提供Last-Modified 和 ETag的头部值。 否则，resume() 将关闭以前接收到的字节并从头开始重新开始下载。\n\n# downloadItem.canResume()\n\n返回Boolean - 下载是否可以恢复。\n\n# downloadItem.cancel()\n\n取消下载操作。\n\n# downloadItem.getURL()\n\n返回String - 下载项的源URL。\n\n# downloadItem.getMimeType()\n\n返回String - MIME类型的文件。\n\n# downloadItem.hasUserGesture()\n\n返回Boolean - 下载是否具有用户手势。\n\n# downloadItem.getFilename()\n\n返回String - 下载项目的文件名。\n\n注意： 文件名并不总是和实际保存到本地磁盘中的文件名相同。 如果用户在提示的下载保存对话框中更改文件名称，保存的文件的实际名称将会不同。\n\n# downloadItem.getTotalBytes()\n\n返回Integer - 下载项目的总大小（以字节为单位）。\n\n如果大小未知，则返回0。\n\n# downloadItem.getReceivedBytes()\n\n返回Integer - 下载项目的接收字节。\n\n# downloadItem.getContentDisposition()\n\n返回String - 响应头中的Content-Disposition字段。\n\n# downloadItem.getState()\n\n返回 String - 当前状态。 可以是 progressing、 completed、 cancelled 或 interrupted。\n\n注意： 以下方法尤其对于当会话重启后恢复 取消了的 项目非常有用。\n\n# downloadItem.getURLChain()\n\n返回 String[] - 项目的完整URL链，包括任何重定向。\n\n# downloadItem.getLastModifiedTime()\n\n返回String - Last-Modified的值。\n\n# downloadItem.getETag()\n\n返回String - ETag的值。\n\n# downloadItem.getStartTime()\n\n返回Double - 自下载开始时的UNIX纪元以来的秒数。\n\n\n# 实例属性\n\n# downloadItem.savePath\n\n一个 String 属性，决定了下载项的保存文件路径。\n\n该属性仅在会话的 will-download 回调函数中可用。 如果用户未通过属性设置保存路径，Electron将使用默认方式决定保存路径；通常为弹出保存对话框。",normalizedContent:"# 类：downloaditem\n\n> 控制来自于远程资源的文件下载。\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\ndownloaditem 是一个 eventemitter 事件触发器，在electron中代表一个下载项。 它用于will-download事件以及session类，并且允许用户控制下载项目。\n\n// 在主进程中.\nconst { browserwindow } = require('electron')\nconst win = new browserwindow()\nwin.webcontents.session.on('will-download', (event, item, webcontents) => {\n  // 无需对话框提示， 直接将文件保存到路径\n  item.setsavepath('/tmp/save.pdf')\n\n  item.on('updated', (event, state) => {\n    if (state === 'interrupted') {\n      console.log('download is interrupted but can be resumed')\n    } else if (state === 'progressing') {\n      if (item.ispaused()) {\n        console.log('download is paused')\n      } else {\n        console.log(`received bytes: ${item.getreceivedbytes()}`)\n      }\n    }\n  })\n  item.once('done', (event, state) => {\n    if (state === 'completed') {\n      console.log('download successfully')\n    } else {\n      console.log(`download failed: ${state}`)\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 实例事件\n\n# 事件名: 'updated'\n\n返回:\n\n * event event\n * state string - 可以是 progressing 或 interrupted.\n\n当下载正在执行但还没完成的时候发出。\n\n状态可以是以下之一：\n\n * progressing - 下载正在进行中\n * interrupted - 下载已经中断，可以恢复\n\n# 事件名: 'done'\n\n返回:\n\n * event event\n * state string - 可以是 completed, cancelled 或 interrupted.\n\n当下载处于终止态时触发。 包括下载完成，取消下载 (通过 downloaditem.cancel())，以及无法恢复的中断下载。\n\n状态可以是以下之一：\n\n * completed - 下载成功完成\n * cancelled - 下载已被取消\n * interrupted - 下载已经中断，无法恢复\n\n\n# 实例方法\n\ndownloaditem 对象具有以下方法：\n\n# downloaditem.setsavepath(path)\n\n * path string - 设置下载项目的保存文件路径。\n\n该api仅能在will-download 方法的回调中使用。 如果 path 不存在，electron 将尝试递归创建目录。 如果用户没有通过这个api设置保存路径，electron 将使用默认方式决定保存路径；通常弹出保存对话框。\n\n# downloaditem.getsavepath()\n\n返回string - 下载项的保存路径。 该值为通过 downloaditem.setsavepath(path) 设置的路径或通过显示的保存对话框选择的路径。\n\n# downloaditem.setsavedialogoptions(options)\n\n * options savedialogoptions - 设置保存文件对话框选项。 这个对象与 dialog.showsavedialog() 的 options 参数有相同属性。\n\n此 api 允许用户为下载项默认打开的保存对话框设置自定义选项。 该api仅能在will-download 方法的回调中使用。\n\n# downloaditem.getsavedialogoptions()\n\n返回 savedialogoptions - 返回之前通过 downloaditem.setsavedialogoptions(options) 设置的对象。\n\n# downloaditem.pause()\n\n暂停下载。\n\n# downloaditem.ispaused()\n\nreturns boolean - whether the download is paused.\n\n# downloaditem.resume()\n\nresumes the download that has been paused.\n\n注意： 为了支持断点续传，必须要从支持范围请求的服务器下载，并且提供last-modified 和 etag的头部值。 否则，resume() 将关闭以前接收到的字节并从头开始重新开始下载。\n\n# downloaditem.canresume()\n\n返回boolean - 下载是否可以恢复。\n\n# downloaditem.cancel()\n\n取消下载操作。\n\n# downloaditem.geturl()\n\n返回string - 下载项的源url。\n\n# downloaditem.getmimetype()\n\n返回string - mime类型的文件。\n\n# downloaditem.hasusergesture()\n\n返回boolean - 下载是否具有用户手势。\n\n# downloaditem.getfilename()\n\n返回string - 下载项目的文件名。\n\n注意： 文件名并不总是和实际保存到本地磁盘中的文件名相同。 如果用户在提示的下载保存对话框中更改文件名称，保存的文件的实际名称将会不同。\n\n# downloaditem.gettotalbytes()\n\n返回integer - 下载项目的总大小（以字节为单位）。\n\n如果大小未知，则返回0。\n\n# downloaditem.getreceivedbytes()\n\n返回integer - 下载项目的接收字节。\n\n# downloaditem.getcontentdisposition()\n\n返回string - 响应头中的content-disposition字段。\n\n# downloaditem.getstate()\n\n返回 string - 当前状态。 可以是 progressing、 completed、 cancelled 或 interrupted。\n\n注意： 以下方法尤其对于当会话重启后恢复 取消了的 项目非常有用。\n\n# downloaditem.geturlchain()\n\n返回 string[] - 项目的完整url链，包括任何重定向。\n\n# downloaditem.getlastmodifiedtime()\n\n返回string - last-modified的值。\n\n# downloaditem.getetag()\n\n返回string - etag的值。\n\n# downloaditem.getstarttime()\n\n返回double - 自下载开始时的unix纪元以来的秒数。\n\n\n# 实例属性\n\n# downloaditem.savepath\n\n一个 string 属性，决定了下载项的保存文件路径。\n\n该属性仅在会话的 will-download 回调函数中可用。 如果用户未通过属性设置保存路径，electron将使用默认方式决定保存路径；通常为弹出保存对话框。",charsets:{cjk:!0}},{title:"environment-variables",frontmatter:{title:"environment-variables",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/ce4875/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/environment-variables.html",relativePath:"《Electron中文文档》/api/environment-variables.md",key:"v-63be3680",path:"/pages/ce4875/",headers:[{level:2,title:"生产环境相关变量",slug:"生产环境相关变量",normalizedTitle:"生产环境相关变量",charIndex:229},{level:3,title:"NODE_OPTIONS",slug:"node-options",normalizedTitle:"node_options",charIndex:275},{level:3,title:"GOOGLE_API_KEY",slug:"google-api-key",normalizedTitle:"google_api_key",charIndex:635},{level:3,title:"ELECTRON_NO_ASAR",slug:"electron-no-asar",normalizedTitle:"electron_no_asar",charIndex:934},{level:3,title:"ELECTRON_RUN_AS_NODE",slug:"electron-run-as-node",normalizedTitle:"electron_run_as_node",charIndex:972},{level:3,title:"ELECTRON_NO_ATTACH_CONSOLE Windows",slug:"electron-no-attach-console-windows",normalizedTitle:"electron_no_attach_console windows",charIndex:1307},{level:3,title:"ELECTRON_FORCE_WINDOW_MENU_BAR  Linux",slug:"electron-force-window-menu-bar-linux",normalizedTitle:"electron_force_window_menu_bar  linux",charIndex:null},{level:3,title:"ELECTRON_TRASH Linux",slug:"electron-trash-linux",normalizedTitle:"electron_trash linux",charIndex:1423},{level:2,title:"开发环境相关变量",slug:"开发环境相关变量",normalizedTitle:"开发环境相关变量",charIndex:1538},{level:3,title:"ELECTRON_ENABLE_LOGGING",slug:"electron-enable-logging",normalizedTitle:"electron_enable_logging",charIndex:108},{level:3,title:"ELECTRON_LOG_FILE",slug:"electron-log-file",normalizedTitle:"electron_log_file",charIndex:1797},{level:3,title:"ELECTRON_DEBUG_DRAG_REGIONS",slug:"electron-debug-drag-regions",normalizedTitle:"electron_debug_drag_regions",charIndex:2013},{level:3,title:"ELECTRON_DEBUG_NOTIFICATIONS",slug:"electron-debug-notifications",normalizedTitle:"electron_debug_notifications",charIndex:2109},{level:3,title:"ELECTRON_LOG_ASAR_READS",slug:"electron-log-asar-reads",normalizedTitle:"electron_log_asar_reads",charIndex:2731},{level:3,title:"ELECTRON_ENABLE_STACK_DUMPING",slug:"electron-enable-stack-dumping",normalizedTitle:"electron_enable_stack_dumping",charIndex:2846},{level:3,title:"ELECTRON_DEFAULT_ERROR_MODE  Windows",slug:"electron-default-error-mode-windows",normalizedTitle:"electron_default_error_mode  windows",charIndex:null},{level:3,title:"ELECTRON_OVERRIDE_DIST_PATH",slug:"electron-override-dist-path",normalizedTitle:"electron_override_dist_path",charIndex:3057},{level:2,title:"通过 Electron 设置",slug:"通过-electron-设置",normalizedTitle:"通过 electron 设置",charIndex:3252},{level:3,title:"ORIGINAL_XDG_CURRENT_DESKTOP",slug:"original-xdg-current-desktop",normalizedTitle:"original_xdg_current_desktop",charIndex:3293}],headersStr:"生产环境相关变量 NODE_OPTIONS GOOGLE_API_KEY ELECTRON_NO_ASAR ELECTRON_RUN_AS_NODE ELECTRON_NO_ATTACH_CONSOLE Windows ELECTRON_FORCE_WINDOW_MENU_BAR  Linux ELECTRON_TRASH Linux 开发环境相关变量 ELECTRON_ENABLE_LOGGING ELECTRON_LOG_FILE ELECTRON_DEBUG_DRAG_REGIONS ELECTRON_DEBUG_NOTIFICATIONS ELECTRON_LOG_ASAR_READS ELECTRON_ENABLE_STACK_DUMPING ELECTRON_DEFAULT_ERROR_MODE  Windows ELECTRON_OVERRIDE_DIST_PATH 通过 Electron 设置 ORIGINAL_XDG_CURRENT_DESKTOP",content:'# 环境变量\n\n> 在不更改代码的情况下控制应用程序配置和行为。\n\nElectron的某些行为受环境变量的控制, 因为它们比命令行标志和应用程序的代码更早初始化。\n\nPOSIX shell示例:\n\n$ export ELECTRON_ENABLE_LOGGING=true\n$ electron\n\n\n1\n2\n\n\nWindows 控制台示例:\n\n> set ELECTRON_ENABLE_LOGGING=true\n> electron\n\n\n1\n2\n\n\n\n# 生产环境相关变量\n\n以下环境变量主要用于在打包后的Electron应用运行时使用。\n\n\n# NODE_OPTIONS\n\nElectron 包括对 Node 的 NODE_OPTIONS 的子集的支持。 除与 Chromium 使用 BoringSSL 相抵触的情况外，大多数都得到了支持。\n\n示例：\n\nexport NODE_OPTIONS="--no-warnings --max-old-space-size=2048"\n\n\n1\n\n\n不支持的选项是：\n\n--use-bundled-ca\n--force-fips\n--enable-fips\n--openssl-config\n--use-openssl-ca\n\n\n1\n2\n3\n4\n5\n\n\nNODE_OPTIONS 在打包应用程序中明确禁止使用，以下情况除外:\n\n--max-http-header-size\n--http-parser\n\n\n1\n2\n\n\n\n# GOOGLE_API_KEY\n\nElectron中的地理定位支持需要使用Google云平台的地理定位网络服务。 为了启用此功能，需获取一个 Google API 密钥 并将以下代码放入你的主进程文件， 在打开任何 浏览器窗口之前将生成地理位置请求：\n\nprocess.env.GOOGLE_API_KEY = \'YOUR_KEY_HERE\'\n\n\n1\n\n\n默认情况下, 可能不允许新生成的 Google API key进行地理编码请求。 要为你的项目启用地理定位网络服务，请通过 API 库 启用它。\n\n注： 你需要在与 API 密钥相关的项目中添加一个计费帐户，以便地理定位网络服务工作。\n\n\n# ELECTRON_NO_ASAR\n\n禁用 ASAR 支持。 该变量只在设置 ELECTRON_RUN_AS_NODE 的派生子进程和衍生子进程中受支持。\n\n\n# ELECTRON_RUN_AS_NODE\n\n当做普通Node.js进程启动。\n\n在当前模式下，当运行普通可执行Node.js文件时，你可以将 cli 选项 传递给Node.js，但下列标志除外：\n\n * "--openssl-config"\n * "--use-bundled-ca"\n * "--use-openssl-ca",\n * "--force-fips"\n * "--enable-fips"\n\n由于Electron 在构建 Node.js 的 crypto 模块时使用 BoringSSL 而不是 OpenSSL，因此这些标志被禁用。所以不会像设计的那样工作。\n\n\n# ELECTRON_NO_ATTACH_CONSOLE Windows\n\n不附加到当前控制台会话。\n\n\n# ELECTRON_FORCE_WINDOW_MENU_BAR_ Linux _\n\n不使用 Linux 的全局菜单栏。\n\n\n# ELECTRON_TRASH Linux\n\n在 Linux 上设置垃圾回收实现。 默认值为 gio.\n\n选项:\n\n * gvfs-trash\n * trash-cli\n * kioclient5\n * kioclient\n\n\n# 开发环境相关变量\n\n以下环境变量主要用于开发和调试目的。\n\n\n# ELECTRON_ENABLE_LOGGING\n\nPrints Chromium\'s internal logging to the console.\n\nSetting this variable is the same as passing --enable-logging on the command line. For more info, see --enable-logging in command-line switches.\n\n\n# ELECTRON_LOG_FILE\n\nSets the file destination for Chromium\'s internal logging.\n\nSetting this variable is the same as passing --log-file on the command line. For more info, see --log-file in command-line switches.\n\n\n# ELECTRON_DEBUG_DRAG_REGIONS\n\n在 macOS 的 BrowserView上添加可拖动区域的颜色 - 可拖动区域将着绿色， 不可拖动区域将着红色以帮助调试。\n\n\n# ELECTRON_DEBUG_NOTIFICATIONS\n\n在 macOS 上添加额外日志到 通知 生命周期以帮助调试。 当创建或激活新通知时，将显示额外日志。 They will also be displayed when common a tions are taken: a notification is shown, dismissed, its button is clicked, or it is replied to.\n\n示例输出：\n\nNotification created (com.github.Electron:notification:EAF7B87C-A113-43D7-8E76-F88EC9D73D44)\nNotification displayed (com.github.Electron:notification:EAF7B87C-A113-43D7-8E76-F88EC9D73D44)\nNotification activated (com.github.Electron:notification:EAF7B87C-A113-43D7-8E76-F88EC9D73D44)\nNotification replied to (com.github.Electron:notification:EAF7B87C-A113-43D7-8E76-F88EC9D73D44)\n\n\n1\n2\n3\n4\n\n\n\n# ELECTRON_LOG_ASAR_READS\n\n当 Electron 从 ASAR 文件读取时，记录读取 offset 偏移和文件路径到系统 tmpdir 临时目录。 生成的文件可以提供给ASAR 模块以优化文件排序。\n\n\n# ELECTRON_ENABLE_STACK_DUMPING\n\n当Electron崩溃时, 将跟踪堆栈输出到控制台。\n\n如果 crashReporter已经启动了, 则此环境变量将不起作用。\n\n\n# ELECTRON_DEFAULT_ERROR_MODE_ Windows _\n\n当Electron崩溃时显示 Windows 的崩溃对话框。\n\n如果 crashReporter已经启动了, 则此环境变量将不起作用。\n\n\n# ELECTRON_OVERRIDE_DIST_PATH\n\n当 electron 包运行时，该变量告知 electron 命令使用指定Electron的构建代替由 npm install 下载的构建。 用法：\n\nexport ELECTRON_OVERRIDE_DIST_PATH=/Users/username/projects/electron/out/Testing\n\n\n1\n\n\n\n# 通过 Electron 设置\n\n在Electron运行时设置一些环境变量\n\n\n# ORIGINAL_XDG_CURRENT_DESKTOP\n\n此变量设置为你的应用程序最初启动的 XDG_CURRENT_DESKTOP 值。 Electron 有时修改 XDG_CURRENT_DESKTOP 的值以影响Chromium 中的其他逻辑，所以如果您想访问 原始的 值 您应该重新查看此环境变量。',normalizedContent:'# 环境变量\n\n> 在不更改代码的情况下控制应用程序配置和行为。\n\nelectron的某些行为受环境变量的控制, 因为它们比命令行标志和应用程序的代码更早初始化。\n\nposix shell示例:\n\n$ export electron_enable_logging=true\n$ electron\n\n\n1\n2\n\n\nwindows 控制台示例:\n\n> set electron_enable_logging=true\n> electron\n\n\n1\n2\n\n\n\n# 生产环境相关变量\n\n以下环境变量主要用于在打包后的electron应用运行时使用。\n\n\n# node_options\n\nelectron 包括对 node 的 node_options 的子集的支持。 除与 chromium 使用 boringssl 相抵触的情况外，大多数都得到了支持。\n\n示例：\n\nexport node_options="--no-warnings --max-old-space-size=2048"\n\n\n1\n\n\n不支持的选项是：\n\n--use-bundled-ca\n--force-fips\n--enable-fips\n--openssl-config\n--use-openssl-ca\n\n\n1\n2\n3\n4\n5\n\n\nnode_options 在打包应用程序中明确禁止使用，以下情况除外:\n\n--max-http-header-size\n--http-parser\n\n\n1\n2\n\n\n\n# google_api_key\n\nelectron中的地理定位支持需要使用google云平台的地理定位网络服务。 为了启用此功能，需获取一个 google api 密钥 并将以下代码放入你的主进程文件， 在打开任何 浏览器窗口之前将生成地理位置请求：\n\nprocess.env.google_api_key = \'your_key_here\'\n\n\n1\n\n\n默认情况下, 可能不允许新生成的 google api key进行地理编码请求。 要为你的项目启用地理定位网络服务，请通过 api 库 启用它。\n\n注： 你需要在与 api 密钥相关的项目中添加一个计费帐户，以便地理定位网络服务工作。\n\n\n# electron_no_asar\n\n禁用 asar 支持。 该变量只在设置 electron_run_as_node 的派生子进程和衍生子进程中受支持。\n\n\n# electron_run_as_node\n\n当做普通node.js进程启动。\n\n在当前模式下，当运行普通可执行node.js文件时，你可以将 cli 选项 传递给node.js，但下列标志除外：\n\n * "--openssl-config"\n * "--use-bundled-ca"\n * "--use-openssl-ca",\n * "--force-fips"\n * "--enable-fips"\n\n由于electron 在构建 node.js 的 crypto 模块时使用 boringssl 而不是 openssl，因此这些标志被禁用。所以不会像设计的那样工作。\n\n\n# electron_no_attach_console windows\n\n不附加到当前控制台会话。\n\n\n# electron_force_window_menu_bar_ linux _\n\n不使用 linux 的全局菜单栏。\n\n\n# electron_trash linux\n\n在 linux 上设置垃圾回收实现。 默认值为 gio.\n\n选项:\n\n * gvfs-trash\n * trash-cli\n * kioclient5\n * kioclient\n\n\n# 开发环境相关变量\n\n以下环境变量主要用于开发和调试目的。\n\n\n# electron_enable_logging\n\nprints chromium\'s internal logging to the console.\n\nsetting this variable is the same as passing --enable-logging on the command line. for more info, see --enable-logging in command-line switches.\n\n\n# electron_log_file\n\nsets the file destination for chromium\'s internal logging.\n\nsetting this variable is the same as passing --log-file on the command line. for more info, see --log-file in command-line switches.\n\n\n# electron_debug_drag_regions\n\n在 macos 的 browserview上添加可拖动区域的颜色 - 可拖动区域将着绿色， 不可拖动区域将着红色以帮助调试。\n\n\n# electron_debug_notifications\n\n在 macos 上添加额外日志到 通知 生命周期以帮助调试。 当创建或激活新通知时，将显示额外日志。 they will also be displayed when common a tions are taken: a notification is shown, dismissed, its button is clicked, or it is replied to.\n\n示例输出：\n\nnotification created (com.github.electron:notification:eaf7b87c-a113-43d7-8e76-f88ec9d73d44)\nnotification displayed (com.github.electron:notification:eaf7b87c-a113-43d7-8e76-f88ec9d73d44)\nnotification activated (com.github.electron:notification:eaf7b87c-a113-43d7-8e76-f88ec9d73d44)\nnotification replied to (com.github.electron:notification:eaf7b87c-a113-43d7-8e76-f88ec9d73d44)\n\n\n1\n2\n3\n4\n\n\n\n# electron_log_asar_reads\n\n当 electron 从 asar 文件读取时，记录读取 offset 偏移和文件路径到系统 tmpdir 临时目录。 生成的文件可以提供给asar 模块以优化文件排序。\n\n\n# electron_enable_stack_dumping\n\n当electron崩溃时, 将跟踪堆栈输出到控制台。\n\n如果 crashreporter已经启动了, 则此环境变量将不起作用。\n\n\n# electron_default_error_mode_ windows _\n\n当electron崩溃时显示 windows 的崩溃对话框。\n\n如果 crashreporter已经启动了, 则此环境变量将不起作用。\n\n\n# electron_override_dist_path\n\n当 electron 包运行时，该变量告知 electron 命令使用指定electron的构建代替由 npm install 下载的构建。 用法：\n\nexport electron_override_dist_path=/users/username/projects/electron/out/testing\n\n\n1\n\n\n\n# 通过 electron 设置\n\n在electron运行时设置一些环境变量\n\n\n# original_xdg_current_desktop\n\n此变量设置为你的应用程序最初启动的 xdg_current_desktop 值。 electron 有时修改 xdg_current_desktop 的值以影响chromium 中的其他逻辑，所以如果您想访问 原始的 值 您应该重新查看此环境变量。',charsets:{cjk:!0}},{title:"extensions",frontmatter:{title:"extensions",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/6ed1b7/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/extensions.html",relativePath:"《Electron中文文档》/api/extensions.md",key:"v-190abcd4",path:"/pages/6ed1b7/",headers:[{level:2,title:"加载扩展",slug:"加载扩展",normalizedTitle:"加载扩展",charIndex:175},{level:2,title:"支持的扩展 API",slug:"支持的扩展-api",normalizedTitle:"支持的扩展 api",charIndex:545},{level:3,title:"chrome.devtools.inspectedWindow",slug:"chrome-devtools-inspectedwindow",normalizedTitle:"chrome.devtools.inspectedwindow",charIndex:629},{level:3,title:"chrome.devtools.network",slug:"chrome-devtools-network",normalizedTitle:"chrome.devtools.network",charIndex:682},{level:3,title:"chrome.devtools.panels",slug:"chrome-devtools-panels",normalizedTitle:"chrome.devtools.panels",charIndex:727},{level:3,title:"chrome.extension",slug:"chrome-extension",normalizedTitle:"chrome.extension",charIndex:771},{level:3,title:"chrome.runtime",slug:"chrome-runtime",normalizedTitle:"chrome.runtime",charIndex:945},{level:3,title:"chrome.storage",slug:"chrome-storage",normalizedTitle:"chrome.storage",charIndex:1478},{level:3,title:"chrome.tabs",slug:"chrome-tabs",normalizedTitle:"chrome.tabs",charIndex:1581},{level:3,title:"chrome.management",slug:"chrome-management",normalizedTitle:"chrome.management",charIndex:1762},{level:3,title:"chrome.webRequest",slug:"chrome-webrequest",normalizedTitle:"chrome.webrequest",charIndex:2059}],headersStr:"加载扩展 支持的扩展 API chrome.devtools.inspectedWindow chrome.devtools.network chrome.devtools.panels chrome.extension chrome.runtime chrome.storage chrome.tabs chrome.management chrome.webRequest",content:"# Chrome 扩展支持\n\nElectron 支持 Chrome 扩展API的子集， 主要是支持 DevTools 扩展和 Chromium-internal 扩展，但它同时也支持一些其他扩展能。\n\n> 注意：Electron 不支持商店中的任意 Chrome 扩展，Electron 项目的目标不是与 Chrome 的扩展实现完全兼容。\n\n\n# 加载扩展\n\nElectron 只支持加载未打包的扩展 (即不能使用 .crx 文件)。 插件会被安装到每一个会话。 要加载扩展，请调用 ses.loadextension：\n\nconst { session } = require('electron')\n\nsession.loadExtension('path/to/unpacked/extension').then(({ id }) => {\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n\n\n加载的扩展将不会被自动记住；如果在应用程序运行时未调用 loadExtension，则不会加载扩展。\n\n注意，仅能在持久 session 中加载扩展。 尝试将扩展加载到内存 session 中会出现错误。\n\n有关加载、卸载和查询活动扩展的更多信息，请查阅 session 文档。\n\n\n# 支持的扩展 API\n\n我们支持以下扩展 API，并需要注意一些警告。 其他API可能会得到额外支持，但对此处未列出的任何API的支持都是临时的，可能会被删除。\n\n\n# chrome.devtools.inspectedWindow\n\n支持这些 API 的所有功能。\n\n\n# chrome.devtools.network\n\n支持这些 API 的所有功能。\n\n\n# chrome.devtools.panels\n\n支持这些 API 的所有功能。\n\n\n# chrome.extension\n\n支持 chrome.extension 的以下属性：\n\n * chrome.extension.lastError\n\n支持 chrome.extension 的以下方法：\n\n * chrome.extension.getURL\n * chrome.extension.getBackgroundPage\n\n\n# chrome.runtime\n\n支持 chrome.runtime 的以下属性：\n\n * chrome.runtime.lastError\n * chrome.runtime.id\n\n支持 chrome.runtime 的以下方法：\n\n * chrome.runtime.getBackgroundPage\n * chrome.runtime.getManifest\n * chrome.runtime.getPlatformInfo\n * chrome.runtime.getURL\n * chrome.runtime.connect\n * chrome.runtime.sendMessage\n * chrome.runtime.reload\n\n支持 chrome.runtime 的以下事件：\n\n * chrome.runtime.onStartup\n * chrome.runtime.onInstalled\n * chrome.runtime.onSuspend\n * chrome.runtime.onSuspendCanceled\n * chrome.runtime.onConnect\n * chrome.runtime.onMessage\n\n\n# chrome.storage\n\n仅支持 chrome.storage.local ； chrome.storage.sync 和 chrome.storage.manage.manage 不支持。\n\n\n# chrome.tabs\n\n支持 chrome.tab 的以下方法：\n\n * chrome.tabs.sendMessage\n * chrome.tabs.executeScript\n\n> 注意： 在 Chrome 中，通过 -1 作为标签ID表示“当前活动的标签”。 因为 Electron 没有这样的概念，通过 -1 作为选项卡ID不支持而且会报错。\n\n\n# chrome.management\n\n支持 chrome.management 的以下方法：\n\n * chrome.management.getAll\n * chrome.management.get\n * chrome.management.getSelf\n * chrome.management.getPermissionWarningsById\n * chrome.management.getPermissionWarningsByManifest\n * chrome.management.onEnabled\n * chrome.management.onDisabled\n\n\n# chrome.webRequest\n\n支持这些 API 的所有功能。\n\n> 注意： 如果有冲突需要处理，Electron 的 webRequest 模块将优先于 chrome.web 。",normalizedContent:"# chrome 扩展支持\n\nelectron 支持 chrome 扩展api的子集， 主要是支持 devtools 扩展和 chromium-internal 扩展，但它同时也支持一些其他扩展能。\n\n> 注意：electron 不支持商店中的任意 chrome 扩展，electron 项目的目标不是与 chrome 的扩展实现完全兼容。\n\n\n# 加载扩展\n\nelectron 只支持加载未打包的扩展 (即不能使用 .crx 文件)。 插件会被安装到每一个会话。 要加载扩展，请调用 ses.loadextension：\n\nconst { session } = require('electron')\n\nsession.loadextension('path/to/unpacked/extension').then(({ id }) => {\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n\n\n加载的扩展将不会被自动记住；如果在应用程序运行时未调用 loadextension，则不会加载扩展。\n\n注意，仅能在持久 session 中加载扩展。 尝试将扩展加载到内存 session 中会出现错误。\n\n有关加载、卸载和查询活动扩展的更多信息，请查阅 session 文档。\n\n\n# 支持的扩展 api\n\n我们支持以下扩展 api，并需要注意一些警告。 其他api可能会得到额外支持，但对此处未列出的任何api的支持都是临时的，可能会被删除。\n\n\n# chrome.devtools.inspectedwindow\n\n支持这些 api 的所有功能。\n\n\n# chrome.devtools.network\n\n支持这些 api 的所有功能。\n\n\n# chrome.devtools.panels\n\n支持这些 api 的所有功能。\n\n\n# chrome.extension\n\n支持 chrome.extension 的以下属性：\n\n * chrome.extension.lasterror\n\n支持 chrome.extension 的以下方法：\n\n * chrome.extension.geturl\n * chrome.extension.getbackgroundpage\n\n\n# chrome.runtime\n\n支持 chrome.runtime 的以下属性：\n\n * chrome.runtime.lasterror\n * chrome.runtime.id\n\n支持 chrome.runtime 的以下方法：\n\n * chrome.runtime.getbackgroundpage\n * chrome.runtime.getmanifest\n * chrome.runtime.getplatforminfo\n * chrome.runtime.geturl\n * chrome.runtime.connect\n * chrome.runtime.sendmessage\n * chrome.runtime.reload\n\n支持 chrome.runtime 的以下事件：\n\n * chrome.runtime.onstartup\n * chrome.runtime.oninstalled\n * chrome.runtime.onsuspend\n * chrome.runtime.onsuspendcanceled\n * chrome.runtime.onconnect\n * chrome.runtime.onmessage\n\n\n# chrome.storage\n\n仅支持 chrome.storage.local ； chrome.storage.sync 和 chrome.storage.manage.manage 不支持。\n\n\n# chrome.tabs\n\n支持 chrome.tab 的以下方法：\n\n * chrome.tabs.sendmessage\n * chrome.tabs.executescript\n\n> 注意： 在 chrome 中，通过 -1 作为标签id表示“当前活动的标签”。 因为 electron 没有这样的概念，通过 -1 作为选项卡id不支持而且会报错。\n\n\n# chrome.management\n\n支持 chrome.management 的以下方法：\n\n * chrome.management.getall\n * chrome.management.get\n * chrome.management.getself\n * chrome.management.getpermissionwarningsbyid\n * chrome.management.getpermissionwarningsbymanifest\n * chrome.management.onenabled\n * chrome.management.ondisabled\n\n\n# chrome.webrequest\n\n支持这些 api 的所有功能。\n\n> 注意： 如果有冲突需要处理，electron 的 webrequest 模块将优先于 chrome.web 。",charsets:{cjk:!0}},{title:"file-object",frontmatter:{title:"file-object",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/cd40a4/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/file-object.html",relativePath:"《Electron中文文档》/api/file-object.md",key:"v-fb5f084c",path:"/pages/cd40a4/",headersStr:null,content:"# File 对象\n\n> 在文件系统中，使用HTML5 File 原生API操作文件\n\nDOM的文件接口提供了关于原生文件的抽象，以便用户可以直接使用HTML5文件API处理原生文件。 Electron已经向 文件 接口添加了一个 path 属性, 在文件系统上暴露出文件的真实路径\n\n示例：获取拖拽到app上的文件的真实路径\n\n<div id=\"holder\">\n  Drag your file here\n</div>\n\n<script>\n  document.addEventListener('drop', (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    for (const f of e.dataTransfer.files) {\n      console.log('File(s) you dragged here: ', f.path)\n    }\n  });\n  document.addEventListener('dragover', (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  });\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",normalizedContent:"# file 对象\n\n> 在文件系统中，使用html5 file 原生api操作文件\n\ndom的文件接口提供了关于原生文件的抽象，以便用户可以直接使用html5文件api处理原生文件。 electron已经向 文件 接口添加了一个 path 属性, 在文件系统上暴露出文件的真实路径\n\n示例：获取拖拽到app上的文件的真实路径\n\n<div id=\"holder\">\n  drag your file here\n</div>\n\n<script>\n  document.addeventlistener('drop', (e) => {\n    e.preventdefault();\n    e.stoppropagation();\n\n    for (const f of e.datatransfer.files) {\n      console.log('file(s) you dragged here: ', f.path)\n    }\n  });\n  document.addeventlistener('dragover', (e) => {\n    e.preventdefault();\n    e.stoppropagation();\n  });\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",charsets:{cjk:!0}},{title:"in-app-purchase",frontmatter:{title:"in-app-purchase",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/00e35f/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/in-app-purchase.html",relativePath:"《Electron中文文档》/api/in-app-purchase.md",key:"v-ff9a60e0",path:"/pages/00e35f/",headers:[{level:2,title:"事件",slug:"事件",normalizedTitle:"事件",charIndex:52},{level:3,title:"事件：'transactions-updated'",slug:"事件-transactions-updated",normalizedTitle:"事件：'transactions-updated'",charIndex:84},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:229},{level:3,title:"inAppPurchase.purchaseProduct(productID[, quantity])",slug:"inapppurchase-purchaseproduct-productid-quantity",normalizedTitle:"inapppurchase.purchaseproduct(productid[, quantity])",charIndex:261},{level:3,title:"inAppPurchase.getProducts(productIDs)",slug:"inapppurchase-getproducts-productids",normalizedTitle:"inapppurchase.getproducts(productids)",charIndex:584},{level:3,title:"inAppPurchase.canMakePayments()",slug:"inapppurchase-canmakepayments",normalizedTitle:"inapppurchase.canmakepayments()",charIndex:741},{level:3,title:"inAppPurchase.restoreCompletedTransactions()",slug:"inapppurchase-restorecompletedtransactions",normalizedTitle:"inapppurchase.restorecompletedtransactions()",charIndex:831},{level:3,title:"inAppPurchase.getReceiptURL()",slug:"inapppurchase-getreceipturl",normalizedTitle:"inapppurchase.getreceipturl()",charIndex:1244},{level:3,title:"inAppPurchase.finishAllTransactions()",slug:"inapppurchase-finishalltransactions",normalizedTitle:"inapppurchase.finishalltransactions()",charIndex:1321},{level:3,title:"inAppPurchase.finishTransactionByDate(date)",slug:"inapppurchase-finishtransactionbydate-date",normalizedTitle:"inapppurchase.finishtransactionbydate(date)",charIndex:1375}],headersStr:"事件 事件：'transactions-updated' 方法 inAppPurchase.purchaseProduct(productID[, quantity]) inAppPurchase.getProducts(productIDs) inAppPurchase.canMakePayments() inAppPurchase.restoreCompletedTransactions() inAppPurchase.getReceiptURL() inAppPurchase.finishAllTransactions() inAppPurchase.finishTransactionByDate(date)",content:"# inAppPurchase\n\n> Mac App Store中的应用内购买\n\n进程：主进程\n\n\n# 事件\n\ninAppPurchase 模块触发以下事件:\n\n\n# 事件：'transactions-updated'\n\n一个或多个 transactions 更新时会触发这一事件。\n\n返回:\n\n * event Event\n * transactions Transaction[] - Array of Transaction objects.\n\n\n# 方法\n\ninAppPurchase 模块包含以下方法：\n\n\n# inAppPurchase.purchaseProduct(productID[, quantity])\n\n * productID String - 预付款商品的ID (com.example.app.product1 的ID是 product1).\n * quantity Integer (可选) - 用户所要购买的商品数量.\n\nReturns Promise<Boolean> - Returns true if the product is valid and added to the payment queue.\n\n在调用purchaseProduct之前，你应该尽可能快的监听transactions-updated事件\n\n\n# inAppPurchase.getProducts(productIDs)\n\n * productIDs String[] - 预购商品ID\n\nReturns Promise<Product[]> - Resolves with an array of Product objects.\n\n检索商品的描述\n\n\n# inAppPurchase.canMakePayments()\n\nReturns Boolean - whether a user can make a payment.\n\n\n# inAppPurchase.restoreCompletedTransactions()\n\nRestores finished transactions. This method can be called either to install purchases on additional devices, or to restore purchases for an application that the user deleted and reinstalled.\n\nThe payment queue delivers a new transaction for each previously completed transaction that can be restored. Each transaction includes a copy of the original transaction.\n\n\n# inAppPurchase.getReceiptURL()\n\nReturns String - the path to the receipt.\n\n\n# inAppPurchase.finishAllTransactions()\n\n完成所有待处理的交易\n\n\n# inAppPurchase.finishTransactionByDate(date)\n\n * date String - 待完成交易的ISO标准日期格式\n\n完成与日期对应的待处理事务",normalizedContent:"# inapppurchase\n\n> mac app store中的应用内购买\n\n进程：主进程\n\n\n# 事件\n\ninapppurchase 模块触发以下事件:\n\n\n# 事件：'transactions-updated'\n\n一个或多个 transactions 更新时会触发这一事件。\n\n返回:\n\n * event event\n * transactions transaction[] - array of transaction objects.\n\n\n# 方法\n\ninapppurchase 模块包含以下方法：\n\n\n# inapppurchase.purchaseproduct(productid[, quantity])\n\n * productid string - 预付款商品的id (com.example.app.product1 的id是 product1).\n * quantity integer (可选) - 用户所要购买的商品数量.\n\nreturns promise<boolean> - returns true if the product is valid and added to the payment queue.\n\n在调用purchaseproduct之前，你应该尽可能快的监听transactions-updated事件\n\n\n# inapppurchase.getproducts(productids)\n\n * productids string[] - 预购商品id\n\nreturns promise<product[]> - resolves with an array of product objects.\n\n检索商品的描述\n\n\n# inapppurchase.canmakepayments()\n\nreturns boolean - whether a user can make a payment.\n\n\n# inapppurchase.restorecompletedtransactions()\n\nrestores finished transactions. this method can be called either to install purchases on additional devices, or to restore purchases for an application that the user deleted and reinstalled.\n\nthe payment queue delivers a new transaction for each previously completed transaction that can be restored. each transaction includes a copy of the original transaction.\n\n\n# inapppurchase.getreceipturl()\n\nreturns string - the path to the receipt.\n\n\n# inapppurchase.finishalltransactions()\n\n完成所有待处理的交易\n\n\n# inapppurchase.finishtransactionbydate(date)\n\n * date string - 待完成交易的iso标准日期格式\n\n完成与日期对应的待处理事务",charsets:{cjk:!0}},{title:"browser-window",frontmatter:{title:"browser-window",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/bd8406/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/browser-window.html",relativePath:"《Electron中文文档》/api/browser-window.md",key:"v-cd05c214",path:"/pages/bd8406/",headers:[{level:2,title:"Frameless window",slug:"frameless-window",normalizedTitle:"frameless window",charIndex:297},{level:2,title:"Showing the window gracefully",slug:"showing-the-window-gracefully",normalizedTitle:"showing the window gracefully",charIndex:368},{level:3,title:"Using the ready-to-show event",slug:"using-the-ready-to-show-event",normalizedTitle:"using the ready-to-show event",charIndex:640},{level:3,title:"Setting the backgroundColor property",slug:"setting-the-backgroundcolor-property",normalizedTitle:"setting the backgroundcolor property",charIndex:1079},{level:2,title:"父子窗口",slug:"父子窗口",normalizedTitle:"父子窗口",charIndex:1432},{level:2,title:"模态窗口",slug:"模态窗口",normalizedTitle:"模态窗口",charIndex:1662},{level:2,title:"页面可见性",slug:"页面可见性",normalizedTitle:"页面可见性",charIndex:1947},{level:2,title:"平台相关的提示",slug:"平台相关的提示",normalizedTitle:"平台相关的提示",charIndex:2297},{level:2,title:"Class: BrowserWindow",slug:"class-browserwindow",normalizedTitle:"class: browserwindow",charIndex:2472},{level:3,title:"new BrowserWindow([options])",slug:"new-browserwindow-options",normalizedTitle:"new browserwindow([options])",charIndex:2593},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:14211},{level:4,title:"事件： 'page-title-updated'",slug:"事件-page-title-updated",normalizedTitle:"事件： 'page-title-updated'",charIndex:14294},{level:4,title:"事件： 'close'",slug:"事件-close",normalizedTitle:"事件： 'close'",charIndex:14464},{level:4,title:"事件： 'closed'",slug:"事件-closed",normalizedTitle:"事件： 'closed'",charIndex:15070},{level:4,title:"事件: 'session-end' Windows",slug:"事件-session-end-windows",normalizedTitle:"事件: 'session-end' windows",charIndex:15134},{level:4,title:"事件: 'unresponsive'",slug:"事件-unresponsive",normalizedTitle:"事件: 'unresponsive'",charIndex:15193},{level:4,title:"事件: 'responsive'",slug:"事件-responsive",normalizedTitle:"事件: 'responsive'",charIndex:15227},{level:4,title:"事件: 'blur'",slug:"事件-blur",normalizedTitle:"事件: 'blur'",charIndex:15262},{level:4,title:"事件: 'focus'",slug:"事件-focus",normalizedTitle:"事件: 'focus'",charIndex:15288},{level:4,title:"事件: 'show'",slug:"事件-show",normalizedTitle:"事件: 'show'",charIndex:15315},{level:4,title:"事件: 'hide'",slug:"事件-hide",normalizedTitle:"事件: 'hide'",charIndex:15339},{level:4,title:"事件: 'ready-to-show'",slug:"事件-ready-to-show",normalizedTitle:"事件: 'ready-to-show'",charIndex:15363},{level:4,title:"事件: 'maximize'",slug:"事件-maximize",normalizedTitle:"事件: 'maximize'",charIndex:15516},{level:4,title:"事件: 'unmaximize'",slug:"事件-unmaximize",normalizedTitle:"事件: 'unmaximize'",charIndex:15544},{level:4,title:"事件: 'minimize'",slug:"事件-minimize",normalizedTitle:"事件: 'minimize'",charIndex:15580},{level:4,title:"事件: 'restore'",slug:"事件-restore",normalizedTitle:"事件: 'restore'",charIndex:15608},{level:4,title:"事件: 'will-resize' macOS Windows",slug:"事件-will-resize-macos-windows",normalizedTitle:"事件: 'will-resize' macos windows",charIndex:15641},{level:4,title:"事件: 'resize'",slug:"事件-resize",normalizedTitle:"事件: 'resize'",charIndex:16374},{level:4,title:"事件：'resized' macOS Windows",slug:"事件-resized-macos-windows",normalizedTitle:"事件：'resized' macos windows",charIndex:16402},{level:4,title:"事件: 'will-move' macOS Windows",slug:"事件-will-move-macos-windows",normalizedTitle:"事件: 'will-move' macos windows",charIndex:16539},{level:4,title:"事件: 'move'",slug:"事件-move",normalizedTitle:"事件: 'move'",charIndex:16745},{level:4,title:"事件: 'moved' macOS Windows",slug:"事件-moved-macos-windows",normalizedTitle:"事件: 'moved' macos windows",charIndex:16772},{level:4,title:"事件: 'enter-full-screen'",slug:"事件-enter-full-screen",normalizedTitle:"事件: 'enter-full-screen'",charIndex:16845},{level:4,title:"事件: 'leave-full-screen'",slug:"事件-leave-full-screen",normalizedTitle:"事件: 'leave-full-screen'",charIndex:16885},{level:4,title:"事件: 'enter-html-full-screen'",slug:"事件-enter-html-full-screen",normalizedTitle:"事件: 'enter-html-full-screen'",charIndex:16925},{level:4,title:"事件: 'leave-html-full-screen'",slug:"事件-leave-html-full-screen",normalizedTitle:"事件: 'leave-html-full-screen'",charIndex:16983},{level:4,title:"事件: 'always-on-top-changed'",slug:"事件-always-on-top-changed",normalizedTitle:"事件: 'always-on-top-changed'",charIndex:17040},{level:4,title:"事件： 'app-command' WindowsLinux",slug:"事件-app-command-windows-linux",normalizedTitle:"事件： 'app-command' windowslinux",charIndex:null},{level:4,title:"事件: 'scroll-touch-begin' macOS",slug:"事件-scroll-touch-begin-macos",normalizedTitle:"事件: 'scroll-touch-begin' macos",charIndex:17703},{level:4,title:"事件: 'scroll-touch-end' macOS",slug:"事件-scroll-touch-end-macos",normalizedTitle:"事件: 'scroll-touch-end' macos",charIndex:17750},{level:4,title:"事件: 'scroll-touch-edge' macOS",slug:"事件-scroll-touch-edge-macos",normalizedTitle:"事件: 'scroll-touch-edge' macos",charIndex:17795},{level:4,title:"事件: 'swipe' macOS",slug:"事件-swipe-macos",normalizedTitle:"事件: 'swipe' macos",charIndex:17845},{level:4,title:"事件: 'rotate-gesture' macOS",slug:"事件-rotate-gesture-macos",normalizedTitle:"事件: 'rotate-gesture' macos",charIndex:18139},{level:4,title:"事件: 'sheet-begin' macOS",slug:"事件-sheet-begin-macos",normalizedTitle:"事件: 'sheet-begin' macos",charIndex:18308},{level:4,title:"事件: 'sheet-end' macOS",slug:"事件-sheet-end-macos",normalizedTitle:"事件: 'sheet-end' macos",charIndex:18355},{level:4,title:"事件: 'new-window-for-tab' macOS",slug:"事件-new-window-for-tab-macos",normalizedTitle:"事件: 'new-window-for-tab' macos",charIndex:18400},{level:4,title:"事件: 'system-context-menu' Windows",slug:"事件-system-context-menu-windows",normalizedTitle:"事件: 'system-context-menu' windows",charIndex:18451},{level:3,title:"静态方法",slug:"静态方法",normalizedTitle:"静态方法",charIndex:18682},{level:4,title:"BrowserWindow.getAllWindows()",slug:"browserwindow-getallwindows",normalizedTitle:"browserwindow.getallwindows()",charIndex:18713},{level:4,title:"BrowserWindow.getFocusedWindow()",slug:"browserwindow-getfocusedwindow",normalizedTitle:"browserwindow.getfocusedwindow()",charIndex:18779},{level:4,title:"BrowserWindow.fromWebContents(webContents)",slug:"browserwindow-fromwebcontents-webcontents",normalizedTitle:"browserwindow.fromwebcontents(webcontents)",charIndex:18871},{level:4,title:"BrowserWindow.fromBrowserView(browserView)",slug:"browserwindow-frombrowserview-browserview",normalizedTitle:"browserwindow.frombrowserview(browserview)",charIndex:19016},{level:4,title:"BrowserWindow.fromId(id)",slug:"browserwindow-fromid-id",normalizedTitle:"browserwindow.fromid(id)",charIndex:19165},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:19249},{level:4,title:"win.webContents 只读",slug:"win-webcontents-只读",normalizedTitle:"win.webcontents 只读",charIndex:19463},{level:4,title:"win.id 只读",slug:"win-id-只读",normalizedTitle:"win.id 只读",charIndex:19573},{level:4,title:"win.autoHideMenuBar",slug:"win-autohidemenubar",normalizedTitle:"win.autohidemenubar",charIndex:19659},{level:4,title:"win.simpleFullScreen",slug:"win-simplefullscreen",normalizedTitle:"win.simplefullscreen",charIndex:19772},{level:4,title:"win.fullScreen",slug:"win-fullscreen",normalizedTitle:"win.fullscreen",charIndex:19840},{level:4,title:"win.focusable Windows macOS",slug:"win-focusable-windows-macos",normalizedTitle:"win.focusable windows macos",charIndex:19889},{level:4,title:"win.visibleOnAllWorkspaces",slug:"win-visibleonallworkspaces",normalizedTitle:"win.visibleonallworkspaces",charIndex:19989},{level:4,title:"win.shadow",slug:"win-shadow",normalizedTitle:"win.shadow",charIndex:20081},{level:4,title:"win.menuBarVisible Windows Linux",slug:"win-menubarvisible-windows-linux",normalizedTitle:"win.menubarvisible windows linux",charIndex:20124},{level:4,title:"win.kiosk",slug:"win-kiosk",normalizedTitle:"win.kiosk",charIndex:20227},{level:4,title:"win.documentEdited macOS",slug:"win-documentedited-macos",normalizedTitle:"win.documentedited macos",charIndex:20274},{level:4,title:"win.representedFilename macOS",slug:"win-representedfilename-macos",normalizedTitle:"win.representedfilename macos",charIndex:20354},{level:4,title:"win.title",slug:"win-title",normalizedTitle:"win.title",charIndex:20435},{level:4,title:"win.minimizable",slug:"win-minimizable",normalizedTitle:"win.minimizable",charIndex:20499},{level:4,title:"win.maximizable",slug:"win-maximizable",normalizedTitle:"win.maximizable",charIndex:20600},{level:4,title:"win.fullScreenable",slug:"win-fullscreenable",normalizedTitle:"win.fullscreenable",charIndex:20701},{level:4,title:"win.resizable",slug:"win-resizable",normalizedTitle:"win.resizable",charIndex:20766},{level:4,title:"win.closable",slug:"win-closable",normalizedTitle:"win.closable",charIndex:20818},{level:4,title:"win.movable",slug:"win-movable",normalizedTitle:"win.movable",charIndex:20915},{level:4,title:"win.excludedFromShownWindowsMenu macOS",slug:"win-excludedfromshownwindowsmenu-macos",normalizedTitle:"win.excludedfromshownwindowsmenu macos",charIndex:21009},{level:4,title:"win.accessibleTitle",slug:"win-accessibletitle",normalizedTitle:"win.accessibletitle",charIndex:21367},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:21446},{level:4,title:"win.destroy()",slug:"win-destroy",normalizedTitle:"win.destroy()",charIndex:21530},{level:4,title:"win.close()",slug:"win-close",normalizedTitle:"win.close()",charIndex:21602},{level:4,title:"win.focus()",slug:"win-focus",normalizedTitle:"win.focus()",charIndex:21674},{level:4,title:"win.blur()",slug:"win-blur",normalizedTitle:"win.blur()",charIndex:21696},{level:4,title:"win.isFocused()",slug:"win-isfocused",normalizedTitle:"win.isfocused()",charIndex:21719},{level:4,title:"win.isDestroyed()",slug:"win-isdestroyed",normalizedTitle:"win.isdestroyed()",charIndex:21761},{level:4,title:"win.show()",slug:"win-show",normalizedTitle:"win.show()",charIndex:877},{level:4,title:"win.showInactive()",slug:"win-showinactive",normalizedTitle:"win.showinactive()",charIndex:21829},{level:4,title:"win.hide()",slug:"win-hide",normalizedTitle:"win.hide()",charIndex:2089},{level:4,title:"win.isVisible()",slug:"win-isvisible",normalizedTitle:"win.isvisible()",charIndex:21882},{level:4,title:"win.isModal()",slug:"win-ismodal",normalizedTitle:"win.ismodal()",charIndex:21924},{level:4,title:"win.maximize()",slug:"win-maximize",normalizedTitle:"win.maximize()",charIndex:21965},{level:4,title:"win.unmaximize()",slug:"win-unmaximize",normalizedTitle:"win.unmaximize()",charIndex:22019},{level:4,title:"win.isMaximized()",slug:"win-ismaximized",normalizedTitle:"win.ismaximized()",charIndex:22048},{level:4,title:"win.minimize()",slug:"win-minimize",normalizedTitle:"win.minimize()",charIndex:22093},{level:4,title:"win.restore()",slug:"win-restore",normalizedTitle:"win.restore()",charIndex:22144},{level:4,title:"win.isMinimized()",slug:"win-isminimized",normalizedTitle:"win.isminimized()",charIndex:22181},{level:4,title:"win.setFullScreen(flag)",slug:"win-setfullscreen-flag",normalizedTitle:"win.setfullscreen(flag)",charIndex:22225},{level:4,title:"win.isFullScreen()",slug:"win-isfullscreen",normalizedTitle:"win.isfullscreen()",charIndex:22285},{level:4,title:"win.setSimpleFullScreen(flag) macOS",slug:"win-setsimplefullscreen-flag-macos",normalizedTitle:"win.setsimplefullscreen(flag) macos",charIndex:22331},{level:4,title:"win.isSimpleFullScreen() macOS",slug:"win-issimplefullscreen-macos",normalizedTitle:"win.issimplefullscreen() macos",charIndex:22445},{level:4,title:"win.isNormal()",slug:"win-isnormal",normalizedTitle:"win.isnormal()",charIndex:22516},{level:4,title:"win.setAspectRatio(aspectRatio[, extraSize])",slug:"win-setaspectratio-aspectratio-extrasize",normalizedTitle:"win.setaspectratio(aspectratio[, extrasize])",charIndex:22579},{level:4,title:"win.setBackgroundColor(backgroundColor)",slug:"win-setbackgroundcolor-backgroundcolor",normalizedTitle:"win.setbackgroundcolor(backgroundcolor)",charIndex:23104},{level:4,title:"win.previewFile(path[, displayName]) macOS",slug:"win-previewfile-path-displayname-macos",normalizedTitle:"win.previewfile(path[, displayname]) macos",charIndex:23288},{level:4,title:"win.closeFilePreview() macOS",slug:"win-closefilepreview-macos",normalizedTitle:"win.closefilepreview() macos",charIndex:23542},{level:4,title:"win.setBounds(bounds[, animate])",slug:"win-setbounds-bounds-animate",normalizedTitle:"win.setbounds(bounds[, animate])",charIndex:23598},{level:4,title:"win.getBounds()",slug:"win-getbounds",normalizedTitle:"win.getbounds()",charIndex:23999},{level:4,title:"win.getBackgroundColor()",slug:"win-getbackgroundcolor",normalizedTitle:"win.getbackgroundcolor()",charIndex:24103},{level:4,title:"win.setContentBounds(bounds[, animate])",slug:"win-setcontentbounds-bounds-animate",normalizedTitle:"win.setcontentbounds(bounds[, animate])",charIndex:24167},{level:4,title:"win.getContentBounds()",slug:"win-getcontentbounds",normalizedTitle:"win.getcontentbounds()",charIndex:24294},{level:4,title:"win.getNormalBounds()",slug:"win-getnormalbounds",normalizedTitle:"win.getnormalbounds()",charIndex:24356},{level:4,title:"win.setEnabled(enable)",slug:"win-setenabled-enable",normalizedTitle:"win.setenabled(enable)",charIndex:24532},{level:4,title:"win.isEnabled()",slug:"win-isenabled",normalizedTitle:"win.isenabled()",charIndex:24588},{level:4,title:"win.setSize(width, height[, animate])",slug:"win-setsize-width-height-animate",normalizedTitle:"win.setsize(width, height[, animate])",charIndex:24629},{level:4,title:"win.getSize()",slug:"win-getsize",normalizedTitle:"win.getsize()",charIndex:24804},{level:4,title:"win.setContentSize(width, height[, animate])",slug:"win-setcontentsize-width-height-animate",normalizedTitle:"win.setcontentsize(width, height[, animate])",charIndex:24848},{level:4,title:"win.getContentSize()",slug:"win-getcontentsize",normalizedTitle:"win.getcontentsize()",charIndex:25e3},{level:4,title:"win.setMinimumSize(width, height)",slug:"win-setminimumsize-width-height",normalizedTitle:"win.setminimumsize(width, height)",charIndex:25051},{level:4,title:"win.getMinimumSize()",slug:"win-getminimumsize",normalizedTitle:"win.getminimumsize()",charIndex:25149},{level:4,title:"win.setMaximumSize(width, height)",slug:"win-setmaximumsize-width-height",normalizedTitle:"win.setmaximumsize(width, height)",charIndex:25203},{level:4,title:"win.getMaximumSize()",slug:"win-getmaximumsize",normalizedTitle:"win.getmaximumsize()",charIndex:25302},{level:4,title:"win.setResizable(resizable)",slug:"win-setresizable-resizable",normalizedTitle:"win.setresizable(resizable)",charIndex:25356},{level:4,title:"win.isResizable()",slug:"win-isresizable",normalizedTitle:"win.isresizable()",charIndex:25428},{level:4,title:"win.setMovable(movable) macOS Windows",slug:"win-setmovable-movable-macos-windows",normalizedTitle:"win.setmovable(movable) macos windows",charIndex:25479},{level:4,title:"win.isMovable() macOS Windows",slug:"win-ismovable-macos-windows",normalizedTitle:"win.ismovable() macos windows",charIndex:25568},{level:4,title:"win.setMinimizable(minimizable) macOS Windows",slug:"win-setminimizable-minimizable-macos-windows",normalizedTitle:"win.setminimizable(minimizable) macos windows",charIndex:25648},{level:4,title:"win.isMinimizable() macOS Windows",slug:"win-isminimizable-macos-windows",normalizedTitle:"win.isminimizable() macos windows",charIndex:25753},{level:4,title:"win.setMaximizable(maximizable) macOS Windows",slug:"win-setmaximizable-maximizable-macos-windows",normalizedTitle:"win.setmaximizable(maximizable) macos windows",charIndex:25840},{level:4,title:"win.isMaximizable() macOS Windows",slug:"win-ismaximizable-macos-windows",normalizedTitle:"win.ismaximizable() macos windows",charIndex:25944},{level:4,title:"win.setFullScreenable(fullscreenable)",slug:"win-setfullscreenable-fullscreenable",normalizedTitle:"win.setfullscreenable(fullscreenable)",charIndex:26027},{level:4,title:"win.isFullScreenable()",slug:"win-isfullscreenable",normalizedTitle:"win.isfullscreenable()",charIndex:26124},{level:4,title:"win.setClosable(closable) macOS Windows",slug:"win-setclosable-closable-macos-windows",normalizedTitle:"win.setclosable(closable) macos windows",charIndex:26190},{level:4,title:"win.isClosable() macOS Windows",slug:"win-isclosable-macos-windows",normalizedTitle:"win.isclosable() macos windows",charIndex:26284},{level:4,title:"win.setAlwaysOnTop(flag[, level][, relativeLevel])",slug:"win-setalwaysontop-flag-level-relativelevel",normalizedTitle:"win.setalwaysontop(flag[, level][, relativelevel])",charIndex:26366},{level:4,title:"win.isAlwaysOnTop()",slug:"win-isalwaysontop",normalizedTitle:"win.isalwaysontop()",charIndex:26948},{level:4,title:"win.moveAbove(mediaSourceId)",slug:"win-moveabove-mediasourceid",normalizedTitle:"win.moveabove(mediasourceid)",charIndex:27002},{level:4,title:"win.moveTop()",slug:"win-movetop",normalizedTitle:"win.movetop()",charIndex:27183},{level:4,title:"win.center()",slug:"win-center",normalizedTitle:"win.center()",charIndex:27226},{level:4,title:"win.setPosition(x, y[, animate])",slug:"win-setposition-x-y-animate",normalizedTitle:"win.setposition(x, y[, animate])",charIndex:27255},{level:4,title:"win.getPosition()",slug:"win-getposition",normalizedTitle:"win.getposition()",charIndex:27363},{level:4,title:"win.setTitle(title)",slug:"win-settitle-title",normalizedTitle:"win.settitle(title)",charIndex:27417},{level:4,title:"win.getTitle()",slug:"win-gettitle",normalizedTitle:"win.gettitle()",charIndex:27477},{level:4,title:"win.setSheetOffset(offsetY[, offsetX]) macOS",slug:"win-setsheetoffset-offsety-offsetx-macos",normalizedTitle:"win.setsheetoffset(offsety[, offsetx]) macos",charIndex:27539},{level:4,title:"win.flashFrame(flag)",slug:"win-flashframe-flag",normalizedTitle:"win.flashframe(flag)",charIndex:27911},{level:4,title:"win.setSkipTaskbar(skip)",slug:"win-setskiptaskbar-skip",normalizedTitle:"win.setskiptaskbar(skip)",charIndex:27974},{level:4,title:"win.setKiosk(flag)",slug:"win-setkiosk-flag",normalizedTitle:"win.setkiosk(flag)",charIndex:28033},{level:4,title:"win.isKiosk()",slug:"win-iskiosk",normalizedTitle:"win.iskiosk()",charIndex:28089},{level:4,title:"win.isTabletMode() Windows",slug:"win-istabletmode-windows",normalizedTitle:"win.istabletmode() windows",charIndex:28137},{level:4,title:"win.getMediaSourceId()",slug:"win-getmediasourceid",normalizedTitle:"win.getmediasourceid()",charIndex:28336},{level:4,title:"win.getNativeWindowHandle()",slug:"win-getnativewindowhandle",normalizedTitle:"win.getnativewindowhandle()",charIndex:28582},{level:4,title:"win.hookWindowMessage(message, callback) Windows",slug:"win-hookwindowmessage-message-callback-windows",normalizedTitle:"win.hookwindowmessage(message, callback) windows",charIndex:28704},{level:4,title:"win.isWindowMessageHooked(message) Windows",slug:"win-iswindowmessagehooked-message-windows",normalizedTitle:"win.iswindowmessagehooked(message) windows",charIndex:28916},{level:4,title:"win.unhookWindowMessage(message) Windows",slug:"win-unhookwindowmessage-message-windows",normalizedTitle:"win.unhookwindowmessage(message) windows",charIndex:29023},{level:4,title:"win.unhookAllWindowMessages() Windows",slug:"win-unhookallwindowmessages-windows",normalizedTitle:"win.unhookallwindowmessages() windows",charIndex:29099},{level:4,title:"win.setRepresentedFilename(filename) macOS",slug:"win-setrepresentedfilename-filename-macos",normalizedTitle:"win.setrepresentedfilename(filename) macos",charIndex:29154},{level:4,title:"win.getRepresentedFilename() macOS",slug:"win-getrepresentedfilename-macos",normalizedTitle:"win.getrepresentedfilename() macos",charIndex:29256},{level:4,title:"win.setDocumentEdited(edited) macOS",slug:"win-setdocumentedited-edited-macos",normalizedTitle:"win.setdocumentedited(edited) macos",charIndex:29319},{level:4,title:"win.isDocumentEdited() macOS",slug:"win-isdocumentedited-macos",normalizedTitle:"win.isdocumentedited() macos",charIndex:29417},{level:4,title:"win.focusOnWebView()",slug:"win-focusonwebview",normalizedTitle:"win.focusonwebview()",charIndex:29478},{level:4,title:"win.blurWebView()",slug:"win-blurwebview",normalizedTitle:"win.blurwebview()",charIndex:29502},{level:4,title:"win.capturePage([rect])",slug:"win-capturepage-rect",normalizedTitle:"win.capturepage([rect])",charIndex:29523},{level:4,title:"win.loadURL(url[, options])",slug:"win-loadurl-url-options",normalizedTitle:"win.loadurl(url[, options])",charIndex:29685},{level:4,title:"win.loadFile(filePath[, options])",slug:"win-loadfile-filepath-options",normalizedTitle:"win.loadfile(filepath[, options])",charIndex:30718},{level:4,title:"win.reload()",slug:"win-reload",normalizedTitle:"win.reload()",charIndex:31138},{level:4,title:"win.setMenu(menu) Linux Windows",slug:"win-setmenu-menu-linux-windows",normalizedTitle:"win.setmenu(menu) linux windows",charIndex:31180},{level:4,title:"win.removeMenu() Linux Windows",slug:"win-removemenu-linux-windows",normalizedTitle:"win.removemenu() linux windows",charIndex:31255},{level:4,title:"win.setProgressBar(progress[, options])",slug:"win-setprogressbar-progress-options",normalizedTitle:"win.setprogressbar(progress[, options])",charIndex:31300},{level:4,title:"win.setOverlayIcon(overlay, description) Windows",slug:"win-setoverlayicon-overlay-description-windows",normalizedTitle:"win.setoverlayicon(overlay, description) windows",charIndex:31767},{level:4,title:"win.setHasShadow(hasShadow)",slug:"win-sethasshadow-hasshadow",normalizedTitle:"win.sethasshadow(hasshadow)",charIndex:31978},{level:4,title:"win.hasShadow()",slug:"win-hasshadow",normalizedTitle:"win.hasshadow()",charIndex:32043},{level:4,title:"win.setOpacity(opacity) Windows macOS",slug:"win-setopacity-opacity-windows-macos",normalizedTitle:"win.setopacity(opacity) windows macos",charIndex:32087},{level:4,title:"win.getOpacity()",slug:"win-getopacity",normalizedTitle:"win.getopacity()",charIndex:32230},{level:4,title:"win.setShape(rects) Windows Linux 实验性",slug:"win-setshape-rects-windows-linux-实验性",normalizedTitle:"win.setshape(rects) windows linux 实验性",charIndex:32308},{level:4,title:"win.setThumbarButtons(buttons) Windows",slug:"win-setthumbarbuttons-buttons-windows",normalizedTitle:"win.setthumbarbuttons(buttons) windows",charIndex:32500},{level:4,title:"win.setThumbnailClip(region) Windows",slug:"win-setthumbnailclip-region-windows",normalizedTitle:"win.setthumbnailclip(region) windows",charIndex:33187},{level:4,title:"win.setThumbnailToolTip(toolTip) Windows",slug:"win-setthumbnailtooltip-tooltip-windows",normalizedTitle:"win.setthumbnailtooltip(tooltip) windows",charIndex:33345},{level:4,title:"win.setAppDetails(options) Windows",slug:"win-setappdetails-options-windows",normalizedTitle:"win.setappdetails(options) windows",charIndex:33435},{level:4,title:"win.showDefinitionForSelection() macOS",slug:"win-showdefinitionforselection-macos",normalizedTitle:"win.showdefinitionforselection() macos",charIndex:33879},{level:4,title:"win.setIcon(icon) Windows Linux",slug:"win-seticon-icon-windows-linux",normalizedTitle:"win.seticon(icon) windows linux",charIndex:33969},{level:4,title:"win.setWindowButtonVisibility(visible) macOS",slug:"win-setwindowbuttonvisibility-visible-macos",normalizedTitle:"win.setwindowbuttonvisibility(visible) macos",charIndex:34042},{level:4,title:"win.setAutoHideMenuBar(hide)",slug:"win-setautohidemenubar-hide",normalizedTitle:"win.setautohidemenubar(hide)",charIndex:34126},{level:4,title:"win.isMenuBarAutoHide()",slug:"win-ismenubarautohide",normalizedTitle:"win.ismenubarautohide()",charIndex:34265},{level:4,title:"win.setMenuBarVisibility(visible) Windows Linux",slug:"win-setmenubarvisibility-visible-windows-linux",normalizedTitle:"win.setmenubarvisibility(visible) windows linux",charIndex:34322},{level:4,title:"win.isMenuBarVisible()",slug:"win-ismenubarvisible",normalizedTitle:"win.ismenubarvisible()",charIndex:34439},{level:4,title:"win.setVisibleOnAllWorkspaces(visible[, options])",slug:"win-setvisibleonallworkspaces-visible-options",normalizedTitle:"win.setvisibleonallworkspaces(visible[, options])",charIndex:34493},{level:4,title:"win.isVisibleOnAllWorkspaces()",slug:"win-isvisibleonallworkspaces",normalizedTitle:"win.isvisibleonallworkspaces()",charIndex:34950},{level:4,title:"win.setIgnoreMouseEvents(ignore[, options])",slug:"win-setignoremouseevents-ignore-options",normalizedTitle:"win.setignoremouseevents(ignore[, options])",charIndex:35050},{level:4,title:"win.setContentProtection(enable) macOS Windows",slug:"win-setcontentprotection-enable-macos-windows",normalizedTitle:"win.setcontentprotection(enable) macos windows",charIndex:35373},{level:4,title:"win.setFocusable(focusable) macOS Windows",slug:"win-setfocusable-focusable-macos-windows",normalizedTitle:"win.setfocusable(focusable) macos windows",charIndex:35667},{level:4,title:"win.isFocusable() macOS Windows",slug:"win-isfocusable-macos-windows",normalizedTitle:"win.isfocusable() macos windows",charIndex:35771},{level:4,title:"win.setParentWindow(parent)",slug:"win-setparentwindow-parent",normalizedTitle:"win.setparentwindow(parent)",charIndex:35850},{level:4,title:"win.getParentWindow()",slug:"win-getparentwindow",normalizedTitle:"win.getparentwindow()",charIndex:35955},{level:4,title:"win.getChildWindows()",slug:"win-getchildwindows",normalizedTitle:"win.getchildwindows()",charIndex:36005},{level:4,title:"win.setAutoHideCursor(autoHide) macOS",slug:"win-setautohidecursor-autohide-macos",normalizedTitle:"win.setautohidecursor(autohide) macos",charIndex:36060},{level:4,title:"win.selectPreviousTab() macOS",slug:"win-selectprevioustab-macos",normalizedTitle:"win.selectprevioustab() macos",charIndex:36135},{level:4,title:"win.selectNextTab() macOS",slug:"win-selectnexttab-macos",normalizedTitle:"win.selectnexttab() macos",charIndex:36201},{level:4,title:"win.mergeAllWindows() macOS",slug:"win-mergeallwindows-macos",normalizedTitle:"win.mergeallwindows() macos",charIndex:36263},{level:4,title:"win.moveTabToNewWindow() macOS",slug:"win-movetabtonewwindow-macos",normalizedTitle:"win.movetabtonewwindow() macos",charIndex:36338},{level:4,title:"win.toggleTabBar() macOS",slug:"win-toggletabbar-macos",normalizedTitle:"win.toggletabbar() macos",charIndex:36413},{level:4,title:"win.addTabbedWindow(browserWindow) macOS",slug:"win-addtabbedwindow-browserwindow-macos",normalizedTitle:"win.addtabbedwindow(browserwindow) macos",charIndex:36480},{level:4,title:"win.setVibrancy(type) macOS",slug:"win-setvibrancy-type-macos",normalizedTitle:"win.setvibrancy(type) macos",charIndex:36588},{level:4,title:"win.setTrafficLightPosition(position) macOS",slug:"win-settrafficlightposition-position-macos",normalizedTitle:"win.settrafficlightposition(position) macos",charIndex:36985},{level:4,title:"win.getTrafficLightPosition() macOS",slug:"win-gettrafficlightposition-macos",normalizedTitle:"win.gettrafficlightposition() macos",charIndex:37072},{level:4,title:"win.setTouchBar(touchBar) macOS",slug:"win-settouchbar-touchbar-macos",normalizedTitle:"win.settouchbar(touchbar) macos",charIndex:37141},{level:4,title:"win.setBrowserView(browserView) 实验",slug:"win-setbrowserview-browserview-实验",normalizedTitle:"win.setbrowserview(browserview) 实验",charIndex:37320},{level:4,title:"win.getBrowserView() 实验功能",slug:"win-getbrowserview-实验功能",normalizedTitle:"win.getbrowserview() 实验功能",charIndex:37456},{level:4,title:"win.addBrowserView(browserView) 实验功能",slug:"win-addbrowserview-browserview-实验功能",normalizedTitle:"win.addbrowserview(browserview) 实验功能",charIndex:37577},{level:4,title:"win.removeBrowserView(browserView) 实验功能",slug:"win-removebrowserview-browserview-实验功能",normalizedTitle:"win.removebrowserview(browserview) 实验功能",charIndex:37690},{level:4,title:"win.setTopBrowserView(browserView) 实验功能",slug:"win-settopbrowserview-browserview-实验功能",normalizedTitle:"win.settopbrowserview(browserview) 实验功能",charIndex:37761},{level:4,title:"win.getBrowserViews() 实验功能",slug:"win-getbrowserviews-实验功能",normalizedTitle:"win.getbrowserviews() 实验功能",charIndex:37909}],headersStr:"Frameless window Showing the window gracefully Using the ready-to-show event Setting the backgroundColor property 父子窗口 模态窗口 页面可见性 平台相关的提示 Class: BrowserWindow new BrowserWindow([options]) 实例事件 事件： 'page-title-updated' 事件： 'close' 事件： 'closed' 事件: 'session-end' Windows 事件: 'unresponsive' 事件: 'responsive' 事件: 'blur' 事件: 'focus' 事件: 'show' 事件: 'hide' 事件: 'ready-to-show' 事件: 'maximize' 事件: 'unmaximize' 事件: 'minimize' 事件: 'restore' 事件: 'will-resize' macOS Windows 事件: 'resize' 事件：'resized' macOS Windows 事件: 'will-move' macOS Windows 事件: 'move' 事件: 'moved' macOS Windows 事件: 'enter-full-screen' 事件: 'leave-full-screen' 事件: 'enter-html-full-screen' 事件: 'leave-html-full-screen' 事件: 'always-on-top-changed' 事件： 'app-command' WindowsLinux 事件: 'scroll-touch-begin' macOS 事件: 'scroll-touch-end' macOS 事件: 'scroll-touch-edge' macOS 事件: 'swipe' macOS 事件: 'rotate-gesture' macOS 事件: 'sheet-begin' macOS 事件: 'sheet-end' macOS 事件: 'new-window-for-tab' macOS 事件: 'system-context-menu' Windows 静态方法 BrowserWindow.getAllWindows() BrowserWindow.getFocusedWindow() BrowserWindow.fromWebContents(webContents) BrowserWindow.fromBrowserView(browserView) BrowserWindow.fromId(id) 实例属性 win.webContents 只读 win.id 只读 win.autoHideMenuBar win.simpleFullScreen win.fullScreen win.focusable Windows macOS win.visibleOnAllWorkspaces win.shadow win.menuBarVisible Windows Linux win.kiosk win.documentEdited macOS win.representedFilename macOS win.title win.minimizable win.maximizable win.fullScreenable win.resizable win.closable win.movable win.excludedFromShownWindowsMenu macOS win.accessibleTitle 实例方法 win.destroy() win.close() win.focus() win.blur() win.isFocused() win.isDestroyed() win.show() win.showInactive() win.hide() win.isVisible() win.isModal() win.maximize() win.unmaximize() win.isMaximized() win.minimize() win.restore() win.isMinimized() win.setFullScreen(flag) win.isFullScreen() win.setSimpleFullScreen(flag) macOS win.isSimpleFullScreen() macOS win.isNormal() win.setAspectRatio(aspectRatio[, extraSize]) win.setBackgroundColor(backgroundColor) win.previewFile(path[, displayName]) macOS win.closeFilePreview() macOS win.setBounds(bounds[, animate]) win.getBounds() win.getBackgroundColor() win.setContentBounds(bounds[, animate]) win.getContentBounds() win.getNormalBounds() win.setEnabled(enable) win.isEnabled() win.setSize(width, height[, animate]) win.getSize() win.setContentSize(width, height[, animate]) win.getContentSize() win.setMinimumSize(width, height) win.getMinimumSize() win.setMaximumSize(width, height) win.getMaximumSize() win.setResizable(resizable) win.isResizable() win.setMovable(movable) macOS Windows win.isMovable() macOS Windows win.setMinimizable(minimizable) macOS Windows win.isMinimizable() macOS Windows win.setMaximizable(maximizable) macOS Windows win.isMaximizable() macOS Windows win.setFullScreenable(fullscreenable) win.isFullScreenable() win.setClosable(closable) macOS Windows win.isClosable() macOS Windows win.setAlwaysOnTop(flag[, level][, relativeLevel]) win.isAlwaysOnTop() win.moveAbove(mediaSourceId) win.moveTop() win.center() win.setPosition(x, y[, animate]) win.getPosition() win.setTitle(title) win.getTitle() win.setSheetOffset(offsetY[, offsetX]) macOS win.flashFrame(flag) win.setSkipTaskbar(skip) win.setKiosk(flag) win.isKiosk() win.isTabletMode() Windows win.getMediaSourceId() win.getNativeWindowHandle() win.hookWindowMessage(message, callback) Windows win.isWindowMessageHooked(message) Windows win.unhookWindowMessage(message) Windows win.unhookAllWindowMessages() Windows win.setRepresentedFilename(filename) macOS win.getRepresentedFilename() macOS win.setDocumentEdited(edited) macOS win.isDocumentEdited() macOS win.focusOnWebView() win.blurWebView() win.capturePage([rect]) win.loadURL(url[, options]) win.loadFile(filePath[, options]) win.reload() win.setMenu(menu) Linux Windows win.removeMenu() Linux Windows win.setProgressBar(progress[, options]) win.setOverlayIcon(overlay, description) Windows win.setHasShadow(hasShadow) win.hasShadow() win.setOpacity(opacity) Windows macOS win.getOpacity() win.setShape(rects) Windows Linux 实验性 win.setThumbarButtons(buttons) Windows win.setThumbnailClip(region) Windows win.setThumbnailToolTip(toolTip) Windows win.setAppDetails(options) Windows win.showDefinitionForSelection() macOS win.setIcon(icon) Windows Linux win.setWindowButtonVisibility(visible) macOS win.setAutoHideMenuBar(hide) win.isMenuBarAutoHide() win.setMenuBarVisibility(visible) Windows Linux win.isMenuBarVisible() win.setVisibleOnAllWorkspaces(visible[, options]) win.isVisibleOnAllWorkspaces() win.setIgnoreMouseEvents(ignore[, options]) win.setContentProtection(enable) macOS Windows win.setFocusable(focusable) macOS Windows win.isFocusable() macOS Windows win.setParentWindow(parent) win.getParentWindow() win.getChildWindows() win.setAutoHideCursor(autoHide) macOS win.selectPreviousTab() macOS win.selectNextTab() macOS win.mergeAllWindows() macOS win.moveTabToNewWindow() macOS win.toggleTabBar() macOS win.addTabbedWindow(browserWindow) macOS win.setVibrancy(type) macOS win.setTrafficLightPosition(position) macOS win.getTrafficLightPosition() macOS win.setTouchBar(touchBar) macOS win.setBrowserView(browserView) 实验 win.getBrowserView() 实验功能 win.addBrowserView(browserView) 实验功能 win.removeBrowserView(browserView) 实验功能 win.setTopBrowserView(browserView) 实验功能 win.getBrowserViews() 实验功能",content:"# BrowserWindow\n\n> 创建并控制浏览器窗口。\n\n进程：主进程\n\n// 在主进程中.\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow({ width: 800, height: 600 })\n\n// Load a remote URL\nwin.loadURL('https://github.com')\n\n// Or load a local HTML file\nwin.loadFile('index.html')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# Frameless window\n\n如果想创建一个无边框或者任意形状的透明窗口，你可以使用Frameless Window 的API\n\n\n# Showing the window gracefully\n\nWhen loading a page in the window directly, users may see the page load incrementally, which is not a good experience for a native app. To make the window display without a visual flash, there are two solutions for different situations.\n\n\n# Using the ready-to-show event\n\n在加载页面时，渲染进程第一次完成绘制时，如果窗口还没有被显示，渲染进程会发出 ready-to-show 事件 。 在此事件后显示窗口将没有视觉闪烁：\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({ show: false })\nwin.once('ready-to-show', () => {\n  win.show()\n})\n\n\n1\n2\n3\n4\n5\n\n\n这个事件通常在 did-finish-load 事件之后发出，但是页面有许多远程资源时，它可能会在 did-finish-load之前发出事件。\n\n请注意，使用此事件意味着渲染器会被认为是\"可见的\"并绘制，即使 show 是false。 如果您使用 paintWhenInitiallyHidden: false，此事件将永远不会被触发。\n\n\n# Setting the backgroundColor property\n\n对于一个复杂的应用，ready-to-show 可能发出的太晚，会让应用感觉缓慢。 在这种情况下，建议立刻显示窗口，并使用接近应用程序背景的 backgroundColor\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow({ backgroundColor: '#2e2c29' })\nwin.loadURL('https://github.com')\n\n\n1\n2\n3\n4\n\n\n请注意，即使是使用 ready-to-show 事件的应用程序，仍建议使用设置 backgroundColor 使应用程序感觉更原生。\n\n\n# 父子窗口\n\n通过使用 parent 选项，你可以创建子窗口：\n\nconst { BrowserWindow } = require('electron')\n\nconst top = new BrowserWindow()\nconst child = new BrowserWindow({ parent: top })\nchild.show()\ntop.show()\n\n\n1\n2\n3\n4\n5\n6\n\n\nchild 窗口将总是显示在 top 窗口的顶部.\n\n\n# 模态窗口\n\n模态窗口是禁用父窗口的子窗口，创建模态窗口必须设置 parent 和 modal 选项：\n\nconst { BrowserWindow } = require('electron')\n\nconst child = new BrowserWindow({ parent: top, modal: true, show: false })\nchild.loadURL('https://github.com')\nchild.once('ready-to-show', () => {\n  child.show()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 页面可见性\n\n页面可见性 API 的工作方式如下:\n\n * 在所有平台上, 可见性状态与窗口是否隐藏/最小化相关。\n * 此外, 在 macOS 上, 可见性状态还会跟踪窗口的遮挡状态。 如果窗口被另一个窗口完全遮挡了，可见性状态为hidden. 在其他平台上，可见性状态只有在使用 win.hide()使窗口最小化或者隐藏时才为 hidden\n * 如果创建BrowserWindow 时带有 show: false的参数, 最初的可见性状态将为visible 尽管窗口实际上是隐藏的。\n * 如果backgroundThrottling被禁用，可见性状态将保持为visible 即使窗口被最小化、遮挡或隐藏。\n\n推荐您在可见性状态为 hidden 时暂停消耗资源的操作以便减少电力消耗。\n\n\n# 平台相关的提示\n\n * 在 macOS 上，modal 窗口将显示为附加到父窗口的工作表。\n * 在 macOS 上，子窗口将保持与父窗口的相对位置。而在 Windows 和 Linux 中，当父窗口移动时子窗口不会移动。\n * 在Linux上，模态窗口的类型将更改为 dialog.\n * 在Linux上，许多桌面环境不支持隐藏模态窗口。\n\n\n# Class: BrowserWindow\n\n> 创建并控制浏览器窗口。\n\n进程：主进程\n\nBrowserWindow是一个EventEmitter.\n\n通过 options 可以创建一个具有原生属性的 BrowserWindow 。\n\n\n# new BrowserWindow([options])\n\n * options Object (可选)\n   * width 整数型 (可选) - 窗口的宽度（以像素为单位）。 默认值为 800。\n   * height 整数型 (可选) - 窗口的高度（以像素为单位）。 默认值为 600。\n   * x Interger (可选) - (必选 如果使用了y) 窗口相对于屏幕左侧的偏移量。 默认值为将窗口居中。\n   * y Integer (可选) - (必选 如果使用了x) 窗口相对于屏幕顶端的偏移量。 默认值为将窗口居中。\n   * useContentSize Boolean (可选) - width 和 height 将设置为 web 页面的尺寸(译注: 不包含边框), 这意味着窗口的实际尺寸将包括窗口边框的大小，稍微会大一点。 默认值为 false.\n   * center Boolean (可选) - 窗口是否在屏幕居中.\n   * 整型（可选）-窗口的最小宽度。默认为0 默认值为 0.\n   * minHeight Integer(可选) - 窗口的最小高度。 默认值为 0.\n   * maxWidthInteger(可选)-窗口的最大宽度。 默认值不限\n   * maxHeightInteger (可选) - 窗口的最大高度。 默认值不限\n   * resizable Boolean (可选) - 窗口大小是否可调整。 默认值为 true。\n   * movable Boolean (可选) - 窗口是否可以移动. 该属性在Linux上未实现。 默认值为 true。\n   * minimizable Boolean (可选) - 窗口是否可最小化。 该属性在Linux上未实现。 默认值为 true。\n   * maximizable Boolean (可选) - 窗口是否可最大化。 该属性在Linux上未实现。 默认值为 true。\n   * closable Boolean (可选) - 窗口是否可关闭。 该属性在Linux上未实现。 默认值为 true。\n   * focusable Boolean (可选) - 窗口是否可以聚焦. 默认值为 true。 在 Windows 中设置 focusable: false 也意味着设置了skipTaskbar: true. 在 Linux 中设置 focusable: false 时窗口停止与 wm 交互, 并且窗口将始终置顶。\n   * alwaysOnTop Boolean (可选) - 窗口是否永远在别的窗口的上面。 默认值为 false.\n   * fullscreen Boolean (可选) - 窗口是否全屏. 当明确设置为 false 时，在 macOS 上全屏的按钮将被隐藏或禁用. 默认值为 false.\n   * fullscreenable Boolean (可选) - 窗口是否可以进入全屏状态. 在 macOS上, 最大化/缩放按钮是否可用 默认值为 true。\n   * simpleFullscreen Boolean (可选) - 在 macOS 上使用 pre-Lion 全屏。 默认值为 false.\n   * skipTaskbar Boolean (可选) - 是否在任务栏中显示窗口。 默认值为 false。\n   * kiosk Boolean (可选) - 窗口是否进入kiosk模式。 默认值为 false.\n   * titleString(可选) - 默认窗口标题 默认为\"Electron\"。 如果由loadURL()加载的HTML文件中含有标签<title>，此属性将被忽略。\n   * icon (NativeImage | String) (可选) - 窗口的图标. 在 Windows 上推荐使用 ICO 图标来获得最佳的视觉效果, 默认使用可执行文件的图标.\n   * show Boolean (可选) - 窗口是否在创建时显示。 默认值为 true。\n   * paintWhenInitiallyHiddenBoolean(可选) - 当show为false并且渲染器刚刚被创建时，它是否应激活。 为了让document.visibilityState 在show: false的情况下第一次加载时正确地工作，你应该把这个设置成false. 设置为 false 将会导致ready-to-show 事件不触发。 默认值为 true。\n   * frame Boolean (可选) - 设置为 false 时可以创建一个无边框窗口。 默认值为 true。\n   * parent BrowserWindow (可选) - 指定父窗口 默认值为 null.\n   * momodalable Boolean (可选) - 当前是否为模态窗口。 只有当窗口是子窗口时才起作用。 默认值为 false.\n   * acceptFirstMouse Boolean (optional) - Whether clicking an inactive window will also click through to the web contents. Default is false on macOS. This option is not configurable on other platforms.\n   * disableAutoHideCursor Boolean (可选) - 是否在打字时隐藏光标。 默认值为 false.\n   * autoHideMenuBar Boolean (可选) - 自动隐藏菜单栏，除非按了Alt键。 默认值为 false.\n   * enableLargerThanScreen Boolean (可选) - 是否允许改变窗口的大小使之大于屏幕的尺寸. 仅适用于 macOS，因为其它操作系统默认允许 大于屏幕的窗口。 默认值为 false.\n   * backgroundColor String(可选) - 窗口的背景颜色为十六进制值，例如#66CD00, #FFF, #80FFFFFF (设置transparent为true方可支持alpha属性，格式为#AARRGGBB)。 默认值为 #FFF（白色）。\n   * hasShadow Boolean (可选) - 窗口是否有阴影. 默认值为 true。\n   * opacity Number (可选)-设置窗口初始的不透明度, 介于 0.0 (完全透明) 和 1.0 (完全不透明) 之间。 目前仅支持Windows 和 macos\n   * darkTheme Boolean (optional) - 强制窗口使用深色主题，只在部分GTK+3桌面环境下有效。 默认值为 false.\n   * transparent Boolean (可选) - 使窗口 透明。 默认值为 false. 在Windows上，仅在无边框窗口下起作用。\n   * type String (可选) - 窗口的类型, 默认为普通窗口. 更多信息见下文\n   * visualEffectState String (optional) - 指定material外观应如何反映macOS上的窗口活动状态。 必须与 vibrancy 属性一起使用。 可能的值有\n     * followWindow - 当窗口处于激活状态时，后台应自动显示为激活状态，当窗口处于非激活状态时，后台应自动显示为非激活状态。 默认为该值。\n     * active - 后台应一直显示为激活状态。\n     * inactive - 后台应一直显示为非激活状态。\n   * titleBarStyle String (optional) macOS Windows - The style of window title bar. 默认值为 default. 可能的值有\n     * default - Results in the standard title bar for macOS or Windows respectively.\n     * hidden - Results in a hidden title bar and a full size content window. On macOS, the window still has the standard window controls (“traffic lights”) in the top left. On Windows, when combined with titleBarOverlay: true it will activate the Window Controls Overlay (see titleBarOverlay for more information), otherwise no window controls will be shown.\n     * hiddenInset - Only on macOS, results in a hidden title bar with an alternative look where the traffic light buttons are slightly more inset from the window edge.\n     * customButtonsOnHover - Only on macOS, results in a hidden title bar and a full size content window, the traffic light buttons will display when being hovered over in the top left of the window. ** 注意: **此选项目前是实验性的。\n   * trafficLightPosition Point (可选的) - 设置控制按钮在无边框窗口中的位置。\n   * roundedCorners Boolean (可选) - 无框窗口是否应该在 macOS 上 圆角。 默认值为 true。\n   * fullscreenWindowTitle Boolean (可选) 已弃用 - macOS全屏模式下，在标题栏展示标题，需要 titleBarStyle 设置 hiddenInset 属性。 默认值为 false.\n   * thickFrame Boolean(可选)-对 Windows 上的无框窗口使用WS_THICKFRAME 样式，会增加标准窗口框架。 设置为 false 时将移除窗口的阴影和动画. 默认值为 true。\n   * vibrancy String (可选) - 窗口是否使用 vibrancy 动态效果, 仅 macOS 中有效. 可选值为 appearance-based, light, dark, titlebar, selection, menu, popover, sidebar, medium-light, ultra-dark, header, sheet, window, hud, fullscreen-ui, tooltip, content, under-window 或 under-page。 请注意： appearance-based, light, dark, medium-light, and ultra-dark 已被弃用，并将在即将推出的 macOS Catalina (10.15版本) 中被移除。\n   * zoomToPageWidth Boolean (可选) - 控制 macOS 上，当选择性单击工具栏上的绿色stoplight按钮或单击 Window > Zoom menu item时的行为。 如果为 true, 窗口将放大到网页的本身宽度, false 将使其缩放到屏幕的宽度。 这也会影响直接调用 maximize() 时的行为。 默认值为 false.\n   * tabbingIdentifier String (可选) - 选项组卡的名称，在macOS 10.12+上可使窗口在原生选项卡中打开. 具有相同标识符的窗口将被组合在一起。 这还会在窗口的标签栏中添加一个原生的新选项卡按钮, 并允许 app 和窗口接收 new-window-for-tab 事件。\n   * webPreferences Object (可选) - 网页功能设置。\n     * devTools Boolean (可选) - 是否开启 DevTools. 如果设置为 false, 则无法使用 BrowserWindow.webContents.openDevTools () 打开 DevTools。 默认值为 true。\n     * nodeIntegration Boolean (可选) - 是否启用Node integration. 默认值为 false.\n     * nodeIntegrationInWorker Boolean (可选) - 是否在Web工作器中启用了Node集成. 默认值为 false. 更多内容参见 多线程.\n     * nodeIntegrationInSubFrames Boolean (可选项)(实验性)，是否允许在子页面(iframe)或子窗口(child window)中集成Node.js； 预先加载的脚本会被注入到每一个iframe，你可以用 process.isMainFrame 来判断当前是否处于主框架（main frame）中。\n     * preload String (可选) -在页面运行其他脚本之前预先加载指定的脚本 无论页面是否集成Node, 此脚本都可以访问所有Node API 脚本路径为文件的绝对路径。 当 node integration 关闭时, 预加载的脚本将从全局范围重新引入node的全局引用标志 参考示例.\n     * sandbox Boolean (可选)-如果设置该参数, 沙箱的渲染器将与窗口关联, 使它与Chromium OS-level 的沙箱兼容, 并禁用 Node. js 引擎。 它与 nodeIntegration 的选项不同，且预加载脚本的 API 也有限制. 更多详情.\n     * session Session (可选) - 设置页面的 session 而不是直接忽略 Session 对象, 也可用 partition 选项来代替，它接受一个 partition 字符串. 同时设置了session 和 partition时, session 的优先级更高. 默认使用默认的 session.\n     * partition String (optional) - 通过 session 的 partition 字符串来设置界面session. 如果 partition 以 persist:开头, 该页面将使用持续的 session，并在所有页面生效，且使用同一个partition. 如果没有 persist: 前缀, 页面将使用 in-memory session. 通过分配相同的 partition, 多个页可以共享同一会话。 默认使用默认的 session.\n     * zoomFactor Number (可选) - 页面的默认缩放系数, 3.0 表示 300%。 默认值为 1.0.\n     * javascript Boolean (可选) - 是否启用 JavaScript 支持。 默认值为 true。\n     * webSecurity Boolean (可选) - 当设置为 false, 它将禁用同源策略 (通常用来测试网站), 如果此选项不是由开发者设置的，还会把 allowRunningInsecureContent设置为 true. 默认值为 true。\n     * allowRunningInsecureContent Boolean (可选) - 允许一个 https 页面运行来自http url的JavaScript, CSS 或 plugins。 默认值为 false.\n     * images Boolean (可选) - 允许加载图片。 默认值为 true。\n     * imageAnimationPolicy String (optional) - Specifies how to run image animations (E.g. GIFs). Can be animate, animateOnce or noAnimation. 默认值为 animate.\n     * textAreasAreResizable Boolean (可选) - 允许调整 TextArea 元素大小。 默认值为 true。\n     * webgl Boolean (可选) - 启用 WebGL 支持。 默认值为 true。\n     * plugins Boolean (可选) - 是否应该启用插件。 默认值为 false.\n     * experimentalFeatures Boolean (可选) - 启用 Chromium 的实验功能。 默认值为 false.\n     * scrollBounce Boolean (可选) - 在 macOS 启用弹力动画 (橡皮筋) 效果。 默认值为 false.\n     * enableBlinkFeaturesString(可选) - 以逗号分隔的需要启用的特性列表，譬如CSSVariables,KeyboardEventKey 在 RuntimeEnabledFeatures.json5文件中查看被支持的所有特性.\n     * disableBlinkFeatures String (可选) - 以 ,分隔的禁用特性列表, 如 CSSVariables,KeyboardEventKey. 在RuntimeEnabledFeatures.json5 文件中查看被支持的所有特性.\n     * defaultFontFamily Object (可选) - 为font-family设置默认字体。\n       * standard String (可选) - 默认值为 Times New Roman.\n       * serif String (可选) - 默认值为 Times New Roman.\n       * sansSerif String (可选) - 默认值为 Arial.\n       * monospace String (可选) - 默认值为 Courier New.\n       * cursive String (可选) - 默认值为 Script.\n       * fantasy String (可选) - 默认值为 Impact.\n     * defaultFontSize Integer (可选) - 默认值为 16.\n     * defaultMonospaceFontSize Integer (可选) - 默认值为 13.\n     * minimumFontSize Integer (可选) - 默认值为 0.\n     * defaultEncoding String (可选) - 默认值为 ISO-8859-1.\n     * backgroundThrottlingBoolean (可选)-是否在页面成为背景时限制动画和计时器。 这也会影响到 Page Visibility API. 默认值为 true。\n     * offscreen Boolean (optional) - 是否绘制和渲染可视区域外的窗口. 默认值为 false. 更多详情, 请参见 offscreen rendering tutorial 。\n     * contextIsolation Boolean (可选) - 是否在独立 JavaScript 环境中运行 Electron API和指定的preload 脚本. 默认为 true。 预加载脚本所运行的上下文环境只能访问其自身专用的文档和全局窗口，其自身一系列内置的JavaScript (Array, Object, JSON, 等等) 也是如此，这些对于已加载的内容都是不可见的。 Electron API 将只在预加载脚本中可用，在已加载页面中不可用。 这个选项应被用于加载可能不被信任的远程内容时来确保加载的内容无法篡改预加载脚本和任何正在使用的Electron api。 该选项使用的是与Chrome内容脚本相同的技术。 你可以在开发者工具Console选项卡内顶部组合框中选择 'Electron Isolated Context'条目来访问这个上下文。\n     * nativeWindowOpen Boolean (可选) - 是否使用原生的window.open(). 默认值为 true。 除了 nodeIntegrationInSubFrames 为true时，其它情况下node integration将永远禁用。\n     * webviewTag Boolean (可选) - 是否启用 <webview> tag标签. 默认值为 false. ** 注意: **为 < webview> 配置的 preload 脚本在执行时将启用节点集成, 因此应确保远程或不受信任的内容无法创建恶意的 preload 脚本 。 可以使用 webContents 上的 will-attach-webview 事件对 preload 脚本进行剥离, 并验证或更改 <webview> 的初始设置。\n     * additionalArguments String[] (可选) - 一个将被附加到当前应用程序的渲染器进程中process.argv的字符串列表 。 可用于将少量的数据传递到渲染器进程预加载脚本中。\n     * safeDialogs Boolean (可选) - 是否启用浏览器样式的持续对话框保护。 默认值为 false.\n     * safeDialogsMessage String (可选) - 当持续对话框保护被触发时显示的消息。 如果没有定义，那么将使用缺省的消息。注意：当前缺省消息是英文，并没有本地化。\n     * disableDialogs Boolean (可选) - 是否完全禁用对话框。 覆盖 safeDialogs。 默认值为 false.\n     * navigateOnDragDrop Boolean (可选) - 将文件或链接拖放到页面上时是否触发页面跳转。 默认值为 false.\n     * autoplayPolicy String (可选) - 窗口中内容要使用的自动播放策略，值可以是 no-user-gesture-required, user-gesture-required, document-user-activation-required。 默认为 no-user-gesture-required。\n     * disableHtmlFullscreenWindowResize Boolean (可选) - 是否阻止窗口在进入 HTML 全屏时调整大小。 默认值为 false.\n     * accessibleTitle String (可选) - 仅提供给如屏幕读取器等辅助工具的替代标题字符串。 此字符串不直接对用户可见。\n     * spellcheck Boolean (可选) - 是否启用内置拼写检查器。 默认值为 true。\n     * enableWebSQL Boolean (可选) - 是否启用 WebSQL api。 默认值为 true。\n     * v8CacheOptions String (可选) - 强制 blink 使用 v8 代码缓存策略。 可接受的值为：\n       * none - 禁用代码缓存\n       * code - 基于启发式代码缓存\n       * bypassHeatCheck - 绕过启发式代码缓存，但使用懒编译。\n       * bypassHeatCheckAndEagerCompile - 与上面相同，除了编译是及时的。 默认策略是 code。\n     * enablePreferredSizeMode Boolean (可选) - 是否启用首选大小模式。 首选大小是包含文档布局所需的最小大小--无需滚动。 启用该属性将导致在首选大小发生变化时，在WebContents 上触发 preferred-size-changed 事件。 默认值为 false.\n   * titleBarOverlay Object | Boolean (optional) - When using a frameless window in conjuction with win.setWindowButtonVisibility(true) on macOS or using a titleBarStyle so that the standard window controls (\"traffic lights\" on macOS) are visible, this property enables the Window Controls Overlay JavaScript APIs and CSS Environment Variables. Specifying true will result in an overlay with default system colors. 默认值为 false.\n     * color String (optional) Windows - The CSS color of the Window Controls Overlay when enabled. Default is the system color.\n     * symbolColor String (optional) Windows - The CSS color of the symbols on the Window Controls Overlay when enabled. Default is the system color.\n\n当使用 minWidth/maxWidth/minHeight/maxHeight 设置最小或最大窗口大小时, 它只限制用户。 它不会阻止您将不符合大小限制的值传递给 setBounds/setSize 或 BrowserWindow 的构造函数。\n\ntype 选项的候选值和行为与平台相关。 可能的值有\n\n * 在 Linux 上, 可能的类型有 desktop、dock、toolbar、splash、notification。\n * 在 macOS 上，可能的类型是 desktop, textured。\n   * textured 类型增加金属色泽的外观 (NSTexturedBackgroundWindowMask).\n   * desktop 类型将窗口置于桌面背景级别 (kCGDesktopWindowLevel - 1). 注意，桌面窗口不会接收焦点、键盘或鼠标事件，但您可以使用< 0> globalShortcut < /0 >接收快捷键的消息\n * 在 Windows 上, 可能的类型为 toolbar.\n\n\n# 实例事件\n\n使用 new BrowserWindow 创建的对象具有以下属性:\n\n** 注意: **某些事件仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n# 事件： 'page-title-updated'\n\n返回:\n\n * event Event\n * title String\n * explicitSet Boolean\n\n文档更改标题时触发，调用event.preventDefault()将阻止更改标题 当标题合成自文件 URL 中时， explicitSet 的值为false。\n\n# 事件： 'close'\n\n返回:\n\n * event Event\n\n在窗口要关闭的时候触发。 它在DOM 的beforeunload 和 unload 事件之前触发. 调用event.preventDefault()将阻止这个操作。\n\n通常你想通过 beforeunload处理器来决定是否关闭窗口，但是它也会在窗口重载的时候触发. 在 Electron 里，返回除 undefined之外的任何值都将取消关闭. 例如：\n\nwindow.onbeforeunload = (e) => {\n  console.log('I do not want to be closed')\n\n  // 与通常的浏览器不同,会提示给用户一个消息框,\n  //返回非空值将默认取消关闭\n  //建议使用对话框 API 让用户确认关闭应用程序.\n  e.returnValue = false // 相当于 `return false` ，但是不推荐使用\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n注意: window.onbeforeunload = handler 和 window.addEventListener('beforeunload', handler) 的行为有细微的区别。 推荐总是显式地设置 event.returnValue, 而不是仅仅返回一个值, 因为前者在Electron中作用得更为一致.\n\n# 事件： 'closed'\n\n在窗口关闭时触发 当你接收到这个事件的时候, 你应当移除相应窗口的引用对象，避免再次使用它.\n\n# 事件: 'session-end' Windows\n\n因为强制关机或机器重启或会话注销而导致窗口会话结束时触发\n\n# 事件: 'unresponsive'\n\n网页变得未响应时触发\n\n# 事件: 'responsive'\n\n未响应的页面变成响应时触发\n\n# 事件: 'blur'\n\n当窗口失去焦点时触发\n\n# 事件: 'focus'\n\n当窗口获得焦点时触发\n\n# 事件: 'show'\n\n当窗口显示时触发\n\n# 事件: 'hide'\n\n当窗口隐藏时触发\n\n# 事件: 'ready-to-show'\n\n当页面已经渲染完成(但是还没有显示) 并且窗口可以被现实时触发\n\n请注意，使用此事件意味着渲染器会被认为是\"可见的\"并绘制，即使 show 是false。 如果您使用 paintWhenInitiallyHidden: false，此事件将永远不会被触发。\n\n# 事件: 'maximize'\n\n窗口最大化时触发\n\n# 事件: 'unmaximize'\n\n当窗口从最大化状态退出时触发\n\n# 事件: 'minimize'\n\n窗口最小化时触发\n\n# 事件: 'restore'\n\n当窗口从最小化状态恢复时触发\n\n# 事件: 'will-resize' macOS Windows\n\n返回:\n\n * event Event\n * newBounds Rectangle - 将要调整到的窗口尺寸。\n * details Object\n   * edge (String) - The edge of the window being dragged for resizing. Can be bottom, left, right, top-left, top-right, bottom-left or bottom-right.\n\n调整窗口大小前触发。 调用 event.preventDefault() 将阻止窗口大小调整。\n\n请注意，该事件仅在手动调整窗口大小时触发。 通过 setBounds/setSize 调整窗口大小不会触发此事件。\n\nThe possible values and behaviors of the edge option are platform dependent. 可能的值有\n\n * On Windows, possible values are bottom, top, left, right, top-left, top-right, bottom-left, bottom-right.\n * On macOS, possible values are bottom and right.\n   * The value bottom is used to denote vertical resizing.\n   * The value right is used to denote horizontal resizing.\n\n# 事件: 'resize'\n\n调整窗口大小后触发。\n\n# 事件：'resized' macOS Windows\n\n当窗口完成调整大小后触发一次。\n\n这通常在手动调整窗口大小后触发。 在 macOS 系统上，使用setBounds/setSize调整窗口大小并将animate参数设置为true也会在调整大小完成后触发此事件。\n\n# 事件: 'will-move' macOS Windows\n\n返回:\n\n * event Event\n * newBounds Rectangle - 窗口将要被移动到的位置。\n\n窗口移动前触发。 在Windows上，调用 event.preventDefault() 将阻止窗口移动。\n\n请注意，该事件仅在手动调整窗口大小时触发。 通过 setBounds/setSize 调整窗口大小不会触发此事件。\n\n# 事件: 'move'\n\n窗口移动到新位置时触发\n\n# 事件: 'moved' macOS Windows\n\n当窗口移动到新位置时触发一次\n\n注意: 在 macOS 上，此事件是move的别名。\n\n# 事件: 'enter-full-screen'\n\n窗口进入全屏状态时触发\n\n# 事件: 'leave-full-screen'\n\n窗口离开全屏状态时触发\n\n# 事件: 'enter-html-full-screen'\n\n窗口进入由HTML API 触发的全屏状态时触发\n\n# 事件: 'leave-html-full-screen'\n\n窗口离开由HTML API触发的全屏状态时触发\n\n# 事件: 'always-on-top-changed'\n\n返回:\n\n * event Event\n * isAlwaysOnTop Boolean\n\n设置或取消设置窗口总是在其他窗口的顶部显示时触发。\n\n# 事件： 'app-command' Windows__Linux\n\n返回:\n\n * event Event\n * command String\n\n请求一个应用程序命令时触发. 典型的是键盘上的媒体键或浏览器命令, 以及在Windows上的一些鼠标中内置的“后退”按钮。\n\n命令是小写的，下划线替换为连字符，以及APPCOMMAND_ 前缀将被删除。 例如 APPCOMMAND_BROWSER_BACKWARD将被browser-backward触发.\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow()\nwin.on('app-command', (e, cmd) => {\n  // 当用户鼠标单击返回按钮时将自动返回上一个窗口\n  if (cmd === 'browser-backward' && win.webContents.canGoBack()) {\n    win.webContents.goBack()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n以下应用命令在 Linux 上有明确地支持：\n\n * browser-backward\n * browser-forward\n\n# 事件: 'scroll-touch-begin' macOS\n\n滚轮事件阶段开始时触发\n\n# 事件: 'scroll-touch-end' macOS\n\n滚轮事件阶段结束时触发\n\n# 事件: 'scroll-touch-edge' macOS\n\n滚轮事件阶段到达元素边缘时触发\n\n# 事件: 'swipe' macOS\n\n返回:\n\n * event Event\n * direction String\n\n三指滑动时触发。 可能的方向是 up, right, down, left。\n\n此事件的基本方法是用来处理旧的macOS风格的触摸板滑动，屏幕内容不会随着滑动而移动。 大多数macOS触摸板都不再允许配置这样的滑动，因此为了正确地触发该事件，需将System Preferences > Trackpad > More Gestures中'Swipe between pages'首选项设置为'Swipe with two or three fingers'。\n\n# 事件: 'rotate-gesture' macOS\n\n返回:\n\n * event Event\n * rotation Float\n\n在触控板旋转手势上触发。 持续触发直到旋转手势结束。 每次触发的 rotation 值是自上次触发以来旋转的角度。 旋转手势最后一次触发的事件值永远是0。 逆时针旋转值为正值，顺时针旋转值为负值。\n\n# 事件: 'sheet-begin' macOS\n\n窗口打开sheet(工作表) 时触发\n\n# 事件: 'sheet-end' macOS\n\n窗口关闭sheet(工作表) 时触发\n\n# 事件: 'new-window-for-tab' macOS\n\n当点击了系统的新标签按钮时触发\n\n# 事件: 'system-context-menu' Windows\n\n返回:\n\n * event Event\n * point Point - 上下文菜单触发时的屏幕坐标。\n\n当系统上下文菜单在窗口上触发时发出， 通常只在用户右键点击你窗口的非客户端区域时触发。 非客户端区域指的是窗口标题栏或无边框窗口中被你声明为 -webkit-app-region: drag 的任意区域。\n\n调用 event.preventDefault() 将阻止菜单显示。\n\n\n# 静态方法\n\nBrowserWindow 类有以下方法:\n\n# BrowserWindow.getAllWindows()\n\n返回 BrowserWindow[] - 所有打开的窗口的数组\n\n# BrowserWindow.getFocusedWindow()\n\n返回 BrowserWindow | null - 此应用程序中当前获得焦点的窗口，如果无就返回 null.\n\n# BrowserWindow.fromWebContents(webContents)\n\n * webContents WebContents\n\n返回 BrowserWindow | null - 返回拥有给定 webContents的窗口，否则如果内容不属于一个窗口，返回null。\n\n# BrowserWindow.fromBrowserView(browserView)\n\n * browserView BrowserView\n\n返回 BrowserWindow | null - 拥有给定 browserView 的窗口。 如果给定的视图没有附加到任何窗口，返回 null。\n\n# BrowserWindow.fromId(id)\n\n * id Integer\n\n返回 BrowserWindow | null - 带有给定 id 的窗口。\n\n\n# 实例属性\n\n使用 new BrowserWindow 创建的对象具有以下属性:\n\nconst { BrowserWindow } = require('electron')\n// 本例中 `win` 是我们的实例\nconst win = new BrowserWindow({ width: 800, height: 600 })\nwin.loadURL('https://github.com')\n\n\n1\n2\n3\n4\n\n\n# win.webContents 只读\n\n此窗口拥有的 WebContents 对象。 所有与网页相关的事件和操作都将通过它完成。\n\n有关它的方法和事件, 请参见 webContents documentation\n\n# win.id 只读\n\n一个 Integer 属性代表了窗口的唯一ID。 每个ID在整个Electron应用程序的所有 BrowserWindow 实例中都是唯一的。\n\n# win.autoHideMenuBar\n\n一个 Boolean 属性决定窗口菜单栏是否自动隐藏。 一旦设置，菜单栏将只在用户单击 Alt 键时显示。\n\n如果菜单栏已经可见，将该属性设置为 true 将不会使其立刻隐藏。\n\n# win.simpleFullScreen\n\n一个 Boolean 属性，用于决定窗口是否处于简单(pre-Lion) 全屏模式。\n\n# win.fullScreen\n\n一个 Boolean 属性，用于决定窗口是否处于全屏模式。\n\n# win.focusable Windows macOS\n\nA Boolean property that determines whether the window is focusable.\n\n# win.visibleOnAllWorkspaces\n\n一个 Boolean 属性，用于决定窗口是否在所有工作区中可见。\n\n注意： 在 Windows 上始终返回 false。\n\n# win.shadow\n\n一个 Boolean 属性，用于决定窗口是否显示阴影。\n\n# win.menuBarVisible Windows Linux\n\n一个 Boolean 属性，用于决定菜单栏是否可见。\n\n注意： 如果菜单栏自动隐藏，用户仍然可以通过单击 Alt 键来唤出菜单栏。\n\n# win.kiosk\n\n一个 Boolean 属性，用于决定窗口是否处于kiosk模式。\n\n# win.documentEdited macOS\n\n一个 Boolean 属性指明窗口文档是否已被编辑。\n\n当设置为 true 时，标题栏的图标将变灰。\n\n# win.representedFilename macOS\n\n一个 String 属性，用于确定窗口代表的文件的路径名，文件的图标将显示在窗口的标题栏中。\n\n# win.title\n\n一个 String 属性，用于确定原生窗口的标题。\n\n注意： 网页的标题可以与原生窗口的标题不同。\n\n# win.minimizable\n\n一个 Boolean 属性，用于决定窗口是否可被用户手动最小化。\n\n在 Linux 上，setter 不会进行任何操作，尽管 getter 返回的是 true。\n\n# win.maximizable\n\n一个 Boolean 属性，用于决定窗口是否可被用户手动最大化。\n\n在 Linux 上，setter 不会进行任何操作，尽管 getter 返回的是 true。\n\n# win.fullScreenable\n\n一个 Boolean 属性，决定最大化/缩放窗口按钮是切换全屏模式还是最大化窗口。\n\n# win.resizable\n\n一个 Boolean 属性，用于决定窗口是否可被用户手动调整大小。\n\n# win.closable\n\n一个 Boolean 属性，用于决定窗口是否可被用户手动关闭。\n\n在 Linux 上，setter 不会进行任何操作，尽管 getter 返回的是 true。\n\n# win.movable\n\n一个 Boolean 属性，用于决定窗口是否可被用户移动。\n\n在 Linux 上，setter 不会进行任何操作，尽管 getter 返回的是 true。\n\n# win.excludedFromShownWindowsMenu macOS\n\n一个 Boolean 属性，用于决定窗口是否从应用程序的 Windows 菜单排除。 默认值为 false\n\nconst win = new BrowserWindow({ height: 600, width: 600 })\n\nconst template = [\n  {\n    role: 'windowmenu'\n  }\n]\n\nwin.excludedFromShownWindowsMenu = true\n\nconst menu = Menu.buildFromTemplate(template)\nMenu.setApplicationMenu(menu)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# win.accessibleTitle\n\n一个 String 属性，定义一个仅为如屏幕阅读器等辅助工具提供的替代标题 。 此字符串不直接对用户可见。\n\n\n# 实例方法\n\n使用 new BrowserWindow创建的对象具有以下实例方法:\n\n** 注意: **某些方法仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n# win.destroy()\n\n强制关闭窗口, 除了closed之外，close，unload 和 beforeunload 都不会被触发\n\n# win.close()\n\n尝试关闭窗口。 该方法与用户手动单击窗口的关闭按钮效果相同。 但网页可能会取消这个关闭操作。 查看 关闭事件。\n\n# win.focus()\n\n聚焦于窗口\n\n# win.blur()\n\n取消窗口的聚焦\n\n# win.isFocused()\n\n返回 Boolean - 判断窗口是否聚焦\n\n# win.isDestroyed()\n\n返回 Boolean -判断窗口是否被销毁\n\n# win.show()\n\n显示并聚焦于窗口\n\n# win.showInactive()\n\n显示但不聚焦于窗口\n\n# win.hide()\n\n隐藏窗口\n\n# win.isVisible()\n\n返回 Boolean - 判断窗口是否可见\n\n# win.isModal()\n\n返回 Boolean - 判断是否为模态窗口\n\n# win.maximize()\n\n最大化窗口。 如果窗口尚未显示，该方法也会将其显示 (但不会聚焦)。\n\n# win.unmaximize()\n\n取消窗口最大化\n\n# win.isMaximized()\n\n返回 Boolean - 判断窗口是否最大化\n\n# win.minimize()\n\n最小化窗口。 在某些平台上, 最小化的窗口将显示在Dock中。\n\n# win.restore()\n\n将窗口从最小化状态恢复到以前的状态。\n\n# win.isMinimized()\n\n返回 Boolean -判断窗口是否最小化\n\n# win.setFullScreen(flag)\n\n * flag Boolean\n\n设置窗口是否应处于全屏模式。\n\n# win.isFullScreen()\n\n返回 Boolean - 窗口当前是否已全屏\n\n# win.setSimpleFullScreen(flag) macOS\n\n * flag Boolean\n\n进入或离开简单的全屏模式。\n\n简单全屏模式模拟了 Lion (10.7) 之前的macOS版本中的原生全屏行为。\n\n# win.isSimpleFullScreen() macOS\n\n返回 Boolean - 窗口是否为简单全屏模式(pre-Lion)。\n\n# win.isNormal()\n\n返回 Boolean - 窗口是否处于正常状态（未最大化，未最小化，不在全屏模式下）。\n\n# win.setAspectRatio(aspectRatio[, extraSize])\n\n * aspectRatio Float- 为内容视图保持的宽高比.\n * extraSize Size (可选) macOS - 保持宽高比时不包括的额外大小。\n\n这将使窗口保持长宽比。 额外的大小允许开发人员有空间 (以像素为单位), 不包括在纵横比计算中。 此 API 已经考虑了窗口大小和内容大小之间的差异。\n\n想象一个使用高清视频播放器和相关控件的普通窗口。 假假如左边缘有15px, 右边缘有25px, 在播放器下面有50px. 为了保持播放器本身16:9 的长宽比 (标准的HD长宽比为1920x1080)， 我们可以使用 16/9 和 { width: 40, height: 50 } 的参数调用这个函数。 第二个参数不管网页中的额外的宽度和高度在什么位置, 只要它们存在就行. 在全部内部窗口中，加上任何额外的宽度和高度 。\n\nThe aspect ratio is not respected when window is resized programmatically with APIs like win.setSize.\n\n# win.setBackgroundColor(backgroundColor)\n\n * backgroundColor String - 十六进制的窗口背景色，如 #66CD00、#FFF和#80FFFFFF。 (如果transparent是true的话，也支持alpha 通道。) 默认值为 #FFF（白色）。\n\n设置窗口的背景颜色。 请参阅 设置背景颜色。\n\n# win.previewFile(path[, displayName]) macOS\n\n * path String -要用 QuickLook 预览的文件的绝对路径。 这一点很重要，因为Quick Look 使用了路径上的文件名和文件扩展名 来决定要打开的文件的内容类型。\n * displayName String (可选) - 在Quick Look 模态视图中显示的文件的名称。 这完全是视觉的，不会影响文件的内容类型。 默认值为 path.\n\n使用 Quick Look来预览路径中的文件.\n\n# win.closeFilePreview() macOS\n\n关闭当前打开的 Quick Look 面板.\n\n# win.setBounds(bounds[, animate])\n\n * bounds Partial<Rectangle>\n * animate Boolean (可选) macOS\n\n重置窗口，并且移动窗口到指定的位置. 任何未提供的属性将默认为其当前值。\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow()\n\n// 设置所有 bounds 边界属性\nwin.setBounds({ x: 440, y: 225, width: 800, height: 600 })\n\n// 设置单一 bounds 边界属性\nwin.setBounds({ width: 100 })\n\n// { x: 440, y: 225, width: 100, height: 600 }\nconsole.log(win.getBounds())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# win.getBounds()\n\n返回 Rectangle - 窗口的 bounds 作为 Object。\n\n# win.getBackgroundColor()\n\n返回 String - 获取窗口的背景颜色。 请参阅 设置背景颜色。\n\n# win.setContentBounds(bounds[, animate])\n\n * bounds Rectangle\n * animate Boolean (可选) macOS\n\n调整窗口的工作区 (如网页) 的大小并将其移动到所提供的边界。\n\n# win.getContentBounds()\n\n返回 Rectangle - 窗口客户端区域的 bounds 对象。\n\n# win.getNormalBounds()\n\n返回 Rectangle - 包含正常状态下的窗口大小。\n\n**注意：**无论当前的窗口状态为：最大化、最小化或者全屏，这个方法都将得到窗口在正常显示状态下的位置信息以及大小信息。 在正常状态下，getBounds 与 getNormalBounds 得到的边界信息 Rectangle 是一致的。\n\n# win.setEnabled(enable)\n\n * enable Boolean\n\n禁用或者启用窗口。\n\n# win.isEnabled()\n\n返回 Boolean - 窗口是否启用。\n\n# win.setSize(width, height[, animate])\n\n * width Integer\n * height Integer\n * animate Boolean (可选) macOS\n\n调整窗口的width和 height. 如果 width 或 height 低于任何设定的最小尺寸约束，窗口将对齐到约束的最小尺寸。\n\n# win.getSize()\n\n返回 Integer []-包含窗口的宽度和高度。\n\n# win.setContentSize(width, height[, animate])\n\n * width Integer\n * height Integer\n * animate Boolean (可选) macOS\n\n将窗口的工作区 (如网页) 的大小调整为 width 和 height。\n\n# win.getContentSize()\n\n返回 Integer []-包含窗口的宽度和高度。\n\n# win.setMinimumSize(width, height)\n\n * width Integer\n * height Integer\n\n设置窗口最小化的 width 和height.\n\n# win.getMinimumSize()\n\n返回 Integer []-包含窗口最小化的宽度和高度。\n\n# win.setMaximumSize(width, height)\n\n * width Integer\n * height Integer\n\n设置窗口最大化的 width 和 height.\n\n# win.getMaximumSize()\n\n返回 Integer []-包含窗口最大化的宽度和高度。\n\n# win.setResizable(resizable)\n\n * resizable Boolean\n\n设置用户是否可以手动调整窗口大小。\n\n# win.isResizable()\n\n返回 Boolean - 用户是否可以手动调整窗口大小。\n\n# win.setMovable(movable) macOS Windows\n\n * movable Boolean\n\n设置用户是否可以移动窗口。 在Linux上不起作用。\n\n# win.isMovable() macOS Windows\n\n返回 Boolean - 窗口是否可以被用户拖动\n\n在 Linux 上总是返回 true。\n\n# win.setMinimizable(minimizable) macOS Windows\n\n * minimizable Boolean\n\n设置用户是否可以手动将窗口最小化。 在Linux上不起作用。\n\n# win.isMinimizable() macOS Windows\n\n返回 Boolean - 用户是否可以手动最小化窗口。\n\n在 Linux 上总是返回 true。\n\n# win.setMaximizable(maximizable) macOS Windows\n\n * maximizable Boolean\n\n设置用户是否可以手动最大化窗口。 在Linux上不起作用。\n\n# win.isMaximizable() macOS Windows\n\n返回 Boolean - 窗口是否可以最大化.\n\n在 Linux 上总是返回 true。\n\n# win.setFullScreenable(fullscreenable)\n\n * fullscreenable Boolean\n\n设置最大化/缩放窗口按钮是切换全屏模式还是最大化窗口。\n\n# win.isFullScreenable()\n\n返回 Boolean - 最大化/缩放窗口按钮是切换全屏模式还是最大化窗口。\n\n# win.setClosable(closable) macOS Windows\n\n * closable Boolean\n\n设置用户是否可以手动关闭窗口。 在Linux上不起作用。\n\n# win.isClosable() macOS Windows\n\n返回 Boolean - 窗口是否可以被用户关闭.\n\n在 Linux 上总是返回 true。\n\n# win.setAlwaysOnTop(flag[, level][, relativeLevel])\n\n * flag Boolean\n * level String (可选) macOS Windows - 值包括 normal, floating, torn-off-menu, modal-panel, main-menu, status, pop-up-menu, screen-saver和 dock(已弃用)。 当 flag 属性为true时，默认值为 floating 。 当flag为false时，level 会重置为 normal。 请注意，包括从 floating 到 status ，窗口会被置于 macOS 上的 Dock 下方和 Windows 上的任务栏下方。 从 pop-up-menu 到更高级别，窗口显示在 macOS 上的Dock上方和 Windows 上的任务栏上方。 更多信息，请查阅 macOS 文档。\n * relativeLevel Integer (可选) macOS - 设置此窗口相对于给定 级别的层数。. 默认值为0. 请注意, Apple 不鼓励在 屏幕保护程序 之上设置高于1的级别。\n\n设置窗口是否应始终显示在其他窗口的前面。 设置后，窗口仍然是一个正常窗口，而不是一个无法获取焦点的工具框窗口。\n\n# win.isAlwaysOnTop()\n\n返回 Boolean - 当前窗口是否始终在其它窗口之前.\n\n# win.moveAbove(mediaSourceId)\n\n * mediaSourceId String - DesktopCapturerSource格式的窗口 id 。 例如 \"window:1869:0\"。\n\n将窗口按z轴顺序移动到源窗口前面。 如果 mediaSourceId 不是window类型，或者如果窗口不存在，则此方法会抛出一个错误。\n\n# win.moveTop()\n\n无论焦点如何, 将窗口移至顶端(z轴上的顺序).\n\n# win.center()\n\n将窗口移动到屏幕中央。\n\n# win.setPosition(x, y[, animate])\n\n * x Integer\n * y Integer\n * animate Boolean (可选) macOS\n\n将窗口移动到 x 和 y。\n\n# win.getPosition()\n\n返回 Integer[] - 返回一个包含当前窗口位置的数组.\n\n# win.setTitle(title)\n\n * title String\n\n将原生窗口的标题更改为 title。\n\n# win.getTitle()\n\n返回 String-原生窗口的标题。\n\n注意： 网页的标题可以与原生窗口的标题不同。\n\n# win.setSheetOffset(offsetY[, offsetX]) macOS\n\n * offsetY Float\n * offsetX Float (可选)\n\n改变macOS上sheet组件的附着点。 默认情况下，sheet贴在窗口边框正下方，但你可能需要在 HTML 渲染工具栏下方显示它们。 例如：\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow()\n\nconst toolbarRect = document.getElementById('toolbar').getBoundingClientRect()\nwin.setSheetOffset(toolbarRect.height)\n\n\n1\n2\n3\n4\n5\n\n\n# win.flashFrame(flag)\n\n * flag Boolean\n\n启动或停止闪烁窗口, 以吸引用户的注意。\n\n# win.setSkipTaskbar(skip)\n\n * skip Boolean\n\n使窗口不显示在任务栏中。\n\n# win.setKiosk(flag)\n\n * flag Boolean\n\n进入或离开 kiosk 模式。\n\n# win.isKiosk()\n\n返回 Boolean - 判断窗口是否处于kiosk模式.\n\n# win.isTabletMode() Windows\n\n返回 Boolean - 无论当前窗口是否处在 Windows 10 平板模式\n\n因为 Windows 10 用户可以 将他们的 PC 作为平板电脑来使用，在此模式下，应用可以选择为平板电脑的界面做出优化，如扩展标题栏和隐藏标题栏按钮。\n\n此 API 返回 窗口是否在平板电脑模式下，并且 调整大小 事件可以用于监听对平板模式的更改。\n\n# win.getMediaSourceId()\n\n返回 String - DesktopCapturerSource的id格式的窗口 id 。 例如 \"window:1324:0\"。\n\n更确切地说，格式是 window:id:other_id。在Windows上 id 是 HWND 类型；在macOS上是 CGWindowID (uint64_t)；在Linux上是 Window (unsigned long)。 other_id 用于识别同一顶层窗口内的Web 内容 (选项卡)。\n\n# win.getNativeWindowHandle()\n\n返回 Buffer - 窗口的平台特定句柄\n\nWindows上句柄类型为 HWND，macOS 上为 NSView*，Linux 上为Window (unsigned long)\n\n# win.hookWindowMessage(message, callback) Windows\n\n * message Integer\n * callback Function\n   * wParam any - 提供给 WndProc的 wParam 值。\n   * lParam any - 提供给 WndProc的 lParam 值。\n\n钩住窗口消息。 当消息到达 WndProc 时调用callback 。\n\n# win.isWindowMessageHooked(message) Windows\n\n * message Integer\n\n返回 Boolean - true 或false ，具体取决于是否钩挂了消息.\n\n# win.unhookWindowMessage(message) Windows\n\n * message Integer\n\n取消窗口信息的钩子。\n\n# win.unhookAllWindowMessages() Windows\n\n取消所有窗口信息的钩子。\n\n# win.setRepresentedFilename(filename) macOS\n\n * filename String\n\n设置窗口所代表的文件的路径名，并且将这个文件的图标放在窗口标题栏上。\n\n# win.getRepresentedFilename() macOS\n\n返回 String - 获取窗口当前文件路径.\n\n# win.setDocumentEdited(edited) macOS\n\n * edited Boolean\n\n明确指出窗口文档是否可以编辑, 如果设置为true则将标题栏的图标变成灰色.\n\n# win.isDocumentEdited() macOS\n\n返回 Boolean - 判断当前窗口文档是否可编辑.\n\n# win.focusOnWebView()\n\n# win.blurWebView()\n\n# win.capturePage([rect])\n\n * rect Rectangle (可选) - 捕获的区域\n\n返回 Promise<NativeImage> - 完成后返回一个NativeImage\n\n在 rect内捕获页面的快照。 省略 rect 将捕获整个可见页面。 如果页面不可见， rect 可能是空的。\n\n# win.loadURL(url[, options])\n\n * url String\n * options Object (可选)\n   * httpReferrer (String | Referrer) (可选) - HTTP 引用 url。\n   * userAgent String (可选) - 发起请求的 userAgent.\n   * extraHeaders String (可选) - 用 \"\\n\" 分割的额外标题\n   * postData (UploadRawData | UploadFile)[] (可选)\n   * baseURLForDataURL String (可选) - 要由数据URL加载的文件基本URL(末尾带有路径分隔符)。 仅当指定的url是数据url并且需要加载其他文件时，才需要此选项。\n\n返回 Promise<void> - 当页面完成加载后 promise 将会resolve (见 did-finish-load)，如果页面加载失败，则 reject (见 did-fail-load)。\n\n与 webContents.loadURL(url[, options]) 相同。\n\nurl 可以是远程地址 (例如 http://),也可以是 file:// 协议的本地HTML文件的路径.\n\n为了确保文件网址格式正确, 建议使用Node的 url.format 方法:\n\nconst url = require('url').format({\n  protocol: 'file',\n  slashes: true,\n  pathname: require('path').join(__dirname, 'index.html')\n})\n\nwin.loadURL(url)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n您可以通过执行以下操作, 使用带有网址编码数据的 POST请求 加载网址:\n\nwin.loadURL('http://localhost:8000/post', {\n  postData: [{\n    type: 'rawData',\n    bytes: Buffer.from('hello=world')\n  }],\n  extraHeaders: 'Content-Type: application/x-www-form-urlencoded'\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# win.loadFile(filePath[, options])\n\n * filePath String\n * options Object (可选)\n   * query Record<String, String> (可选) - 传递给 url.format().\n   * search String (可选) - 传递给 url.format().\n   * hash String (可选) - 传递给 url.format().\n\n返回 Promise<void> - 当页面完成加载后 promise 将会resolve (见 did-finish-load)，如果页面加载失败，则 reject (见 did-fail-load)。\n\n与 webContents.loadFile相同， filePath 应该是一个与你的应用程序的根路径相关的HTML文件路径。 有关更多信息，请参阅webContents 文档。\n\n# win.reload()\n\n与 webContents.reload 相同.\n\n# win.setMenu(menu) Linux Windows\n\n * menu Menu | null\n\n将 menu 设置为窗口的菜单栏。\n\n# win.removeMenu() Linux Windows\n\n删除窗口的菜单栏。\n\n# win.setProgressBar(progress[, options])\n\n * progress Double\n * options Object (可选)\n   * mode String Windows - 进度条的状态。 可以是 none， normal， indeterminate， error 或 paused。\n\n设置进度条的进度值。 有效范围为 [0, 1.0]。\n\n当进度小于0时不显示进度; 当进度大于0时显示结果不确定.\n\n在 Linux 平台上，只支持 Unity 桌面模式, 你需要在 package.json 中为 desktopName 指定 *.desktop 的文件名. 默认情况下，将取 {app.name}.desktop。\n\n在 Windows 上, 可以传递模式。 可以接受的值为none, normal, indeterminate, error和 paused. 如果没有设置模式 (但值在有效范围内) 的情况下调用 setProgressBar, 默认值为normal。\n\n# win.setOverlayIcon(overlay, description) Windows\n\n * overlay NativeImage | null - 右下角任务栏的显示图标。 如果此参数是 null，覆盖层层会被清除。\n * description String -提供给屏幕阅读器的描述文字\n\n在当前任务栏图标上设置一个 16 x 16 像素的图标, 通常用于传达某种应用程序状态或被动地通知用户。\n\n# win.setHasShadow(hasShadow)\n\n * hasShadow Boolean\n\n设置窗口是否有阴影。\n\n# win.hasShadow()\n\n返回 Boolean - 判断窗口是否有阴影.\n\n# win.setOpacity(opacity) Windows macOS\n\n * opacity Number - 介于0.0 ( 完全透明 ) 和1.0 ( 完全不透明 ) 之间\n\n设置窗口的不透明度。 在Linux上不起作用。 超出界限的数值被限制在[0, 1] 范围内。\n\n# win.getOpacity()\n\n返回 Number - 介于0.0 (完全透明) 和1.0 (完全不透明) 之间。 在Linux上，始终返回1。\n\n# win.setShape(rects) Windows Linux 实验性\n\n * rects Rectangle[] - 在窗口上设置形状。 通过传入空列表将窗口恢复为矩形。\n\n对窗口形状的设置决定了窗口内系统允许绘制与用户交互的区域. 在给定的区域外, 没有像素会被绘制, 且没有鼠标事件会被登记. 在该区域外的鼠标事件将不会被该窗口接收, 而是落至该窗口后方的任意窗口.\n\n# win.setThumbarButtons(buttons) Windows\n\n * buttons ThumbarButton[]\n\n返回 Boolean - 按钮是否成功添加\n\n将指定的一组按钮添加到菜单栏的缩图工具栏上。 返回一个 Boolean 对象表示是否成功地添加了缩略图.\n\n由于空间有限, 缩图工具栏中的按钮数量不要超过7个。 一旦设置了缩略图工具栏，则无法删除。 但你可以通过调用 API 传递一个空数组来清除按钮.\n\nbuttons 是一个 Button 对象的数组:\n\n * Button Object\n   * icon NativeImage - 在缩图工具栏上显示的图标.\n   * click Function\n   * tooltip String (可选) - 按钮的提示文本.\n   * flags String[] (可选) - 控制按钮的特定状态和行为。 默认情况下，值为 ['enabled']。\n\nflags 属性是一个数组，包含以下String类型的值:\n\n * enabled - 该按钮处于活动状态并可供用户使用.\n * disabled - 按钮已禁用。 会以一种视觉状态表示它不会响应用户操作的形式显示。\n * dismissonclick - 当按钮被点击时，缩略图窗口立即关闭。\n * nobackground - 仅仅使用图像而不绘制边框。\n * hidden - 该按钮对用户不可见。\n * noninteractive - 按钮已启用，但不交互；不绘制按钮按下的状态。 此值用于在通知中使用按钮的实例。\n\n# win.setThumbnailClip(region) Windows\n\n * region Rectangle 窗口的区域\n\n将窗口的区域设置为在任务栏中悬停在窗口上方时显示的缩略图图像。 通过指定空区域：{ x: 0, y: 0, width: 0, height: 0 }，可以重置整个窗口的缩略图。\n\n# win.setThumbnailToolTip(toolTip) Windows\n\n * toolTip String\n\n设置在任务栏中悬停在窗口缩略图上时显示的工具提示。\n\n# win.setAppDetails(options) Windows\n\n * 选项 对象\n   * appId String (可选) - 窗口的 App User Model ID. 该项必须设置, 否则其他选项将没有效果.\n   * appIconPath String (可选) -窗口的 Relaunch Icon.\n   * appIconIndex Integer (可选) - appIconPath中的图标索引。 未设置 appIconPath 时忽略。 默认值为 0.\n   * relaunchCommand String (可选) - 窗口的 重新启动命令.\n   * relaunchDisplayName String (可选) - 窗口的重新启动显示名称.\n\n设置窗口任务栏按钮的属性。\n\n**注意：**必须始终同时设置 relaunchCommand 和 relaunchDisplayName。 如果其中一个属性没有设置，那么这两个属性都不会使用。\n\n# win.showDefinitionForSelection() macOS\n\n和 webContents.showDefinitionForSelection() 相同.\n\n# win.setIcon(icon) Windows Linux\n\n * icon NativeImage | String\n\n设置窗口图标\n\n# win.setWindowButtonVisibility(visible) macOS\n\n * visible Boolean\n\n设置是否窗口交通灯需要显示。\n\n# win.setAutoHideMenuBar(hide)\n\n * hide Boolean\n\n设置窗口菜单栏是否自动隐藏。 一旦设置，菜单栏将只在用户单击 Alt 键时显示。\n\n如果菜单栏已经可见, 调用 setAutoHideMenuBar(true)时不会立刻隐藏。\n\n# win.isMenuBarAutoHide()\n\n返回 Boolean - 判断窗口的菜单栏是否自动隐藏.\n\n# win.setMenuBarVisibility(visible) Windows Linux\n\n * visible Boolean\n\n设置菜单栏是否可见。 如果菜单栏自动隐藏，用户仍然可以通过单击 Alt 键来唤出菜单栏。\n\n# win.isMenuBarVisible()\n\n返回 Boolean - 判断窗口的菜单栏是否可见.\n\n# win.setVisibleOnAllWorkspaces(visible[, options])\n\n * visible Boolean\n * options Object (可选)\n   * visibleOnFullScreen Boolean (可选) macOS - 设置当前窗口是否可以在全屏窗口之上显示。\n   * skipTransformProcessType Boolean (可选) macOS - 调用 setVisibleOnAllWorkspaces ，默认转换流程类型于 UIElementApplication 和 ForegroundApplication 之间，用来保障正常响应。 然而，当方法被调用时将短暂的隐藏窗口和图标。 如果你的窗口已经是 UIElementApplication 类似，你可以绕过这次转换通过传递 true 参数给TransformProcessType。\n\n设置窗口是否在所有工作空间上可见\n\n注意: 该 API 在 Windows 上无效.\n\n# win.isVisibleOnAllWorkspaces()\n\n返回 Boolean - 判断窗口是否在所有工作空间上可见.\n\n注意: 该 API 在 Windows 上始终返回 false.\n\n# win.setIgnoreMouseEvents(ignore[, options])\n\n * ignore Boolean\n * options Object (可选)\n   * forward Boolean (可选) macOS Windows - 如果为 true, 传递鼠标移动消息给 Chromium，鼠标相关事件将可用，如 mouseleave。 仅当ignore </ 0>为 true 时才被使用。 如果 <code>ignore 为 false, 转发始终是禁用的，不管这个值是什么。\n\n忽略窗口内的所有鼠标事件\n\n在此窗口中发生的所有鼠标事件将被传递到此窗口下面的窗口, 但如果此窗口具有焦点, 它仍然会接收键盘事件\n\n# win.setContentProtection(enable) macOS Windows\n\n * enable Boolean\n\n防止窗口内容被其他应用捕获\n\n在 macOS 上，它将 NSWindow 的 sharingType 设置为 NSWindowSharingNone。 在 Windows 上，它以参数为 WDA_EXCLUDEFROMCAPTURE 调用 SetWindowDisplayAffinity 。 对于 Windows 10 2004以上版，本窗口将完全从抓取中移除，在低版本 Windows 上其行为就像是 WDA_MONITOR 捕捉了黑色窗口。\n\n# win.setFocusable(focusable) macOS Windows\n\n * focusable Boolean\n\n设置窗口是否可聚焦\n\n在 macOS 上，该方法不会从窗口中移除焦点。\n\n# win.isFocusable() macOS Windows\n\nReturns whether the window can be focused.\n\n# win.setParentWindow(parent)\n\n * parent BrowserWindow | null\n\n设置 parent 为当前窗口的父窗口. 为null时表示将当前窗口转为顶级窗口\n\n# win.getParentWindow()\n\n返回 BrowserWindow - 父窗口.\n\n# win.getChildWindows()\n\n返回 BrowserWindow[] - 首页的子窗口.\n\n# win.setAutoHideCursor(autoHide) macOS\n\n * autoHide Boolean\n\n设置输入时是否隐藏光标\n\n# win.selectPreviousTab() macOS\n\n当启用本地选项卡，并且窗口中有另一个标签时，选择上一个选项卡。\n\n# win.selectNextTab() macOS\n\n当启用本地选项卡，并且窗口中有另一个标签时，选择下一个选项卡。\n\n# win.mergeAllWindows() macOS\n\n当启用本地选项卡并且存在多个打开窗口时，将所有窗口合并到一个带有多个选项卡的窗口中。\n\n# win.moveTabToNewWindow() macOS\n\n如果启用了本机选项卡并且当前窗口中有多个选项卡，则将当前选项卡移动到新窗口中。\n\n# win.toggleTabBar() macOS\n\n如果启用了本机选项卡并且当前窗口中只有一个选项卡，则切换选项卡栏是否可见。\n\n# win.addTabbedWindow(browserWindow) macOS\n\n * browserWindow BrowserWindow\n\n在该窗口中添加一个窗口作为选项卡，位于窗口实例的选项卡之后。\n\n# win.setVibrancy(type) macOS\n\n * type String | null - 可以是 appearance-based，light，dark，titlebar，selection，menu，popover，sidebar，medium-light，ultra-dark，header，sheet，window，hud，fullscreen-ui，tooltip，content，under-window 或 under-page。 更多详细信息，请查阅 macOS documentation\n\n在浏览器窗口中添加一个动态特效。 传递 null 或空字符串将会移除窗口上的动态效果。\n\n请注意， appearance-based，light，dark，medium-light 和 ultra-dark 已被弃用，并将在即将推出的 macOS 版本中被移除。\n\n# win.setTrafficLightPosition(position) macOS\n\n * position Point\n\n在无框窗口中设置自定义控制按钮的位置。\n\n# win.getTrafficLightPosition() macOS\n\n返回 Point - 在无框窗口中自定义控制按钮的位置。\n\n# win.setTouchBar(touchBar) macOS\n\n * touchBar TouchBar | null\n\n设置窗口的触摸条布局 设置为 null 或undefined将清除触摸条. 此方法只有在macOS 10.12.1+且设备支持触摸条TouchBar时可用.\n\n注意: TouchBar API目前为实验性质，可能会更改或删除。\n\n# win.setBrowserView(browserView) 实验\n\n * browserView BrowserView | null - 将 browserView 附加到 win。 如果已经附加了其他 BrowserView，那么它们将会被从此窗口中移除。\n\n# win.getBrowserView() 实验功能\n\n返回 BrowserView | null - 附加到 win 的 BrowserView 。 如果未附加，则返回 null。 如果附加了多个 BrowserView，则抛出错误。\n\n# win.addBrowserView(browserView) 实验功能\n\n * browserView BrowserView\n\n替代 setBrowserView 的API，支持多个browserView一起使用。\n\n# win.removeBrowserView(browserView) 实验功能\n\n * browserView BrowserView\n\n# win.setTopBrowserView(browserView) 实验功能\n\n * browserView BrowserView\n\n提高 browserView 于其它附加到 win 的 BrowserView 之上 。 如果 browserView 未附加到 win，则抛出错误。\n\n# win.getBrowserViews() 实验功能\n\n返回 BrowserView[] - 所有通过 addBrowserView 或 setBrowserView 附加的BrowserView数组。\n\n注意: BrowserView 的 API目前为实验性质，可能会更改或删除。",normalizedContent:"# browserwindow\n\n> 创建并控制浏览器窗口。\n\n进程：主进程\n\n// 在主进程中.\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow({ width: 800, height: 600 })\n\n// load a remote url\nwin.loadurl('https://github.com')\n\n// or load a local html file\nwin.loadfile('index.html')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# frameless window\n\n如果想创建一个无边框或者任意形状的透明窗口，你可以使用frameless window 的api\n\n\n# showing the window gracefully\n\nwhen loading a page in the window directly, users may see the page load incrementally, which is not a good experience for a native app. to make the window display without a visual flash, there are two solutions for different situations.\n\n\n# using the ready-to-show event\n\n在加载页面时，渲染进程第一次完成绘制时，如果窗口还没有被显示，渲染进程会发出 ready-to-show 事件 。 在此事件后显示窗口将没有视觉闪烁：\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({ show: false })\nwin.once('ready-to-show', () => {\n  win.show()\n})\n\n\n1\n2\n3\n4\n5\n\n\n这个事件通常在 did-finish-load 事件之后发出，但是页面有许多远程资源时，它可能会在 did-finish-load之前发出事件。\n\n请注意，使用此事件意味着渲染器会被认为是\"可见的\"并绘制，即使 show 是false。 如果您使用 paintwheninitiallyhidden: false，此事件将永远不会被触发。\n\n\n# setting the backgroundcolor property\n\n对于一个复杂的应用，ready-to-show 可能发出的太晚，会让应用感觉缓慢。 在这种情况下，建议立刻显示窗口，并使用接近应用程序背景的 backgroundcolor\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow({ backgroundcolor: '#2e2c29' })\nwin.loadurl('https://github.com')\n\n\n1\n2\n3\n4\n\n\n请注意，即使是使用 ready-to-show 事件的应用程序，仍建议使用设置 backgroundcolor 使应用程序感觉更原生。\n\n\n# 父子窗口\n\n通过使用 parent 选项，你可以创建子窗口：\n\nconst { browserwindow } = require('electron')\n\nconst top = new browserwindow()\nconst child = new browserwindow({ parent: top })\nchild.show()\ntop.show()\n\n\n1\n2\n3\n4\n5\n6\n\n\nchild 窗口将总是显示在 top 窗口的顶部.\n\n\n# 模态窗口\n\n模态窗口是禁用父窗口的子窗口，创建模态窗口必须设置 parent 和 modal 选项：\n\nconst { browserwindow } = require('electron')\n\nconst child = new browserwindow({ parent: top, modal: true, show: false })\nchild.loadurl('https://github.com')\nchild.once('ready-to-show', () => {\n  child.show()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 页面可见性\n\n页面可见性 api 的工作方式如下:\n\n * 在所有平台上, 可见性状态与窗口是否隐藏/最小化相关。\n * 此外, 在 macos 上, 可见性状态还会跟踪窗口的遮挡状态。 如果窗口被另一个窗口完全遮挡了，可见性状态为hidden. 在其他平台上，可见性状态只有在使用 win.hide()使窗口最小化或者隐藏时才为 hidden\n * 如果创建browserwindow 时带有 show: false的参数, 最初的可见性状态将为visible 尽管窗口实际上是隐藏的。\n * 如果backgroundthrottling被禁用，可见性状态将保持为visible 即使窗口被最小化、遮挡或隐藏。\n\n推荐您在可见性状态为 hidden 时暂停消耗资源的操作以便减少电力消耗。\n\n\n# 平台相关的提示\n\n * 在 macos 上，modal 窗口将显示为附加到父窗口的工作表。\n * 在 macos 上，子窗口将保持与父窗口的相对位置。而在 windows 和 linux 中，当父窗口移动时子窗口不会移动。\n * 在linux上，模态窗口的类型将更改为 dialog.\n * 在linux上，许多桌面环境不支持隐藏模态窗口。\n\n\n# class: browserwindow\n\n> 创建并控制浏览器窗口。\n\n进程：主进程\n\nbrowserwindow是一个eventemitter.\n\n通过 options 可以创建一个具有原生属性的 browserwindow 。\n\n\n# new browserwindow([options])\n\n * options object (可选)\n   * width 整数型 (可选) - 窗口的宽度（以像素为单位）。 默认值为 800。\n   * height 整数型 (可选) - 窗口的高度（以像素为单位）。 默认值为 600。\n   * x interger (可选) - (必选 如果使用了y) 窗口相对于屏幕左侧的偏移量。 默认值为将窗口居中。\n   * y integer (可选) - (必选 如果使用了x) 窗口相对于屏幕顶端的偏移量。 默认值为将窗口居中。\n   * usecontentsize boolean (可选) - width 和 height 将设置为 web 页面的尺寸(译注: 不包含边框), 这意味着窗口的实际尺寸将包括窗口边框的大小，稍微会大一点。 默认值为 false.\n   * center boolean (可选) - 窗口是否在屏幕居中.\n   * 整型（可选）-窗口的最小宽度。默认为0 默认值为 0.\n   * minheight integer(可选) - 窗口的最小高度。 默认值为 0.\n   * maxwidthinteger(可选)-窗口的最大宽度。 默认值不限\n   * maxheightinteger (可选) - 窗口的最大高度。 默认值不限\n   * resizable boolean (可选) - 窗口大小是否可调整。 默认值为 true。\n   * movable boolean (可选) - 窗口是否可以移动. 该属性在linux上未实现。 默认值为 true。\n   * minimizable boolean (可选) - 窗口是否可最小化。 该属性在linux上未实现。 默认值为 true。\n   * maximizable boolean (可选) - 窗口是否可最大化。 该属性在linux上未实现。 默认值为 true。\n   * closable boolean (可选) - 窗口是否可关闭。 该属性在linux上未实现。 默认值为 true。\n   * focusable boolean (可选) - 窗口是否可以聚焦. 默认值为 true。 在 windows 中设置 focusable: false 也意味着设置了skiptaskbar: true. 在 linux 中设置 focusable: false 时窗口停止与 wm 交互, 并且窗口将始终置顶。\n   * alwaysontop boolean (可选) - 窗口是否永远在别的窗口的上面。 默认值为 false.\n   * fullscreen boolean (可选) - 窗口是否全屏. 当明确设置为 false 时，在 macos 上全屏的按钮将被隐藏或禁用. 默认值为 false.\n   * fullscreenable boolean (可选) - 窗口是否可以进入全屏状态. 在 macos上, 最大化/缩放按钮是否可用 默认值为 true。\n   * simplefullscreen boolean (可选) - 在 macos 上使用 pre-lion 全屏。 默认值为 false.\n   * skiptaskbar boolean (可选) - 是否在任务栏中显示窗口。 默认值为 false。\n   * kiosk boolean (可选) - 窗口是否进入kiosk模式。 默认值为 false.\n   * titlestring(可选) - 默认窗口标题 默认为\"electron\"。 如果由loadurl()加载的html文件中含有标签<title>，此属性将被忽略。\n   * icon (nativeimage | string) (可选) - 窗口的图标. 在 windows 上推荐使用 ico 图标来获得最佳的视觉效果, 默认使用可执行文件的图标.\n   * show boolean (可选) - 窗口是否在创建时显示。 默认值为 true。\n   * paintwheninitiallyhiddenboolean(可选) - 当show为false并且渲染器刚刚被创建时，它是否应激活。 为了让document.visibilitystate 在show: false的情况下第一次加载时正确地工作，你应该把这个设置成false. 设置为 false 将会导致ready-to-show 事件不触发。 默认值为 true。\n   * frame boolean (可选) - 设置为 false 时可以创建一个无边框窗口。 默认值为 true。\n   * parent browserwindow (可选) - 指定父窗口 默认值为 null.\n   * momodalable boolean (可选) - 当前是否为模态窗口。 只有当窗口是子窗口时才起作用。 默认值为 false.\n   * acceptfirstmouse boolean (optional) - whether clicking an inactive window will also click through to the web contents. default is false on macos. this option is not configurable on other platforms.\n   * disableautohidecursor boolean (可选) - 是否在打字时隐藏光标。 默认值为 false.\n   * autohidemenubar boolean (可选) - 自动隐藏菜单栏，除非按了alt键。 默认值为 false.\n   * enablelargerthanscreen boolean (可选) - 是否允许改变窗口的大小使之大于屏幕的尺寸. 仅适用于 macos，因为其它操作系统默认允许 大于屏幕的窗口。 默认值为 false.\n   * backgroundcolor string(可选) - 窗口的背景颜色为十六进制值，例如#66cd00, #fff, #80ffffff (设置transparent为true方可支持alpha属性，格式为#aarrggbb)。 默认值为 #fff（白色）。\n   * hasshadow boolean (可选) - 窗口是否有阴影. 默认值为 true。\n   * opacity number (可选)-设置窗口初始的不透明度, 介于 0.0 (完全透明) 和 1.0 (完全不透明) 之间。 目前仅支持windows 和 macos\n   * darktheme boolean (optional) - 强制窗口使用深色主题，只在部分gtk+3桌面环境下有效。 默认值为 false.\n   * transparent boolean (可选) - 使窗口 透明。 默认值为 false. 在windows上，仅在无边框窗口下起作用。\n   * type string (可选) - 窗口的类型, 默认为普通窗口. 更多信息见下文\n   * visualeffectstate string (optional) - 指定material外观应如何反映macos上的窗口活动状态。 必须与 vibrancy 属性一起使用。 可能的值有\n     * followwindow - 当窗口处于激活状态时，后台应自动显示为激活状态，当窗口处于非激活状态时，后台应自动显示为非激活状态。 默认为该值。\n     * active - 后台应一直显示为激活状态。\n     * inactive - 后台应一直显示为非激活状态。\n   * titlebarstyle string (optional) macos windows - the style of window title bar. 默认值为 default. 可能的值有\n     * default - results in the standard title bar for macos or windows respectively.\n     * hidden - results in a hidden title bar and a full size content window. on macos, the window still has the standard window controls (“traffic lights”) in the top left. on windows, when combined with titlebaroverlay: true it will activate the window controls overlay (see titlebaroverlay for more information), otherwise no window controls will be shown.\n     * hiddeninset - only on macos, results in a hidden title bar with an alternative look where the traffic light buttons are slightly more inset from the window edge.\n     * custombuttonsonhover - only on macos, results in a hidden title bar and a full size content window, the traffic light buttons will display when being hovered over in the top left of the window. ** 注意: **此选项目前是实验性的。\n   * trafficlightposition point (可选的) - 设置控制按钮在无边框窗口中的位置。\n   * roundedcorners boolean (可选) - 无框窗口是否应该在 macos 上 圆角。 默认值为 true。\n   * fullscreenwindowtitle boolean (可选) 已弃用 - macos全屏模式下，在标题栏展示标题，需要 titlebarstyle 设置 hiddeninset 属性。 默认值为 false.\n   * thickframe boolean(可选)-对 windows 上的无框窗口使用ws_thickframe 样式，会增加标准窗口框架。 设置为 false 时将移除窗口的阴影和动画. 默认值为 true。\n   * vibrancy string (可选) - 窗口是否使用 vibrancy 动态效果, 仅 macos 中有效. 可选值为 appearance-based, light, dark, titlebar, selection, menu, popover, sidebar, medium-light, ultra-dark, header, sheet, window, hud, fullscreen-ui, tooltip, content, under-window 或 under-page。 请注意： appearance-based, light, dark, medium-light, and ultra-dark 已被弃用，并将在即将推出的 macos catalina (10.15版本) 中被移除。\n   * zoomtopagewidth boolean (可选) - 控制 macos 上，当选择性单击工具栏上的绿色stoplight按钮或单击 window > zoom menu item时的行为。 如果为 true, 窗口将放大到网页的本身宽度, false 将使其缩放到屏幕的宽度。 这也会影响直接调用 maximize() 时的行为。 默认值为 false.\n   * tabbingidentifier string (可选) - 选项组卡的名称，在macos 10.12+上可使窗口在原生选项卡中打开. 具有相同标识符的窗口将被组合在一起。 这还会在窗口的标签栏中添加一个原生的新选项卡按钮, 并允许 app 和窗口接收 new-window-for-tab 事件。\n   * webpreferences object (可选) - 网页功能设置。\n     * devtools boolean (可选) - 是否开启 devtools. 如果设置为 false, 则无法使用 browserwindow.webcontents.opendevtools () 打开 devtools。 默认值为 true。\n     * nodeintegration boolean (可选) - 是否启用node integration. 默认值为 false.\n     * nodeintegrationinworker boolean (可选) - 是否在web工作器中启用了node集成. 默认值为 false. 更多内容参见 多线程.\n     * nodeintegrationinsubframes boolean (可选项)(实验性)，是否允许在子页面(iframe)或子窗口(child window)中集成node.js； 预先加载的脚本会被注入到每一个iframe，你可以用 process.ismainframe 来判断当前是否处于主框架（main frame）中。\n     * preload string (可选) -在页面运行其他脚本之前预先加载指定的脚本 无论页面是否集成node, 此脚本都可以访问所有node api 脚本路径为文件的绝对路径。 当 node integration 关闭时, 预加载的脚本将从全局范围重新引入node的全局引用标志 参考示例.\n     * sandbox boolean (可选)-如果设置该参数, 沙箱的渲染器将与窗口关联, 使它与chromium os-level 的沙箱兼容, 并禁用 node. js 引擎。 它与 nodeintegration 的选项不同，且预加载脚本的 api 也有限制. 更多详情.\n     * session session (可选) - 设置页面的 session 而不是直接忽略 session 对象, 也可用 partition 选项来代替，它接受一个 partition 字符串. 同时设置了session 和 partition时, session 的优先级更高. 默认使用默认的 session.\n     * partition string (optional) - 通过 session 的 partition 字符串来设置界面session. 如果 partition 以 persist:开头, 该页面将使用持续的 session，并在所有页面生效，且使用同一个partition. 如果没有 persist: 前缀, 页面将使用 in-memory session. 通过分配相同的 partition, 多个页可以共享同一会话。 默认使用默认的 session.\n     * zoomfactor number (可选) - 页面的默认缩放系数, 3.0 表示 300%。 默认值为 1.0.\n     * javascript boolean (可选) - 是否启用 javascript 支持。 默认值为 true。\n     * websecurity boolean (可选) - 当设置为 false, 它将禁用同源策略 (通常用来测试网站), 如果此选项不是由开发者设置的，还会把 allowrunninginsecurecontent设置为 true. 默认值为 true。\n     * allowrunninginsecurecontent boolean (可选) - 允许一个 https 页面运行来自http url的javascript, css 或 plugins。 默认值为 false.\n     * images boolean (可选) - 允许加载图片。 默认值为 true。\n     * imageanimationpolicy string (optional) - specifies how to run image animations (e.g. gifs). can be animate, animateonce or noanimation. 默认值为 animate.\n     * textareasareresizable boolean (可选) - 允许调整 textarea 元素大小。 默认值为 true。\n     * webgl boolean (可选) - 启用 webgl 支持。 默认值为 true。\n     * plugins boolean (可选) - 是否应该启用插件。 默认值为 false.\n     * experimentalfeatures boolean (可选) - 启用 chromium 的实验功能。 默认值为 false.\n     * scrollbounce boolean (可选) - 在 macos 启用弹力动画 (橡皮筋) 效果。 默认值为 false.\n     * enableblinkfeaturesstring(可选) - 以逗号分隔的需要启用的特性列表，譬如cssvariables,keyboardeventkey 在 runtimeenabledfeatures.json5文件中查看被支持的所有特性.\n     * disableblinkfeatures string (可选) - 以 ,分隔的禁用特性列表, 如 cssvariables,keyboardeventkey. 在runtimeenabledfeatures.json5 文件中查看被支持的所有特性.\n     * defaultfontfamily object (可选) - 为font-family设置默认字体。\n       * standard string (可选) - 默认值为 times new roman.\n       * serif string (可选) - 默认值为 times new roman.\n       * sansserif string (可选) - 默认值为 arial.\n       * monospace string (可选) - 默认值为 courier new.\n       * cursive string (可选) - 默认值为 script.\n       * fantasy string (可选) - 默认值为 impact.\n     * defaultfontsize integer (可选) - 默认值为 16.\n     * defaultmonospacefontsize integer (可选) - 默认值为 13.\n     * minimumfontsize integer (可选) - 默认值为 0.\n     * defaultencoding string (可选) - 默认值为 iso-8859-1.\n     * backgroundthrottlingboolean (可选)-是否在页面成为背景时限制动画和计时器。 这也会影响到 page visibility api. 默认值为 true。\n     * offscreen boolean (optional) - 是否绘制和渲染可视区域外的窗口. 默认值为 false. 更多详情, 请参见 offscreen rendering tutorial 。\n     * contextisolation boolean (可选) - 是否在独立 javascript 环境中运行 electron api和指定的preload 脚本. 默认为 true。 预加载脚本所运行的上下文环境只能访问其自身专用的文档和全局窗口，其自身一系列内置的javascript (array, object, json, 等等) 也是如此，这些对于已加载的内容都是不可见的。 electron api 将只在预加载脚本中可用，在已加载页面中不可用。 这个选项应被用于加载可能不被信任的远程内容时来确保加载的内容无法篡改预加载脚本和任何正在使用的electron api。 该选项使用的是与chrome内容脚本相同的技术。 你可以在开发者工具console选项卡内顶部组合框中选择 'electron isolated context'条目来访问这个上下文。\n     * nativewindowopen boolean (可选) - 是否使用原生的window.open(). 默认值为 true。 除了 nodeintegrationinsubframes 为true时，其它情况下node integration将永远禁用。\n     * webviewtag boolean (可选) - 是否启用 <webview> tag标签. 默认值为 false. ** 注意: **为 < webview> 配置的 preload 脚本在执行时将启用节点集成, 因此应确保远程或不受信任的内容无法创建恶意的 preload 脚本 。 可以使用 webcontents 上的 will-attach-webview 事件对 preload 脚本进行剥离, 并验证或更改 <webview> 的初始设置。\n     * additionalarguments string[] (可选) - 一个将被附加到当前应用程序的渲染器进程中process.argv的字符串列表 。 可用于将少量的数据传递到渲染器进程预加载脚本中。\n     * safedialogs boolean (可选) - 是否启用浏览器样式的持续对话框保护。 默认值为 false.\n     * safedialogsmessage string (可选) - 当持续对话框保护被触发时显示的消息。 如果没有定义，那么将使用缺省的消息。注意：当前缺省消息是英文，并没有本地化。\n     * disabledialogs boolean (可选) - 是否完全禁用对话框。 覆盖 safedialogs。 默认值为 false.\n     * navigateondragdrop boolean (可选) - 将文件或链接拖放到页面上时是否触发页面跳转。 默认值为 false.\n     * autoplaypolicy string (可选) - 窗口中内容要使用的自动播放策略，值可以是 no-user-gesture-required, user-gesture-required, document-user-activation-required。 默认为 no-user-gesture-required。\n     * disablehtmlfullscreenwindowresize boolean (可选) - 是否阻止窗口在进入 html 全屏时调整大小。 默认值为 false.\n     * accessibletitle string (可选) - 仅提供给如屏幕读取器等辅助工具的替代标题字符串。 此字符串不直接对用户可见。\n     * spellcheck boolean (可选) - 是否启用内置拼写检查器。 默认值为 true。\n     * enablewebsql boolean (可选) - 是否启用 websql api。 默认值为 true。\n     * v8cacheoptions string (可选) - 强制 blink 使用 v8 代码缓存策略。 可接受的值为：\n       * none - 禁用代码缓存\n       * code - 基于启发式代码缓存\n       * bypassheatcheck - 绕过启发式代码缓存，但使用懒编译。\n       * bypassheatcheckandeagercompile - 与上面相同，除了编译是及时的。 默认策略是 code。\n     * enablepreferredsizemode boolean (可选) - 是否启用首选大小模式。 首选大小是包含文档布局所需的最小大小--无需滚动。 启用该属性将导致在首选大小发生变化时，在webcontents 上触发 preferred-size-changed 事件。 默认值为 false.\n   * titlebaroverlay object | boolean (optional) - when using a frameless window in conjuction with win.setwindowbuttonvisibility(true) on macos or using a titlebarstyle so that the standard window controls (\"traffic lights\" on macos) are visible, this property enables the window controls overlay javascript apis and css environment variables. specifying true will result in an overlay with default system colors. 默认值为 false.\n     * color string (optional) windows - the css color of the window controls overlay when enabled. default is the system color.\n     * symbolcolor string (optional) windows - the css color of the symbols on the window controls overlay when enabled. default is the system color.\n\n当使用 minwidth/maxwidth/minheight/maxheight 设置最小或最大窗口大小时, 它只限制用户。 它不会阻止您将不符合大小限制的值传递给 setbounds/setsize 或 browserwindow 的构造函数。\n\ntype 选项的候选值和行为与平台相关。 可能的值有\n\n * 在 linux 上, 可能的类型有 desktop、dock、toolbar、splash、notification。\n * 在 macos 上，可能的类型是 desktop, textured。\n   * textured 类型增加金属色泽的外观 (nstexturedbackgroundwindowmask).\n   * desktop 类型将窗口置于桌面背景级别 (kcgdesktopwindowlevel - 1). 注意，桌面窗口不会接收焦点、键盘或鼠标事件，但您可以使用< 0> globalshortcut < /0 >接收快捷键的消息\n * 在 windows 上, 可能的类型为 toolbar.\n\n\n# 实例事件\n\n使用 new browserwindow 创建的对象具有以下属性:\n\n** 注意: **某些事件仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n# 事件： 'page-title-updated'\n\n返回:\n\n * event event\n * title string\n * explicitset boolean\n\n文档更改标题时触发，调用event.preventdefault()将阻止更改标题 当标题合成自文件 url 中时， explicitset 的值为false。\n\n# 事件： 'close'\n\n返回:\n\n * event event\n\n在窗口要关闭的时候触发。 它在dom 的beforeunload 和 unload 事件之前触发. 调用event.preventdefault()将阻止这个操作。\n\n通常你想通过 beforeunload处理器来决定是否关闭窗口，但是它也会在窗口重载的时候触发. 在 electron 里，返回除 undefined之外的任何值都将取消关闭. 例如：\n\nwindow.onbeforeunload = (e) => {\n  console.log('i do not want to be closed')\n\n  // 与通常的浏览器不同,会提示给用户一个消息框,\n  //返回非空值将默认取消关闭\n  //建议使用对话框 api 让用户确认关闭应用程序.\n  e.returnvalue = false // 相当于 `return false` ，但是不推荐使用\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n注意: window.onbeforeunload = handler 和 window.addeventlistener('beforeunload', handler) 的行为有细微的区别。 推荐总是显式地设置 event.returnvalue, 而不是仅仅返回一个值, 因为前者在electron中作用得更为一致.\n\n# 事件： 'closed'\n\n在窗口关闭时触发 当你接收到这个事件的时候, 你应当移除相应窗口的引用对象，避免再次使用它.\n\n# 事件: 'session-end' windows\n\n因为强制关机或机器重启或会话注销而导致窗口会话结束时触发\n\n# 事件: 'unresponsive'\n\n网页变得未响应时触发\n\n# 事件: 'responsive'\n\n未响应的页面变成响应时触发\n\n# 事件: 'blur'\n\n当窗口失去焦点时触发\n\n# 事件: 'focus'\n\n当窗口获得焦点时触发\n\n# 事件: 'show'\n\n当窗口显示时触发\n\n# 事件: 'hide'\n\n当窗口隐藏时触发\n\n# 事件: 'ready-to-show'\n\n当页面已经渲染完成(但是还没有显示) 并且窗口可以被现实时触发\n\n请注意，使用此事件意味着渲染器会被认为是\"可见的\"并绘制，即使 show 是false。 如果您使用 paintwheninitiallyhidden: false，此事件将永远不会被触发。\n\n# 事件: 'maximize'\n\n窗口最大化时触发\n\n# 事件: 'unmaximize'\n\n当窗口从最大化状态退出时触发\n\n# 事件: 'minimize'\n\n窗口最小化时触发\n\n# 事件: 'restore'\n\n当窗口从最小化状态恢复时触发\n\n# 事件: 'will-resize' macos windows\n\n返回:\n\n * event event\n * newbounds rectangle - 将要调整到的窗口尺寸。\n * details object\n   * edge (string) - the edge of the window being dragged for resizing. can be bottom, left, right, top-left, top-right, bottom-left or bottom-right.\n\n调整窗口大小前触发。 调用 event.preventdefault() 将阻止窗口大小调整。\n\n请注意，该事件仅在手动调整窗口大小时触发。 通过 setbounds/setsize 调整窗口大小不会触发此事件。\n\nthe possible values and behaviors of the edge option are platform dependent. 可能的值有\n\n * on windows, possible values are bottom, top, left, right, top-left, top-right, bottom-left, bottom-right.\n * on macos, possible values are bottom and right.\n   * the value bottom is used to denote vertical resizing.\n   * the value right is used to denote horizontal resizing.\n\n# 事件: 'resize'\n\n调整窗口大小后触发。\n\n# 事件：'resized' macos windows\n\n当窗口完成调整大小后触发一次。\n\n这通常在手动调整窗口大小后触发。 在 macos 系统上，使用setbounds/setsize调整窗口大小并将animate参数设置为true也会在调整大小完成后触发此事件。\n\n# 事件: 'will-move' macos windows\n\n返回:\n\n * event event\n * newbounds rectangle - 窗口将要被移动到的位置。\n\n窗口移动前触发。 在windows上，调用 event.preventdefault() 将阻止窗口移动。\n\n请注意，该事件仅在手动调整窗口大小时触发。 通过 setbounds/setsize 调整窗口大小不会触发此事件。\n\n# 事件: 'move'\n\n窗口移动到新位置时触发\n\n# 事件: 'moved' macos windows\n\n当窗口移动到新位置时触发一次\n\n注意: 在 macos 上，此事件是move的别名。\n\n# 事件: 'enter-full-screen'\n\n窗口进入全屏状态时触发\n\n# 事件: 'leave-full-screen'\n\n窗口离开全屏状态时触发\n\n# 事件: 'enter-html-full-screen'\n\n窗口进入由html api 触发的全屏状态时触发\n\n# 事件: 'leave-html-full-screen'\n\n窗口离开由html api触发的全屏状态时触发\n\n# 事件: 'always-on-top-changed'\n\n返回:\n\n * event event\n * isalwaysontop boolean\n\n设置或取消设置窗口总是在其他窗口的顶部显示时触发。\n\n# 事件： 'app-command' windows__linux\n\n返回:\n\n * event event\n * command string\n\n请求一个应用程序命令时触发. 典型的是键盘上的媒体键或浏览器命令, 以及在windows上的一些鼠标中内置的“后退”按钮。\n\n命令是小写的，下划线替换为连字符，以及appcommand_ 前缀将被删除。 例如 appcommand_browser_backward将被browser-backward触发.\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow()\nwin.on('app-command', (e, cmd) => {\n  // 当用户鼠标单击返回按钮时将自动返回上一个窗口\n  if (cmd === 'browser-backward' && win.webcontents.cangoback()) {\n    win.webcontents.goback()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n以下应用命令在 linux 上有明确地支持：\n\n * browser-backward\n * browser-forward\n\n# 事件: 'scroll-touch-begin' macos\n\n滚轮事件阶段开始时触发\n\n# 事件: 'scroll-touch-end' macos\n\n滚轮事件阶段结束时触发\n\n# 事件: 'scroll-touch-edge' macos\n\n滚轮事件阶段到达元素边缘时触发\n\n# 事件: 'swipe' macos\n\n返回:\n\n * event event\n * direction string\n\n三指滑动时触发。 可能的方向是 up, right, down, left。\n\n此事件的基本方法是用来处理旧的macos风格的触摸板滑动，屏幕内容不会随着滑动而移动。 大多数macos触摸板都不再允许配置这样的滑动，因此为了正确地触发该事件，需将system preferences > trackpad > more gestures中'swipe between pages'首选项设置为'swipe with two or three fingers'。\n\n# 事件: 'rotate-gesture' macos\n\n返回:\n\n * event event\n * rotation float\n\n在触控板旋转手势上触发。 持续触发直到旋转手势结束。 每次触发的 rotation 值是自上次触发以来旋转的角度。 旋转手势最后一次触发的事件值永远是0。 逆时针旋转值为正值，顺时针旋转值为负值。\n\n# 事件: 'sheet-begin' macos\n\n窗口打开sheet(工作表) 时触发\n\n# 事件: 'sheet-end' macos\n\n窗口关闭sheet(工作表) 时触发\n\n# 事件: 'new-window-for-tab' macos\n\n当点击了系统的新标签按钮时触发\n\n# 事件: 'system-context-menu' windows\n\n返回:\n\n * event event\n * point point - 上下文菜单触发时的屏幕坐标。\n\n当系统上下文菜单在窗口上触发时发出， 通常只在用户右键点击你窗口的非客户端区域时触发。 非客户端区域指的是窗口标题栏或无边框窗口中被你声明为 -webkit-app-region: drag 的任意区域。\n\n调用 event.preventdefault() 将阻止菜单显示。\n\n\n# 静态方法\n\nbrowserwindow 类有以下方法:\n\n# browserwindow.getallwindows()\n\n返回 browserwindow[] - 所有打开的窗口的数组\n\n# browserwindow.getfocusedwindow()\n\n返回 browserwindow | null - 此应用程序中当前获得焦点的窗口，如果无就返回 null.\n\n# browserwindow.fromwebcontents(webcontents)\n\n * webcontents webcontents\n\n返回 browserwindow | null - 返回拥有给定 webcontents的窗口，否则如果内容不属于一个窗口，返回null。\n\n# browserwindow.frombrowserview(browserview)\n\n * browserview browserview\n\n返回 browserwindow | null - 拥有给定 browserview 的窗口。 如果给定的视图没有附加到任何窗口，返回 null。\n\n# browserwindow.fromid(id)\n\n * id integer\n\n返回 browserwindow | null - 带有给定 id 的窗口。\n\n\n# 实例属性\n\n使用 new browserwindow 创建的对象具有以下属性:\n\nconst { browserwindow } = require('electron')\n// 本例中 `win` 是我们的实例\nconst win = new browserwindow({ width: 800, height: 600 })\nwin.loadurl('https://github.com')\n\n\n1\n2\n3\n4\n\n\n# win.webcontents 只读\n\n此窗口拥有的 webcontents 对象。 所有与网页相关的事件和操作都将通过它完成。\n\n有关它的方法和事件, 请参见 webcontents documentation\n\n# win.id 只读\n\n一个 integer 属性代表了窗口的唯一id。 每个id在整个electron应用程序的所有 browserwindow 实例中都是唯一的。\n\n# win.autohidemenubar\n\n一个 boolean 属性决定窗口菜单栏是否自动隐藏。 一旦设置，菜单栏将只在用户单击 alt 键时显示。\n\n如果菜单栏已经可见，将该属性设置为 true 将不会使其立刻隐藏。\n\n# win.simplefullscreen\n\n一个 boolean 属性，用于决定窗口是否处于简单(pre-lion) 全屏模式。\n\n# win.fullscreen\n\n一个 boolean 属性，用于决定窗口是否处于全屏模式。\n\n# win.focusable windows macos\n\na boolean property that determines whether the window is focusable.\n\n# win.visibleonallworkspaces\n\n一个 boolean 属性，用于决定窗口是否在所有工作区中可见。\n\n注意： 在 windows 上始终返回 false。\n\n# win.shadow\n\n一个 boolean 属性，用于决定窗口是否显示阴影。\n\n# win.menubarvisible windows linux\n\n一个 boolean 属性，用于决定菜单栏是否可见。\n\n注意： 如果菜单栏自动隐藏，用户仍然可以通过单击 alt 键来唤出菜单栏。\n\n# win.kiosk\n\n一个 boolean 属性，用于决定窗口是否处于kiosk模式。\n\n# win.documentedited macos\n\n一个 boolean 属性指明窗口文档是否已被编辑。\n\n当设置为 true 时，标题栏的图标将变灰。\n\n# win.representedfilename macos\n\n一个 string 属性，用于确定窗口代表的文件的路径名，文件的图标将显示在窗口的标题栏中。\n\n# win.title\n\n一个 string 属性，用于确定原生窗口的标题。\n\n注意： 网页的标题可以与原生窗口的标题不同。\n\n# win.minimizable\n\n一个 boolean 属性，用于决定窗口是否可被用户手动最小化。\n\n在 linux 上，setter 不会进行任何操作，尽管 getter 返回的是 true。\n\n# win.maximizable\n\n一个 boolean 属性，用于决定窗口是否可被用户手动最大化。\n\n在 linux 上，setter 不会进行任何操作，尽管 getter 返回的是 true。\n\n# win.fullscreenable\n\n一个 boolean 属性，决定最大化/缩放窗口按钮是切换全屏模式还是最大化窗口。\n\n# win.resizable\n\n一个 boolean 属性，用于决定窗口是否可被用户手动调整大小。\n\n# win.closable\n\n一个 boolean 属性，用于决定窗口是否可被用户手动关闭。\n\n在 linux 上，setter 不会进行任何操作，尽管 getter 返回的是 true。\n\n# win.movable\n\n一个 boolean 属性，用于决定窗口是否可被用户移动。\n\n在 linux 上，setter 不会进行任何操作，尽管 getter 返回的是 true。\n\n# win.excludedfromshownwindowsmenu macos\n\n一个 boolean 属性，用于决定窗口是否从应用程序的 windows 菜单排除。 默认值为 false\n\nconst win = new browserwindow({ height: 600, width: 600 })\n\nconst template = [\n  {\n    role: 'windowmenu'\n  }\n]\n\nwin.excludedfromshownwindowsmenu = true\n\nconst menu = menu.buildfromtemplate(template)\nmenu.setapplicationmenu(menu)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# win.accessibletitle\n\n一个 string 属性，定义一个仅为如屏幕阅读器等辅助工具提供的替代标题 。 此字符串不直接对用户可见。\n\n\n# 实例方法\n\n使用 new browserwindow创建的对象具有以下实例方法:\n\n** 注意: **某些方法仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n# win.destroy()\n\n强制关闭窗口, 除了closed之外，close，unload 和 beforeunload 都不会被触发\n\n# win.close()\n\n尝试关闭窗口。 该方法与用户手动单击窗口的关闭按钮效果相同。 但网页可能会取消这个关闭操作。 查看 关闭事件。\n\n# win.focus()\n\n聚焦于窗口\n\n# win.blur()\n\n取消窗口的聚焦\n\n# win.isfocused()\n\n返回 boolean - 判断窗口是否聚焦\n\n# win.isdestroyed()\n\n返回 boolean -判断窗口是否被销毁\n\n# win.show()\n\n显示并聚焦于窗口\n\n# win.showinactive()\n\n显示但不聚焦于窗口\n\n# win.hide()\n\n隐藏窗口\n\n# win.isvisible()\n\n返回 boolean - 判断窗口是否可见\n\n# win.ismodal()\n\n返回 boolean - 判断是否为模态窗口\n\n# win.maximize()\n\n最大化窗口。 如果窗口尚未显示，该方法也会将其显示 (但不会聚焦)。\n\n# win.unmaximize()\n\n取消窗口最大化\n\n# win.ismaximized()\n\n返回 boolean - 判断窗口是否最大化\n\n# win.minimize()\n\n最小化窗口。 在某些平台上, 最小化的窗口将显示在dock中。\n\n# win.restore()\n\n将窗口从最小化状态恢复到以前的状态。\n\n# win.isminimized()\n\n返回 boolean -判断窗口是否最小化\n\n# win.setfullscreen(flag)\n\n * flag boolean\n\n设置窗口是否应处于全屏模式。\n\n# win.isfullscreen()\n\n返回 boolean - 窗口当前是否已全屏\n\n# win.setsimplefullscreen(flag) macos\n\n * flag boolean\n\n进入或离开简单的全屏模式。\n\n简单全屏模式模拟了 lion (10.7) 之前的macos版本中的原生全屏行为。\n\n# win.issimplefullscreen() macos\n\n返回 boolean - 窗口是否为简单全屏模式(pre-lion)。\n\n# win.isnormal()\n\n返回 boolean - 窗口是否处于正常状态（未最大化，未最小化，不在全屏模式下）。\n\n# win.setaspectratio(aspectratio[, extrasize])\n\n * aspectratio float- 为内容视图保持的宽高比.\n * extrasize size (可选) macos - 保持宽高比时不包括的额外大小。\n\n这将使窗口保持长宽比。 额外的大小允许开发人员有空间 (以像素为单位), 不包括在纵横比计算中。 此 api 已经考虑了窗口大小和内容大小之间的差异。\n\n想象一个使用高清视频播放器和相关控件的普通窗口。 假假如左边缘有15px, 右边缘有25px, 在播放器下面有50px. 为了保持播放器本身16:9 的长宽比 (标准的hd长宽比为1920x1080)， 我们可以使用 16/9 和 { width: 40, height: 50 } 的参数调用这个函数。 第二个参数不管网页中的额外的宽度和高度在什么位置, 只要它们存在就行. 在全部内部窗口中，加上任何额外的宽度和高度 。\n\nthe aspect ratio is not respected when window is resized programmatically with apis like win.setsize.\n\n# win.setbackgroundcolor(backgroundcolor)\n\n * backgroundcolor string - 十六进制的窗口背景色，如 #66cd00、#fff和#80ffffff。 (如果transparent是true的话，也支持alpha 通道。) 默认值为 #fff（白色）。\n\n设置窗口的背景颜色。 请参阅 设置背景颜色。\n\n# win.previewfile(path[, displayname]) macos\n\n * path string -要用 quicklook 预览的文件的绝对路径。 这一点很重要，因为quick look 使用了路径上的文件名和文件扩展名 来决定要打开的文件的内容类型。\n * displayname string (可选) - 在quick look 模态视图中显示的文件的名称。 这完全是视觉的，不会影响文件的内容类型。 默认值为 path.\n\n使用 quick look来预览路径中的文件.\n\n# win.closefilepreview() macos\n\n关闭当前打开的 quick look 面板.\n\n# win.setbounds(bounds[, animate])\n\n * bounds partial<rectangle>\n * animate boolean (可选) macos\n\n重置窗口，并且移动窗口到指定的位置. 任何未提供的属性将默认为其当前值。\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow()\n\n// 设置所有 bounds 边界属性\nwin.setbounds({ x: 440, y: 225, width: 800, height: 600 })\n\n// 设置单一 bounds 边界属性\nwin.setbounds({ width: 100 })\n\n// { x: 440, y: 225, width: 100, height: 600 }\nconsole.log(win.getbounds())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# win.getbounds()\n\n返回 rectangle - 窗口的 bounds 作为 object。\n\n# win.getbackgroundcolor()\n\n返回 string - 获取窗口的背景颜色。 请参阅 设置背景颜色。\n\n# win.setcontentbounds(bounds[, animate])\n\n * bounds rectangle\n * animate boolean (可选) macos\n\n调整窗口的工作区 (如网页) 的大小并将其移动到所提供的边界。\n\n# win.getcontentbounds()\n\n返回 rectangle - 窗口客户端区域的 bounds 对象。\n\n# win.getnormalbounds()\n\n返回 rectangle - 包含正常状态下的窗口大小。\n\n**注意：**无论当前的窗口状态为：最大化、最小化或者全屏，这个方法都将得到窗口在正常显示状态下的位置信息以及大小信息。 在正常状态下，getbounds 与 getnormalbounds 得到的边界信息 rectangle 是一致的。\n\n# win.setenabled(enable)\n\n * enable boolean\n\n禁用或者启用窗口。\n\n# win.isenabled()\n\n返回 boolean - 窗口是否启用。\n\n# win.setsize(width, height[, animate])\n\n * width integer\n * height integer\n * animate boolean (可选) macos\n\n调整窗口的width和 height. 如果 width 或 height 低于任何设定的最小尺寸约束，窗口将对齐到约束的最小尺寸。\n\n# win.getsize()\n\n返回 integer []-包含窗口的宽度和高度。\n\n# win.setcontentsize(width, height[, animate])\n\n * width integer\n * height integer\n * animate boolean (可选) macos\n\n将窗口的工作区 (如网页) 的大小调整为 width 和 height。\n\n# win.getcontentsize()\n\n返回 integer []-包含窗口的宽度和高度。\n\n# win.setminimumsize(width, height)\n\n * width integer\n * height integer\n\n设置窗口最小化的 width 和height.\n\n# win.getminimumsize()\n\n返回 integer []-包含窗口最小化的宽度和高度。\n\n# win.setmaximumsize(width, height)\n\n * width integer\n * height integer\n\n设置窗口最大化的 width 和 height.\n\n# win.getmaximumsize()\n\n返回 integer []-包含窗口最大化的宽度和高度。\n\n# win.setresizable(resizable)\n\n * resizable boolean\n\n设置用户是否可以手动调整窗口大小。\n\n# win.isresizable()\n\n返回 boolean - 用户是否可以手动调整窗口大小。\n\n# win.setmovable(movable) macos windows\n\n * movable boolean\n\n设置用户是否可以移动窗口。 在linux上不起作用。\n\n# win.ismovable() macos windows\n\n返回 boolean - 窗口是否可以被用户拖动\n\n在 linux 上总是返回 true。\n\n# win.setminimizable(minimizable) macos windows\n\n * minimizable boolean\n\n设置用户是否可以手动将窗口最小化。 在linux上不起作用。\n\n# win.isminimizable() macos windows\n\n返回 boolean - 用户是否可以手动最小化窗口。\n\n在 linux 上总是返回 true。\n\n# win.setmaximizable(maximizable) macos windows\n\n * maximizable boolean\n\n设置用户是否可以手动最大化窗口。 在linux上不起作用。\n\n# win.ismaximizable() macos windows\n\n返回 boolean - 窗口是否可以最大化.\n\n在 linux 上总是返回 true。\n\n# win.setfullscreenable(fullscreenable)\n\n * fullscreenable boolean\n\n设置最大化/缩放窗口按钮是切换全屏模式还是最大化窗口。\n\n# win.isfullscreenable()\n\n返回 boolean - 最大化/缩放窗口按钮是切换全屏模式还是最大化窗口。\n\n# win.setclosable(closable) macos windows\n\n * closable boolean\n\n设置用户是否可以手动关闭窗口。 在linux上不起作用。\n\n# win.isclosable() macos windows\n\n返回 boolean - 窗口是否可以被用户关闭.\n\n在 linux 上总是返回 true。\n\n# win.setalwaysontop(flag[, level][, relativelevel])\n\n * flag boolean\n * level string (可选) macos windows - 值包括 normal, floating, torn-off-menu, modal-panel, main-menu, status, pop-up-menu, screen-saver和 dock(已弃用)。 当 flag 属性为true时，默认值为 floating 。 当flag为false时，level 会重置为 normal。 请注意，包括从 floating 到 status ，窗口会被置于 macos 上的 dock 下方和 windows 上的任务栏下方。 从 pop-up-menu 到更高级别，窗口显示在 macos 上的dock上方和 windows 上的任务栏上方。 更多信息，请查阅 macos 文档。\n * relativelevel integer (可选) macos - 设置此窗口相对于给定 级别的层数。. 默认值为0. 请注意, apple 不鼓励在 屏幕保护程序 之上设置高于1的级别。\n\n设置窗口是否应始终显示在其他窗口的前面。 设置后，窗口仍然是一个正常窗口，而不是一个无法获取焦点的工具框窗口。\n\n# win.isalwaysontop()\n\n返回 boolean - 当前窗口是否始终在其它窗口之前.\n\n# win.moveabove(mediasourceid)\n\n * mediasourceid string - desktopcapturersource格式的窗口 id 。 例如 \"window:1869:0\"。\n\n将窗口按z轴顺序移动到源窗口前面。 如果 mediasourceid 不是window类型，或者如果窗口不存在，则此方法会抛出一个错误。\n\n# win.movetop()\n\n无论焦点如何, 将窗口移至顶端(z轴上的顺序).\n\n# win.center()\n\n将窗口移动到屏幕中央。\n\n# win.setposition(x, y[, animate])\n\n * x integer\n * y integer\n * animate boolean (可选) macos\n\n将窗口移动到 x 和 y。\n\n# win.getposition()\n\n返回 integer[] - 返回一个包含当前窗口位置的数组.\n\n# win.settitle(title)\n\n * title string\n\n将原生窗口的标题更改为 title。\n\n# win.gettitle()\n\n返回 string-原生窗口的标题。\n\n注意： 网页的标题可以与原生窗口的标题不同。\n\n# win.setsheetoffset(offsety[, offsetx]) macos\n\n * offsety float\n * offsetx float (可选)\n\n改变macos上sheet组件的附着点。 默认情况下，sheet贴在窗口边框正下方，但你可能需要在 html 渲染工具栏下方显示它们。 例如：\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow()\n\nconst toolbarrect = document.getelementbyid('toolbar').getboundingclientrect()\nwin.setsheetoffset(toolbarrect.height)\n\n\n1\n2\n3\n4\n5\n\n\n# win.flashframe(flag)\n\n * flag boolean\n\n启动或停止闪烁窗口, 以吸引用户的注意。\n\n# win.setskiptaskbar(skip)\n\n * skip boolean\n\n使窗口不显示在任务栏中。\n\n# win.setkiosk(flag)\n\n * flag boolean\n\n进入或离开 kiosk 模式。\n\n# win.iskiosk()\n\n返回 boolean - 判断窗口是否处于kiosk模式.\n\n# win.istabletmode() windows\n\n返回 boolean - 无论当前窗口是否处在 windows 10 平板模式\n\n因为 windows 10 用户可以 将他们的 pc 作为平板电脑来使用，在此模式下，应用可以选择为平板电脑的界面做出优化，如扩展标题栏和隐藏标题栏按钮。\n\n此 api 返回 窗口是否在平板电脑模式下，并且 调整大小 事件可以用于监听对平板模式的更改。\n\n# win.getmediasourceid()\n\n返回 string - desktopcapturersource的id格式的窗口 id 。 例如 \"window:1324:0\"。\n\n更确切地说，格式是 window:id:other_id。在windows上 id 是 hwnd 类型；在macos上是 cgwindowid (uint64_t)；在linux上是 window (unsigned long)。 other_id 用于识别同一顶层窗口内的web 内容 (选项卡)。\n\n# win.getnativewindowhandle()\n\n返回 buffer - 窗口的平台特定句柄\n\nwindows上句柄类型为 hwnd，macos 上为 nsview*，linux 上为window (unsigned long)\n\n# win.hookwindowmessage(message, callback) windows\n\n * message integer\n * callback function\n   * wparam any - 提供给 wndproc的 wparam 值。\n   * lparam any - 提供给 wndproc的 lparam 值。\n\n钩住窗口消息。 当消息到达 wndproc 时调用callback 。\n\n# win.iswindowmessagehooked(message) windows\n\n * message integer\n\n返回 boolean - true 或false ，具体取决于是否钩挂了消息.\n\n# win.unhookwindowmessage(message) windows\n\n * message integer\n\n取消窗口信息的钩子。\n\n# win.unhookallwindowmessages() windows\n\n取消所有窗口信息的钩子。\n\n# win.setrepresentedfilename(filename) macos\n\n * filename string\n\n设置窗口所代表的文件的路径名，并且将这个文件的图标放在窗口标题栏上。\n\n# win.getrepresentedfilename() macos\n\n返回 string - 获取窗口当前文件路径.\n\n# win.setdocumentedited(edited) macos\n\n * edited boolean\n\n明确指出窗口文档是否可以编辑, 如果设置为true则将标题栏的图标变成灰色.\n\n# win.isdocumentedited() macos\n\n返回 boolean - 判断当前窗口文档是否可编辑.\n\n# win.focusonwebview()\n\n# win.blurwebview()\n\n# win.capturepage([rect])\n\n * rect rectangle (可选) - 捕获的区域\n\n返回 promise<nativeimage> - 完成后返回一个nativeimage\n\n在 rect内捕获页面的快照。 省略 rect 将捕获整个可见页面。 如果页面不可见， rect 可能是空的。\n\n# win.loadurl(url[, options])\n\n * url string\n * options object (可选)\n   * httpreferrer (string | referrer) (可选) - http 引用 url。\n   * useragent string (可选) - 发起请求的 useragent.\n   * extraheaders string (可选) - 用 \"\\n\" 分割的额外标题\n   * postdata (uploadrawdata | uploadfile)[] (可选)\n   * baseurlfordataurl string (可选) - 要由数据url加载的文件基本url(末尾带有路径分隔符)。 仅当指定的url是数据url并且需要加载其他文件时，才需要此选项。\n\n返回 promise<void> - 当页面完成加载后 promise 将会resolve (见 did-finish-load)，如果页面加载失败，则 reject (见 did-fail-load)。\n\n与 webcontents.loadurl(url[, options]) 相同。\n\nurl 可以是远程地址 (例如 http://),也可以是 file:// 协议的本地html文件的路径.\n\n为了确保文件网址格式正确, 建议使用node的 url.format 方法:\n\nconst url = require('url').format({\n  protocol: 'file',\n  slashes: true,\n  pathname: require('path').join(__dirname, 'index.html')\n})\n\nwin.loadurl(url)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n您可以通过执行以下操作, 使用带有网址编码数据的 post请求 加载网址:\n\nwin.loadurl('http://localhost:8000/post', {\n  postdata: [{\n    type: 'rawdata',\n    bytes: buffer.from('hello=world')\n  }],\n  extraheaders: 'content-type: application/x-www-form-urlencoded'\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# win.loadfile(filepath[, options])\n\n * filepath string\n * options object (可选)\n   * query record<string, string> (可选) - 传递给 url.format().\n   * search string (可选) - 传递给 url.format().\n   * hash string (可选) - 传递给 url.format().\n\n返回 promise<void> - 当页面完成加载后 promise 将会resolve (见 did-finish-load)，如果页面加载失败，则 reject (见 did-fail-load)。\n\n与 webcontents.loadfile相同， filepath 应该是一个与你的应用程序的根路径相关的html文件路径。 有关更多信息，请参阅webcontents 文档。\n\n# win.reload()\n\n与 webcontents.reload 相同.\n\n# win.setmenu(menu) linux windows\n\n * menu menu | null\n\n将 menu 设置为窗口的菜单栏。\n\n# win.removemenu() linux windows\n\n删除窗口的菜单栏。\n\n# win.setprogressbar(progress[, options])\n\n * progress double\n * options object (可选)\n   * mode string windows - 进度条的状态。 可以是 none， normal， indeterminate， error 或 paused。\n\n设置进度条的进度值。 有效范围为 [0, 1.0]。\n\n当进度小于0时不显示进度; 当进度大于0时显示结果不确定.\n\n在 linux 平台上，只支持 unity 桌面模式, 你需要在 package.json 中为 desktopname 指定 *.desktop 的文件名. 默认情况下，将取 {app.name}.desktop。\n\n在 windows 上, 可以传递模式。 可以接受的值为none, normal, indeterminate, error和 paused. 如果没有设置模式 (但值在有效范围内) 的情况下调用 setprogressbar, 默认值为normal。\n\n# win.setoverlayicon(overlay, description) windows\n\n * overlay nativeimage | null - 右下角任务栏的显示图标。 如果此参数是 null，覆盖层层会被清除。\n * description string -提供给屏幕阅读器的描述文字\n\n在当前任务栏图标上设置一个 16 x 16 像素的图标, 通常用于传达某种应用程序状态或被动地通知用户。\n\n# win.sethasshadow(hasshadow)\n\n * hasshadow boolean\n\n设置窗口是否有阴影。\n\n# win.hasshadow()\n\n返回 boolean - 判断窗口是否有阴影.\n\n# win.setopacity(opacity) windows macos\n\n * opacity number - 介于0.0 ( 完全透明 ) 和1.0 ( 完全不透明 ) 之间\n\n设置窗口的不透明度。 在linux上不起作用。 超出界限的数值被限制在[0, 1] 范围内。\n\n# win.getopacity()\n\n返回 number - 介于0.0 (完全透明) 和1.0 (完全不透明) 之间。 在linux上，始终返回1。\n\n# win.setshape(rects) windows linux 实验性\n\n * rects rectangle[] - 在窗口上设置形状。 通过传入空列表将窗口恢复为矩形。\n\n对窗口形状的设置决定了窗口内系统允许绘制与用户交互的区域. 在给定的区域外, 没有像素会被绘制, 且没有鼠标事件会被登记. 在该区域外的鼠标事件将不会被该窗口接收, 而是落至该窗口后方的任意窗口.\n\n# win.setthumbarbuttons(buttons) windows\n\n * buttons thumbarbutton[]\n\n返回 boolean - 按钮是否成功添加\n\n将指定的一组按钮添加到菜单栏的缩图工具栏上。 返回一个 boolean 对象表示是否成功地添加了缩略图.\n\n由于空间有限, 缩图工具栏中的按钮数量不要超过7个。 一旦设置了缩略图工具栏，则无法删除。 但你可以通过调用 api 传递一个空数组来清除按钮.\n\nbuttons 是一个 button 对象的数组:\n\n * button object\n   * icon nativeimage - 在缩图工具栏上显示的图标.\n   * click function\n   * tooltip string (可选) - 按钮的提示文本.\n   * flags string[] (可选) - 控制按钮的特定状态和行为。 默认情况下，值为 ['enabled']。\n\nflags 属性是一个数组，包含以下string类型的值:\n\n * enabled - 该按钮处于活动状态并可供用户使用.\n * disabled - 按钮已禁用。 会以一种视觉状态表示它不会响应用户操作的形式显示。\n * dismissonclick - 当按钮被点击时，缩略图窗口立即关闭。\n * nobackground - 仅仅使用图像而不绘制边框。\n * hidden - 该按钮对用户不可见。\n * noninteractive - 按钮已启用，但不交互；不绘制按钮按下的状态。 此值用于在通知中使用按钮的实例。\n\n# win.setthumbnailclip(region) windows\n\n * region rectangle 窗口的区域\n\n将窗口的区域设置为在任务栏中悬停在窗口上方时显示的缩略图图像。 通过指定空区域：{ x: 0, y: 0, width: 0, height: 0 }，可以重置整个窗口的缩略图。\n\n# win.setthumbnailtooltip(tooltip) windows\n\n * tooltip string\n\n设置在任务栏中悬停在窗口缩略图上时显示的工具提示。\n\n# win.setappdetails(options) windows\n\n * 选项 对象\n   * appid string (可选) - 窗口的 app user model id. 该项必须设置, 否则其他选项将没有效果.\n   * appiconpath string (可选) -窗口的 relaunch icon.\n   * appiconindex integer (可选) - appiconpath中的图标索引。 未设置 appiconpath 时忽略。 默认值为 0.\n   * relaunchcommand string (可选) - 窗口的 重新启动命令.\n   * relaunchdisplayname string (可选) - 窗口的重新启动显示名称.\n\n设置窗口任务栏按钮的属性。\n\n**注意：**必须始终同时设置 relaunchcommand 和 relaunchdisplayname。 如果其中一个属性没有设置，那么这两个属性都不会使用。\n\n# win.showdefinitionforselection() macos\n\n和 webcontents.showdefinitionforselection() 相同.\n\n# win.seticon(icon) windows linux\n\n * icon nativeimage | string\n\n设置窗口图标\n\n# win.setwindowbuttonvisibility(visible) macos\n\n * visible boolean\n\n设置是否窗口交通灯需要显示。\n\n# win.setautohidemenubar(hide)\n\n * hide boolean\n\n设置窗口菜单栏是否自动隐藏。 一旦设置，菜单栏将只在用户单击 alt 键时显示。\n\n如果菜单栏已经可见, 调用 setautohidemenubar(true)时不会立刻隐藏。\n\n# win.ismenubarautohide()\n\n返回 boolean - 判断窗口的菜单栏是否自动隐藏.\n\n# win.setmenubarvisibility(visible) windows linux\n\n * visible boolean\n\n设置菜单栏是否可见。 如果菜单栏自动隐藏，用户仍然可以通过单击 alt 键来唤出菜单栏。\n\n# win.ismenubarvisible()\n\n返回 boolean - 判断窗口的菜单栏是否可见.\n\n# win.setvisibleonallworkspaces(visible[, options])\n\n * visible boolean\n * options object (可选)\n   * visibleonfullscreen boolean (可选) macos - 设置当前窗口是否可以在全屏窗口之上显示。\n   * skiptransformprocesstype boolean (可选) macos - 调用 setvisibleonallworkspaces ，默认转换流程类型于 uielementapplication 和 foregroundapplication 之间，用来保障正常响应。 然而，当方法被调用时将短暂的隐藏窗口和图标。 如果你的窗口已经是 uielementapplication 类似，你可以绕过这次转换通过传递 true 参数给transformprocesstype。\n\n设置窗口是否在所有工作空间上可见\n\n注意: 该 api 在 windows 上无效.\n\n# win.isvisibleonallworkspaces()\n\n返回 boolean - 判断窗口是否在所有工作空间上可见.\n\n注意: 该 api 在 windows 上始终返回 false.\n\n# win.setignoremouseevents(ignore[, options])\n\n * ignore boolean\n * options object (可选)\n   * forward boolean (可选) macos windows - 如果为 true, 传递鼠标移动消息给 chromium，鼠标相关事件将可用，如 mouseleave。 仅当ignore </ 0>为 true 时才被使用。 如果 <code>ignore 为 false, 转发始终是禁用的，不管这个值是什么。\n\n忽略窗口内的所有鼠标事件\n\n在此窗口中发生的所有鼠标事件将被传递到此窗口下面的窗口, 但如果此窗口具有焦点, 它仍然会接收键盘事件\n\n# win.setcontentprotection(enable) macos windows\n\n * enable boolean\n\n防止窗口内容被其他应用捕获\n\n在 macos 上，它将 nswindow 的 sharingtype 设置为 nswindowsharingnone。 在 windows 上，它以参数为 wda_excludefromcapture 调用 setwindowdisplayaffinity 。 对于 windows 10 2004以上版，本窗口将完全从抓取中移除，在低版本 windows 上其行为就像是 wda_monitor 捕捉了黑色窗口。\n\n# win.setfocusable(focusable) macos windows\n\n * focusable boolean\n\n设置窗口是否可聚焦\n\n在 macos 上，该方法不会从窗口中移除焦点。\n\n# win.isfocusable() macos windows\n\nreturns whether the window can be focused.\n\n# win.setparentwindow(parent)\n\n * parent browserwindow | null\n\n设置 parent 为当前窗口的父窗口. 为null时表示将当前窗口转为顶级窗口\n\n# win.getparentwindow()\n\n返回 browserwindow - 父窗口.\n\n# win.getchildwindows()\n\n返回 browserwindow[] - 首页的子窗口.\n\n# win.setautohidecursor(autohide) macos\n\n * autohide boolean\n\n设置输入时是否隐藏光标\n\n# win.selectprevioustab() macos\n\n当启用本地选项卡，并且窗口中有另一个标签时，选择上一个选项卡。\n\n# win.selectnexttab() macos\n\n当启用本地选项卡，并且窗口中有另一个标签时，选择下一个选项卡。\n\n# win.mergeallwindows() macos\n\n当启用本地选项卡并且存在多个打开窗口时，将所有窗口合并到一个带有多个选项卡的窗口中。\n\n# win.movetabtonewwindow() macos\n\n如果启用了本机选项卡并且当前窗口中有多个选项卡，则将当前选项卡移动到新窗口中。\n\n# win.toggletabbar() macos\n\n如果启用了本机选项卡并且当前窗口中只有一个选项卡，则切换选项卡栏是否可见。\n\n# win.addtabbedwindow(browserwindow) macos\n\n * browserwindow browserwindow\n\n在该窗口中添加一个窗口作为选项卡，位于窗口实例的选项卡之后。\n\n# win.setvibrancy(type) macos\n\n * type string | null - 可以是 appearance-based，light，dark，titlebar，selection，menu，popover，sidebar，medium-light，ultra-dark，header，sheet，window，hud，fullscreen-ui，tooltip，content，under-window 或 under-page。 更多详细信息，请查阅 macos documentation\n\n在浏览器窗口中添加一个动态特效。 传递 null 或空字符串将会移除窗口上的动态效果。\n\n请注意， appearance-based，light，dark，medium-light 和 ultra-dark 已被弃用，并将在即将推出的 macos 版本中被移除。\n\n# win.settrafficlightposition(position) macos\n\n * position point\n\n在无框窗口中设置自定义控制按钮的位置。\n\n# win.gettrafficlightposition() macos\n\n返回 point - 在无框窗口中自定义控制按钮的位置。\n\n# win.settouchbar(touchbar) macos\n\n * touchbar touchbar | null\n\n设置窗口的触摸条布局 设置为 null 或undefined将清除触摸条. 此方法只有在macos 10.12.1+且设备支持触摸条touchbar时可用.\n\n注意: touchbar api目前为实验性质，可能会更改或删除。\n\n# win.setbrowserview(browserview) 实验\n\n * browserview browserview | null - 将 browserview 附加到 win。 如果已经附加了其他 browserview，那么它们将会被从此窗口中移除。\n\n# win.getbrowserview() 实验功能\n\n返回 browserview | null - 附加到 win 的 browserview 。 如果未附加，则返回 null。 如果附加了多个 browserview，则抛出错误。\n\n# win.addbrowserview(browserview) 实验功能\n\n * browserview browserview\n\n替代 setbrowserview 的api，支持多个browserview一起使用。\n\n# win.removebrowserview(browserview) 实验功能\n\n * browserview browserview\n\n# win.settopbrowserview(browserview) 实验功能\n\n * browserview browserview\n\n提高 browserview 于其它附加到 win 的 browserview 之上 。 如果 browserview 未附加到 win，则抛出错误。\n\n# win.getbrowserviews() 实验功能\n\n返回 browserview[] - 所有通过 addbrowserview 或 setbrowserview 附加的browserview数组。\n\n注意: browserview 的 api目前为实验性质，可能会更改或删除。",charsets:{cjk:!0}},{title:"global-shortcut",frontmatter:{title:"global-shortcut",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/678020/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/global-shortcut.html",relativePath:"《Electron中文文档》/api/global-shortcut.md",key:"v-8cfc824c",path:"/pages/678020/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:797},{level:3,title:"globalShortcut.register(accelerator, callback)",slug:"globalshortcut-register-accelerator-callback",normalizedTitle:"globalshortcut.register(accelerator, callback)",charIndex:830},{level:3,title:"globalShortcut.registerAll(accelerators, callback)",slug:"globalshortcut-registerall-accelerators-callback",normalizedTitle:"globalshortcut.registerall(accelerators, callback)",charIndex:1222},{level:3,title:"globalShortcut.isRegistered(accelerator)",slug:"globalshortcut-isregistered-accelerator",normalizedTitle:"globalshortcut.isregistered(accelerator)",charIndex:1664},{level:3,title:"globalShortcut.unregister(accelerator)",slug:"globalshortcut-unregister-accelerator",normalizedTitle:"globalshortcut.unregister(accelerator)",charIndex:1849},{level:3,title:"globalShortcut.unregisterAll()",slug:"globalshortcut-unregisterall",normalizedTitle:"globalshortcut.unregisterall()",charIndex:696}],headersStr:"方法 globalShortcut.register(accelerator, callback) globalShortcut.registerAll(accelerators, callback) globalShortcut.isRegistered(accelerator) globalShortcut.unregister(accelerator) globalShortcut.unregisterAll()",content:"# globalShortcut\n\n> 在应用程序没有键盘焦点时，监听键盘事件。\n\n进程：主进程\n\nglobalShortcut 模块可以在操作系统中注册/注销全局快捷键, 以便可以为操作定制各种快捷键。\n\n** 注意: **快捷方式是全局的; 即使应用程序没有键盘焦点, 它也仍然在持续监听键盘事件。 在 app 模块的 ready 事件就绪之前，这个模块不能使用。\n\nconst { app, globalShortcut } = require('electron')\n\napp.whenReady().then(() => {\n  // Register a 'CommandOrControl+X' shortcut listener.\n  const ret = globalShortcut.register('CommandOrControl+X', () => {\n    console.log('CommandOrControl+X is pressed')\n  })\n\n  if (!ret) {\n    console.log('registration failed')\n  }\n\n  // 检查快捷键是否注册成功\n  console.log(globalShortcut.isRegistered('CommandOrControl+X'))\n})\n\napp.on('will-quit', () => {\n  // 注销快捷键\n  globalShortcut.unregister('CommandOrControl+X')\n\n  // 注销所有快捷键\n  globalShortcut.unregisterAll()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 方法\n\nglobalShortcut 模块具有以下方法:\n\n\n# globalShortcut.register(accelerator, callback)\n\n * accelerator Accelerator\n * callback Function\n\n返回Boolean - 快捷键注册是否成功\n\n注册 accelerator 的全局快捷键。 当用户按下注册快捷键时， callback 会被调用。\n\n如果指定的快捷键已经被其他应用程序注册掉, 调用会默默失败。 该特性由操作系统定义，因为操作系统不希望多个程序的全局快捷键互相冲突。\n\n在 macOS 10.14 Mojave 下面，如果 app 没有被授权为可信任使用的客户端，那么下列快捷键会注册失败：\n\n * \"Media Play/Pause\"\n * \"Media Next Track\"\n * \"Media Previous Track\"\n * \"Media Stop\"\n\n\n# globalShortcut.registerAll(accelerators, callback)\n\n * accelerators String[] - an array of Accelerators.\n * callback Function\n\nRegisters a global shortcut of all accelerator items in accelerators. 当用户按下注册快捷键时， callback 会被调用。\n\n如果定义的快捷键已经被其他应用占用，这个调用会失效。 该特性由操作系统定义，因为操作系统不希望多个程序的全局快捷键互相冲突。\n\n在 macOS 10.14 Mojave 下面，如果 app 没有被授权为可信任使用的客户端，那么下列快捷键会注册失败：\n\n * \"Media Play/Pause\"\n * \"Media Next Track\"\n * \"Media Previous Track\"\n * \"Media Stop\"\n\n\n# globalShortcut.isRegistered(accelerator)\n\n * accelerator Accelerator\n\n返回 Boolean - 表示 accelerator 全局快捷键是否注册成功\n\n当快捷键已经被其他应用程序注册时, 此调用依然将返回 false。 该特性由操作系统定义，因为操作系统不希望多个程序的全局快捷键互相冲突。\n\n\n# globalShortcut.unregister(accelerator)\n\n * accelerator Accelerator\n\n注销 accelerator 的全局快捷键。\n\n\n# globalShortcut.unregisterAll()\n\n注销所有的全局快捷键（清空该应用程序的所有全局快捷键）。",normalizedContent:"# globalshortcut\n\n> 在应用程序没有键盘焦点时，监听键盘事件。\n\n进程：主进程\n\nglobalshortcut 模块可以在操作系统中注册/注销全局快捷键, 以便可以为操作定制各种快捷键。\n\n** 注意: **快捷方式是全局的; 即使应用程序没有键盘焦点, 它也仍然在持续监听键盘事件。 在 app 模块的 ready 事件就绪之前，这个模块不能使用。\n\nconst { app, globalshortcut } = require('electron')\n\napp.whenready().then(() => {\n  // register a 'commandorcontrol+x' shortcut listener.\n  const ret = globalshortcut.register('commandorcontrol+x', () => {\n    console.log('commandorcontrol+x is pressed')\n  })\n\n  if (!ret) {\n    console.log('registration failed')\n  }\n\n  // 检查快捷键是否注册成功\n  console.log(globalshortcut.isregistered('commandorcontrol+x'))\n})\n\napp.on('will-quit', () => {\n  // 注销快捷键\n  globalshortcut.unregister('commandorcontrol+x')\n\n  // 注销所有快捷键\n  globalshortcut.unregisterall()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 方法\n\nglobalshortcut 模块具有以下方法:\n\n\n# globalshortcut.register(accelerator, callback)\n\n * accelerator accelerator\n * callback function\n\n返回boolean - 快捷键注册是否成功\n\n注册 accelerator 的全局快捷键。 当用户按下注册快捷键时， callback 会被调用。\n\n如果指定的快捷键已经被其他应用程序注册掉, 调用会默默失败。 该特性由操作系统定义，因为操作系统不希望多个程序的全局快捷键互相冲突。\n\n在 macos 10.14 mojave 下面，如果 app 没有被授权为可信任使用的客户端，那么下列快捷键会注册失败：\n\n * \"media play/pause\"\n * \"media next track\"\n * \"media previous track\"\n * \"media stop\"\n\n\n# globalshortcut.registerall(accelerators, callback)\n\n * accelerators string[] - an array of accelerators.\n * callback function\n\nregisters a global shortcut of all accelerator items in accelerators. 当用户按下注册快捷键时， callback 会被调用。\n\n如果定义的快捷键已经被其他应用占用，这个调用会失效。 该特性由操作系统定义，因为操作系统不希望多个程序的全局快捷键互相冲突。\n\n在 macos 10.14 mojave 下面，如果 app 没有被授权为可信任使用的客户端，那么下列快捷键会注册失败：\n\n * \"media play/pause\"\n * \"media next track\"\n * \"media previous track\"\n * \"media stop\"\n\n\n# globalshortcut.isregistered(accelerator)\n\n * accelerator accelerator\n\n返回 boolean - 表示 accelerator 全局快捷键是否注册成功\n\n当快捷键已经被其他应用程序注册时, 此调用依然将返回 false。 该特性由操作系统定义，因为操作系统不希望多个程序的全局快捷键互相冲突。\n\n\n# globalshortcut.unregister(accelerator)\n\n * accelerator accelerator\n\n注销 accelerator 的全局快捷键。\n\n\n# globalshortcut.unregisterall()\n\n注销所有的全局快捷键（清空该应用程序的所有全局快捷键）。",charsets:{cjk:!0}},{title:"frameless-window",frontmatter:{title:"frameless-window",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/aaae4f/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/frameless-window.html",relativePath:"《Electron中文文档》/api/frameless-window.md",key:"v-57a4b8f6",path:"/pages/aaae4f/",headers:[{level:2,title:"创建无边框窗口",slug:"创建无边框窗口",normalizedTitle:"创建无边框窗口",charIndex:102},{level:3,title:"Alternatives",slug:"alternatives",normalizedTitle:"alternatives",charIndex:312},{level:4,title:"hidden",slug:"hidden",normalizedTitle:"hidden",charIndex:529},{level:3,title:"macOS 上的其他方案",slug:"macos-上的其他方案",normalizedTitle:"macos 上的其他方案",charIndex:1015},{level:4,title:"hiddenInset",slug:"hiddeninset",normalizedTitle:"hiddeninset",charIndex:1031},{level:4,title:"customButtonsOnHover",slug:"custombuttonsonhover",normalizedTitle:"custombuttonsonhover",charIndex:1213},{level:2,title:"Windows Control Overlay",slug:"windows-control-overlay",normalizedTitle:"windows control overlay",charIndex:1516},{level:2,title:"透明窗口",slug:"透明窗口",normalizedTitle:"透明窗口",charIndex:2615},{level:3,title:"局限性",slug:"局限性",normalizedTitle:"局限性",charIndex:2799},{level:2,title:"点击穿透窗口",slug:"点击穿透窗口",normalizedTitle:"点击穿透窗口",charIndex:3326},{level:3,title:"转发",slug:"转发",normalizedTitle:"转发",charIndex:3527},{level:2,title:"可拖拽区",slug:"可拖拽区",normalizedTitle:"可拖拽区",charIndex:4211},{level:2,title:"文本选择",slug:"文本选择",normalizedTitle:"文本选择",charIndex:4718},{level:2,title:"右键菜单",slug:"右键菜单",normalizedTitle:"右键菜单",charIndex:4896}],headersStr:"创建无边框窗口 Alternatives hidden macOS 上的其他方案 hiddenInset customButtonsOnHover Windows Control Overlay 透明窗口 局限性 点击穿透窗口 转发 可拖拽区 文本选择 右键菜单",content:"# 无边框窗口\n\n> 打开一个无工具栏、边框、和其它图形化外壳的窗口。\n\n无边框窗口是不带外壳（包括窗口边框、工具栏等），只含有网页内容的窗口。 这些是 BrowserWindow 类上的选项。\n\n\n# 创建无边框窗口\n\n要创建无边框窗口，只需在 BrowserWindow 的 options 中将 frame 设置为 false：\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({ width: 800, height: 600, frame: false })\nwin.show()\n\n\n1\n2\n3\n\n\n\n# Alternatives\n\nThere's an alternative way to specify a chromeless window on macOS and Windows. Instead of setting frame to false which disables both the titlebar and window controls, you may want to have the title bar hidden and your content extend to the full window size, yet still preserve the window controls (\"traffic lights\" on macOS) for standard window actions. 你可以通过指定 titleBarStyle 选项来完成此操作：\n\n# hidden\n\nResults in a hidden title bar and a full size content window. On macOS, the title bar still has the standard window controls (“traffic lights”) in the top left.\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({ titleBarStyle: 'hidden' })\nwin.show()\n\n\n1\n2\n3\n\n\n\n# macOS 上的其他方案\n\n# hiddenInset\n\n返回一个另一种隐藏了标题栏的窗口，其中控制按钮到窗口边框的距离更大。\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({ titleBarStyle: 'hiddenInset' })\nwin.show()\n\n\n1\n2\n3\n\n\n# customButtonsOnHover\n\n使用自定义的关闭、缩小和全屏按钮，这些按钮会在划过窗口的左上角时显示。 由于无框窗口与苹果 macOS 窗口界面的限制，全屏按钮不可用。 这些自定义的按钮能防止, 与发生于标准的窗口工具栏按钮处的鼠标事件相关的问题. 这个选项只适用于无框窗口。\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({ titleBarStyle: 'customButtonsOnHover', frame: false })\nwin.show()\n\n\n1\n2\n3\n\n\n\n# Windows Control Overlay\n\nWhen using a frameless window in conjuction with win.setWindowButtonVisibility(true) on macOS, using one of the titleBarStyles as described above so that the traffic lights are visible, or using titleBarStyle: hidden on Windows, you can access the Window Controls Overlay JavaScript APIs and CSS Environment Variables by setting the titleBarOverlay option to true. Specifying true will result in an overlay with default system colors.\n\nOn Windows, you can also specify the color of the overlay and its symbols by setting titleBarOverlay to an object with the options color and symbolColor. If an option is not specified, the color will default to its system color for the window control buttons:\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({\n  titleBarStyle: 'hidden',\n  titleBarOverlay: true\n})\nwin.show()\n\n\n1\n2\n3\n4\n5\n6\n\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({\n  titleBarStyle: 'hidden',\n  titleBarOverlay: {\n    color: '#2f3241',\n    symbolColor: '#74b1be'\n  }\n})\nwin.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 透明窗口\n\n通过将 transparent 选项设置为 true, 还可以使无框窗口透明:\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({ transparent: true, frame: false })\nwin.show()\n\n\n1\n2\n3\n\n\n\n# 局限性\n\n * 你不能点击穿透透明区域。 我们将引入一个 API 来设置窗口形状以解决此问题, 请参阅 our issue 以了解详细信息。\n * 透明窗口不可调整大小。 在某些平台上，将 resizable 设置为 true 可能会使透明窗口停止工作。\n * blur 筛选器仅适用于网页, 因此无法对位于透明窗口下方的内容应用模糊效果 (例如在用户系统上打开的其他应用程序) 。\n * 当打开开发者工具时，窗口将不透明。\n * 在 Windows 操作系统中，\n   * 当DWM禁用时，透明窗口将失效。\n   * 透明窗口不能通过Windows系统菜单或双击标题栏实现最大化。 其背后的原因可以看这个pull request。\n * 在 linux 上, 用户必须在命令行中设置 --enable-transparent-visuals --disable-gpu 来禁用GPU, 启用 ARGB，用以实现窗体透明。 这是由一个上游的 bug 导致的, 即 在Linux机上，透明度通道（alpha channel ）在一些英伟达的驱动（NVidia drivers）中无法运行。\n * 在 Mac 上, 透明窗口无法显示原生窗口的阴影。\n\n\n# 点击穿透窗口\n\n要创建一个点击穿透窗口，也就是使窗口忽略所有鼠标事件，可以调用 win.setIgnoreMouseEvents(ignore) API：\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow()\nwin.setIgnoreMouseEvents(true)\n\n\n1\n2\n3\n\n\n\n# 转发\n\n忽略鼠标消息会使网页无视鼠标移动，这意味着鼠标移动事件不会被发出。 在 Windows 操作系统上，可以使用可选参数将鼠标移动消息转发到网页，从而允许发出诸如 mouseleave 之类的事件：\n\nconst { ipcRenderer } = require('electron')\nconst el = document.getElementById('clickThroughElement')\nel.addEventListener('mouseenter', () => {\n  ipcRenderer.send('set-ignore-mouse-events', true, { forward: true })\n})\nel.addEventListener('mouseleave', () => {\n  ipcRenderer.send('set-ignore-mouse-events', false)\n})\n\n// Main process\nconst { ipcMain } = require('electron')\nipcMain.on('set-ignore-mouse-events', (event, ...args) => {\n  BrowserWindow.fromWebContents(event.sender).setIgnoreMouseEvents(...args)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n这将使网页在 el 上点击时穿透，在它外面时恢复正常。\n\n\n# 可拖拽区\n\n默认情况下, 无边框窗口是不可拖拽的。 应用程序需要在 CSS 中指定 -webkit-app-region: drag 来告诉 Electron 哪些区域是可拖拽的（如操作系统的标准标题栏），在可拖拽区域内部使用 -webkit-app-region: no-drag 则可以将其中部分区域排除。 请注意, 当前只支持矩形形状。\n\n注意: -webkit-app-region: drag 在开发人员工具打开时会出现问题。 查看更多信息 (包括变通方法), 请参见此 GitHub 问题 。\n\n要使整个窗口可拖拽, 您可以添加 -webkit-app-region: drag 作为 body 的样式:\n\n<body style=\"-webkit-app-region: drag\">\n</body>\n\n\n1\n2\n\n\n请注意，如果您使整个窗口都可拖拽，则必须将其中的按钮标记为不可拖拽，否则用户将无法点击它们：\n\nbutton {\n  -webkit-app-region: no-drag;\n}\n\n\n1\n2\n3\n\n\n如果只将自定义标题栏设置为可拖拽，还需要使标题栏中的所有按钮都不可拖拽。\n\n\n# 文本选择\n\n在无框窗口中, 拖动行为可能与选择文本冲突。 例如, 当您拖动标题栏时, 您可能会意外地选择标题栏上的文本。 为防止此操作, 您需要在可区域中禁用文本选择, 如下所选:\n\n.titlebar {\n  -webkit-user-select: none;\n  -webkit-app-region: drag;\n}\n\n\n1\n2\n3\n4\n\n\n\n# 右键菜单\n\n在某些平台上，可拖拽区域不被视为窗口的实际内容，而是作为窗口边框处理，因此在右键单击时会弹出系统菜单。 要使上下文菜单在所有平台上都正确运行, 您永远也不要在可拖拽区域上使用自定义上下文菜单。",normalizedContent:"# 无边框窗口\n\n> 打开一个无工具栏、边框、和其它图形化外壳的窗口。\n\n无边框窗口是不带外壳（包括窗口边框、工具栏等），只含有网页内容的窗口。 这些是 browserwindow 类上的选项。\n\n\n# 创建无边框窗口\n\n要创建无边框窗口，只需在 browserwindow 的 options 中将 frame 设置为 false：\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({ width: 800, height: 600, frame: false })\nwin.show()\n\n\n1\n2\n3\n\n\n\n# alternatives\n\nthere's an alternative way to specify a chromeless window on macos and windows. instead of setting frame to false which disables both the titlebar and window controls, you may want to have the title bar hidden and your content extend to the full window size, yet still preserve the window controls (\"traffic lights\" on macos) for standard window actions. 你可以通过指定 titlebarstyle 选项来完成此操作：\n\n# hidden\n\nresults in a hidden title bar and a full size content window. on macos, the title bar still has the standard window controls (“traffic lights”) in the top left.\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({ titlebarstyle: 'hidden' })\nwin.show()\n\n\n1\n2\n3\n\n\n\n# macos 上的其他方案\n\n# hiddeninset\n\n返回一个另一种隐藏了标题栏的窗口，其中控制按钮到窗口边框的距离更大。\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({ titlebarstyle: 'hiddeninset' })\nwin.show()\n\n\n1\n2\n3\n\n\n# custombuttonsonhover\n\n使用自定义的关闭、缩小和全屏按钮，这些按钮会在划过窗口的左上角时显示。 由于无框窗口与苹果 macos 窗口界面的限制，全屏按钮不可用。 这些自定义的按钮能防止, 与发生于标准的窗口工具栏按钮处的鼠标事件相关的问题. 这个选项只适用于无框窗口。\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({ titlebarstyle: 'custombuttonsonhover', frame: false })\nwin.show()\n\n\n1\n2\n3\n\n\n\n# windows control overlay\n\nwhen using a frameless window in conjuction with win.setwindowbuttonvisibility(true) on macos, using one of the titlebarstyles as described above so that the traffic lights are visible, or using titlebarstyle: hidden on windows, you can access the window controls overlay javascript apis and css environment variables by setting the titlebaroverlay option to true. specifying true will result in an overlay with default system colors.\n\non windows, you can also specify the color of the overlay and its symbols by setting titlebaroverlay to an object with the options color and symbolcolor. if an option is not specified, the color will default to its system color for the window control buttons:\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({\n  titlebarstyle: 'hidden',\n  titlebaroverlay: true\n})\nwin.show()\n\n\n1\n2\n3\n4\n5\n6\n\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({\n  titlebarstyle: 'hidden',\n  titlebaroverlay: {\n    color: '#2f3241',\n    symbolcolor: '#74b1be'\n  }\n})\nwin.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 透明窗口\n\n通过将 transparent 选项设置为 true, 还可以使无框窗口透明:\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({ transparent: true, frame: false })\nwin.show()\n\n\n1\n2\n3\n\n\n\n# 局限性\n\n * 你不能点击穿透透明区域。 我们将引入一个 api 来设置窗口形状以解决此问题, 请参阅 our issue 以了解详细信息。\n * 透明窗口不可调整大小。 在某些平台上，将 resizable 设置为 true 可能会使透明窗口停止工作。\n * blur 筛选器仅适用于网页, 因此无法对位于透明窗口下方的内容应用模糊效果 (例如在用户系统上打开的其他应用程序) 。\n * 当打开开发者工具时，窗口将不透明。\n * 在 windows 操作系统中，\n   * 当dwm禁用时，透明窗口将失效。\n   * 透明窗口不能通过windows系统菜单或双击标题栏实现最大化。 其背后的原因可以看这个pull request。\n * 在 linux 上, 用户必须在命令行中设置 --enable-transparent-visuals --disable-gpu 来禁用gpu, 启用 argb，用以实现窗体透明。 这是由一个上游的 bug 导致的, 即 在linux机上，透明度通道（alpha channel ）在一些英伟达的驱动（nvidia drivers）中无法运行。\n * 在 mac 上, 透明窗口无法显示原生窗口的阴影。\n\n\n# 点击穿透窗口\n\n要创建一个点击穿透窗口，也就是使窗口忽略所有鼠标事件，可以调用 win.setignoremouseevents(ignore) api：\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow()\nwin.setignoremouseevents(true)\n\n\n1\n2\n3\n\n\n\n# 转发\n\n忽略鼠标消息会使网页无视鼠标移动，这意味着鼠标移动事件不会被发出。 在 windows 操作系统上，可以使用可选参数将鼠标移动消息转发到网页，从而允许发出诸如 mouseleave 之类的事件：\n\nconst { ipcrenderer } = require('electron')\nconst el = document.getelementbyid('clickthroughelement')\nel.addeventlistener('mouseenter', () => {\n  ipcrenderer.send('set-ignore-mouse-events', true, { forward: true })\n})\nel.addeventlistener('mouseleave', () => {\n  ipcrenderer.send('set-ignore-mouse-events', false)\n})\n\n// main process\nconst { ipcmain } = require('electron')\nipcmain.on('set-ignore-mouse-events', (event, ...args) => {\n  browserwindow.fromwebcontents(event.sender).setignoremouseevents(...args)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n这将使网页在 el 上点击时穿透，在它外面时恢复正常。\n\n\n# 可拖拽区\n\n默认情况下, 无边框窗口是不可拖拽的。 应用程序需要在 css 中指定 -webkit-app-region: drag 来告诉 electron 哪些区域是可拖拽的（如操作系统的标准标题栏），在可拖拽区域内部使用 -webkit-app-region: no-drag 则可以将其中部分区域排除。 请注意, 当前只支持矩形形状。\n\n注意: -webkit-app-region: drag 在开发人员工具打开时会出现问题。 查看更多信息 (包括变通方法), 请参见此 github 问题 。\n\n要使整个窗口可拖拽, 您可以添加 -webkit-app-region: drag 作为 body 的样式:\n\n<body style=\"-webkit-app-region: drag\">\n</body>\n\n\n1\n2\n\n\n请注意，如果您使整个窗口都可拖拽，则必须将其中的按钮标记为不可拖拽，否则用户将无法点击它们：\n\nbutton {\n  -webkit-app-region: no-drag;\n}\n\n\n1\n2\n3\n\n\n如果只将自定义标题栏设置为可拖拽，还需要使标题栏中的所有按钮都不可拖拽。\n\n\n# 文本选择\n\n在无框窗口中, 拖动行为可能与选择文本冲突。 例如, 当您拖动标题栏时, 您可能会意外地选择标题栏上的文本。 为防止此操作, 您需要在可区域中禁用文本选择, 如下所选:\n\n.titlebar {\n  -webkit-user-select: none;\n  -webkit-app-region: drag;\n}\n\n\n1\n2\n3\n4\n\n\n\n# 右键菜单\n\n在某些平台上，可拖拽区域不被视为窗口的实际内容，而是作为窗口边框处理，因此在右键单击时会弹出系统菜单。 要使上下文菜单在所有平台上都正确运行, 您永远也不要在可拖拽区域上使用自定义上下文菜单。",charsets:{cjk:!0}},{title:"incoming-message",frontmatter:{title:"incoming-message",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/a797f6/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/incoming-message.html",relativePath:"《Electron中文文档》/api/incoming-message.md",key:"v-0fa59f16",path:"/pages/a797f6/",headers:[{level:2,title:"类：IncomingMessage",slug:"类-incomingmessage",normalizedTitle:"类：incomingmessage",charIndex:2},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:252},{level:4,title:"Event: 'data'",slug:"event-data",normalizedTitle:"event: 'data'",charIndex:260},{level:4,title:"Event: 'end'",slug:"event-end",normalizedTitle:"event: 'end'",charIndex:334},{level:4,title:"Event: 'aborted'",slug:"event-aborted",normalizedTitle:"event: 'aborted'",charIndex:381},{level:4,title:"Event: 'error'",slug:"event-error",normalizedTitle:"event: 'error'",charIndex:423},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:562},{level:4,title:"response.statusCode",slug:"response-statuscode",normalizedTitle:"response.statuscode",charIndex:599},{level:4,title:"response.statusMessage",slug:"response-statusmessage",normalizedTitle:"response.statusmessage",charIndex:650},{level:4,title:"response.headers",slug:"response-headers",normalizedTitle:"response.headers",charIndex:696},{level:4,title:"response.httpVersion",slug:"response-httpversion",normalizedTitle:"response.httpversion",charIndex:1167},{level:4,title:"response.httpVersionMajor",slug:"response-httpversionmajor",normalizedTitle:"response.httpversionmajor",charIndex:1293},{level:4,title:"response.httpVersionMinor",slug:"response-httpversionminor",normalizedTitle:"response.httpversionminor",charIndex:1342}],headersStr:"类：IncomingMessage 实例事件 Event: 'data' Event: 'end' Event: 'aborted' Event: 'error' 实例属性 response.statusCode response.statusMessage response.headers response.httpVersion response.httpVersionMajor response.httpVersionMinor",content:"# 类：IncomingMessage\n\n> 处理 HTTP/HTTPS 请求的响应。\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\nClientRequest实现了Readable Stream接口, 因此是一个EventEmitter类型.\n\n\n# 实例事件\n\n# Event: 'data'\n\n返回:\n\n * chunk 缓冲区: 响应体数据块。\n\ndata事件是将响应数据转换为应用程序代码的常用方法。\n\n# Event: 'end'\n\n指示响应正文已结束。 必须在 'data' 事件之前放置。\n\n# Event: 'aborted'\n\n正在进行的 HTTP 事务被取消后触发。\n\n# Event: 'error'\n\n返回:\n\nerror 通常保存一个错误字符串，识别失败的根本原因。\n\n当流响应数据事件遇到错误时发出。 例如, 如果服务器在响应仍在流时关闭基础, 则会在响应对象上发出一个 error 事件, 随后将在请求对象上执行 close 事件。\n\n\n# 实例属性\n\nIncomingMessage 实例具有以下可读属性:\n\n# response.statusCode\n\n一个指示 HTTP 响应状态代码的 Integer。\n\n# response.statusMessage\n\n表示HTTP状态消息的string。\n\n# response.headers\n\nA Record<string, string | string[]> 代表HTTP响应头。 headers对象格式如下：\n\n * 所有的头文件名是小写的。\n * 以下 header 名均不可重复定义：\n   age, authorization,\n   content-length, content-type,\n   etag, expires,\n   from,\n   host,\n   if-modified-since, if-unmodified-since,\n   last-modified, location,\n   max-forwards,\n   proxy-authorization,\n   referer,retry-after,\n   server,\n   user-agent\n * set-cookie 永远是一个数组。 重复项被添加到数组内。\n * 对于重复的 cookie 头，对应的值会用 '; ' 连接\n * 所有其他 header 的值通过 ',' 连接\n\n# response.httpVersion\n\n表示HTTP协议版本号的 String 。 一般是“1”或“1.1”。 此外 httpVersionMajor 和httpVersionMinor 两整数值可读属性，分别返回HTTP的主要和次要版本号\n\n# response.httpVersionMajor\n\n表示HTTP协议主要版本号的 整数。\n\n# response.httpVersionMinor\n\n表示http协议次要版本号的整数。",normalizedContent:"# 类：incomingmessage\n\n> 处理 http/https 请求的响应。\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\nclientrequest实现了readable stream接口, 因此是一个eventemitter类型.\n\n\n# 实例事件\n\n# event: 'data'\n\n返回:\n\n * chunk 缓冲区: 响应体数据块。\n\ndata事件是将响应数据转换为应用程序代码的常用方法。\n\n# event: 'end'\n\n指示响应正文已结束。 必须在 'data' 事件之前放置。\n\n# event: 'aborted'\n\n正在进行的 http 事务被取消后触发。\n\n# event: 'error'\n\n返回:\n\nerror 通常保存一个错误字符串，识别失败的根本原因。\n\n当流响应数据事件遇到错误时发出。 例如, 如果服务器在响应仍在流时关闭基础, 则会在响应对象上发出一个 error 事件, 随后将在请求对象上执行 close 事件。\n\n\n# 实例属性\n\nincomingmessage 实例具有以下可读属性:\n\n# response.statuscode\n\n一个指示 http 响应状态代码的 integer。\n\n# response.statusmessage\n\n表示http状态消息的string。\n\n# response.headers\n\na record<string, string | string[]> 代表http响应头。 headers对象格式如下：\n\n * 所有的头文件名是小写的。\n * 以下 header 名均不可重复定义：\n   age, authorization,\n   content-length, content-type,\n   etag, expires,\n   from,\n   host,\n   if-modified-since, if-unmodified-since,\n   last-modified, location,\n   max-forwards,\n   proxy-authorization,\n   referer,retry-after,\n   server,\n   user-agent\n * set-cookie 永远是一个数组。 重复项被添加到数组内。\n * 对于重复的 cookie 头，对应的值会用 '; ' 连接\n * 所有其他 header 的值通过 ',' 连接\n\n# response.httpversion\n\n表示http协议版本号的 string 。 一般是“1”或“1.1”。 此外 httpversionmajor 和httpversionminor 两整数值可读属性，分别返回http的主要和次要版本号\n\n# response.httpversionmajor\n\n表示http协议主要版本号的 整数。\n\n# response.httpversionminor\n\n表示http协议次要版本号的整数。",charsets:{cjk:!0}},{title:"ipc-main",frontmatter:{title:"ipc-main",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/25fbe6/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/ipc-main.html",relativePath:"《Electron中文文档》/api/ipc-main.md",key:"v-71b9b456",path:"/pages/25fbe6/",headers:[{level:2,title:"发送消息",slug:"发送消息",normalizedTitle:"发送消息",charIndex:134},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:277},{level:3,title:"ipcMain.on(channel, listener)",slug:"ipcmain-on-channel-listener",normalizedTitle:"ipcmain.on(channel, listener)",charIndex:1259},{level:3,title:"ipcMain.once(channel, listener)",slug:"ipcmain-once-channel-listener",normalizedTitle:"ipcmain.once(channel, listener)",charIndex:1438},{level:3,title:"ipcMain.removeListener(channel, listener)",slug:"ipcmain-removelistener-channel-listener",normalizedTitle:"ipcmain.removelistener(channel, listener)",charIndex:1627},{level:3,title:"ipcMain.removeAllListeners([channel])",slug:"ipcmain-removealllisteners-channel",normalizedTitle:"ipcmain.removealllisteners([channel])",charIndex:1772},{level:3,title:"ipcMain.handle(channel, listener)",slug:"ipcmain-handle-channel-listener",normalizedTitle:"ipcmain.handle(channel, listener)",charIndex:1889},{level:3,title:"ipcMain.handleOnce(channel, listener)",slug:"ipcmain-handleonce-channel-listener",normalizedTitle:"ipcmain.handleonce(channel, listener)",charIndex:2621},{level:3,title:"ipcMain.removeHandler(channel)",slug:"ipcmain-removehandler-channel",normalizedTitle:"ipcmain.removehandler(channel)",charIndex:2848},{level:2,title:"IpcMainEvent object",slug:"ipcmainevent-object",normalizedTitle:"ipcmainevent object",charIndex:2926},{level:2,title:"IpcMainInvokeEvent object",slug:"ipcmaininvokeevent-object",normalizedTitle:"ipcmaininvokeevent object",charIndex:2999}],headersStr:"发送消息 方法 ipcMain.on(channel, listener) ipcMain.once(channel, listener) ipcMain.removeListener(channel, listener) ipcMain.removeAllListeners([channel]) ipcMain.handle(channel, listener) ipcMain.handleOnce(channel, listener) ipcMain.removeHandler(channel) IpcMainEvent object IpcMainInvokeEvent object",content:"# ipcMain\n\n> 从主进程到渲染进程的异步通信。\n\n进程：主进程\n\nipcRenderer 是一个 EventEmitter 的实例。 当在主进程中使用时，它处理从渲染器进程（网页）发送出来的异步和同步信息。 从渲染器进程发送的消息将被发送到该模块。\n\n\n# 发送消息\n\n也可以从主进程向渲染进程发送消息，查阅ebContents.send获取更多信息。\n\n * 发送消息时，事件名称为channel。\n * 回复同步信息时，需要设置event.returnValue。\n * 可以使用event.reply(...)将异步消息发送回发送者。 此方法将自动处理从非主 frame 发送的消息(比如： iframes)。相应的发送方法是: event.sender.send(...) 它将总是把消息发送到主 frame\n\n下面是在渲染和主进程之间发送和处理消息的一个例子：\n\n// 在主进程中.\nconst { ipcMain } = require('electron')\nipcMain.on('asynchronous-message', (event, arg) => {\n  console.log(arg) // prints \"ping\"\n  event.reply('asynchronous-reply', 'pong')\n})\n\nipcMain.on('synchronous-message', (event, arg) => {\n  console.log(arg) // prints \"ping\"\n  event.returnValue = 'pong'\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n//在渲染器进程 (网页) 中。\n// NB. Electron APIs are only accessible from preload, unless contextIsolation is disabled.\n// See https://www.electronjs.org/docs/tutorial/process-model#preload-scripts for more details.\nconst { ipcRenderer } = require('electron')\nconsole.log(ipcRenderer.sendSync('synchronous-message', 'ping')) // prints \"pong\"\n\nipcRenderer.on('asynchronous-reply', (event, arg) => {\n  console.log(arg) // prints \"pong\"\n})\nipcRenderer.send('asynchronous-message', 'ping')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 方法\n\nIpcMain模块有以下方法来侦听事件：\n\n\n# ipcMain.on(channel, listener)\n\n * channel String\n * listener Function\n   * event IpcMainEvent\n   * ...args any[]\n\n监听 channel, 当新消息到达，将通过 listener(event, args...) 调用 listener。\n\n\n# ipcMain.once(channel, listener)\n\n * channel String\n * listener Function\n   * event IpcMainEvent\n   * ...args any[]\n\n添加一次性 listener 函数。 这个 listener 只会在 channel下一次收到消息的时候被调用，之后这个监听器会被移除。\n\n\n# ipcMain.removeListener(channel, listener)\n\n * channel String\n * listener Function\n   * ...args any[]\n\n为特定的 channel 从监听队列中删除特定的 listener 监听者.\n\n\n# ipcMain.removeAllListeners([channel])\n\n * channel String (optional)\n\n移除所有指定 channel 的监听器； 若未指定 channel，则移除所有监听器。\n\n\n# ipcMain.handle(channel, listener)\n\n * channel String\n * listener Function<Promise<void> | any>\n   * event IpcMainInvokeEvent\n   * ...args any[]\n\n为一个 invokeable的IPC 添加一个handler。 每当一个渲染进程调用 ipcRenderer.invoke(channel, ...args) 时这个处理器就会被调用。\n\n如果 listener 返回一个 Promise，那么 Promise 的最终结果就是远程调用的返回值。 否则， 监听器的返回值将被用来作为应答值。\n\n// 主进程\nipcMain.handle('my-invokable-ipc', async (event, ...args) => {\n  const result = await somePromise(...args)\n  return result\n})\n\n// 渲染进程\nasync () => {\n  const result = await ipcRenderer.invoke('my-invokable-ipc', arg1, arg2)\n  // ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n传递给处理器的第一个参数的 event 与传递给常规事件侦听器的相同。 里面包含了哪些 WebContents 是调用请求的来源\n\n通过handle在主线程抛出的异常并不易读，那是因为他们已经被序列化了。只有原始错误中的 message 属性可提供给渲染进程。 详情请参阅 #24427\n\n\n# ipcMain.handleOnce(channel, listener)\n\n * channel String\n * listener Function<Promise<void> | any>\n   * event IpcMainInvokeEvent\n   * ...args any[]\n\n处理单个 invokeable 可触发的 IPC 消息，然后移除侦听器。 详见 ipcMain.handle(channel, listener)\n\n\n# ipcMain.removeHandler(channel)\n\n * channel String\n\n移除 channel的所有处理程序，若存在。\n\n\n# IpcMainEvent object\n\ncallback 的参数 event 对象文档可以在 ipc-main-event 一节找到。\n\n\n# IpcMainInvokeEvent object\n\nhandle回调参数event对象文档可以在ipc-main-invoke-event一节找到",normalizedContent:"# ipcmain\n\n> 从主进程到渲染进程的异步通信。\n\n进程：主进程\n\nipcrenderer 是一个 eventemitter 的实例。 当在主进程中使用时，它处理从渲染器进程（网页）发送出来的异步和同步信息。 从渲染器进程发送的消息将被发送到该模块。\n\n\n# 发送消息\n\n也可以从主进程向渲染进程发送消息，查阅ebcontents.send获取更多信息。\n\n * 发送消息时，事件名称为channel。\n * 回复同步信息时，需要设置event.returnvalue。\n * 可以使用event.reply(...)将异步消息发送回发送者。 此方法将自动处理从非主 frame 发送的消息(比如： iframes)。相应的发送方法是: event.sender.send(...) 它将总是把消息发送到主 frame\n\n下面是在渲染和主进程之间发送和处理消息的一个例子：\n\n// 在主进程中.\nconst { ipcmain } = require('electron')\nipcmain.on('asynchronous-message', (event, arg) => {\n  console.log(arg) // prints \"ping\"\n  event.reply('asynchronous-reply', 'pong')\n})\n\nipcmain.on('synchronous-message', (event, arg) => {\n  console.log(arg) // prints \"ping\"\n  event.returnvalue = 'pong'\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n//在渲染器进程 (网页) 中。\n// nb. electron apis are only accessible from preload, unless contextisolation is disabled.\n// see https://www.electronjs.org/docs/tutorial/process-model#preload-scripts for more details.\nconst { ipcrenderer } = require('electron')\nconsole.log(ipcrenderer.sendsync('synchronous-message', 'ping')) // prints \"pong\"\n\nipcrenderer.on('asynchronous-reply', (event, arg) => {\n  console.log(arg) // prints \"pong\"\n})\nipcrenderer.send('asynchronous-message', 'ping')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 方法\n\nipcmain模块有以下方法来侦听事件：\n\n\n# ipcmain.on(channel, listener)\n\n * channel string\n * listener function\n   * event ipcmainevent\n   * ...args any[]\n\n监听 channel, 当新消息到达，将通过 listener(event, args...) 调用 listener。\n\n\n# ipcmain.once(channel, listener)\n\n * channel string\n * listener function\n   * event ipcmainevent\n   * ...args any[]\n\n添加一次性 listener 函数。 这个 listener 只会在 channel下一次收到消息的时候被调用，之后这个监听器会被移除。\n\n\n# ipcmain.removelistener(channel, listener)\n\n * channel string\n * listener function\n   * ...args any[]\n\n为特定的 channel 从监听队列中删除特定的 listener 监听者.\n\n\n# ipcmain.removealllisteners([channel])\n\n * channel string (optional)\n\n移除所有指定 channel 的监听器； 若未指定 channel，则移除所有监听器。\n\n\n# ipcmain.handle(channel, listener)\n\n * channel string\n * listener function<promise<void> | any>\n   * event ipcmaininvokeevent\n   * ...args any[]\n\n为一个 invokeable的ipc 添加一个handler。 每当一个渲染进程调用 ipcrenderer.invoke(channel, ...args) 时这个处理器就会被调用。\n\n如果 listener 返回一个 promise，那么 promise 的最终结果就是远程调用的返回值。 否则， 监听器的返回值将被用来作为应答值。\n\n// 主进程\nipcmain.handle('my-invokable-ipc', async (event, ...args) => {\n  const result = await somepromise(...args)\n  return result\n})\n\n// 渲染进程\nasync () => {\n  const result = await ipcrenderer.invoke('my-invokable-ipc', arg1, arg2)\n  // ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n传递给处理器的第一个参数的 event 与传递给常规事件侦听器的相同。 里面包含了哪些 webcontents 是调用请求的来源\n\n通过handle在主线程抛出的异常并不易读，那是因为他们已经被序列化了。只有原始错误中的 message 属性可提供给渲染进程。 详情请参阅 #24427\n\n\n# ipcmain.handleonce(channel, listener)\n\n * channel string\n * listener function<promise<void> | any>\n   * event ipcmaininvokeevent\n   * ...args any[]\n\n处理单个 invokeable 可触发的 ipc 消息，然后移除侦听器。 详见 ipcmain.handle(channel, listener)\n\n\n# ipcmain.removehandler(channel)\n\n * channel string\n\n移除 channel的所有处理程序，若存在。\n\n\n# ipcmainevent object\n\ncallback 的参数 event 对象文档可以在 ipc-main-event 一节找到。\n\n\n# ipcmaininvokeevent object\n\nhandle回调参数event对象文档可以在ipc-main-invoke-event一节找到",charsets:{cjk:!0}},{title:"ipc-renderer",frontmatter:{title:"ipc-renderer",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/a2e50a/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/ipc-renderer.html",relativePath:"《Electron中文文档》/api/ipc-renderer.md",key:"v-d3c8dcd4",path:"/pages/a2e50a/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:94},{level:3,title:"ipcRenderer.on(channel, listener)",slug:"ipcrenderer-on-channel-listener",normalizedTitle:"ipcrenderer.on(channel, listener)",charIndex:206},{level:3,title:"ipcRenderer.once(channel, listener)",slug:"ipcrenderer-once-channel-listener",normalizedTitle:"ipcrenderer.once(channel, listener)",charIndex:393},{level:3,title:"ipcRenderer.removeListener(channel, listener)",slug:"ipcrenderer-removelistener-channel-listener",normalizedTitle:"ipcrenderer.removelistener(channel, listener)",charIndex:590},{level:3,title:"ipcRenderer.removeAllListeners(channel)",slug:"ipcrenderer-removealllisteners-channel",normalizedTitle:"ipcrenderer.removealllisteners(channel)",charIndex:739},{level:3,title:"ipcRenderer.send(channel, ...args)",slug:"ipcrenderer-send-channel-args",normalizedTitle:"ipcrenderer.send(channel, ...args)",charIndex:840},{level:3,title:"ipcRenderer.invoke(channel, ...args)",slug:"ipcrenderer-invoke-channel-args",normalizedTitle:"ipcrenderer.invoke(channel, ...args)",charIndex:1894},{level:3,title:"ipcRenderer.sendSync(channel, ...args)",slug:"ipcrenderer-sendsync-channel-args",normalizedTitle:"ipcrenderer.sendsync(channel, ...args)",charIndex:3238},{level:3,title:"ipcRenderer.postMessage(channel, message, [transfer])",slug:"ipcrenderer-postmessage-channel-message-transfer",normalizedTitle:"ipcrenderer.postmessage(channel, message, [transfer])",charIndex:4356},{level:3,title:"ipcRenderer.sendTo(webContentsId, channel, ...args)",slug:"ipcrenderer-sendto-webcontentsid-channel-args",normalizedTitle:"ipcrenderer.sendto(webcontentsid, channel, ...args)",charIndex:5082},{level:3,title:"ipcRenderer.sendToHost(channel, ...args)",slug:"ipcrenderer-sendtohost-channel-args",normalizedTitle:"ipcrenderer.sendtohost(channel, ...args)",charIndex:5237},{level:2,title:"事件对象",slug:"事件对象",normalizedTitle:"事件对象",charIndex:5382}],headersStr:"方法 ipcRenderer.on(channel, listener) ipcRenderer.once(channel, listener) ipcRenderer.removeListener(channel, listener) ipcRenderer.removeAllListeners(channel) ipcRenderer.send(channel, ...args) ipcRenderer.invoke(channel, ...args) ipcRenderer.sendSync(channel, ...args) ipcRenderer.postMessage(channel, message, [transfer]) ipcRenderer.sendTo(webContentsId, channel, ...args) ipcRenderer.sendToHost(channel, ...args) 事件对象",content:"# ipcRenderer\n\n> 从渲染器进程到主进程的异步通信。\n\n进程: Renderer\n\nipcRenderer 是一个 EventEmitter 的实例。 你可以使用它提供的一些方法从渲染进程 (web 页面) 发送同步或异步的消息到主进程。 也可以接收主进程回复的消息。\n\n请从 ipcMain 查看代码示例。\n\n\n# 方法\n\nipcRenderer 模块使用以下方法来监听事件和发送消息。\n\n\n# ipcRenderer.on(channel, listener)\n\n * channel String\n * listener Function\n   * event IpcRendererEvent\n   * ...args any[]\n\n监听 channel, 当新消息到达，将通过 listener(event, args...) 调用 listener。\n\n\n# ipcRenderer.once(channel, listener)\n\n * channel String\n * listener Function\n   * event IpcRendererEvent\n   * ...args any[]\n\n添加一次性 listener 函数。 这个 listener 只会在 channel下一次收到消息的时候被调用，之后这个监听器会被移除。\n\n\n# ipcRenderer.removeListener(channel, listener)\n\n * channel String\n * listener Function\n   * ...args any[]\n\n为特定的 channel 从监听队列中删除特定的 listener 监听者.\n\n\n# ipcRenderer.removeAllListeners(channel)\n\n * channel String\n\n移除所有的监听器，当指定 channel 时只移除与其相关的所有监听器。\n\n\n# ipcRenderer.send(channel, ...args)\n\n * channel String\n * ...args any[]\n\n通过channel向主进程发送异步消息，可以发送任意参数。 Arguments will be serialized with the Structured Clone Algorithm, just like window.postMessage, so prototype chains will not be included. Sending Functions, Promises, Symbols, WeakMaps, or WeakSets will throw an exception.\n\n> NOTE: Sending non-standard JavaScript types such as DOM objects or special Electron objects will throw an exception.\n> \n> Since the main process does not have support for DOM objects such as ImageBitmap, File, DOMMatrix and so on, such objects cannot be sent over Electron's IPC to the main process, as the main process would have no way to decode them. Attempting to send such objects over IPC will result in an error.\n\nThe main process handles it by listening for channel with the ipcMain module.\n\nIf you need to transfer a MessagePort to the main process, use ipcRenderer.postMessage.\n\nIf you want to receive a single response from the main process, like the result of a method call, consider using ipcRenderer.invoke.\n\n\n# ipcRenderer.invoke(channel, ...args)\n\n * channel String\n * ...args any[]\n\nReturns Promise<any> - Resolves with the response from the main process.\n\nSend a message to the main process via channel and expect a result asynchronously. Arguments will be serialized with the Structured Clone Algorithm, just like window.postMessage, so prototype chains will not be included. Sending Functions, Promises, Symbols, WeakMaps, or WeakSets will throw an exception.\n\n> NOTE: Sending non-standard JavaScript types such as DOM objects or special Electron objects will throw an exception.\n> \n> Since the main process does not have support for DOM objects such as ImageBitmap, File, DOMMatrix and so on, such objects cannot be sent over Electron's IPC to the main process, as the main process would have no way to decode them. Attempting to send such objects over IPC will result in an error.\n\nThe main process should listen for channel with ipcMain.handle().\n\n例如：\n\n// Renderer process\nipcRenderer.invoke('some-name', someArgument).then((result) => {\n  // ...\n})\n\n// Main process\nipcMain.handle('some-name', async (event, someArgument) => {\n  const result = await doSomeWork(someArgument)\n  return result\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nIf you need to transfer a MessagePort to the main process, use ipcRenderer.postMessage.\n\n如果你不需要回复此消息，请考虑使用 ipcRender.sent。\n\n\n# ipcRenderer.sendSync(channel, ...args)\n\n * channel String\n * ...args any[]\n\n返回 any - 由 ipcMain 处理程序发送过来的值。\n\nSend a message to the main process via channel and expect a result synchronously. Arguments will be serialized with the Structured Clone Algorithm, just like window.postMessage, so prototype chains will not be included. Sending Functions, Promises, Symbols, WeakMaps, or WeakSets will throw an exception.\n\n> NOTE: Sending non-standard JavaScript types such as DOM objects or special Electron objects will throw an exception.\n> \n> Since the main process does not have support for DOM objects such as ImageBitmap, File, DOMMatrix and so on, such objects cannot be sent over Electron's IPC to the main process, as the main process would have no way to decode them. Attempting to send such objects over IPC will result in an error.\n\n主进程可以使用 ipcMain 监听 channel来接收这些消息，并通过 event.returnValue设置回复消息。\n\n> ⚠️ WARNING: Sending a synchronous message will block the whole renderer process until the reply is received, so use this method only as a last resort. It's much better to use the asynchronous version, invoke().\n\n\n# ipcRenderer.postMessage(channel, message, [transfer])\n\n * channel String\n * message any\n * transfer MessagePort[] (optional)\n\nSend a message to the main process, optionally transferring ownership of zero or more MessagePort objects.\n\nThe transferred MessagePort objects will be available in the main process as MessagePortMain objects by accessing the ports property of the emitted event.\n\n例如：\n\n// Renderer process\nconst { port1, port2 } = new MessageChannel()\nipcRenderer.postMessage('port', { message: 'hello' }, [port1])\n\n// Main process\nipcMain.on('port', (e, msg) => {\n  const [port] = e.ports\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nFor more information on using MessagePort and MessageChannel, see the MDN documentation.\n\n\n# ipcRenderer.sendTo(webContentsId, channel, ...args)\n\n * webContentsId Number\n * channel String\n * ...args any[]\n\n通过 channel 发送消息到带有 webContentsId 的窗口.\n\n\n# ipcRenderer.sendToHost(channel, ...args)\n\n * channel String\n * ...args any[]\n\n就像 ipcRenderer.send，不同的是消息会被发送到 host 页面上的 <webview> 元素，而不是主进程。\n\n\n# 事件对象\n\nThe documentation for the event object passed to the callback can be found in the ipc-renderer-event structure docs.",normalizedContent:"# ipcrenderer\n\n> 从渲染器进程到主进程的异步通信。\n\n进程: renderer\n\nipcrenderer 是一个 eventemitter 的实例。 你可以使用它提供的一些方法从渲染进程 (web 页面) 发送同步或异步的消息到主进程。 也可以接收主进程回复的消息。\n\n请从 ipcmain 查看代码示例。\n\n\n# 方法\n\nipcrenderer 模块使用以下方法来监听事件和发送消息。\n\n\n# ipcrenderer.on(channel, listener)\n\n * channel string\n * listener function\n   * event ipcrendererevent\n   * ...args any[]\n\n监听 channel, 当新消息到达，将通过 listener(event, args...) 调用 listener。\n\n\n# ipcrenderer.once(channel, listener)\n\n * channel string\n * listener function\n   * event ipcrendererevent\n   * ...args any[]\n\n添加一次性 listener 函数。 这个 listener 只会在 channel下一次收到消息的时候被调用，之后这个监听器会被移除。\n\n\n# ipcrenderer.removelistener(channel, listener)\n\n * channel string\n * listener function\n   * ...args any[]\n\n为特定的 channel 从监听队列中删除特定的 listener 监听者.\n\n\n# ipcrenderer.removealllisteners(channel)\n\n * channel string\n\n移除所有的监听器，当指定 channel 时只移除与其相关的所有监听器。\n\n\n# ipcrenderer.send(channel, ...args)\n\n * channel string\n * ...args any[]\n\n通过channel向主进程发送异步消息，可以发送任意参数。 arguments will be serialized with the structured clone algorithm, just like window.postmessage, so prototype chains will not be included. sending functions, promises, symbols, weakmaps, or weaksets will throw an exception.\n\n> note: sending non-standard javascript types such as dom objects or special electron objects will throw an exception.\n> \n> since the main process does not have support for dom objects such as imagebitmap, file, dommatrix and so on, such objects cannot be sent over electron's ipc to the main process, as the main process would have no way to decode them. attempting to send such objects over ipc will result in an error.\n\nthe main process handles it by listening for channel with the ipcmain module.\n\nif you need to transfer a messageport to the main process, use ipcrenderer.postmessage.\n\nif you want to receive a single response from the main process, like the result of a method call, consider using ipcrenderer.invoke.\n\n\n# ipcrenderer.invoke(channel, ...args)\n\n * channel string\n * ...args any[]\n\nreturns promise<any> - resolves with the response from the main process.\n\nsend a message to the main process via channel and expect a result asynchronously. arguments will be serialized with the structured clone algorithm, just like window.postmessage, so prototype chains will not be included. sending functions, promises, symbols, weakmaps, or weaksets will throw an exception.\n\n> note: sending non-standard javascript types such as dom objects or special electron objects will throw an exception.\n> \n> since the main process does not have support for dom objects such as imagebitmap, file, dommatrix and so on, such objects cannot be sent over electron's ipc to the main process, as the main process would have no way to decode them. attempting to send such objects over ipc will result in an error.\n\nthe main process should listen for channel with ipcmain.handle().\n\n例如：\n\n// renderer process\nipcrenderer.invoke('some-name', someargument).then((result) => {\n  // ...\n})\n\n// main process\nipcmain.handle('some-name', async (event, someargument) => {\n  const result = await dosomework(someargument)\n  return result\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nif you need to transfer a messageport to the main process, use ipcrenderer.postmessage.\n\n如果你不需要回复此消息，请考虑使用 ipcrender.sent。\n\n\n# ipcrenderer.sendsync(channel, ...args)\n\n * channel string\n * ...args any[]\n\n返回 any - 由 ipcmain 处理程序发送过来的值。\n\nsend a message to the main process via channel and expect a result synchronously. arguments will be serialized with the structured clone algorithm, just like window.postmessage, so prototype chains will not be included. sending functions, promises, symbols, weakmaps, or weaksets will throw an exception.\n\n> note: sending non-standard javascript types such as dom objects or special electron objects will throw an exception.\n> \n> since the main process does not have support for dom objects such as imagebitmap, file, dommatrix and so on, such objects cannot be sent over electron's ipc to the main process, as the main process would have no way to decode them. attempting to send such objects over ipc will result in an error.\n\n主进程可以使用 ipcmain 监听 channel来接收这些消息，并通过 event.returnvalue设置回复消息。\n\n> ⚠️ warning: sending a synchronous message will block the whole renderer process until the reply is received, so use this method only as a last resort. it's much better to use the asynchronous version, invoke().\n\n\n# ipcrenderer.postmessage(channel, message, [transfer])\n\n * channel string\n * message any\n * transfer messageport[] (optional)\n\nsend a message to the main process, optionally transferring ownership of zero or more messageport objects.\n\nthe transferred messageport objects will be available in the main process as messageportmain objects by accessing the ports property of the emitted event.\n\n例如：\n\n// renderer process\nconst { port1, port2 } = new messagechannel()\nipcrenderer.postmessage('port', { message: 'hello' }, [port1])\n\n// main process\nipcmain.on('port', (e, msg) => {\n  const [port] = e.ports\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nfor more information on using messageport and messagechannel, see the mdn documentation.\n\n\n# ipcrenderer.sendto(webcontentsid, channel, ...args)\n\n * webcontentsid number\n * channel string\n * ...args any[]\n\n通过 channel 发送消息到带有 webcontentsid 的窗口.\n\n\n# ipcrenderer.sendtohost(channel, ...args)\n\n * channel string\n * ...args any[]\n\n就像 ipcrenderer.send，不同的是消息会被发送到 host 页面上的 <webview> 元素，而不是主进程。\n\n\n# 事件对象\n\nthe documentation for the event object passed to the callback can be found in the ipc-renderer-event structure docs.",charsets:{cjk:!0}},{title:"message-channel-main",frontmatter:{title:"message-channel-main",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/e5ab7b/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/message-channel-main.html",relativePath:"《Electron中文文档》/api/message-channel-main.md",key:"v-7fb1c6b6",path:"/pages/e5ab7b/",headers:[{level:2,title:"Class: MessageChannelMain",slug:"class-messagechannelmain",normalizedTitle:"class: messagechannelmain",charIndex:289},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:824},{level:4,title:"channel.port1",slug:"channel-port1",normalizedTitle:"channel.port1",charIndex:832},{level:4,title:"channel.port2",slug:"channel-port2",normalizedTitle:"channel.port2",charIndex:878}],headersStr:"Class: MessageChannelMain 实例属性 channel.port1 channel.port2",content:"# MessageChannelMain\n\nMessageChannelMain is the main-process-side equivalent of the DOM MessageChannel object. Its singular function is to create a pair of connected MessagePortMain objects.\n\nSee the Channel Messaging API documentation for more information on using channel messaging.\n\n\n# Class: MessageChannelMain\n\n> 主进程中用于通道消息传递的通道接口。\n\n进程：主进程\n\n示例：\n\n// 主进程\nconst { MessageChannelMain } = require('electron')\nconst { port1, port2 } = new MessageChannelMain()\nw.webContents.postMessage('port', null, [port2])\nport1.postMessage({ some: 'message' })\n\n// 渲染器进程\nconst { ipcRenderer } = require('electron')\nipcRenderer.on('port', (e) => {\n  // e.ports is a list of ports sent along with this message\n  e.ports[0].on('message', (messageEvent) => {\n    console.log(messageEvent.data)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 实例属性\n\n# channel.port1\n\nA MessagePortMain property.\n\n# channel.port2\n\nA MessagePortMain property.",normalizedContent:"# messagechannelmain\n\nmessagechannelmain is the main-process-side equivalent of the dom messagechannel object. its singular function is to create a pair of connected messageportmain objects.\n\nsee the channel messaging api documentation for more information on using channel messaging.\n\n\n# class: messagechannelmain\n\n> 主进程中用于通道消息传递的通道接口。\n\n进程：主进程\n\n示例：\n\n// 主进程\nconst { messagechannelmain } = require('electron')\nconst { port1, port2 } = new messagechannelmain()\nw.webcontents.postmessage('port', null, [port2])\nport1.postmessage({ some: 'message' })\n\n// 渲染器进程\nconst { ipcrenderer } = require('electron')\nipcrenderer.on('port', (e) => {\n  // e.ports is a list of ports sent along with this message\n  e.ports[0].on('message', (messageevent) => {\n    console.log(messageevent.data)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 实例属性\n\n# channel.port1\n\na messageportmain property.\n\n# channel.port2\n\na messageportmain property.",charsets:{cjk:!0}},{title:"menu",frontmatter:{title:"menu",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/899c36/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/menu.html",relativePath:"《Electron中文文档》/api/menu.md",key:"v-176fb276",path:"/pages/899c36/",headers:[{level:2,title:"菜单",slug:"菜单",normalizedTitle:"菜单",charIndex:11},{level:3,title:"new Menu()",slug:"new-menu",normalizedTitle:"new menu()",charIndex:45},{level:3,title:"静态方法",slug:"静态方法",normalizedTitle:"静态方法",charIndex:68},{level:4,title:"Menu.setApplicationMenu(menu)",slug:"menu-setapplicationmenu-menu",normalizedTitle:"menu.setapplicationmenu(menu)",charIndex:89},{level:4,title:"Menu.getApplicationMenu()",slug:"menu-getapplicationmenu",normalizedTitle:"menu.getapplicationmenu()",charIndex:502},{level:4,title:"Menu.sendActionToFirstResponder(action) macOS",slug:"menu-sendactiontofirstresponder-action-macos",normalizedTitle:"menu.sendactiontofirstresponder(action) macos",charIndex:633},{level:4,title:"Menu.buildFromTemplate(template)",slug:"menu-buildfromtemplate-template",normalizedTitle:"menu.buildfromtemplate(template)",charIndex:831},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:1023},{level:4,title:"menu.popup([options])",slug:"menu-popup-options",normalizedTitle:"menu.popup([options])",charIndex:1049},{level:4,title:"menu.closePopup([browserWindow])",slug:"menu-closepopup-browserwindow",normalizedTitle:"menu.closepopup([browserwindow])",charIndex:1383},{level:4,title:"menu.append(menuItem)",slug:"menu-append-menuitem",normalizedTitle:"menu.append(menuitem)",charIndex:1494},{level:4,title:"menu.getMenuItemById(id)",slug:"menu-getmenuitembyid-id",normalizedTitle:"menu.getmenuitembyid(id)",charIndex:1555},{level:4,title:"menu.insert(pos, menuItem)",slug:"menu-insert-pos-menuitem",normalizedTitle:"menu.insert(pos, menuitem)",charIndex:1624},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:1713},{level:4,title:"事件: 'menu-will-show'",slug:"事件-menu-will-show",normalizedTitle:"事件: 'menu-will-show'",charIndex:1818},{level:4,title:"事件: 'menu-will-close'",slug:"事件-menu-will-close",normalizedTitle:"事件: 'menu-will-close'",charIndex:1888},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:623},{level:4,title:"menu.items",slug:"menu-items",normalizedTitle:"menu.items",charIndex:2004},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:2086},{level:3,title:"渲染进程",slug:"渲染进程",normalizedTitle:"渲染进程",charIndex:4624},{level:2,title:"MacOS中应用菜单注意事项",slug:"macos中应用菜单注意事项",normalizedTitle:"macos中应用菜单注意事项",charIndex:5361},{level:3,title:"标准菜单",slug:"标准菜单",normalizedTitle:"标准菜单",charIndex:5449},{level:3,title:"标准菜单项操作",slug:"标准菜单项操作",normalizedTitle:"标准菜单项操作",charIndex:5591},{level:3,title:"主菜单的名称",slug:"主菜单的名称",normalizedTitle:"主菜单的名称",charIndex:5698},{level:2,title:"设置特定浏览器窗口的菜单 ( Linux   Windows )",slug:"设置特定浏览器窗口的菜单-linux-windows",normalizedTitle:"设置特定浏览器窗口的菜单 ( linux   windows )",charIndex:null},{level:2,title:"菜单项位置",slug:"菜单项位置",normalizedTitle:"菜单项位置",charIndex:5910},{level:3,title:"示例",slug:"示例-2",normalizedTitle:"示例",charIndex:2086}],headersStr:"菜单 new Menu() 静态方法 Menu.setApplicationMenu(menu) Menu.getApplicationMenu() Menu.sendActionToFirstResponder(action) macOS Menu.buildFromTemplate(template) 实例方法 menu.popup([options]) menu.closePopup([browserWindow]) menu.append(menuItem) menu.getMenuItemById(id) menu.insert(pos, menuItem) 实例事件 事件: 'menu-will-show' 事件: 'menu-will-close' 实例属性 menu.items 示例 渲染进程 MacOS中应用菜单注意事项 标准菜单 标准菜单项操作 主菜单的名称 设置特定浏览器窗口的菜单 ( Linux   Windows ) 菜单项位置 示例",content:"# Menu\n\n\n# 菜单\n\n> 创建原生应用菜单和上下文菜单。\n\n进程：主进程\n\n\n# new Menu()\n\n创建新菜单。\n\n\n# 静态方法\n\nMenu类有以下方法:\n\n# Menu.setApplicationMenu(menu)\n\n * menu Menu | null\n\n在macOS上将 menu设置成应用内菜单 在windows和Linux上，menu 将会被设置成窗口顶部菜单\n\n在Windows和Linux中，可以在菜单的顶层标签的某个字母前添加&以绑定快捷键。 例如，使用&File后可以使用Alt-F呼出File的子选项。 按钮标签中指定的字符会出现下划线， & 字符不会显示在按钮标签上。\n\n要转义并在项名中显示 & 字符, 可以添加字符 &. 比如, &&File 将在按钮标签上出现 &File\n\n传递 null 值可以禁用默认菜单。 在 Windows 和 Linux 上，使用此方法移除窗口上的菜单栏可能会有额外的效果。\n\n**注释:**如果应用没有设置菜单的话，系统会生成一个默认菜单。 默认生成的菜单中包含了一些初始选项，例如 文件,编辑, 视图,窗口,帮助。\n\n# Menu.getApplicationMenu()\n\n返回 Menu | null - 如果有设置, 则返回应用程序菜单， 如果没设置，则返回 null。\n\n**注释:**返回的 Menu实例不支持动态添加或删除菜单项， 但仍然可以动态修改 实例属性 。\n\n# Menu.sendActionToFirstResponder(action) macOS\n\n * action String\n\n将 action 发送到应用程序的第一个响应方。 这用于模拟默认的 macOS 菜单行为。 通常你可以使用MenuItem的role属性\n\n有关 macOS 的本地操作的详细信息, 请参阅 macOS Cocoa Event Handling Guide 。\n\n# Menu.buildFromTemplate(template)\n\n * template (MenuItemConstructorOptions | MenuItem)[]\n\n返回 Menu\n\n一般来说， template是一个options类型的数组，用于构建MenuItem。 使用方法可参考前文。\n\n您还可以将其他字段附加到template，它们将成为菜单项的属性。\n\n\n# 实例方法\n\nmenu 对象具有以下实例方法:\n\n# menu.popup([options])\n\n * options Object (可选)\n   * window BrowserWindow (可选) - 默认为选中窗口.\n   * x Number (可选) - 默认为当前鼠标的位置。 如果指定了y，则该选项必选。\n   * y Number (可选) - 默认为当前鼠标的位置。 如果指定了x，则该选项必选。\n   * positioningItem Number (可选) macOS - 在指定鼠标光标下定位的菜单项的索引。 默认值为 -1。\n   * callback Function (optional) - 会在菜单关闭后被调用.\n\n弹出此菜单作为上下文菜单在 BrowserWindow。\n\n# menu.closePopup([browserWindow])\n\n * browserWindow BrowserWindow (可选) - 默认为选中窗口.\n\n关闭 browserWindow 中的上下文菜单。\n\n# menu.append(menuItem)\n\n * menuItem 菜单项\n\n将 menuItem 追加到菜单。\n\n# menu.getMenuItemById(id)\n\n * id String\n\n返回具有指定id项的MenuItem | null\n\n# menu.insert(pos, menuItem)\n\n * pos Integer\n * menuItem 菜单项\n\n将 menuItem 插入菜单的 pos 位置。\n\n\n# 实例事件\n\n使用 new Menu 创建对象或通过 Menu.buildFromTemplate返回对象均会触发下列事件：\n\n** 注意: **某些事件仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n# 事件: 'menu-will-show'\n\n返回:\n\n * event Event\n\n调用menu.popup()事件时触发该事件。\n\n# 事件: 'menu-will-close'\n\n返回:\n\n * event Event\n\n手动关闭弹出，或使用 menu.closePopup()方法关闭弹出时，触发该事件。\n\n\n# 实例属性\n\nmenu 对象还具有以下属性:\n\n# menu.items\n\n包含菜单项的 MenuItem [] 数组。\n\n每个 菜单 由多个 MenuItem 组成, 每个 MenuItem可以有子菜单。\n\n\n# 示例\n\n使用简单模板API创建 application menu 的示例代码：\n\nconst { app, Menu } = require('electron')\n\nconst isMac = process.platform === 'darwin'\n\nconst template = [\n  // { role: 'appMenu' }\n  ...(isMac ? [{\n    label: app.name,\n    submenu: [\n      { role: 'about' },\n      { type: 'separator' },\n      { role: 'services' },\n      { type: 'separator' },\n      { role: 'hide' },\n      { role: 'hideOthers' },\n      { role: 'unhide' },\n      { type: 'separator' },\n      { role: 'quit' }\n    ]\n  }] : []),\n  // { role: 'fileMenu' }\n  {\n    label: 'File',\n    submenu: [\n      isMac ? { role: 'close' } : { role: 'quit' }\n    ]\n  },\n  // { role: 'editMenu' }\n  {\n    label: 'Edit',\n    submenu: [\n      { role: 'undo' },\n      { role: 'redo' },\n      { type: 'separator' },\n      { role: 'cut' },\n      { role: 'copy' },\n      { role: 'paste' },\n      ...(isMac ? [\n        { role: 'pasteAndMatchStyle' },\n        { role: 'delete' },\n        { role: 'selectAll' },\n        { type: 'separator' },\n        {\n          label: 'Speech',\n          submenu: [\n            { role: 'startSpeaking' },\n            { role: 'stopSpeaking' }\n          ]\n        }\n      ] : [\n        { role: 'delete' },\n        { type: 'separator' },\n        { role: 'selectAll' }\n      ])\n    ]\n  },\n  // { role: 'viewMenu' }\n  {\n    label: 'View',\n    submenu: [\n      { role: 'reload' },\n      { role: 'forceReload' },\n      { role: 'toggleDevTools' },\n      { type: 'separator' },\n      { role: 'resetZoom' },\n      { role: 'zoomIn' },\n      { role: 'zoomOut' },\n      { type: 'separator' },\n      { role: 'togglefullscreen' }\n    ]\n  },\n  // { role: 'windowMenu' }\n  {\n    label: 'Window',\n    submenu: [\n      { role: 'minimize' },\n      { role: 'zoom' },\n      ...(isMac ? [\n        { type: 'separator' },\n        { role: 'front' },\n        { type: 'separator' },\n        { role: 'window' }\n      ] : [\n        { role: 'close' }\n      ])\n    ]\n  },\n  {\n    role: 'help',\n    submenu: [\n      {\n        label: 'Learn More',\n        click: async () => {\n          const { shell } = require('electron')\n          await shell.openExternal('https://electronjs.org')\n        }\n      }\n    ]\n  }\n]\n\nconst menu = Menu.buildFromTemplate(template)\nMenu.setApplicationMenu(menu)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n\n\n\n# 渲染进程\n\n要创建由渲染器启动的菜单，请通过 IPC 发送所需的信息到主过程，并让主过程代替渲染器显示菜单。\n\n以下是用户右键单击页面时显示菜单的示例：\n\n// renderer\nwindow.addEventListener('contextmenu', (e) => {\n  e.preventDefault()\n  ipcRenderer.send('show-context-menu')\n})\n\nipcRenderer.on('context-menu-command', (e, command) => {\n  // ...\n})\n\n// main\nipcMain.on('show-context-menu', (event) => {\n  const template = [\n    {\n      label: 'Menu Item 1',\n      click: () => { event.sender.send('context-menu-command', 'menu-item-1') }\n    },\n    { type: 'separator' },\n    { label: 'Menu Item 2', type: 'checkbox', checked: true }\n  ]\n  const menu = Menu.buildFromTemplate(template)\n  menu.popup(BrowserWindow.fromWebContents(event.sender))\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# MacOS中应用菜单注意事项\n\nmacOS 相比于 Windows 和 Linux 有着完全不同的应用程序菜单。 以下是一些有关使应用菜单更像原生应用菜单的注意事项。\n\n\n# 标准菜单\n\nMacOS有一些系统预定义的菜单，像是Services and Windows。 让你的菜单更像MacOS标准菜单，只需设置菜单role值为如下示之一，Electron便会自动认出并设置成标准菜单，：\n\n * window\n * help\n * services\n\n\n# 标准菜单项操作\n\nmacOS 已经为某些菜单项提供了标准操作, 如 about xxx、Hide xxx 和 Hide Others。 若要将菜单项的操作设置为标准操作, 应设置菜单项的 role 属性。\n\n\n# 主菜单的名称\n\n在 macOS 中应用程序菜单的第一个项目的标签总是你的应用程序的名字, 无论你设置什么标签。 如要更改它, 请修改应用程序包的 Info. plist 文件。 详情参阅：About Information Property List Files\n\n\n# 设置特定浏览器窗口的菜单 (* Linux * * Windows *)\n\n浏览器窗口的 setMenu 方法 可以设置特定浏览器窗口的菜单。\n\n\n# 菜单项位置\n\n你可以使用 before, after, beforeGroupContaining, afterGroupContaining 和 id 来控制由 Menu.buildFromTemplate 生成的菜单项的位置.\n\n * before - 在指定的标签之前插入菜单项。 如果引用值不存在，那么该菜单项会插在这个菜单的尾部。 这还意味着，菜单项应该被放置在与引用项相同的组中。\n * after - 在指定的标签之后插入菜单项。 如果引用值不存在，那么该菜单项会插在这个菜单的尾部。 这还意味着，菜单项应该被放置在与引用项相同的组中。\n * beforeGroupContaining - 为单个上下文菜单提供一种方法，用于在具有指定标签项的包含组之前声明其包含组的位置\n * afterGroupContaining - 为单个上下文菜单提供一种方法，用于在具有指定标签项的包含组之后声明其包含组的位置\n\n默认情况下，除非有位置相关的属性，所有的菜单项会按照模板中的顺序排放。\n\n\n# 示例\n\n模板：\n\n[\n  { id: '1', label: 'one' },\n  { id: '2', label: 'two' },\n  { id: '3', label: 'three' },\n  { id: '4', label: 'four' }\n]\n\n\n1\n2\n3\n4\n5\n6\n\n\n菜单:\n\n- 1\n- 2\n- 3\n- 4\n\n\n1\n2\n3\n4\n\n\n模板：\n\n[\n  { id: '1', label: 'one' },\n  { type: 'separator' },\n  { id: '3', label: 'three', beforeGroupContaining: ['1'] },\n  { id: '4', label: 'four', afterGroupContaining: ['2'] },\n  { type: 'separator' },\n  { id: '2', label: 'two' }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n菜单:\n\n- 3\n- 4\n- ---\n- 1\n- ---\n- 2\n\n\n1\n2\n3\n4\n5\n6\n\n\n模板：\n\n[\n  { id: '1', label: 'one', after: ['3'] },\n  { id: '2', label: 'two', before: ['1'] },\n  { id: '3', label: 'three' }\n]\n\n\n1\n2\n3\n4\n5\n\n\n菜单:\n\n- ---\n- 3\n- 2\n- 1\n\n\n1\n2\n3\n4\n",normalizedContent:"# menu\n\n\n# 菜单\n\n> 创建原生应用菜单和上下文菜单。\n\n进程：主进程\n\n\n# new menu()\n\n创建新菜单。\n\n\n# 静态方法\n\nmenu类有以下方法:\n\n# menu.setapplicationmenu(menu)\n\n * menu menu | null\n\n在macos上将 menu设置成应用内菜单 在windows和linux上，menu 将会被设置成窗口顶部菜单\n\n在windows和linux中，可以在菜单的顶层标签的某个字母前添加&以绑定快捷键。 例如，使用&file后可以使用alt-f呼出file的子选项。 按钮标签中指定的字符会出现下划线， & 字符不会显示在按钮标签上。\n\n要转义并在项名中显示 & 字符, 可以添加字符 &. 比如, &&file 将在按钮标签上出现 &file\n\n传递 null 值可以禁用默认菜单。 在 windows 和 linux 上，使用此方法移除窗口上的菜单栏可能会有额外的效果。\n\n**注释:**如果应用没有设置菜单的话，系统会生成一个默认菜单。 默认生成的菜单中包含了一些初始选项，例如 文件,编辑, 视图,窗口,帮助。\n\n# menu.getapplicationmenu()\n\n返回 menu | null - 如果有设置, 则返回应用程序菜单， 如果没设置，则返回 null。\n\n**注释:**返回的 menu实例不支持动态添加或删除菜单项， 但仍然可以动态修改 实例属性 。\n\n# menu.sendactiontofirstresponder(action) macos\n\n * action string\n\n将 action 发送到应用程序的第一个响应方。 这用于模拟默认的 macos 菜单行为。 通常你可以使用menuitem的role属性\n\n有关 macos 的本地操作的详细信息, 请参阅 macos cocoa event handling guide 。\n\n# menu.buildfromtemplate(template)\n\n * template (menuitemconstructoroptions | menuitem)[]\n\n返回 menu\n\n一般来说， template是一个options类型的数组，用于构建menuitem。 使用方法可参考前文。\n\n您还可以将其他字段附加到template，它们将成为菜单项的属性。\n\n\n# 实例方法\n\nmenu 对象具有以下实例方法:\n\n# menu.popup([options])\n\n * options object (可选)\n   * window browserwindow (可选) - 默认为选中窗口.\n   * x number (可选) - 默认为当前鼠标的位置。 如果指定了y，则该选项必选。\n   * y number (可选) - 默认为当前鼠标的位置。 如果指定了x，则该选项必选。\n   * positioningitem number (可选) macos - 在指定鼠标光标下定位的菜单项的索引。 默认值为 -1。\n   * callback function (optional) - 会在菜单关闭后被调用.\n\n弹出此菜单作为上下文菜单在 browserwindow。\n\n# menu.closepopup([browserwindow])\n\n * browserwindow browserwindow (可选) - 默认为选中窗口.\n\n关闭 browserwindow 中的上下文菜单。\n\n# menu.append(menuitem)\n\n * menuitem 菜单项\n\n将 menuitem 追加到菜单。\n\n# menu.getmenuitembyid(id)\n\n * id string\n\n返回具有指定id项的menuitem | null\n\n# menu.insert(pos, menuitem)\n\n * pos integer\n * menuitem 菜单项\n\n将 menuitem 插入菜单的 pos 位置。\n\n\n# 实例事件\n\n使用 new menu 创建对象或通过 menu.buildfromtemplate返回对象均会触发下列事件：\n\n** 注意: **某些事件仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n# 事件: 'menu-will-show'\n\n返回:\n\n * event event\n\n调用menu.popup()事件时触发该事件。\n\n# 事件: 'menu-will-close'\n\n返回:\n\n * event event\n\n手动关闭弹出，或使用 menu.closepopup()方法关闭弹出时，触发该事件。\n\n\n# 实例属性\n\nmenu 对象还具有以下属性:\n\n# menu.items\n\n包含菜单项的 menuitem [] 数组。\n\n每个 菜单 由多个 menuitem 组成, 每个 menuitem可以有子菜单。\n\n\n# 示例\n\n使用简单模板api创建 application menu 的示例代码：\n\nconst { app, menu } = require('electron')\n\nconst ismac = process.platform === 'darwin'\n\nconst template = [\n  // { role: 'appmenu' }\n  ...(ismac ? [{\n    label: app.name,\n    submenu: [\n      { role: 'about' },\n      { type: 'separator' },\n      { role: 'services' },\n      { type: 'separator' },\n      { role: 'hide' },\n      { role: 'hideothers' },\n      { role: 'unhide' },\n      { type: 'separator' },\n      { role: 'quit' }\n    ]\n  }] : []),\n  // { role: 'filemenu' }\n  {\n    label: 'file',\n    submenu: [\n      ismac ? { role: 'close' } : { role: 'quit' }\n    ]\n  },\n  // { role: 'editmenu' }\n  {\n    label: 'edit',\n    submenu: [\n      { role: 'undo' },\n      { role: 'redo' },\n      { type: 'separator' },\n      { role: 'cut' },\n      { role: 'copy' },\n      { role: 'paste' },\n      ...(ismac ? [\n        { role: 'pasteandmatchstyle' },\n        { role: 'delete' },\n        { role: 'selectall' },\n        { type: 'separator' },\n        {\n          label: 'speech',\n          submenu: [\n            { role: 'startspeaking' },\n            { role: 'stopspeaking' }\n          ]\n        }\n      ] : [\n        { role: 'delete' },\n        { type: 'separator' },\n        { role: 'selectall' }\n      ])\n    ]\n  },\n  // { role: 'viewmenu' }\n  {\n    label: 'view',\n    submenu: [\n      { role: 'reload' },\n      { role: 'forcereload' },\n      { role: 'toggledevtools' },\n      { type: 'separator' },\n      { role: 'resetzoom' },\n      { role: 'zoomin' },\n      { role: 'zoomout' },\n      { type: 'separator' },\n      { role: 'togglefullscreen' }\n    ]\n  },\n  // { role: 'windowmenu' }\n  {\n    label: 'window',\n    submenu: [\n      { role: 'minimize' },\n      { role: 'zoom' },\n      ...(ismac ? [\n        { type: 'separator' },\n        { role: 'front' },\n        { type: 'separator' },\n        { role: 'window' }\n      ] : [\n        { role: 'close' }\n      ])\n    ]\n  },\n  {\n    role: 'help',\n    submenu: [\n      {\n        label: 'learn more',\n        click: async () => {\n          const { shell } = require('electron')\n          await shell.openexternal('https://electronjs.org')\n        }\n      }\n    ]\n  }\n]\n\nconst menu = menu.buildfromtemplate(template)\nmenu.setapplicationmenu(menu)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n\n\n\n# 渲染进程\n\n要创建由渲染器启动的菜单，请通过 ipc 发送所需的信息到主过程，并让主过程代替渲染器显示菜单。\n\n以下是用户右键单击页面时显示菜单的示例：\n\n// renderer\nwindow.addeventlistener('contextmenu', (e) => {\n  e.preventdefault()\n  ipcrenderer.send('show-context-menu')\n})\n\nipcrenderer.on('context-menu-command', (e, command) => {\n  // ...\n})\n\n// main\nipcmain.on('show-context-menu', (event) => {\n  const template = [\n    {\n      label: 'menu item 1',\n      click: () => { event.sender.send('context-menu-command', 'menu-item-1') }\n    },\n    { type: 'separator' },\n    { label: 'menu item 2', type: 'checkbox', checked: true }\n  ]\n  const menu = menu.buildfromtemplate(template)\n  menu.popup(browserwindow.fromwebcontents(event.sender))\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# macos中应用菜单注意事项\n\nmacos 相比于 windows 和 linux 有着完全不同的应用程序菜单。 以下是一些有关使应用菜单更像原生应用菜单的注意事项。\n\n\n# 标准菜单\n\nmacos有一些系统预定义的菜单，像是services and windows。 让你的菜单更像macos标准菜单，只需设置菜单role值为如下示之一，electron便会自动认出并设置成标准菜单，：\n\n * window\n * help\n * services\n\n\n# 标准菜单项操作\n\nmacos 已经为某些菜单项提供了标准操作, 如 about xxx、hide xxx 和 hide others。 若要将菜单项的操作设置为标准操作, 应设置菜单项的 role 属性。\n\n\n# 主菜单的名称\n\n在 macos 中应用程序菜单的第一个项目的标签总是你的应用程序的名字, 无论你设置什么标签。 如要更改它, 请修改应用程序包的 info. plist 文件。 详情参阅：about information property list files\n\n\n# 设置特定浏览器窗口的菜单 (* linux * * windows *)\n\n浏览器窗口的 setmenu 方法 可以设置特定浏览器窗口的菜单。\n\n\n# 菜单项位置\n\n你可以使用 before, after, beforegroupcontaining, aftergroupcontaining 和 id 来控制由 menu.buildfromtemplate 生成的菜单项的位置.\n\n * before - 在指定的标签之前插入菜单项。 如果引用值不存在，那么该菜单项会插在这个菜单的尾部。 这还意味着，菜单项应该被放置在与引用项相同的组中。\n * after - 在指定的标签之后插入菜单项。 如果引用值不存在，那么该菜单项会插在这个菜单的尾部。 这还意味着，菜单项应该被放置在与引用项相同的组中。\n * beforegroupcontaining - 为单个上下文菜单提供一种方法，用于在具有指定标签项的包含组之前声明其包含组的位置\n * aftergroupcontaining - 为单个上下文菜单提供一种方法，用于在具有指定标签项的包含组之后声明其包含组的位置\n\n默认情况下，除非有位置相关的属性，所有的菜单项会按照模板中的顺序排放。\n\n\n# 示例\n\n模板：\n\n[\n  { id: '1', label: 'one' },\n  { id: '2', label: 'two' },\n  { id: '3', label: 'three' },\n  { id: '4', label: 'four' }\n]\n\n\n1\n2\n3\n4\n5\n6\n\n\n菜单:\n\n- 1\n- 2\n- 3\n- 4\n\n\n1\n2\n3\n4\n\n\n模板：\n\n[\n  { id: '1', label: 'one' },\n  { type: 'separator' },\n  { id: '3', label: 'three', beforegroupcontaining: ['1'] },\n  { id: '4', label: 'four', aftergroupcontaining: ['2'] },\n  { type: 'separator' },\n  { id: '2', label: 'two' }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n菜单:\n\n- 3\n- 4\n- ---\n- 1\n- ---\n- 2\n\n\n1\n2\n3\n4\n5\n6\n\n\n模板：\n\n[\n  { id: '1', label: 'one', after: ['3'] },\n  { id: '2', label: 'two', before: ['1'] },\n  { id: '3', label: 'three' }\n]\n\n\n1\n2\n3\n4\n5\n\n\n菜单:\n\n- ---\n- 3\n- 2\n- 1\n\n\n1\n2\n3\n4\n",charsets:{cjk:!0}},{title:"menu-item",frontmatter:{title:"menu-item",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/ec4f94/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/menu-item.html",relativePath:"《Electron中文文档》/api/menu-item.md",key:"v-ef868210",path:"/pages/ec4f94/",headers:[{level:2,title:"菜单项",slug:"菜单项",normalizedTitle:"菜单项",charIndex:2},{level:3,title:"new MenuItem(options)",slug:"new-menuitem-options",normalizedTitle:"new menuitem(options)",charIndex:58},{level:3,title:"角色",slug:"角色",normalizedTitle:"角色",charIndex:2248},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:4095},{level:4,title:"menuItem.id",slug:"menuitem-id",normalizedTitle:"menuitem.id",charIndex:4126},{level:4,title:"menuItem.label",slug:"menuitem-label",normalizedTitle:"menuitem.label",charIndex:4172},{level:4,title:"menuItem.click",slug:"menuitem-click",normalizedTitle:"menuitem.click",charIndex:4209},{level:4,title:"menuItem.submenu",slug:"menuitem-submenu",normalizedTitle:"menuitem.submenu",charIndex:4416},{level:4,title:"menuItem.type",slug:"menuitem-type",normalizedTitle:"menuitem.type",charIndex:4455},{level:4,title:"menuItem.role",slug:"menuitem-role",normalizedTitle:"menuitem.role",charIndex:4539},{level:4,title:"menuItem.accelerator",slug:"menuitem-accelerator",normalizedTitle:"menuitem.accelerator",charIndex:5065},{level:4,title:"menuItem.userAccelerator Readonly macOS",slug:"menuitem-useraccelerator-readonly-macos",normalizedTitle:"menuitem.useraccelerator readonly macos",charIndex:5159},{level:4,title:"menuItem.icon",slug:"menuitem-icon",normalizedTitle:"menuitem.icon",charIndex:5498},{level:4,title:"menuItem.sublabel",slug:"menuitem-sublabel",normalizedTitle:"menuitem.sublabel",charIndex:5560},{level:4,title:"menuItem.toolTip macOS",slug:"menuitem-tooltip-macos",normalizedTitle:"menuitem.tooltip macos",charIndex:5598},{level:4,title:"menuItem.enabled",slug:"menuitem-enabled",normalizedTitle:"menuitem.enabled",charIndex:5642},{level:4,title:"menuItem.visible",slug:"menuitem-visible",normalizedTitle:"menuitem.visible",charIndex:5700},{level:4,title:"menuItem.checked",slug:"menuitem-checked",normalizedTitle:"menuitem.checked",charIndex:5759},{level:4,title:"menuItem.registerAccelerator",slug:"menuitem-registeraccelerator",normalizedTitle:"menuitem.registeraccelerator",charIndex:5917},{level:4,title:"menuItem.sharingItem macOS",slug:"menuitem-sharingitem-macos",normalizedTitle:"menuitem.sharingitem macos",charIndex:5992},{level:4,title:"menuItem.commandId",slug:"menuitem-commandid",normalizedTitle:"menuitem.commandid",charIndex:6077},{level:4,title:"menuItem.menu",slug:"menuitem-menu",normalizedTitle:"menuitem.menu",charIndex:6121}],headersStr:"菜单项 new MenuItem(options) 角色 实例属性 menuItem.id menuItem.label menuItem.click menuItem.submenu menuItem.type menuItem.role menuItem.accelerator menuItem.userAccelerator Readonly macOS menuItem.icon menuItem.sublabel menuItem.toolTip macOS menuItem.enabled menuItem.visible menuItem.checked menuItem.registerAccelerator menuItem.sharingItem macOS menuItem.commandId menuItem.menu",content:'# 菜单项\n\n> 添加菜单项到应用程序菜单和上下文菜单中\n\n进程：主进程\n\n有关示例, 请参见 Menu。\n\n\n# new MenuItem(options)\n\n * 选项 对象\n   * click 函数(可选) - 单击菜单项时，将用 click(menuItem, browserWindow, event) 调用。\n     * menuItem MenuItem\n     * browserWindow BrowserWindow |未定义 - 如果没有打开窗口，则无法定义此定义。\n     * event KeyboardEvent\n   * role String (optional) - Can be undo, redo, cut, copy, paste, pasteAndMatchStyle, delete, selectAll, reload, forceReload, toggleDevTools, resetZoom, zoomIn, zoomOut, toggleSpellChecker, togglefullscreen, window, minimize, close, help, about, services, hide, hideOthers, unhide, quit, startSpeaking, stopSpeaking, zoom, front, appMenu, fileMenu, editMenu, viewMenu, shareMenu, recentDocuments, toggleTabBar, selectNextTab, selectPreviousTab, mergeAllWindows, clearRecentDocuments, moveTabToNewWindow or windowMenu - Define the action of the menu item, when specified the click property will be ignored. 参见 roles\n   * typeString (可选)-可以是 normal、separator、submenu、checkbox 或 radio。\n   * label String (可选)\n   * sublabel String (可选)\n   * toolTip String (可选) macOS - 此菜单的悬停文本提示\n   * accelerator Accelerator (可选)\n   * icon (NativeImage | String) (可选)\n   * enabled Boolean (可选) - 如果为 false，该菜单项将会置灰且不可点击。\n   * acceleratorWorksWhenHidden Boolean (可选) macOS - 默认为 true, 当为 false 时将阻止隐藏按钮通过快捷键触发。\n   * visibleBoolean (可选)-如果为 false, 该菜单项将完全隐藏。\n   * checkedBoolean (可选)-只应为 checkbox 或 radio 类型菜单项指定。\n   * registerAccelerator Boolean (可选) Linux Windows - 若为 false, 则快捷键将不会被注册到系统内，但还是会显示出来。 默认值为 true。\n   * sharingItem SharingItem (可选) macOS - 当 role 为 shareMenu时指定要分享的项\n   * submenu (MenuItemConstructorOptions[] | Menu) (可选) - 应该是固定类型菜单submenu 如果指定 submenu ，可以省略 type: \'submenu\' 如果该值不属于Menu，它将被函数Menu.buildFromTemplate自动转换。\n   * id String (可选) - 单个菜单内唯一。 若定义，则可以通过 position 位置属性找到此选项\n   * before String[] (可选) - 在指定标签项前插入此项 如果引用值不存在，那么该菜单项会插在这个菜单的尾部。 这还意味着，菜单项应该被放置在与引用项相同的组中。\n   * after String[] (可选) - 在指定的标签之后插入菜单项。 如果引用值不存在，那么该菜单项会插在这个菜单的尾部。\n   * beforeGroupContaining String[] (可选) - 为单个上下文菜单提供一种方法，用于在具有指定标签的项的包含组之前声明其包含组的位置。\n   * afterGroupContaining String[] (可选) - 为单个上下文菜单提供一种方法，用于在具有指定标签的项的包含组之后声明其包含组的位置。\n\n注意: acceleratorWorksWhenHidden 这个选项只有 macOS 生效，因为在 Windows 和 Linux 系统下快捷键即使在隐藏情况下也会生效。 该选项让用户可以选择关闭，因为这是本地 macOS 开发中的可能。 此属性只能在macOS High Sierra 10.13或以上中使用。\n\n\n# 角色\n\n可以通过角色来为menu添加预定义行为。\n\n最好给任何一个菜单指定 role去匹配一个标准角色, 而不是尝试在 click 函数中手动实现该行为。 内置的 role 行为将提供最佳的原生体验。\n\n使用 role 时, label 和 accelerator 值是可选的, 并为每个平台，将默认为适当值。\n\n每个菜单项必须有一个 role, label, 或者一个分隔符一个 type\n\nrole 属性可以具有以下值:\n\n * undo - 撤销。\n * about - 触发原生信息面板 (在 Window 中自定义消息盒子, 本身不提供).\n * redo\n * cut - 剪切。\n * copy - 复制。\n * paste - 粘贴。\n * pasteAndMatchStyle\n * selectAll - 全选。\n * delete -删除\n * minimize - 最小化当前窗口。\n * close - 关闭当前窗口\n * quit - 退出程序\n * reload - 重新加载当前窗口。\n * forcereload - 忽略缓存，重新加载当前窗口。\n * toggledevtools - 在当前窗口中隐藏/显示开发者工具。\n * togglefullscreen - 将当前窗口切换至全屏模式。\n * resetzoom - 将主页的缩放级别重置为初始大小.\n * zoomin - 主页面放大 10%.\n * zoomout -主页面缩小 10%.\n * toggleSpellChecker - 启用/禁用内置拼写检查器。\n * fileMenu - 默认的“文件”菜单（关闭/退出）\n * editMenu-默认的 "编辑" 菜单 (包括撤消、复制等)\n * viewMenu - 默认的“视图”菜单（包括重新加载、开发者工具等）\n * windowMenu - 默认的“窗口”菜单（包括最小化、缩放等）\n\n以下其他角色可在 macOS 上找到：\n\n * appMenu - 整个默认"App" menu (About, Services, 等)\n * hide-映射到 hide 操作.\n * hideOthers-映射到 hideOtherApplications 操作.\n * unhide - 映射到 unhideAllApplications 动作\n * startSpeaking-映射到 startSpeaking 操作.\n * stopSpeaking-映射到 stopSpeaking 操作.\n * front - 映射到 arrangeInFront 动作\n * zoom - 映射到 performZoom 动作\n * toggleTabBar-映射到 toggleTabBar 操作.\n * selectNextTab - 映射到 selectNextTab 操作.\n * selectPreviousTab - 映射到 selectPreviousTab 操作.\n * mergeAllWindows - 映射到 mergeAllWindows 操作.\n * moveTabToNewWindow - 映射到 moveTabToNewWindow 操作.\n * window - 这个子菜单是"Window" 菜单.\n * help-这个子菜单是 "Help" 菜单.\n * services - 子菜单是 "Services" 菜单。 此选项仅应用于 Application Menu 而且 不同于在 macOS app 中上下文菜单中的 "Services" 子菜单，因为它不是由 Electron 实现的\n * recentDocuments-这个子菜单是 "Open Recent" 菜单.\n * clearRecentDocuments -映射到 clearRecentDocuments 操作.\n * shareMenu - share menu的子菜单。 sharingItem 属性必须被设置， 用于指向被分享的项\n\n在 macOS 上指定 role 时, label 和 accelerator 是影响菜单项的唯一选项。 所有其它选项都将被忽略。 不过，仍然支持小写的role，如toggledevtools。\n\n注意: 对于托盘上的顶级菜单项不可用的 enabled 和 visibility 属性\n\n\n# 实例属性\n\n以下为 MenuItem 实例的可用属性:\n\n# menuItem.id\n\nString 指定了该选项唯一的id，此属性可被动态更改。\n\n# menuItem.label\n\n一个表示菜单项标签的 String\n\n# menuItem.click\n\nMenuItem接收到点击事件后自动触发的方法 Function 。 调用方法为 menuItem.click(event, focusedWindow, focusedWebContents).\n\n * event KeyboardEvent\n * focusedWindow BrowserWindow\n * focusedWebContents WebContents\n\n# menuItem.submenu\n\nA Menu (可选) 指定子菜单\n\n# menuItem.type\n\nString 表示菜单项的类型 可以是 normal, separator, submenu, checkbox 或 radio.\n\n# menuItem.role\n\nString（可选） 指出菜单项的角色 Can be undo, redo, cut, copy, paste, pasteAndMatchStyle, delete, selectAll, reload, forceReload, toggleDevTools, resetZoom, zoomIn, zoomOut, toggleSpellChecker, togglefullscreen, window, minimize, close, help, about, services, hide, hideOthers, unhide, quit, startSpeaking, stopSpeaking, zoom, front, appMenu, fileMenu, editMenu, viewMenu, shareMenu, recentDocuments, toggleTabBar, selectNextTab, selectPreviousTab, mergeAllWindows, clearRecentDocuments, moveTabToNewWindow or windowMenu\n\n# menuItem.accelerator\n\nAn Accelerator (optional) indicating the item\'s accelerator, if set.\n\n# menuItem.userAccelerator Readonly macOS\n\nAn Accelerator | null indicating the item\'s user-assigned accelerator for the menu item.\n\nNote: This property is only initialized after the MenuItem has been added to a Menu. Either via Menu.buildFromTemplate or via Menu.append()/insert(). Accessing before initialization will just return null.\n\n# menuItem.icon\n\nNativeImage | String (可选) 若设置， 则从对应的值中找选项图标\n\n# menuItem.sublabel\n\nString 表明选项的子标签\n\n# menuItem.toolTip macOS\n\nString 选项的悬停文本内容\n\n# menuItem.enabled\n\n一个 Boolean 类型的值, 指示是否启用该项, 该属性可以动态改变\n\n# menuItem.visible\n\n一个 Boolean 类型的值, 指示该项是否可见, 该属性可以动态改变。\n\n# menuItem.checked\n\n一个 Boolean 类型的值, 指示是否选中该项, 该属性可以动态改变。\n\ncheckbox 菜单项将在选中时切换 checked 的开关属性。\n\n单选菜单项 将返回单击时checked属性, 并将关闭同一菜单中所有相邻项的属性。\n\n你可以为其他行为添加click函数。\n\n# menuItem.registerAccelerator\n\n通过 Boolean表明快捷键跟随系统注册还是仅仅展示出来\n\n此属性可以动态更改。\n\n# menuItem.sharingItem macOS\n\nSharingItem 表示了当 role 是 shareMenu 时要分享的项。\n\n此属性可以动态更改。\n\n# menuItem.commandId\n\n表示项目顺序唯一 Id 的 Number\n\n# menuItem.menu\n\n多个选项组成一个 Menu',normalizedContent:'# 菜单项\n\n> 添加菜单项到应用程序菜单和上下文菜单中\n\n进程：主进程\n\n有关示例, 请参见 menu。\n\n\n# new menuitem(options)\n\n * 选项 对象\n   * click 函数(可选) - 单击菜单项时，将用 click(menuitem, browserwindow, event) 调用。\n     * menuitem menuitem\n     * browserwindow browserwindow |未定义 - 如果没有打开窗口，则无法定义此定义。\n     * event keyboardevent\n   * role string (optional) - can be undo, redo, cut, copy, paste, pasteandmatchstyle, delete, selectall, reload, forcereload, toggledevtools, resetzoom, zoomin, zoomout, togglespellchecker, togglefullscreen, window, minimize, close, help, about, services, hide, hideothers, unhide, quit, startspeaking, stopspeaking, zoom, front, appmenu, filemenu, editmenu, viewmenu, sharemenu, recentdocuments, toggletabbar, selectnexttab, selectprevioustab, mergeallwindows, clearrecentdocuments, movetabtonewwindow or windowmenu - define the action of the menu item, when specified the click property will be ignored. 参见 roles\n   * typestring (可选)-可以是 normal、separator、submenu、checkbox 或 radio。\n   * label string (可选)\n   * sublabel string (可选)\n   * tooltip string (可选) macos - 此菜单的悬停文本提示\n   * accelerator accelerator (可选)\n   * icon (nativeimage | string) (可选)\n   * enabled boolean (可选) - 如果为 false，该菜单项将会置灰且不可点击。\n   * acceleratorworkswhenhidden boolean (可选) macos - 默认为 true, 当为 false 时将阻止隐藏按钮通过快捷键触发。\n   * visibleboolean (可选)-如果为 false, 该菜单项将完全隐藏。\n   * checkedboolean (可选)-只应为 checkbox 或 radio 类型菜单项指定。\n   * registeraccelerator boolean (可选) linux windows - 若为 false, 则快捷键将不会被注册到系统内，但还是会显示出来。 默认值为 true。\n   * sharingitem sharingitem (可选) macos - 当 role 为 sharemenu时指定要分享的项\n   * submenu (menuitemconstructoroptions[] | menu) (可选) - 应该是固定类型菜单submenu 如果指定 submenu ，可以省略 type: \'submenu\' 如果该值不属于menu，它将被函数menu.buildfromtemplate自动转换。\n   * id string (可选) - 单个菜单内唯一。 若定义，则可以通过 position 位置属性找到此选项\n   * before string[] (可选) - 在指定标签项前插入此项 如果引用值不存在，那么该菜单项会插在这个菜单的尾部。 这还意味着，菜单项应该被放置在与引用项相同的组中。\n   * after string[] (可选) - 在指定的标签之后插入菜单项。 如果引用值不存在，那么该菜单项会插在这个菜单的尾部。\n   * beforegroupcontaining string[] (可选) - 为单个上下文菜单提供一种方法，用于在具有指定标签的项的包含组之前声明其包含组的位置。\n   * aftergroupcontaining string[] (可选) - 为单个上下文菜单提供一种方法，用于在具有指定标签的项的包含组之后声明其包含组的位置。\n\n注意: acceleratorworkswhenhidden 这个选项只有 macos 生效，因为在 windows 和 linux 系统下快捷键即使在隐藏情况下也会生效。 该选项让用户可以选择关闭，因为这是本地 macos 开发中的可能。 此属性只能在macos high sierra 10.13或以上中使用。\n\n\n# 角色\n\n可以通过角色来为menu添加预定义行为。\n\n最好给任何一个菜单指定 role去匹配一个标准角色, 而不是尝试在 click 函数中手动实现该行为。 内置的 role 行为将提供最佳的原生体验。\n\n使用 role 时, label 和 accelerator 值是可选的, 并为每个平台，将默认为适当值。\n\n每个菜单项必须有一个 role, label, 或者一个分隔符一个 type\n\nrole 属性可以具有以下值:\n\n * undo - 撤销。\n * about - 触发原生信息面板 (在 window 中自定义消息盒子, 本身不提供).\n * redo\n * cut - 剪切。\n * copy - 复制。\n * paste - 粘贴。\n * pasteandmatchstyle\n * selectall - 全选。\n * delete -删除\n * minimize - 最小化当前窗口。\n * close - 关闭当前窗口\n * quit - 退出程序\n * reload - 重新加载当前窗口。\n * forcereload - 忽略缓存，重新加载当前窗口。\n * toggledevtools - 在当前窗口中隐藏/显示开发者工具。\n * togglefullscreen - 将当前窗口切换至全屏模式。\n * resetzoom - 将主页的缩放级别重置为初始大小.\n * zoomin - 主页面放大 10%.\n * zoomout -主页面缩小 10%.\n * togglespellchecker - 启用/禁用内置拼写检查器。\n * filemenu - 默认的“文件”菜单（关闭/退出）\n * editmenu-默认的 "编辑" 菜单 (包括撤消、复制等)\n * viewmenu - 默认的“视图”菜单（包括重新加载、开发者工具等）\n * windowmenu - 默认的“窗口”菜单（包括最小化、缩放等）\n\n以下其他角色可在 macos 上找到：\n\n * appmenu - 整个默认"app" menu (about, services, 等)\n * hide-映射到 hide 操作.\n * hideothers-映射到 hideotherapplications 操作.\n * unhide - 映射到 unhideallapplications 动作\n * startspeaking-映射到 startspeaking 操作.\n * stopspeaking-映射到 stopspeaking 操作.\n * front - 映射到 arrangeinfront 动作\n * zoom - 映射到 performzoom 动作\n * toggletabbar-映射到 toggletabbar 操作.\n * selectnexttab - 映射到 selectnexttab 操作.\n * selectprevioustab - 映射到 selectprevioustab 操作.\n * mergeallwindows - 映射到 mergeallwindows 操作.\n * movetabtonewwindow - 映射到 movetabtonewwindow 操作.\n * window - 这个子菜单是"window" 菜单.\n * help-这个子菜单是 "help" 菜单.\n * services - 子菜单是 "services" 菜单。 此选项仅应用于 application menu 而且 不同于在 macos app 中上下文菜单中的 "services" 子菜单，因为它不是由 electron 实现的\n * recentdocuments-这个子菜单是 "open recent" 菜单.\n * clearrecentdocuments -映射到 clearrecentdocuments 操作.\n * sharemenu - share menu的子菜单。 sharingitem 属性必须被设置， 用于指向被分享的项\n\n在 macos 上指定 role 时, label 和 accelerator 是影响菜单项的唯一选项。 所有其它选项都将被忽略。 不过，仍然支持小写的role，如toggledevtools。\n\n注意: 对于托盘上的顶级菜单项不可用的 enabled 和 visibility 属性\n\n\n# 实例属性\n\n以下为 menuitem 实例的可用属性:\n\n# menuitem.id\n\nstring 指定了该选项唯一的id，此属性可被动态更改。\n\n# menuitem.label\n\n一个表示菜单项标签的 string\n\n# menuitem.click\n\nmenuitem接收到点击事件后自动触发的方法 function 。 调用方法为 menuitem.click(event, focusedwindow, focusedwebcontents).\n\n * event keyboardevent\n * focusedwindow browserwindow\n * focusedwebcontents webcontents\n\n# menuitem.submenu\n\na menu (可选) 指定子菜单\n\n# menuitem.type\n\nstring 表示菜单项的类型 可以是 normal, separator, submenu, checkbox 或 radio.\n\n# menuitem.role\n\nstring（可选） 指出菜单项的角色 can be undo, redo, cut, copy, paste, pasteandmatchstyle, delete, selectall, reload, forcereload, toggledevtools, resetzoom, zoomin, zoomout, togglespellchecker, togglefullscreen, window, minimize, close, help, about, services, hide, hideothers, unhide, quit, startspeaking, stopspeaking, zoom, front, appmenu, filemenu, editmenu, viewmenu, sharemenu, recentdocuments, toggletabbar, selectnexttab, selectprevioustab, mergeallwindows, clearrecentdocuments, movetabtonewwindow or windowmenu\n\n# menuitem.accelerator\n\nan accelerator (optional) indicating the item\'s accelerator, if set.\n\n# menuitem.useraccelerator readonly macos\n\nan accelerator | null indicating the item\'s user-assigned accelerator for the menu item.\n\nnote: this property is only initialized after the menuitem has been added to a menu. either via menu.buildfromtemplate or via menu.append()/insert(). accessing before initialization will just return null.\n\n# menuitem.icon\n\nnativeimage | string (可选) 若设置， 则从对应的值中找选项图标\n\n# menuitem.sublabel\n\nstring 表明选项的子标签\n\n# menuitem.tooltip macos\n\nstring 选项的悬停文本内容\n\n# menuitem.enabled\n\n一个 boolean 类型的值, 指示是否启用该项, 该属性可以动态改变\n\n# menuitem.visible\n\n一个 boolean 类型的值, 指示该项是否可见, 该属性可以动态改变。\n\n# menuitem.checked\n\n一个 boolean 类型的值, 指示是否选中该项, 该属性可以动态改变。\n\ncheckbox 菜单项将在选中时切换 checked 的开关属性。\n\n单选菜单项 将返回单击时checked属性, 并将关闭同一菜单中所有相邻项的属性。\n\n你可以为其他行为添加click函数。\n\n# menuitem.registeraccelerator\n\n通过 boolean表明快捷键跟随系统注册还是仅仅展示出来\n\n此属性可以动态更改。\n\n# menuitem.sharingitem macos\n\nsharingitem 表示了当 role 是 sharemenu 时要分享的项。\n\n此属性可以动态更改。\n\n# menuitem.commandid\n\n表示项目顺序唯一 id 的 number\n\n# menuitem.menu\n\n多个选项组成一个 menu',charsets:{cjk:!0}},{title:"message-port-main",frontmatter:{title:"message-port-main",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/ead173/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/message-port-main.html",relativePath:"《Electron中文文档》/api/message-port-main.md",key:"v-03ab227c",path:"/pages/ead173/",headers:[{level:2,title:"Class: MessagePortMain",slug:"class-messageportmain",normalizedTitle:"class: messageportmain",charIndex:341},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:537},{level:4,title:"port.postMessage(message, [transfer])",slug:"port-postmessage-message-transfer",normalizedTitle:"port.postmessage(message, [transfer])",charIndex:545},{level:4,title:"port.start()",slug:"port-start",normalizedTitle:"port.start()",charIndex:669},{level:4,title:"port.close()",slug:"port-close",normalizedTitle:"port.close()",charIndex:722},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:747},{level:4,title:"Event: 'message'",slug:"event-message",normalizedTitle:"event: 'message'",charIndex:755},{level:4,title:"事件： 'close'",slug:"事件-close",normalizedTitle:"事件： 'close'",charIndex:877}],headersStr:"Class: MessagePortMain 实例方法 port.postMessage(message, [transfer]) port.start() port.close() 实例事件 Event: 'message' 事件： 'close'",content:"# MessagePortMain\n\nMessagePortMain 是 DOM MessagePort 对象的主进程等价对象。 它的行为类似于DOM版本，不同的是它使用 Node.js EventEmitter 事件系统，而不是 DOM EventTarget 系统。 这意味着你应该用 port.on('message', ...) 来监听事件, 来代替 port.onmessage = ... 或 port.addEventListener('message', ...)\n\n关于 channel 消息的使用文档详见 Channel Messaging API\n\nMessagePortMain 是一个 [EventEmitter][event-emitter].\n\n\n# Class: MessagePortMain\n\n> 主进程中用于通道消息传递的端口接口。\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# 实例方法\n\n# port.postMessage(message, [transfer])\n\n * message any\n * transfer MessagePortMain[] (可选)\n\n从端口发送消息，并可选地将对象的所有权转移到其他浏览上下文。\n\n# port.start()\n\n开始发送在端口上排队的消息。 消息将先缓存到队列, 直到此方法被调用。\n\n# port.close()\n\n断开端口连接\n\n\n# 实例事件\n\n# Event: 'message'\n\n返回:\n\n * messageEvent Object\n   * data any\n   * ports MessagePortMain[]\n\nMessagePortMain 对象收到消息时触发此事件\n\n# 事件： 'close'\n\n当MessagePortMain 对象的远程端断开连接时触发此事件",normalizedContent:"# messageportmain\n\nmessageportmain 是 dom messageport 对象的主进程等价对象。 它的行为类似于dom版本，不同的是它使用 node.js eventemitter 事件系统，而不是 dom eventtarget 系统。 这意味着你应该用 port.on('message', ...) 来监听事件, 来代替 port.onmessage = ... 或 port.addeventlistener('message', ...)\n\n关于 channel 消息的使用文档详见 channel messaging api\n\nmessageportmain 是一个 [eventemitter][event-emitter].\n\n\n# class: messageportmain\n\n> 主进程中用于通道消息传递的端口接口。\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# 实例方法\n\n# port.postmessage(message, [transfer])\n\n * message any\n * transfer messageportmain[] (可选)\n\n从端口发送消息，并可选地将对象的所有权转移到其他浏览上下文。\n\n# port.start()\n\n开始发送在端口上排队的消息。 消息将先缓存到队列, 直到此方法被调用。\n\n# port.close()\n\n断开端口连接\n\n\n# 实例事件\n\n# event: 'message'\n\n返回:\n\n * messageevent object\n   * data any\n   * ports messageportmain[]\n\nmessageportmain 对象收到消息时触发此事件\n\n# 事件： 'close'\n\n当messageportmain 对象的远程端断开连接时触发此事件",charsets:{cjk:!0}},{title:"native-image",frontmatter:{title:"native-image",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/3e61f2/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/native-image.html",relativePath:"《Electron中文文档》/api/native-image.md",key:"v-7b00c136",path:"/pages/3e61f2/",headers:[{level:2,title:"支持的格式",slug:"支持的格式",normalizedTitle:"支持的格式",charIndex:612},{level:2,title:"高分辨率",slug:"高分辨率",normalizedTitle:"高分辨率",charIndex:1016},{level:2,title:"模板图片",slug:"模板图片",normalizedTitle:"模板图片",charIndex:1525},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:1743},{level:3,title:"nativeImage.createEmpty()",slug:"nativeimage-createempty",normalizedTitle:"nativeimage.createempty()",charIndex:1797},{level:3,title:"nativeImage.createThumbnailFromPath(path, maxSize) macOS Windows",slug:"nativeimage-createthumbnailfrompath-path-maxsize-macos-windows",normalizedTitle:"nativeimage.createthumbnailfrompath(path, maxsize) macos windows",charIndex:1867},{level:3,title:"nativeImage.createFromPath(path)",slug:"nativeimage-createfrompath-path",normalizedTitle:"nativeimage.createfrompath(path)",charIndex:2117},{level:3,title:"nativeImage.createFromBitmap(buffer, options)",slug:"nativeimage-createfrombitmap-buffer-options",normalizedTitle:"nativeimage.createfrombitmap(buffer, options)",charIndex:2417},{level:3,title:"nativeImage.createFromBuffer(buffer[, options])",slug:"nativeimage-createfrombuffer-buffer-options",normalizedTitle:"nativeimage.createfrombuffer(buffer[, options])",charIndex:2660},{level:3,title:"nativeImage.createFromDataURL(dataURL)",slug:"nativeimage-createfromdataurl-dataurl",normalizedTitle:"nativeimage.createfromdataurl(dataurl)",charIndex:2926},{level:3,title:"nativeImage.createFromNamedImage(imageName[, hslShift]) macOS",slug:"nativeimage-createfromnamedimage-imagename-hslshift-macos",normalizedTitle:"nativeimage.createfromnamedimage(imagename[, hslshift]) macos",charIndex:3036},{level:2,title:"类: NativeImage",slug:"类-nativeimage",normalizedTitle:"类: nativeimage",charIndex:3830},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:4030},{level:4,title:"image.toPNG([options])",slug:"image-topng-options",normalizedTitle:"image.topng([options])",charIndex:4065},{level:4,title:"image.toJPEG(quality)",slug:"image-tojpeg-quality",normalizedTitle:"image.tojpeg(quality)",charIndex:4189},{level:4,title:"image.toBitmap([options])",slug:"image-tobitmap-options",normalizedTitle:"image.tobitmap([options])",charIndex:4287},{level:4,title:"image.toDataURL([options])",slug:"image-todataurl-options",normalizedTitle:"image.todataurl([options])",charIndex:4416},{level:4,title:"image.getBitmap([options])",slug:"image-getbitmap-options",normalizedTitle:"image.getbitmap([options])",charIndex:4529},{level:4,title:"image.getNativeHandle() macOS",slug:"image-getnativehandle-macos",normalizedTitle:"image.getnativehandle() macos",charIndex:4754},{level:4,title:"image.isEmpty()",slug:"image-isempty",normalizedTitle:"image.isempty()",charIndex:4932},{level:4,title:"image.getSize([scaleFactor])",slug:"image-getsize-scalefactor",normalizedTitle:"image.getsize([scalefactor])",charIndex:4971},{level:4,title:"image.setTemplateImage(option)",slug:"image-settemplateimage-option",normalizedTitle:"image.settemplateimage(option)",charIndex:5096},{level:4,title:"image.isTemplateImage()",slug:"image-istemplateimage",normalizedTitle:"image.istemplateimage()",charIndex:5162},{level:4,title:"image.crop(rect)",slug:"image-crop-rect",normalizedTitle:"image.crop(rect)",charIndex:5212},{level:4,title:"image.resize(options)",slug:"image-resize-options",normalizedTitle:"image.resize(options)",charIndex:5285},{level:4,title:"image.getAspectRatio([scaleFactor])",slug:"image-getaspectratio-scalefactor",normalizedTitle:"image.getaspectratio([scalefactor])",charIndex:5613},{level:4,title:"image.getScaleFactors()",slug:"image-getscalefactors",normalizedTitle:"image.getscalefactors()",charIndex:5750},{level:4,title:"image.addRepresentation(options)",slug:"image-addrepresentation-options",normalizedTitle:"image.addrepresentation(options)",charIndex:5828},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:6191},{level:4,title:"nativeImage.isMacTemplateImage macOS",slug:"nativeimage-ismactemplateimage-macos",normalizedTitle:"nativeimage.ismactemplateimage macos",charIndex:6199}],headersStr:"支持的格式 高分辨率 模板图片 方法 nativeImage.createEmpty() nativeImage.createThumbnailFromPath(path, maxSize) macOS Windows nativeImage.createFromPath(path) nativeImage.createFromBitmap(buffer, options) nativeImage.createFromBuffer(buffer[, options]) nativeImage.createFromDataURL(dataURL) nativeImage.createFromNamedImage(imageName[, hslShift]) macOS 类: NativeImage 实例方法 image.toPNG([options]) image.toJPEG(quality) image.toBitmap([options]) image.toDataURL([options]) image.getBitmap([options]) image.getNativeHandle() macOS image.isEmpty() image.getSize([scaleFactor]) image.setTemplateImage(option) image.isTemplateImage() image.crop(rect) image.resize(options) image.getAspectRatio([scaleFactor]) image.getScaleFactors() image.addRepresentation(options) 实例属性 nativeImage.isMacTemplateImage macOS",content:"# nativeImage\n\n> 使用 PNG 或 JPG 文件创建托盘、dock和应用程序图标。\n\n进程： Main, Renderer\n\n在 Electron 内, 那些需要图片的 API 可以传递两种参数, 一种是文件路径, 一种是 NativeImage 实例对象。 空的图片对象将被 null 参数替代\n\n例如, 创建托盘或设置窗口图标时, 你可以传递 String 格式的图片路径\n\nconst { BrowserWindow, Tray } = require('electron')\n\nconst appIcon = new Tray('/Users/somebody/images/icon.png')\nconst win = new BrowserWindow({ icon: '/Users/somebody/images/window.png' })\nconsole.log(appIcon, win)\n\n\n1\n2\n3\n4\n5\n\n\n或者从粘贴板读取图片，将返回 NativeImage 对象：\n\nconst { clipboard, Tray } = require('electron')\nconst image = clipboard.readImage()\nconst appIcon = new Tray(image)\nconsole.log(appIcon)\n\n\n1\n2\n3\n4\n\n\n\n# 支持的格式\n\n当前只支持 PNG 和 JPEG 格式， 推荐使用 PNG ，因为这种格式支持透明和无损压缩\n\n在 Windows 平台下, 你同样可以从文件路径中加载ICO 格式的 icons 对象。 为了达到最佳观看效果，推荐至少包含以下大小的图片尺寸：\n\n * 小图标\n   * 16x16 (100% DPI scale)\n   * 20x20 (125% DPI scale)\n   * 24x24 (150% DPI scale)\n   * 32x32 (200% DPI scale)\n * 大图标\n   * 32x32 (100% DPI scale)\n   * 40x40 (125% DPI scale)\n   * 48x48 (150% DPI scale)\n   * 64x64 (200% DPI scale)\n   * 256x256\n\n在这篇文章中查看 尺寸说明 的章节\n\n\n# 高分辨率\n\n在具有高 DPI 支持的平台 (如 Apple 视网膜显示器) 上, 可以在图像的基本文件名之后追加 @ 2x 以将其标记为高分辨率图像。\n\n比如， 如果 icon.png 是一个普通的标准分辨率的图片，而 icon@2x.png 将被视为具有两倍DPI密度的高分辨率图像\n\n如果您想同时支持不同的DPI密度显示，您可以将不同大小的图像放置在同一文件夹中，并使用文件名而不需要DPI 后缀。 例如：\n\nimages/\n├── icon.png\n├── icon@2x.png\n└── icon@3x.png\n\n\n1\n2\n3\n4\n\n\nconst { Tray } = require('electron')\nconst appIcon = new Tray('/Users/somebody/images/icon.png')\nconsole.log(appIcon)\n\n\n1\n2\n3\n\n\n还支持以下DPI的后缀：\n\n * @1x\n * @1.25x\n * @1.33x\n * @1.4x\n * @1.5x\n * @1.8x\n * @2x\n * @2.5x\n * @3x\n * @4x\n * @5x\n\n\n# 模板图片\n\n模板图像由黑色和透明通道组成。 模板图片不是单独使用的, 它通常与其他内容混合以创建期望的最终效果\n\n最常见的情况是使用模板图像作为菜单栏图标，因此它可以适应浅色和深色菜单栏。\n\n** 注意: **仅在 macOS 上支持Template image。\n\n要将图像标记为模板图像，其文件名应以 Template 一词结尾。 例如：\n\n * xxxTemplate.png\n * xxxTemplate@2x.png\n\n\n# 方法\n\nnativeImage 模块具有以下方法, 它们都返回 nativeImage 类的实例:\n\n\n# nativeImage.createEmpty()\n\n返回 NativeImage\n\n创建一个空的 NativeImage 实例。\n\n\n# nativeImage.createThumbnailFromPath(path, maxSize) macOS Windows\n\n * path String - 打算用来构建缩略图的文件路径\n * maxSize Size - 返回缩略图的最大宽度和高度(正数)。 在 Windows 平台下将忽略 maxSize.height 并根据 maxSize.width 缩放高度\n\n返回 Promise<NativeImage> - 文件的缩略图预览图像，包含类型是 NativeImage\n\n\n# nativeImage.createFromPath(path)\n\n * path String\n\n返回 NativeImage\n\n从位于 path 的文件创建新的 NativeImage 实例。 如果 path 不存在，，无法读取或不是有效图像，方法将返回空图像, 。\n\nconst nativeImage = require('electron').nativeImage\n\nconst image = nativeImage.createFromPath('/Users/somebody/images/icon.png')\nconsole.log(image)\n\n\n1\n2\n3\n4\n\n\n\n# nativeImage.createFromBitmap(buffer, options)\n\n * buffer Buffer\n * 选项 对象\n   * width Integer\n   * height Integer\n   * scaleFactor Double (可选) - 默认1.0\n\n返回 NativeImage\n\n从 buffer 中创建一个新的 NativeImage 实例，其中包含由 toBitmap()返回的原始位图 像素数据。 具体格式取决于平台。\n\n\n# nativeImage.createFromBuffer(buffer[, options])\n\n * buffer Buffer\n * options Object (可选)\n   * width Integer (可选) - 位图缓冲器所必需\n   * height Integer (可选) - 位图缓冲器所必需\n   * scaleFactor Double (可选) - 默认1.0\n\n返回 NativeImage\n\n从 buffer 创建新的 NativeImage 实例。 尝试先解码为 PNG 或 JPEG\n\n\n# nativeImage.createFromDataURL(dataURL)\n\n * dataURL String\n\n返回 NativeImage\n\n从 dataURL 创建新的 NativeImage 实例。\n\n\n# nativeImage.createFromNamedImage(imageName[, hslShift]) macOS\n\n * imageName String\n * hslShift Number[] (可选)\n\n返回 NativeImage\n\n从映射到给定图像名称的 NSImage 创建一个 NativeImage 实例。 可用值列表详见 System Icons\n\n使用以下规则将hslShift应用于图像:\n\n * hsl_shift[0] (色调): 图像的绝对色调值，0 和1 映射到 0和360，在色环上 (红色)。\n * hsl_shift[1] (饱和度): 图像的饱和度调值， 以下关键值： 0 = 删除所有颜色。 0.5 = 保持不变。 1 = 图像完全饱和\n * hsl_shift[2] (亮度): 图像的亮度调值, 可以为下列值: 0 = 移除所有亮度 (所有像素点设置为黑色). 0.5 = 保持不变。 1 = 全亮 (所有像素点设置为白色)。\n\n这意味着 [-1, 0, 1] 将使图像完全变白，[-1, 1, 0]将使图像完全变黑.\n\n在某些情况下， NSImageName 与其字符串表示并不匹配：其中一个例子是 NSFolderImageName，它的字符串表示实际上将是 NSFolder。 因此，您需要在传递图像之前确定正确的字符串表示方式。 可以像下面这样做：\n\necho -e '#import <Cocoa/Cocoa.h>\\nint main() { NSLog(@\"%@\", SYSTEM_IMAGE_NAME); }' | clang -otest -x objective-c -framework Cocoa - && ./test\n\n其中 SYSTEM_IMAGE_NAME 应替换为 this list里面的值\n\n\n# 类: NativeImage\n\n> 本机图像，如托盘、dock栏和应用图标。\n\nProcess: Main, Renderer\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# 实例方法\n\n以下方法可用于 NativeImage 类的实例:\n\n# image.toPNG([options])\n\n * options Object (可选)\n   * scaleFactor Double (可选) - 默认1.0\n\n返回 Buffer-一个包含图像 PNG 编码数据的 Buffer 。\n\n# image.toJPEG(quality)\n\n * quality Integer - 在 0 - 100 之间\n\n返回 Buffer-一个包含图像 JPEG 编码数据的 Buffer 。\n\n# image.toBitmap([options])\n\n * options Object (可选)\n   * scaleFactor Double (可选) - 默认1.0\n\n返回 Buffer-一个包含图像的原始位图像素数据副本的 Buffer 。\n\n# image.toDataURL([options])\n\n * options Object (可选)\n   * scaleFactor Double (可选) - 默认1.0\n\n返回 String-图像的数据 URL。\n\n# image.getBitmap([options])\n\n * options Object (可选)\n   * scaleFactor Double (可选) - 默认1.0\n\n返回 Buffer-一个包含图像原始位图像素数据的 Buffer 。\n\ngetBitmap() 和 toBitmap() 的不同之处在于，<code>getBitmap() 不会拷贝位图数据，所以你必须在返回 Buffer 后立刻使用它，否则数据可能会被更改或销毁\n\n# image.getNativeHandle() macOS\n\n返回 Buffer-一个 Buffer , 它将 C 指针存储在图像的基础本机句柄上。 在 macOS 上, 将返回指向 NSImage 实例的指针。\n\n请注意, 返回的指针是指向基础本机映像而不是副本的弱指针, 因此 _ 必须 _ 确保关联的 nativeImage 实例保留在周围。\n\n# image.isEmpty()\n\n返回 Boolean-图像是否为空。\n\n# image.getSize([scaleFactor])\n\n * scaleFactor Double (可选) - 默认1.0\n\nReturns Size.\n\n如果传递了 scaleFactor ，将返回与图像表示最接近的传递值对应的大小。\n\n# image.setTemplateImage(option)\n\n * option Boolean\n\n将图像标记为模板图像。\n\n# image.isTemplateImage()\n\n返回 Boolean-图像是否为模板图像。\n\n# image.crop(rect)\n\n * rect Rectangle -要裁剪的图像区域.\n\n返回 NativeImage-裁剪的图像。\n\n# image.resize(options)\n\n * 选项 对象\n   * width Integer (可选) - 默认值为图片宽度\n   * height Integer (可选) - 默认值为图片高度.\n   * quality String (optional) 所要设置的图片质量。 可能的值为 good、better 或 best。 默认值为best. 这些值表示期望的 质量/速度 的权衡。 他们被转换为某个特定算法, 取决于基础平台的能力 (CPU, GPU)。 这三种方法都可以在指定的平台上映射到相同的算法。\n\n返回 NativeImage-裁剪的图像。\n\n如果只指定height或width，那么当前的长宽比将保留在缩放图像中。\n\n# image.getAspectRatio([scaleFactor])\n\n * scaleFactor Double (可选) - 默认1.0\n\n返回 Float - 图像的长宽比.\n\n如果传递了 scaleFactor ，将返回与图像表示最接近的传递值对应的大小。\n\n# image.getScaleFactors()\n\nReturns Float[] - 给定 nativeImage 的表示相对应的所有比例因子的数组\n\n# image.addRepresentation(options)\n\n * 选项 对象\n   * scaleFactor Double - 要添加图像的缩放系数\n   * width Integer (可选) - 默认值为 0. 如果将位图缓冲区指定为buffer, 则为必填项\n   * height Integer (可选) - 默认值为 0. 如果将位图缓冲区指定为buffer, 则为必填项\n   * buffer Buffer (可选) - 包含原始图像数据的缓冲区.\n   * dataURL String (可选) - data URL 可以为 base 64 编码的 PNG 或 JPEG 图像.\n\n为特定比例因子添加图像表示。 这可以用于在图像中明确添加不同的比例因子表示。 这种可以调用在空图像上。\n\n\n# 实例属性\n\n# nativeImage.isMacTemplateImage macOS\n\nBoolean 属性，用于决定图像是否被认为是一个 template image.\n\n请注意，此属性仅对 macOS 有影响。",normalizedContent:"# nativeimage\n\n> 使用 png 或 jpg 文件创建托盘、dock和应用程序图标。\n\n进程： main, renderer\n\n在 electron 内, 那些需要图片的 api 可以传递两种参数, 一种是文件路径, 一种是 nativeimage 实例对象。 空的图片对象将被 null 参数替代\n\n例如, 创建托盘或设置窗口图标时, 你可以传递 string 格式的图片路径\n\nconst { browserwindow, tray } = require('electron')\n\nconst appicon = new tray('/users/somebody/images/icon.png')\nconst win = new browserwindow({ icon: '/users/somebody/images/window.png' })\nconsole.log(appicon, win)\n\n\n1\n2\n3\n4\n5\n\n\n或者从粘贴板读取图片，将返回 nativeimage 对象：\n\nconst { clipboard, tray } = require('electron')\nconst image = clipboard.readimage()\nconst appicon = new tray(image)\nconsole.log(appicon)\n\n\n1\n2\n3\n4\n\n\n\n# 支持的格式\n\n当前只支持 png 和 jpeg 格式， 推荐使用 png ，因为这种格式支持透明和无损压缩\n\n在 windows 平台下, 你同样可以从文件路径中加载ico 格式的 icons 对象。 为了达到最佳观看效果，推荐至少包含以下大小的图片尺寸：\n\n * 小图标\n   * 16x16 (100% dpi scale)\n   * 20x20 (125% dpi scale)\n   * 24x24 (150% dpi scale)\n   * 32x32 (200% dpi scale)\n * 大图标\n   * 32x32 (100% dpi scale)\n   * 40x40 (125% dpi scale)\n   * 48x48 (150% dpi scale)\n   * 64x64 (200% dpi scale)\n   * 256x256\n\n在这篇文章中查看 尺寸说明 的章节\n\n\n# 高分辨率\n\n在具有高 dpi 支持的平台 (如 apple 视网膜显示器) 上, 可以在图像的基本文件名之后追加 @ 2x 以将其标记为高分辨率图像。\n\n比如， 如果 icon.png 是一个普通的标准分辨率的图片，而 icon@2x.png 将被视为具有两倍dpi密度的高分辨率图像\n\n如果您想同时支持不同的dpi密度显示，您可以将不同大小的图像放置在同一文件夹中，并使用文件名而不需要dpi 后缀。 例如：\n\nimages/\n├── icon.png\n├── icon@2x.png\n└── icon@3x.png\n\n\n1\n2\n3\n4\n\n\nconst { tray } = require('electron')\nconst appicon = new tray('/users/somebody/images/icon.png')\nconsole.log(appicon)\n\n\n1\n2\n3\n\n\n还支持以下dpi的后缀：\n\n * @1x\n * @1.25x\n * @1.33x\n * @1.4x\n * @1.5x\n * @1.8x\n * @2x\n * @2.5x\n * @3x\n * @4x\n * @5x\n\n\n# 模板图片\n\n模板图像由黑色和透明通道组成。 模板图片不是单独使用的, 它通常与其他内容混合以创建期望的最终效果\n\n最常见的情况是使用模板图像作为菜单栏图标，因此它可以适应浅色和深色菜单栏。\n\n** 注意: **仅在 macos 上支持template image。\n\n要将图像标记为模板图像，其文件名应以 template 一词结尾。 例如：\n\n * xxxtemplate.png\n * xxxtemplate@2x.png\n\n\n# 方法\n\nnativeimage 模块具有以下方法, 它们都返回 nativeimage 类的实例:\n\n\n# nativeimage.createempty()\n\n返回 nativeimage\n\n创建一个空的 nativeimage 实例。\n\n\n# nativeimage.createthumbnailfrompath(path, maxsize) macos windows\n\n * path string - 打算用来构建缩略图的文件路径\n * maxsize size - 返回缩略图的最大宽度和高度(正数)。 在 windows 平台下将忽略 maxsize.height 并根据 maxsize.width 缩放高度\n\n返回 promise<nativeimage> - 文件的缩略图预览图像，包含类型是 nativeimage\n\n\n# nativeimage.createfrompath(path)\n\n * path string\n\n返回 nativeimage\n\n从位于 path 的文件创建新的 nativeimage 实例。 如果 path 不存在，，无法读取或不是有效图像，方法将返回空图像, 。\n\nconst nativeimage = require('electron').nativeimage\n\nconst image = nativeimage.createfrompath('/users/somebody/images/icon.png')\nconsole.log(image)\n\n\n1\n2\n3\n4\n\n\n\n# nativeimage.createfrombitmap(buffer, options)\n\n * buffer buffer\n * 选项 对象\n   * width integer\n   * height integer\n   * scalefactor double (可选) - 默认1.0\n\n返回 nativeimage\n\n从 buffer 中创建一个新的 nativeimage 实例，其中包含由 tobitmap()返回的原始位图 像素数据。 具体格式取决于平台。\n\n\n# nativeimage.createfrombuffer(buffer[, options])\n\n * buffer buffer\n * options object (可选)\n   * width integer (可选) - 位图缓冲器所必需\n   * height integer (可选) - 位图缓冲器所必需\n   * scalefactor double (可选) - 默认1.0\n\n返回 nativeimage\n\n从 buffer 创建新的 nativeimage 实例。 尝试先解码为 png 或 jpeg\n\n\n# nativeimage.createfromdataurl(dataurl)\n\n * dataurl string\n\n返回 nativeimage\n\n从 dataurl 创建新的 nativeimage 实例。\n\n\n# nativeimage.createfromnamedimage(imagename[, hslshift]) macos\n\n * imagename string\n * hslshift number[] (可选)\n\n返回 nativeimage\n\n从映射到给定图像名称的 nsimage 创建一个 nativeimage 实例。 可用值列表详见 system icons\n\n使用以下规则将hslshift应用于图像:\n\n * hsl_shift[0] (色调): 图像的绝对色调值，0 和1 映射到 0和360，在色环上 (红色)。\n * hsl_shift[1] (饱和度): 图像的饱和度调值， 以下关键值： 0 = 删除所有颜色。 0.5 = 保持不变。 1 = 图像完全饱和\n * hsl_shift[2] (亮度): 图像的亮度调值, 可以为下列值: 0 = 移除所有亮度 (所有像素点设置为黑色). 0.5 = 保持不变。 1 = 全亮 (所有像素点设置为白色)。\n\n这意味着 [-1, 0, 1] 将使图像完全变白，[-1, 1, 0]将使图像完全变黑.\n\n在某些情况下， nsimagename 与其字符串表示并不匹配：其中一个例子是 nsfolderimagename，它的字符串表示实际上将是 nsfolder。 因此，您需要在传递图像之前确定正确的字符串表示方式。 可以像下面这样做：\n\necho -e '#import <cocoa/cocoa.h>\\nint main() { nslog(@\"%@\", system_image_name); }' | clang -otest -x objective-c -framework cocoa - && ./test\n\n其中 system_image_name 应替换为 this list里面的值\n\n\n# 类: nativeimage\n\n> 本机图像，如托盘、dock栏和应用图标。\n\nprocess: main, renderer\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# 实例方法\n\n以下方法可用于 nativeimage 类的实例:\n\n# image.topng([options])\n\n * options object (可选)\n   * scalefactor double (可选) - 默认1.0\n\n返回 buffer-一个包含图像 png 编码数据的 buffer 。\n\n# image.tojpeg(quality)\n\n * quality integer - 在 0 - 100 之间\n\n返回 buffer-一个包含图像 jpeg 编码数据的 buffer 。\n\n# image.tobitmap([options])\n\n * options object (可选)\n   * scalefactor double (可选) - 默认1.0\n\n返回 buffer-一个包含图像的原始位图像素数据副本的 buffer 。\n\n# image.todataurl([options])\n\n * options object (可选)\n   * scalefactor double (可选) - 默认1.0\n\n返回 string-图像的数据 url。\n\n# image.getbitmap([options])\n\n * options object (可选)\n   * scalefactor double (可选) - 默认1.0\n\n返回 buffer-一个包含图像原始位图像素数据的 buffer 。\n\ngetbitmap() 和 tobitmap() 的不同之处在于，<code>getbitmap() 不会拷贝位图数据，所以你必须在返回 buffer 后立刻使用它，否则数据可能会被更改或销毁\n\n# image.getnativehandle() macos\n\n返回 buffer-一个 buffer , 它将 c 指针存储在图像的基础本机句柄上。 在 macos 上, 将返回指向 nsimage 实例的指针。\n\n请注意, 返回的指针是指向基础本机映像而不是副本的弱指针, 因此 _ 必须 _ 确保关联的 nativeimage 实例保留在周围。\n\n# image.isempty()\n\n返回 boolean-图像是否为空。\n\n# image.getsize([scalefactor])\n\n * scalefactor double (可选) - 默认1.0\n\nreturns size.\n\n如果传递了 scalefactor ，将返回与图像表示最接近的传递值对应的大小。\n\n# image.settemplateimage(option)\n\n * option boolean\n\n将图像标记为模板图像。\n\n# image.istemplateimage()\n\n返回 boolean-图像是否为模板图像。\n\n# image.crop(rect)\n\n * rect rectangle -要裁剪的图像区域.\n\n返回 nativeimage-裁剪的图像。\n\n# image.resize(options)\n\n * 选项 对象\n   * width integer (可选) - 默认值为图片宽度\n   * height integer (可选) - 默认值为图片高度.\n   * quality string (optional) 所要设置的图片质量。 可能的值为 good、better 或 best。 默认值为best. 这些值表示期望的 质量/速度 的权衡。 他们被转换为某个特定算法, 取决于基础平台的能力 (cpu, gpu)。 这三种方法都可以在指定的平台上映射到相同的算法。\n\n返回 nativeimage-裁剪的图像。\n\n如果只指定height或width，那么当前的长宽比将保留在缩放图像中。\n\n# image.getaspectratio([scalefactor])\n\n * scalefactor double (可选) - 默认1.0\n\n返回 float - 图像的长宽比.\n\n如果传递了 scalefactor ，将返回与图像表示最接近的传递值对应的大小。\n\n# image.getscalefactors()\n\nreturns float[] - 给定 nativeimage 的表示相对应的所有比例因子的数组\n\n# image.addrepresentation(options)\n\n * 选项 对象\n   * scalefactor double - 要添加图像的缩放系数\n   * width integer (可选) - 默认值为 0. 如果将位图缓冲区指定为buffer, 则为必填项\n   * height integer (可选) - 默认值为 0. 如果将位图缓冲区指定为buffer, 则为必填项\n   * buffer buffer (可选) - 包含原始图像数据的缓冲区.\n   * dataurl string (可选) - data url 可以为 base 64 编码的 png 或 jpeg 图像.\n\n为特定比例因子添加图像表示。 这可以用于在图像中明确添加不同的比例因子表示。 这种可以调用在空图像上。\n\n\n# 实例属性\n\n# nativeimage.ismactemplateimage macos\n\nboolean 属性，用于决定图像是否被认为是一个 template image.\n\n请注意，此属性仅对 macos 有影响。",charsets:{cjk:!0}},{title:"native-theme",frontmatter:{title:"native-theme",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/b3588c/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/native-theme.html",relativePath:"《Electron中文文档》/api/native-theme.md",key:"v-3ca7fbf6",path:"/pages/b3588c/",headers:[{level:2,title:"事件",slug:"事件",normalizedTitle:"事件",charIndex:54},{level:3,title:"事件名: 'updated'",slug:"事件名-updated",normalizedTitle:"事件名: 'updated'",charIndex:83},{level:2,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:113},{level:3,title:"nativeTheme.shouldUseDarkColors 只读",slug:"nativetheme-shouldusedarkcolors-只读",normalizedTitle:"nativetheme.shouldusedarkcolors 只读",charIndex:263},{level:3,title:"nativeTheme.themeSource",slug:"nativetheme-themesource",normalizedTitle:"nativetheme.themesource",charIndex:415},{level:3,title:"nativeTheme.shouldUseHighContrastColors macOS Windows Readonly",slug:"nativetheme-shouldusehighcontrastcolors-macos-windows-readonly",normalizedTitle:"nativetheme.shouldusehighcontrastcolors macos windows readonly",charIndex:1931},{level:3,title:"nativeTheme.shouldUseInvertedColorScheme macOS Windows Readonly",slug:"nativetheme-shoulduseinvertedcolorscheme-macos-windows-readonly",normalizedTitle:"nativetheme.shoulduseinvertedcolorscheme macos windows readonly",charIndex:2126}],headersStr:"事件 事件名: 'updated' 属性 nativeTheme.shouldUseDarkColors 只读 nativeTheme.themeSource nativeTheme.shouldUseHighContrastColors macOS Windows Readonly nativeTheme.shouldUseInvertedColorScheme macOS Windows Readonly",content:"# nativeTheme\n\n> 读取并响应Chromium本地色彩主题中的变化。\n\n进程：主进程\n\n\n# 事件\n\nnativeTheme模块包括以下事件：\n\n\n# 事件名: 'updated'\n\n当以下NativeTheme属性发生变化时会触发此事件： shouldUseDarkColors, shouldUseHighContrastColors或shouldUseInvertedColorScheme 。 你需要自己检查到底是哪个属性发生了变化。\n\n\n# 属性\n\nnativeTheme 模块具备以下属性：\n\n\n# nativeTheme.shouldUseDarkColors 只读\n\n此属性的值为一个 Boolean 类型的值，代表着当前OS / Chromium是否正处于dark模式。或者应用程序是否正被建议使用dark模式的皮肤 如果你希望修改此属性的值，你应该使用下面的 themeSource属性\n\n\n# nativeTheme.themeSource\n\n一个类型为String的属性，此属性可能的值为：system, light or dark. It is used to override and supersede the value that Chromium has chosen to use internally.\n\nSetting this property to system will remove the override and everything will be reset to the OS default. By default themeSource is system.\n\nSettings this property to dark will have the following effects:\n\n * nativeTheme.shouldUseDarkColors will be true when accessed\n * Any UI Electron renders on Linux and Windows including context menus, devtools, etc. will use the dark UI.\n * Any UI the OS renders on macOS including menus, window frames, etc. will use the dark UI.\n * The prefers-color-scheme CSS query will match dark mode.\n * The updated event will be emitted\n\nSettings this property to light will have the following effects:\n\n * nativeTheme.shouldUseDarkColors will be false when accessed\n * Any UI Electron renders on Linux and Windows including context menus, devtools, etc. will use the light UI.\n * Any UI the OS renders on macOS including menus, window frames, etc. will use the light UI.\n * The prefers-color-scheme CSS query will match light mode.\n * The updated event will be emitted\n\nThe usage of this property should align with a classic \"dark mode\" state machine in your application where the user has three options.\n\n * Follow OS --\x3e themeSource = 'system'\n * Dark Mode --\x3e themeSource = 'dark'\n * Light Mode --\x3e themeSource = 'light'\n\nYour application should then always use shouldUseDarkColors to determine what CSS to apply.\n\n\n# nativeTheme.shouldUseHighContrastColors macOS Windows Readonly\n\nA Boolean for if the OS / Chromium currently has high-contrast mode enabled or is being instructed to show a high-contrast UI.\n\n\n# nativeTheme.shouldUseInvertedColorScheme macOS Windows Readonly\n\nA Boolean for if the OS / Chromium currently has an inverted color scheme or is being instructed to use an inverted color scheme.",normalizedContent:"# nativetheme\n\n> 读取并响应chromium本地色彩主题中的变化。\n\n进程：主进程\n\n\n# 事件\n\nnativetheme模块包括以下事件：\n\n\n# 事件名: 'updated'\n\n当以下nativetheme属性发生变化时会触发此事件： shouldusedarkcolors, shouldusehighcontrastcolors或shoulduseinvertedcolorscheme 。 你需要自己检查到底是哪个属性发生了变化。\n\n\n# 属性\n\nnativetheme 模块具备以下属性：\n\n\n# nativetheme.shouldusedarkcolors 只读\n\n此属性的值为一个 boolean 类型的值，代表着当前os / chromium是否正处于dark模式。或者应用程序是否正被建议使用dark模式的皮肤 如果你希望修改此属性的值，你应该使用下面的 themesource属性\n\n\n# nativetheme.themesource\n\n一个类型为string的属性，此属性可能的值为：system, light or dark. it is used to override and supersede the value that chromium has chosen to use internally.\n\nsetting this property to system will remove the override and everything will be reset to the os default. by default themesource is system.\n\nsettings this property to dark will have the following effects:\n\n * nativetheme.shouldusedarkcolors will be true when accessed\n * any ui electron renders on linux and windows including context menus, devtools, etc. will use the dark ui.\n * any ui the os renders on macos including menus, window frames, etc. will use the dark ui.\n * the prefers-color-scheme css query will match dark mode.\n * the updated event will be emitted\n\nsettings this property to light will have the following effects:\n\n * nativetheme.shouldusedarkcolors will be false when accessed\n * any ui electron renders on linux and windows including context menus, devtools, etc. will use the light ui.\n * any ui the os renders on macos including menus, window frames, etc. will use the light ui.\n * the prefers-color-scheme css query will match light mode.\n * the updated event will be emitted\n\nthe usage of this property should align with a classic \"dark mode\" state machine in your application where the user has three options.\n\n * follow os --\x3e themesource = 'system'\n * dark mode --\x3e themesource = 'dark'\n * light mode --\x3e themesource = 'light'\n\nyour application should then always use shouldusedarkcolors to determine what css to apply.\n\n\n# nativetheme.shouldusehighcontrastcolors macos windows readonly\n\na boolean for if the os / chromium currently has high-contrast mode enabled or is being instructed to show a high-contrast ui.\n\n\n# nativetheme.shoulduseinvertedcolorscheme macos windows readonly\n\na boolean for if the os / chromium currently has an inverted color scheme or is being instructed to use an inverted color scheme.",charsets:{cjk:!0}},{title:"net-log",frontmatter:{title:"net-log",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/81d8f0/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/net-log.html",relativePath:"《Electron中文文档》/api/net-log.md",key:"v-a76ba9dc",path:"/pages/81d8f0/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:368},{level:3,title:"netLog.startLogging(path[, options])",slug:"netlog-startlogging-path-options",normalizedTitle:"netlog.startlogging(path[, options])",charIndex:415},{level:3,title:"netLog.stopLogging()",slug:"netlog-stoplogging",normalizedTitle:"netlog.stoplogging()",charIndex:234},{level:2,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:1212},{level:3,title:"netLog.currentlyLogging 只读",slug:"netlog-currentlylogging-只读",normalizedTitle:"netlog.currentlylogging 只读",charIndex:1219}],headersStr:"方法 netLog.startLogging(path[, options]) netLog.stopLogging() 属性 netLog.currentlyLogging 只读",content:"# netLog\n\n> Logging network events for a session.\n\n进程：主进程\n\nconst { netLog } = require('electron')\n\napp.whenReady().then(async () => {\n  await netLog.startLogging('/path/to/net-log')\n  // After some network events\n  const path = await netLog.stopLogging()\n  console.log('Net-logs written to', path)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n查看 --log-net-log 记录应用生命周期的网络事件。\n\n** 注意: **除了指定的方法, 其他方法只能在 app 模块的 ready 事件被触发后使用。\n\n\n# 方法\n\n\n# netLog.startLogging(path[, options])\n\n * path String - 记录网络日志的文件路径。\n * options Object (可选)\n   * captureMode String (optional) - What kinds of data should be captured. By default, only metadata about requests will be captured. Setting this to includeSensitive will include cookies and authentication data. Setting it to everything will include all bytes transferred on sockets. Can be default, includeSensitive or everything.\n   * maxFileSize Number (optional) - When the log grows beyond this size, logging will automatically stop. Defaults to unlimited.\n\nReturns Promise<void> - resolves when the net log has begun recording.\n\n开始记录网络事件日志到 path。\n\n\n# netLog.stopLogging()\n\nReturns Promise<void> - resolves when the net log has been flushed to disk.\n\n停止网络事件日志的记录。 如果未被调用，net 记录将自动结束当 app 退出的时候。\n\n\n# 属性\n\n\n# netLog.currentlyLogging 只读\n\nA Boolean property that indicates whether network logs are currently being recorded.",normalizedContent:"# netlog\n\n> logging network events for a session.\n\n进程：主进程\n\nconst { netlog } = require('electron')\n\napp.whenready().then(async () => {\n  await netlog.startlogging('/path/to/net-log')\n  // after some network events\n  const path = await netlog.stoplogging()\n  console.log('net-logs written to', path)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n查看 --log-net-log 记录应用生命周期的网络事件。\n\n** 注意: **除了指定的方法, 其他方法只能在 app 模块的 ready 事件被触发后使用。\n\n\n# 方法\n\n\n# netlog.startlogging(path[, options])\n\n * path string - 记录网络日志的文件路径。\n * options object (可选)\n   * capturemode string (optional) - what kinds of data should be captured. by default, only metadata about requests will be captured. setting this to includesensitive will include cookies and authentication data. setting it to everything will include all bytes transferred on sockets. can be default, includesensitive or everything.\n   * maxfilesize number (optional) - when the log grows beyond this size, logging will automatically stop. defaults to unlimited.\n\nreturns promise<void> - resolves when the net log has begun recording.\n\n开始记录网络事件日志到 path。\n\n\n# netlog.stoplogging()\n\nreturns promise<void> - resolves when the net log has been flushed to disk.\n\n停止网络事件日志的记录。 如果未被调用，net 记录将自动结束当 app 退出的时候。\n\n\n# 属性\n\n\n# netlog.currentlylogging 只读\n\na boolean property that indicates whether network logs are currently being recorded.",charsets:{cjk:!0}},{title:"net",frontmatter:{title:"net",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/a4688b/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/net.html",relativePath:"《Electron中文文档》/api/net.md",key:"v-763da300",path:"/pages/a4688b/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:1188},{level:3,title:"net.request(options)",slug:"net-request-options",normalizedTitle:"net.request(options)",charIndex:1210},{level:3,title:"net.isOnline()",slug:"net-isonline",normalizedTitle:"net.isonline()",charIndex:1512},{level:2,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:1886},{level:3,title:"net.online 只读",slug:"net-online-只读",normalizedTitle:"net.online 只读",charIndex:1893}],headersStr:"方法 net.request(options) net.isOnline() 属性 net.online 只读",content:"# net\n\n> 使用Chromium的原生网络库发出HTTP / HTTPS请求\n\n进程：主进程\n\nnet 模块是一个发送 HTTP(S) 请求的客户端API。 它类似于Node.js的HTTP 和 HTTPS 模块 ，但它使用的是Chromium原生网络库来替代Node.js的实现，提供更好的网络代理支持。 它还支持检查网络状态。\n\n下面是一个非详尽的列表, 用于说明为什么使用 net 模块而不是原生Node. js 模块:\n\n * 系统代理配置的自动管理, 支持 wpad 协议和代理 pac 配置文件。\n * HTTPS 请求的自动隧道。\n * 支持使用basic、digest、NTLM、Kerberos 或协商身份验证方案对代理进行身份验证。\n * 支持传输监控代理: 类似于Fiddler代理，用于访问控制和监视。\n\nThe API components (including classes, methods, properties and event names) are similar to those used in Node.js.\n\nExample usage:\n\nconst { app } = require('electron')\napp.whenReady().then(() => {\n  const { net } = require('electron')\n  const request = net.request('https://github.com')\n  request.on('response', (response) => {\n    console.log(`STATUS: ${response.statusCode}`)\n    console.log(`HEADERS: ${JSON.stringify(response.headers)}`)\n    response.on('data', (chunk) => {\n      console.log(`BODY: ${chunk}`)\n    })\n    response.on('end', () => {\n      console.log('No more data in response.')\n    })\n  })\n  request.end()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nThe net API can be used only after the application emits the ready event. Trying to use the module before the ready event will throw an error.\n\n\n# 方法\n\nnet 模块具有以下方法:\n\n\n# net.request(options)\n\n * options (ClientRequestConstructorOptions | String) - The ClientRequest constructor options.\n\n返回 ClientRequest\n\n使用 options 创建 ClientRequest 实例, 这些选项直接转发到 ClientRequest 的构造函数。 net.request 方法将根据 options 对象中的指定协议方案, 去发送安全和不安全的 HTTP 请求（ both secure and insecure HTTP requests）。\n\n\n# net.isOnline()\n\nReturns Boolean - Whether there is currently internet connection.\n\nA return value of false is a pretty strong indicator that the user won't be able to connect to remote sites. However, a return value of true is inconclusive; even if some link is up, it is uncertain whether a particular connection attempt to a particular remote site will be successful.\n\n\n# 属性\n\n\n# net.online 只读\n\nA Boolean property. Whether there is currently internet connection.\n\nA return value of false is a pretty strong indicator that the user won't be able to connect to remote sites. However, a return value of true is inconclusive; even if some link is up, it is uncertain whether a particular connection attempt to a particular remote site will be successful.",normalizedContent:"# net\n\n> 使用chromium的原生网络库发出http / https请求\n\n进程：主进程\n\nnet 模块是一个发送 http(s) 请求的客户端api。 它类似于node.js的http 和 https 模块 ，但它使用的是chromium原生网络库来替代node.js的实现，提供更好的网络代理支持。 它还支持检查网络状态。\n\n下面是一个非详尽的列表, 用于说明为什么使用 net 模块而不是原生node. js 模块:\n\n * 系统代理配置的自动管理, 支持 wpad 协议和代理 pac 配置文件。\n * https 请求的自动隧道。\n * 支持使用basic、digest、ntlm、kerberos 或协商身份验证方案对代理进行身份验证。\n * 支持传输监控代理: 类似于fiddler代理，用于访问控制和监视。\n\nthe api components (including classes, methods, properties and event names) are similar to those used in node.js.\n\nexample usage:\n\nconst { app } = require('electron')\napp.whenready().then(() => {\n  const { net } = require('electron')\n  const request = net.request('https://github.com')\n  request.on('response', (response) => {\n    console.log(`status: ${response.statuscode}`)\n    console.log(`headers: ${json.stringify(response.headers)}`)\n    response.on('data', (chunk) => {\n      console.log(`body: ${chunk}`)\n    })\n    response.on('end', () => {\n      console.log('no more data in response.')\n    })\n  })\n  request.end()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nthe net api can be used only after the application emits the ready event. trying to use the module before the ready event will throw an error.\n\n\n# 方法\n\nnet 模块具有以下方法:\n\n\n# net.request(options)\n\n * options (clientrequestconstructoroptions | string) - the clientrequest constructor options.\n\n返回 clientrequest\n\n使用 options 创建 clientrequest 实例, 这些选项直接转发到 clientrequest 的构造函数。 net.request 方法将根据 options 对象中的指定协议方案, 去发送安全和不安全的 http 请求（ both secure and insecure http requests）。\n\n\n# net.isonline()\n\nreturns boolean - whether there is currently internet connection.\n\na return value of false is a pretty strong indicator that the user won't be able to connect to remote sites. however, a return value of true is inconclusive; even if some link is up, it is uncertain whether a particular connection attempt to a particular remote site will be successful.\n\n\n# 属性\n\n\n# net.online 只读\n\na boolean property. whether there is currently internet connection.\n\na return value of false is a pretty strong indicator that the user won't be able to connect to remote sites. however, a return value of true is inconclusive; even if some link is up, it is uncertain whether a particular connection attempt to a particular remote site will be successful.",charsets:{cjk:!0}},{title:"notification",frontmatter:{title:"notification",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d61d2a/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/notification.html",relativePath:"《Electron中文文档》/api/notification.md",key:"v-4cf8aa14",path:"/pages/d61d2a/",headers:[{level:2,title:"在渲染进程中使用",slug:"在渲染进程中使用",normalizedTitle:"在渲染进程中使用",charIndex:35},{level:2,title:"类: Notification",slug:"类-notification",normalizedTitle:"类: notification",charIndex:94},{level:3,title:"静态方法",slug:"静态方法",normalizedTitle:"静态方法",charIndex:207},{level:4,title:"Notification.isSupported()",slug:"notification-issupported",normalizedTitle:"notification.issupported()",charIndex:239},{level:3,title:"new Notification([options])",slug:"new-notification-options",normalizedTitle:"new notification([options])",charIndex:300},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:1605},{level:4,title:"事件: 'show'",slug:"事件-show",normalizedTitle:"事件: 'show'",charIndex:1686},{level:4,title:"事件: 'click'",slug:"事件-click",normalizedTitle:"事件: 'click'",charIndex:1776},{level:4,title:"事件： 'close'",slug:"事件-close",normalizedTitle:"事件： 'close'",charIndex:1825},{level:4,title:"事件: 'reply' macOS",slug:"事件-reply-macos",normalizedTitle:"事件: 'reply' macos",charIndex:1903},{level:4,title:"事件: 'action' macOS",slug:"事件-action-macos",normalizedTitle:"事件: 'action' macos",charIndex:2021},{level:4,title:"Event: 'failed' Windows",slug:"event-failed-windows",normalizedTitle:"event: 'failed' windows",charIndex:2093},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:2311},{level:4,title:"notification.show()",slug:"notification-show",normalizedTitle:"notification.show()",charIndex:2352},{level:4,title:"notification.close()",slug:"notification-close",normalizedTitle:"notification.close()",charIndex:2526},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:2559},{level:4,title:"notification.title",slug:"notification-title",normalizedTitle:"notification.title",charIndex:2567},{level:4,title:"notification.subtitle",slug:"notification-subtitle",normalizedTitle:"notification.subtitle",charIndex:2652},{level:4,title:"notification.body",slug:"notification-body",normalizedTitle:"notification.body",charIndex:2743},{level:4,title:"notification.replyPlaceholder",slug:"notification-replyplaceholder",normalizedTitle:"notification.replyplaceholder",charIndex:2826},{level:4,title:"notification.sound",slug:"notification-sound",normalizedTitle:"notification.sound",charIndex:2934},{level:4,title:"notification.closeButtonText",slug:"notification-closebuttontext",normalizedTitle:"notification.closebuttontext",charIndex:3019},{level:4,title:"notification.silent",slug:"notification-silent",normalizedTitle:"notification.silent",charIndex:3126},{level:4,title:"notification.hasReply",slug:"notification-hasreply",normalizedTitle:"notification.hasreply",charIndex:3218},{level:4,title:"notification.urgency Linux",slug:"notification-urgency-linux",normalizedTitle:"notification.urgency linux",charIndex:3321},{level:4,title:"notification.timeoutType Linux Windows",slug:"notification-timeouttype-linux-windows",normalizedTitle:"notification.timeouttype linux windows",charIndex:3521},{level:4,title:"notification.actions",slug:"notification-actions",normalizedTitle:"notification.actions",charIndex:3801},{level:4,title:"notification.toastXml Windows",slug:"notification-toastxml-windows",normalizedTitle:"notification.toastxml windows",charIndex:3904},{level:3,title:"播放声音",slug:"播放声音",normalizedTitle:"播放声音",charIndex:4012}],headersStr:"在渲染进程中使用 类: Notification 静态方法 Notification.isSupported() new Notification([options]) 实例事件 事件: 'show' 事件: 'click' 事件： 'close' 事件: 'reply' macOS 事件: 'action' macOS Event: 'failed' Windows 实例方法 notification.show() notification.close() 实例属性 notification.title notification.subtitle notification.body notification.replyPlaceholder notification.sound notification.closeButtonText notification.silent notification.hasReply notification.urgency Linux notification.timeoutType Linux Windows notification.actions notification.toastXml Windows 播放声音",content:"# 通知\n\n> 创建OS(操作系统)桌面通知\n\n进程：主进程\n\n\n# 在渲染进程中使用\n\n如果要显示来自渲染进程的通知, 你应该使用 HTML5 Notification API\n\n\n# 类: Notification\n\n> 创建OS(操作系统)桌面通知\n\n进程：主进程\n\nNotification是一个EventEmitter.\n\n通过 options 来设置的一个新的原生 Notification。\n\n\n# 静态方法\n\nNotification 类有以下静态方法：\n\n# Notification.isSupported()\n\nReturns Boolean-当前系统是否支持桌面通知\n\n\n# new Notification([options])\n\n * options Object (可选)\n   * title String (optional) - A title for the notification, which will be shown at the top of the notification window when it is shown.\n   * subtitleString (可选) 通知的副标题, 显示在标题下面。_ macOS _\n   * body String (optional) - The body text of the notification, which will be displayed below the title or subtitle.\n   * silentBoolean (可选) 在显示通知时是否发出系统提示音。\n   * icon(String | NativeImage ) (可选) 用于在该通知上显示的图标。\n   * hasReplyBoolean (可选) 是否在通知中添加一个答复选项。 _ macOS _\n   * timeoutType String (optional) Linux Windows - The timeout duration of the notification. Can be 'default' or 'never'.\n   * replyPlaceholderString (可选) 答复输入框中的占位符。_ macOS _\n   * soundString (可选) 显示通知时播放的声音文件的名称。_ macOS _\n   * urgency String (optional) Linux - The urgency level of the notification. Can be 'normal', 'critical', or 'low'.\n   * actions NotificationAction[] (可选) macOS - 要添加到通知中的操作 请阅读 NotificationAction文档来了解可用的操作和限制。\n   * closeButtonText String (optional) macOS - A custom title for the close button of an alert. An empty string will cause the default localized text to be used.\n   * toastXml String (optional) Windows - A custom description of the Notification on Windows superseding all properties above. Provides full customization of design and behavior of the notification.\n\n\n# 实例事件\n\n用 new Notification 创建的对象触发以下事件：\n\n** 注意: **某些事件仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n# 事件: 'show'\n\n返回:\n\n * event Event\n\n当通知向用户显示时触发, 请注意, 这可能会多次触发, 因为「通知」可以通过 show() 方法多次显示。\n\n# 事件: 'click'\n\n返回:\n\n * event Event\n\n在用户单击通知时触发。\n\n# 事件： 'close'\n\n返回:\n\n * event Event\n\n当用户手动关闭通知时触发\n\n当通知关闭后，这个事件不能保证在所有情况下都会触发。\n\n# 事件: 'reply' macOS\n\n返回:\n\n * event Event\n * replyString-用户在内联答复字段中输入的字符串.\n\n当用户单击 hasReply: true 的通知上的 \"Reply\" 按钮时触发。\n\n# 事件: 'action' macOS\n\n返回:\n\n * event Event\n * index Number - 已激活的操作的索引.\n\n# Event: 'failed' Windows\n\n返回:\n\n * event Event\n * error String - The error encountered during execution of the show() method.\n\nEmitted when an error is encountered while creating and showing the native notification.\n\n\n# 实例方法\n\n用new Notification 创建的对象有以下实例方法：\n\n# notification.show()\n\n即时向用户展示 notification ，请注意这意味着与HTML5的 Notification 的实现不同，实例化一个new Notification 不会立刻向用户展示， 你需要在系统将要显示它之前调用这个方法\n\n如果以前已显示通知, 则此方法将忽略以前显示的通知，并创建具有相同属性的新通知\n\n# notification.close()\n\n忽略这条通知\n\n\n# 实例属性\n\n# notification.title\n\nA String property representing the title of the notification.\n\n# notification.subtitle\n\nA String property representing the subtitle of the notification.\n\n# notification.body\n\nA String property representing the body of the notification.\n\n# notification.replyPlaceholder\n\nA String property representing the reply placeholder of the notification.\n\n# notification.sound\n\nA String property representing the sound of the notification.\n\n# notification.closeButtonText\n\nA String property representing the close button text of the notification.\n\n# notification.silent\n\nA Boolean property representing whether the notification is silent.\n\n# notification.hasReply\n\nA Boolean property representing whether the notification has a reply action.\n\n# notification.urgency Linux\n\nA String property representing the urgency level of the notification. Can be 'normal', 'critical', or 'low'.\n\nDefault is 'low' - see NotifyUrgency for more information.\n\n# notification.timeoutType Linux Windows\n\nA String property representing the type of timeout duration for the notification. Can be 'default' or 'never'.\n\nIf timeoutType is set to 'never', the notification never expires. It stays open until closed by the calling API or the user.\n\n# notification.actions\n\nA NotificationAction[] property representing the actions of the notification.\n\n# notification.toastXml Windows\n\nA String property representing the custom Toast XML of the notification.\n\n\n# 播放声音\n\n在 macOS 上, 您可以指定在显示通知时要播放的声音的名称。 Any of the default sounds (under System Preferences > Sound) can be used, in addition to custom sound files. 请确保声音文件是在应用程序包(例如, YourApp.app/Contents/Resources) 内存在副本, 或者是下列位置之一:\n\n * ~/Library/Sounds\n * /Library/Sounds\n * /Network/Library/Sounds\n * /System/Library/Sounds\n\n有关详细信息, 请参见 NSSound 文档。",normalizedContent:"# 通知\n\n> 创建os(操作系统)桌面通知\n\n进程：主进程\n\n\n# 在渲染进程中使用\n\n如果要显示来自渲染进程的通知, 你应该使用 html5 notification api\n\n\n# 类: notification\n\n> 创建os(操作系统)桌面通知\n\n进程：主进程\n\nnotification是一个eventemitter.\n\n通过 options 来设置的一个新的原生 notification。\n\n\n# 静态方法\n\nnotification 类有以下静态方法：\n\n# notification.issupported()\n\nreturns boolean-当前系统是否支持桌面通知\n\n\n# new notification([options])\n\n * options object (可选)\n   * title string (optional) - a title for the notification, which will be shown at the top of the notification window when it is shown.\n   * subtitlestring (可选) 通知的副标题, 显示在标题下面。_ macos _\n   * body string (optional) - the body text of the notification, which will be displayed below the title or subtitle.\n   * silentboolean (可选) 在显示通知时是否发出系统提示音。\n   * icon(string | nativeimage ) (可选) 用于在该通知上显示的图标。\n   * hasreplyboolean (可选) 是否在通知中添加一个答复选项。 _ macos _\n   * timeouttype string (optional) linux windows - the timeout duration of the notification. can be 'default' or 'never'.\n   * replyplaceholderstring (可选) 答复输入框中的占位符。_ macos _\n   * soundstring (可选) 显示通知时播放的声音文件的名称。_ macos _\n   * urgency string (optional) linux - the urgency level of the notification. can be 'normal', 'critical', or 'low'.\n   * actions notificationaction[] (可选) macos - 要添加到通知中的操作 请阅读 notificationaction文档来了解可用的操作和限制。\n   * closebuttontext string (optional) macos - a custom title for the close button of an alert. an empty string will cause the default localized text to be used.\n   * toastxml string (optional) windows - a custom description of the notification on windows superseding all properties above. provides full customization of design and behavior of the notification.\n\n\n# 实例事件\n\n用 new notification 创建的对象触发以下事件：\n\n** 注意: **某些事件仅在特定的操作系统上可用, 这些方法会被标记出来。\n\n# 事件: 'show'\n\n返回:\n\n * event event\n\n当通知向用户显示时触发, 请注意, 这可能会多次触发, 因为「通知」可以通过 show() 方法多次显示。\n\n# 事件: 'click'\n\n返回:\n\n * event event\n\n在用户单击通知时触发。\n\n# 事件： 'close'\n\n返回:\n\n * event event\n\n当用户手动关闭通知时触发\n\n当通知关闭后，这个事件不能保证在所有情况下都会触发。\n\n# 事件: 'reply' macos\n\n返回:\n\n * event event\n * replystring-用户在内联答复字段中输入的字符串.\n\n当用户单击 hasreply: true 的通知上的 \"reply\" 按钮时触发。\n\n# 事件: 'action' macos\n\n返回:\n\n * event event\n * index number - 已激活的操作的索引.\n\n# event: 'failed' windows\n\n返回:\n\n * event event\n * error string - the error encountered during execution of the show() method.\n\nemitted when an error is encountered while creating and showing the native notification.\n\n\n# 实例方法\n\n用new notification 创建的对象有以下实例方法：\n\n# notification.show()\n\n即时向用户展示 notification ，请注意这意味着与html5的 notification 的实现不同，实例化一个new notification 不会立刻向用户展示， 你需要在系统将要显示它之前调用这个方法\n\n如果以前已显示通知, 则此方法将忽略以前显示的通知，并创建具有相同属性的新通知\n\n# notification.close()\n\n忽略这条通知\n\n\n# 实例属性\n\n# notification.title\n\na string property representing the title of the notification.\n\n# notification.subtitle\n\na string property representing the subtitle of the notification.\n\n# notification.body\n\na string property representing the body of the notification.\n\n# notification.replyplaceholder\n\na string property representing the reply placeholder of the notification.\n\n# notification.sound\n\na string property representing the sound of the notification.\n\n# notification.closebuttontext\n\na string property representing the close button text of the notification.\n\n# notification.silent\n\na boolean property representing whether the notification is silent.\n\n# notification.hasreply\n\na boolean property representing whether the notification has a reply action.\n\n# notification.urgency linux\n\na string property representing the urgency level of the notification. can be 'normal', 'critical', or 'low'.\n\ndefault is 'low' - see notifyurgency for more information.\n\n# notification.timeouttype linux windows\n\na string property representing the type of timeout duration for the notification. can be 'default' or 'never'.\n\nif timeouttype is set to 'never', the notification never expires. it stays open until closed by the calling api or the user.\n\n# notification.actions\n\na notificationaction[] property representing the actions of the notification.\n\n# notification.toastxml windows\n\na string property representing the custom toast xml of the notification.\n\n\n# 播放声音\n\n在 macos 上, 您可以指定在显示通知时要播放的声音的名称。 any of the default sounds (under system preferences > sound) can be used, in addition to custom sound files. 请确保声音文件是在应用程序包(例如, yourapp.app/contents/resources) 内存在副本, 或者是下列位置之一:\n\n * ~/library/sounds\n * /library/sounds\n * /network/library/sounds\n * /system/library/sounds\n\n有关详细信息, 请参见 nssound 文档。",charsets:{cjk:!0}},{title:"power-monitor",frontmatter:{title:"power-monitor",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/3bc018/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/power-monitor.html",relativePath:"《Electron中文文档》/api/power-monitor.md",key:"v-27586b96",path:"/pages/3bc018/",headers:[{level:2,title:"事件",slug:"事件",normalizedTitle:"事件",charIndex:41},{level:3,title:"Event: 'suspend'",slug:"event-suspend",normalizedTitle:"event: 'suspend'",charIndex:72},{level:3,title:"Event: 'resume'",slug:"event-resume",normalizedTitle:"event: 'resume'",charIndex:104},{level:3,title:"Event: 'on-ac' macOS Windows",slug:"event-on-ac-macos-windows",normalizedTitle:"event: 'on-ac' macos windows",charIndex:135},{level:3,title:"Event: 'on-battery' macOS  Windows",slug:"event-on-battery-macos-windows",normalizedTitle:"event: 'on-battery' macos  windows",charIndex:null},{level:3,title:"Event: 'shutdown' Linux macOS",slug:"event-shutdown-linux-macos",normalizedTitle:"event: 'shutdown' linux macos",charIndex:237},{level:3,title:"Event: 'lock-screen' macOS Windows",slug:"event-lock-screen-macos-windows",normalizedTitle:"event: 'lock-screen' macos windows",charIndex:401},{level:3,title:"Event: 'unlock-screen' macOS Windows",slug:"event-unlock-screen-macos-windows",normalizedTitle:"event: 'unlock-screen' macos windows",charIndex:455},{level:3,title:"事件: 'user-did-groupe-active' macOS",slug:"事件-user-did-groupe-active-macos",normalizedTitle:"事件: 'user-did-groupe-active' macos",charIndex:511},{level:3,title:"事件: 'user-did-resign-active' macOS",slug:"事件-user-did-resign-active-macos",normalizedTitle:"事件: 'user-did-resign-active' macos",charIndex:574},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:637},{level:3,title:"powerMonitor.getSystemIdleState(idleThreshold)",slug:"powermonitor-getsystemidlestate-idlethreshold",normalizedTitle:"powermonitor.getsystemidlestate(idlethreshold)",charIndex:661},{level:3,title:"powerMonitor.getSystemIdleTime()",slug:"powermonitor-getsystemidletime",normalizedTitle:"powermonitor.getsystemidletime()",charIndex:859},{level:3,title:"powerMonitor.isOnBatteryPower()",slug:"powermonitor-isonbatterypower",normalizedTitle:"powermonitor.isonbatterypower()",charIndex:941},{level:2,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:1003},{level:3,title:"powerMonitor.onBatteryPower",slug:"powermonitor-onbatterypower",normalizedTitle:"powermonitor.onbatterypower",charIndex:1048}],headersStr:"事件 Event: 'suspend' Event: 'resume' Event: 'on-ac' macOS Windows Event: 'on-battery' macOS  Windows Event: 'shutdown' Linux macOS Event: 'lock-screen' macOS Windows Event: 'unlock-screen' macOS Windows 事件: 'user-did-groupe-active' macOS 事件: 'user-did-resign-active' macOS 方法 powerMonitor.getSystemIdleState(idleThreshold) powerMonitor.getSystemIdleTime() powerMonitor.isOnBatteryPower() 属性 powerMonitor.onBatteryPower",content:"# powerMonitor\n\n> 监视电源状态的改变。\n\n进程：主进程\n\n\n# 事件\n\npowerMonitor 模块触发以下事件:\n\n\n# Event: 'suspend'\n\n在系统挂起时触发。\n\n\n# Event: 'resume'\n\n在系统恢复时触发。\n\n\n# Event: 'on-ac' macOS Windows\n\n当系统变为交流电源时触发。\n\n\n# Event: 'on-battery' macOS Windows\n\n当系统更改为电池电量时触发。\n\n\n# Event: 'shutdown' Linux macOS\n\n当系统即将重启或关机时触发。 如果事件调用e.preventDefault(), Electron 将会尝试延迟系统关机，以便 app 完全退出。 如果e.preventDefault()被调用，在调用类似 app.quit() 后，app 会很快地退出。\n\n\n# Event: 'lock-screen' macOS Windows\n\n当系统即将锁定屏幕时触发。\n\n\n# Event: 'unlock-screen' macOS Windows\n\n当系统屏幕解锁，立即触发。\n\n\n# 事件: 'user-did-groupe-active' macOS\n\n当应用被激活时发出。 更多信息请访问 文档。\n\n\n# 事件: 'user-did-resign-active' macOS\n\n当应用被激活时发出。 更多信息请访问 文档。\n\n\n# 方法\n\n电源监视器 模块具有以下方法：\n\n\n# powerMonitor.getSystemIdleState(idleThreshold)\n\n * idleThreshold Integer\n\nReturns String - 系统当前状态。 可以被设置为active，idle，locked或者unknown\n\n计算系统空闲状态。 idleThreshold 是闲置之前 (秒内) 的时间量。 locked 仅在支持的系统上可用。\n\n\n# powerMonitor.getSystemIdleTime()\n\nReturns Integer - 几秒钟内的空闲时间\n\n计算系统空闲时间以秒为单位。\n\n\n# powerMonitor.isOnBatteryPower()\n\n返回Boolean，表示系统是否使用电池电源。\n\n要监视此属性的变化，请使用 on-battery 和 on-ac< 事件。\n\n\n# 属性\n\n\n# powerMonitor.onBatteryPower\n\nBoolean 属性。 如果系统处于电池电源状态，则为 true。\n\n参见 powerMonitor.isOnBatteryPower()。",normalizedContent:"# powermonitor\n\n> 监视电源状态的改变。\n\n进程：主进程\n\n\n# 事件\n\npowermonitor 模块触发以下事件:\n\n\n# event: 'suspend'\n\n在系统挂起时触发。\n\n\n# event: 'resume'\n\n在系统恢复时触发。\n\n\n# event: 'on-ac' macos windows\n\n当系统变为交流电源时触发。\n\n\n# event: 'on-battery' macos windows\n\n当系统更改为电池电量时触发。\n\n\n# event: 'shutdown' linux macos\n\n当系统即将重启或关机时触发。 如果事件调用e.preventdefault(), electron 将会尝试延迟系统关机，以便 app 完全退出。 如果e.preventdefault()被调用，在调用类似 app.quit() 后，app 会很快地退出。\n\n\n# event: 'lock-screen' macos windows\n\n当系统即将锁定屏幕时触发。\n\n\n# event: 'unlock-screen' macos windows\n\n当系统屏幕解锁，立即触发。\n\n\n# 事件: 'user-did-groupe-active' macos\n\n当应用被激活时发出。 更多信息请访问 文档。\n\n\n# 事件: 'user-did-resign-active' macos\n\n当应用被激活时发出。 更多信息请访问 文档。\n\n\n# 方法\n\n电源监视器 模块具有以下方法：\n\n\n# powermonitor.getsystemidlestate(idlethreshold)\n\n * idlethreshold integer\n\nreturns string - 系统当前状态。 可以被设置为active，idle，locked或者unknown\n\n计算系统空闲状态。 idlethreshold 是闲置之前 (秒内) 的时间量。 locked 仅在支持的系统上可用。\n\n\n# powermonitor.getsystemidletime()\n\nreturns integer - 几秒钟内的空闲时间\n\n计算系统空闲时间以秒为单位。\n\n\n# powermonitor.isonbatterypower()\n\n返回boolean，表示系统是否使用电池电源。\n\n要监视此属性的变化，请使用 on-battery 和 on-ac< 事件。\n\n\n# 属性\n\n\n# powermonitor.onbatterypower\n\nboolean 属性。 如果系统处于电池电源状态，则为 true。\n\n参见 powermonitor.isonbatterypower()。",charsets:{cjk:!0}},{title:"power-save-blocker",frontmatter:{title:"power-save-blocker",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/513361/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/power-save-blocker.html",relativePath:"《Electron中文文档》/api/power-save-blocker.md",key:"v-35bb83d6",path:"/pages/513361/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:254},{level:3,title:"powerSaveBlocker.start(type)",slug:"powersaveblocker-start-type",normalizedTitle:"powersaveblocker.start(type)",charIndex:289},{level:3,title:"powerSaveBlocker.stop(id)",slug:"powersaveblocker-stop-id",normalizedTitle:"powersaveblocker.stop(id)",charIndex:209},{level:3,title:"powerSaveBlocker.isStarted(id)",slug:"powersaveblocker-isstarted-id",normalizedTitle:"powersaveblocker.isstarted(id)",charIndex:176}],headersStr:"方法 powerSaveBlocker.start(type) powerSaveBlocker.stop(id) powerSaveBlocker.isStarted(id)",content:"# powerSaveBlocker\n\n> 阻止系统进入低功耗 (休眠) 模式。\n\n进程：主进程\n\n例如：\n\nconst { powerSaveBlocker } = require('electron')\n\nconst id = powerSaveBlocker.start('prevent-display-sleep')\nconsole.log(powerSaveBlocker.isStarted(id))\n\npowerSaveBlocker.stop(id)\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 方法\n\npowerSaveBlocker 模块具有以下方法:\n\n\n# powerSaveBlocker.start(type)\n\n * type String - Power save blocker type.\n   * prevent-app-suspension - Prevent the application from being suspended. Keeps system active but allows screen to be turned off. Example use cases: downloading a file or playing audio.\n   * prevent-display-sleep - Prevent the display from going to sleep. Keeps system and screen active. Example use case: playing video.\n\nReturns Integer-指派给此电源拦截器的 id.\n\nStarts preventing the system from entering lower-power mode. Returns an integer identifying the power save blocker.\n\n** 注意: **prevent-display-sleep 比 prevent-app-suspension 具有更高的优先级。 只有最高优先类型才能生效。 换言之, prevent-display-sleep 始终优先于 prevent-app-suspension。\n\n例如, 一个 API 调用A的类型是 prevent-app-suspension, 另一个调用B的类型是 prevent-display-sleep。 prevent-display-sleep 一直生效，直到 B 停止请求， 之后，prevent-app-suspension才生效。\n\n\n# powerSaveBlocker.stop(id)\n\n * id Integer 由powerSaveBlocker.start 返回的拦截器 id。\n\n停止指定的省电拦截器。\n\n\n# powerSaveBlocker.isStarted(id)\n\n * id Integer 由powerSaveBlocker.start 返回的拦截器 id。\n\nReturns Boolean指定的powerSaveBlocker是否已启动。",normalizedContent:"# powersaveblocker\n\n> 阻止系统进入低功耗 (休眠) 模式。\n\n进程：主进程\n\n例如：\n\nconst { powersaveblocker } = require('electron')\n\nconst id = powersaveblocker.start('prevent-display-sleep')\nconsole.log(powersaveblocker.isstarted(id))\n\npowersaveblocker.stop(id)\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 方法\n\npowersaveblocker 模块具有以下方法:\n\n\n# powersaveblocker.start(type)\n\n * type string - power save blocker type.\n   * prevent-app-suspension - prevent the application from being suspended. keeps system active but allows screen to be turned off. example use cases: downloading a file or playing audio.\n   * prevent-display-sleep - prevent the display from going to sleep. keeps system and screen active. example use case: playing video.\n\nreturns integer-指派给此电源拦截器的 id.\n\nstarts preventing the system from entering lower-power mode. returns an integer identifying the power save blocker.\n\n** 注意: **prevent-display-sleep 比 prevent-app-suspension 具有更高的优先级。 只有最高优先类型才能生效。 换言之, prevent-display-sleep 始终优先于 prevent-app-suspension。\n\n例如, 一个 api 调用a的类型是 prevent-app-suspension, 另一个调用b的类型是 prevent-display-sleep。 prevent-display-sleep 一直生效，直到 b 停止请求， 之后，prevent-app-suspension才生效。\n\n\n# powersaveblocker.stop(id)\n\n * id integer 由powersaveblocker.start 返回的拦截器 id。\n\n停止指定的省电拦截器。\n\n\n# powersaveblocker.isstarted(id)\n\n * id integer 由powersaveblocker.start 返回的拦截器 id。\n\nreturns boolean指定的powersaveblocker是否已启动。",charsets:{cjk:!0}},{title:"process",frontmatter:{title:"process",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/659889/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/process.html",relativePath:"《Electron中文文档》/api/process.md",key:"v-41185d48",path:"/pages/659889/",headers:[{level:2,title:"Sandbox",slug:"sandbox",normalizedTitle:"sandbox",charIndex:109},{level:2,title:"事件",slug:"事件",normalizedTitle:"事件",charIndex:96},{level:3,title:"事件: 'loaded'",slug:"事件-loaded",normalizedTitle:"事件: 'loaded'",charIndex:523},{level:2,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:99},{level:3,title:"process.defaultApp 只读",slug:"process-defaultapp-只读",normalizedTitle:"process.defaultapp 只读",charIndex:589},{level:3,title:"process.isMainFrame 只读",slug:"process-ismainframe-只读",normalizedTitle:"process.ismainframe 只读",charIndex:678},{level:3,title:"process.mas 只读",slug:"process-mas-只读",normalizedTitle:"process.mas 只读",charIndex:781},{level:3,title:"process.noAsar",slug:"process-noasar",normalizedTitle:"process.noasar",charIndex:859},{level:3,title:"process.noDeprecation",slug:"process-nodeprecation",normalizedTitle:"process.nodeprecation",charIndex:939},{level:3,title:"process.resourcesPath 只读",slug:"process-resourcespath-只读",normalizedTitle:"process.resourcespath 只读",charIndex:1049},{level:3,title:"process.sandboxed 只读",slug:"process-sandboxed-只读",normalizedTitle:"process.sandboxed 只读",charIndex:1101},{level:3,title:"process.contextIsolated 只读",slug:"process-contextisolated-只读",normalizedTitle:"process.contextisolated 只读",charIndex:1176},{level:3,title:"process.throwDeprecation",slug:"process-throwdeprecation",normalizedTitle:"process.throwdeprecation",charIndex:1272},{level:3,title:"process.traceDeprecation",slug:"process-tracedeprecation",normalizedTitle:"process.tracedeprecation",charIndex:1382},{level:3,title:"process.traceProcessWarnings",slug:"process-traceprocesswarnings",normalizedTitle:"process.traceprocesswarnings",charIndex:1510},{level:3,title:"process.type 只读",slug:"process-type-只读",normalizedTitle:"process.type 只读",charIndex:1651},{level:3,title:"process.versions.chrome 只读",slug:"process-versions-chrome-只读",normalizedTitle:"process.versions.chrome 只读",charIndex:1786},{level:3,title:"process.versions.electron 只读",slug:"process-versions-electron-只读",normalizedTitle:"process.versions.electron 只读",charIndex:1845},{level:3,title:"process.windowsStore 只读",slug:"process-windowsstore-只读",normalizedTitle:"process.windowsstore 只读",charIndex:1908},{level:3,title:"process.contextId 只读",slug:"process-contextid-只读",normalizedTitle:"process.contextid 只读",charIndex:2001},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:102},{level:3,title:"process.crash()",slug:"process-crash",normalizedTitle:"process.crash()",charIndex:2170},{level:3,title:"process.getCreationTime()",slug:"process-getcreationtime",normalizedTitle:"process.getcreationtime()",charIndex:2205},{level:3,title:"process.getCPUUsage()",slug:"process-getcpuusage",normalizedTitle:"process.getcpuusage()",charIndex:2354},{level:3,title:"process.getIOCounters() Windows Linux",slug:"process-getiocounters-windows-linux",normalizedTitle:"process.getiocounters() windows linux",charIndex:2393},{level:3,title:"process.getHeapStatistics()",slug:"process-getheapstatistics",normalizedTitle:"process.getheapstatistics()",charIndex:2450},{level:3,title:"process.getBlinkMemoryInfo()",slug:"process-getblinkmemoryinfo",normalizedTitle:"process.getblinkmemoryinfo()",charIndex:2777},{level:3,title:"process.getProcessMemoryInfo()",slug:"process-getprocessmemoryinfo",normalizedTitle:"process.getprocessmemoryinfo()",charIndex:3060},{level:3,title:"process.getSystemMemoryInfo()",slug:"process-getsystemmemoryinfo",normalizedTitle:"process.getsystemmemoryinfo()",charIndex:3337},{level:3,title:"process.getSystemVersion()",slug:"process-getsystemversion",normalizedTitle:"process.getsystemversion()",charIndex:3608},{level:3,title:"process.takeHeapSnapshot(filePath)",slug:"process-takeheapsnapshot-filepath",normalizedTitle:"process.takeheapsnapshot(filepath)",charIndex:3889},{level:3,title:"process.hang()",slug:"process-hang",normalizedTitle:"process.hang()",charIndex:4056},{level:3,title:"process.setFdLimit(maxDescriptors) macOS Linux",slug:"process-setfdlimit-maxdescriptors-macos-linux",normalizedTitle:"process.setfdlimit(maxdescriptors) macos linux",charIndex:4090}],headersStr:"Sandbox 事件 事件: 'loaded' 属性 process.defaultApp 只读 process.isMainFrame 只读 process.mas 只读 process.noAsar process.noDeprecation process.resourcesPath 只读 process.sandboxed 只读 process.contextIsolated 只读 process.throwDeprecation process.traceDeprecation process.traceProcessWarnings process.type 只读 process.versions.chrome 只读 process.versions.electron 只读 process.windowsStore 只读 process.contextId 只读 方法 process.crash() process.getCreationTime() process.getCPUUsage() process.getIOCounters() Windows Linux process.getHeapStatistics() process.getBlinkMemoryInfo() process.getProcessMemoryInfo() process.getSystemMemoryInfo() process.getSystemVersion() process.takeHeapSnapshot(filePath) process.hang() process.setFdLimit(maxDescriptors) macOS Linux",content:"# process\n\n> 处理对象的扩展\n\n进程： Main, Renderer\n\nElectron's process 对象继承 Node.js process object。 它新增了以下事件、属性和方法\n\n\n# Sandbox\n\n在沙盒化的渲染进程中， process 对象只包含了API的一个子集:\n\n * crash()\n * hang()\n * getCreationTime()\n * getHeapStatistics()\n * getBlinkMemoryInfo()\n * getProcessMemoryInfo()\n * getSystemMemoryInfo()\n * getSystemVersion()\n * getCPUUsage()\n * getIOCounters()\n * uptime()\n * argv\n * execPath\n * env\n * pid\n * arch\n * platform\n * 沙盒化\n * contextIsolated\n * type\n * version\n * versions\n * mas\n * windowsStore\n * contextId\n\n\n# 事件\n\n\n# 事件: 'loaded'\n\n当Electron加载了它的内部初始化脚本并且是正要开始加载网页或主脚本时触发。\n\n\n# 属性\n\n\n# process.defaultApp 只读\n\n一个 Boolean。 当应用程序启动时被作为参数传递给默认应用，这个属性在主进程中是true，否则是undefined。\n\n\n# process.isMainFrame 只读\n\nBoolean，若当前渲染器上下文是 渲染器\"主\"框架时为true。 如果你想得到当前框架的ID，你应该使用 webFrame.routingId。\n\n\n# process.mas 只读\n\n一个 Boolean。 为Mac App Store 构建，该属性是 true，为其他构建则为undefined。\n\n\n# process.noAsar\n\nBoolean 控制您应用程序内的 ASAR 支持。 设置为 true将会禁用Node内置模块中对 asar 的支持。\n\n\n# process.noDeprecation\n\nBoolean 类型，用于控制弃用警告是否被打印到stderr。 将其设置为true将会禁用弃用警告。 使用此属性代替 -no-deprecation 命令行标志。\n\n\n# process.resourcesPath 只读\n\nString 类型， 表示资源目录的路径。\n\n\n# process.sandboxed 只读\n\n一个 Boolean。 当渲染器进程被沙盒化时，该属性是 true，否则是 undefined。\n\n\n# process.contextIsolated 只读\n\n一个Boolean类型的值指明当前渲染上下文是否启用了contextIsolation。 这在主进程中是undefined的。\n\n\n# process.throwDeprecation\n\nBoolean类型，用于控制是否将弃用警告当做例外。 设置它为 true 时会抛出错误。 使用此属性代替 --throw-deprecation 命令行标志。\n\n\n# process.traceDeprecation\n\nBoolean类型，用于控制打印到 stderr 的弃用中是否包含其堆栈跟踪。 将此设置为 true 将会打印对弃用的堆栈跟踪。 此属性代替 --trace-deprecation 命令行标志。\n\n\n# process.traceProcessWarnings\n\n一个 Boolean, 用于控制是否将进程的警告打印到包含堆栈跟踪的 stderr中 。 将此设置为 true 将打印对进程警告的堆栈跟踪（包括弃用）。 此属性代替 --trace-warnings 命令行标志。\n\n\n# process.type 只读\n\nString 代表当前进程的类型，可以是：\n\n * browser - The main process\n * renderer - A renderer process\n * worker - In a web worker\n\n\n# process.versions.chrome 只读\n\nstring，一个表示 Chrome 版本的字符串。\n\n\n# process.versions.electron 只读\n\nstring，一个表示 Electron 版本的字符串。\n\n\n# process.windowsStore 只读\n\n一个 Boolean。 如果应用以 Windows 商店应用(appx) 运行，该属性为true，否则为 undefined。\n\n\n# process.contextId 只读\n\n一个字符串 (可选) 代表当前JavaScript 上下文中的全局唯一ID。 每个对话框都有自己的 JavaScript 上下文。 当上下文隔离被启用，被隔离的环境中也有单独的JavaScript上下文。 该属性仅在渲染进程中可用。\n\n\n# 方法\n\nprocess 对象具有以下方法:\n\n\n# process.crash()\n\n导致当前进程崩溃的主线程。\n\n\n# process.getCreationTime()\n\n返回 Number | null -从纪元开始的毫秒数，如果信息不可用则返回null\n\n指示应用程序的创建时间。 新时代（1970-01-01 00:00:00 UTC）以来的毫秒数表示的时间。 如果无法获得进程创建时间，则返回为空。\n\n\n# process.getCPUUsage()\n\n返回 CPUUsage\n\n\n# process.getIOCounters() Windows Linux\n\n返回 IOCounters\n\n\n# process.getHeapStatistics()\n\n返回 Object:\n\n * totalHeapSize Integer\n * totalHeapSizeExecutable Integer\n * totalPhysicalSize Integer\n * totalAvailableSize Integer\n * usedHeapSize Integer\n * heapSizeLimit Integer\n * mallocedMemory Integer\n * peakMallocedMemory Integer\n * doesZapGarbage Boolean\n\n返回包含 V8 堆统计的对象。 备注：所有数据值以KB为单位\n\n\n# process.getBlinkMemoryInfo()\n\n返回 Object:\n\n * allocated Integer - Size of all allocated objects in Kilobytes.\n * marked Integer - Size of all marked objects in Kilobytes.\n * total Integer - Total allocated space in Kilobytes.\n\n返回带有Blink内存信息的对象。 可以用于调试渲染/DOM相关内存问题。 请注意，所有值都以KB为单位\n\n\n# process.getProcessMemoryInfo()\n\n返回 Promise<ProcessMemoryInfo> - Promise成功返回 PrecessMemoryInfo\n\n返回一个对象，提供当前进程的内存使用统计。 请注意，所有统计值都以KB为单位 这个api应该在应用程序准备就绪后被调用。\n\nChromium 没有为macOS提供 residentSet 值。 因为macOS对最近未使用过的页面进行内存压缩。 结果是原始设置大小的值不是我们所期望的。 私有 内存更能代表在 macOS 上进程的实际预压缩内存的使用情况。\n\n\n# process.getSystemMemoryInfo()\n\n返回 Object:\n\n * total Integer - 系统可用的物理内存总量(Kb)。\n * free Integer - 应用程序或磁盘缓存未使用的内存总量。\n * swapTotal Integer Windows Linux - 系统交换内存容量（单位：千字节）。\n * swapFree Integer Windows Linux - 系统可用交换内存大小（单位：千字节）。\n\n返回一个对象，提供整个系统的内存使用统计。 请注意，所有统计值都以KB为单位\n\n\n# process.getSystemVersion()\n\n返回 String - 主机操作系统的版本。\n\n示例：\n\nconst version = process.getSystemVersion()\nconsole.log(version)\n// On macOS -> '10.13.6'\n// On Windows -> '10.0.17763'\n// On Linux -> '4.15.0-45-generic'\n\n\n1\n2\n3\n4\n5\n\n\n注意： 它返回实际操作系统版本，而不是在 macOS 上的内核版本，不同于 os.release()。\n\n\n# process.takeHeapSnapshot(filePath)\n\n * filePath String - Path to the output file.\n\n返回 Boolean - 指明快捷方式是否被成功创建。\n\nTakes a V8 heap snapshot and saves it to filePath.\n\n\n# process.hang()\n\n导致当前进程挂起的主线程。\n\n\n# process.setFdLimit(maxDescriptors) macOS Linux\n\n * maxDescriptors Integer\n\n将文件描述符的软限制设置为 maxDescriptors 或 OS 硬限制, 其中以当前进程较低的值为准。",normalizedContent:"# process\n\n> 处理对象的扩展\n\n进程： main, renderer\n\nelectron's process 对象继承 node.js process object。 它新增了以下事件、属性和方法\n\n\n# sandbox\n\n在沙盒化的渲染进程中， process 对象只包含了api的一个子集:\n\n * crash()\n * hang()\n * getcreationtime()\n * getheapstatistics()\n * getblinkmemoryinfo()\n * getprocessmemoryinfo()\n * getsystemmemoryinfo()\n * getsystemversion()\n * getcpuusage()\n * getiocounters()\n * uptime()\n * argv\n * execpath\n * env\n * pid\n * arch\n * platform\n * 沙盒化\n * contextisolated\n * type\n * version\n * versions\n * mas\n * windowsstore\n * contextid\n\n\n# 事件\n\n\n# 事件: 'loaded'\n\n当electron加载了它的内部初始化脚本并且是正要开始加载网页或主脚本时触发。\n\n\n# 属性\n\n\n# process.defaultapp 只读\n\n一个 boolean。 当应用程序启动时被作为参数传递给默认应用，这个属性在主进程中是true，否则是undefined。\n\n\n# process.ismainframe 只读\n\nboolean，若当前渲染器上下文是 渲染器\"主\"框架时为true。 如果你想得到当前框架的id，你应该使用 webframe.routingid。\n\n\n# process.mas 只读\n\n一个 boolean。 为mac app store 构建，该属性是 true，为其他构建则为undefined。\n\n\n# process.noasar\n\nboolean 控制您应用程序内的 asar 支持。 设置为 true将会禁用node内置模块中对 asar 的支持。\n\n\n# process.nodeprecation\n\nboolean 类型，用于控制弃用警告是否被打印到stderr。 将其设置为true将会禁用弃用警告。 使用此属性代替 -no-deprecation 命令行标志。\n\n\n# process.resourcespath 只读\n\nstring 类型， 表示资源目录的路径。\n\n\n# process.sandboxed 只读\n\n一个 boolean。 当渲染器进程被沙盒化时，该属性是 true，否则是 undefined。\n\n\n# process.contextisolated 只读\n\n一个boolean类型的值指明当前渲染上下文是否启用了contextisolation。 这在主进程中是undefined的。\n\n\n# process.throwdeprecation\n\nboolean类型，用于控制是否将弃用警告当做例外。 设置它为 true 时会抛出错误。 使用此属性代替 --throw-deprecation 命令行标志。\n\n\n# process.tracedeprecation\n\nboolean类型，用于控制打印到 stderr 的弃用中是否包含其堆栈跟踪。 将此设置为 true 将会打印对弃用的堆栈跟踪。 此属性代替 --trace-deprecation 命令行标志。\n\n\n# process.traceprocesswarnings\n\n一个 boolean, 用于控制是否将进程的警告打印到包含堆栈跟踪的 stderr中 。 将此设置为 true 将打印对进程警告的堆栈跟踪（包括弃用）。 此属性代替 --trace-warnings 命令行标志。\n\n\n# process.type 只读\n\nstring 代表当前进程的类型，可以是：\n\n * browser - the main process\n * renderer - a renderer process\n * worker - in a web worker\n\n\n# process.versions.chrome 只读\n\nstring，一个表示 chrome 版本的字符串。\n\n\n# process.versions.electron 只读\n\nstring，一个表示 electron 版本的字符串。\n\n\n# process.windowsstore 只读\n\n一个 boolean。 如果应用以 windows 商店应用(appx) 运行，该属性为true，否则为 undefined。\n\n\n# process.contextid 只读\n\n一个字符串 (可选) 代表当前javascript 上下文中的全局唯一id。 每个对话框都有自己的 javascript 上下文。 当上下文隔离被启用，被隔离的环境中也有单独的javascript上下文。 该属性仅在渲染进程中可用。\n\n\n# 方法\n\nprocess 对象具有以下方法:\n\n\n# process.crash()\n\n导致当前进程崩溃的主线程。\n\n\n# process.getcreationtime()\n\n返回 number | null -从纪元开始的毫秒数，如果信息不可用则返回null\n\n指示应用程序的创建时间。 新时代（1970-01-01 00:00:00 utc）以来的毫秒数表示的时间。 如果无法获得进程创建时间，则返回为空。\n\n\n# process.getcpuusage()\n\n返回 cpuusage\n\n\n# process.getiocounters() windows linux\n\n返回 iocounters\n\n\n# process.getheapstatistics()\n\n返回 object:\n\n * totalheapsize integer\n * totalheapsizeexecutable integer\n * totalphysicalsize integer\n * totalavailablesize integer\n * usedheapsize integer\n * heapsizelimit integer\n * mallocedmemory integer\n * peakmallocedmemory integer\n * doeszapgarbage boolean\n\n返回包含 v8 堆统计的对象。 备注：所有数据值以kb为单位\n\n\n# process.getblinkmemoryinfo()\n\n返回 object:\n\n * allocated integer - size of all allocated objects in kilobytes.\n * marked integer - size of all marked objects in kilobytes.\n * total integer - total allocated space in kilobytes.\n\n返回带有blink内存信息的对象。 可以用于调试渲染/dom相关内存问题。 请注意，所有值都以kb为单位\n\n\n# process.getprocessmemoryinfo()\n\n返回 promise<processmemoryinfo> - promise成功返回 precessmemoryinfo\n\n返回一个对象，提供当前进程的内存使用统计。 请注意，所有统计值都以kb为单位 这个api应该在应用程序准备就绪后被调用。\n\nchromium 没有为macos提供 residentset 值。 因为macos对最近未使用过的页面进行内存压缩。 结果是原始设置大小的值不是我们所期望的。 私有 内存更能代表在 macos 上进程的实际预压缩内存的使用情况。\n\n\n# process.getsystemmemoryinfo()\n\n返回 object:\n\n * total integer - 系统可用的物理内存总量(kb)。\n * free integer - 应用程序或磁盘缓存未使用的内存总量。\n * swaptotal integer windows linux - 系统交换内存容量（单位：千字节）。\n * swapfree integer windows linux - 系统可用交换内存大小（单位：千字节）。\n\n返回一个对象，提供整个系统的内存使用统计。 请注意，所有统计值都以kb为单位\n\n\n# process.getsystemversion()\n\n返回 string - 主机操作系统的版本。\n\n示例：\n\nconst version = process.getsystemversion()\nconsole.log(version)\n// on macos -> '10.13.6'\n// on windows -> '10.0.17763'\n// on linux -> '4.15.0-45-generic'\n\n\n1\n2\n3\n4\n5\n\n\n注意： 它返回实际操作系统版本，而不是在 macos 上的内核版本，不同于 os.release()。\n\n\n# process.takeheapsnapshot(filepath)\n\n * filepath string - path to the output file.\n\n返回 boolean - 指明快捷方式是否被成功创建。\n\ntakes a v8 heap snapshot and saves it to filepath.\n\n\n# process.hang()\n\n导致当前进程挂起的主线程。\n\n\n# process.setfdlimit(maxdescriptors) macos linux\n\n * maxdescriptors integer\n\n将文件描述符的软限制设置为 maxdescriptors 或 os 硬限制, 其中以当前进程较低的值为准。",charsets:{cjk:!0}},{title:"safe-storage",frontmatter:{title:"safe-storage",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/9d512e/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/safe-storage.html",relativePath:"《Electron中文文档》/api/safe-storage.md",key:"v-11e74cf6",path:"/pages/9d512e/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:441},{level:3,title:"safeStorage.isEncryptionAvailable()",slug:"safestorage-isencryptionavailable",normalizedTitle:"safestorage.isencryptionavailable()",charIndex:471},{level:3,title:"safeStorage.encryptString(plainText)",slug:"safestorage-encryptstring-plaintext",normalizedTitle:"safestorage.encryptstring(plaintext)",charIndex:722},{level:3,title:"safeStorage.decryptString(encrypted)",slug:"safestorage-decryptstring-encrypted",normalizedTitle:"safestorage.decryptstring(encrypted)",charIndex:911}],headersStr:"方法 safeStorage.isEncryptionAvailable() safeStorage.encryptString(plainText) safeStorage.decryptString(encrypted)",content:"# safeStorage\n\n> Allows access to simple encryption and decryption of strings for storage on the local machine.\n\n进程：主进程\n\nThis module protects data stored on disk from being accessed by other applications or users with full disk access.\n\nNote that on Mac, access to the system Keychain is required and these calls can block the current thread to collect user input. The same is true for Linux, if a password management tool is available.\n\n\n# 方法\n\nsafeStorage 模块包含以下方法：\n\n\n# safeStorage.isEncryptionAvailable()\n\nReturns Boolean - Whether encryption is available.\n\nOn Linux, returns true if the secret key is available. On MacOS, returns true if Keychain is available. On Windows, returns true with no other preconditions.\n\n\n# safeStorage.encryptString(plainText)\n\n * plainText String\n\nReturns Buffer - An array of bytes representing the encrypted string.\n\nThis function will throw an error if encryption fails.\n\n\n# safeStorage.decryptString(encrypted)\n\n * encrypted Buffer\n\nReturns String - the decrypted string. Decrypts the encrypted buffer obtained with safeStorage.encryptString back into a string.\n\nThis function will throw an error if decryption fails.",normalizedContent:"# safestorage\n\n> allows access to simple encryption and decryption of strings for storage on the local machine.\n\n进程：主进程\n\nthis module protects data stored on disk from being accessed by other applications or users with full disk access.\n\nnote that on mac, access to the system keychain is required and these calls can block the current thread to collect user input. the same is true for linux, if a password management tool is available.\n\n\n# 方法\n\nsafestorage 模块包含以下方法：\n\n\n# safestorage.isencryptionavailable()\n\nreturns boolean - whether encryption is available.\n\non linux, returns true if the secret key is available. on macos, returns true if keychain is available. on windows, returns true with no other preconditions.\n\n\n# safestorage.encryptstring(plaintext)\n\n * plaintext string\n\nreturns buffer - an array of bytes representing the encrypted string.\n\nthis function will throw an error if encryption fails.\n\n\n# safestorage.decryptstring(encrypted)\n\n * encrypted buffer\n\nreturns string - the decrypted string. decrypts the encrypted buffer obtained with safestorage.encryptstring back into a string.\n\nthis function will throw an error if decryption fails.",charsets:{cjk:!0}},{title:"protocol",frontmatter:{title:"protocol",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/9fe961/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/protocol.html",relativePath:"《Electron中文文档》/api/protocol.md",key:"v-e2d07bd4",path:"/pages/9fe961/",headers:[{level:2,title:"Using protocol with a custom partition or session",slug:"using-protocol-with-a-custom-partition-or-session",normalizedTitle:"using protocol with a custom partition or session",charIndex:427},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:387},{level:3,title:"protocol.registerSchemesAsPrivileged(customSchemes)",slug:"protocol-registerschemesasprivileged-customschemes",normalizedTitle:"protocol.registerschemesasprivileged(customschemes)",charIndex:1501},{level:3,title:"protocol.registerFileProtocol(scheme, handler)",slug:"protocol-registerfileprotocol-scheme-handler",normalizedTitle:"protocol.registerfileprotocol(scheme, handler)",charIndex:3043},{level:3,title:"protocol.registerBufferProtocol(scheme, handler)",slug:"protocol-registerbufferprotocol-scheme-handler",normalizedTitle:"protocol.registerbufferprotocol(scheme, handler)",charIndex:3747},{level:3,title:"protocol.registerStringProtocol(scheme, handler)",slug:"protocol-registerstringprotocol-scheme-handler",normalizedTitle:"protocol.registerstringprotocol(scheme, handler)",charIndex:4350},{level:3,title:"protocol.registerHttpProtocol(scheme, handler)",slug:"protocol-registerhttpprotocol-scheme-handler",normalizedTitle:"protocol.registerhttpprotocol(scheme, handler)",charIndex:4786},{level:3,title:"protocol.registerStreamProtocol(scheme, handler)",slug:"protocol-registerstreamprotocol-scheme-handler",normalizedTitle:"protocol.registerstreamprotocol(scheme, handler)",charIndex:5189},{level:3,title:"protocol.unregisterProtocol(scheme)",slug:"protocol-unregisterprotocol-scheme",normalizedTitle:"protocol.unregisterprotocol(scheme)",charIndex:6464},{level:3,title:"protocol.isProtocolRegistered(scheme)",slug:"protocol-isprotocolregistered-scheme",normalizedTitle:"protocol.isprotocolregistered(scheme)",charIndex:6609},{level:3,title:"protocol.interceptFileProtocol(scheme, handler)",slug:"protocol-interceptfileprotocol-scheme-handler",normalizedTitle:"protocol.interceptfileprotocol(scheme, handler)",charIndex:6726},{level:3,title:"protocol.interceptStringProtocol(scheme, handler)",slug:"protocol-interceptstringprotocol-scheme-handler",normalizedTitle:"protocol.interceptstringprotocol(scheme, handler)",charIndex:7030},{level:3,title:"protocol.interceptBufferProtocol(scheme, handler)",slug:"protocol-interceptbufferprotocol-scheme-handler",normalizedTitle:"protocol.interceptbufferprotocol(scheme, handler)",charIndex:7338},{level:3,title:"protocol.interceptHttpProtocol(scheme, handler)",slug:"protocol-intercepthttpprotocol-scheme-handler",normalizedTitle:"protocol.intercepthttpprotocol(scheme, handler)",charIndex:7646},{level:3,title:"protocol.interceptStreamProtocol(scheme, handler)",slug:"protocol-interceptstreamprotocol-scheme-handler",normalizedTitle:"protocol.interceptstreamprotocol(scheme, handler)",charIndex:7944},{level:3,title:"protocol.uninterceptProtocol(scheme)",slug:"protocol-uninterceptprotocol-scheme",normalizedTitle:"protocol.uninterceptprotocol(scheme)",charIndex:8260},{level:3,title:"protocol.isProtocolIntercepted(scheme)",slug:"protocol-isprotocolintercepted-scheme",normalizedTitle:"protocol.isprotocolintercepted(scheme)",charIndex:8421}],headersStr:"Using protocol with a custom partition or session 方法 protocol.registerSchemesAsPrivileged(customSchemes) protocol.registerFileProtocol(scheme, handler) protocol.registerBufferProtocol(scheme, handler) protocol.registerStringProtocol(scheme, handler) protocol.registerHttpProtocol(scheme, handler) protocol.registerStreamProtocol(scheme, handler) protocol.unregisterProtocol(scheme) protocol.isProtocolRegistered(scheme) protocol.interceptFileProtocol(scheme, handler) protocol.interceptStringProtocol(scheme, handler) protocol.interceptBufferProtocol(scheme, handler) protocol.interceptHttpProtocol(scheme, handler) protocol.interceptStreamProtocol(scheme, handler) protocol.uninterceptProtocol(scheme) protocol.isProtocolIntercepted(scheme)",content:"# protocol\n\n> 注册自定义协议并拦截基于现有协议的请求。\n\n进程：主进程\n\n实现与 file:// 协议具有相同效果的协议的示例:\n\nconst { app, protocol } = require('electron')\nconst path = require('path')\n\napp.whenReady().then(() => {\n  protocol.registerFileProtocol('atom', (request, callback) => {\n    const url = request.url.substr(7)\n    callback({ path: path.normalize(`${__dirname}/${url}`) })\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n** 注意: **除了指定的方法, 其他方法只能在 app 模块的 ready 事件被触发后使用。\n\n\n# Using protocol with a custom partition or session\n\nA protocol is registered to a specific Electron session object. If you don't specify a session, then your protocol will be applied to the default session that Electron uses. However, if you define a partition or session on your browserWindow's webPreferences, then that window will use a different session and your custom protocol will not work if you just use electron.protocol.XXX.\n\nTo have your custom protocol work in combination with a custom session, you need to register it to that session explicitly.\n\nconst { session, app, protocol } = require('electron')\nconst path = require('path')\n\napp.whenReady().then(() => {\n  const partition = 'persist:example'\n  const ses = session.fromPartition(partition)\n\n  ses.protocol.registerFileProtocol('atom', (request, callback) => {\n    const url = request.url.substr(7)\n    callback({ path: path.normalize(`${__dirname}/${url}`) })\n  })\n\n  mainWindow = new BrowserWindow({ webPreferences: { partition } })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 方法\n\nprotocol 模块具有以下方法：\n\n\n# protocol.registerSchemesAsPrivileged(customSchemes)\n\n * customSchemes CustomScheme[]\n\n注意. 此方法只能在 app 的 ready 事件触发前调用，且只能调用一次\n\nRegisters the scheme as standard, secure, bypasses content security policy for resources, allows registering ServiceWorker, supports fetch API, and streaming video/audio. Specify a privilege with the value of true to enable the capability.\n\nAn example of registering a privileged scheme, that bypasses Content Security Policy:\n\nconst { protocol } = require('electron')\nprotocol.registerSchemesAsPrivileged([\n  { scheme: 'foo', privileges: { bypassCSP: true } }\n])\n\n\n1\n2\n3\n4\n\n\n标准scheme遵循 RFC 3986 所设定的 URI泛型语法 。 例如, http 和 https 是标准协议, 而 file 不是。\n\nRegistering a scheme as standard allows relative and absolute resources to be resolved correctly when served. 否则, 该协议将表现为 file 协议, 而且，这种文件协议将不能解析相对路径。\n\n例如, 当您使用自定义协议加载以下内容时，如果你不将其注册为标准scheme, 图片将不会被加载, 因为非标准scheme无法识别相对 路径:\n\n<body>\n  <img src='test.png'>\n</body>\n\n\n1\n2\n3\n\n\n注册一个scheme作为标准scheme将允许其通过FileSystem 接口访问文件。 否则, 渲染器将会因为该scheme，而抛出一个安全性错误。\n\nBy default web storage apis (localStorage, sessionStorage, webSQL, indexedDB, cookies) are disabled for non standard schemes. So in general if you want to register a custom protocol to replace the http protocol, you have to register it as a standard scheme.\n\nProtocols that use streams (http and stream protocols) should set stream: true. The <video> and <audio> HTML elements expect protocols to buffer their responses by default. The stream flag configures those elements to correctly expect streaming responses.\n\n\n# protocol.registerFileProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response (String | ProtocolResponse)\n\nReturns Boolean - Whether the protocol was successfully registered\n\nRegisters a protocol of scheme that will send a file as the response. The handler will be called with request and callback where request is an incoming request for the scheme.\n\n要处理 request, 应当使用文件的路径或具有 path 属性的对象来调用 callback。例如:callback(filePath)或 callback({ path: filePath }). The filePath must be an absolute path.\n\nBy default the scheme is treated like http:, which is parsed differently from protocols that follow the \"generic URI syntax\" like file:.\n\n\n# protocol.registerBufferProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response (Buffer | ProtocolResponse)\n\nReturns Boolean - Whether the protocol was successfully registered\n\n注册一个 scheme 协议, 将 Buffer作为响应发送\n\nThe usage is the same with registerFileProtocol, except that the callback should be called with either a Buffer object or an object that has the data property.\n\n示例：\n\nprotocol.registerBufferProtocol('atom', (request, callback) => {\n  callback({ mimeType: 'text/html', data: Buffer.from('<h5>Response</h5>') })\n})\n\n\n1\n2\n3\n\n\n\n# protocol.registerStringProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response (String | ProtocolResponse)\n\nReturns Boolean - Whether the protocol was successfully registered\n\n注册一个 scheme 协议, 将 String 作为响应发送\n\nThe usage is the same with registerFileProtocol, except that the callback should be called with either a String or an object that has the data property.\n\n\n# protocol.registerHttpProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response ProtocolResponse\n\nReturns Boolean - Whether the protocol was successfully registered\n\n注册一个 scheme 协议, 将 HTTP 请求作为响应发送\n\nThe usage is the same with registerFileProtocol, except that the callback should be called with an object that has the url property.\n\n\n# protocol.registerStreamProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response (ReadableStream | ProtocolResponse)\n\nReturns Boolean - Whether the protocol was successfully registered\n\nRegisters a protocol of scheme that will send a stream as a response.\n\nThe usage is the same with registerFileProtocol, except that the callback should be called with either a ReadableStream object or an object that has the data property.\n\n示例：\n\nconst { protocol } = require('electron')\nconst { PassThrough } = require('stream')\n\nfunction createStream (text) {\n  const rv = new PassThrough() // PassThrough is also a Readable stream\n  rv.push(text)\n  rv.push(null)\n  return rv\n}\n\nprotocol.registerStreamProtocol('atom', (request, callback) => {\n  callback({\n    statusCode: 200,\n    headers: {\n      'content-type': 'text/html'\n    },\n    data: createStream('<h5>Response</h5>')\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nIt is possible to pass any object that implements the readable stream API (emits data/end/error events). For example, here's how a file could be returned:\n\nprotocol.registerStreamProtocol('atom', (request, callback) => {\n  callback(fs.createReadStream('index.html'))\n})\n\n\n1\n2\n3\n\n\n\n# protocol.unregisterProtocol(scheme)\n\n * scheme String\n\nReturns Boolean - Whether the protocol was successfully unregistered\n\n取消对自定义scheme的注册\n\n\n# protocol.isProtocolRegistered(scheme)\n\n * scheme String\n\nReturns Boolean - Whether scheme is already registered.\n\n\n# protocol.interceptFileProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response (String | ProtocolResponse)\n\nReturns Boolean - Whether the protocol was successfully intercepted\n\n终止 scheme 协议, 并将 handler 作为该protocol新的处理方式，即返回一个file。\n\n\n# protocol.interceptStringProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response (String | ProtocolResponse)\n\nReturns Boolean - Whether the protocol was successfully intercepted\n\n终止 scheme 协议, 并将 handler 作为该protocol新的处理方式，即返回一个String。\n\n\n# protocol.interceptBufferProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response (Buffer | ProtocolResponse)\n\nReturns Boolean - Whether the protocol was successfully intercepted\n\n终止 scheme 协议, 并将 handler 作为该protocol新的处理方式，即返回一个Buffer。\n\n\n# protocol.interceptHttpProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response ProtocolResponse\n\nReturns Boolean - Whether the protocol was successfully intercepted\n\n终止 scheme 协议, 并将 handler 作为该protocol新的处理方式，即返回一个新 HTTP 请求。\n\n\n# protocol.interceptStreamProtocol(scheme, handler)\n\n * scheme String\n * handler 函数\n   * request ProtocolRequest\n   * callback Function\n     * response (ReadableStream | ProtocolResponse)\n\nReturns Boolean - Whether the protocol was successfully intercepted\n\n它与 registerStreamProtocol方法相同, 不过它是用来替换现有的protocol处理方式。\n\n\n# protocol.uninterceptProtocol(scheme)\n\n * scheme String\n\nReturns Boolean - Whether the protocol was successfully unintercepted\n\n移除为 scheme 安装的拦截器，并还原其原始处理方式。\n\n\n# protocol.isProtocolIntercepted(scheme)\n\n * scheme String\n\nReturns Boolean - Whether scheme is already intercepted.",normalizedContent:"# protocol\n\n> 注册自定义协议并拦截基于现有协议的请求。\n\n进程：主进程\n\n实现与 file:// 协议具有相同效果的协议的示例:\n\nconst { app, protocol } = require('electron')\nconst path = require('path')\n\napp.whenready().then(() => {\n  protocol.registerfileprotocol('atom', (request, callback) => {\n    const url = request.url.substr(7)\n    callback({ path: path.normalize(`${__dirname}/${url}`) })\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n** 注意: **除了指定的方法, 其他方法只能在 app 模块的 ready 事件被触发后使用。\n\n\n# using protocol with a custom partition or session\n\na protocol is registered to a specific electron session object. if you don't specify a session, then your protocol will be applied to the default session that electron uses. however, if you define a partition or session on your browserwindow's webpreferences, then that window will use a different session and your custom protocol will not work if you just use electron.protocol.xxx.\n\nto have your custom protocol work in combination with a custom session, you need to register it to that session explicitly.\n\nconst { session, app, protocol } = require('electron')\nconst path = require('path')\n\napp.whenready().then(() => {\n  const partition = 'persist:example'\n  const ses = session.frompartition(partition)\n\n  ses.protocol.registerfileprotocol('atom', (request, callback) => {\n    const url = request.url.substr(7)\n    callback({ path: path.normalize(`${__dirname}/${url}`) })\n  })\n\n  mainwindow = new browserwindow({ webpreferences: { partition } })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 方法\n\nprotocol 模块具有以下方法：\n\n\n# protocol.registerschemesasprivileged(customschemes)\n\n * customschemes customscheme[]\n\n注意. 此方法只能在 app 的 ready 事件触发前调用，且只能调用一次\n\nregisters the scheme as standard, secure, bypasses content security policy for resources, allows registering serviceworker, supports fetch api, and streaming video/audio. specify a privilege with the value of true to enable the capability.\n\nan example of registering a privileged scheme, that bypasses content security policy:\n\nconst { protocol } = require('electron')\nprotocol.registerschemesasprivileged([\n  { scheme: 'foo', privileges: { bypasscsp: true } }\n])\n\n\n1\n2\n3\n4\n\n\n标准scheme遵循 rfc 3986 所设定的 uri泛型语法 。 例如, http 和 https 是标准协议, 而 file 不是。\n\nregistering a scheme as standard allows relative and absolute resources to be resolved correctly when served. 否则, 该协议将表现为 file 协议, 而且，这种文件协议将不能解析相对路径。\n\n例如, 当您使用自定义协议加载以下内容时，如果你不将其注册为标准scheme, 图片将不会被加载, 因为非标准scheme无法识别相对 路径:\n\n<body>\n  <img src='test.png'>\n</body>\n\n\n1\n2\n3\n\n\n注册一个scheme作为标准scheme将允许其通过filesystem 接口访问文件。 否则, 渲染器将会因为该scheme，而抛出一个安全性错误。\n\nby default web storage apis (localstorage, sessionstorage, websql, indexeddb, cookies) are disabled for non standard schemes. so in general if you want to register a custom protocol to replace the http protocol, you have to register it as a standard scheme.\n\nprotocols that use streams (http and stream protocols) should set stream: true. the <video> and <audio> html elements expect protocols to buffer their responses by default. the stream flag configures those elements to correctly expect streaming responses.\n\n\n# protocol.registerfileprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response (string | protocolresponse)\n\nreturns boolean - whether the protocol was successfully registered\n\nregisters a protocol of scheme that will send a file as the response. the handler will be called with request and callback where request is an incoming request for the scheme.\n\n要处理 request, 应当使用文件的路径或具有 path 属性的对象来调用 callback。例如:callback(filepath)或 callback({ path: filepath }). the filepath must be an absolute path.\n\nby default the scheme is treated like http:, which is parsed differently from protocols that follow the \"generic uri syntax\" like file:.\n\n\n# protocol.registerbufferprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response (buffer | protocolresponse)\n\nreturns boolean - whether the protocol was successfully registered\n\n注册一个 scheme 协议, 将 buffer作为响应发送\n\nthe usage is the same with registerfileprotocol, except that the callback should be called with either a buffer object or an object that has the data property.\n\n示例：\n\nprotocol.registerbufferprotocol('atom', (request, callback) => {\n  callback({ mimetype: 'text/html', data: buffer.from('<h5>response</h5>') })\n})\n\n\n1\n2\n3\n\n\n\n# protocol.registerstringprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response (string | protocolresponse)\n\nreturns boolean - whether the protocol was successfully registered\n\n注册一个 scheme 协议, 将 string 作为响应发送\n\nthe usage is the same with registerfileprotocol, except that the callback should be called with either a string or an object that has the data property.\n\n\n# protocol.registerhttpprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response protocolresponse\n\nreturns boolean - whether the protocol was successfully registered\n\n注册一个 scheme 协议, 将 http 请求作为响应发送\n\nthe usage is the same with registerfileprotocol, except that the callback should be called with an object that has the url property.\n\n\n# protocol.registerstreamprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response (readablestream | protocolresponse)\n\nreturns boolean - whether the protocol was successfully registered\n\nregisters a protocol of scheme that will send a stream as a response.\n\nthe usage is the same with registerfileprotocol, except that the callback should be called with either a readablestream object or an object that has the data property.\n\n示例：\n\nconst { protocol } = require('electron')\nconst { passthrough } = require('stream')\n\nfunction createstream (text) {\n  const rv = new passthrough() // passthrough is also a readable stream\n  rv.push(text)\n  rv.push(null)\n  return rv\n}\n\nprotocol.registerstreamprotocol('atom', (request, callback) => {\n  callback({\n    statuscode: 200,\n    headers: {\n      'content-type': 'text/html'\n    },\n    data: createstream('<h5>response</h5>')\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nit is possible to pass any object that implements the readable stream api (emits data/end/error events). for example, here's how a file could be returned:\n\nprotocol.registerstreamprotocol('atom', (request, callback) => {\n  callback(fs.createreadstream('index.html'))\n})\n\n\n1\n2\n3\n\n\n\n# protocol.unregisterprotocol(scheme)\n\n * scheme string\n\nreturns boolean - whether the protocol was successfully unregistered\n\n取消对自定义scheme的注册\n\n\n# protocol.isprotocolregistered(scheme)\n\n * scheme string\n\nreturns boolean - whether scheme is already registered.\n\n\n# protocol.interceptfileprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response (string | protocolresponse)\n\nreturns boolean - whether the protocol was successfully intercepted\n\n终止 scheme 协议, 并将 handler 作为该protocol新的处理方式，即返回一个file。\n\n\n# protocol.interceptstringprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response (string | protocolresponse)\n\nreturns boolean - whether the protocol was successfully intercepted\n\n终止 scheme 协议, 并将 handler 作为该protocol新的处理方式，即返回一个string。\n\n\n# protocol.interceptbufferprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response (buffer | protocolresponse)\n\nreturns boolean - whether the protocol was successfully intercepted\n\n终止 scheme 协议, 并将 handler 作为该protocol新的处理方式，即返回一个buffer。\n\n\n# protocol.intercepthttpprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response protocolresponse\n\nreturns boolean - whether the protocol was successfully intercepted\n\n终止 scheme 协议, 并将 handler 作为该protocol新的处理方式，即返回一个新 http 请求。\n\n\n# protocol.interceptstreamprotocol(scheme, handler)\n\n * scheme string\n * handler 函数\n   * request protocolrequest\n   * callback function\n     * response (readablestream | protocolresponse)\n\nreturns boolean - whether the protocol was successfully intercepted\n\n它与 registerstreamprotocol方法相同, 不过它是用来替换现有的protocol处理方式。\n\n\n# protocol.uninterceptprotocol(scheme)\n\n * scheme string\n\nreturns boolean - whether the protocol was successfully unintercepted\n\n移除为 scheme 安装的拦截器，并还原其原始处理方式。\n\n\n# protocol.isprotocolintercepted(scheme)\n\n * scheme string\n\nreturns boolean - whether scheme is already intercepted.",charsets:{cjk:!0}},{title:"screen",frontmatter:{title:"screen",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/eefb2c/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/screen.html",relativePath:"《Electron中文文档》/api/screen.md",key:"v-2518c296",path:"/pages/eefb2c/",headers:[{level:2,title:"事件",slug:"事件",normalizedTitle:"事件",charIndex:67},{level:3,title:"Event: 'display-added'",slug:"event-display-added",normalizedTitle:"event: 'display-added'",charIndex:1076},{level:3,title:"Event: 'display-removed'",slug:"event-display-removed",normalizedTitle:"event: 'display-removed'",charIndex:1172},{level:3,title:"Event: 'display-metrics-changed'",slug:"event-display-metrics-changed",normalizedTitle:"event: 'display-metrics-changed'",charIndex:1270},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:1478},{level:3,title:"screen.getCursorScreenPoint()",slug:"screen-getcursorscreenpoint",normalizedTitle:"screen.getcursorscreenpoint()",charIndex:1501},{level:3,title:"screen.getPrimaryDisplay()",slug:"screen-getprimarydisplay",normalizedTitle:"screen.getprimarydisplay()",charIndex:389},{level:3,title:"screen.getAllDisplays()",slug:"screen-getalldisplays",normalizedTitle:"screen.getalldisplays()",charIndex:669},{level:3,title:"screen.getDisplayNearestPoint(point)",slug:"screen-getdisplaynearestpoint-point",normalizedTitle:"screen.getdisplaynearestpoint(point)",charIndex:1729},{level:3,title:"screen.getDisplayMatching(rect)",slug:"screen-getdisplaymatching-rect",normalizedTitle:"screen.getdisplaymatching(rect)",charIndex:1808},{level:3,title:"screen.screenToDipPoint(point) Windows",slug:"screen-screentodippoint-point-windows",normalizedTitle:"screen.screentodippoint(point) windows",charIndex:1889},{level:3,title:"screen.dipToScreenPoint(point) Windows",slug:"screen-diptoscreenpoint-point-windows",normalizedTitle:"screen.diptoscreenpoint(point) windows",charIndex:2097},{level:3,title:"screen.screenToDipRect(window, rect) Windows",slug:"screen-screentodiprect-window-rect-windows",normalizedTitle:"screen.screentodiprect(window, rect) windows",charIndex:2300},{level:3,title:"screen.dipToScreenRect(window, rect) Windows",slug:"screen-diptoscreenrect-window-rect-windows",normalizedTitle:"screen.diptoscreenrect(window, rect) windows",charIndex:2615}],headersStr:"事件 Event: 'display-added' Event: 'display-removed' Event: 'display-metrics-changed' 方法 screen.getCursorScreenPoint() screen.getPrimaryDisplay() screen.getAllDisplays() screen.getDisplayNearestPoint(point) screen.getDisplayMatching(rect) screen.screenToDipPoint(point) Windows screen.dipToScreenPoint(point) Windows screen.screenToDipRect(window, rect) Windows screen.dipToScreenRect(window, rect) Windows",content:"# screen\n\n> 检索有关屏幕大小、显示器、光标位置等的信息。\n\n进程：主进程\n\n在 app 模块 emitted ready 事件之前，您不能使用此模块。\n\nscreen是一个EventEmitter.\n\nNote: In the renderer / DevTools, window.screen is a reserved DOM property, so writing let { screen } = require('electron') will not work.\n\n创建填充整个屏幕的窗口的示例:\n\nconst { app, BrowserWindow, screen } = require('electron')\n\nlet win\napp.whenReady().then(() => {\n  const { width, height } = screen.getPrimaryDisplay().workAreaSize\n  win = new BrowserWindow({ width, height })\n  win.loadURL('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n另一个在外部显示器中创建窗口的例子\n\nconst { app, BrowserWindow, screen } = require('electron')\n\nlet win\n\napp.whenReady().then(() => {\n  const displays = screen.getAllDisplays()\n  const externalDisplay = displays.find((display) => {\n    return display.bounds.x !== 0 || display.bounds.y !== 0\n  })\n\n  if (externalDisplay) {\n    win = new BrowserWindow({\n      x: externalDisplay.bounds.x + 50,\n      y: externalDisplay.bounds.y + 50\n    })\n    win.loadURL('https://github.com')\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 事件\n\nscreen模块触发以下事件:\n\n\n# Event: 'display-added'\n\n返回:\n\n * event Event\n * newDisplay Display\n\n当新的窗口newDisplay被添加的时候触发。\n\n\n# Event: 'display-removed'\n\n返回:\n\n * event Event\n * oldDisplay Display\n\n当旧的窗口oldDisplay被移除的时候触发。\n\n\n# Event: 'display-metrics-changed'\n\n返回:\n\n * event Event\n * display Display\n * changedMetrics String[]\n\n当display中的一个或多个值发生改变时发出。 changedMetrics是描述更改信息的字符串数组。 可能改变的值有bounds, workArea, scaleFactor 和 rotation.\n\n\n# 方法\n\nscreen模块有以下方法:\n\n\n# screen.getCursorScreenPoint()\n\n返回 Point\n\n当前鼠标的绝对位置。\n\nNote: The return value is a DIP point, not a screen physical point.\n\n\n# screen.getPrimaryDisplay()\n\n返回主窗口Display\n\n\n# screen.getAllDisplays()\n\n返回一个窗口数组Display[]，表示当前可用的窗口。\n\n\n# screen.getDisplayNearestPoint(point)\n\n * point Point\n\n返回离指定点最近的一个窗口Display\n\n\n# screen.getDisplayMatching(rect)\n\n * rect Rectangle\n\n返回离指定的图形最密切相交一个窗口Display\n\n\n# screen.screenToDipPoint(point) Windows\n\n * point Point\n\n返回 Point\n\nConverts a screen physical point to a screen DIP point. The DPI scale is performed relative to the display containing the physical point.\n\n\n# screen.dipToScreenPoint(point) Windows\n\n * point Point\n\n返回 Point\n\nConverts a screen DIP point to a screen physical point. The DPI scale is performed relative to the display containing the DIP point.\n\n\n# screen.screenToDipRect(window, rect) Windows\n\n * window BrowserWindow | null\n * rect Rectangle\n\n返回 Rectangle\n\nConverts a screen physical rect to a screen DIP rect. The DPI scale is performed relative to the display nearest to window. If window is null, scaling will be performed to the display nearest to rect.\n\n\n# screen.dipToScreenRect(window, rect) Windows\n\n * window BrowserWindow | null\n * rect Rectangle\n\n返回 Rectangle\n\nConverts a screen DIP rect to a screen physical rect. The DPI scale is performed relative to the display nearest to window. If window is null, scaling will be performed to the display nearest to rect.",normalizedContent:"# screen\n\n> 检索有关屏幕大小、显示器、光标位置等的信息。\n\n进程：主进程\n\n在 app 模块 emitted ready 事件之前，您不能使用此模块。\n\nscreen是一个eventemitter.\n\nnote: in the renderer / devtools, window.screen is a reserved dom property, so writing let { screen } = require('electron') will not work.\n\n创建填充整个屏幕的窗口的示例:\n\nconst { app, browserwindow, screen } = require('electron')\n\nlet win\napp.whenready().then(() => {\n  const { width, height } = screen.getprimarydisplay().workareasize\n  win = new browserwindow({ width, height })\n  win.loadurl('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n另一个在外部显示器中创建窗口的例子\n\nconst { app, browserwindow, screen } = require('electron')\n\nlet win\n\napp.whenready().then(() => {\n  const displays = screen.getalldisplays()\n  const externaldisplay = displays.find((display) => {\n    return display.bounds.x !== 0 || display.bounds.y !== 0\n  })\n\n  if (externaldisplay) {\n    win = new browserwindow({\n      x: externaldisplay.bounds.x + 50,\n      y: externaldisplay.bounds.y + 50\n    })\n    win.loadurl('https://github.com')\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 事件\n\nscreen模块触发以下事件:\n\n\n# event: 'display-added'\n\n返回:\n\n * event event\n * newdisplay display\n\n当新的窗口newdisplay被添加的时候触发。\n\n\n# event: 'display-removed'\n\n返回:\n\n * event event\n * olddisplay display\n\n当旧的窗口olddisplay被移除的时候触发。\n\n\n# event: 'display-metrics-changed'\n\n返回:\n\n * event event\n * display display\n * changedmetrics string[]\n\n当display中的一个或多个值发生改变时发出。 changedmetrics是描述更改信息的字符串数组。 可能改变的值有bounds, workarea, scalefactor 和 rotation.\n\n\n# 方法\n\nscreen模块有以下方法:\n\n\n# screen.getcursorscreenpoint()\n\n返回 point\n\n当前鼠标的绝对位置。\n\nnote: the return value is a dip point, not a screen physical point.\n\n\n# screen.getprimarydisplay()\n\n返回主窗口display\n\n\n# screen.getalldisplays()\n\n返回一个窗口数组display[]，表示当前可用的窗口。\n\n\n# screen.getdisplaynearestpoint(point)\n\n * point point\n\n返回离指定点最近的一个窗口display\n\n\n# screen.getdisplaymatching(rect)\n\n * rect rectangle\n\n返回离指定的图形最密切相交一个窗口display\n\n\n# screen.screentodippoint(point) windows\n\n * point point\n\n返回 point\n\nconverts a screen physical point to a screen dip point. the dpi scale is performed relative to the display containing the physical point.\n\n\n# screen.diptoscreenpoint(point) windows\n\n * point point\n\n返回 point\n\nconverts a screen dip point to a screen physical point. the dpi scale is performed relative to the display containing the dip point.\n\n\n# screen.screentodiprect(window, rect) windows\n\n * window browserwindow | null\n * rect rectangle\n\n返回 rectangle\n\nconverts a screen physical rect to a screen dip rect. the dpi scale is performed relative to the display nearest to window. if window is null, scaling will be performed to the display nearest to rect.\n\n\n# screen.diptoscreenrect(window, rect) windows\n\n * window browserwindow | null\n * rect rectangle\n\n返回 rectangle\n\nconverts a screen dip rect to a screen physical rect. the dpi scale is performed relative to the display nearest to window. if window is null, scaling will be performed to the display nearest to rect.",charsets:{cjk:!0}},{title:"service-workers",frontmatter:{title:"service-workers",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/75d39a/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/service-workers.html",relativePath:"《Electron中文文档》/api/service-workers.md",key:"v-23f80a00",path:"/pages/75d39a/",headers:[{level:2,title:"Class: ServiceWorkers",slug:"class-serviceworkers",normalizedTitle:"class: serviceworkers",charIndex:2},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:741},{level:4,title:"Event: 'console-message'",slug:"event-console-message",normalizedTitle:"event: 'console-message'",charIndex:774},{level:4,title:"Event: 'registration-completed'",slug:"event-registration-completed",normalizedTitle:"event: 'registration-completed'",charIndex:1312},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:1578},{level:4,title:"serviceWorkers.getAllRunning()",slug:"serviceworkers-getallrunning",normalizedTitle:"serviceworkers.getallrunning()",charIndex:363},{level:4,title:"serviceWorkers.getFromVersionID(versionId)",slug:"serviceworkers-getfromversionid-versionid",normalizedTitle:"serviceworkers.getfromversionid(versionid)",charIndex:1765}],headersStr:"Class: ServiceWorkers 实例事件 Event: 'console-message' Event: 'registration-completed' 实例方法 serviceWorkers.getAllRunning() serviceWorkers.getFromVersionID(versionId)",content:"# Class: ServiceWorkers\n\n> 从活跃的 service worker 会话中查询和接收事件\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n通过Session的serviceWorkers属性来访问ServiceWorkers的实例\n\n例如：\n\nconst { session } = require('electron')\n\n// Get all service workers.\nconsole.log(session.defaultSession.serviceWorkers.getAllRunning())\n\n// Handle logs and get service worker info\nsession.defaultSession.serviceWorkers.on('console-message', (event, messageDetails) => {\n  console.log(\n    'Got service worker message',\n    messageDetails,\n    'from',\n    session.defaultSession.serviceWorkers.getFromVersionID(messageDetails.versionId)\n  )\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 实例事件\n\nServiceWorkers实例中有下列事件：\n\n# Event: 'console-message'\n\n返回:\n\n * event Event\n * messageDetails Object - 有关控制台消息的信息\n   * message String - 实际控制台消息\n   * versionId Number - 发送消息日志的 service worker 的版本 ID\n   * source String - 消息源的类型 可以是 javascript, xml, network, console-api, storage, app-cache, rendering, security, deprecation, worker, violation, intervention, recommendation 或 other.\n   * level Number - 日志等级，从 0 到 3 。 按顺序匹配 verbose, info, warning 和 error.\n   * sourceUrl String - 消息来源的URL\n   * lineNumber Number - 触发当前控制台消息的源代码行数\n\n当一个service worker记录日志到控制台的时候将自动触发此事件\n\n# Event: 'registration-completed'\n\n返回:\n\n * event Event\n * details Object - 有关 service worker 注册的信息\n   * scope String - 当前 service worker 所注册在的URL\n\n当一个service worker已经被注册完成的时候触发此事件。 注册完成分两种情况， 一个是调用navigator.serviceWorker.register('/sw.js')方法成功，另一个是当Chrome的扩展加载结束。\n\n\n# 实例方法\n\n在ServiceWorkers实例对象中，有以下方法:\n\n# serviceWorkers.getAllRunning()\n\n返回 Record<Number, ServiceWorkerInfo> ， 一个 ServiceWorkerInfo 对象， 其中键是 service worker 的版本 ID ，值是 service worker 的信息。\n\n# serviceWorkers.getFromVersionID(versionId)\n\n * versionId Number\n\n返回 ServiceWorkerInfo - service worker的相关信息\n\n如果 service worker 不存在或者停止运行，此方法将抛出异常。",normalizedContent:"# class: serviceworkers\n\n> 从活跃的 service worker 会话中查询和接收事件\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n通过session的serviceworkers属性来访问serviceworkers的实例\n\n例如：\n\nconst { session } = require('electron')\n\n// get all service workers.\nconsole.log(session.defaultsession.serviceworkers.getallrunning())\n\n// handle logs and get service worker info\nsession.defaultsession.serviceworkers.on('console-message', (event, messagedetails) => {\n  console.log(\n    'got service worker message',\n    messagedetails,\n    'from',\n    session.defaultsession.serviceworkers.getfromversionid(messagedetails.versionid)\n  )\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 实例事件\n\nserviceworkers实例中有下列事件：\n\n# event: 'console-message'\n\n返回:\n\n * event event\n * messagedetails object - 有关控制台消息的信息\n   * message string - 实际控制台消息\n   * versionid number - 发送消息日志的 service worker 的版本 id\n   * source string - 消息源的类型 可以是 javascript, xml, network, console-api, storage, app-cache, rendering, security, deprecation, worker, violation, intervention, recommendation 或 other.\n   * level number - 日志等级，从 0 到 3 。 按顺序匹配 verbose, info, warning 和 error.\n   * sourceurl string - 消息来源的url\n   * linenumber number - 触发当前控制台消息的源代码行数\n\n当一个service worker记录日志到控制台的时候将自动触发此事件\n\n# event: 'registration-completed'\n\n返回:\n\n * event event\n * details object - 有关 service worker 注册的信息\n   * scope string - 当前 service worker 所注册在的url\n\n当一个service worker已经被注册完成的时候触发此事件。 注册完成分两种情况， 一个是调用navigator.serviceworker.register('/sw.js')方法成功，另一个是当chrome的扩展加载结束。\n\n\n# 实例方法\n\n在serviceworkers实例对象中，有以下方法:\n\n# serviceworkers.getallrunning()\n\n返回 record<number, serviceworkerinfo> ， 一个 serviceworkerinfo 对象， 其中键是 service worker 的版本 id ，值是 service worker 的信息。\n\n# serviceworkers.getfromversionid(versionid)\n\n * versionid number\n\n返回 serviceworkerinfo - service worker的相关信息\n\n如果 service worker 不存在或者停止运行，此方法将抛出异常。",charsets:{cjk:!0}},{title:"session",frontmatter:{title:"session",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/9bda44/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/session.html",relativePath:"《Electron中文文档》/api/session.md",key:"v-52dd6a0e",path:"/pages/9bda44/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:378},{level:3,title:"session.fromPartition(partition[, options])",slug:"session-frompartition-partition-options",normalizedTitle:"session.frompartition(partition[, options])",charIndex:404},{level:2,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:109},{level:3,title:"session.defaultSession",slug:"session-defaultsession",normalizedTitle:"session.defaultsession",charIndex:902},{level:2,title:"类: Session",slug:"类-session",normalizedTitle:"类: session",charIndex:961},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:1306},{level:4,title:"Instance Events",slug:"instance-events",normalizedTitle:"instance events",charIndex:1334},{level:4,title:"Event: 'extension-loaded'",slug:"event-extension-loaded",normalizedTitle:"event: 'extension-loaded'",charIndex:1805},{level:4,title:"Event: 'extension-unloaded'",slug:"event-extension-unloaded",normalizedTitle:"event: 'extension-unloaded'",charIndex:2042},{level:4,title:"Event: 'extension-ready'",slug:"event-extension-ready",normalizedTitle:"event: 'extension-ready'",charIndex:2164},{level:4,title:"Event: 'preconnect'",slug:"event-preconnect",normalizedTitle:"event: 'preconnect'",charIndex:2284},{level:4,title:"Event: 'spellcheck-dictionary-initialized'",slug:"event-spellcheck-dictionary-initialized",normalizedTitle:"event: 'spellcheck-dictionary-initialized'",charIndex:2484},{level:4,title:"Event: 'spellcheck-dictionary-download-begin'",slug:"event-spellcheck-dictionary-download-begin",normalizedTitle:"event: 'spellcheck-dictionary-download-begin'",charIndex:2626},{level:4,title:"Event: 'spellcheck-dictionary-download-success'",slug:"event-spellcheck-dictionary-download-success",normalizedTitle:"event: 'spellcheck-dictionary-download-success'",charIndex:2755},{level:4,title:"Event: 'spellcheck-dictionary-download-failure'",slug:"event-spellcheck-dictionary-download-failure",normalizedTitle:"event: 'spellcheck-dictionary-download-failure'",charIndex:2885},{level:4,title:"Event: 'select-hid-device'",slug:"event-select-hid-device",normalizedTitle:"event: 'select-hid-device'",charIndex:3041},{level:4,title:"Event: 'hid-device-added'",slug:"event-hid-device-added",normalizedTitle:"event: 'hid-device-added'",charIndex:5357},{level:4,title:"Event: 'hid-device-removed'",slug:"event-hid-device-removed",normalizedTitle:"event: 'hid-device-removed'",charIndex:5689},{level:4,title:"Event: 'select-serial-port'",slug:"event-select-serial-port",normalizedTitle:"event: 'select-serial-port'",charIndex:5986},{level:4,title:"Event: 'serial-port-added'",slug:"event-serial-port-added",normalizedTitle:"event: 'serial-port-added'",charIndex:6900},{level:4,title:"Event: 'serial-port-removed'",slug:"event-serial-port-removed",normalizedTitle:"event: 'serial-port-removed'",charIndex:7107},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:7306},{level:4,title:"ses.getCacheSize()",slug:"ses-getcachesize",normalizedTitle:"ses.getcachesize()",charIndex:7336},{level:4,title:"ses.clearCache()",slug:"ses-clearcache",normalizedTitle:"ses.clearcache()",charIndex:7419},{level:4,title:"ses.clearStorageData([options])",slug:"ses-clearstoragedata-options",normalizedTitle:"ses.clearstoragedata([options])",charIndex:7497},{level:4,title:"ses.flushStorageData()",slug:"ses-flushstoragedata",normalizedTitle:"ses.flushstoragedata()",charIndex:7957},{level:4,title:"ses.setProxy(config)",slug:"ses-setproxy-config",normalizedTitle:"ses.setproxy(config)",charIndex:8008},{level:4,title:"ses.resolveProxy(url)",slug:"ses-resolveproxy-url",normalizedTitle:"ses.resolveproxy(url)",charIndex:11290},{level:4,title:"ses.forceReloadProxyConfig()",slug:"ses-forcereloadproxyconfig",normalizedTitle:"ses.forcereloadproxyconfig()",charIndex:11399},{level:4,title:"ses.setDownloadPath(path)",slug:"ses-setdownloadpath-path",normalizedTitle:"ses.setdownloadpath(path)",charIndex:11680},{level:4,title:"ses.enableNetworkEmulation(options)",slug:"ses-enablenetworkemulation-options",normalizedTitle:"ses.enablenetworkemulation(options)",charIndex:11873},{level:4,title:"ses.preconnect(options)",slug:"ses-preconnect-options",normalizedTitle:"ses.preconnect(options)",charIndex:12688},{level:4,title:"ses.closeAllConnections()",slug:"ses-closeallconnections",normalizedTitle:"ses.closeallconnections()",charIndex:12979},{level:4,title:"ses.disableNetworkEmulation()",slug:"ses-disablenetworkemulation",normalizedTitle:"ses.disablenetworkemulation()",charIndex:13141},{level:4,title:"ses.setCertificateVerifyProc(proc)",slug:"ses-setcertificateverifyproc-proc",normalizedTitle:"ses.setcertificateverifyproc(proc)",charIndex:13284},{level:4,title:"ses.setPermissionRequestHandler(handler)",slug:"ses-setpermissionrequesthandler-handler",normalizedTitle:"ses.setpermissionrequesthandler(handler)",charIndex:14338},{level:4,title:"ses.setPermissionCheckHandler(handler)",slug:"ses-setpermissioncheckhandler-handler",normalizedTitle:"ses.setpermissioncheckhandler(handler)",charIndex:3510},{level:4,title:"ses.setDevicePermissionHandler(handler)",slug:"ses-setdevicepermissionhandler-handler",normalizedTitle:"ses.setdevicepermissionhandler(handler)",charIndex:3553},{level:4,title:"ses.clearHostResolverCache()",slug:"ses-clearhostresolvercache",normalizedTitle:"ses.clearhostresolvercache()",charIndex:21932},{level:4,title:"ses.allowNTLMCredentialsForDomains(domains)",slug:"ses-allowntlmcredentialsfordomains-domains",normalizedTitle:"ses.allowntlmcredentialsfordomains(domains)",charIndex:22044},{level:4,title:"ses.setUserAgent(userAgent[, acceptLanguages])",slug:"ses-setuseragent-useragent-acceptlanguages",normalizedTitle:"ses.setuseragent(useragent[, acceptlanguages])",charIndex:22458},{level:4,title:"ses.isPersistent()",slug:"ses-ispersistent",normalizedTitle:"ses.ispersistent()",charIndex:22747},{level:4,title:"ses.getUserAgent()",slug:"ses-getuseragent",normalizedTitle:"ses.getuseragent()",charIndex:337},{level:4,title:"ses.setSSLConfig(config)",slug:"ses-setsslconfig-config",normalizedTitle:"ses.setsslconfig(config)",charIndex:23081},{level:4,title:"ses.getBlobData(identifier)",slug:"ses-getblobdata-identifier",normalizedTitle:"ses.getblobdata(identifier)",charIndex:24244},{level:4,title:"ses.downloadURL(url)",slug:"ses-downloadurl-url",normalizedTitle:"ses.downloadurl(url)",charIndex:24361},{level:4,title:"ses.createInterruptedDownload(options)",slug:"ses-createinterrupteddownload-options",normalizedTitle:"ses.createinterrupteddownload(options)",charIndex:24647},{level:4,title:"ses.clearAuthCache()",slug:"ses-clearauthcache",normalizedTitle:"ses.clearauthcache()",charIndex:25231},{level:4,title:"ses.setPreloads(preloads)",slug:"ses-setpreloads-preloads",normalizedTitle:"ses.setpreloads(preloads)",charIndex:25352},{level:4,title:"ses.getPreloads()",slug:"ses-getpreloads",normalizedTitle:"ses.getpreloads()",charIndex:25567},{level:4,title:"ses.setSpellCheckerEnabled(enable)",slug:"ses-setspellcheckerenabled-enable",normalizedTitle:"ses.setspellcheckerenabled(enable)",charIndex:25631},{level:4,title:"ses.isSpellCheckerEnabled()",slug:"ses-isspellcheckerenabled",normalizedTitle:"ses.isspellcheckerenabled()",charIndex:25739},{level:4,title:"ses.setSpellCheckerLanguages(languages)",slug:"ses-setspellcheckerlanguages-languages",normalizedTitle:"ses.setspellcheckerlanguages(languages)",charIndex:25835},{level:4,title:"ses.getSpellCheckerLanguages()",slug:"ses-getspellcheckerlanguages",normalizedTitle:"ses.getspellcheckerlanguages()",charIndex:26394},{level:4,title:"ses.setSpellCheckerDictionaryDownloadURL(url)",slug:"ses-setspellcheckerdictionarydownloadurl-url",normalizedTitle:"ses.setspellcheckerdictionarydownloadurl(url)",charIndex:26854},{level:4,title:"ses.listWordsInSpellCheckerDictionary()",slug:"ses-listwordsinspellcheckerdictionary",normalizedTitle:"ses.listwordsinspellcheckerdictionary()",charIndex:27942},{level:4,title:"ses.addWordToSpellCheckerDictionary(word)",slug:"ses-addwordtospellcheckerdictionary-word",normalizedTitle:"ses.addwordtospellcheckerdictionary(word)",charIndex:28119},{level:4,title:"ses.removeWordFromSpellCheckerDictionary(word)",slug:"ses-removewordfromspellcheckerdictionary-word",normalizedTitle:"ses.removewordfromspellcheckerdictionary(word)",charIndex:28468},{level:4,title:"ses.loadExtension(path[, options])",slug:"ses-loadextension-path-options",normalizedTitle:"ses.loadextension(path[, options])",charIndex:28831},{level:4,title:"ses.removeExtension(extensionId)",slug:"ses-removeextension-extensionid",normalizedTitle:"ses.removeextension(extensionid)",charIndex:30590},{level:4,title:"ses.getExtension(extensionId)",slug:"ses-getextension-extensionid",normalizedTitle:"ses.getextension(extensionid)",charIndex:30737},{level:4,title:"ses.getAllExtensions()",slug:"ses-getallextensions",normalizedTitle:"ses.getallextensions()",charIndex:30925},{level:4,title:"ses.getStoragePath()",slug:"ses-getstoragepath",normalizedTitle:"ses.getstoragepath()",charIndex:31044},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:31219},{level:4,title:"ses.availableSpellCheckerLanguages 只读",slug:"ses-availablespellcheckerlanguages-只读",normalizedTitle:"ses.availablespellcheckerlanguages 只读",charIndex:31247},{level:4,title:"ses.spellCheckerEnabled",slug:"ses-spellcheckerenabled",normalizedTitle:"ses.spellcheckerenabled",charIndex:31485},{level:4,title:"ses.storagePath 只读",slug:"ses-storagepath-只读",normalizedTitle:"ses.storagepath 只读",charIndex:31576},{level:4,title:"ses.cookies 只读",slug:"ses-cookies-只读",normalizedTitle:"ses.cookies 只读",charIndex:31748},{level:4,title:"ses.serviceWorkers 只读",slug:"ses-serviceworkers-只读",normalizedTitle:"ses.serviceworkers 只读",charIndex:31802},{level:4,title:"ses.webRequest 只读",slug:"ses-webrequest-只读",normalizedTitle:"ses.webrequest 只读",charIndex:31870},{level:4,title:"ses.protocol 只读",slug:"ses-protocol-只读",normalizedTitle:"ses.protocol 只读",charIndex:31930},{level:4,title:"ses.netLog 只读",slug:"ses-netlog-只读",normalizedTitle:"ses.netlog 只读",charIndex:32408}],headersStr:"方法 session.fromPartition(partition[, options]) 属性 session.defaultSession 类: Session 实例事件 Instance Events Event: 'extension-loaded' Event: 'extension-unloaded' Event: 'extension-ready' Event: 'preconnect' Event: 'spellcheck-dictionary-initialized' Event: 'spellcheck-dictionary-download-begin' Event: 'spellcheck-dictionary-download-success' Event: 'spellcheck-dictionary-download-failure' Event: 'select-hid-device' Event: 'hid-device-added' Event: 'hid-device-removed' Event: 'select-serial-port' Event: 'serial-port-added' Event: 'serial-port-removed' 实例方法 ses.getCacheSize() ses.clearCache() ses.clearStorageData([options]) ses.flushStorageData() ses.setProxy(config) ses.resolveProxy(url) ses.forceReloadProxyConfig() ses.setDownloadPath(path) ses.enableNetworkEmulation(options) ses.preconnect(options) ses.closeAllConnections() ses.disableNetworkEmulation() ses.setCertificateVerifyProc(proc) ses.setPermissionRequestHandler(handler) ses.setPermissionCheckHandler(handler) ses.setDevicePermissionHandler(handler) ses.clearHostResolverCache() ses.allowNTLMCredentialsForDomains(domains) ses.setUserAgent(userAgent[, acceptLanguages]) ses.isPersistent() ses.getUserAgent() ses.setSSLConfig(config) ses.getBlobData(identifier) ses.downloadURL(url) ses.createInterruptedDownload(options) ses.clearAuthCache() ses.setPreloads(preloads) ses.getPreloads() ses.setSpellCheckerEnabled(enable) ses.isSpellCheckerEnabled() ses.setSpellCheckerLanguages(languages) ses.getSpellCheckerLanguages() ses.setSpellCheckerDictionaryDownloadURL(url) ses.listWordsInSpellCheckerDictionary() ses.addWordToSpellCheckerDictionary(word) ses.removeWordFromSpellCheckerDictionary(word) ses.loadExtension(path[, options]) ses.removeExtension(extensionId) ses.getExtension(extensionId) ses.getAllExtensions() ses.getStoragePath() 实例属性 ses.availableSpellCheckerLanguages 只读 ses.spellCheckerEnabled ses.storagePath 只读 ses.cookies 只读 ses.serviceWorkers 只读 ses.webRequest 只读 ses.protocol 只读 ses.netLog 只读",content:"# session\n\n> 管理浏览器会话、cookie、缓存、代理设置等。\n\n进程：主进程\n\nsession 模块可用于创建新的 session 对象。\n\n您还可以通过使用 WebContents 的 session 属性或从 session 模块访问现有页面的 <0>session</0>。\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow({ width: 800, height: 600 })\nwin.loadURL('http://github.com')\n\nconst ses = win.webContents.session\nconsole.log(ses.getUserAgent())\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 方法\n\nsession 模块具有以下方法:\n\n\n# session.fromPartition(partition[, options])\n\n * partition String\n * options Object (可选)\n   * cache Boolean - 是否可以使用缓存.\n\nReturns Session - 根据partition字符串产生的session实例。 当这里已存在一个Session具有相同的partition, 它将被返回; 否则一个新的Session实例将根据options被创建。\n\n如果 partition 以 persist:开头, 该页面将使用持续的 session，并在所有页面生效，且使用同一个partition. 如果没有 persist: 前缀, 页面将使用 in-memory session. 如果没有设置partition，app 将返回默认的session。\n\n要根据options创建Session，你需要确保Session的partition在之前从未被使用。 没有办法修改一个已存在的Session对象的options。\n\n\n# 属性\n\nsession 模块具有以下方法:\n\n\n# session.defaultSession\n\n一个Session对象，该应用程序的默认session对象。\n\n\n# 类: Session\n\n> 获取和设置Session的属性。\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n你可以创建一个 Session对象在session模块中。\n\nconst { session } = require('electron')\nconst ses = session.fromPartition('persist:name')\nconsole.log(ses.getUserAgent())\n\n\n1\n2\n3\n\n\n\n# 实例事件\n\n以下事件会在Session实例触发。\n\n# Instance Events\n\n返回:\n\n * event Event\n * item DownloadItem\n * webContents WebContents\n\n当 Electron 刚要在webContents中下载item的时候触发。\n\n调用event.preventDefault()方法，将会停止下载，并且在进程的next tick中，item将不再可用。\n\nconst { session } = require('electron')\nsession.defaultSession.on('will-download', (event, item, webContents) => {\n  event.preventDefault()\n  require('got')(item.getURL()).then((response) => {\n    require('fs').writeFileSync('/somewhere', response.body)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# Event: 'extension-loaded'\n\n返回:\n\n * event Event\n * extension 扩展插件\n\n在扩展插件加载完成后触发。 当一个扩展插件被添加到 \"enabled\" 的扩展插件集合内部时， 将自动触发 这包括：\n\n * 扩展插件正在从 Session.loadExtension 中被加载\n * 扩展插件正在被重新加载：\n   * 由于崩溃\n   * 扩展插件被请求重新载入 (chrome.runtime.reload()).\n\n# Event: 'extension-unloaded'\n\n返回:\n\n * event Event\n * extension 扩展插件\n\n当一个扩展插件被卸载后触发。 当 Session.removeExtension 被调用时也会触发。\n\n# Event: 'extension-ready'\n\n返回:\n\n * event Event\n * extension 扩展插件\n\n当一个扩展插件加载完成，同时所有必要的浏览器状态也初始化完毕，允许启动插件背景页面时， 将触发此事件。\n\n# Event: 'preconnect'\n\n返回:\n\n * event Event\n * preconnectUrl String - 渲染器为预连接请求的 URL\n * allowCredentials Boolean - True 代表着渲染器在请求一个包含 credentials 信息的链接 (详见spec)\n\n当渲染进程已经预链接到 URL 后将触发此事件, 通常用于 资源加载 提醒\n\n# Event: 'spellcheck-dictionary-initialized'\n\n返回:\n\n * event Event\n * languageCode String - 字典文件的语言代码\n\n当一个hunspell字典初始化成功时触发。 这个事件在文件被下载之后触发。\n\n# Event: 'spellcheck-dictionary-download-begin'\n\n返回:\n\n * event Event\n * languageCode String - 字典文件的语言代码\n\n当 hunspell 字典文件开始下载时触发\n\n# Event: 'spellcheck-dictionary-download-success'\n\n返回:\n\n * event Event\n * languageCode String - 字典文件的语言代码\n\n当 hunspell 字典文件下载成功触发\n\n# Event: 'spellcheck-dictionary-download-failure'\n\n返回:\n\n * event Event\n * languageCode String - 字典文件的语言代码\n\n当hunspell字典下载失败时触发。 如果需要详细信息，你应当查看网络日志并且检查下载请求。\n\n# Event: 'select-hid-device'\n\n返回:\n\n * event Event\n * details Object\n   * deviceList HIDDevice[]\n   * frame WebFrameMain\n * callback Function\n   * deviceId String | null (optional)\n\nEmitted when a HID device needs to be selected when a call to navigator.hid.requestDevice is made. callback should be called with deviceId to be selected; passing no arguments to callback will cancel the request. Additionally, permissioning on navigator.hid can be further managed by using ses.setPermissionCheckHandler(handler) and ses.setDevicePermissionHandler(handler)`.\n\nconst { app, BrowserWindow } = require('electron')\n\nlet win = null\n\napp.whenReady().then(() => {\n  win = new BrowserWindow()\n\n  win.webContents.session.setPermissionCheckHandler((webContents, permission, requestingOrigin, details) => {\n    if (permission === 'hid') {\n      // Add logic here to determine if permission should be given to allow HID selection\n      return true\n    }\n    return false\n  })\n\n  // Optionally, retrieve previously persisted devices from a persistent store\n  const grantedDevices = fetchGrantedDevices()\n\n  win.webContents.session.setDevicePermissionHandler((details) => {\n    if (new URL(details.origin).hostname === 'some-host' && details.deviceType === 'hid') {\n      if (details.device.vendorId === 123 && details.device.productId === 345) {\n        // Always allow this type of device (this allows skipping the call to `navigator.hid.requestDevice` first)\n        return true\n      }\n\n      // Search through the list of devices that have previously been granted permission\n      return grantedDevices.some((grantedDevice) => {\n        return grantedDevice.vendorId === details.device.vendorId &&\n              grantedDevice.productId === details.device.productId &&\n              grantedDevice.serialNumber && grantedDevice.serialNumber === details.device.serialNumber\n      })\n    }\n    return false\n  })\n\n  win.webContents.session.on('select-hid-device', (event, details, callback) => {\n    event.preventDefault()\n    const selectedDevice = details.deviceList.find((device) => {\n      return device.vendorId === '9025' && device.productId === '67'\n    })\n    callback(selectedPort?.deviceId)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n# Event: 'hid-device-added'\n\n返回:\n\n * event Event\n * details Object\n   * device HIDDevice[]\n   * frame WebFrameMain\n\nEmitted when a new HID device becomes available. For example, when a new USB device is plugged in.\n\nThis event will only be emitted after navigator.hid.requestDevice has been called and select-hid-device has fired.\n\n# Event: 'hid-device-removed'\n\n返回:\n\n * event Event\n * details Object\n   * device HIDDevice[]\n   * frame WebFrameMain\n\nEmitted when a HID device has been removed. 比如， 当一个USB设备被移除时。\n\nThis event will only be emitted after navigator.hid.requestDevice has been called and select-hid-device has fired.\n\n# Event: 'select-serial-port'\n\n返回:\n\n * event Event\n * portList SerialPort[]\n * webContents WebContents\n * callback Function\n   * portId String\n\n调用 navigator.serial.requestPort 并选择一系列端口时触发此事件。 callback 方法将在portId 被选中后调用, 给callback 方法一个空字符串参数将取消请求。 此外， navigator.serial 的许可权可以通过使用 ses.setPermissionCheckHandler(handler) 来设置 serial 权限。\n\nconst { app, BrowserWindow } = require('electron')\n\nlet win = null\n\napp.whenReady().then(() => {\n  win = new BrowserWindow({\n    width: 800,\n    height: 600\n  })\n  win.webContents.session.on('select-serial-port', (event, portList, webContents, callback) => {\n    event.preventDefault()\n    const selectedPort = portList.find((device) => {\n      return device.vendorId === '9025' && device.productId === '67'\n    })\n    if (!selectedPort) {\n      callback('')\n    } else {\n      callback(selectedPort.portId)\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# Event: 'serial-port-added'\n\n返回:\n\n * event Event\n * port SerialPort\n * webContents WebContents\n\n当 navigator.serial.requestPort 已经被调用时触发此事件，同时 如果新的串行端口可用则 select-serial-port 事件也将触发。 比如，当一个新的USB设备插入时将触发此事件。\n\n# Event: 'serial-port-removed'\n\n返回:\n\n * event Event\n * port SerialPort\n * webContents WebContents\n\n当 navigator.serial.requestPort 已经被调用时触发，同时如果串行端口已经被删除则触发 select-serial-port 事件。 比如， 当一个USB设备被移除时。\n\n\n# 实例方法\n\n在Session实例对象中，有以下方法:\n\n# ses.getCacheSize()\n\nReturns Promise<Integer> - 当前 session 会话缓存大小，用 byte 字节作为单位。\n\n# ses.clearCache()\n\nReturns Promise<void> - 当缓存清除操作完成时可获取\n\n清除session的HTTP缓存。\n\n# ses.clearStorageData([options])\n\n * options Object (可选)\n   * origin String - (可选项) 这个值应该按照 window.location.origin 的形式: 协议://主机名:端口方式设置。\n   * storages String[] (可选项) - 要清除的存储类型，包含: appcache, cookies, filesystem, indexdb, localstorage, shadercache, websql, serviceworkers, cachestorage. 如果没有指定storages，将会清除所有的storages类型\n   * quotas String[] - (可选项) 要清除的配额类型, 包含: temporary, persistent, syncable。 如果没有指定，将会清除所有的quotas。\n\nReturns Promise<void> - 当存储的数据已经被清理时可获得\n\n# ses.flushStorageData()\n\n写入任何未写入DOMStorage数据到磁盘.\n\n# ses.setProxy(config)\n\n * config Object\n   * mode String (可选) - 代理模式。 可以是其中之一： direct, auto_detect, pac_script, fixed_servers 或 system。 如未指定，则根据其他选项自动判断\n     * direct 在直接模式下，所有连接都是直接创建的，无需任何代理。\n     * auto_detect 在auto_detect模式下，代理配置由 PAC 脚本决定，该脚本 可在 http://wpad/wpad.dat 下载。\n     * pac_script In pac_script mode the proxy configuration is determined by a PAC script that is retrieved from the URL specified in the pacScript. This is the default mode if pacScript is specified.\n     * fixed_servers In fixed_servers mode the proxy configuration is specified in proxyRules. This is the default mode if proxyRules is specified.\n     * system In system mode the proxy configuration is taken from the operating system. Note that the system mode is different from setting no proxy configuration. In the latter case, Electron falls back to the system settings only if no command-line options influence the proxy configuration.\n   * pacScript String (optional) - The URL associated with the PAC file.\n   * proxyRules String (optional) - Rules indicating which proxies to use.\n   * proxyBypassRules String (optional) - Rules indicating which URLs should bypass the proxy settings.\n\nReturns Promise<void> - Resolves when the proxy setting process is complete.\n\n代理设置\n\nWhen mode is unspecified, pacScript and proxyRules are provided together, the proxyRules option is ignored and pacScript configuration is applied.\n\nYou may need ses.closeAllConnections to close currently in flight connections to prevent pooled sockets using previous proxy from being reused by future requests.\n\nproxyRules 要遵循以下规则:\n\nproxyRules = schemeProxies[\";\"<schemeProxies>]\nschemeProxies = [<urlScheme>\"=\"]<proxyURIList>\nurlScheme = \"http\" | \"https\" | \"ftp\" | \"socks\"\nproxyURIList = <proxyURL>[\",\"<proxyURIList>]\nproxyURL = [<proxyScheme>\"://\"]<proxyHost>[\":\"<proxyPort>]\n\n\n1\n2\n3\n4\n5\n\n\n例如：\n\n * http=foopy:80;ftp=foopy2 - Use HTTP proxy foopy:80 for http:// URLs, and HTTP proxy foopy2:80 for ftp:// URLs.\n * foopy:80 - Use HTTP proxy foopy:80 for all URLs.\n * foopy:80,bar,direct:// - Use HTTP proxy foopy:80 for all URLs, failing over to bar if foopy:80 is unavailable, and after that using no proxy.\n * socks4://foopy - Use SOCKS v4 proxy foopy:1080 for all URLs.\n * http=foopy,socks5://bar.com - Use HTTP proxy foopy for http URLs, and fail over to the SOCKS5 proxy bar.com if foopy is unavailable.\n * http=foopy,direct:// - Use HTTP proxy foopy for http URLs, and use no proxy if foopy is unavailable.\n * http=foopy;socks=foopy2 - 对于http URL，用foopy作为HTTP协议代理，而其它所有URL则用socks4://foopy2 协议。\n\nproxyBypassRules是一个用逗号分隔的规则列表, 如下所述:\n\n * [ URL_SCHEME \"://\" ] HOSTNAME_PATTERN [ \":\" <port> ]\n   \n   与 HOSTNAME_PATTERN 模式匹配的所有主机名。\n   \n   例如: \"foobar.com\", \"foobar.com\", \".foobar.com\", \"foobar.com:99\", \"https://x..y.com:99\"\n\n * \".\" HOSTNAME_SUFFIX_PATTERN [ \":\" PORT ]\n   \n   匹配特定域名后缀。\n   \n   例如： \".google.com\", \".com\", \"http://.google.com\"\n\n * [ SCHEME \"://\" ] IP_LITERAL [ \":\" PORT ]\n   \n   匹配 IP 地址文本的 url。\n   \n   例如: \"127.0.1\", \"[0:0::1]\", \"[::1]\", \"http://[::1]:99\"\n\n * IP_LITERAL \"/\" PREFIX_LENGTH_IN_BITS\n   \n   匹配任何在给定IP范围内失败的URL。 IP范围使用指定的CIDR。\n   \n   例如: \"192.168.1.1/16\", \"fefe:13::abc/33\".\n\n * <local>\n   \n   匹配本地地址。 The meaning of <local> is whether the host matches one of: \"127.0.0.1\", \"::1\", \"localhost\".\n\n# ses.resolveProxy(url)\n\n * url URL\n\nReturns Promise<String> - Resolves with the proxy information for url.\n\n# ses.forceReloadProxyConfig()\n\nReturns Promise<void> - Resolves when the all internal states of proxy service is reset and the latest proxy configuration is reapplied if it's already available. The pac script will be fetched from pacScript again if the proxy mode is pac_script.\n\n# ses.setDownloadPath(path)\n\n * path String - The download location.\n\nSets download saving directory. By default, the download directory will be the Downloads under the respective app folder.\n\n# ses.enableNetworkEmulation(options)\n\n * 选项 对象\n   * offline Boolean (optional) - Whether to emulate network outage. Defaults to false.\n   * latency Double (optional) - RTT in ms. Defaults to 0 which will disable latency throttling.\n   * downloadThroughput Double (optional) - Download rate in Bps. Defaults to 0 which will disable download throttling.\n   * uploadThroughput Double (optional) - Upload rate in Bps. Defaults to 0 which will disable upload throttling.\n\n通过指定的配置为 session 模拟网络。\n\n// To emulate a GPRS connection with 50kbps throughput and 500 ms latency.\nwindow.webContents.session.enableNetworkEmulation({\n  latency: 500,\n  downloadThroughput: 6400,\n  uploadThroughput: 6400\n})\n\n// To emulate a network outage.\nwindow.webContents.session.enableNetworkEmulation({ offline: true })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# ses.preconnect(options)\n\n * 选项 对象\n   * url String - URL for preconnect. Only the origin is relevant for opening the socket.\n   * numSockets Number (optional) - number of sockets to preconnect. Must be between 1 and 6. Defaults to 1.\n\nPreconnects the given number of sockets to an origin.\n\n# ses.closeAllConnections()\n\nReturns Promise<void> - Resolves when all connections are closed.\n\nNote: It will terminate / fail all requests currently in flight.\n\n# ses.disableNetworkEmulation()\n\nDisables any network emulation already active for the session. Resets to the original network configuration.\n\n# ses.setCertificateVerifyProc(proc)\n\n * proc Function | null\n   * request Object\n     * hostname String\n     * certificate 证书\n     * validatedCertificate Certificate\n     * verificationResult String - chromium证书验证结果\n     * errorCode Integer - 错误代码\n   * callback Function\n     * verificationResult Integer - Value can be one of certificate error codes from here. Apart from the certificate error codes, the following special codes can be used.\n       * -0 - 表示成功并禁用证书透明度验证\n       * -2 - 表示失败\n       * -3 - 使用chromium的验证结果\n\n每当一个服务器证书请求验证，proc 将被这样 proc(request, callback) 调用，为 session 设置证书验证过程。 回调函数 callback(0) 接受证书，callback(-2) 驳回证书。\n\n调用 setCertificateVerifyProc（null）将恢复为默认证书验证过程。\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow()\n\nwin.webContents.session.setCertificateVerifyProc((request, callback) => {\n  const { hostname } = request\n  if (hostname === 'github.com') {\n    callback(0)\n  } else {\n    callback(-2)\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n> NOTE: The result of this procedure is cached by the network service.\n\n# ses.setPermissionRequestHandler(handler)\n\n * handler Function | null\n   * webContents WebContents - 请求权限的WebContents。 Please note that if the request comes from a subframe you should use requestingUrl to check the request origin.\n   * permission String - The type of requested permission.\n     * clipboard-read - Request access to read from the clipboard.\n     * media - Request access to media devices such as camera, microphone and speakers.\n     * display-capture - Request access to capture the screen.\n     * mediaKeySystem - Request access to DRM protected content.\n     * geolocation - Request access to user's current location.\n     * notifications - Request notification creation and the ability to display them in the user's system tray.\n     * midi - Request MIDI access in the webmidi API.\n     * midiSysex - Request the use of system exclusive messages in the webmidi API.\n     * pointerLock - Request to directly interpret mouse movements as an input method. Click here to know more.\n     * fullscreen - Request for the app to enter fullscreen mode.\n     * openExternal - Request to open links in external applications.\n     * unknown - An unrecognized permission request\n   * callback Function\n     * permissionGranted Boolean - 允许或拒绝该权限.\n   * details Object - Some properties are only available on certain permission types.\n     * externalURL String (optional) - The url of the openExternal request.\n     * mediaTypes String[] (optional) - The types of media access being requested, elements can be video or audio\n     * requestingUrl String - The last URL the requesting frame loaded\n     * isMainFrame Boolean - Whether the frame making the request is the main frame\n\n设置可用于响应 session 的权限请求的处理程序。 调用 callback(true) 将允许该权限, 调用 callback(false) 将拒绝它。 若要清除处理程序, 请调用 setPermissionRequestHandler (null)。 Please note that you must also implement setPermissionCheckHandler to get complete permission handling. Most web APIs do a permission check and then make a permission request if the check is denied.\n\nconst { session } = require('electron')\nsession.fromPartition('some-partition').setPermissionRequestHandler((webContents, permission, callback) => {\n  if (webContents.getURL() === 'some-host' && permission === 'notifications') {\n    return callback(false) // denied.\n  }\n\n  callback(true)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# ses.setPermissionCheckHandler(handler)\n\n * handler 函数<Boolean> | null\n   * webContents (WebContents | null) - WebContents checking the permission. Please note that if the request comes from a subframe you should use requestingUrl to check the request origin. 所有进行权限检查的跨源子帧将传递一个 null 的 webContents 对象给此处理程序，而某些其他权限检查（如 notifications 检查）将始终传递一个 null。 You should use embeddingOrigin and requestingOrigin to determine what origin the owning frame and the requesting frame are on respectively.\n   * permission String - Type of permission check. Valid values are midiSysex, notifications, geolocation, media,mediaKeySystem,midi, pointerLock, fullscreen, openExternal, hid, or serial.\n   * requestingOrigin String - The origin URL of the permission check\n   * details Object - Some properties are only available on certain permission types.\n     * embeddingOrigin String (optional) - The origin of the frame embedding the frame that made the permission check. Only set for cross-origin sub frames making permission checks.\n     * securityOrigin String (optional) - The security origin of the media check.\n     * mediaType String (optional) - The type of media access being requested, can be video, audio or unknown\n     * requestingUrl String (optional) - The last URL the requesting frame loaded. This is not provided for cross-origin sub frames making permission checks.\n     * isMainFrame Boolean - Whether the frame making the request is the main frame\n\nSets the handler which can be used to respond to permission checks for the session. Returning true will allow the permission and false will reject it. Please note that you must also implement setPermissionRequestHandler to get complete permission handling. Most web APIs do a permission check and then make a permission request if the check is denied. To clear the handler, call setPermissionCheckHandler(null).\n\nconst { session } = require('electron')\nconst url = require('url')\nsession.fromPartition('some-partition').setPermissionCheckHandler((webContents, permission, requestingOrigin) => {\n  if (new URL(requestingOrigin).hostname === 'some-host' && permission === 'notifications') {\n    return true // granted\n  }\n\n  return false // denied\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# ses.setDevicePermissionHandler(handler)\n\n * handler 函数<Boolean> | null\n   * details Object\n     * deviceType String - The type of device that permission is being requested on, can be hid.\n     * origin String - The origin URL of the device permission check.\n     * device HIDDevice - the device that permission is being requested for.\n     * frame WebFrameMain - WebFrameMain checking the device permission.\n\nSets the handler which can be used to respond to device permission checks for the session. Returning true will allow the device to be permitted and false will reject it. To clear the handler, call setDevicePermissionHandler(null). This handler can be used to provide default permissioning to devices without first calling for permission to devices (eg via navigator.hid.requestDevice). If this handler is not defined, the default device permissions as granted through device selection (eg via navigator.hid.requestDevice) will be used. Additionally, the default behavior of Electron is to store granted device permision through the lifetime of the corresponding WebContents. If longer term storage is needed, a developer can store granted device permissions (eg when handling the select-hid-device event) and then read from that storage with setDevicePermissionHandler.\n\nconst { app, BrowserWindow } = require('electron')\n\nlet win = null\n\napp.whenReady().then(() => {\n  win = new BrowserWindow()\n\n  win.webContents.session.setPermissionCheckHandler((webContents, permission, requestingOrigin, details) => {\n    if (permission === 'hid') {\n      // Add logic here to determine if permission should be given to allow HID selection\n      return true\n    }\n    return false\n  })\n\n  // Optionally, retrieve previously persisted devices from a persistent store\n  const grantedDevices = fetchGrantedDevices()\n\n  win.webContents.session.setDevicePermissionHandler((details) => {\n    if (new URL(details.origin).hostname === 'some-host' && details.deviceType === 'hid') {\n      if (details.device.vendorId === 123 && details.device.productId === 345) {\n        // Always allow this type of device (this allows skipping the call to `navigator.hid.requestDevice` first)\n        return true\n      }\n\n      // Search through the list of devices that have previously been granted permission\n      return grantedDevices.some((grantedDevice) => {\n        return grantedDevice.vendorId === details.device.vendorId &&\n              grantedDevice.productId === details.device.productId &&\n              grantedDevice.serialNumber && grantedDevice.serialNumber === details.device.serialNumber\n      })\n    }\n    return false\n  })\n\n  win.webContents.session.on('select-hid-device', (event, details, callback) => {\n    event.preventDefault()\n    const selectedDevice = details.deviceList.find((device) => {\n      return device.vendorId === '9025' && device.productId === '67'\n    })\n    callback(selectedPort?.deviceId)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n# ses.clearHostResolverCache()\n\nReturns Promise<void> - Resolves when the operation is complete.\n\n清除主机解析程序的缓存。\n\n# ses.allowNTLMCredentialsForDomains(domains)\n\n * domains String - 一个逗号分隔的服务器列表, 用于收集已经启用身份验证的服务器。\n\n动态设置是否始终为 HTTP NTLM 发送凭据或协商身份验证。\n\nconst { session } = require('electron')\n// 以 \"example.com\"、\"foobar.com\"、\"baz\" 结尾的 url 用于身份验证。\nsession.defaultSession.allowNTLMCredentialsForDomains('*example.com, *foobar.com, *baz')\n\n// 所有的 url 都可以用作身份验证\nsession.defaultSession.allowNTLMCredentialsForDomains('*')\n\n\n1\n2\n3\n4\n5\n6\n\n\n# ses.setUserAgent(userAgent[, acceptLanguages])\n\n * userAgent String\n * acceptLanguages String (可选)\n\n覆盖当前会话的 userAgent 和 acceptLanguages.\n\nacceptLanguages 必须是用逗号分隔的语言代码列表，例如 \"en-US,fr,de,ko,zh-CN,ja\".\n\n这不会影响现有的WebContents, 并且每个WebContents都可以使用 webContents.setUserAgent重写会话范围的user agent。\n\n# ses.isPersistent()\n\nReturns Boolean - Whether or not this session is a persistent one. The default webContents session of a BrowserWindow is persistent. When creating a session from a partition, session prefixed with persist: will be persistent, while others will be temporary.\n\n# ses.getUserAgent()\n\n返回 String - 当前会话的 user agent.\n\n# ses.setSSLConfig(config)\n\n * config Object\n   * minVersion String (可选) - 值可以是 tls1， tls1.1， tls1.2 或 tls1.3。 The minimum SSL version to allow when connecting to remote servers. 默认为tls1。\n   * maxVersion String (可选) - 可以是 tls1.2 或 tls1.3。 The maximum SSL version to allow when connecting to remote servers. 默认值为 tls1.3。\n   * disabledCipherSuites Integer[] (optional) - List of cipher suites which should be explicitly prevented from being used in addition to those disabled by the net built-in policy. Supported literal forms: 0xAABB, where AA is cipher_suite[0] and BB is cipher_suite[1], as defined in RFC 2246, Section 7.4.1.2. Unrecognized but parsable cipher suites in this form will not return an error. Ex: To disable TLS_RSA_WITH_RC4_128_MD5, specify 0x0004, while to disable TLS_ECDH_ECDSA_WITH_RC4_128_SHA, specify 0xC002. Note that TLSv1.3 ciphers cannot be disabled using this mechanism.\n\nSets the SSL configuration for the session. All subsequent network requests will use the new configuration. Existing network connections (such as WebSocket connections) will not be terminated, but old sockets in the pool will not be reused for new connections.\n\n# ses.getBlobData(identifier)\n\n * identifier String - 有效的 UUID.\n\nReturns Promise<Buffer> - resolves with blob data.\n\n# ses.downloadURL(url)\n\n * url String\n\nInitiates a download of the resource at url. The API will generate a DownloadItem that can be accessed with the will-download event.\n\nNote: This does not perform any security checks that relate to a page's origin, unlike webContents.downloadURL.\n\n# ses.createInterruptedDownload(options)\n\n * 选项 对象\n   * path String - 下载的绝对路径.\n   * urlChain String[] - 完整的 url 下载地址.\n   * mimeType String (可选)\n   * offset Integer - 下载的开始范围.\n   * length Integer - 下载的总长度。\n   * lastModified String (optional) - Last-Modified header value.\n   * eTag String (optional) - ETag header value.\n   * startTime Double (optional) - 下载的时间是从 UNIX 时代以来的秒数开始的。\n\n允许从上一个 Session 恢复 cancelled 或 interrupted 下载。 该 API 将生成一个 DownloadItem , 可使用 will-download 事件进行访问。 DownloadItem 将不具有与之关联的任何 WebContents, 并且初始状态将为 interrupted。 只有在 DownloadItem 上调用 resume API 时, 才会启动下载。\n\n# ses.clearAuthCache()\n\nReturns Promise<void> - resolves when the session’s HTTP authentication cache has been cleared.\n\n# ses.setPreloads(preloads)\n\n * preloads String[] - 数组，该数组由所有需要进行预加载的脚本的绝对路径组成。\n\nAdds scripts that will be executed on ALL web contents that are associated with this session just before normal preload scripts run.\n\n# ses.getPreloads()\n\n返回 String[] 返回一个数组，这个数组由已经注册过的预加载脚本的路径组成。\n\n# ses.setSpellCheckerEnabled(enable)\n\n * enable Boolean\n\nSets whether to enable the builtin spell checker.\n\n# ses.isSpellCheckerEnabled()\n\nReturns Boolean - Whether the builtin spell checker is enabled.\n\n# ses.setSpellCheckerLanguages(languages)\n\n * languages String[] - An array of language codes to enable the spellchecker for.\n\nThe built in spellchecker does not automatically detect what language a user is typing in. In order for the spell checker to correctly check their words you must call this API with an array of language codes. You can get the list of supported language codes with the ses.availableSpellCheckerLanguages property.\n\nNote: On macOS the OS spellchecker is used and will detect your language automatically. This API is a no-op on macOS.\n\n# ses.getSpellCheckerLanguages()\n\nReturns String[] - An array of language codes the spellchecker is enabled for. If this list is empty the spellchecker will fallback to using en-US. By default on launch if this setting is an empty list Electron will try to populate this setting with the current OS locale. This setting is persisted across restarts.\n\nNote: On macOS the OS spellchecker is used and has its own list of languages. This API is a no-op on macOS.\n\n# ses.setSpellCheckerDictionaryDownloadURL(url)\n\n * url String - A base URL for Electron to download hunspell dictionaries from.\n\nBy default Electron will download hunspell dictionaries from the Chromium CDN. If you want to override this behavior you can use this API to point the dictionary downloader at your own hosted version of the hunspell dictionaries. We publish a hunspell_dictionaries.zip file with each release which contains the files you need to host here, the file server must be case insensitive you must upload each file twice, once with the case it has in the ZIP file and once with the filename as all lower case.\n\nIf the files present in hunspell_dictionaries.zip are available at https://example.com/dictionaries/language-code.bdic then you should call this api with ses.setSpellCheckerDictionaryDownloadURL('https://example.com/dictionaries/'). Please note the trailing slash. The URL to the dictionaries is formed as ${url}${filename}.\n\nNote: On macOS the OS spellchecker is used and therefore we do not download any dictionary files. This API is a no-op on macOS.\n\n# ses.listWordsInSpellCheckerDictionary()\n\nReturns Promise<String[]> - An array of all words in app's custom dictionary. Resolves when the full dictionary is loaded from disk.\n\n# ses.addWordToSpellCheckerDictionary(word)\n\n * word String - The word you want to add to the dictionary\n\nReturns Boolean - Whether the word was successfully written to the custom dictionary. This API will not work on non-persistent (in-memory) sessions.\n\nNote: On macOS and Windows 10 this word will be written to the OS custom dictionary as well\n\n# ses.removeWordFromSpellCheckerDictionary(word)\n\n * word String - The word you want to remove from the dictionary\n\nReturns Boolean - Whether the word was successfully removed from the custom dictionary. This API will not work on non-persistent (in-memory) sessions.\n\nNote: On macOS and Windows 10 this word will be removed from the OS custom dictionary as well\n\n# ses.loadExtension(path[, options])\n\n * path String - Path to a directory containing an unpacked Chrome extension\n * options Object (可选)\n   * allowFileAccess Boolean - Whether to allow the extension to read local files over file:// protocol and inject content scripts into file:// pages. This is required e.g. for loading devtools extensions on file:// URLs. 默认值为 false.\n\nReturns Promise<Extension> - resolves when the extension is loaded.\n\nThis method will raise an exception if the extension could not be loaded. If there are warnings when installing the extension (e.g. if the extension requests an API that Electron does not support) then they will be logged to the console.\n\nNote that Electron does not support the full range of Chrome extensions APIs. See Supported Extensions APIs for more details on what is supported.\n\nNote that in previous versions of Electron, extensions that were loaded would be remembered for future runs of the application. This is no longer the case: loadExtension must be called on every boot of your app if you want the extension to be loaded.\n\nconst { app, session } = require('electron')\nconst path = require('path')\n\napp.on('ready', async () => {\n  await session.defaultSession.loadExtension(\n    path.join(__dirname, 'react-devtools'),\n    // allowFileAccess is required to load the devtools extension on file:// URLs.\n    { allowFileAccess: true }\n  )\n  // Note that in order to use the React DevTools extension, you'll need to\n  // download and unzip a copy of the extension.\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nThis API does not support loading packed (.crx) extensions.\n\n注意: 该 API 不能在 app 模块的 ready 事件之前调用.\n\nNote: Loading extensions into in-memory (non-persistent) sessions is not supported and will throw an error.\n\n# ses.removeExtension(extensionId)\n\n * extensionId String - ID of extension to remove\n\nUnloads an extension.\n\n注意: 该 API 不能在 app 模块的 ready 事件之前调用.\n\n# ses.getExtension(extensionId)\n\n * extensionId String - ID of extension to query\n\nReturns Extension | null - The loaded extension with the given ID.\n\n注意: 该 API 不能在 app 模块的 ready 事件之前调用.\n\n# ses.getAllExtensions()\n\nReturns Extension[] - A list of all loaded extensions.\n\n注意: 该 API 不能在 app 模块的 ready 事件之前调用.\n\n# ses.getStoragePath()\n\nA String | null indicating the absolute file system path where data for this session is persisted on disk. For in memory sessions this returns null.\n\n\n# 实例属性\n\n以下属性在Session实例上可用：\n\n# ses.availableSpellCheckerLanguages 只读\n\nA String[] array which consists of all the known available spell checker languages. Providing a language code to the setSpellCheckerLanguages API that isn't in this array will result in an error.\n\n# ses.spellCheckerEnabled\n\nA Boolean indicating whether builtin spell checker is enabled.\n\n# ses.storagePath 只读\n\nA String | null indicating the absolute file system path where data for this session is persisted on disk. For in memory sessions this returns null.\n\n# ses.cookies 只读\n\nA Cookies object for this session.\n\n# ses.serviceWorkers 只读\n\nA ServiceWorkers object for this session.\n\n# ses.webRequest 只读\n\nA WebRequest object for this session.\n\n# ses.protocol 只读\n\nSession中使用Protocol对象\n\nconst { app, session } = require('electron')\nconst path = require('path')\n\napp.whenReady().then(() => {\n  const protocol = session.fromPartition('some-partition').protocol\n  if (!protocol.registerFileProtocol('atom', (request, callback) => {\n    const url = request.url.substr(7)\n    callback({ path: path.normalize(`${__dirname}/${url}`) })\n  })) {\n    console.error('Failed to register protocol')\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# ses.netLog 只读\n\nA NetLog object for this session.\n\nconst { app, session } = require('electron')\n\napp.whenReady().then(async () => {\n  const netLog = session.fromPartition('some-partition').netLog\n  netLog.startLogging('/path/to/net-log')\n  // After some network events\n  const path = await netLog.stopLogging()\n  console.log('Net-logs written to', path)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",normalizedContent:"# session\n\n> 管理浏览器会话、cookie、缓存、代理设置等。\n\n进程：主进程\n\nsession 模块可用于创建新的 session 对象。\n\n您还可以通过使用 webcontents 的 session 属性或从 session 模块访问现有页面的 <0>session</0>。\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow({ width: 800, height: 600 })\nwin.loadurl('http://github.com')\n\nconst ses = win.webcontents.session\nconsole.log(ses.getuseragent())\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 方法\n\nsession 模块具有以下方法:\n\n\n# session.frompartition(partition[, options])\n\n * partition string\n * options object (可选)\n   * cache boolean - 是否可以使用缓存.\n\nreturns session - 根据partition字符串产生的session实例。 当这里已存在一个session具有相同的partition, 它将被返回; 否则一个新的session实例将根据options被创建。\n\n如果 partition 以 persist:开头, 该页面将使用持续的 session，并在所有页面生效，且使用同一个partition. 如果没有 persist: 前缀, 页面将使用 in-memory session. 如果没有设置partition，app 将返回默认的session。\n\n要根据options创建session，你需要确保session的partition在之前从未被使用。 没有办法修改一个已存在的session对象的options。\n\n\n# 属性\n\nsession 模块具有以下方法:\n\n\n# session.defaultsession\n\n一个session对象，该应用程序的默认session对象。\n\n\n# 类: session\n\n> 获取和设置session的属性。\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n你可以创建一个 session对象在session模块中。\n\nconst { session } = require('electron')\nconst ses = session.frompartition('persist:name')\nconsole.log(ses.getuseragent())\n\n\n1\n2\n3\n\n\n\n# 实例事件\n\n以下事件会在session实例触发。\n\n# instance events\n\n返回:\n\n * event event\n * item downloaditem\n * webcontents webcontents\n\n当 electron 刚要在webcontents中下载item的时候触发。\n\n调用event.preventdefault()方法，将会停止下载，并且在进程的next tick中，item将不再可用。\n\nconst { session } = require('electron')\nsession.defaultsession.on('will-download', (event, item, webcontents) => {\n  event.preventdefault()\n  require('got')(item.geturl()).then((response) => {\n    require('fs').writefilesync('/somewhere', response.body)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# event: 'extension-loaded'\n\n返回:\n\n * event event\n * extension 扩展插件\n\n在扩展插件加载完成后触发。 当一个扩展插件被添加到 \"enabled\" 的扩展插件集合内部时， 将自动触发 这包括：\n\n * 扩展插件正在从 session.loadextension 中被加载\n * 扩展插件正在被重新加载：\n   * 由于崩溃\n   * 扩展插件被请求重新载入 (chrome.runtime.reload()).\n\n# event: 'extension-unloaded'\n\n返回:\n\n * event event\n * extension 扩展插件\n\n当一个扩展插件被卸载后触发。 当 session.removeextension 被调用时也会触发。\n\n# event: 'extension-ready'\n\n返回:\n\n * event event\n * extension 扩展插件\n\n当一个扩展插件加载完成，同时所有必要的浏览器状态也初始化完毕，允许启动插件背景页面时， 将触发此事件。\n\n# event: 'preconnect'\n\n返回:\n\n * event event\n * preconnecturl string - 渲染器为预连接请求的 url\n * allowcredentials boolean - true 代表着渲染器在请求一个包含 credentials 信息的链接 (详见spec)\n\n当渲染进程已经预链接到 url 后将触发此事件, 通常用于 资源加载 提醒\n\n# event: 'spellcheck-dictionary-initialized'\n\n返回:\n\n * event event\n * languagecode string - 字典文件的语言代码\n\n当一个hunspell字典初始化成功时触发。 这个事件在文件被下载之后触发。\n\n# event: 'spellcheck-dictionary-download-begin'\n\n返回:\n\n * event event\n * languagecode string - 字典文件的语言代码\n\n当 hunspell 字典文件开始下载时触发\n\n# event: 'spellcheck-dictionary-download-success'\n\n返回:\n\n * event event\n * languagecode string - 字典文件的语言代码\n\n当 hunspell 字典文件下载成功触发\n\n# event: 'spellcheck-dictionary-download-failure'\n\n返回:\n\n * event event\n * languagecode string - 字典文件的语言代码\n\n当hunspell字典下载失败时触发。 如果需要详细信息，你应当查看网络日志并且检查下载请求。\n\n# event: 'select-hid-device'\n\n返回:\n\n * event event\n * details object\n   * devicelist hiddevice[]\n   * frame webframemain\n * callback function\n   * deviceid string | null (optional)\n\nemitted when a hid device needs to be selected when a call to navigator.hid.requestdevice is made. callback should be called with deviceid to be selected; passing no arguments to callback will cancel the request. additionally, permissioning on navigator.hid can be further managed by using ses.setpermissioncheckhandler(handler) and ses.setdevicepermissionhandler(handler)`.\n\nconst { app, browserwindow } = require('electron')\n\nlet win = null\n\napp.whenready().then(() => {\n  win = new browserwindow()\n\n  win.webcontents.session.setpermissioncheckhandler((webcontents, permission, requestingorigin, details) => {\n    if (permission === 'hid') {\n      // add logic here to determine if permission should be given to allow hid selection\n      return true\n    }\n    return false\n  })\n\n  // optionally, retrieve previously persisted devices from a persistent store\n  const granteddevices = fetchgranteddevices()\n\n  win.webcontents.session.setdevicepermissionhandler((details) => {\n    if (new url(details.origin).hostname === 'some-host' && details.devicetype === 'hid') {\n      if (details.device.vendorid === 123 && details.device.productid === 345) {\n        // always allow this type of device (this allows skipping the call to `navigator.hid.requestdevice` first)\n        return true\n      }\n\n      // search through the list of devices that have previously been granted permission\n      return granteddevices.some((granteddevice) => {\n        return granteddevice.vendorid === details.device.vendorid &&\n              granteddevice.productid === details.device.productid &&\n              granteddevice.serialnumber && granteddevice.serialnumber === details.device.serialnumber\n      })\n    }\n    return false\n  })\n\n  win.webcontents.session.on('select-hid-device', (event, details, callback) => {\n    event.preventdefault()\n    const selecteddevice = details.devicelist.find((device) => {\n      return device.vendorid === '9025' && device.productid === '67'\n    })\n    callback(selectedport?.deviceid)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n# event: 'hid-device-added'\n\n返回:\n\n * event event\n * details object\n   * device hiddevice[]\n   * frame webframemain\n\nemitted when a new hid device becomes available. for example, when a new usb device is plugged in.\n\nthis event will only be emitted after navigator.hid.requestdevice has been called and select-hid-device has fired.\n\n# event: 'hid-device-removed'\n\n返回:\n\n * event event\n * details object\n   * device hiddevice[]\n   * frame webframemain\n\nemitted when a hid device has been removed. 比如， 当一个usb设备被移除时。\n\nthis event will only be emitted after navigator.hid.requestdevice has been called and select-hid-device has fired.\n\n# event: 'select-serial-port'\n\n返回:\n\n * event event\n * portlist serialport[]\n * webcontents webcontents\n * callback function\n   * portid string\n\n调用 navigator.serial.requestport 并选择一系列端口时触发此事件。 callback 方法将在portid 被选中后调用, 给callback 方法一个空字符串参数将取消请求。 此外， navigator.serial 的许可权可以通过使用 ses.setpermissioncheckhandler(handler) 来设置 serial 权限。\n\nconst { app, browserwindow } = require('electron')\n\nlet win = null\n\napp.whenready().then(() => {\n  win = new browserwindow({\n    width: 800,\n    height: 600\n  })\n  win.webcontents.session.on('select-serial-port', (event, portlist, webcontents, callback) => {\n    event.preventdefault()\n    const selectedport = portlist.find((device) => {\n      return device.vendorid === '9025' && device.productid === '67'\n    })\n    if (!selectedport) {\n      callback('')\n    } else {\n      callback(selectedport.portid)\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# event: 'serial-port-added'\n\n返回:\n\n * event event\n * port serialport\n * webcontents webcontents\n\n当 navigator.serial.requestport 已经被调用时触发此事件，同时 如果新的串行端口可用则 select-serial-port 事件也将触发。 比如，当一个新的usb设备插入时将触发此事件。\n\n# event: 'serial-port-removed'\n\n返回:\n\n * event event\n * port serialport\n * webcontents webcontents\n\n当 navigator.serial.requestport 已经被调用时触发，同时如果串行端口已经被删除则触发 select-serial-port 事件。 比如， 当一个usb设备被移除时。\n\n\n# 实例方法\n\n在session实例对象中，有以下方法:\n\n# ses.getcachesize()\n\nreturns promise<integer> - 当前 session 会话缓存大小，用 byte 字节作为单位。\n\n# ses.clearcache()\n\nreturns promise<void> - 当缓存清除操作完成时可获取\n\n清除session的http缓存。\n\n# ses.clearstoragedata([options])\n\n * options object (可选)\n   * origin string - (可选项) 这个值应该按照 window.location.origin 的形式: 协议://主机名:端口方式设置。\n   * storages string[] (可选项) - 要清除的存储类型，包含: appcache, cookies, filesystem, indexdb, localstorage, shadercache, websql, serviceworkers, cachestorage. 如果没有指定storages，将会清除所有的storages类型\n   * quotas string[] - (可选项) 要清除的配额类型, 包含: temporary, persistent, syncable。 如果没有指定，将会清除所有的quotas。\n\nreturns promise<void> - 当存储的数据已经被清理时可获得\n\n# ses.flushstoragedata()\n\n写入任何未写入domstorage数据到磁盘.\n\n# ses.setproxy(config)\n\n * config object\n   * mode string (可选) - 代理模式。 可以是其中之一： direct, auto_detect, pac_script, fixed_servers 或 system。 如未指定，则根据其他选项自动判断\n     * direct 在直接模式下，所有连接都是直接创建的，无需任何代理。\n     * auto_detect 在auto_detect模式下，代理配置由 pac 脚本决定，该脚本 可在 http://wpad/wpad.dat 下载。\n     * pac_script in pac_script mode the proxy configuration is determined by a pac script that is retrieved from the url specified in the pacscript. this is the default mode if pacscript is specified.\n     * fixed_servers in fixed_servers mode the proxy configuration is specified in proxyrules. this is the default mode if proxyrules is specified.\n     * system in system mode the proxy configuration is taken from the operating system. note that the system mode is different from setting no proxy configuration. in the latter case, electron falls back to the system settings only if no command-line options influence the proxy configuration.\n   * pacscript string (optional) - the url associated with the pac file.\n   * proxyrules string (optional) - rules indicating which proxies to use.\n   * proxybypassrules string (optional) - rules indicating which urls should bypass the proxy settings.\n\nreturns promise<void> - resolves when the proxy setting process is complete.\n\n代理设置\n\nwhen mode is unspecified, pacscript and proxyrules are provided together, the proxyrules option is ignored and pacscript configuration is applied.\n\nyou may need ses.closeallconnections to close currently in flight connections to prevent pooled sockets using previous proxy from being reused by future requests.\n\nproxyrules 要遵循以下规则:\n\nproxyrules = schemeproxies[\";\"<schemeproxies>]\nschemeproxies = [<urlscheme>\"=\"]<proxyurilist>\nurlscheme = \"http\" | \"https\" | \"ftp\" | \"socks\"\nproxyurilist = <proxyurl>[\",\"<proxyurilist>]\nproxyurl = [<proxyscheme>\"://\"]<proxyhost>[\":\"<proxyport>]\n\n\n1\n2\n3\n4\n5\n\n\n例如：\n\n * http=foopy:80;ftp=foopy2 - use http proxy foopy:80 for http:// urls, and http proxy foopy2:80 for ftp:// urls.\n * foopy:80 - use http proxy foopy:80 for all urls.\n * foopy:80,bar,direct:// - use http proxy foopy:80 for all urls, failing over to bar if foopy:80 is unavailable, and after that using no proxy.\n * socks4://foopy - use socks v4 proxy foopy:1080 for all urls.\n * http=foopy,socks5://bar.com - use http proxy foopy for http urls, and fail over to the socks5 proxy bar.com if foopy is unavailable.\n * http=foopy,direct:// - use http proxy foopy for http urls, and use no proxy if foopy is unavailable.\n * http=foopy;socks=foopy2 - 对于http url，用foopy作为http协议代理，而其它所有url则用socks4://foopy2 协议。\n\nproxybypassrules是一个用逗号分隔的规则列表, 如下所述:\n\n * [ url_scheme \"://\" ] hostname_pattern [ \":\" <port> ]\n   \n   与 hostname_pattern 模式匹配的所有主机名。\n   \n   例如: \"foobar.com\", \"foobar.com\", \".foobar.com\", \"foobar.com:99\", \"https://x..y.com:99\"\n\n * \".\" hostname_suffix_pattern [ \":\" port ]\n   \n   匹配特定域名后缀。\n   \n   例如： \".google.com\", \".com\", \"http://.google.com\"\n\n * [ scheme \"://\" ] ip_literal [ \":\" port ]\n   \n   匹配 ip 地址文本的 url。\n   \n   例如: \"127.0.1\", \"[0:0::1]\", \"[::1]\", \"http://[::1]:99\"\n\n * ip_literal \"/\" prefix_length_in_bits\n   \n   匹配任何在给定ip范围内失败的url。 ip范围使用指定的cidr。\n   \n   例如: \"192.168.1.1/16\", \"fefe:13::abc/33\".\n\n * <local>\n   \n   匹配本地地址。 the meaning of <local> is whether the host matches one of: \"127.0.0.1\", \"::1\", \"localhost\".\n\n# ses.resolveproxy(url)\n\n * url url\n\nreturns promise<string> - resolves with the proxy information for url.\n\n# ses.forcereloadproxyconfig()\n\nreturns promise<void> - resolves when the all internal states of proxy service is reset and the latest proxy configuration is reapplied if it's already available. the pac script will be fetched from pacscript again if the proxy mode is pac_script.\n\n# ses.setdownloadpath(path)\n\n * path string - the download location.\n\nsets download saving directory. by default, the download directory will be the downloads under the respective app folder.\n\n# ses.enablenetworkemulation(options)\n\n * 选项 对象\n   * offline boolean (optional) - whether to emulate network outage. defaults to false.\n   * latency double (optional) - rtt in ms. defaults to 0 which will disable latency throttling.\n   * downloadthroughput double (optional) - download rate in bps. defaults to 0 which will disable download throttling.\n   * uploadthroughput double (optional) - upload rate in bps. defaults to 0 which will disable upload throttling.\n\n通过指定的配置为 session 模拟网络。\n\n// to emulate a gprs connection with 50kbps throughput and 500 ms latency.\nwindow.webcontents.session.enablenetworkemulation({\n  latency: 500,\n  downloadthroughput: 6400,\n  uploadthroughput: 6400\n})\n\n// to emulate a network outage.\nwindow.webcontents.session.enablenetworkemulation({ offline: true })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# ses.preconnect(options)\n\n * 选项 对象\n   * url string - url for preconnect. only the origin is relevant for opening the socket.\n   * numsockets number (optional) - number of sockets to preconnect. must be between 1 and 6. defaults to 1.\n\npreconnects the given number of sockets to an origin.\n\n# ses.closeallconnections()\n\nreturns promise<void> - resolves when all connections are closed.\n\nnote: it will terminate / fail all requests currently in flight.\n\n# ses.disablenetworkemulation()\n\ndisables any network emulation already active for the session. resets to the original network configuration.\n\n# ses.setcertificateverifyproc(proc)\n\n * proc function | null\n   * request object\n     * hostname string\n     * certificate 证书\n     * validatedcertificate certificate\n     * verificationresult string - chromium证书验证结果\n     * errorcode integer - 错误代码\n   * callback function\n     * verificationresult integer - value can be one of certificate error codes from here. apart from the certificate error codes, the following special codes can be used.\n       * -0 - 表示成功并禁用证书透明度验证\n       * -2 - 表示失败\n       * -3 - 使用chromium的验证结果\n\n每当一个服务器证书请求验证，proc 将被这样 proc(request, callback) 调用，为 session 设置证书验证过程。 回调函数 callback(0) 接受证书，callback(-2) 驳回证书。\n\n调用 setcertificateverifyproc（null）将恢复为默认证书验证过程。\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow()\n\nwin.webcontents.session.setcertificateverifyproc((request, callback) => {\n  const { hostname } = request\n  if (hostname === 'github.com') {\n    callback(0)\n  } else {\n    callback(-2)\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n> note: the result of this procedure is cached by the network service.\n\n# ses.setpermissionrequesthandler(handler)\n\n * handler function | null\n   * webcontents webcontents - 请求权限的webcontents。 please note that if the request comes from a subframe you should use requestingurl to check the request origin.\n   * permission string - the type of requested permission.\n     * clipboard-read - request access to read from the clipboard.\n     * media - request access to media devices such as camera, microphone and speakers.\n     * display-capture - request access to capture the screen.\n     * mediakeysystem - request access to drm protected content.\n     * geolocation - request access to user's current location.\n     * notifications - request notification creation and the ability to display them in the user's system tray.\n     * midi - request midi access in the webmidi api.\n     * midisysex - request the use of system exclusive messages in the webmidi api.\n     * pointerlock - request to directly interpret mouse movements as an input method. click here to know more.\n     * fullscreen - request for the app to enter fullscreen mode.\n     * openexternal - request to open links in external applications.\n     * unknown - an unrecognized permission request\n   * callback function\n     * permissiongranted boolean - 允许或拒绝该权限.\n   * details object - some properties are only available on certain permission types.\n     * externalurl string (optional) - the url of the openexternal request.\n     * mediatypes string[] (optional) - the types of media access being requested, elements can be video or audio\n     * requestingurl string - the last url the requesting frame loaded\n     * ismainframe boolean - whether the frame making the request is the main frame\n\n设置可用于响应 session 的权限请求的处理程序。 调用 callback(true) 将允许该权限, 调用 callback(false) 将拒绝它。 若要清除处理程序, 请调用 setpermissionrequesthandler (null)。 please note that you must also implement setpermissioncheckhandler to get complete permission handling. most web apis do a permission check and then make a permission request if the check is denied.\n\nconst { session } = require('electron')\nsession.frompartition('some-partition').setpermissionrequesthandler((webcontents, permission, callback) => {\n  if (webcontents.geturl() === 'some-host' && permission === 'notifications') {\n    return callback(false) // denied.\n  }\n\n  callback(true)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# ses.setpermissioncheckhandler(handler)\n\n * handler 函数<boolean> | null\n   * webcontents (webcontents | null) - webcontents checking the permission. please note that if the request comes from a subframe you should use requestingurl to check the request origin. 所有进行权限检查的跨源子帧将传递一个 null 的 webcontents 对象给此处理程序，而某些其他权限检查（如 notifications 检查）将始终传递一个 null。 you should use embeddingorigin and requestingorigin to determine what origin the owning frame and the requesting frame are on respectively.\n   * permission string - type of permission check. valid values are midisysex, notifications, geolocation, media,mediakeysystem,midi, pointerlock, fullscreen, openexternal, hid, or serial.\n   * requestingorigin string - the origin url of the permission check\n   * details object - some properties are only available on certain permission types.\n     * embeddingorigin string (optional) - the origin of the frame embedding the frame that made the permission check. only set for cross-origin sub frames making permission checks.\n     * securityorigin string (optional) - the security origin of the media check.\n     * mediatype string (optional) - the type of media access being requested, can be video, audio or unknown\n     * requestingurl string (optional) - the last url the requesting frame loaded. this is not provided for cross-origin sub frames making permission checks.\n     * ismainframe boolean - whether the frame making the request is the main frame\n\nsets the handler which can be used to respond to permission checks for the session. returning true will allow the permission and false will reject it. please note that you must also implement setpermissionrequesthandler to get complete permission handling. most web apis do a permission check and then make a permission request if the check is denied. to clear the handler, call setpermissioncheckhandler(null).\n\nconst { session } = require('electron')\nconst url = require('url')\nsession.frompartition('some-partition').setpermissioncheckhandler((webcontents, permission, requestingorigin) => {\n  if (new url(requestingorigin).hostname === 'some-host' && permission === 'notifications') {\n    return true // granted\n  }\n\n  return false // denied\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# ses.setdevicepermissionhandler(handler)\n\n * handler 函数<boolean> | null\n   * details object\n     * devicetype string - the type of device that permission is being requested on, can be hid.\n     * origin string - the origin url of the device permission check.\n     * device hiddevice - the device that permission is being requested for.\n     * frame webframemain - webframemain checking the device permission.\n\nsets the handler which can be used to respond to device permission checks for the session. returning true will allow the device to be permitted and false will reject it. to clear the handler, call setdevicepermissionhandler(null). this handler can be used to provide default permissioning to devices without first calling for permission to devices (eg via navigator.hid.requestdevice). if this handler is not defined, the default device permissions as granted through device selection (eg via navigator.hid.requestdevice) will be used. additionally, the default behavior of electron is to store granted device permision through the lifetime of the corresponding webcontents. if longer term storage is needed, a developer can store granted device permissions (eg when handling the select-hid-device event) and then read from that storage with setdevicepermissionhandler.\n\nconst { app, browserwindow } = require('electron')\n\nlet win = null\n\napp.whenready().then(() => {\n  win = new browserwindow()\n\n  win.webcontents.session.setpermissioncheckhandler((webcontents, permission, requestingorigin, details) => {\n    if (permission === 'hid') {\n      // add logic here to determine if permission should be given to allow hid selection\n      return true\n    }\n    return false\n  })\n\n  // optionally, retrieve previously persisted devices from a persistent store\n  const granteddevices = fetchgranteddevices()\n\n  win.webcontents.session.setdevicepermissionhandler((details) => {\n    if (new url(details.origin).hostname === 'some-host' && details.devicetype === 'hid') {\n      if (details.device.vendorid === 123 && details.device.productid === 345) {\n        // always allow this type of device (this allows skipping the call to `navigator.hid.requestdevice` first)\n        return true\n      }\n\n      // search through the list of devices that have previously been granted permission\n      return granteddevices.some((granteddevice) => {\n        return granteddevice.vendorid === details.device.vendorid &&\n              granteddevice.productid === details.device.productid &&\n              granteddevice.serialnumber && granteddevice.serialnumber === details.device.serialnumber\n      })\n    }\n    return false\n  })\n\n  win.webcontents.session.on('select-hid-device', (event, details, callback) => {\n    event.preventdefault()\n    const selecteddevice = details.devicelist.find((device) => {\n      return device.vendorid === '9025' && device.productid === '67'\n    })\n    callback(selectedport?.deviceid)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n# ses.clearhostresolvercache()\n\nreturns promise<void> - resolves when the operation is complete.\n\n清除主机解析程序的缓存。\n\n# ses.allowntlmcredentialsfordomains(domains)\n\n * domains string - 一个逗号分隔的服务器列表, 用于收集已经启用身份验证的服务器。\n\n动态设置是否始终为 http ntlm 发送凭据或协商身份验证。\n\nconst { session } = require('electron')\n// 以 \"example.com\"、\"foobar.com\"、\"baz\" 结尾的 url 用于身份验证。\nsession.defaultsession.allowntlmcredentialsfordomains('*example.com, *foobar.com, *baz')\n\n// 所有的 url 都可以用作身份验证\nsession.defaultsession.allowntlmcredentialsfordomains('*')\n\n\n1\n2\n3\n4\n5\n6\n\n\n# ses.setuseragent(useragent[, acceptlanguages])\n\n * useragent string\n * acceptlanguages string (可选)\n\n覆盖当前会话的 useragent 和 acceptlanguages.\n\nacceptlanguages 必须是用逗号分隔的语言代码列表，例如 \"en-us,fr,de,ko,zh-cn,ja\".\n\n这不会影响现有的webcontents, 并且每个webcontents都可以使用 webcontents.setuseragent重写会话范围的user agent。\n\n# ses.ispersistent()\n\nreturns boolean - whether or not this session is a persistent one. the default webcontents session of a browserwindow is persistent. when creating a session from a partition, session prefixed with persist: will be persistent, while others will be temporary.\n\n# ses.getuseragent()\n\n返回 string - 当前会话的 user agent.\n\n# ses.setsslconfig(config)\n\n * config object\n   * minversion string (可选) - 值可以是 tls1， tls1.1， tls1.2 或 tls1.3。 the minimum ssl version to allow when connecting to remote servers. 默认为tls1。\n   * maxversion string (可选) - 可以是 tls1.2 或 tls1.3。 the maximum ssl version to allow when connecting to remote servers. 默认值为 tls1.3。\n   * disabledciphersuites integer[] (optional) - list of cipher suites which should be explicitly prevented from being used in addition to those disabled by the net built-in policy. supported literal forms: 0xaabb, where aa is cipher_suite[0] and bb is cipher_suite[1], as defined in rfc 2246, section 7.4.1.2. unrecognized but parsable cipher suites in this form will not return an error. ex: to disable tls_rsa_with_rc4_128_md5, specify 0x0004, while to disable tls_ecdh_ecdsa_with_rc4_128_sha, specify 0xc002. note that tlsv1.3 ciphers cannot be disabled using this mechanism.\n\nsets the ssl configuration for the session. all subsequent network requests will use the new configuration. existing network connections (such as websocket connections) will not be terminated, but old sockets in the pool will not be reused for new connections.\n\n# ses.getblobdata(identifier)\n\n * identifier string - 有效的 uuid.\n\nreturns promise<buffer> - resolves with blob data.\n\n# ses.downloadurl(url)\n\n * url string\n\ninitiates a download of the resource at url. the api will generate a downloaditem that can be accessed with the will-download event.\n\nnote: this does not perform any security checks that relate to a page's origin, unlike webcontents.downloadurl.\n\n# ses.createinterrupteddownload(options)\n\n * 选项 对象\n   * path string - 下载的绝对路径.\n   * urlchain string[] - 完整的 url 下载地址.\n   * mimetype string (可选)\n   * offset integer - 下载的开始范围.\n   * length integer - 下载的总长度。\n   * lastmodified string (optional) - last-modified header value.\n   * etag string (optional) - etag header value.\n   * starttime double (optional) - 下载的时间是从 unix 时代以来的秒数开始的。\n\n允许从上一个 session 恢复 cancelled 或 interrupted 下载。 该 api 将生成一个 downloaditem , 可使用 will-download 事件进行访问。 downloaditem 将不具有与之关联的任何 webcontents, 并且初始状态将为 interrupted。 只有在 downloaditem 上调用 resume api 时, 才会启动下载。\n\n# ses.clearauthcache()\n\nreturns promise<void> - resolves when the session’s http authentication cache has been cleared.\n\n# ses.setpreloads(preloads)\n\n * preloads string[] - 数组，该数组由所有需要进行预加载的脚本的绝对路径组成。\n\nadds scripts that will be executed on all web contents that are associated with this session just before normal preload scripts run.\n\n# ses.getpreloads()\n\n返回 string[] 返回一个数组，这个数组由已经注册过的预加载脚本的路径组成。\n\n# ses.setspellcheckerenabled(enable)\n\n * enable boolean\n\nsets whether to enable the builtin spell checker.\n\n# ses.isspellcheckerenabled()\n\nreturns boolean - whether the builtin spell checker is enabled.\n\n# ses.setspellcheckerlanguages(languages)\n\n * languages string[] - an array of language codes to enable the spellchecker for.\n\nthe built in spellchecker does not automatically detect what language a user is typing in. in order for the spell checker to correctly check their words you must call this api with an array of language codes. you can get the list of supported language codes with the ses.availablespellcheckerlanguages property.\n\nnote: on macos the os spellchecker is used and will detect your language automatically. this api is a no-op on macos.\n\n# ses.getspellcheckerlanguages()\n\nreturns string[] - an array of language codes the spellchecker is enabled for. if this list is empty the spellchecker will fallback to using en-us. by default on launch if this setting is an empty list electron will try to populate this setting with the current os locale. this setting is persisted across restarts.\n\nnote: on macos the os spellchecker is used and has its own list of languages. this api is a no-op on macos.\n\n# ses.setspellcheckerdictionarydownloadurl(url)\n\n * url string - a base url for electron to download hunspell dictionaries from.\n\nby default electron will download hunspell dictionaries from the chromium cdn. if you want to override this behavior you can use this api to point the dictionary downloader at your own hosted version of the hunspell dictionaries. we publish a hunspell_dictionaries.zip file with each release which contains the files you need to host here, the file server must be case insensitive you must upload each file twice, once with the case it has in the zip file and once with the filename as all lower case.\n\nif the files present in hunspell_dictionaries.zip are available at https://example.com/dictionaries/language-code.bdic then you should call this api with ses.setspellcheckerdictionarydownloadurl('https://example.com/dictionaries/'). please note the trailing slash. the url to the dictionaries is formed as ${url}${filename}.\n\nnote: on macos the os spellchecker is used and therefore we do not download any dictionary files. this api is a no-op on macos.\n\n# ses.listwordsinspellcheckerdictionary()\n\nreturns promise<string[]> - an array of all words in app's custom dictionary. resolves when the full dictionary is loaded from disk.\n\n# ses.addwordtospellcheckerdictionary(word)\n\n * word string - the word you want to add to the dictionary\n\nreturns boolean - whether the word was successfully written to the custom dictionary. this api will not work on non-persistent (in-memory) sessions.\n\nnote: on macos and windows 10 this word will be written to the os custom dictionary as well\n\n# ses.removewordfromspellcheckerdictionary(word)\n\n * word string - the word you want to remove from the dictionary\n\nreturns boolean - whether the word was successfully removed from the custom dictionary. this api will not work on non-persistent (in-memory) sessions.\n\nnote: on macos and windows 10 this word will be removed from the os custom dictionary as well\n\n# ses.loadextension(path[, options])\n\n * path string - path to a directory containing an unpacked chrome extension\n * options object (可选)\n   * allowfileaccess boolean - whether to allow the extension to read local files over file:// protocol and inject content scripts into file:// pages. this is required e.g. for loading devtools extensions on file:// urls. 默认值为 false.\n\nreturns promise<extension> - resolves when the extension is loaded.\n\nthis method will raise an exception if the extension could not be loaded. if there are warnings when installing the extension (e.g. if the extension requests an api that electron does not support) then they will be logged to the console.\n\nnote that electron does not support the full range of chrome extensions apis. see supported extensions apis for more details on what is supported.\n\nnote that in previous versions of electron, extensions that were loaded would be remembered for future runs of the application. this is no longer the case: loadextension must be called on every boot of your app if you want the extension to be loaded.\n\nconst { app, session } = require('electron')\nconst path = require('path')\n\napp.on('ready', async () => {\n  await session.defaultsession.loadextension(\n    path.join(__dirname, 'react-devtools'),\n    // allowfileaccess is required to load the devtools extension on file:// urls.\n    { allowfileaccess: true }\n  )\n  // note that in order to use the react devtools extension, you'll need to\n  // download and unzip a copy of the extension.\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nthis api does not support loading packed (.crx) extensions.\n\n注意: 该 api 不能在 app 模块的 ready 事件之前调用.\n\nnote: loading extensions into in-memory (non-persistent) sessions is not supported and will throw an error.\n\n# ses.removeextension(extensionid)\n\n * extensionid string - id of extension to remove\n\nunloads an extension.\n\n注意: 该 api 不能在 app 模块的 ready 事件之前调用.\n\n# ses.getextension(extensionid)\n\n * extensionid string - id of extension to query\n\nreturns extension | null - the loaded extension with the given id.\n\n注意: 该 api 不能在 app 模块的 ready 事件之前调用.\n\n# ses.getallextensions()\n\nreturns extension[] - a list of all loaded extensions.\n\n注意: 该 api 不能在 app 模块的 ready 事件之前调用.\n\n# ses.getstoragepath()\n\na string | null indicating the absolute file system path where data for this session is persisted on disk. for in memory sessions this returns null.\n\n\n# 实例属性\n\n以下属性在session实例上可用：\n\n# ses.availablespellcheckerlanguages 只读\n\na string[] array which consists of all the known available spell checker languages. providing a language code to the setspellcheckerlanguages api that isn't in this array will result in an error.\n\n# ses.spellcheckerenabled\n\na boolean indicating whether builtin spell checker is enabled.\n\n# ses.storagepath 只读\n\na string | null indicating the absolute file system path where data for this session is persisted on disk. for in memory sessions this returns null.\n\n# ses.cookies 只读\n\na cookies object for this session.\n\n# ses.serviceworkers 只读\n\na serviceworkers object for this session.\n\n# ses.webrequest 只读\n\na webrequest object for this session.\n\n# ses.protocol 只读\n\nsession中使用protocol对象\n\nconst { app, session } = require('electron')\nconst path = require('path')\n\napp.whenready().then(() => {\n  const protocol = session.frompartition('some-partition').protocol\n  if (!protocol.registerfileprotocol('atom', (request, callback) => {\n    const url = request.url.substr(7)\n    callback({ path: path.normalize(`${__dirname}/${url}`) })\n  })) {\n    console.error('failed to register protocol')\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# ses.netlog 只读\n\na netlog object for this session.\n\nconst { app, session } = require('electron')\n\napp.whenready().then(async () => {\n  const netlog = session.frompartition('some-partition').netlog\n  netlog.startlogging('/path/to/net-log')\n  // after some network events\n  const path = await netlog.stoplogging()\n  console.log('net-logs written to', path)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",charsets:{cjk:!0}},{title:"share-menu",frontmatter:{title:"share-menu",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/65af91/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/share-menu.html",relativePath:"《Electron中文文档》/api/share-menu.md",key:"v-29266c76",path:"/pages/65af91/",headers:[{level:2,title:"Class: ShareMenu",slug:"class-sharemenu",normalizedTitle:"class: sharemenu",charIndex:120},{level:3,title:"new ShareMenu(sharingItem)",slug:"new-sharemenu-sharingitem",normalizedTitle:"new sharemenu(sharingitem)",charIndex:180},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:287},{level:4,title:"shareMenu.popup([options])",slug:"sharemenu-popup-options",normalizedTitle:"sharemenu.popup([options])",charIndex:318}],headersStr:"Class: ShareMenu new ShareMenu(sharingItem) 实例方法 shareMenu.popup([options])",content:"# ShareMenu\n\nShareMenu 类用于创建macOS的Share Menu专用菜单 ，这可以将当前消息分享给其他应用、社交媒体账号等。\n\n若要将共享菜单放在其他菜单下，使用MenuItem当中的shareMenu 。\n\n\n# Class: ShareMenu\n\n> Create share menu on macOS.\n\n进程：主进程\n\n\n# new ShareMenu(sharingItem)\n\n * sharingItem SharingItem - The item to share.\n\nCreates a new share menu.\n\n\n# 实例方法\n\nshareMenu 对象具有以下实例方法:\n\n# shareMenu.popup([options])\n\n * options PopupOptions (optional)\n   * browserWindow BrowserWindow (可选) - 默认为选中窗口.\n   * x Number (可选) - 默认为当前鼠标的位置。 如果指定了y，则该选项必选。\n   * y Number (可选) - 默认为当前鼠标的位置。 如果指定了x，则该选项必选。\n   * positioningItem Number (optional) macOS - The index of the menu item to be positioned under the mouse cursor at the specified coordinates. 默认值为 -1。\n   * callback Function (optional) - 会在菜单关闭后被调用.\n\n将此菜单作为 browserWindow 中的上下文菜单弹出。\n\n\n\nshareMenu.closePopup([browserWindow])\n\n * browserWindow BrowserWindow (可选) - 默认为选中窗口.\n\n关闭 browserWindow 中的上下文菜单。",normalizedContent:"# sharemenu\n\nsharemenu 类用于创建macos的share menu专用菜单 ，这可以将当前消息分享给其他应用、社交媒体账号等。\n\n若要将共享菜单放在其他菜单下，使用menuitem当中的sharemenu 。\n\n\n# class: sharemenu\n\n> create share menu on macos.\n\n进程：主进程\n\n\n# new sharemenu(sharingitem)\n\n * sharingitem sharingitem - the item to share.\n\ncreates a new share menu.\n\n\n# 实例方法\n\nsharemenu 对象具有以下实例方法:\n\n# sharemenu.popup([options])\n\n * options popupoptions (optional)\n   * browserwindow browserwindow (可选) - 默认为选中窗口.\n   * x number (可选) - 默认为当前鼠标的位置。 如果指定了y，则该选项必选。\n   * y number (可选) - 默认为当前鼠标的位置。 如果指定了x，则该选项必选。\n   * positioningitem number (optional) macos - the index of the menu item to be positioned under the mouse cursor at the specified coordinates. 默认值为 -1。\n   * callback function (optional) - 会在菜单关闭后被调用.\n\n将此菜单作为 browserwindow 中的上下文菜单弹出。\n\n\n\nsharemenu.closepopup([browserwindow])\n\n * browserwindow browserwindow (可选) - 默认为选中窗口.\n\n关闭 browserwindow 中的上下文菜单。",charsets:{cjk:!0}},{title:"shell",frontmatter:{title:"shell",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/1813fe/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/shell.html",relativePath:"《Electron中文文档》/api/shell.md",key:"v-7f386e4c",path:"/pages/1813fe/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:329},{level:3,title:"shell.showItemInFolder(fullPath)",slug:"shell-showiteminfolder-fullpath",normalizedTitle:"shell.showiteminfolder(fullpath)",charIndex:353},{level:3,title:"shell.openPath(path)",slug:"shell-openpath-path",normalizedTitle:"shell.openpath(path)",charIndex:480},{level:3,title:"shell.openExternal(url[, options])",slug:"shell-openexternal-url-options",normalizedTitle:"shell.openexternal(url[, options])",charIndex:684},{level:3,title:"shell.trashItem(path)",slug:"shell-trashitem-path",normalizedTitle:"shell.trashitem(path)",charIndex:1100},{level:3,title:"shell.beep()",slug:"shell-beep",normalizedTitle:"shell.beep()",charIndex:1474},{level:3,title:"shell.writeShortcutLink(shortcutPath[, operation], options) Windows",slug:"shell-writeshortcutlink-shortcutpath-operation-options-windows",normalizedTitle:"shell.writeshortcutlink(shortcutpath[, operation], options) windows",charIndex:1501},{level:3,title:"shell.readShortcutLink(shortcutPath) Windows",slug:"shell-readshortcutlink-shortcutpath-windows",normalizedTitle:"shell.readshortcutlink(shortcutpath) windows",charIndex:1863}],headersStr:"方法 shell.showItemInFolder(fullPath) shell.openPath(path) shell.openExternal(url[, options]) shell.trashItem(path) shell.beep() shell.writeShortcutLink(shortcutPath[, operation], options) Windows shell.readShortcutLink(shortcutPath) Windows",content:"# shell\n\n> 使用默认应用程序管理文件和 url。\n\nProcess: Main, Renderer (non-sandboxed only)\n\nshell 模块提供与桌面集成相关的功能。\n\n在用户的默认浏览器中打开 URL 的示例:\n\nconst { shell } = require('electron')\n\nshell.openExternal('https://github.com')\n\n\n1\n2\n3\n\n\nNote: While the shell module can be used in the renderer process, it will not function in a sandboxed renderer.\n\n\n# 方法\n\nshell 模块具有以下方法:\n\n\n# shell.showItemInFolder(fullPath)\n\n * fullPath String\n\nShow the given file in a file manager. If possible, select the file.\n\n\n# shell.openPath(path)\n\n * path String\n\nReturns Promise<String> - Resolves with a string containing the error message corresponding to the failure if a failure occurred, otherwise \"\".\n\n以桌面的默认方式打开给定的文件。\n\n\n# shell.openExternal(url[, options])\n\n * url String - Max 2081 characters on windows.\n * options Object (可选)\n   * activate Boolean (optional) macOS - true to bring the opened application to the foreground. 默认值为 true。\n   * workingDirectory字符串 (可选的) Windows - 工作目录\n\n返回 Promise<void>\n\nOpen the given external protocol URL in the desktop's default manner. (For example, mailto: URLs in the user's default mail agent).\n\n\n# shell.trashItem(path)\n\n * path String - path to the item to be moved to the trash.\n\nReturns Promise<void> - Resolves when the operation has been completed. Rejects if there was an error while deleting the requested item.\n\nThis moves a path to the OS-specific trash location (Trash on macOS, Recycle Bin on Windows, and a desktop-environment-specific location on Linux).\n\n\n# shell.beep()\n\n播放哔哔的声音.\n\n\n# shell.writeShortcutLink(shortcutPath[, operation], options) Windows\n\n * shortcutPath String\n * operation String (optional) - Default is create, can be one of following:\n   * create - 创建一个新的快捷方式, 如有必要可以覆盖。\n   * update - 仅更新现有快捷方式上的指定属性。\n   * replace - 覆盖现有快捷方式, 如果快捷方式不存在将会失败。\n * options ShortcutDetails\n\n返回 Boolean - 快捷方式是否被成功创建。\n\n在shortcutPath位置创建或更新一个快捷连接\n\n\n# shell.readShortcutLink(shortcutPath) Windows\n\n * shortcutPath String\n\n返回 ShortcutDetails\n\n解析shortcutPath中的快捷链接。\n\n发生任何错误时将引发异常。",normalizedContent:"# shell\n\n> 使用默认应用程序管理文件和 url。\n\nprocess: main, renderer (non-sandboxed only)\n\nshell 模块提供与桌面集成相关的功能。\n\n在用户的默认浏览器中打开 url 的示例:\n\nconst { shell } = require('electron')\n\nshell.openexternal('https://github.com')\n\n\n1\n2\n3\n\n\nnote: while the shell module can be used in the renderer process, it will not function in a sandboxed renderer.\n\n\n# 方法\n\nshell 模块具有以下方法:\n\n\n# shell.showiteminfolder(fullpath)\n\n * fullpath string\n\nshow the given file in a file manager. if possible, select the file.\n\n\n# shell.openpath(path)\n\n * path string\n\nreturns promise<string> - resolves with a string containing the error message corresponding to the failure if a failure occurred, otherwise \"\".\n\n以桌面的默认方式打开给定的文件。\n\n\n# shell.openexternal(url[, options])\n\n * url string - max 2081 characters on windows.\n * options object (可选)\n   * activate boolean (optional) macos - true to bring the opened application to the foreground. 默认值为 true。\n   * workingdirectory字符串 (可选的) windows - 工作目录\n\n返回 promise<void>\n\nopen the given external protocol url in the desktop's default manner. (for example, mailto: urls in the user's default mail agent).\n\n\n# shell.trashitem(path)\n\n * path string - path to the item to be moved to the trash.\n\nreturns promise<void> - resolves when the operation has been completed. rejects if there was an error while deleting the requested item.\n\nthis moves a path to the os-specific trash location (trash on macos, recycle bin on windows, and a desktop-environment-specific location on linux).\n\n\n# shell.beep()\n\n播放哔哔的声音.\n\n\n# shell.writeshortcutlink(shortcutpath[, operation], options) windows\n\n * shortcutpath string\n * operation string (optional) - default is create, can be one of following:\n   * create - 创建一个新的快捷方式, 如有必要可以覆盖。\n   * update - 仅更新现有快捷方式上的指定属性。\n   * replace - 覆盖现有快捷方式, 如果快捷方式不存在将会失败。\n * options shortcutdetails\n\n返回 boolean - 快捷方式是否被成功创建。\n\n在shortcutpath位置创建或更新一个快捷连接\n\n\n# shell.readshortcutlink(shortcutpath) windows\n\n * shortcutpath string\n\n返回 shortcutdetails\n\n解析shortcutpath中的快捷链接。\n\n发生任何错误时将引发异常。",charsets:{cjk:!0}},{title:"bluetooth-device",frontmatter:{title:"bluetooth-device",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/52b438/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/bluetooth-device.html",relativePath:"《Electron中文文档》/api/structures/bluetooth-device.md",key:"v-576b33b6",path:"/pages/52b438/",headersStr:null,content:"# BluetoothDevice Object\n\n * deviceName String\n * deviceId String",normalizedContent:"# bluetoothdevice object\n\n * devicename string\n * deviceid string",charsets:{}},{title:"certificate-principal",frontmatter:{title:"certificate-principal",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/ea7882/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/certificate-principal.html",relativePath:"《Electron中文文档》/api/structures/certificate-principal.md",key:"v-84e206ae",path:"/pages/ea7882/",headersStr:null,content:"# CertificatePrincipal Object\n\n * commonName String - Common Name.\n * organizations String[] - Organization names.\n * organizationUnits String[] - Organization Unit names.\n * locality String - Locality.\n * state String - State or province.\n * country String - Country or region.",normalizedContent:"# certificateprincipal object\n\n * commonname string - common name.\n * organizations string[] - organization names.\n * organizationunits string[] - organization unit names.\n * locality string - locality.\n * state string - state or province.\n * country string - country or region.",charsets:{}},{title:"certificate",frontmatter:{title:"certificate",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/c6b036/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/certificate.html",relativePath:"《Electron中文文档》/api/structures/certificate.md",key:"v-b5a603ee",path:"/pages/c6b036/",headersStr:null,content:"# Certificate Object\n\n * data String - PEM encoded data\n * issuer CertificatePrincipal - Issuer principal\n * issuerName String - Issuer's Common Name\n * issuerCert Certificate - Issuer certificate (if not self-signed)\n * subject CertificatePrincipal - Subject principal\n * subjectName String - Subject's Common Name\n * serialNumber String - Hex value represented string\n * validStart Number - Start date of the certificate being valid in seconds\n * validExpiry Number - End date of the certificate being valid in seconds\n * fingerprint String - Fingerprint of the certificate",normalizedContent:"# certificate object\n\n * data string - pem encoded data\n * issuer certificateprincipal - issuer principal\n * issuername string - issuer's common name\n * issuercert certificate - issuer certificate (if not self-signed)\n * subject certificateprincipal - subject principal\n * subjectname string - subject's common name\n * serialnumber string - hex value represented string\n * validstart number - start date of the certificate being valid in seconds\n * validexpiry number - end date of the certificate being valid in seconds\n * fingerprint string - fingerprint of the certificate",charsets:{}},{title:"cookie",frontmatter:{title:"cookie",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/711aec/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/cookie.html",relativePath:"《Electron中文文档》/api/structures/cookie.md",key:"v-1a644ec7",path:"/pages/711aec/",headersStr:null,content:"# Cookie Object\n\n * name String - The name of the cookie.\n * value String - The value of the cookie.\n * domain String (optional) - The domain of the cookie; this will be normalized with a preceding dot so that it's also valid for subdomains.\n * hostOnly Boolean (optional) - Whether the cookie is a host-only cookie; this will only be true if no domain was passed.\n * path String (optional) - The path of the cookie.\n * secure Boolean (optional) - Whether the cookie is marked as secure.\n * httpOnly Boolean (optional) - Whether the cookie is marked as HTTP only.\n * session Boolean (optional) - Whether the cookie is a session cookie or a persistent cookie with an expiration date.\n * expirationDate Double (optional) - The expiration date of the cookie as the number of seconds since the UNIX epoch. Not provided for session cookies.\n * sameSite String - The Same Site policy applied to this cookie. Can be unspecified, no_restriction, lax or strict.",normalizedContent:"# cookie object\n\n * name string - the name of the cookie.\n * value string - the value of the cookie.\n * domain string (optional) - the domain of the cookie; this will be normalized with a preceding dot so that it's also valid for subdomains.\n * hostonly boolean (optional) - whether the cookie is a host-only cookie; this will only be true if no domain was passed.\n * path string (optional) - the path of the cookie.\n * secure boolean (optional) - whether the cookie is marked as secure.\n * httponly boolean (optional) - whether the cookie is marked as http only.\n * session boolean (optional) - whether the cookie is a session cookie or a persistent cookie with an expiration date.\n * expirationdate double (optional) - the expiration date of the cookie as the number of seconds since the unix epoch. not provided for session cookies.\n * samesite string - the same site policy applied to this cookie. can be unspecified, no_restriction, lax or strict.",charsets:{}},{title:"cpu-usage",frontmatter:{title:"cpu-usage",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/c75cbd/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/cpu-usage.html",relativePath:"《Electron中文文档》/api/structures/cpu-usage.md",key:"v-473f97a9",path:"/pages/c75cbd/",headersStr:null,content:"# CPUUsage Object\n\n * percentCPUUsage Number - Percentage of CPU used since the last call to getCPUUsage. First call returns 0.\n * idleWakeupsPerSecond Number - The number of average idle CPU wakeups per second since the last call to getCPUUsage. First call returns 0. Will always return 0 on Windows.",normalizedContent:"# cpuusage object\n\n * percentcpuusage number - percentage of cpu used since the last call to getcpuusage. first call returns 0.\n * idlewakeupspersecond number - the number of average idle cpu wakeups per second since the last call to getcpuusage. first call returns 0. will always return 0 on windows.",charsets:{}},{title:"crash-report",frontmatter:{title:"crash-report",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/0158f7/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/crash-report.html",relativePath:"《Electron中文文档》/api/structures/crash-report.md",key:"v-468a159b",path:"/pages/0158f7/",headersStr:null,content:"# CrashReport Object\n\n * date Date\n * id String",normalizedContent:"# crashreport object\n\n * date date\n * id string",charsets:{}},{title:"custom-scheme",frontmatter:{title:"custom-scheme",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/474a1c/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/custom-scheme.html",relativePath:"《Electron中文文档》/api/structures/custom-scheme.md",key:"v-9104e66e",path:"/pages/474a1c/",headersStr:null,content:"# CustomScheme Object\n\n * scheme String - Custom schemes to be registered with options.\n * privileges Object (optional)\n   * standard Boolean (optional) - Default false.\n   * secure Boolean (optional) - Default false.\n   * bypassCSP Boolean (optional) - Default false.\n   * allowServiceWorkers Boolean (optional) - Default false.\n   * supportFetchAPI Boolean (optional) - Default false.\n   * corsEnabled Boolean (optional) - Default false.\n   * stream Boolean (optional) - Default false.",normalizedContent:"# customscheme object\n\n * scheme string - custom schemes to be registered with options.\n * privileges object (optional)\n   * standard boolean (optional) - default false.\n   * secure boolean (optional) - default false.\n   * bypasscsp boolean (optional) - default false.\n   * allowserviceworkers boolean (optional) - default false.\n   * supportfetchapi boolean (optional) - default false.\n   * corsenabled boolean (optional) - default false.\n   * stream boolean (optional) - default false.",charsets:{}},{title:"desktop-capturer-source",frontmatter:{title:"desktop-capturer-source",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/de1c7d/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/desktop-capturer-source.html",relativePath:"《Electron中文文档》/api/structures/desktop-capturer-source.md",key:"v-74f04889",path:"/pages/de1c7d/",headersStr:null,content:"# DesktopCapturerSource Object\n\n * id String - The identifier of a window or screen that can be used as a chromeMediaSourceId constraint when calling [navigator.webkitGetUserMedia]. The format of the identifier will be window:XX:YY or screen:ZZ:0. XX is the windowID/handle. YY is 1 for the current process, and 0 for all others. ZZ is a sequential number that represents the screen, and it does not equal to the index in the source's name.\n * name String - A screen source will be named either Entire Screen or Screen <index>, while the name of a window source will match the window title.\n * thumbnail NativeImage - A thumbnail image. Note: There is no guarantee that the size of the thumbnail is the same as the thumbnailSize specified in the options passed to desktopCapturer.getSources. The actual size depends on the scale of the screen or window.\n * display_id String - A unique identifier that will correspond to the id of the matching Display returned by the Screen API. On some platforms, this is equivalent to the XX portion of the id field above and on others it will differ. It will be an empty string if not available.\n * appIcon NativeImage - An icon image of the application that owns the window or null if the source has a type screen. The size of the icon is not known in advance and depends on what the application provides.",normalizedContent:"# desktopcapturersource object\n\n * id string - the identifier of a window or screen that can be used as a chromemediasourceid constraint when calling [navigator.webkitgetusermedia]. the format of the identifier will be window:xx:yy or screen:zz:0. xx is the windowid/handle. yy is 1 for the current process, and 0 for all others. zz is a sequential number that represents the screen, and it does not equal to the index in the source's name.\n * name string - a screen source will be named either entire screen or screen <index>, while the name of a window source will match the window title.\n * thumbnail nativeimage - a thumbnail image. note: there is no guarantee that the size of the thumbnail is the same as the thumbnailsize specified in the options passed to desktopcapturer.getsources. the actual size depends on the scale of the screen or window.\n * display_id string - a unique identifier that will correspond to the id of the matching display returned by the screen api. on some platforms, this is equivalent to the xx portion of the id field above and on others it will differ. it will be an empty string if not available.\n * appicon nativeimage - an icon image of the application that owns the window or null if the source has a type screen. the size of the icon is not known in advance and depends on what the application provides.",charsets:{}},{title:"display",frontmatter:{title:"display",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/037026/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/display.html",relativePath:"《Electron中文文档》/api/structures/display.md",key:"v-f42d0eae",path:"/pages/037026/",headersStr:null,content:"# Display Object\n\n * id Number - Unique identifier associated with the display.\n * rotation Number - Can be 0, 90, 180, 270, represents screen rotation in clock-wise degrees.\n * scaleFactor Number - Output device's pixel scale factor.\n * touchSupport String - Can be available, unavailable, unknown.\n * monochrome Boolean - Whether or not the display is a monochrome display.\n * accelerometerSupport String - Can be available, unavailable, unknown.\n * colorSpace String - represent a color space (three-dimensional object which contains all realizable color combinations) for the purpose of color conversions\n * colorDepth Number - The number of bits per pixel.\n * depthPerComponent Number - The number of bits per color component.\n * displayFrequency Number - The display refresh rate.\n * bounds Rectangle - the bounds of the display in DIP points.\n * size Size\n * workArea Rectangle - the work area of the display in DIP points.\n * workAreaSize Size\n * internal Boolean - true for an internal display and false for an external display\n\nThe Display object represents a physical display connected to the system. A fake Display may exist on a headless system, or a Display may correspond to a remote, virtual display.",normalizedContent:"# display object\n\n * id number - unique identifier associated with the display.\n * rotation number - can be 0, 90, 180, 270, represents screen rotation in clock-wise degrees.\n * scalefactor number - output device's pixel scale factor.\n * touchsupport string - can be available, unavailable, unknown.\n * monochrome boolean - whether or not the display is a monochrome display.\n * accelerometersupport string - can be available, unavailable, unknown.\n * colorspace string - represent a color space (three-dimensional object which contains all realizable color combinations) for the purpose of color conversions\n * colordepth number - the number of bits per pixel.\n * depthpercomponent number - the number of bits per color component.\n * displayfrequency number - the display refresh rate.\n * bounds rectangle - the bounds of the display in dip points.\n * size size\n * workarea rectangle - the work area of the display in dip points.\n * workareasize size\n * internal boolean - true for an internal display and false for an external display\n\nthe display object represents a physical display connected to the system. a fake display may exist on a headless system, or a display may correspond to a remote, virtual display.",charsets:{}},{title:"event",frontmatter:{title:"event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/8eebd0/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/event.html",relativePath:"《Electron中文文档》/api/structures/event.md",key:"v-001280e9",path:"/pages/8eebd0/",headersStr:null,content:"# Event Object extends GlobalEvent\n\n * preventDefault VoidFunction",normalizedContent:"# event object extends globalevent\n\n * preventdefault voidfunction",charsets:{}},{title:"extension-info",frontmatter:{title:"extension-info",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d60068/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/extension-info.html",relativePath:"《Electron中文文档》/api/structures/extension-info.md",key:"v-54288cd2",path:"/pages/d60068/",headersStr:null,content:"# ExtensionInfo Object\n\n * name String\n * version String",normalizedContent:"# extensioninfo object\n\n * name string\n * version string",charsets:{}},{title:"file-filter",frontmatter:{title:"file-filter",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/0cc765/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/file-filter.html",relativePath:"《Electron中文文档》/api/structures/file-filter.md",key:"v-308b466e",path:"/pages/0cc765/",headersStr:null,content:"# FileFilter Object\n\n * name String\n * extensions String[]",normalizedContent:"# filefilter object\n\n * name string\n * extensions string[]",charsets:{}},{title:"extension",frontmatter:{title:"extension",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/60e7dc/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/extension.html",relativePath:"《Electron中文文档》/api/structures/extension.md",key:"v-bc2fc4ee",path:"/pages/60e7dc/",headersStr:null,content:"# Extension Object\n\n * id String\n * manifest any - Copy of the extension's manifest data.\n * name String\n * path String - The extension's file path.\n * version String\n * url String - The extension's chrome-extension:// URL.",normalizedContent:"# extension object\n\n * id string\n * manifest any - copy of the extension's manifest data.\n * name string\n * path string - the extension's file path.\n * version string\n * url string - the extension's chrome-extension:// url.",charsets:{}},{title:"file-path-with-headers",frontmatter:{title:"file-path-with-headers",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/3c246e/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/file-path-with-headers.html",relativePath:"《Electron中文文档》/api/structures/file-path-with-headers.md",key:"v-e2da7c3a",path:"/pages/3c246e/",headersStr:null,content:"# FilePathWithHeaders Object\n\n * path String - The path to the file to send.\n * headers Record<string, string> (optional) - Additional headers to be sent.",normalizedContent:"# filepathwithheaders object\n\n * path string - the path to the file to send.\n * headers record<string, string> (optional) - additional headers to be sent.",charsets:{}},{title:"gpu-feature-status",frontmatter:{title:"gpu-feature-status",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/b94c1a/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/gpu-feature-status.html",relativePath:"《Electron中文文档》/api/structures/gpu-feature-status.md",key:"v-240d0a8a",path:"/pages/b94c1a/",headersStr:null,content:"# GPUFeatureStatus Object\n\n * 2d_canvas String - Canvas.\n * flash_3d String - Flash.\n * flash_stage3d String - Flash Stage3D.\n * flash_stage3d_baseline String - Flash Stage3D Baseline profile.\n * gpu_compositing String - Compositing.\n * multiple_raster_threads String - Multiple Raster Threads.\n * native_gpu_memory_buffers String - Native GpuMemoryBuffers.\n * rasterization String - Rasterization.\n * video_decode String - Video Decode.\n * video_encode String - Video Encode.\n * vpx_decode String - VPx Video Decode.\n * webgl String - WebGL.\n * webgl2 String - WebGL2.\n\n可选值：\n\n * disabled_software - Software only. Hardware acceleration disabled (yellow)\n * disabled_off - Disabled (red)\n * disabled_off_ok - Disabled (yellow)\n * unavailable_software - Software only, hardware acceleration unavailable (yellow)\n * unavailable_off - Unavailable (red)\n * unavailable_off_ok - Unavailable (yellow)\n * enabled_readback - Hardware accelerated but at reduced performance (yellow)\n * enabled_force - Hardware accelerated on all pages (green)\n * enabled - Hardware accelerated (green)\n * enabled_on - Enabled (green)\n * enabled_force_on - Force enabled (green)",normalizedContent:"# gpufeaturestatus object\n\n * 2d_canvas string - canvas.\n * flash_3d string - flash.\n * flash_stage3d string - flash stage3d.\n * flash_stage3d_baseline string - flash stage3d baseline profile.\n * gpu_compositing string - compositing.\n * multiple_raster_threads string - multiple raster threads.\n * native_gpu_memory_buffers string - native gpumemorybuffers.\n * rasterization string - rasterization.\n * video_decode string - video decode.\n * video_encode string - video encode.\n * vpx_decode string - vpx video decode.\n * webgl string - webgl.\n * webgl2 string - webgl2.\n\n可选值：\n\n * disabled_software - software only. hardware acceleration disabled (yellow)\n * disabled_off - disabled (red)\n * disabled_off_ok - disabled (yellow)\n * unavailable_software - software only, hardware acceleration unavailable (yellow)\n * unavailable_off - unavailable (red)\n * unavailable_off_ok - unavailable (yellow)\n * enabled_readback - hardware accelerated but at reduced performance (yellow)\n * enabled_force - hardware accelerated on all pages (green)\n * enabled - hardware accelerated (green)\n * enabled_on - enabled (green)\n * enabled_force_on - force enabled (green)",charsets:{cjk:!0}},{title:"hid-device",frontmatter:{title:"hid-device",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/993c77/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/hid-device.html",relativePath:"《Electron中文文档》/api/structures/hid-device.md",key:"v-6d0e1e4f",path:"/pages/993c77/",headersStr:null,content:"# HIDDevice Object\n\n * deviceId String - Unique identifier for the device.\n * name String - Name of the device.\n * vendorId Integer - The USB vendor ID.\n * productId Integer - The USB product ID.\n * serialNumber String (optional) - The USB device serial number.\n * guid String (optional) - Unique identifier for the HID interface. A device may have multiple HID interfaces.",normalizedContent:"# hiddevice object\n\n * deviceid string - unique identifier for the device.\n * name string - name of the device.\n * vendorid integer - the usb vendor id.\n * productid integer - the usb product id.\n * serialnumber string (optional) - the usb device serial number.\n * guid string (optional) - unique identifier for the hid interface. a device may have multiple hid interfaces.",charsets:{}},{title:"input-event",frontmatter:{title:"input-event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/c7110a/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/input-event.html",relativePath:"《Electron中文文档》/api/structures/input-event.md",key:"v-48e813ee",path:"/pages/c7110a/",headersStr:null,content:"# InputEvent Object\n\n * modifiers String[] (optional) - An array of modifiers of the event, can be shift, control, ctrl, alt, meta, command, cmd, isKeypad, isAutoRepeat, leftButtonDown, middleButtonDown, rightButtonDown, capsLock, numLock, left, right.",normalizedContent:"# inputevent object\n\n * modifiers string[] (optional) - an array of modifiers of the event, can be shift, control, ctrl, alt, meta, command, cmd, iskeypad, isautorepeat, leftbuttondown, middlebuttondown, rightbuttondown, capslock, numlock, left, right.",charsets:{}},{title:"io-counters",frontmatter:{title:"io-counters",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/1cdaec/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/io-counters.html",relativePath:"《Electron中文文档》/api/structures/io-counters.md",key:"v-8be846ae",path:"/pages/1cdaec/",headersStr:null,content:"# IOCounters Object\n\n * readOperationCount Number - The number of I/O read operations.\n * writeOperationCount Number - The number of I/O write operations.\n * otherOperationCount Number - Then number of I/O other operations.\n * readTransferCount Number - The number of I/O read transfers.\n * writeTransferCount Number - The number of I/O write transfers.\n * otherTransferCount Number - Then number of I/O other transfers.",normalizedContent:"# iocounters object\n\n * readoperationcount number - the number of i/o read operations.\n * writeoperationcount number - the number of i/o write operations.\n * otheroperationcount number - then number of i/o other operations.\n * readtransfercount number - the number of i/o read transfers.\n * writetransfercount number - the number of i/o write transfers.\n * othertransfercount number - then number of i/o other transfers.",charsets:{}},{title:"ipc-main-event",frontmatter:{title:"ipc-main-event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/069721/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/ipc-main-event.html",relativePath:"《Electron中文文档》/api/structures/ipc-main-event.md",key:"v-755ca2a1",path:"/pages/069721/",headersStr:null,content:'# IpcMainEvent Object extends Event\n\n * processId Integer - The internal ID of the renderer process that sent this message\n * frameId Integer - The ID of the renderer frame that sent this message\n * returnValue any - Set this to the value to be returned in a synchronous message\n * sender WebContents - Returns the webContents that sent the message\n * senderFrame WebFrameMain Readonly - The frame that sent this message\n * ports MessagePortMain[] - A list of MessagePorts that were transferred with this message\n * reply Function - A function that will send an IPC message to the renderer frame that sent the original message that you are currently handling. You should use this method to "reply" to the sent message in order to guarantee the reply will go to the correct process and frame.\n   * channel String\n   * ...args any[]',normalizedContent:'# ipcmainevent object extends event\n\n * processid integer - the internal id of the renderer process that sent this message\n * frameid integer - the id of the renderer frame that sent this message\n * returnvalue any - set this to the value to be returned in a synchronous message\n * sender webcontents - returns the webcontents that sent the message\n * senderframe webframemain readonly - the frame that sent this message\n * ports messageportmain[] - a list of messageports that were transferred with this message\n * reply function - a function that will send an ipc message to the renderer frame that sent the original message that you are currently handling. you should use this method to "reply" to the sent message in order to guarantee the reply will go to the correct process and frame.\n   * channel string\n   * ...args any[]',charsets:{}},{title:"ipc-main-invoke-event",frontmatter:{title:"ipc-main-invoke-event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/9b92b7/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/ipc-main-invoke-event.html",relativePath:"《Electron中文文档》/api/structures/ipc-main-invoke-event.md",key:"v-b29f7aae",path:"/pages/9b92b7/",headersStr:null,content:"# IpcMainInvokeEvent Object extends Event\n\n * processId Integer - The internal ID of the renderer process that sent this message\n * frameId Integer - The ID of the renderer frame that sent this message\n * sender WebContents - Returns the webContents that sent the message\n * senderFrame WebFrameMain Readonly - The frame that sent this message",normalizedContent:"# ipcmaininvokeevent object extends event\n\n * processid integer - the internal id of the renderer process that sent this message\n * frameid integer - the id of the renderer frame that sent this message\n * sender webcontents - returns the webcontents that sent the message\n * senderframe webframemain readonly - the frame that sent this message",charsets:{}},{title:"ipc-renderer-event",frontmatter:{title:"ipc-renderer-event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/a4a725/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/ipc-renderer-event.html",relativePath:"《Electron中文文档》/api/structures/ipc-renderer-event.md",key:"v-b3f5e5e6",path:"/pages/a4a725/",headersStr:null,content:"# IpcRendererEvent Object extends Event\n\n * sender IpcRenderer - The IpcRenderer instance that emitted the event originally\n * senderId Integer - The webContents.id that sent the message, you can call event.sender.sendTo(event.senderId, ...) to reply to the message, see ipcRenderer.sendTo for more information. This only applies to messages sent from a different renderer. Messages sent directly from the main process set event.senderId to 0.\n * ports MessagePort[] - A list of MessagePorts that were transferred with this message",normalizedContent:"# ipcrendererevent object extends event\n\n * sender ipcrenderer - the ipcrenderer instance that emitted the event originally\n * senderid integer - the webcontents.id that sent the message, you can call event.sender.sendto(event.senderid, ...) to reply to the message, see ipcrenderer.sendto for more information. this only applies to messages sent from a different renderer. messages sent directly from the main process set event.senderid to 0.\n * ports messageport[] - a list of messageports that were transferred with this message",charsets:{}},{title:"jump-list-item",frontmatter:{title:"jump-list-item",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/465e9a/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/jump-list-item.html",relativePath:"《Electron中文文档》/api/structures/jump-list-item.md",key:"v-6b0d1149",path:"/pages/465e9a/",headersStr:null,content:"# JumpListItem Object\n\n * type String (optional) - One of the following:\n   * task - A task will launch an app with specific arguments.\n   * separator - Can be used to separate items in the standard Tasks category.\n   * file - A file link will open a file using the app that created the Jump List, for this to work the app must be registered as a handler for the file type (though it doesn't have to be the default handler).\n * path String (optional) - Path of the file to open, should only be set if type is file.\n * program String (optional) - Path of the program to execute, usually you should specify process.execPath which opens the current program. Should only be set if type is task.\n * args String (optional) - The command line arguments when program is executed. Should only be set if type is task.\n * title String (optional) - The text to be displayed for the item in the Jump List. Should only be set if type is task.\n * description String (optional) - Description of the task (displayed in a tooltip). Should only be set if type is task. Maximum length 260 characters.\n * iconPath String (optional) - The absolute path to an icon to be displayed in a Jump List, which can be an arbitrary resource file that contains an icon (e.g. .ico, .exe, .dll). You can usually specify process.execPath to show the program icon.\n * iconIndex Number (optional) - The index of the icon in the resource file. If a resource file contains multiple icons this value can be used to specify the zero-based index of the icon that should be displayed for this task. If a resource file contains only one icon, this property should be set to zero.\n * workingDirectory String (optional) - The working directory. Default is empty.",normalizedContent:"# jumplistitem object\n\n * type string (optional) - one of the following:\n   * task - a task will launch an app with specific arguments.\n   * separator - can be used to separate items in the standard tasks category.\n   * file - a file link will open a file using the app that created the jump list, for this to work the app must be registered as a handler for the file type (though it doesn't have to be the default handler).\n * path string (optional) - path of the file to open, should only be set if type is file.\n * program string (optional) - path of the program to execute, usually you should specify process.execpath which opens the current program. should only be set if type is task.\n * args string (optional) - the command line arguments when program is executed. should only be set if type is task.\n * title string (optional) - the text to be displayed for the item in the jump list. should only be set if type is task.\n * description string (optional) - description of the task (displayed in a tooltip). should only be set if type is task. maximum length 260 characters.\n * iconpath string (optional) - the absolute path to an icon to be displayed in a jump list, which can be an arbitrary resource file that contains an icon (e.g. .ico, .exe, .dll). you can usually specify process.execpath to show the program icon.\n * iconindex number (optional) - the index of the icon in the resource file. if a resource file contains multiple icons this value can be used to specify the zero-based index of the icon that should be displayed for this task. if a resource file contains only one icon, this property should be set to zero.\n * workingdirectory string (optional) - the working directory. default is empty.",charsets:{}},{title:"jump-list-category",frontmatter:{title:"jump-list-category",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/5ca0f3/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/jump-list-category.html",relativePath:"《Electron中文文档》/api/structures/jump-list-category.md",key:"v-7745b1b3",path:"/pages/5ca0f3/",headersStr:null,content:"# JumpListCategory Object\n\n * type String (optional) - One of the following:\n   * tasks - Items in this category will be placed into the standard Tasks category. There can be only one such category, and it will always be displayed at the bottom of the Jump List.\n   * frequent - Displays a list of files frequently opened by the app, the name of the category and its items are set by Windows.\n   * recent - Displays a list of files recently opened by the app, the name of the category and its items are set by Windows. Items may be added to this category indirectly using app.addRecentDocument(path).\n   * custom - Displays tasks or file links, name must be set by the app.\n * name String (optional) - Must be set if type is custom, otherwise it should be omitted.\n * items JumpListItem[] (optional) - Array of JumpListItem objects if type is tasks or custom, otherwise it should be omitted.\n\nNote: If a JumpListCategory object has neither the type nor the name property set then its type is assumed to be tasks. If the name property is set but the type property is omitted then the type is assumed to be custom.\n\nNote: The maximum length of a Jump List item's description property is 260 characters. Beyond this limit, the item will not be added to the Jump List, nor will it be displayed.",normalizedContent:"# jumplistcategory object\n\n * type string (optional) - one of the following:\n   * tasks - items in this category will be placed into the standard tasks category. there can be only one such category, and it will always be displayed at the bottom of the jump list.\n   * frequent - displays a list of files frequently opened by the app, the name of the category and its items are set by windows.\n   * recent - displays a list of files recently opened by the app, the name of the category and its items are set by windows. items may be added to this category indirectly using app.addrecentdocument(path).\n   * custom - displays tasks or file links, name must be set by the app.\n * name string (optional) - must be set if type is custom, otherwise it should be omitted.\n * items jumplistitem[] (optional) - array of jumplistitem objects if type is tasks or custom, otherwise it should be omitted.\n\nnote: if a jumplistcategory object has neither the type nor the name property set then its type is assumed to be tasks. if the name property is set but the type property is omitted then the type is assumed to be custom.\n\nnote: the maximum length of a jump list item's description property is 260 characters. beyond this limit, the item will not be added to the jump list, nor will it be displayed.",charsets:{}},{title:"keyboard-event",frontmatter:{title:"keyboard-event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/40163b/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/keyboard-event.html",relativePath:"《Electron中文文档》/api/structures/keyboard-event.md",key:"v-d6f6dfb2",path:"/pages/40163b/",headersStr:null,content:"# KeyboardEvent Object\n\n * ctrlKey Boolean (optional) - whether the Control key was used in an accelerator to trigger the Event\n * metaKey Boolean (optional) - whether a meta key was used in an accelerator to trigger the Event\n * shiftKey Boolean (optional) - whether a Shift key was used in an accelerator to trigger the Event\n * altKey Boolean (optional) - whether an Alt key was used in an accelerator to trigger the Event\n * triggeredByAccelerator Boolean (optional) - whether an accelerator was used to trigger the event as opposed to another user gesture like mouse click",normalizedContent:"# keyboardevent object\n\n * ctrlkey boolean (optional) - whether the control key was used in an accelerator to trigger the event\n * metakey boolean (optional) - whether a meta key was used in an accelerator to trigger the event\n * shiftkey boolean (optional) - whether a shift key was used in an accelerator to trigger the event\n * altkey boolean (optional) - whether an alt key was used in an accelerator to trigger the event\n * triggeredbyaccelerator boolean (optional) - whether an accelerator was used to trigger the event as opposed to another user gesture like mouse click",charsets:{}},{title:"keyboard-input-event",frontmatter:{title:"keyboard-input-event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d57aa1/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/keyboard-input-event.html",relativePath:"《Electron中文文档》/api/structures/keyboard-input-event.md",key:"v-3305c626",path:"/pages/d57aa1/",headersStr:null,content:"# KeyboardInputEvent Object extends InputEvent\n\n * type String - The type of the event, can be keyDown, keyUp or char.\n * keyCode String - The character that will be sent as the keyboard event. Should only use the valid key codes in Accelerator.",normalizedContent:"# keyboardinputevent object extends inputevent\n\n * type string - the type of the event, can be keydown, keyup or char.\n * keycode string - the character that will be sent as the keyboard event. should only use the valid key codes in accelerator.",charsets:{}},{title:"memory-info",frontmatter:{title:"memory-info",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/001ec6/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/memory-info.html",relativePath:"《Electron中文文档》/api/structures/memory-info.md",key:"v-fe5f59ae",path:"/pages/001ec6/",headersStr:null,content:"# MemoryInfo Object\n\n * workingSetSize Integer - The amount of memory currently pinned to actual physical RAM.\n * peakWorkingSetSize Integer - The maximum amount of memory that has ever been pinned to actual physical RAM.\n * privateBytes Integer (optional) Windows - The amount of memory not shared by other processes, such as JS heap or HTML content.\n\nNote that all statistics are reported in Kilobytes.",normalizedContent:"# memoryinfo object\n\n * workingsetsize integer - the amount of memory currently pinned to actual physical ram.\n * peakworkingsetsize integer - the maximum amount of memory that has ever been pinned to actual physical ram.\n * privatebytes integer (optional) windows - the amount of memory not shared by other processes, such as js heap or html content.\n\nnote that all statistics are reported in kilobytes.",charsets:{}},{title:"mime-typed-buffer",frontmatter:{title:"mime-typed-buffer",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d848ab/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/mime-typed-buffer.html",relativePath:"《Electron中文文档》/api/structures/mime-typed-buffer.md",key:"v-4834c0a9",path:"/pages/d848ab/",headersStr:null,content:"# MimeTypedBuffer Object\n\n * mimeType String (optional) - MIME type of the buffer.\n * charset String (optional) - Charset of the buffer.\n * data Buffer - The actual Buffer content.",normalizedContent:"# mimetypedbuffer object\n\n * mimetype string (optional) - mime type of the buffer.\n * charset string (optional) - charset of the buffer.\n * data buffer - the actual buffer content.",charsets:{}},{title:"memory-usage-details",frontmatter:{title:"memory-usage-details",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/9daa14/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/memory-usage-details.html",relativePath:"《Electron中文文档》/api/structures/memory-usage-details.md",key:"v-d9a0338a",path:"/pages/9daa14/",headersStr:null,content:"# MemoryUsageDetails Object\n\n * count Number\n * size Number\n * liveSize Number",normalizedContent:"# memoryusagedetails object\n\n * count number\n * size number\n * livesize number",charsets:{}},{title:"mouse-input-event",frontmatter:{title:"mouse-input-event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/a0dfaa/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/mouse-input-event.html",relativePath:"《Electron中文文档》/api/structures/mouse-input-event.md",key:"v-730b5cee",path:"/pages/a0dfaa/",headersStr:null,content:"# MouseInputEvent Object extends InputEvent\n\n * type String - The type of the event, can be mouseDown, mouseUp, mouseEnter, mouseLeave, contextMenu, mouseWheel or mouseMove.\n * x Integer\n * y Integer\n * button String (optional) - The button pressed, can be left, middle, right.\n * globalX Integer (optional)\n * globalY Integer (optional)\n * movementX Integer (optional)\n * movementY Integer (optional)\n * clickCount Integer (optional)",normalizedContent:"# mouseinputevent object extends inputevent\n\n * type string - the type of the event, can be mousedown, mouseup, mouseenter, mouseleave, contextmenu, mousewheel or mousemove.\n * x integer\n * y integer\n * button string (optional) - the button pressed, can be left, middle, right.\n * globalx integer (optional)\n * globaly integer (optional)\n * movementx integer (optional)\n * movementy integer (optional)\n * clickcount integer (optional)",charsets:{}},{title:"mouse-wheel-input-event",frontmatter:{title:"mouse-wheel-input-event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/5e702d/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/mouse-wheel-input-event.html",relativePath:"《Electron中文文档》/api/structures/mouse-wheel-input-event.md",key:"v-af18676e",path:"/pages/5e702d/",headersStr:null,content:"# MouseWheelInputEvent Object extends MouseInputEvent\n\n * type String - The type of the event, can be mouseWheel.\n * deltaX Integer (optional)\n * deltaY Integer (optional)\n * wheelTicksX Integer (optional)\n * wheelTicksY Integer (optional)\n * accelerationRatioX Integer (optional)\n * accelerationRatioY Integer (optional)\n * hasPreciseScrollingDeltas Boolean (optional)\n * canScroll Boolean (optional)",normalizedContent:"# mousewheelinputevent object extends mouseinputevent\n\n * type string - the type of the event, can be mousewheel.\n * deltax integer (optional)\n * deltay integer (optional)\n * wheelticksx integer (optional)\n * wheelticksy integer (optional)\n * accelerationratiox integer (optional)\n * accelerationratioy integer (optional)\n * hasprecisescrollingdeltas boolean (optional)\n * canscroll boolean (optional)",charsets:{}},{title:"new-window-web-contents-event",frontmatter:{title:"new-window-web-contents-event",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/e6a0f1/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/new-window-web-contents-event.html",relativePath:"《Electron中文文档》/api/structures/new-window-web-contents-event.md",key:"v-1c7de6ae",path:"/pages/e6a0f1/",headersStr:null,content:"# NewWindowWebContentsEvent Object extends Event\n\n * newGuest BrowserWindow (optional)",normalizedContent:"# newwindowwebcontentsevent object extends event\n\n * newguest browserwindow (optional)",charsets:{}},{title:"notification-action",frontmatter:{title:"notification-action",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/94040f/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/notification-action.html",relativePath:"《Electron中文文档》/api/structures/notification-action.md",key:"v-03bc8b69",path:"/pages/94040f/",headers:[{level:2,title:"Platform / Action Support",slug:"platform-action-support",normalizedTitle:"platform / action support",charIndex:145},{level:3,title:"Button support on macOS",slug:"button-support-on-macos",normalizedTitle:"button support on macos",charIndex:1228}],headersStr:"Platform / Action Support Button support on macOS",content:"# NotificationAction Object\n\n * type String - The type of action, can be button.\n * text String (optional) - The label for the given action.\n\n\n# Platform / Action Support\n\nACTION TYPE   PLATFORM SUPPORT   USAGE OF TEXT                      DEFAULT TEXT                                                  LIMITATIONS\nbutton        macOS              Used as the label for the button   \"Show\" (or a localized string by system default if first of   Only the first one is used. If multiple are provided, those\n                                                                    such button, otherwise empty)                                 beyond the first will be listed as additional actions\n                                                                                                                                  (displayed when mouse active over the action button). Any\n                                                                                                                                  such action also is incompatible with hasReply and will be\n                                                                                                                                  ignored if hasReply is true.\n\n\n# Button support on macOS\n\nIn order for extra notification buttons to work on macOS your app must meet the following criteria.\n\n * App is signed\n * App has it's NSUserNotificationAlertStyle set to alert in the Info.plist.\n\nIf either of these requirements are not met the button won't appear.",normalizedContent:"# notificationaction object\n\n * type string - the type of action, can be button.\n * text string (optional) - the label for the given action.\n\n\n# platform / action support\n\naction type   platform support   usage of text                      default text                                                  limitations\nbutton        macos              used as the label for the button   \"show\" (or a localized string by system default if first of   only the first one is used. if multiple are provided, those\n                                                                    such button, otherwise empty)                                 beyond the first will be listed as additional actions\n                                                                                                                                  (displayed when mouse active over the action button). any\n                                                                                                                                  such action also is incompatible with hasreply and will be\n                                                                                                                                  ignored if hasreply is true.\n\n\n# button support on macos\n\nin order for extra notification buttons to work on macos your app must meet the following criteria.\n\n * app is signed\n * app has it's nsusernotificationalertstyle set to alert in the info.plist.\n\nif either of these requirements are not met the button won't appear.",charsets:{}},{title:"point",frontmatter:{title:"point",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/f94917/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/point.html",relativePath:"《Electron中文文档》/api/structures/point.md",key:"v-c96864ae",path:"/pages/f94917/",headersStr:null,content:"# Point Object\n\n * x Number\n * y Number\n\nNote: Both x and y must be whole integers, when providing a point object as input to an Electron API we will automatically round your x and y values to the nearest whole integer.",normalizedContent:"# point object\n\n * x number\n * y number\n\nnote: both x and y must be whole integers, when providing a point object as input to an electron api we will automatically round your x and y values to the nearest whole integer.",charsets:{}},{title:"notification-response",frontmatter:{title:"notification-response",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/e308cf/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/notification-response.html",relativePath:"《Electron中文文档》/api/structures/notification-response.md",key:"v-6bff5b09",path:"/pages/e308cf/",headersStr:null,content:"# NotificationResponse Object\n\n * actionIdentifier String - The identifier string of the action that the user selected.\n * date Number - The delivery date of the notification.\n * identifier String - The unique identifier for this notification request.\n * userInfo Record<String, any> - A dictionary of custom information associated with the notification.\n * userText String (optional) - The text entered or chosen by the user.",normalizedContent:"# notificationresponse object\n\n * actionidentifier string - the identifier string of the action that the user selected.\n * date number - the delivery date of the notification.\n * identifier string - the unique identifier for this notification request.\n * userinfo record<string, any> - a dictionary of custom information associated with the notification.\n * usertext string (optional) - the text entered or chosen by the user.",charsets:{}},{title:"post-body",frontmatter:{title:"post-body",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/35cd26/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/post-body.html",relativePath:"《Electron中文文档》/api/structures/post-body.md",key:"v-f06838ee",path:"/pages/35cd26/",headersStr:null,content:'# PostBody Object\n\n * data (UploadRawData | UploadFile)[] - The post data to be sent to the new window.\n * contentType String - The content-type header used for the data. One of application/x-www-form-urlencoded or multipart/form-data. Corresponds to the enctype attribute of the submitted HTML form.\n * boundary String (optional) - The boundary used to separate multiple parts of the message. Only valid when contentType is multipart/form-data.\n\nNote that keys starting with -- are not currently supported. For example, this will errantly submit as multipart/form-data when nativeWindowOpen is set to false in webPreferences:\n\n<form\n  target="_blank"\n  method="POST"\n  enctype="application/x-www-form-urlencoded"\n  action="https://postman-echo.com/post"\n>\n  <input type="text" name="--theKey">\n  <input type="submit">\n</form>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',normalizedContent:'# postbody object\n\n * data (uploadrawdata | uploadfile)[] - the post data to be sent to the new window.\n * contenttype string - the content-type header used for the data. one of application/x-www-form-urlencoded or multipart/form-data. corresponds to the enctype attribute of the submitted html form.\n * boundary string (optional) - the boundary used to separate multiple parts of the message. only valid when contenttype is multipart/form-data.\n\nnote that keys starting with -- are not currently supported. for example, this will errantly submit as multipart/form-data when nativewindowopen is set to false in webpreferences:\n\n<form\n  target="_blank"\n  method="post"\n  enctype="application/x-www-form-urlencoded"\n  action="https://postman-echo.com/post"\n>\n  <input type="text" name="--thekey">\n  <input type="submit">\n</form>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',charsets:{cjk:!0}},{title:"printer-info",frontmatter:{title:"printer-info",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/cc3754/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/printer-info.html",relativePath:"《Electron中文文档》/api/structures/printer-info.md",key:"v-646fabcd",path:"/pages/cc3754/",headers:[{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:664}],headersStr:"示例",content:"# PrinterInfo Object\n\n * name String - the name of the printer as understood by the OS.\n * displayName String - the name of the printer as shown in Print Preview.\n * description String - a longer description of the printer's type.\n * status Number - the current status of the printer.\n * isDefault Boolean - whether or not a given printer is set as the default printer on the OS.\n * options Object - an object containing a variable number of platform-specific printer information.\n\nThe number represented by status means different things on different platforms: on Windows its potential values can be found here, and on Linux and macOS they can be found here.\n\n\n# 示例\n\nBelow is an example of some of the additional options that may be set which may be different on each platform.\n\n{\n  name: 'Austin_4th_Floor_Printer___C02XK13BJHD4',\n  displayName: 'Austin 4th Floor Printer @ C02XK13BJHD4',\n  description: 'TOSHIBA ColorMFP',\n  status: 3,\n  isDefault: false,\n  options: {\n    copies: '1',\n    'device-uri': 'dnssd://Austin%204th%20Floor%20Printer%20%40%20C02XK13BJHD4._ipps._tcp.local./?uuid=71687f1e-1147-3274-6674-22de61b110bd',\n    finishings: '3',\n    'job-cancel-after': '10800',\n    'job-hold-until': 'no-hold',\n    'job-priority': '50',\n    'job-sheets': 'none,none',\n    'marker-change-time': '0',\n    'number-up': '1',\n    'printer-commands': 'ReportLevels,PrintSelfTestPage,com.toshiba.ColourProfiles.update,com.toshiba.EFiling.update,com.toshiba.EFiling.checkPassword',\n    'printer-info': 'Austin 4th Floor Printer @ C02XK13BJHD4',\n    'printer-is-accepting-jobs': 'true',\n    'printer-is-shared': 'false',\n    'printer-is-temporary': 'false',\n    'printer-location': '',\n    'printer-make-and-model': 'TOSHIBA ColorMFP',\n    'printer-state': '3',\n    'printer-state-change-time': '1573472937',\n    'printer-state-reasons': 'offline-report,com.toshiba.snmp.failed',\n    'printer-type': '10531038',\n    'printer-uri-supported': 'ipp://localhost/printers/Austin_4th_Floor_Printer___C02XK13BJHD4',\n    system_driverinfo: 'T'\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n",normalizedContent:"# printerinfo object\n\n * name string - the name of the printer as understood by the os.\n * displayname string - the name of the printer as shown in print preview.\n * description string - a longer description of the printer's type.\n * status number - the current status of the printer.\n * isdefault boolean - whether or not a given printer is set as the default printer on the os.\n * options object - an object containing a variable number of platform-specific printer information.\n\nthe number represented by status means different things on different platforms: on windows its potential values can be found here, and on linux and macos they can be found here.\n\n\n# 示例\n\nbelow is an example of some of the additional options that may be set which may be different on each platform.\n\n{\n  name: 'austin_4th_floor_printer___c02xk13bjhd4',\n  displayname: 'austin 4th floor printer @ c02xk13bjhd4',\n  description: 'toshiba colormfp',\n  status: 3,\n  isdefault: false,\n  options: {\n    copies: '1',\n    'device-uri': 'dnssd://austin%204th%20floor%20printer%20%40%20c02xk13bjhd4._ipps._tcp.local./?uuid=71687f1e-1147-3274-6674-22de61b110bd',\n    finishings: '3',\n    'job-cancel-after': '10800',\n    'job-hold-until': 'no-hold',\n    'job-priority': '50',\n    'job-sheets': 'none,none',\n    'marker-change-time': '0',\n    'number-up': '1',\n    'printer-commands': 'reportlevels,printselftestpage,com.toshiba.colourprofiles.update,com.toshiba.efiling.update,com.toshiba.efiling.checkpassword',\n    'printer-info': 'austin 4th floor printer @ c02xk13bjhd4',\n    'printer-is-accepting-jobs': 'true',\n    'printer-is-shared': 'false',\n    'printer-is-temporary': 'false',\n    'printer-location': '',\n    'printer-make-and-model': 'toshiba colormfp',\n    'printer-state': '3',\n    'printer-state-change-time': '1573472937',\n    'printer-state-reasons': 'offline-report,com.toshiba.snmp.failed',\n    'printer-type': '10531038',\n    'printer-uri-supported': 'ipp://localhost/printers/austin_4th_floor_printer___c02xk13bjhd4',\n    system_driverinfo: 't'\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n",charsets:{cjk:!0}},{title:"process-memory-info",frontmatter:{title:"process-memory-info",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/606b0f/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/process-memory-info.html",relativePath:"《Electron中文文档》/api/structures/process-memory-info.md",key:"v-3a6c20e9",path:"/pages/606b0f/",headersStr:null,content:"# ProcessMemoryInfo Object\n\n * residentSet Integer Linux Windows - The amount of memory currently pinned to actual physical RAM in Kilobytes.\n * private Integer - The amount of memory not shared by other processes, such as JS heap or HTML content in Kilobytes.\n * shared Integer - The amount of memory shared between processes, typically memory consumed by the Electron code itself in Kilobytes.",normalizedContent:"# processmemoryinfo object\n\n * residentset integer linux windows - the amount of memory currently pinned to actual physical ram in kilobytes.\n * private integer - the amount of memory not shared by other processes, such as js heap or html content in kilobytes.\n * shared integer - the amount of memory shared between processes, typically memory consumed by the electron code itself in kilobytes.",charsets:{}},{title:"process-metric",frontmatter:{title:"process-metric",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/423c4f/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/process-metric.html",relativePath:"《Electron中文文档》/api/structures/process-metric.md",key:"v-61e0c51a",path:"/pages/423c4f/",headersStr:null,content:"# ProcessMetric Object\n\n * pid Integer - Process id of the process.\n * type String - 进程类型。 以下值之一：\n   * Browser\n   * Tab\n   * Utility\n   * Zygote\n   * Sandbox helper\n   * GPU\n   * Pepper Plugin\n   * Pepper Plugin Broker\n   * Unknown\n * serviceName String (可选) - 进程的非本地化名称。\n * name String (可选) - 进程的名称。 功能性示例： Audio Service, Content Decryption Module Service, Network Service, Video Capture, 等等。\n * cpu CPUUsage - CPU usage of the process.\n * creationTime Number - Creation time for this process. The time is represented as number of milliseconds since epoch. Since the pid can be reused after a process dies, it is useful to use both the pid and the creationTime to uniquely identify a process.\n * memory MemoryInfo - Memory information for the process.\n * sandboxed Boolean (optional) macOS Windows - Whether the process is sandboxed on OS level.\n * integrityLevel String (optional) Windows - One of the following values:\n   * untrusted\n   * low\n   * medium\n   * high\n   * unknown",normalizedContent:"# processmetric object\n\n * pid integer - process id of the process.\n * type string - 进程类型。 以下值之一：\n   * browser\n   * tab\n   * utility\n   * zygote\n   * sandbox helper\n   * gpu\n   * pepper plugin\n   * pepper plugin broker\n   * unknown\n * servicename string (可选) - 进程的非本地化名称。\n * name string (可选) - 进程的名称。 功能性示例： audio service, content decryption module service, network service, video capture, 等等。\n * cpu cpuusage - cpu usage of the process.\n * creationtime number - creation time for this process. the time is represented as number of milliseconds since epoch. since the pid can be reused after a process dies, it is useful to use both the pid and the creationtime to uniquely identify a process.\n * memory memoryinfo - memory information for the process.\n * sandboxed boolean (optional) macos windows - whether the process is sandboxed on os level.\n * integritylevel string (optional) windows - one of the following values:\n   * untrusted\n   * low\n   * medium\n   * high\n   * unknown",charsets:{cjk:!0}},{title:"product",frontmatter:{title:"product",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/459bf8/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/product.html",relativePath:"《Electron中文文档》/api/structures/product.md",key:"v-40eb4fee",path:"/pages/459bf8/",headersStr:null,content:"# Product Object\n\n * productIdentifier String - The string that identifies the product to the Apple App Store.\n * localizedDescription String - A description of the product.\n * localizedTitle String - The name of the product.\n * contentVersion String - A string that identifies the version of the content.\n * contentLengths Number[] - The total size of the content, in bytes.\n * price Number - The cost of the product in the local currency.\n * formattedPrice String - The locale formatted price of the product.\n * currencyCode String - 3 character code presenting a product's currency based on the ISO 4217 standard.\n * isDownloadable Boolean - A Boolean value that indicates whether the App Store has downloadable content for this product. true if at least one file has been associated with the product.",normalizedContent:"# product object\n\n * productidentifier string - the string that identifies the product to the apple app store.\n * localizeddescription string - a description of the product.\n * localizedtitle string - the name of the product.\n * contentversion string - a string that identifies the version of the content.\n * contentlengths number[] - the total size of the content, in bytes.\n * price number - the cost of the product in the local currency.\n * formattedprice string - the locale formatted price of the product.\n * currencycode string - 3 character code presenting a product's currency based on the iso 4217 standard.\n * isdownloadable boolean - a boolean value that indicates whether the app store has downloadable content for this product. true if at least one file has been associated with the product.",charsets:{}},{title:"protocol-request",frontmatter:{title:"protocol-request",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/cd4f45/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/protocol-request.html",relativePath:"《Electron中文文档》/api/structures/protocol-request.md",key:"v-2b0a719b",path:"/pages/cd4f45/",headersStr:null,content:"# ProtocolRequest Object\n\n * url String\n * referrer String\n * method String\n * uploadData UploadData[] (optional)\n * headers Record<String, String>",normalizedContent:"# protocolrequest object\n\n * url string\n * referrer string\n * method string\n * uploaddata uploaddata[] (optional)\n * headers record<string, string>",charsets:{}},{title:"protocol-response-upload-data",frontmatter:{title:"protocol-response-upload-data",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/b401a9/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/protocol-response-upload-data.html",relativePath:"《Electron中文文档》/api/structures/protocol-response-upload-data.md",key:"v-e9393eee",path:"/pages/b401a9/",headersStr:null,content:"# ProtocolResponseUploadData Object\n\n * contentType String - MIME type of the content.\n * data String | Buffer - Content to be sent.",normalizedContent:"# protocolresponseuploaddata object\n\n * contenttype string - mime type of the content.\n * data string | buffer - content to be sent.",charsets:{cjk:!0}},{title:"protocol-response",frontmatter:{title:"protocol-response",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/56869d/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/protocol-response.html",relativePath:"《Electron中文文档》/api/structures/protocol-response.md",key:"v-2010e6e9",path:"/pages/56869d/",headersStr:null,content:'# ProtocolResponse Object\n\n * error Integer (optional) - When assigned, the request will fail with the error number . For the available error numbers you can use, please see the net error list.\n * statusCode Number (optional) - The HTTP response code, default is 200.\n * charset String (optional) - The charset of response body, default is "utf-8".\n * mimeType String (optional) - The MIME type of response body, default is "text/html". Setting mimeType would implicitly set the content-type header in response, but if content-type is already set in headers, the mimeType would be ignored.\n * headers Record<string, string | string[]> (optional) - An object containing the response headers. The keys must be String, and values must be either String or Array of String.\n * data (Buffer | String | ReadableStream) (optional) - The response body. When returning stream as response, this is a Node.js readable stream representing the response body. When returning Buffer as response, this is a Buffer. When returning String as response, this is a String. This is ignored for other types of responses.\n * path String (optional) - Path to the file which would be sent as response body. This is only used for file responses.\n * url String (optional) - Download the url and pipe the result as response body. This is only used for URL responses.\n * referrer String (optional) - The referrer URL. This is only used for file and URL responses.\n * method String (optional) - The HTTP method. This is only used for file and URL responses.\n * session Session (optional) - The session used for requesting URL, by default the HTTP request will reuse the current session. Setting session to null would use a random independent session. This is only used for URL responses.\n * uploadData ProtocolResponseUploadData (optional) - The data used as upload data. This is only used for URL responses when method is "POST".',normalizedContent:'# protocolresponse object\n\n * error integer (optional) - when assigned, the request will fail with the error number . for the available error numbers you can use, please see the net error list.\n * statuscode number (optional) - the http response code, default is 200.\n * charset string (optional) - the charset of response body, default is "utf-8".\n * mimetype string (optional) - the mime type of response body, default is "text/html". setting mimetype would implicitly set the content-type header in response, but if content-type is already set in headers, the mimetype would be ignored.\n * headers record<string, string | string[]> (optional) - an object containing the response headers. the keys must be string, and values must be either string or array of string.\n * data (buffer | string | readablestream) (optional) - the response body. when returning stream as response, this is a node.js readable stream representing the response body. when returning buffer as response, this is a buffer. when returning string as response, this is a string. this is ignored for other types of responses.\n * path string (optional) - path to the file which would be sent as response body. this is only used for file responses.\n * url string (optional) - download the url and pipe the result as response body. this is only used for url responses.\n * referrer string (optional) - the referrer url. this is only used for file and url responses.\n * method string (optional) - the http method. this is only used for file and url responses.\n * session session (optional) - the session used for requesting url, by default the http request will reuse the current session. setting session to null would use a random independent session. this is only used for url responses.\n * uploaddata protocolresponseuploaddata (optional) - the data used as upload data. this is only used for url responses when method is "post".',charsets:{cjk:!0}},{title:"rectangle",frontmatter:{title:"rectangle",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/a8c333/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/rectangle.html",relativePath:"《Electron中文文档》/api/structures/rectangle.md",key:"v-5f5dc8ee",path:"/pages/a8c333/",headersStr:null,content:"# Rectangle Object\n\n * x Number - The x coordinate of the origin of the rectangle (must be an integer).\n * y Number - The y coordinate of the origin of the rectangle (must be an integer).\n * width Number - The width of the rectangle (must be an integer).\n * height Number - The height of the rectangle (must be an integer).",normalizedContent:"# rectangle object\n\n * x number - the x coordinate of the origin of the rectangle (must be an integer).\n * y number - the y coordinate of the origin of the rectangle (must be an integer).\n * width number - the width of the rectangle (must be an integer).\n * height number - the height of the rectangle (must be an integer).",charsets:{}},{title:"referrer",frontmatter:{title:"referrer",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/c56141/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/referrer.html",relativePath:"《Electron中文文档》/api/structures/referrer.md",key:"v-63c3f391",path:"/pages/c56141/",headersStr:null,content:"# Referrer Object\n\n * url String - HTTP Referrer URL.\n * policy String - Can be default, unsafe-url, no-referrer-when-downgrade, no-referrer, origin, strict-origin-when-cross-origin, same-origin or strict-origin. See the Referrer-Policy spec for more details on the meaning of these values.",normalizedContent:"# referrer object\n\n * url string - http referrer url.\n * policy string - can be default, unsafe-url, no-referrer-when-downgrade, no-referrer, origin, strict-origin-when-cross-origin, same-origin or strict-origin. see the referrer-policy spec for more details on the meaning of these values.",charsets:{}},{title:"scrubber-item",frontmatter:{title:"scrubber-item",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/181679/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/scrubber-item.html",relativePath:"《Electron中文文档》/api/structures/scrubber-item.md",key:"v-05b8deae",path:"/pages/181679/",headersStr:null,content:"# ScrubberItem Object\n\n * label String (optional) - The text to appear in this item.\n * icon NativeImage (optional) - The image to appear in this item.",normalizedContent:"# scrubberitem object\n\n * label string (optional) - the text to appear in this item.\n * icon nativeimage (optional) - the image to appear in this item.",charsets:{}},{title:"segmented-control-segment",frontmatter:{title:"segmented-control-segment",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/9695fc/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/segmented-control-segment.html",relativePath:"《Electron中文文档》/api/structures/segmented-control-segment.md",key:"v-471f7129",path:"/pages/9695fc/",headersStr:null,content:"# SegmentedControlSegment Object\n\n * label String (optional) - The text to appear in this segment.\n * icon NativeImage (optional) - The image to appear in this segment.\n * enabled Boolean (optional) - Whether this segment is selectable. Default: true.",normalizedContent:"# segmentedcontrolsegment object\n\n * label string (optional) - the text to appear in this segment.\n * icon nativeimage (optional) - the image to appear in this segment.\n * enabled boolean (optional) - whether this segment is selectable. default: true.",charsets:{}},{title:"serial-port",frontmatter:{title:"serial-port",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d9da1b/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/serial-port.html",relativePath:"《Electron中文文档》/api/structures/serial-port.md",key:"v-37535b29",path:"/pages/d9da1b/",headersStr:null,content:"# SerialPort Object\n\n * portId String - Unique identifier for the port.\n * portName String - Name of the port.\n * displayName String - A string suitable for display to the user for describing this device.\n * vendorId String - Optional USB vendor ID.\n * productId String - Optional USB product ID.\n * serialNumber String - The USB device serial number.\n * usbDriverName String (optional) - Represents a single serial port on macOS can be enumerated by multiple drivers.\n * deviceInstanceId String (optional) - A stable identifier on Windows that can be used for device permissions.",normalizedContent:"# serialport object\n\n * portid string - unique identifier for the port.\n * portname string - name of the port.\n * displayname string - a string suitable for display to the user for describing this device.\n * vendorid string - optional usb vendor id.\n * productid string - optional usb product id.\n * serialnumber string - the usb device serial number.\n * usbdrivername string (optional) - represents a single serial port on macos can be enumerated by multiple drivers.\n * deviceinstanceid string (optional) - a stable identifier on windows that can be used for device permissions.",charsets:{}},{title:"service-worker-info",frontmatter:{title:"service-worker-info",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/ccb181/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/service-worker-info.html",relativePath:"《Electron中文文档》/api/structures/service-worker-info.md",key:"v-8dd2e16e",path:"/pages/ccb181/",headersStr:null,content:"# ServiceWorkerInfo Object\n\n * scriptUrl String - The full URL to the script that this service worker runs\n * scope String - The base URL that this service worker is active for.\n * renderProcessId Number - The virtual ID of the process that this service worker is running in. This is not an OS level PID. This aligns with the ID set used for webContents.getProcessId().",normalizedContent:"# serviceworkerinfo object\n\n * scripturl string - the full url to the script that this service worker runs\n * scope string - the base url that this service worker is active for.\n * renderprocessid number - the virtual id of the process that this service worker is running in. this is not an os level pid. this aligns with the id set used for webcontents.getprocessid().",charsets:{}},{title:"shared-worker-info",frontmatter:{title:"shared-worker-info",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/b71b3b/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/shared-worker-info.html",relativePath:"《Electron中文文档》/api/structures/shared-worker-info.md",key:"v-669d1536",path:"/pages/b71b3b/",headersStr:null,content:"# SharedWorkerInfo Object\n\n * id String - The unique id of the shared worker.\n * url String - The url of the shared worker.",normalizedContent:"# sharedworkerinfo object\n\n * id string - the unique id of the shared worker.\n * url string - the url of the shared worker.",charsets:{}},{title:"shortcut-details",frontmatter:{title:"shortcut-details",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/c77422/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/shortcut-details.html",relativePath:"《Electron中文文档》/api/structures/shortcut-details.md",key:"v-77c7574e",path:"/pages/c77422/",headersStr:null,content:"# ShortcutDetails Object\n\n * target String - The target to launch from this shortcut.\n * cwd String (optional) - The working directory. Default is empty.\n * args String (optional) - The arguments to be applied to target when launching from this shortcut. Default is empty.\n * description String (optional) - The description of the shortcut. Default is empty.\n * icon String (optional) - The path to the icon, can be a DLL or EXE. icon and iconIndex have to be set together. Default is empty, which uses the target's icon.\n * iconIndex Number (optional) - The resource ID of icon when icon is a DLL or EXE. Default is 0.\n * appUserModelId String (optional) - The Application User Model ID. Default is empty.\n * toastActivatorClsid String (optional) - The Application Toast Activator CLSID. Needed for participating in Action Center.",normalizedContent:"# shortcutdetails object\n\n * target string - the target to launch from this shortcut.\n * cwd string (optional) - the working directory. default is empty.\n * args string (optional) - the arguments to be applied to target when launching from this shortcut. default is empty.\n * description string (optional) - the description of the shortcut. default is empty.\n * icon string (optional) - the path to the icon, can be a dll or exe. icon and iconindex have to be set together. default is empty, which uses the target's icon.\n * iconindex number (optional) - the resource id of icon when icon is a dll or exe. default is 0.\n * appusermodelid string (optional) - the application user model id. default is empty.\n * toastactivatorclsid string (optional) - the application toast activator clsid. needed for participating in action center.",charsets:{}},{title:"sharing-item",frontmatter:{title:"sharing-item",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/a847ba/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/sharing-item.html",relativePath:"《Electron中文文档》/api/structures/sharing-item.md",key:"v-3ac7adf2",path:"/pages/a847ba/",headersStr:null,content:"# SharingItem Object\n\n * texts String[] (optional) - An array of text to share.\n * filePaths String[] (optional) - An array of files to share.\n * urls String[] (optional) - An array of URLs to share.",normalizedContent:"# sharingitem object\n\n * texts string[] (optional) - an array of text to share.\n * filepaths string[] (optional) - an array of files to share.\n * urls string[] (optional) - an array of urls to share.",charsets:{}},{title:"task",frontmatter:{title:"task",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/081015/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/task.html",relativePath:"《Electron中文文档》/api/structures/task.md",key:"v-120245c5",path:"/pages/081015/",headersStr:null,content:"# Task Object\n\n * program String - Path of the program to execute, usually you should specify process.execPath which opens the current program.\n * arguments String - The command line arguments when program is executed.\n * title String - The string to be displayed in a JumpList.\n * description String - Description of this task.\n * iconPath String - The absolute path to an icon to be displayed in a JumpList, which can be an arbitrary resource file that contains an icon. You can usually specify process.execPath to show the icon of the program.\n * iconIndex Number - The icon index in the icon file. If an icon file consists of two or more icons, set this value to identify the icon. If an icon file consists of one icon, this value is 0.\n * workingDirectory String (optional) - The working directory. Default is empty.",normalizedContent:"# task object\n\n * program string - path of the program to execute, usually you should specify process.execpath which opens the current program.\n * arguments string - the command line arguments when program is executed.\n * title string - the string to be displayed in a jumplist.\n * description string - description of this task.\n * iconpath string - the absolute path to an icon to be displayed in a jumplist, which can be an arbitrary resource file that contains an icon. you can usually specify process.execpath to show the icon of the program.\n * iconindex number - the icon index in the icon file. if an icon file consists of two or more icons, set this value to identify the icon. if an icon file consists of one icon, this value is 0.\n * workingdirectory string (optional) - the working directory. default is empty.",charsets:{}},{title:"size",frontmatter:{title:"size",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/47c752/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/size.html",relativePath:"《Electron中文文档》/api/structures/size.md",key:"v-714d5e66",path:"/pages/47c752/",headersStr:null,content:"# Size Object\n\n * width Number\n * height Number",normalizedContent:"# size object\n\n * width number\n * height number",charsets:{}},{title:"thumbar-button",frontmatter:{title:"thumbar-button",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/61f30a/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/thumbar-button.html",relativePath:"《Electron中文文档》/api/structures/thumbar-button.md",key:"v-4128311f",path:"/pages/61f30a/",headersStr:null,content:"# ThumbarButton Object\n\n * icon NativeImage - The icon showing in thumbnail toolbar.\n * click Function\n * tooltip String (optional) - The text of the button's tooltip.\n * flags String[] (optional) - Control specific states and behaviors of the button. By default, it is ['enabled'].\n\nThe flags is an array that can include following Strings:\n\n * enabled - The button is active and available to the user.\n * disabled - The button is disabled. It is present, but has a visual state indicating it will not respond to user action.\n * dismissonclick - When the button is clicked, the thumbnail window closes immediately.\n * nobackground - Do not draw a button border, use only the image.\n * hidden - The button is not shown to the user.\n * noninteractive - The button is enabled but not interactive; no pressed button state is drawn. This value is intended for instances where the button is used in a notification.",normalizedContent:"# thumbarbutton object\n\n * icon nativeimage - the icon showing in thumbnail toolbar.\n * click function\n * tooltip string (optional) - the text of the button's tooltip.\n * flags string[] (optional) - control specific states and behaviors of the button. by default, it is ['enabled'].\n\nthe flags is an array that can include following strings:\n\n * enabled - the button is active and available to the user.\n * disabled - the button is disabled. it is present, but has a visual state indicating it will not respond to user action.\n * dismissonclick - when the button is clicked, the thumbnail window closes immediately.\n * nobackground - do not draw a button border, use only the image.\n * hidden - the button is not shown to the user.\n * noninteractive - the button is enabled but not interactive; no pressed button state is drawn. this value is intended for instances where the button is used in a notification.",charsets:{}},{title:"trace-categories-and-options",frontmatter:{title:"trace-categories-and-options",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/b7e91d/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/trace-categories-and-options.html",relativePath:"《Electron中文文档》/api/structures/trace-categories-and-options.md",key:"v-4a14cad1",path:"/pages/b7e91d/",headersStr:null,content:"# TraceCategoriesAndOptions Object\n\n * categoryFilter String - A filter to control what category groups should be traced. A filter can have an optional '-' prefix to exclude category groups that contain a matching category. Having both included and excluded category patterns in the same list is not supported. Examples: test_MyTest*, test_MyTest*,test_OtherStuff, -excluded_category1,-excluded_category2.\n * traceOptions String - Controls what kind of tracing is enabled, it is a comma-delimited sequence of the following strings: record-until-full, record-continuously, trace-to-console, enable-sampling, enable-systrace, e.g. 'record-until-full,enable-sampling'. The first 3 options are trace recording modes and hence mutually exclusive. If more than one trace recording modes appear in the traceOptions string, the last one takes precedence. If none of the trace recording modes are specified, recording mode is record-until-full. The trace option will first be reset to the default option (record_mode set to record-until-full, enable_sampling and enable_systrace set to false) before options parsed from traceOptions are applied on it.",normalizedContent:"# tracecategoriesandoptions object\n\n * categoryfilter string - a filter to control what category groups should be traced. a filter can have an optional '-' prefix to exclude category groups that contain a matching category. having both included and excluded category patterns in the same list is not supported. examples: test_mytest*, test_mytest*,test_otherstuff, -excluded_category1,-excluded_category2.\n * traceoptions string - controls what kind of tracing is enabled, it is a comma-delimited sequence of the following strings: record-until-full, record-continuously, trace-to-console, enable-sampling, enable-systrace, e.g. 'record-until-full,enable-sampling'. the first 3 options are trace recording modes and hence mutually exclusive. if more than one trace recording modes appear in the traceoptions string, the last one takes precedence. if none of the trace recording modes are specified, recording mode is record-until-full. the trace option will first be reset to the default option (record_mode set to record-until-full, enable_sampling and enable_systrace set to false) before options parsed from traceoptions are applied on it.",charsets:{}},{title:"trace-config",frontmatter:{title:"trace-config",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/972b96/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/trace-config.html",relativePath:"《Electron中文文档》/api/structures/trace-config.md",key:"v-6f483f8a",path:"/pages/972b96/",headersStr:null,content:"# TraceConfig Object\n\n * recording_mode String (optional) - Can be record-until-full, record-continuously, record-as-much-as-possible or trace-to-console. Defaults to record-until-full.\n * trace_buffer_size_in_kb number (optional) - maximum size of the trace recording buffer in kilobytes. Defaults to 100MB.\n * trace_buffer_size_in_events number (optional) - maximum size of the trace recording buffer in events.\n * enable_argument_filter boolean (optional) - if true, filter event data according to a specific list of events that have been manually vetted to not include any PII. See the implementation in Chromium for specifics.\n * included_categories String[] (optional) - a list of tracing categories to include. Can include glob-like patterns using * at the end of the category name. See tracing categories for the list of categories.\n * excluded_categories String[] (optional) - a list of tracing categories to exclude. Can include glob-like patterns using * at the end of the category name. See tracing categories for the list of categories.\n * included_process_ids number[] (optional) - a list of process IDs to include in the trace. If not specified, trace all processes.\n * histogram_names String[] (optional) - a list of histogram names to report with the trace.\n * memory_dump_config Record<String, any> (optional) - if the disabled-by-default-memory-infra category is enabled, this contains optional additional configuration for data collection. See the Chromium memory-infra docs for more information.\n\nAn example TraceConfig that roughly matches what Chrome DevTools records:\n\n{\n  recording_mode: 'record-until-full',\n  included_categories: [\n    'devtools.timeline',\n    'disabled-by-default-devtools.timeline',\n    'disabled-by-default-devtools.timeline.frame',\n    'disabled-by-default-devtools.timeline.stack',\n    'v8.execute',\n    'blink.console',\n    'blink.user_timing',\n    'latencyInfo',\n    'disabled-by-default-v8.cpu_profiler',\n    'disabled-by-default-v8.cpu_profiler.hires'\n  ],\n  excluded_categories: ['*']\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",normalizedContent:"# traceconfig object\n\n * recording_mode string (optional) - can be record-until-full, record-continuously, record-as-much-as-possible or trace-to-console. defaults to record-until-full.\n * trace_buffer_size_in_kb number (optional) - maximum size of the trace recording buffer in kilobytes. defaults to 100mb.\n * trace_buffer_size_in_events number (optional) - maximum size of the trace recording buffer in events.\n * enable_argument_filter boolean (optional) - if true, filter event data according to a specific list of events that have been manually vetted to not include any pii. see the implementation in chromium for specifics.\n * included_categories string[] (optional) - a list of tracing categories to include. can include glob-like patterns using * at the end of the category name. see tracing categories for the list of categories.\n * excluded_categories string[] (optional) - a list of tracing categories to exclude. can include glob-like patterns using * at the end of the category name. see tracing categories for the list of categories.\n * included_process_ids number[] (optional) - a list of process ids to include in the trace. if not specified, trace all processes.\n * histogram_names string[] (optional) - a list of histogram names to report with the trace.\n * memory_dump_config record<string, any> (optional) - if the disabled-by-default-memory-infra category is enabled, this contains optional additional configuration for data collection. see the chromium memory-infra docs for more information.\n\nan example traceconfig that roughly matches what chrome devtools records:\n\n{\n  recording_mode: 'record-until-full',\n  included_categories: [\n    'devtools.timeline',\n    'disabled-by-default-devtools.timeline',\n    'disabled-by-default-devtools.timeline.frame',\n    'disabled-by-default-devtools.timeline.stack',\n    'v8.execute',\n    'blink.console',\n    'blink.user_timing',\n    'latencyinfo',\n    'disabled-by-default-v8.cpu_profiler',\n    'disabled-by-default-v8.cpu_profiler.hires'\n  ],\n  excluded_categories: ['*']\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",charsets:{}},{title:"transaction",frontmatter:{title:"transaction",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/66e074/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/transaction.html",relativePath:"《Electron中文文档》/api/structures/transaction.md",key:"v-56be2eae",path:"/pages/66e074/",headersStr:null,content:"# Transaction Object\n\n * transactionIdentifier String - A string that uniquely identifies a successful payment transaction.\n * transactionDate String - The date the transaction was added to the App Store’s payment queue.\n * originalTransactionIdentifier String - The identifier of the restored transaction by the App Store.\n * transactionState String - The transaction state, can be purchasing, purchased, failed, restored or deferred.\n * errorCode Integer - The error code if an error occurred while processing the transaction.\n * errorMessage String - The error message if an error occurred while processing the transaction.\n * payment Object\n   * productIdentifier String - The identifier of the purchased product.\n   * quantity Integer - The quantity purchased.",normalizedContent:"# transaction object\n\n * transactionidentifier string - a string that uniquely identifies a successful payment transaction.\n * transactiondate string - the date the transaction was added to the app store’s payment queue.\n * originaltransactionidentifier string - the identifier of the restored transaction by the app store.\n * transactionstate string - the transaction state, can be purchasing, purchased, failed, restored or deferred.\n * errorcode integer - the error code if an error occurred while processing the transaction.\n * errormessage string - the error message if an error occurred while processing the transaction.\n * payment object\n   * productidentifier string - the identifier of the purchased product.\n   * quantity integer - the quantity purchased.",charsets:{}},{title:"upload-data",frontmatter:{title:"upload-data",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/dcc676/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/upload-data.html",relativePath:"《Electron中文文档》/api/structures/upload-data.md",key:"v-0945d1a9",path:"/pages/dcc676/",headersStr:null,content:"# UploadData Object\n\n * bytes Buffer - Content being sent.\n * file String (optional) - Path of file being uploaded.\n * blobUUID String (optional) - UUID of blob data. Use ses.getBlobData method to retrieve the data.",normalizedContent:"# uploaddata object\n\n * bytes buffer - content being sent.\n * file string (optional) - path of file being uploaded.\n * blobuuid string (optional) - uuid of blob data. use ses.getblobdata method to retrieve the data.",charsets:{}},{title:"upload-file",frontmatter:{title:"upload-file",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/8f77ee/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/upload-file.html",relativePath:"《Electron中文文档》/api/structures/upload-file.md",key:"v-3fd9bf2e",path:"/pages/8f77ee/",headersStr:null,content:"# UploadFile Object\n\n * type 'file' - file.\n * filePath String - Path of file to be uploaded.\n * offset Integer - Defaults to 0.\n * length Integer - Number of bytes to read from offset. Defaults to 0.\n * modificationTime Double - Last Modification time in number of seconds since the UNIX epoch.",normalizedContent:"# uploadfile object\n\n * type 'file' - file.\n * filepath string - path of file to be uploaded.\n * offset integer - defaults to 0.\n * length integer - number of bytes to read from offset. defaults to 0.\n * modificationtime double - last modification time in number of seconds since the unix epoch.",charsets:{}},{title:"user-default-types",frontmatter:{title:"user-default-types",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/972fe1/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/user-default-types.html",relativePath:"《Electron中文文档》/api/structures/user-default-types.md",key:"v-053bf579",path:"/pages/972fe1/",headersStr:null,content:"# UserDefaultTypes Object\n\n * string String\n * boolean Boolean\n * integer Number\n * float Number\n * double Number\n * url String\n * array Array<unknown>\n * dictionary Record<string, unknown>\n\nThis type is a helper alias, no object will never exist of this type.",normalizedContent:"# userdefaulttypes object\n\n * string string\n * boolean boolean\n * integer number\n * float number\n * double number\n * url string\n * array array<unknown>\n * dictionary record<string, unknown>\n\nthis type is a helper alias, no object will never exist of this type.",charsets:{}},{title:"upload-raw-data",frontmatter:{title:"upload-raw-data",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/123859/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/upload-raw-data.html",relativePath:"《Electron中文文档》/api/structures/upload-raw-data.md",key:"v-4ff9d6ee",path:"/pages/123859/",headersStr:null,content:"# UploadRawData Object\n\n * type 'rawData' - rawData.\n * bytes Buffer - Data to be uploaded.",normalizedContent:"# uploadrawdata object\n\n * type 'rawdata' - rawdata.\n * bytes buffer - data to be uploaded.",charsets:{}},{title:"web-request-filter",frontmatter:{title:"web-request-filter",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/30b49a/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/web-request-filter.html",relativePath:"《Electron中文文档》/api/structures/web-request-filter.md",key:"v-3ccd199e",path:"/pages/30b49a/",headersStr:null,content:"# WebRequestFilter Object\n\n * urls String[] - Array of URL patterns that will be used to filter out the requests that do not match the URL patterns.",normalizedContent:"# webrequestfilter object\n\n * urls string[] - array of url patterns that will be used to filter out the requests that do not match the url patterns.",charsets:{}},{title:"web-source",frontmatter:{title:"web-source",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d5cdb2/",categories:["《Electron中文文档》","api","structures"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/structures/web-source.html",relativePath:"《Electron中文文档》/api/structures/web-source.md",key:"v-d8a438b2",path:"/pages/d5cdb2/",headersStr:null,content:"# WebSource Object\n\n * code String\n * url String (optional)\n * startLine Integer (optional) - Default is 1.",normalizedContent:"# websource object\n\n * code string\n * url string (optional)\n * startline integer (optional) - default is 1.",charsets:{}},{title:"synopsis",frontmatter:{title:"synopsis",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/1ac236/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/synopsis.html",relativePath:"《Electron中文文档》/api/synopsis.md",key:"v-6a8d8996",path:"/pages/1ac236/",headers:[{level:2,title:"解构赋值",slug:"解构赋值",normalizedTitle:"解构赋值",charIndex:816}],headersStr:"解构赋值",content:"# 简介\n\n> 如何使用 Node.js 和 Electron APIs\n\nNode. js 的所有 内置模块 都在Electron中可用， 第三方 node 模块中也完全支持 (包括 原生模块 )。\n\nElectron 还为开发原生桌面应用程序提供了一些额外的内置模块。 某些模块仅在主进程中可用, 有些仅在渲染进程 (web 页) 中可用, 而有些在这两个进程中都可以使用。\n\n基本规则是: 如果一个模块是 GUI 或底层系统相关的, 那么它应该只在主进程中可用。 You need to be familiar with the concept of main process vs. renderer process scripts to be able to use those modules.\n\n主进程脚本就像一个普通的Node.js脚本：\n\nconst { app, BrowserWindow } = require('electron')\nlet win = null\n\napp.whenReady().then(() => {\n  win = new BrowserWindow({ width: 800, height: 600 })\n  win.loadURL('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n如果 nodeIntegration 被启用，那么渲染进程除了额外能够使用node模块的能力外，与普通网页没有什么区别\n\n<!DOCTYPE html>\n<html>\n<body>\n<script>\n  const fs = require('fs')\n  console.log(fs.readFileSync(__filename, 'utf8'))\n<\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 解构赋值\n\n从0.37开始，可以使用 destructuring assignment (es6解构赋值)来使内置模块更容易使用。\n\nconst { app, BrowserWindow } = require('electron')\n\nlet win\n\napp.whenReady().then(() => {\n  win = new BrowserWindow()\n  win.loadURL('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n如果您需要整个 electron 模块, 则可以require它, 然后使用解构（destructuring）从 <0> electron <0> 访问各个模块。\n\nconst electron = require('electron')\nconst { app, BrowserWindow } = electron\n\nlet win\n\napp.whenReady().then(() => {\n  win = new BrowserWindow()\n  win.loadURL('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n这等效于以下代码:\n\nconst electron = require('electron')\nconst app = electron.app\nconst BrowserWindow = electron.BrowserWindow\nlet win\n\napp.whenReady().then(() => {\n  win = new BrowserWindow()\n  win.loadURL('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",normalizedContent:"# 简介\n\n> 如何使用 node.js 和 electron apis\n\nnode. js 的所有 内置模块 都在electron中可用， 第三方 node 模块中也完全支持 (包括 原生模块 )。\n\nelectron 还为开发原生桌面应用程序提供了一些额外的内置模块。 某些模块仅在主进程中可用, 有些仅在渲染进程 (web 页) 中可用, 而有些在这两个进程中都可以使用。\n\n基本规则是: 如果一个模块是 gui 或底层系统相关的, 那么它应该只在主进程中可用。 you need to be familiar with the concept of main process vs. renderer process scripts to be able to use those modules.\n\n主进程脚本就像一个普通的node.js脚本：\n\nconst { app, browserwindow } = require('electron')\nlet win = null\n\napp.whenready().then(() => {\n  win = new browserwindow({ width: 800, height: 600 })\n  win.loadurl('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n如果 nodeintegration 被启用，那么渲染进程除了额外能够使用node模块的能力外，与普通网页没有什么区别\n\n<!doctype html>\n<html>\n<body>\n<script>\n  const fs = require('fs')\n  console.log(fs.readfilesync(__filename, 'utf8'))\n<\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 解构赋值\n\n从0.37开始，可以使用 destructuring assignment (es6解构赋值)来使内置模块更容易使用。\n\nconst { app, browserwindow } = require('electron')\n\nlet win\n\napp.whenready().then(() => {\n  win = new browserwindow()\n  win.loadurl('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n如果您需要整个 electron 模块, 则可以require它, 然后使用解构（destructuring）从 <0> electron <0> 访问各个模块。\n\nconst electron = require('electron')\nconst { app, browserwindow } = electron\n\nlet win\n\napp.whenready().then(() => {\n  win = new browserwindow()\n  win.loadurl('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n这等效于以下代码:\n\nconst electron = require('electron')\nconst app = electron.app\nconst browserwindow = electron.browserwindow\nlet win\n\napp.whenready().then(() => {\n  win = new browserwindow()\n  win.loadurl('https://github.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",charsets:{cjk:!0}},{title:"touch-bar-button",frontmatter:{title:"touch-bar-button",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/41d57b/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-button.html",relativePath:"《Electron中文文档》/api/touch-bar-button.md",key:"v-083d8456",path:"/pages/41d57b/",headers:[{level:2,title:"类: TouchBarButton",slug:"类-touchbarbutton",normalizedTitle:"类: touchbarbutton",charIndex:2},{level:3,title:"new TouchBarButton(options)",slug:"new-touchbarbutton-options",normalizedTitle:"new touchbarbutton(options)",charIndex:203},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:790},{level:4,title:"touchBarButton.accessibilityLabel",slug:"touchbarbutton-accessibilitylabel",normalizedTitle:"touchbarbutton.accessibilitylabel",charIndex:825},{level:4,title:"touchBarButton.label",slug:"touchbarbutton-label",normalizedTitle:"touchbarbutton.label",charIndex:1002},{level:4,title:"touchBarButton.backgroundColor",slug:"touchbarbutton-backgroundcolor",normalizedTitle:"touchbarbutton.backgroundcolor",charIndex:1145},{level:4,title:"touchBarButton.icon",slug:"touchbarbutton-icon",normalizedTitle:"touchbarbutton.icon",charIndex:1319},{level:4,title:"touchBarButton.iconPosition",slug:"touchbarbutton-iconposition",normalizedTitle:"touchbarbutton.iconposition",charIndex:1466},{level:4,title:"touchBarButton.enabled",slug:"touchbarbutton-enabled",normalizedTitle:"touchbarbutton.enabled",charIndex:1554}],headersStr:"类: TouchBarButton new TouchBarButton(options) 实例属性 touchBarButton.accessibilityLabel touchBarButton.label touchBarButton.backgroundColor touchBarButton.icon touchBarButton.iconPosition touchBarButton.enabled",content:"# 类: TouchBarButton\n\n> 为mac os应用在touch bar中创建一个按钮组件\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarButton(options)\n\n * 选项 对象\n   * labelString (可选) 按钮文本。\n   * accessibilityLabel String (optional) - A short description of the button for use by screenreaders like VoiceOver.\n   * backgroundColorString (可选) - 按钮背景颜色以十六进制格式，例如 #ABCDEF。\n   * icon NativeImage | String (optional) - Button icon.\n   * iconPositionString (可选) - 可以是 left、right 或 overlay。 默认值为 overlay。\n   * clickfunction (可选) - 单击按钮时调用的函数。\n   * enabled Boolean (optional) - Whether the button is in an enabled state. 默认值为 true。\n\nWhen defining accessibilityLabel, ensure you have considered macOS best practices.\n\n\n# 实例属性\n\n下面的这些是TouchBarButton中的属性：\n\n# touchBarButton.accessibilityLabel\n\nA String representing the description of the button to be read by a screen reader. Will only be read by screen readers if no label is set.\n\n# touchBarButton.label\n\nA String representing the button's current text. Changing this value immediately updates the button in the touch bar.\n\n# touchBarButton.backgroundColor\n\nA String hex code representing the button's current background color. Changing this value immediately updates the button in the touch bar.\n\n# touchBarButton.icon\n\nA NativeImage representing the button's current icon. Changing this value immediately updates the button in the touch bar.\n\n# touchBarButton.iconPosition\n\nA String - Can be left, right or overlay. 默认值为 overlay。\n\n# touchBarButton.enabled\n\nA Boolean representing whether the button is in an enabled state.",normalizedContent:"# 类: touchbarbutton\n\n> 为mac os应用在touch bar中创建一个按钮组件\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbarbutton(options)\n\n * 选项 对象\n   * labelstring (可选) 按钮文本。\n   * accessibilitylabel string (optional) - a short description of the button for use by screenreaders like voiceover.\n   * backgroundcolorstring (可选) - 按钮背景颜色以十六进制格式，例如 #abcdef。\n   * icon nativeimage | string (optional) - button icon.\n   * iconpositionstring (可选) - 可以是 left、right 或 overlay。 默认值为 overlay。\n   * clickfunction (可选) - 单击按钮时调用的函数。\n   * enabled boolean (optional) - whether the button is in an enabled state. 默认值为 true。\n\nwhen defining accessibilitylabel, ensure you have considered macos best practices.\n\n\n# 实例属性\n\n下面的这些是touchbarbutton中的属性：\n\n# touchbarbutton.accessibilitylabel\n\na string representing the description of the button to be read by a screen reader. will only be read by screen readers if no label is set.\n\n# touchbarbutton.label\n\na string representing the button's current text. changing this value immediately updates the button in the touch bar.\n\n# touchbarbutton.backgroundcolor\n\na string hex code representing the button's current background color. changing this value immediately updates the button in the touch bar.\n\n# touchbarbutton.icon\n\na nativeimage representing the button's current icon. changing this value immediately updates the button in the touch bar.\n\n# touchbarbutton.iconposition\n\na string - can be left, right or overlay. 默认值为 overlay。\n\n# touchbarbutton.enabled\n\na boolean representing whether the button is in an enabled state.",charsets:{cjk:!0}},{title:"touch-bar-color-picker",frontmatter:{title:"touch-bar-color-picker",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/89769b/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-color-picker.html",relativePath:"《Electron中文文档》/api/touch-bar-color-picker.md",key:"v-029c4bd4",path:"/pages/89769b/",headers:[{level:2,title:"类: TouchBarColorPicker",slug:"类-touchbarcolorpicker",normalizedTitle:"类: touchbarcolorpicker",charIndex:2},{level:3,title:"new TouchBarColorPicker(options)",slug:"new-touchbarcolorpicker-options",normalizedTitle:"new touchbarcolorpicker(options)",charIndex:202},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:480},{level:4,title:"touchBarColorPicker.availableColors",slug:"touchbarcolorpicker-availablecolors",normalizedTitle:"touchbarcolorpicker.availablecolors",charIndex:521},{level:4,title:"touchBarColorPicker.selectedColor",slug:"touchbarcolorpicker-selectedcolor",normalizedTitle:"touchbarcolorpicker.selectedcolor",charIndex:713}],headersStr:"类: TouchBarColorPicker new TouchBarColorPicker(options) 实例属性 touchBarColorPicker.availableColors touchBarColorPicker.selectedColor",content:"# 类: TouchBarColorPicker\n\n> 在macOS 应用程序中，为触控栏创建拾色器\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarColorPicker(options)\n\n * 选项 对象\n   * availableColors String[] (可选) - 由可选的十六进位色值组成的字符串数组.\n   * backgroundColorString (可选) - 拾色器选中的颜色十六进位色值，例如 #ABCDEF。\n   * change Function (optional) - Function to call when a color is selected.\n     * color String - 用户从拾色器中选取的颜色.\n\n\n# 实例属性\n\n以下为TouchBarColorPicker 实例的可用属性:\n\n# touchBarColorPicker.availableColors\n\nA String[] array representing the color picker's available colors to select. Changing this value immediately updates the color picker in the touch bar.\n\n# touchBarColorPicker.selectedColor\n\nA String hex code representing the color picker's currently selected color. Changing this value immediately updates the color picker in the touch bar.",normalizedContent:"# 类: touchbarcolorpicker\n\n> 在macos 应用程序中，为触控栏创建拾色器\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbarcolorpicker(options)\n\n * 选项 对象\n   * availablecolors string[] (可选) - 由可选的十六进位色值组成的字符串数组.\n   * backgroundcolorstring (可选) - 拾色器选中的颜色十六进位色值，例如 #abcdef。\n   * change function (optional) - function to call when a color is selected.\n     * color string - 用户从拾色器中选取的颜色.\n\n\n# 实例属性\n\n以下为touchbarcolorpicker 实例的可用属性:\n\n# touchbarcolorpicker.availablecolors\n\na string[] array representing the color picker's available colors to select. changing this value immediately updates the color picker in the touch bar.\n\n# touchbarcolorpicker.selectedcolor\n\na string hex code representing the color picker's currently selected color. changing this value immediately updates the color picker in the touch bar.",charsets:{cjk:!0}},{title:"system-preferences",frontmatter:{title:"system-preferences",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/625e5c/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/system-preferences.html",relativePath:"《Electron中文文档》/api/system-preferences.md",key:"v-ec1b6254",path:"/pages/625e5c/",headers:[{level:2,title:"事件",slug:"事件",normalizedTitle:"事件",charIndex:159},{level:3,title:"Event: 'accent-color-changed' Windows",slug:"event-accent-color-changed-windows",normalizedTitle:"event: 'accent-color-changed' windows",charIndex:195},{level:3,title:"Event: 'color-changed' Windows",slug:"event-color-changed-windows",normalizedTitle:"event: 'color-changed' windows",charIndex:303},{level:3,title:"Event: 'inverted-color-scheme-changed' Windows Deprecated",slug:"event-inverted-color-scheme-changed-windows-deprecated",normalizedTitle:"event: 'inverted-color-scheme-changed' windows deprecated",charIndex:359},{level:3,title:"Event: 'high-contrast-color-scheme-changed' Windows Deprecated",slug:"event-high-contrast-color-scheme-changed-windows-deprecated",normalizedTitle:"event: 'high-contrast-color-scheme-changed' windows deprecated",charIndex:681},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:941},{level:3,title:"systemPreferences.isDarkMode() macOS Windows Deprecated",slug:"systempreferences-isdarkmode-macos-windows-deprecated",normalizedTitle:"systempreferences.isdarkmode() macos windows deprecated",charIndex:948},{level:3,title:"systemPreferences.isSwipeTrackingFromScrollEventsEnabled() macOS",slug:"systempreferences-isswipetrackingfromscrolleventsenabled-macos",normalizedTitle:"systempreferences.isswipetrackingfromscrolleventsenabled() macos",charIndex:1083},{level:3,title:"systemPreferences.postNotification(event, userInfo[, deliverImmediately]) macOS",slug:"systempreferences-postnotification-event-userinfo-deliverimmediately-macos",normalizedTitle:"systempreferences.postnotification(event, userinfo[, deliverimmediately]) macos",charIndex:1182},{level:3,title:"systemPreferences.postLocalNotification(event, userInfo) macOS",slug:"systempreferences-postlocalnotification-event-userinfo-macos",normalizedTitle:"systempreferences.postlocalnotification(event, userinfo) macos",charIndex:1593},{level:3,title:"systemPreferences.postWorkspaceNotification(event, userInfo) macOS",slug:"systempreferences-postworkspacenotification-event-userinfo-macos",normalizedTitle:"systempreferences.postworkspacenotification(event, userinfo) macos",charIndex:1862},{level:3,title:"systemPreferences.subscribeNotification(event, callback) macOS",slug:"systempreferences-subscribenotification-event-callback-macos",normalizedTitle:"systempreferences.subscribenotification(event, callback) macos",charIndex:2135},{level:3,title:"systemPreferences.subscribeLocalNotification(event, callback) macOS",slug:"systempreferences-subscribelocalnotification-event-callback-macos",normalizedTitle:"systempreferences.subscribelocalnotification(event, callback) macos",charIndex:2773},{level:3,title:"systemPreferences.subscribeWorkspaceNotification(event, callback) macOS",slug:"systempreferences-subscribeworkspacenotification-event-callback-macos",normalizedTitle:"systempreferences.subscribeworkspacenotification(event, callback) macos",charIndex:3108},{level:3,title:"systemPreferences.unsubscribeNotification(id) macOS",slug:"systempreferences-unsubscribenotification-id-macos",normalizedTitle:"systempreferences.unsubscribenotification(id) macos",charIndex:3454},{level:3,title:"systemPreferences.unsubscribeLocalNotification(id) macOS",slug:"systempreferences-unsubscribelocalnotification-id-macos",normalizedTitle:"systempreferences.unsubscribelocalnotification(id) macos",charIndex:3538},{level:3,title:"systemPreferences.unsubscribeWorkspaceNotification(id) macOS",slug:"systempreferences-unsubscribeworkspacenotification-id-macos",normalizedTitle:"systempreferences.unsubscribeworkspacenotification(id) macos",charIndex:3672},{level:3,title:"systemPreferences.registerDefaults(defaults) macOS",slug:"systempreferences-registerdefaults-defaults-macos",normalizedTitle:"systempreferences.registerdefaults(defaults) macos",charIndex:3842},{level:3,title:"systemPreferences.getUserDefault(key, type) macOS",slug:"systempreferences-getuserdefault-type-extends-keyof-userdefaulttypes-key-type-macos",normalizedTitle:"systempreferences.getuserdefault(key, type) macos",charIndex:null},{level:3,title:"systemPreferences.setUserDefault(key, type, value) macOS",slug:"systempreferences-setuserdefault-key-type-value-macos",normalizedTitle:"systempreferences.setuserdefault(key, type, value) macos",charIndex:4554},{level:3,title:"systemPreferences.removeUserDefault(key) macOS",slug:"systempreferences-removeuserdefault-key-macos",normalizedTitle:"systempreferences.removeuserdefault(key) macos",charIndex:4870},{level:3,title:"systemPreferences.isAeroGlassEnabled() Windows",slug:"systempreferences-isaeroglassenabled-windows",normalizedTitle:"systempreferences.isaeroglassenabled() windows",charIndex:5009},{level:3,title:"systemPreferences.getAccentColor() Windows macOS",slug:"systempreferences-getaccentcolor-windows-macos",normalizedTitle:"systempreferences.getaccentcolor() windows macos",charIndex:5850},{level:3,title:"systemPreferences.getColor(color) Windows macOS",slug:"systempreferences-getcolor-color-windows-macos",normalizedTitle:"systempreferences.getcolor(color) windows macos",charIndex:6219},{level:3,title:"systemPreferences.getSystemColor(color) macOS",slug:"systempreferences-getsystemcolor-color-macos",normalizedTitle:"systempreferences.getsystemcolor(color) macos",charIndex:10445},{level:3,title:"systemPreferences.isInvertedColorScheme() Windows Deprecated",slug:"systempreferences-isinvertedcolorscheme-windows-deprecated",normalizedTitle:"systempreferences.isinvertedcolorscheme() windows deprecated",charIndex:10756},{level:3,title:"systemPreferences.isHighContrastColorScheme() macOS Windows Deprecated",slug:"systempreferences-ishighcontrastcolorscheme-macos-windows-deprecated",normalizedTitle:"systempreferences.ishighcontrastcolorscheme() macos windows deprecated",charIndex:10936},{level:3,title:"systemPreferences.getEffectiveAppearance() macOS",slug:"systempreferences-geteffectiveappearance-macos",normalizedTitle:"systempreferences.geteffectiveappearance() macos",charIndex:11109},{level:3,title:"systemPreferences.getAppLevelAppearance() macOS Deprecated",slug:"systempreferences-getapplevelappearance-macos-deprecated",normalizedTitle:"systempreferences.getapplevelappearance() macos deprecated",charIndex:11267},{level:3,title:"systemPreferences.setAppLevelAppearance(appearance) macOS Deprecated",slug:"systempreferences-setapplevelappearance-appearance-macos-deprecated",normalizedTitle:"systempreferences.setapplevelappearance(appearance) macos deprecated",charIndex:11470},{level:3,title:"systemPreferences.canPromptTouchID() macOS",slug:"systempreferences-canprompttouchid-macos",normalizedTitle:"systempreferences.canprompttouchid() macos",charIndex:11648},{level:3,title:"systemPreferences.promptTouchID(reason) macOS",slug:"systempreferences-prompttouchid-reason-macos",normalizedTitle:"systempreferences.prompttouchid(reason) macos",charIndex:11788},{level:3,title:"systemPreferences.isTrustedAccessibilityClient(prompt) macOS",slug:"systempreferences-istrustedaccessibilityclient-prompt-macos",normalizedTitle:"systempreferences.istrustedaccessibilityclient(prompt) macos",charIndex:12508},{level:3,title:"systemPreferences.getMediaAccessStatus(mediaType) Windows macOS",slug:"systempreferences-getmediaaccessstatus-mediatype-windows-macos",normalizedTitle:"systempreferences.getmediaaccessstatus(mediatype) windows macos",charIndex:12734},{level:3,title:"systemPreferences.askForMediaAccess(mediaType) macOS",slug:"systempreferences-askformediaaccess-mediatype-macos",normalizedTitle:"systempreferences.askformediaaccess(mediatype) macos",charIndex:13214},{level:3,title:"systemPreferences.getAnimationSettings()",slug:"systempreferences-getanimationsettings",normalizedTitle:"systempreferences.getanimationsettings()",charIndex:14479},{level:2,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:15055},{level:3,title:"systemPreferences.appLevelAppearance macOS",slug:"systempreferences-applevelappearance-macos",normalizedTitle:"systempreferences.applevelappearance macos",charIndex:15062},{level:3,title:"systemPreferences.effectiveAppearance macOS 只读",slug:"systempreferences-effectiveappearance-macos-只读",normalizedTitle:"systempreferences.effectiveappearance macos 只读",charIndex:15542}],headersStr:"事件 Event: 'accent-color-changed' Windows Event: 'color-changed' Windows Event: 'inverted-color-scheme-changed' Windows Deprecated Event: 'high-contrast-color-scheme-changed' Windows Deprecated 方法 systemPreferences.isDarkMode() macOS Windows Deprecated systemPreferences.isSwipeTrackingFromScrollEventsEnabled() macOS systemPreferences.postNotification(event, userInfo[, deliverImmediately]) macOS systemPreferences.postLocalNotification(event, userInfo) macOS systemPreferences.postWorkspaceNotification(event, userInfo) macOS systemPreferences.subscribeNotification(event, callback) macOS systemPreferences.subscribeLocalNotification(event, callback) macOS systemPreferences.subscribeWorkspaceNotification(event, callback) macOS systemPreferences.unsubscribeNotification(id) macOS systemPreferences.unsubscribeLocalNotification(id) macOS systemPreferences.unsubscribeWorkspaceNotification(id) macOS systemPreferences.registerDefaults(defaults) macOS systemPreferences.getUserDefault(key, type) macOS systemPreferences.setUserDefault(key, type, value) macOS systemPreferences.removeUserDefault(key) macOS systemPreferences.isAeroGlassEnabled() Windows systemPreferences.getAccentColor() Windows macOS systemPreferences.getColor(color) Windows macOS systemPreferences.getSystemColor(color) macOS systemPreferences.isInvertedColorScheme() Windows Deprecated systemPreferences.isHighContrastColorScheme() macOS Windows Deprecated systemPreferences.getEffectiveAppearance() macOS systemPreferences.getAppLevelAppearance() macOS Deprecated systemPreferences.setAppLevelAppearance(appearance) macOS Deprecated systemPreferences.canPromptTouchID() macOS systemPreferences.promptTouchID(reason) macOS systemPreferences.isTrustedAccessibilityClient(prompt) macOS systemPreferences.getMediaAccessStatus(mediaType) Windows macOS systemPreferences.askForMediaAccess(mediaType) macOS systemPreferences.getAnimationSettings() 属性 systemPreferences.appLevelAppearance macOS systemPreferences.effectiveAppearance macOS 只读",content:"# systemPreferences\n\n> 获取system preferences.\n\n进程：主进程\n\nconst { systemPreferences } = require('electron')\nconsole.log(systemPreferences.isDarkMode())\n\n\n1\n2\n\n\n\n# 事件\n\nsystemPreferences 对象触发以下事件:\n\n\n# Event: 'accent-color-changed' Windows\n\n返回:\n\n * event Event\n * newColor String - 用户指定的新 RGBA 颜色作为系统偏好颜色.\n\n\n# Event: 'color-changed' Windows\n\n返回:\n\n * event Event\n\n\n# Event: 'inverted-color-scheme-changed' Windows Deprecated\n\n返回:\n\n * event Event\n * invertedColorScheme Boolean - true if an inverted color scheme (a high contrast color scheme with light text and dark backgrounds) is being used, false otherwise.\n\nDeprecated: Should use the new updated event on the nativeTheme module.\n\n\n# Event: 'high-contrast-color-scheme-changed' Windows Deprecated\n\n返回:\n\n * event Event\n * highContrastColorScheme Boolean - true if a high contrast theme is being used, false otherwise.\n\nDeprecated: Should use the new updated event on the nativeTheme module.\n\n\n# 方法\n\n\n# systemPreferences.isDarkMode() macOS Windows Deprecated\n\n返回Boolean，表示系统是否处于Dark模式\n\n已废弃： 请使用新的 nativeTheme.shouldUseDarkColors API。\n\n\n# systemPreferences.isSwipeTrackingFromScrollEventsEnabled() macOS\n\n返回值 Boolean - 是否在页面设置之间进行滑动。\n\n\n# systemPreferences.postNotification(event, userInfo[, deliverImmediately]) macOS\n\n * event String\n * userInfo Record<String, any>\n * deliverImmediately Boolean (optional) - true to post notifications immediately even when the subscribing app is inactive.\n\nPosts event as native notifications of macOS. The userInfo is an Object that contains the user information dictionary sent along with the notification.\n\n\n# systemPreferences.postLocalNotification(event, userInfo) macOS\n\n * event String\n * userInfo Record<String, any>\n\nPosts event as native notifications of macOS. The userInfo is an Object that contains the user information dictionary sent along with the notification.\n\n\n# systemPreferences.postWorkspaceNotification(event, userInfo) macOS\n\n * event String\n * userInfo Record<String, any>\n\nPosts event as native notifications of macOS. The userInfo is an Object that contains the user information dictionary sent along with the notification.\n\n\n# systemPreferences.subscribeNotification(event, callback) macOS\n\n * event String\n * callback Function\n   * event String\n   * userInfo Record<String, unknown>\n   * object String\n\n返回 Number - 此订阅的 ID\n\n订阅macOS的原生通知，当通信的 event</ 0>发生时，将调用 <code>callback(event, userInfo) 。 userInfo是一个Object，它包含随通知一起发送的用户信息字典。 The object is the sender of the notification, and only supports NSString values for now.\n\n返回订阅的 id, 可用于取消该订阅的 event.\n\n在这个API下订阅NSDistributedNotificationCenter， event 的示例值为：\n\n * AppleInterfaceThemeChangedNotification\n * AppleAquaColorVariantChanged\n * AppleColorPreferencesChangedNotification\n * AppleShowScrollBarsSettingChanged\n\n\n# systemPreferences.subscribeLocalNotification(event, callback) macOS\n\n * event String\n * callback Function\n   * event String\n   * userInfo Record<String, unknown>\n   * object String\n\n返回 Number - 此订阅的 ID\n\nSame as subscribeNotification, but uses NSNotificationCenter for local defaults. 这对事件 NSUserDefaultsDidChangeNotification 是必需的。\n\n\n# systemPreferences.subscribeWorkspaceNotification(event, callback) macOS\n\n * event String\n * callback Function\n   * event String\n   * userInfo Record<String, unknown>\n   * object String\n\n返回 Number - 此订阅的 ID\n\n与 subscribeNotification一样, 但使用NSWorkspace.sharedWorkspace.notificationCenter。 这对事件 NSWorkspaceDidActivateApplicationNotification 是必需的。\n\n\n# systemPreferences.unsubscribeNotification(id) macOS\n\n * id Integer\n\n使用 id 删除订阅。\n\n\n# systemPreferences.unsubscribeLocalNotification(id) macOS\n\n * id Integer\n\n与unsubscribeNotification相同，但将订户从NSNotificationCenter中删除。\n\n\n# systemPreferences.unsubscribeWorkspaceNotification(id) macOS\n\n * id Integer\n\n与 unsubscribeNotification 一样，但是它从 NSWorkspace.sharedWorkspace.notificationCenter 中移除订阅者。\n\n\n# systemPreferences.registerDefaults(defaults) macOS\n\n * defaults Record<String, String | Boolean | Number> - a dictionary of (key: value) user defaults\n\n在应用的NSUserDefaults配置项中添加其它默认设置。\n\n\n# systemPreferences.getUserDefault<Type extends keyof UserDefaultTypes>(key, type) macOS\n\n * key String\n * type Type - Can be string, boolean, integer, float, double, url, array or dictionary.\n\nReturns UserDefaultTypes[Type] - The value of key in NSUserDefaults.\n\n常用的 key 和 type 的类型为:\n\n * AppleInterfaceStyle: string\n * AppleAquaColorVariant: integer\n * AppleHighlightColor: string\n * AppleShowScrollBars: string\n * NSNavRecentPlaces: array\n * NSPreferredWebServices: dictionary\n * NSUserDictionaryReplacementItems: array\n\n\n# systemPreferences.setUserDefault(key, type, value) macOS\n\n * key String\n * type String - Can be string, boolean, integer, float, double, url, array or dictionary.\n * value String\n\n设置 NSUserDefaults 中 key 的值.\n\n请注意， type 应匹配实际类型的 value。 如果他们没有，就会抛出一个异常。\n\n常用的 key 和 type 的类型为:\n\n * ApplePressAndHoldEnabled: boolean\n\n\n# systemPreferences.removeUserDefault(key) macOS\n\n * key String\n\n删除 NSUserDefaults中的 key 。 可以用来恢复默认值或之前用 setUserDefault 为一个 key 设置的全局变量。\n\n\n# systemPreferences.isAeroGlassEnabled() Windows\n\n返回 Boolean - true 如果启用了 DWM composition (Aero Glass), 否则为 false.\n\n使用它来确定是否应创建透明窗口的示例 (当禁用 DWM 组合时, 透明窗口无法正常工作):\n\nconst { BrowserWindow, systemPreferences } = require('electron')\nconst browserOptions = { width: 1000, height: 800 }\n\n// Make the window transparent only if the platform supports it.\nif (process.platform !== 'win32' || systemPreferences.isAeroGlassEnabled()) {\n  browserOptions.transparent = true\n  browserOptions.frame = false\n}\n\n// Create the window.\nconst win = new BrowserWindow(browserOptions)\n\n// Navigate.\nif (browserOptions.transparent) {\n  win.loadURL(`file://${__dirname}/index.html`)\n} else {\n  // No transparency, so we load a fallback that uses basic styles.\n  win.loadURL(`file://${__dirname}/fallback.html`)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# systemPreferences.getAccentColor() Windows macOS\n\n返回 String - 用户当前系统偏好颜色，RGBA 十六进制形式.\n\nconst color = systemPreferences.getAccentColor() // `\"aabbccdd\"`\nconst red = color.substr(0, 2) // \"aa\"\nconst green = color.substr(2, 2) // \"bb\"\nconst blue = color.substr(4, 2) // \"cc\"\nconst alpha = color.substr(6, 2) // \"dd\"\n\n\n1\n2\n3\n4\n5\n\n\n此 API 仅在 macOS 10.14 Mojave 或更高版本上可用。\n\n\n# systemPreferences.getColor(color) Windows macOS\n\n * color String - One of the following values:\n   * On Windows:\n     * 3d-dark-shadow - 三维显示元素的暗阴影。\n     * 3d-face - 面向三维显示元素和对话框背景的颜色。\n     * 3d-highlight - 三维显示元素的高亮色.\n     * 3d-light - 三维显示元素的亮色.\n     * 3d-shadow - 三维显示元素的阴影颜色.\n     * active-border - 活动窗口边框。\n     * active-caption - Active window title bar. Specifies the left side color in the color gradient of an active window's title bar if the gradient effect is enabled.\n     * active-caption-gradient - 活动窗口标题栏的颜色渐变中的右侧颜色。\n     * app-workspace - 多文档界面 (MDI) 应用程序的背景颜色。\n     * button-text - 按钮上的文本。\n     * caption-text - 标题，大小框和滚动条箭头框中的文本。\n     * desktop - 桌面的背景色。\n     * disabled-text - 灰色 (禁用的) 文字.\n     * highlight - 在控件中选择的项目。\n     * highlight-text - 在控件中选择的项目文本。\n     * hotlight - 超链接或热追踪项目的颜色。\n     * inactive-border - 非活动窗口边框。\n     * inactive-caption - Inactive window caption. Specifies the left side color in the color gradient of an inactive window's title bar if the gradient effect is enabled.\n     * inactive-caption-gradient - 非活动窗口标题栏的颜色渐变中的右侧颜色。\n     * inactive-caption-text - 非活动标题中的文字颜色。\n     * info-background - 工具提示控件的背景颜色。\n     * info-text - 工具提示控件的文本颜色。\n     * menu - 菜单的背景色.\n     * menu-highlight - 当菜单显示为平面菜单时用于突出显示菜单项的颜色。\n     * menubar - 菜单显示为平面菜单时菜单栏的背景颜色。\n     * menu-text - 菜单的文字.\n     * scrollbar - 滚动条的灰色区域.\n     * window - 窗口的背景色.\n     * window-frame - 窗口框.\n     * window-text - 窗口的文字。\n   * On macOS\n     * alternate-selected-control-text - The text on a selected surface in a list or table. 已废弃\n     * control-background - The background of a large interface element, such as a browser or table.\n     * control - The surface of a control.\n     * control-text -The text of a control that isn’t disabled.\n     * disabled-control-text - The text of a control that’s disabled.\n     * find-highlight - The color of a find indicator.\n     * grid - The gridlines of an interface element such as a table.\n     * header-text - The text of a header cell in a table.\n     * highlight - The virtual light source onscreen.\n     * keyboard-focus-indicator - The ring that appears around the currently focused control when using the keyboard for interface navigation.\n     * label - The text of a label containing primary content.\n     * link - A link to other content.\n     * placeholder-text - A placeholder string in a control or text view.\n     * quaternary-label - The text of a label of lesser importance than a tertiary label such as watermark text.\n     * scrubber-textured-background - The background of a scrubber in the Touch Bar.\n     * secondary-label - The text of a label of lesser importance than a normal label such as a label used to represent a subheading or additional information.\n     * selected-content-background - The background for selected content in a key window or view.\n     * selected-control - The surface of a selected control.\n     * selected-control-text - The text of a selected control.\n     * selected-menu-item-text - The text of a selected menu.\n     * selected-text-background - The background of selected text.\n     * selected-text - Selected text.\n     * separator - A separator between different sections of content.\n     * shadow - The virtual shadow cast by a raised object onscreen.\n     * tertiary-label - The text of a label of lesser importance than a secondary label such as a label used to represent disabled text.\n     * text-background - Text background.\n     * text - The text in a document.\n     * under-page-background - The background behind a document's content.\n     * unemphasized-selected-content-background - The selected content in a non-key window or view.\n     * unemphasized-selected-text-background - A background for selected text in a non-key window or view.\n     * unemphasized-selected-text - Selected text in a non-key window or view.\n     * window-background - The background of a window.\n     * window-frame-text - The text in the window's titlebar area.\n\n返回 String -系统颜色设置为RGB十六进制格式 (#ABCDEF). 更多详细信息请参阅 Windows docs 和 macOS 文档。\n\n以下颜色仅在 macOS 10.14 上可用：find-hightlight, selected-content-background, separator, unemphasized-selected-content-background, unemphasized-selected-text-background, 和 unemphasized-selected-text\n\n\n# systemPreferences.getSystemColor(color) macOS\n\n * color String - One of the following values:\n   * blue\n   * brown\n   * gray\n   * green\n   * orange\n   * pink\n   * purple\n   * red\n   * yellow\n\n返回 String - 标准系统颜色，格式为 #RRGGBBAA。\n\n返回几个标准系统颜色之一，这些颜色可自动适应鲜艳度的变化并更改辅助功能设置，如\"增加对比度\"和\"降低透明度\"。 有关更多详细信息，请参阅 apple 文档 。\n\n\n# systemPreferences.isInvertedColorScheme() Windows Deprecated\n\n返回 Boolean - 如果使用反转颜色方案(亮文字暗背景的高对比度主题) 则为true，否则为false。\n\n已废弃： 请使用新的 nativeTheme.shouldUseInvertedColorScheme API。\n\n\n# systemPreferences.isHighContrastColorScheme() macOS Windows Deprecated\n\n返回 Boolean - 如果启用了高对比度主题为true，否则为false。\n\n已废弃： 请使用新的 nativeTheme.shouldUseHighContrastColors API。\n\n\n# systemPreferences.getEffectiveAppearance() macOS\n\n返回 String - 其值可能是 dark、light 或 unknown.\n\n获取当前应用到你的程序上的 macOS 设置项，会映射到 NSApplication.effectiveAppearance\n\n\n# systemPreferences.getAppLevelAppearance() macOS Deprecated\n\n返回 String | null - 其值可能为 dark、light 或 unknown。\n\n获取您在macOS上为您的应用程序设置的外观，映射到NSApplication.appearance。 您可以使用 setAppLevelAppearance API 来设置此值。\n\n\n# systemPreferences.setAppLevelAppearance(appearance) macOS Deprecated\n\n * appearance String | null - 可以是 dark 或 light\n\n设定您的应用程序的外观设置，这应该覆盖系统默认值以及覆盖 getEffectiveAppearance 的值。\n\n\n# systemPreferences.canPromptTouchID() macOS\n\n返回 Boolean - 此设备是否有能力使用 Touch ID。\n\n**注意：**在 macOS 系统的版本低于 Sierra 10.12.2时，此 API 将返回 false 。\n\n\n# systemPreferences.promptTouchID(reason) macOS\n\n * reason String - The reason you are asking for Touch ID authentication\n\n返回 Promise<void> - resolve如果用户已成功通过Touch ID授权。\n\nconst { systemPreferences } = require('electron')\n\nsystemPreferences.promptTouchID('To get consent for a Security-Gated Thing').then(success => {\n  console.log('You have successfully authenticated with Touch ID!')\n}).catch(err => {\n  console.log(err)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n此 API 本身不会保护您的用户数据；相反，这是一个机制，让你这样做。 原生应用需要在其密钥链入口设置 访问控制常量 ，如 kSecAccessControlUserPresence ，当应用读取到后将自动提示 Touch ID 生物识别许可。 该操作可以通过 node-keytar完成，这样，应用就会用 node-keytar 存储加密密钥，并且只有在 promptTouchID() resolve时才能取出。\n\n**注意：**在 macOS 系统的版本低于 Sierra 10.12.2时，此 API 返回的Promise将reject 。\n\n\n# systemPreferences.isTrustedAccessibilityClient(prompt) macOS\n\n * prompt Boolean - whether or not the user will be informed via prompt if the current process is untrusted.\n\n返回 Boolean - 如果当前进程是受信任的无障碍客户端，则为true，否则为 false 。\n\n\n# systemPreferences.getMediaAccessStatus(mediaType) Windows macOS\n\n * mediaType String - 可以是 microphone, camera 或 screen.\n\n返回 String - 值可以是 not-determined， granted， denied， restricted 或 unknown。\n\n在 macOS 10.13 High Sierra 或更低版本上不需要用户授权，因此此方法总是返回 granted。 macOS 10.14 Mojave 或更高版本需要授权访问 麦克风 和 摄像头。 macOS 10.15 Catalina 或更高版本需要授权访问 屏幕。\n\nWindows 10的全局设置控制了所有win32 应用程序对 麦克风 和 摄像头的访问权限。 It will always return granted for screen and for all media types on older versions of Windows.\n\n\n# systemPreferences.askForMediaAccess(mediaType) macOS\n\n * mediaType String - the type of media being requested; can be microphone, camera.\n\nReturns Promise<Boolean> - A promise that resolves with true if consent was granted and false if it was denied. If an invalid mediaType is passed, the promise will be rejected. If an access request was denied and later is changed through the System Preferences pane, a restart of the app will be required for the new permissions to take effect. If access has already been requested and denied, it must be changed through the preference pane; an alert will not pop up and the promise will resolve with the existing access status.\n\nImportant: In order to properly leverage this API, you must set the NSMicrophoneUsageDescription and NSCameraUsageDescription strings in your app's Info.plist file. The values for these keys will be used to populate the permission dialogs so that the user will be properly informed as to the purpose of the permission request. See Electron Application Distribution for more information about how to set these in the context of Electron.\n\nThis user consent was not required until macOS 10.14 Mojave, so this method will always return true if your system is running 10.13 High Sierra or lower.\n\n\n# systemPreferences.getAnimationSettings()\n\n返回 Object:\n\n * shouldRenderRichAnimation Boolean - Returns true if rich animations should be rendered. Looks at session type (e.g. remote desktop) and accessibility settings to give guidance for heavy animations.\n * scrollAnimationsEnabledBySystem Boolean - Determines on a per-platform basis whether scroll animations (e.g. produced by home/end key) should be enabled.\n * prefersReducedMotion Boolean - Determines whether the user desires reduced motion based on platform APIs.\n\nReturns an object with system animation settings.\n\n\n# 属性\n\n\n# systemPreferences.appLevelAppearance macOS\n\n一个类型为String的属性，此属性可能的值为：dark, light or unknown. It determines the macOS appearance setting for your application. This maps to values in: NSApplication.appearance. Setting this will override the system default as well as the value of getEffectiveAppearance.\n\nPossible values that can be set are dark and light, and possible return values are dark, light, and unknown.\n\nThis property is only available on macOS 10.14 Mojave or newer.\n\n\n# systemPreferences.effectiveAppearance macOS 只读\n\n一个类型为String的属性，此属性可能的值为：dark, light or unknown.\n\nReturns the macOS appearance setting that is currently applied to your application, maps to NSApplication.effectiveAppearance",normalizedContent:"# systempreferences\n\n> 获取system preferences.\n\n进程：主进程\n\nconst { systempreferences } = require('electron')\nconsole.log(systempreferences.isdarkmode())\n\n\n1\n2\n\n\n\n# 事件\n\nsystempreferences 对象触发以下事件:\n\n\n# event: 'accent-color-changed' windows\n\n返回:\n\n * event event\n * newcolor string - 用户指定的新 rgba 颜色作为系统偏好颜色.\n\n\n# event: 'color-changed' windows\n\n返回:\n\n * event event\n\n\n# event: 'inverted-color-scheme-changed' windows deprecated\n\n返回:\n\n * event event\n * invertedcolorscheme boolean - true if an inverted color scheme (a high contrast color scheme with light text and dark backgrounds) is being used, false otherwise.\n\ndeprecated: should use the new updated event on the nativetheme module.\n\n\n# event: 'high-contrast-color-scheme-changed' windows deprecated\n\n返回:\n\n * event event\n * highcontrastcolorscheme boolean - true if a high contrast theme is being used, false otherwise.\n\ndeprecated: should use the new updated event on the nativetheme module.\n\n\n# 方法\n\n\n# systempreferences.isdarkmode() macos windows deprecated\n\n返回boolean，表示系统是否处于dark模式\n\n已废弃： 请使用新的 nativetheme.shouldusedarkcolors api。\n\n\n# systempreferences.isswipetrackingfromscrolleventsenabled() macos\n\n返回值 boolean - 是否在页面设置之间进行滑动。\n\n\n# systempreferences.postnotification(event, userinfo[, deliverimmediately]) macos\n\n * event string\n * userinfo record<string, any>\n * deliverimmediately boolean (optional) - true to post notifications immediately even when the subscribing app is inactive.\n\nposts event as native notifications of macos. the userinfo is an object that contains the user information dictionary sent along with the notification.\n\n\n# systempreferences.postlocalnotification(event, userinfo) macos\n\n * event string\n * userinfo record<string, any>\n\nposts event as native notifications of macos. the userinfo is an object that contains the user information dictionary sent along with the notification.\n\n\n# systempreferences.postworkspacenotification(event, userinfo) macos\n\n * event string\n * userinfo record<string, any>\n\nposts event as native notifications of macos. the userinfo is an object that contains the user information dictionary sent along with the notification.\n\n\n# systempreferences.subscribenotification(event, callback) macos\n\n * event string\n * callback function\n   * event string\n   * userinfo record<string, unknown>\n   * object string\n\n返回 number - 此订阅的 id\n\n订阅macos的原生通知，当通信的 event</ 0>发生时，将调用 <code>callback(event, userinfo) 。 userinfo是一个object，它包含随通知一起发送的用户信息字典。 the object is the sender of the notification, and only supports nsstring values for now.\n\n返回订阅的 id, 可用于取消该订阅的 event.\n\n在这个api下订阅nsdistributednotificationcenter， event 的示例值为：\n\n * appleinterfacethemechangednotification\n * appleaquacolorvariantchanged\n * applecolorpreferenceschangednotification\n * appleshowscrollbarssettingchanged\n\n\n# systempreferences.subscribelocalnotification(event, callback) macos\n\n * event string\n * callback function\n   * event string\n   * userinfo record<string, unknown>\n   * object string\n\n返回 number - 此订阅的 id\n\nsame as subscribenotification, but uses nsnotificationcenter for local defaults. 这对事件 nsuserdefaultsdidchangenotification 是必需的。\n\n\n# systempreferences.subscribeworkspacenotification(event, callback) macos\n\n * event string\n * callback function\n   * event string\n   * userinfo record<string, unknown>\n   * object string\n\n返回 number - 此订阅的 id\n\n与 subscribenotification一样, 但使用nsworkspace.sharedworkspace.notificationcenter。 这对事件 nsworkspacedidactivateapplicationnotification 是必需的。\n\n\n# systempreferences.unsubscribenotification(id) macos\n\n * id integer\n\n使用 id 删除订阅。\n\n\n# systempreferences.unsubscribelocalnotification(id) macos\n\n * id integer\n\n与unsubscribenotification相同，但将订户从nsnotificationcenter中删除。\n\n\n# systempreferences.unsubscribeworkspacenotification(id) macos\n\n * id integer\n\n与 unsubscribenotification 一样，但是它从 nsworkspace.sharedworkspace.notificationcenter 中移除订阅者。\n\n\n# systempreferences.registerdefaults(defaults) macos\n\n * defaults record<string, string | boolean | number> - a dictionary of (key: value) user defaults\n\n在应用的nsuserdefaults配置项中添加其它默认设置。\n\n\n# systempreferences.getuserdefault<type extends keyof userdefaulttypes>(key, type) macos\n\n * key string\n * type type - can be string, boolean, integer, float, double, url, array or dictionary.\n\nreturns userdefaulttypes[type] - the value of key in nsuserdefaults.\n\n常用的 key 和 type 的类型为:\n\n * appleinterfacestyle: string\n * appleaquacolorvariant: integer\n * applehighlightcolor: string\n * appleshowscrollbars: string\n * nsnavrecentplaces: array\n * nspreferredwebservices: dictionary\n * nsuserdictionaryreplacementitems: array\n\n\n# systempreferences.setuserdefault(key, type, value) macos\n\n * key string\n * type string - can be string, boolean, integer, float, double, url, array or dictionary.\n * value string\n\n设置 nsuserdefaults 中 key 的值.\n\n请注意， type 应匹配实际类型的 value。 如果他们没有，就会抛出一个异常。\n\n常用的 key 和 type 的类型为:\n\n * applepressandholdenabled: boolean\n\n\n# systempreferences.removeuserdefault(key) macos\n\n * key string\n\n删除 nsuserdefaults中的 key 。 可以用来恢复默认值或之前用 setuserdefault 为一个 key 设置的全局变量。\n\n\n# systempreferences.isaeroglassenabled() windows\n\n返回 boolean - true 如果启用了 dwm composition (aero glass), 否则为 false.\n\n使用它来确定是否应创建透明窗口的示例 (当禁用 dwm 组合时, 透明窗口无法正常工作):\n\nconst { browserwindow, systempreferences } = require('electron')\nconst browseroptions = { width: 1000, height: 800 }\n\n// make the window transparent only if the platform supports it.\nif (process.platform !== 'win32' || systempreferences.isaeroglassenabled()) {\n  browseroptions.transparent = true\n  browseroptions.frame = false\n}\n\n// create the window.\nconst win = new browserwindow(browseroptions)\n\n// navigate.\nif (browseroptions.transparent) {\n  win.loadurl(`file://${__dirname}/index.html`)\n} else {\n  // no transparency, so we load a fallback that uses basic styles.\n  win.loadurl(`file://${__dirname}/fallback.html`)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# systempreferences.getaccentcolor() windows macos\n\n返回 string - 用户当前系统偏好颜色，rgba 十六进制形式.\n\nconst color = systempreferences.getaccentcolor() // `\"aabbccdd\"`\nconst red = color.substr(0, 2) // \"aa\"\nconst green = color.substr(2, 2) // \"bb\"\nconst blue = color.substr(4, 2) // \"cc\"\nconst alpha = color.substr(6, 2) // \"dd\"\n\n\n1\n2\n3\n4\n5\n\n\n此 api 仅在 macos 10.14 mojave 或更高版本上可用。\n\n\n# systempreferences.getcolor(color) windows macos\n\n * color string - one of the following values:\n   * on windows:\n     * 3d-dark-shadow - 三维显示元素的暗阴影。\n     * 3d-face - 面向三维显示元素和对话框背景的颜色。\n     * 3d-highlight - 三维显示元素的高亮色.\n     * 3d-light - 三维显示元素的亮色.\n     * 3d-shadow - 三维显示元素的阴影颜色.\n     * active-border - 活动窗口边框。\n     * active-caption - active window title bar. specifies the left side color in the color gradient of an active window's title bar if the gradient effect is enabled.\n     * active-caption-gradient - 活动窗口标题栏的颜色渐变中的右侧颜色。\n     * app-workspace - 多文档界面 (mdi) 应用程序的背景颜色。\n     * button-text - 按钮上的文本。\n     * caption-text - 标题，大小框和滚动条箭头框中的文本。\n     * desktop - 桌面的背景色。\n     * disabled-text - 灰色 (禁用的) 文字.\n     * highlight - 在控件中选择的项目。\n     * highlight-text - 在控件中选择的项目文本。\n     * hotlight - 超链接或热追踪项目的颜色。\n     * inactive-border - 非活动窗口边框。\n     * inactive-caption - inactive window caption. specifies the left side color in the color gradient of an inactive window's title bar if the gradient effect is enabled.\n     * inactive-caption-gradient - 非活动窗口标题栏的颜色渐变中的右侧颜色。\n     * inactive-caption-text - 非活动标题中的文字颜色。\n     * info-background - 工具提示控件的背景颜色。\n     * info-text - 工具提示控件的文本颜色。\n     * menu - 菜单的背景色.\n     * menu-highlight - 当菜单显示为平面菜单时用于突出显示菜单项的颜色。\n     * menubar - 菜单显示为平面菜单时菜单栏的背景颜色。\n     * menu-text - 菜单的文字.\n     * scrollbar - 滚动条的灰色区域.\n     * window - 窗口的背景色.\n     * window-frame - 窗口框.\n     * window-text - 窗口的文字。\n   * on macos\n     * alternate-selected-control-text - the text on a selected surface in a list or table. 已废弃\n     * control-background - the background of a large interface element, such as a browser or table.\n     * control - the surface of a control.\n     * control-text -the text of a control that isn’t disabled.\n     * disabled-control-text - the text of a control that’s disabled.\n     * find-highlight - the color of a find indicator.\n     * grid - the gridlines of an interface element such as a table.\n     * header-text - the text of a header cell in a table.\n     * highlight - the virtual light source onscreen.\n     * keyboard-focus-indicator - the ring that appears around the currently focused control when using the keyboard for interface navigation.\n     * label - the text of a label containing primary content.\n     * link - a link to other content.\n     * placeholder-text - a placeholder string in a control or text view.\n     * quaternary-label - the text of a label of lesser importance than a tertiary label such as watermark text.\n     * scrubber-textured-background - the background of a scrubber in the touch bar.\n     * secondary-label - the text of a label of lesser importance than a normal label such as a label used to represent a subheading or additional information.\n     * selected-content-background - the background for selected content in a key window or view.\n     * selected-control - the surface of a selected control.\n     * selected-control-text - the text of a selected control.\n     * selected-menu-item-text - the text of a selected menu.\n     * selected-text-background - the background of selected text.\n     * selected-text - selected text.\n     * separator - a separator between different sections of content.\n     * shadow - the virtual shadow cast by a raised object onscreen.\n     * tertiary-label - the text of a label of lesser importance than a secondary label such as a label used to represent disabled text.\n     * text-background - text background.\n     * text - the text in a document.\n     * under-page-background - the background behind a document's content.\n     * unemphasized-selected-content-background - the selected content in a non-key window or view.\n     * unemphasized-selected-text-background - a background for selected text in a non-key window or view.\n     * unemphasized-selected-text - selected text in a non-key window or view.\n     * window-background - the background of a window.\n     * window-frame-text - the text in the window's titlebar area.\n\n返回 string -系统颜色设置为rgb十六进制格式 (#abcdef). 更多详细信息请参阅 windows docs 和 macos 文档。\n\n以下颜色仅在 macos 10.14 上可用：find-hightlight, selected-content-background, separator, unemphasized-selected-content-background, unemphasized-selected-text-background, 和 unemphasized-selected-text\n\n\n# systempreferences.getsystemcolor(color) macos\n\n * color string - one of the following values:\n   * blue\n   * brown\n   * gray\n   * green\n   * orange\n   * pink\n   * purple\n   * red\n   * yellow\n\n返回 string - 标准系统颜色，格式为 #rrggbbaa。\n\n返回几个标准系统颜色之一，这些颜色可自动适应鲜艳度的变化并更改辅助功能设置，如\"增加对比度\"和\"降低透明度\"。 有关更多详细信息，请参阅 apple 文档 。\n\n\n# systempreferences.isinvertedcolorscheme() windows deprecated\n\n返回 boolean - 如果使用反转颜色方案(亮文字暗背景的高对比度主题) 则为true，否则为false。\n\n已废弃： 请使用新的 nativetheme.shoulduseinvertedcolorscheme api。\n\n\n# systempreferences.ishighcontrastcolorscheme() macos windows deprecated\n\n返回 boolean - 如果启用了高对比度主题为true，否则为false。\n\n已废弃： 请使用新的 nativetheme.shouldusehighcontrastcolors api。\n\n\n# systempreferences.geteffectiveappearance() macos\n\n返回 string - 其值可能是 dark、light 或 unknown.\n\n获取当前应用到你的程序上的 macos 设置项，会映射到 nsapplication.effectiveappearance\n\n\n# systempreferences.getapplevelappearance() macos deprecated\n\n返回 string | null - 其值可能为 dark、light 或 unknown。\n\n获取您在macos上为您的应用程序设置的外观，映射到nsapplication.appearance。 您可以使用 setapplevelappearance api 来设置此值。\n\n\n# systempreferences.setapplevelappearance(appearance) macos deprecated\n\n * appearance string | null - 可以是 dark 或 light\n\n设定您的应用程序的外观设置，这应该覆盖系统默认值以及覆盖 geteffectiveappearance 的值。\n\n\n# systempreferences.canprompttouchid() macos\n\n返回 boolean - 此设备是否有能力使用 touch id。\n\n**注意：**在 macos 系统的版本低于 sierra 10.12.2时，此 api 将返回 false 。\n\n\n# systempreferences.prompttouchid(reason) macos\n\n * reason string - the reason you are asking for touch id authentication\n\n返回 promise<void> - resolve如果用户已成功通过touch id授权。\n\nconst { systempreferences } = require('electron')\n\nsystempreferences.prompttouchid('to get consent for a security-gated thing').then(success => {\n  console.log('you have successfully authenticated with touch id!')\n}).catch(err => {\n  console.log(err)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n此 api 本身不会保护您的用户数据；相反，这是一个机制，让你这样做。 原生应用需要在其密钥链入口设置 访问控制常量 ，如 ksecaccesscontroluserpresence ，当应用读取到后将自动提示 touch id 生物识别许可。 该操作可以通过 node-keytar完成，这样，应用就会用 node-keytar 存储加密密钥，并且只有在 prompttouchid() resolve时才能取出。\n\n**注意：**在 macos 系统的版本低于 sierra 10.12.2时，此 api 返回的promise将reject 。\n\n\n# systempreferences.istrustedaccessibilityclient(prompt) macos\n\n * prompt boolean - whether or not the user will be informed via prompt if the current process is untrusted.\n\n返回 boolean - 如果当前进程是受信任的无障碍客户端，则为true，否则为 false 。\n\n\n# systempreferences.getmediaaccessstatus(mediatype) windows macos\n\n * mediatype string - 可以是 microphone, camera 或 screen.\n\n返回 string - 值可以是 not-determined， granted， denied， restricted 或 unknown。\n\n在 macos 10.13 high sierra 或更低版本上不需要用户授权，因此此方法总是返回 granted。 macos 10.14 mojave 或更高版本需要授权访问 麦克风 和 摄像头。 macos 10.15 catalina 或更高版本需要授权访问 屏幕。\n\nwindows 10的全局设置控制了所有win32 应用程序对 麦克风 和 摄像头的访问权限。 it will always return granted for screen and for all media types on older versions of windows.\n\n\n# systempreferences.askformediaaccess(mediatype) macos\n\n * mediatype string - the type of media being requested; can be microphone, camera.\n\nreturns promise<boolean> - a promise that resolves with true if consent was granted and false if it was denied. if an invalid mediatype is passed, the promise will be rejected. if an access request was denied and later is changed through the system preferences pane, a restart of the app will be required for the new permissions to take effect. if access has already been requested and denied, it must be changed through the preference pane; an alert will not pop up and the promise will resolve with the existing access status.\n\nimportant: in order to properly leverage this api, you must set the nsmicrophoneusagedescription and nscamerausagedescription strings in your app's info.plist file. the values for these keys will be used to populate the permission dialogs so that the user will be properly informed as to the purpose of the permission request. see electron application distribution for more information about how to set these in the context of electron.\n\nthis user consent was not required until macos 10.14 mojave, so this method will always return true if your system is running 10.13 high sierra or lower.\n\n\n# systempreferences.getanimationsettings()\n\n返回 object:\n\n * shouldrenderrichanimation boolean - returns true if rich animations should be rendered. looks at session type (e.g. remote desktop) and accessibility settings to give guidance for heavy animations.\n * scrollanimationsenabledbysystem boolean - determines on a per-platform basis whether scroll animations (e.g. produced by home/end key) should be enabled.\n * prefersreducedmotion boolean - determines whether the user desires reduced motion based on platform apis.\n\nreturns an object with system animation settings.\n\n\n# 属性\n\n\n# systempreferences.applevelappearance macos\n\n一个类型为string的属性，此属性可能的值为：dark, light or unknown. it determines the macos appearance setting for your application. this maps to values in: nsapplication.appearance. setting this will override the system default as well as the value of geteffectiveappearance.\n\npossible values that can be set are dark and light, and possible return values are dark, light, and unknown.\n\nthis property is only available on macos 10.14 mojave or newer.\n\n\n# systempreferences.effectiveappearance macos 只读\n\n一个类型为string的属性，此属性可能的值为：dark, light or unknown.\n\nreturns the macos appearance setting that is currently applied to your application, maps to nsapplication.effectiveappearance",charsets:{cjk:!0}},{title:"touch-bar-group",frontmatter:{title:"touch-bar-group",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/cfdeed/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-group.html",relativePath:"《Electron中文文档》/api/touch-bar-group.md",key:"v-a39d7268",path:"/pages/cfdeed/",headers:[{level:2,title:"类: TouchBarGroup",slug:"类-touchbargroup",normalizedTitle:"类: touchbargroup",charIndex:2},{level:3,title:"new TouchBarGroup(options)",slug:"new-touchbargroup-options",normalizedTitle:"new touchbargroup(options)",charIndex:191}],headersStr:"类: TouchBarGroup new TouchBarGroup(options)",content:"# 类: TouchBarGroup\n\n> 为本地mac os创建一个触控条组\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarGroup(options)\n\n * 选项 对象\n   * items TouchBar - 以分组的方式显示元素.",normalizedContent:"# 类: touchbargroup\n\n> 为本地mac os创建一个触控条组\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbargroup(options)\n\n * 选项 对象\n   * items touchbar - 以分组的方式显示元素.",charsets:{cjk:!0}},{title:"touch-bar-label",frontmatter:{title:"touch-bar-label",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/784373/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-label.html",relativePath:"《Electron中文文档》/api/touch-bar-label.md",key:"v-5d8a843c",path:"/pages/784373/",headers:[{level:2,title:"类: TouchBarLabel",slug:"类-touchbarlabel",normalizedTitle:"类: touchbarlabel",charIndex:2},{level:3,title:"new TouchBarLabel(options)",slug:"new-touchbarlabel-options",normalizedTitle:"new touchbarlabel(options)",charIndex:197},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:522},{level:4,title:"touchBarLabel.label",slug:"touchbarlabel-label",normalizedTitle:"touchbarlabel.label",charIndex:554},{level:4,title:"touchBarLabel.accessibilityLabel",slug:"touchbarlabel-accessibilitylabel",normalizedTitle:"touchbarlabel.accessibilitylabel",charIndex:694},{level:4,title:"touchBarLabel.textColor",slug:"touchbarlabel-textcolor",normalizedTitle:"touchbarlabel.textcolor",charIndex:813}],headersStr:"类: TouchBarLabel new TouchBarLabel(options) 实例属性 touchBarLabel.label touchBarLabel.accessibilityLabel touchBarLabel.textColor",content:"# 类: TouchBarLabel\n\n> 在原生macOS应用程序的触摸栏中创建一个标签\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarLabel(options)\n\n * 选项 对象\n   * label String (可选) - 显示的文本.\n   * accessibilityLabel String (optional) - A short description of the button for use by screenreaders like VoiceOver.\n   * textColor String（可选） - 文本的十六进制颜色，例如#ABCDEF。\n\nWhen defining accessibilityLabel, ensure you have considered macOS best practices.\n\n\n# 实例属性\n\n以下属性可用于 TouchBarLabel:\n\n# touchBarLabel.label\n\nA String representing the label's current text. Changing this value immediately updates the label in the touch bar.\n\n# touchBarLabel.accessibilityLabel\n\nA String representing the description of the label to be read by a screen reader.\n\n# touchBarLabel.textColor\n\nA String hex code representing the label's current text color. Changing this value immediately updates the label in the touch bar.",normalizedContent:"# 类: touchbarlabel\n\n> 在原生macos应用程序的触摸栏中创建一个标签\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbarlabel(options)\n\n * 选项 对象\n   * label string (可选) - 显示的文本.\n   * accessibilitylabel string (optional) - a short description of the button for use by screenreaders like voiceover.\n   * textcolor string（可选） - 文本的十六进制颜色，例如#abcdef。\n\nwhen defining accessibilitylabel, ensure you have considered macos best practices.\n\n\n# 实例属性\n\n以下属性可用于 touchbarlabel:\n\n# touchbarlabel.label\n\na string representing the label's current text. changing this value immediately updates the label in the touch bar.\n\n# touchbarlabel.accessibilitylabel\n\na string representing the description of the label to be read by a screen reader.\n\n# touchbarlabel.textcolor\n\na string hex code representing the label's current text color. changing this value immediately updates the label in the touch bar.",charsets:{cjk:!0}},{title:"touch-bar-other-items-proxy",frontmatter:{title:"touch-bar-other-items-proxy",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/961e88/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-other-items-proxy.html",relativePath:"《Electron中文文档》/api/touch-bar-other-items-proxy.md",key:"v-22512ffc",path:"/pages/961e88/",headers:[{level:2,title:"Class: TouchBarOtherItemsProxy",slug:"class-touchbarotheritemsproxy",normalizedTitle:"class: touchbarotheritemsproxy",charIndex:2},{level:3,title:"new TouchBarOtherItemsProxy()",slug:"new-touchbarotheritemsproxy",normalizedTitle:"new touchbarotheritemsproxy()",charIndex:551}],headersStr:"Class: TouchBarOtherItemsProxy new TouchBarOtherItemsProxy()",content:"# Class: TouchBarOtherItemsProxy\n\n> Instantiates a special \"other items proxy\", which nests TouchBar elements inherited from Chromium at the space indicated by the proxy. By default, this proxy is added to each TouchBar at the end of the input. For more information, see the AppKit docs on NSTouchBarItemIdentifierOtherItemsProxy\n> \n> Note: Only one instance of this class can be added per TouchBar.\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarOtherItemsProxy()",normalizedContent:"# class: touchbarotheritemsproxy\n\n> instantiates a special \"other items proxy\", which nests touchbar elements inherited from chromium at the space indicated by the proxy. by default, this proxy is added to each touchbar at the end of the input. for more information, see the appkit docs on nstouchbaritemidentifierotheritemsproxy\n> \n> note: only one instance of this class can be added per touchbar.\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbarotheritemsproxy()",charsets:{}},{title:"touch-bar-popover",frontmatter:{title:"touch-bar-popover",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/b6bfb8/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-popover.html",relativePath:"《Electron中文文档》/api/touch-bar-popover.md",key:"v-e4a8fc80",path:"/pages/b6bfb8/",headers:[{level:2,title:"类: TouchBarPopover",slug:"类-touchbarpopover",normalizedTitle:"类: touchbarpopover",charIndex:2},{level:3,title:"new TouchBarPopover(options)",slug:"new-touchbarpopover-options",normalizedTitle:"new touchbarpopover(options)",charIndex:199},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:509},{level:4,title:"touchBarPopover.label",slug:"touchbarpopover-label",normalizedTitle:"touchbarpopover.label",charIndex:547},{level:4,title:"touchBarPopover.icon",slug:"touchbarpopover-icon",normalizedTitle:"touchbarpopover.icon",charIndex:700}],headersStr:"类: TouchBarPopover new TouchBarPopover(options) 实例属性 touchBarPopover.label touchBarPopover.icon",content:"# 类: TouchBarPopover\n\n> 为macOS原生应用在触摸栏中创建一个弹出控件\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarPopover(options)\n\n * 选项 对象\n   * labelString (可选) 弹出按钮文本。\n   * icon (NativeImage | String) (可选) - 弹出按钮图标。\n   * items TouchBar - Items to display in the popover.\n   * showCloseButton Boolean (optional) - true to display a close button on the left of the popover, false to not show it. 默认值为 true。\n\n\n# 实例属性\n\n以下为 TouchBarPopover 实例的可用属性:\n\n# touchBarPopover.label\n\nA String representing the popover's current button text. Changing this value immediately updates the popover in the touch bar.\n\n# touchBarPopover.icon\n\nA NativeImage representing the popover's current button icon. Changing this value immediately updates the popover in the touch bar.",normalizedContent:"# 类: touchbarpopover\n\n> 为macos原生应用在触摸栏中创建一个弹出控件\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbarpopover(options)\n\n * 选项 对象\n   * labelstring (可选) 弹出按钮文本。\n   * icon (nativeimage | string) (可选) - 弹出按钮图标。\n   * items touchbar - items to display in the popover.\n   * showclosebutton boolean (optional) - true to display a close button on the left of the popover, false to not show it. 默认值为 true。\n\n\n# 实例属性\n\n以下为 touchbarpopover 实例的可用属性:\n\n# touchbarpopover.label\n\na string representing the popover's current button text. changing this value immediately updates the popover in the touch bar.\n\n# touchbarpopover.icon\n\na nativeimage representing the popover's current button icon. changing this value immediately updates the popover in the touch bar.",charsets:{cjk:!0}},{title:"touch-bar-scrubber",frontmatter:{title:"touch-bar-scrubber",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/ff977a/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-scrubber.html",relativePath:"《Electron中文文档》/api/touch-bar-scrubber.md",key:"v-5f4de1d4",path:"/pages/ff977a/",headers:[{level:2,title:"类: TouchBarScrubber",slug:"类-touchbarscrubber",normalizedTitle:"类: touchbarscrubber",charIndex:2},{level:3,title:"new TouchBarScrubber(options)",slug:"new-touchbarscrubber-options",normalizedTitle:"new touchbarscrubber(options)",charIndex:200},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:963},{level:4,title:"touchBarScrubber.items",slug:"touchbarscrubber-items",normalizedTitle:"touchbarscrubber.items",charIndex:1002},{level:4,title:"touchBarScrubber.selectedStyle",slug:"touchbarscrubber-selectedstyle",normalizedTitle:"touchbarscrubber.selectedstyle",charIndex:1121},{level:4,title:"touchBarScrubber.overlayStyle",slug:"touchbarscrubber-overlaystyle",normalizedTitle:"touchbarscrubber.overlaystyle",charIndex:1385},{level:4,title:"touchBarScrubber.showArrowButtons",slug:"touchbarscrubber-showarrowbuttons",normalizedTitle:"touchbarscrubber.showarrowbuttons",charIndex:1673},{level:4,title:"touchBarScrubber.mode",slug:"touchbarscrubber-mode",normalizedTitle:"touchbarscrubber.mode",charIndex:1872},{level:4,title:"touchBarScrubber.continuous",slug:"touchbarscrubber-continuous",normalizedTitle:"touchbarscrubber.continuous",charIndex:2045}],headersStr:"类: TouchBarScrubber new TouchBarScrubber(options) 实例属性 touchBarScrubber.items touchBarScrubber.selectedStyle touchBarScrubber.overlayStyle touchBarScrubber.showArrowButtons touchBarScrubber.mode touchBarScrubber.continuous",content:"# 类: TouchBarScrubber\n\n> 创建一个scrubber (可滚动的选择程序)\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarScrubber(options)\n\n * 选项 对象\n   * items ScrubberItem[] 一个数组，表示 scrubber 里的项目。\n   * select Function (optional) - Called when the user taps an item that was not the last tapped item.\n     * selectedIndex Integer - 用户选中项排序。\n   * highlight Function (optional) - Called when the user taps any item.\n     * highlightedIndex Integer - 用户选中项排序.\n   * selectedStyle String (optional) - Selected item style. Can be background, outline or none. 默认值为：none。\n   * overlayStyle String (optional) - Selected overlay item style. Can be background, outline or none. 默认值为：none。\n   * showArrowButtons Boolean (可选) - 是否在任务栏中显示窗口。 默认为 false 并且只在 items 是非空的情况下才显示。\n   * mode String (可选) - 可以是 fixed 或 free。 默认值为free.\n   * continuous Boolean (optional) - Defaults to true.\n\n\n# 实例属性\n\n以下为 TouchBarScrubber 实例的可用属性:\n\n# touchBarScrubber.items\n\n一个Scrubberitem[] 数组代表Scrubber里的所有物品。 改变这个值会立刻刷新touch bar内的控件。 然而改变数组某元素内的嵌套属性不会刷新touch bar。\n\n# touchBarScrubber.selectedStyle\n\n一个String，用来表示在scrubber内被选择的组件应有的样式。 改变这个值会立刻刷新touch bar内的控件。 可选值：\n\n * background - 映射为[NSScrubberSelectionStyle roundedBackgroundStyle]\n * outline - 映射为[NSScrubberSelectionStyle outlineOverlayStyle]\n * none - Removes all styles.\n\n# touchBarScrubber.overlayStyle\n\n一个String，用来表示在scrubber内被选择的组件应有的样式。 该样式将会覆盖在scrubber组件之上而非其后。 改变这个值会立刻刷新touch bar的控件。 可选值：\n\n * background - 映射为[NSScrubberSelectionStyle roundedBackgroundStyle]\n * outline - 映射为[NSScrubberSelectionStyle outlineOverlayStyle]\n * none - Removes all styles.\n\n# touchBarScrubber.showArrowButtons\n\nA Boolean representing whether to show the left / right selection arrows in this scrubber. Updating this value immediately updates the control in the touch bar.\n\n# touchBarScrubber.mode\n\nA String representing the mode of this scrubber. 改变这个值会立刻刷新touch bar内的控件。 可选值：\n\n * fixed - 映射到NSScrubberModeFixed\n * free - 映射到NSScrubberModeFree.\n\n# touchBarScrubber.continuous\n\nA Boolean representing whether this scrubber is continuous or not. 改变这个值会立刻刷新touch bar内的控件。",normalizedContent:"# 类: touchbarscrubber\n\n> 创建一个scrubber (可滚动的选择程序)\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbarscrubber(options)\n\n * 选项 对象\n   * items scrubberitem[] 一个数组，表示 scrubber 里的项目。\n   * select function (optional) - called when the user taps an item that was not the last tapped item.\n     * selectedindex integer - 用户选中项排序。\n   * highlight function (optional) - called when the user taps any item.\n     * highlightedindex integer - 用户选中项排序.\n   * selectedstyle string (optional) - selected item style. can be background, outline or none. 默认值为：none。\n   * overlaystyle string (optional) - selected overlay item style. can be background, outline or none. 默认值为：none。\n   * showarrowbuttons boolean (可选) - 是否在任务栏中显示窗口。 默认为 false 并且只在 items 是非空的情况下才显示。\n   * mode string (可选) - 可以是 fixed 或 free。 默认值为free.\n   * continuous boolean (optional) - defaults to true.\n\n\n# 实例属性\n\n以下为 touchbarscrubber 实例的可用属性:\n\n# touchbarscrubber.items\n\n一个scrubberitem[] 数组代表scrubber里的所有物品。 改变这个值会立刻刷新touch bar内的控件。 然而改变数组某元素内的嵌套属性不会刷新touch bar。\n\n# touchbarscrubber.selectedstyle\n\n一个string，用来表示在scrubber内被选择的组件应有的样式。 改变这个值会立刻刷新touch bar内的控件。 可选值：\n\n * background - 映射为[nsscrubberselectionstyle roundedbackgroundstyle]\n * outline - 映射为[nsscrubberselectionstyle outlineoverlaystyle]\n * none - removes all styles.\n\n# touchbarscrubber.overlaystyle\n\n一个string，用来表示在scrubber内被选择的组件应有的样式。 该样式将会覆盖在scrubber组件之上而非其后。 改变这个值会立刻刷新touch bar的控件。 可选值：\n\n * background - 映射为[nsscrubberselectionstyle roundedbackgroundstyle]\n * outline - 映射为[nsscrubberselectionstyle outlineoverlaystyle]\n * none - removes all styles.\n\n# touchbarscrubber.showarrowbuttons\n\na boolean representing whether to show the left / right selection arrows in this scrubber. updating this value immediately updates the control in the touch bar.\n\n# touchbarscrubber.mode\n\na string representing the mode of this scrubber. 改变这个值会立刻刷新touch bar内的控件。 可选值：\n\n * fixed - 映射到nsscrubbermodefixed\n * free - 映射到nsscrubbermodefree.\n\n# touchbarscrubber.continuous\n\na boolean representing whether this scrubber is continuous or not. 改变这个值会立刻刷新touch bar内的控件。",charsets:{cjk:!0}},{title:"touch-bar-slider",frontmatter:{title:"touch-bar-slider",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/bb34e4/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-slider.html",relativePath:"《Electron中文文档》/api/touch-bar-slider.md",key:"v-4990f536",path:"/pages/bb34e4/",headers:[{level:2,title:"类: TouchBarSlider",slug:"类-touchbarslider",normalizedTitle:"类: touchbarslider",charIndex:2},{level:3,title:"new TouchBarSlider(options)",slug:"new-touchbarslider-options",normalizedTitle:"new touchbarslider(options)",charIndex:198},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:482},{level:4,title:"touchBarSlider.label",slug:"touchbarslider-label",normalizedTitle:"touchbarslider.label",charIndex:519},{level:4,title:"touchBarSlider.value",slug:"touchbarslider-value",normalizedTitle:"touchbarslider.value",charIndex:662},{level:4,title:"touchBarSlider.minValue",slug:"touchbarslider-minvalue",normalizedTitle:"touchbarslider.minvalue",charIndex:806},{level:4,title:"touchBarSlider.maxValue",slug:"touchbarslider-maxvalue",normalizedTitle:"touchbarslider.maxvalue",charIndex:961}],headersStr:"类: TouchBarSlider new TouchBarSlider(options) 实例属性 touchBarSlider.label touchBarSlider.value touchBarSlider.minValue touchBarSlider.maxValue",content:"# 类: TouchBarSlider\n\n> 为本机 macOS 应用程序在触摸栏中创建滑块\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarSlider(options)\n\n * 选项 对象\n   * label String (可选) - 标签文本.\n   * value Integer (可选) - 选中值.\n   * minValue Integer (可选) - 最小值.\n   * maxValue Integer (可选) - 最大值.\n   * change Function (optional) - Function to call when the slider is changed.\n     * newValue Number - 用户选中的值.\n\n\n# 实例属性\n\n以下为 TouchBarSlider 实例的可用属性:\n\n# touchBarSlider.label\n\nA String representing the slider's current text. Changing this value immediately updates the slider in the touch bar.\n\n# touchBarSlider.value\n\nA Number representing the slider's current value. Changing this value immediately updates the slider in the touch bar.\n\n# touchBarSlider.minValue\n\nA Number representing the slider's current minimum value. Changing this value immediately updates the slider in the touch bar.\n\n# touchBarSlider.maxValue\n\nA Number representing the slider's current maximum value. Changing this value immediately updates the slider in the touch bar.",normalizedContent:"# 类: touchbarslider\n\n> 为本机 macos 应用程序在触摸栏中创建滑块\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbarslider(options)\n\n * 选项 对象\n   * label string (可选) - 标签文本.\n   * value integer (可选) - 选中值.\n   * minvalue integer (可选) - 最小值.\n   * maxvalue integer (可选) - 最大值.\n   * change function (optional) - function to call when the slider is changed.\n     * newvalue number - 用户选中的值.\n\n\n# 实例属性\n\n以下为 touchbarslider 实例的可用属性:\n\n# touchbarslider.label\n\na string representing the slider's current text. changing this value immediately updates the slider in the touch bar.\n\n# touchbarslider.value\n\na number representing the slider's current value. changing this value immediately updates the slider in the touch bar.\n\n# touchbarslider.minvalue\n\na number representing the slider's current minimum value. changing this value immediately updates the slider in the touch bar.\n\n# touchbarslider.maxvalue\n\na number representing the slider's current maximum value. changing this value immediately updates the slider in the touch bar.",charsets:{cjk:!0}},{title:"touch-bar-segmented-control",frontmatter:{title:"touch-bar-segmented-control",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/02bdb4/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-segmented-control.html",relativePath:"《Electron中文文档》/api/touch-bar-segmented-control.md",key:"v-60043f86",path:"/pages/02bdb4/",headers:[{level:2,title:"类: TouchBarSegmentedControl",slug:"类-touchbarsegmentedcontrol",normalizedTitle:"类: touchbarsegmentedcontrol",charIndex:2},{level:3,title:"new TouchBarSegmentedControl(options)",slug:"new-touchbarsegmentedcontrol-options",normalizedTitle:"new touchbarsegmentedcontrol(options)",charIndex:211},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:1747},{level:4,title:"touchBarSegmentedControl.segmentStyle",slug:"touchbarsegmentedcontrol-segmentstyle",normalizedTitle:"touchbarsegmentedcontrol.segmentstyle",charIndex:1794},{level:4,title:"touchBarSegmentedControl.segments",slug:"touchbarsegmentedcontrol-segments",normalizedTitle:"touchbarsegmentedcontrol.segments",charIndex:1964},{level:4,title:"touchBarSegmentedControl.selectedIndex",slug:"touchbarsegmentedcontrol-selectedindex",normalizedTitle:"touchbarsegmentedcontrol.selectedindex",charIndex:2095},{level:4,title:"touchBarSegmentedControl.mode",slug:"touchbarsegmentedcontrol-mode",normalizedTitle:"touchbarsegmentedcontrol.mode",charIndex:2190}],headersStr:"类: TouchBarSegmentedControl new TouchBarSegmentedControl(options) 实例属性 touchBarSegmentedControl.segmentStyle touchBarSegmentedControl.segments touchBarSegmentedControl.selectedIndex touchBarSegmentedControl.mode",content:"# 类: TouchBarSegmentedControl\n\n> 创建一个分段控件（按钮组），其中一个按钮具有选定状态\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarSegmentedControl(options)\n\n * 选项 对象\n   * segmentStyle String (optional) - Style of the segments:\n     * automatic - Default. The appearance of the segmented control is automatically determined based on the type of window in which the control is displayed and the position within the window. Maps to NSSegmentStyleAutomatic.\n     * rounded - 控件的呈现使用圆形风格。 Maps to NSSegmentStyleRounded.\n     * textured-rounded - 控件的呈现使用纹理圆形风格。 Maps to NSSegmentStyleTexturedRounded.\n     * round-rect - 以圆角矩形样式显示控件。 Maps to NSSegmentStyleRoundRect.\n     * round-rect - 以带纹理的矩形样式显示控件。 Maps to NSSegmentStyleTexturedSquare.\n     * capsule - 以胶囊样式的风格显示控件 Maps to NSSegmentStyleCapsule.\n     * small-square - 以小尺寸的矩形样式显示控件 Maps to NSSegmentStyleSmallSquare.\n     * 表示控件的当前段样式。更新此值会立即更新触摸栏中的控件。 Maps to NSSegmentStyleSeparated.\n   * mode String (optional) - The selection mode of the control:\n     * single - Default. One item selected at a time, selecting one deselects the previously selected item. Maps to NSSegmentSwitchTrackingSelectOne.\n     * multiple - 可以选多个项。 Maps to NSSegmentSwitchTrackingSelectAny.\n     * buttons - 将段作为按钮使用, 每一段都可以被按下和释放但是不会被标记为激活状态 Maps to NSSegmentSwitchTrackingMomentary.\n   * segments SegmentedControlSegment[] - 被放到控件中的段的集合\n   * selectedIndex Integer (optional) - 当前选中的段的下标, 这个值会在用户交互时自动更改 When the mode is multiple it will be the last selected item.\n   * change Function (optional) - Called when the user selects a new segment.\n     * selectedIndex Integer - 用户选中的段的下标。\n     * isSelected Boolean - 当前段的选中状态\n\n\n# 实例属性\n\n以下为 TouchBarSegmentedControl 实例的可用属性:\n\n# touchBarSegmentedControl.segmentStyle\n\nA String representing the controls current segment style. Updating this value immediately updates the control in the touch bar.\n\n# touchBarSegmentedControl.segments\n\nSegmentedControlSegment[]类型表示的控件中段的集合 改变这个值会立刻刷新touch bar内的控件。 然而改变数组某元素内的嵌套属性不会刷新touch bar。\n\n# touchBarSegmentedControl.selectedIndex\n\nInteger类型表示的当前选中段 改变这个值会立即触发更新当前段 用户对触摸条的操作会自动更新这个值\n\n# touchBarSegmentedControl.mode\n\nA String representing the current selection mode of the control. Can be single, multiple or buttons.",normalizedContent:"# 类: touchbarsegmentedcontrol\n\n> 创建一个分段控件（按钮组），其中一个按钮具有选定状态\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbarsegmentedcontrol(options)\n\n * 选项 对象\n   * segmentstyle string (optional) - style of the segments:\n     * automatic - default. the appearance of the segmented control is automatically determined based on the type of window in which the control is displayed and the position within the window. maps to nssegmentstyleautomatic.\n     * rounded - 控件的呈现使用圆形风格。 maps to nssegmentstylerounded.\n     * textured-rounded - 控件的呈现使用纹理圆形风格。 maps to nssegmentstyletexturedrounded.\n     * round-rect - 以圆角矩形样式显示控件。 maps to nssegmentstyleroundrect.\n     * round-rect - 以带纹理的矩形样式显示控件。 maps to nssegmentstyletexturedsquare.\n     * capsule - 以胶囊样式的风格显示控件 maps to nssegmentstylecapsule.\n     * small-square - 以小尺寸的矩形样式显示控件 maps to nssegmentstylesmallsquare.\n     * 表示控件的当前段样式。更新此值会立即更新触摸栏中的控件。 maps to nssegmentstyleseparated.\n   * mode string (optional) - the selection mode of the control:\n     * single - default. one item selected at a time, selecting one deselects the previously selected item. maps to nssegmentswitchtrackingselectone.\n     * multiple - 可以选多个项。 maps to nssegmentswitchtrackingselectany.\n     * buttons - 将段作为按钮使用, 每一段都可以被按下和释放但是不会被标记为激活状态 maps to nssegmentswitchtrackingmomentary.\n   * segments segmentedcontrolsegment[] - 被放到控件中的段的集合\n   * selectedindex integer (optional) - 当前选中的段的下标, 这个值会在用户交互时自动更改 when the mode is multiple it will be the last selected item.\n   * change function (optional) - called when the user selects a new segment.\n     * selectedindex integer - 用户选中的段的下标。\n     * isselected boolean - 当前段的选中状态\n\n\n# 实例属性\n\n以下为 touchbarsegmentedcontrol 实例的可用属性:\n\n# touchbarsegmentedcontrol.segmentstyle\n\na string representing the controls current segment style. updating this value immediately updates the control in the touch bar.\n\n# touchbarsegmentedcontrol.segments\n\nsegmentedcontrolsegment[]类型表示的控件中段的集合 改变这个值会立刻刷新touch bar内的控件。 然而改变数组某元素内的嵌套属性不会刷新touch bar。\n\n# touchbarsegmentedcontrol.selectedindex\n\ninteger类型表示的当前选中段 改变这个值会立即触发更新当前段 用户对触摸条的操作会自动更新这个值\n\n# touchbarsegmentedcontrol.mode\n\na string representing the current selection mode of the control. can be single, multiple or buttons.",charsets:{cjk:!0}},{title:"touch-bar-spacer",frontmatter:{title:"touch-bar-spacer",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/131201/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar-spacer.html",relativePath:"《Electron中文文档》/api/touch-bar-spacer.md",key:"v-b98b34d4",path:"/pages/131201/",headers:[{level:2,title:"类: TouchBarSpacer",slug:"类-touchbarspacer",normalizedTitle:"类: touchbarspacer",charIndex:2},{level:3,title:"new TouchBarSpacer(options)",slug:"new-touchbarspacer-options",normalizedTitle:"new touchbarspacer(options)",charIndex:205},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:540},{level:4,title:"touchBarSpacer.size",slug:"touchbarspacer-size",normalizedTitle:"touchbarspacer.size",charIndex:573}],headersStr:"类: TouchBarSpacer new TouchBarSpacer(options) 实例属性 touchBarSpacer.size",content:"# 类: TouchBarSpacer\n\n> 在mac os应用中，为touch bar中的相邻项之间留白\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# new TouchBarSpacer(options)\n\n * 选项 对象\n   * size String (optional) - Size of spacer, possible values are:\n     * small-项之间的留较小间距。 Maps to NSTouchBarItemIdentifierFixedSpaceSmall. 默认为该值。\n     * large-项之间的留较大间距。 Maps to NSTouchBarItemIdentifierFixedSpaceLarge.\n     * flexible-补齐所有可用空间。 Maps to NSTouchBarItemIdentifierFlexibleSpace.\n\n\n# 实例属性\n\n以下属性可用于 TouchBarSpacer:\n\n# touchBarSpacer.size\n\nA String representing the size of the spacer. Can be small, large or flexible.",normalizedContent:"# 类: touchbarspacer\n\n> 在mac os应用中，为touch bar中的相邻项之间留白\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# new touchbarspacer(options)\n\n * 选项 对象\n   * size string (optional) - size of spacer, possible values are:\n     * small-项之间的留较小间距。 maps to nstouchbaritemidentifierfixedspacesmall. 默认为该值。\n     * large-项之间的留较大间距。 maps to nstouchbaritemidentifierfixedspacelarge.\n     * flexible-补齐所有可用空间。 maps to nstouchbaritemidentifierflexiblespace.\n\n\n# 实例属性\n\n以下属性可用于 touchbarspacer:\n\n# touchbarspacer.size\n\na string representing the size of the spacer. can be small, large or flexible.",charsets:{cjk:!0}},{title:"tray",frontmatter:{title:"tray",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/042bbc/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/tray.html",relativePath:"《Electron中文文档》/api/tray.md",key:"v-5f08fad6",path:"/pages/042bbc/",headers:[{level:2,title:"系统托盘",slug:"系统托盘",normalizedTitle:"系统托盘",charIndex:11},{level:3,title:"new Tray(image, [guid])",slug:"new-tray-image-guid",normalizedTitle:"new tray(image, [guid])",charIndex:1436},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:2271},{level:4,title:"事件: 'click'",slug:"事件-click",normalizedTitle:"事件: 'click'",charIndex:2296},{level:4,title:"Event: 'right-click' macOS Windows",slug:"event-right-click-macos-windows",normalizedTitle:"event: 'right-click' macos windows",charIndex:2415},{level:4,title:"Event: 'double-click' macOS Windows",slug:"event-double-click-macos-windows",normalizedTitle:"event: 'double-click' macos windows",charIndex:2528},{level:4,title:"Event: 'balloon-show' Windows",slug:"event-balloon-show-windows",normalizedTitle:"event: 'balloon-show' windows",charIndex:2642},{level:4,title:"Event: 'balloon-click' Windows",slug:"event-balloon-click-windows",normalizedTitle:"event: 'balloon-click' windows",charIndex:2696},{level:4,title:"Event: 'balloon-closed' Windows",slug:"event-balloon-closed-windows",normalizedTitle:"event: 'balloon-closed' windows",charIndex:2750},{level:4,title:"Event: 'drop' macOS",slug:"event-drop-macos",normalizedTitle:"event: 'drop' macos",charIndex:2817},{level:4,title:"Event: 'drop-files' macOS",slug:"event-drop-files-macos",normalizedTitle:"event: 'drop-files' macos",charIndex:2866},{level:4,title:"Event: 'drop-text' macOS",slug:"event-drop-text-macos",normalizedTitle:"event: 'drop-text' macos",charIndex:2978},{level:4,title:"Event: 'drag-enter' macOS",slug:"event-drag-enter-macos",normalizedTitle:"event: 'drag-enter' macos",charIndex:3085},{level:4,title:"Event: 'drag-leave' macOS",slug:"event-drag-leave-macos",normalizedTitle:"event: 'drag-leave' macos",charIndex:3147},{level:4,title:"Event: 'drag-end' macOS",slug:"event-drag-end-macos",normalizedTitle:"event: 'drag-end' macos",charIndex:3202},{level:4,title:"Event: 'mouse-up' macOS",slug:"event-mouse-up-macos",normalizedTitle:"event: 'mouse-up' macos",charIndex:3257},{level:4,title:"Event: 'mouse-down' macOS",slug:"event-mouse-down-macos",normalizedTitle:"event: 'mouse-down' macos",charIndex:3551},{level:4,title:"Event: 'mouse-enter' macOS",slug:"event-mouse-enter-macos",normalizedTitle:"event: 'mouse-enter' macos",charIndex:3684},{level:4,title:"Event: 'mouse-leave' macOS",slug:"event-mouse-leave-macos",normalizedTitle:"event: 'mouse-leave' macos",charIndex:3793},{level:4,title:"Event: 'mouse-move' macOS Windows",slug:"event-mouse-move-macos-windows",normalizedTitle:"event: 'mouse-move' macos windows",charIndex:3902},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:4021},{level:4,title:"tray.destroy()",slug:"tray-destroy",normalizedTitle:"tray.destroy()",charIndex:4044},{level:4,title:"tray.setImage(image)",slug:"tray-setimage-image",normalizedTitle:"tray.setimage(image)",charIndex:4074},{level:4,title:"tray.setPressedImage(image) macOS",slug:"tray-setpressedimage-image-macos",normalizedTitle:"tray.setpressedimage(image) macos",charIndex:4150},{level:4,title:"tray.setToolTip(toolTip)",slug:"tray-settooltip-tooltip",normalizedTitle:"tray.settooltip(tooltip)",charIndex:4254},{level:4,title:"tray.setTitle(title[, options]) macOS",slug:"tray-settitle-title-options-macos",normalizedTitle:"tray.settitle(title[, options]) macos",charIndex:4323},{level:4,title:"tray.getTitle() macOS",slug:"tray-gettitle-macos",normalizedTitle:"tray.gettitle() macos",charIndex:4748},{level:4,title:"tray.setIgnoreDoubleClickEvents(ignore) macOS",slug:"tray-setignoredoubleclickevents-ignore-macos",normalizedTitle:"tray.setignoredoubleclickevents(ignore) macos",charIndex:4851},{level:4,title:"tray.getIgnoreDoubleClickEvents() macOS",slug:"tray-getignoredoubleclickevents-macos",normalizedTitle:"tray.getignoredoubleclickevents() macos",charIndex:5091},{level:4,title:"tray.displayBalloon(options) Windows",slug:"tray-displayballoon-options-windows",normalizedTitle:"tray.displayballoon(options) windows",charIndex:5198},{level:4,title:"tray.removeBalloon() Windows",slug:"tray-removeballoon-windows",normalizedTitle:"tray.removeballoon() windows",charIndex:5862},{level:4,title:"tray.focus() Windows",slug:"tray-focus-windows",normalizedTitle:"tray.focus() windows",charIndex:5919},{level:4,title:"tray.popUpContextMenu([menu, position]) macOS Windows",slug:"tray-popupcontextmenu-menu-position-macos-windows",normalizedTitle:"tray.popupcontextmenu([menu, position]) macos windows",charIndex:6234},{level:4,title:"tray.closeContextMenu() macOS Windows",slug:"tray-closecontextmenu-macos-windows",normalizedTitle:"tray.closecontextmenu() macos windows",charIndex:6517},{level:4,title:"tray.setContextMenu(menu)",slug:"tray-setcontextmenu-menu",normalizedTitle:"tray.setcontextmenu(menu)",charIndex:6621},{level:4,title:"tray.getBounds() macOS Windows",slug:"tray-getbounds-macos-windows",normalizedTitle:"tray.getbounds() macos windows",charIndex:6684},{level:4,title:"tray.isDestroyed()",slug:"tray-isdestroyed",normalizedTitle:"tray.isdestroyed()",charIndex:6756}],headersStr:"系统托盘 new Tray(image, [guid]) 实例事件 事件: 'click' Event: 'right-click' macOS Windows Event: 'double-click' macOS Windows Event: 'balloon-show' Windows Event: 'balloon-click' Windows Event: 'balloon-closed' Windows Event: 'drop' macOS Event: 'drop-files' macOS Event: 'drop-text' macOS Event: 'drag-enter' macOS Event: 'drag-leave' macOS Event: 'drag-end' macOS Event: 'mouse-up' macOS Event: 'mouse-down' macOS Event: 'mouse-enter' macOS Event: 'mouse-leave' macOS Event: 'mouse-move' macOS Windows 实例方法 tray.destroy() tray.setImage(image) tray.setPressedImage(image) macOS tray.setToolTip(toolTip) tray.setTitle(title[, options]) macOS tray.getTitle() macOS tray.setIgnoreDoubleClickEvents(ignore) macOS tray.getIgnoreDoubleClickEvents() macOS tray.displayBalloon(options) Windows tray.removeBalloon() Windows tray.focus() Windows tray.popUpContextMenu([menu, position]) macOS Windows tray.closeContextMenu() macOS Windows tray.setContextMenu(menu) tray.getBounds() macOS Windows tray.isDestroyed()",content:"# Tray\n\n\n# 系统托盘\n\n> 添加图标和上下文菜单到系统通知区\n\n进程：主进程\n\nTray是一个EventEmitter.\n\nconst { app, Menu, Tray } = require('electron')\n\nlet tray = null\napp.whenReady().then(() => {\n  tray = new Tray('/path/to/my/icon')\n  const contextMenu = Menu.buildFromTemplate([\n    { label: 'Item1', type: 'radio' },\n    { label: 'Item2', type: 'radio' },\n    { label: 'Item3', type: 'radio', checked: true },\n    { label: 'Item4', type: 'radio' }\n  ])\n  tray.setToolTip('This is my application.')\n  tray.setContextMenu(contextMenu)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n平台限制：\n\n * 在Linux上，如果支持，就使用应用程序指示器，否则将使用GtkStatusIcon。\n * 在仅支持应用程序指标的Linux发行版中，必须安装libappindicator1才能使任务栏图标正常工作。\n * 应用程序指标只有当它有一个上下文菜单时才会显示。\n * 当在Linux上使用应用程序指标时，它的 click事件将被忽略\n * On Linux in order for changes made to individual MenuItems to take effect, you have to call setContextMenu again. 例如：\n\nconst { app, Menu, Tray } = require('electron')\n\nlet appIcon = null\napp.whenReady().then(() => {\n  appIcon = new Tray('/path/to/my/icon')\n  const contextMenu = Menu.buildFromTemplate([\n    { label: 'Item1', type: 'radio' },\n    { label: 'Item2', type: 'radio' }\n  ])\n\n  // Make a change to the context menu\n  contextMenu.items[1].checked = false\n\n  // Call this again for Linux because we modified the context menu\n  appIcon.setContextMenu(contextMenu)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n * 在 Windows 上, 建议使用 ICO 图标来获得最佳视觉效果。\n\n如果要在所有平台上保持完全相同的行为, 则不应依赖 click 事件, 并且始终将上下文菜单附加到任务栏图标。\n\n\n# new Tray(image, [guid])\n\n * image (NativeImage | String)\n * guid String (optional) Windows - Assigns a GUID to the tray icon. If the executable is signed and the signature contains an organization in the subject line then the GUID is permanently associated with that signature. OS level settings like the position of the tray icon in the system tray will persist even if the path to the executable changes. If the executable is not code-signed then the GUID is permanently associated with the path to the executable. Changing the path to the executable will break the creation of the tray icon and a new GUID must be used. However, it is highly recommended to use the GUID parameter only in conjunction with code-signed executable. If an App defines multiple tray icons then each icon must use a separate GUID.\n\n创建与image关联的新任务栏图标。\n\n\n# 实例事件\n\nTray 对象会发出以下事件:\n\n# 事件: 'click'\n\n返回:\n\n * event KeyboardEvent\n * bounds Rectangle - 系统托盘图标的边界。\n * position Point - 事件的位置信息。\n\n当该图标被点击时触发。\n\n# Event: 'right-click' macOS Windows\n\n返回:\n\n * event KeyboardEvent\n * bounds Rectangle - 系统托盘图标的边界。\n\n当该图标被右击时触发。\n\n# Event: 'double-click' macOS Windows\n\n返回:\n\n * event KeyboardEvent\n * bounds Rectangle - 系统托盘图标的边界。\n\n当该图标被双击时触发。\n\n# Event: 'balloon-show' Windows\n\n当系统托盘图标气泡显示时，触发该事件。\n\n# Event: 'balloon-click' Windows\n\n当系统托盘气泡被点击时，触发该事件。\n\n# Event: 'balloon-closed' Windows\n\n当系统托盘气泡因为超时被关闭或者用户手动关闭时，触发该事件。\n\n# Event: 'drop' macOS\n\n当有任何拖动项拖到该任务栏图标上时，触发该事件。\n\n# Event: 'drop-files' macOS\n\n返回:\n\n * event Event\n * files String[] - 拖至任务栏图标上的文件的路径。\n\n当有任何文件被拖到该任务栏图标上时，触发该事件。\n\n# Event: 'drop-text' macOS\n\n返回:\n\n * event Event\n * text String - 拖至任务栏图标上的文字内容。\n\n当有任何文字被拖到该任务栏图标上时，触发该事件。\n\n# Event: 'drag-enter' macOS\n\n当有任何拖动操作进入（拖动未结束）该任务栏图标时，触发该事件。\n\n# Event: 'drag-leave' macOS\n\n当有任何拖动操作离开该任务栏图标时，触发该事件。\n\n# Event: 'drag-end' macOS\n\n当有任何拖动操作在托盘或其他地方结束时，触发该事件。\n\n# Event: 'mouse-up' macOS\n\n返回:\n\n * event KeyboardEvent\n * position Point - 事件的位置信息。\n\nEmitted when the mouse is released from clicking the tray icon.\n\nNote: This will not be emitted if you have set a context menu for your Tray using tray.setContextMenu, as a result of macOS-level constraints.\n\n# Event: 'mouse-down' macOS\n\n返回:\n\n * event KeyboardEvent\n * position Point - 事件的位置信息。\n\nEmitted when the mouse clicks the tray icon.\n\n# Event: 'mouse-enter' macOS\n\n返回:\n\n * event KeyboardEvent\n * position Point - 事件的位置信息。\n\n当鼠标进入该任务栏图标时，触发该事件。\n\n# Event: 'mouse-leave' macOS\n\n返回:\n\n * event KeyboardEvent\n * position Point - 事件的位置信息。\n\n当鼠标离开该任务栏图标时，触发该事件。\n\n# Event: 'mouse-move' macOS Windows\n\n返回:\n\n * event KeyboardEvent\n * position Point - 事件的位置信息。\n\n当鼠标在该任务栏图标上移动时，触发该事件。\n\n\n# 实例方法\n\nTray 类拥有以下方法:\n\n# tray.destroy()\n\n立即销毁该任务栏图标\n\n# tray.setImage(image)\n\n * image (NativeImage | String)\n\n设置image作为托盘中显示的图标\n\n# tray.setPressedImage(image) macOS\n\n * image (NativeImage | String)\n\n在 macOS 中，设置image作为托盘图标被按下时显示的图标\n\n# tray.setToolTip(toolTip)\n\n * toolTip String\n\n设置鼠标指针在托盘图标上悬停时显示的文本\n\n# tray.setTitle(title[, options]) macOS\n\n * title String\n * options Object (可选)\n   * fontType String (optional) - The font family variant to display, can be monospaced or monospacedDigit. monospaced is available in macOS 10.15+ and monospacedDigit is available in macOS 10.11+. When left blank, the title uses the default system font.\n\nSets the title displayed next to the tray icon in the status bar (Support ANSI colors).\n\n# tray.getTitle() macOS\n\nReturns String - the title displayed next to the tray icon in the status bar\n\n# tray.setIgnoreDoubleClickEvents(ignore) macOS\n\n * ignore Boolean\n\nSets the option to ignore double click events. Ignoring these events allows you to detect every individual click of the tray icon.\n\nThis value is set to false by default.\n\n# tray.getIgnoreDoubleClickEvents() macOS\n\nReturns Boolean - Whether double click events will be ignored.\n\n# tray.displayBalloon(options) Windows\n\n * 选项 对象\n   * icon (NativeImage | String) (optional) - Icon to use when iconType is custom.\n   * iconType String (optional) - Can be none, info, warning, error or custom. 默认值为 custom.\n   * title String\n   * content String\n   * largeIcon Boolean (optional) - The large version of the icon should be used. 默认值为 true。 Maps to NIIF_LARGE_ICON.\n   * noSound Boolean (optional) - Do not play the associated sound. 默认值为 false. Maps to NIIF_NOSOUND.\n   * respectQuietTime Boolean (optional) - Do not display the balloon notification if the current user is in \"quiet time\". 默认值为 false. Maps to NIIF_RESPECT_QUIET_TIME.\n\n显示一个托盘气球通知.\n\n# tray.removeBalloon() Windows\n\nRemoves a tray balloon.\n\n# tray.focus() Windows\n\nReturns focus to the taskbar notification area. Notification area icons should use this message when they have completed their UI operation. For example, if the icon displays a shortcut menu, but the user presses ESC to cancel it, use tray.focus() to return focus to the notification area.\n\n# tray.popUpContextMenu([menu, position]) macOS Windows\n\n * menu Menu (可选)\n * position Point (可选) - 菜单弹出的位置.\n\nPops up the context menu of the tray icon. When menu is passed, the menu will be shown instead of the tray icon's context menu.\n\n参数 position 只在 Windows 上可用， 并拥有默认值 (0, 0)。\n\n# tray.closeContextMenu() macOS Windows\n\nCloses an open context menu, as set by tray.setContextMenu().\n\n# tray.setContextMenu(menu)\n\n * menu Menu | null\n\n设置这个图标的内容菜单\n\n# tray.getBounds() macOS Windows\n\n返回 Rectangle\n\n以Object类型返回托盘图标的bounds\n\n# tray.isDestroyed()\n\n返回 Boolean -判断托盘图标是否被销毁",normalizedContent:"# tray\n\n\n# 系统托盘\n\n> 添加图标和上下文菜单到系统通知区\n\n进程：主进程\n\ntray是一个eventemitter.\n\nconst { app, menu, tray } = require('electron')\n\nlet tray = null\napp.whenready().then(() => {\n  tray = new tray('/path/to/my/icon')\n  const contextmenu = menu.buildfromtemplate([\n    { label: 'item1', type: 'radio' },\n    { label: 'item2', type: 'radio' },\n    { label: 'item3', type: 'radio', checked: true },\n    { label: 'item4', type: 'radio' }\n  ])\n  tray.settooltip('this is my application.')\n  tray.setcontextmenu(contextmenu)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n平台限制：\n\n * 在linux上，如果支持，就使用应用程序指示器，否则将使用gtkstatusicon。\n * 在仅支持应用程序指标的linux发行版中，必须安装libappindicator1才能使任务栏图标正常工作。\n * 应用程序指标只有当它有一个上下文菜单时才会显示。\n * 当在linux上使用应用程序指标时，它的 click事件将被忽略\n * on linux in order for changes made to individual menuitems to take effect, you have to call setcontextmenu again. 例如：\n\nconst { app, menu, tray } = require('electron')\n\nlet appicon = null\napp.whenready().then(() => {\n  appicon = new tray('/path/to/my/icon')\n  const contextmenu = menu.buildfromtemplate([\n    { label: 'item1', type: 'radio' },\n    { label: 'item2', type: 'radio' }\n  ])\n\n  // make a change to the context menu\n  contextmenu.items[1].checked = false\n\n  // call this again for linux because we modified the context menu\n  appicon.setcontextmenu(contextmenu)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n * 在 windows 上, 建议使用 ico 图标来获得最佳视觉效果。\n\n如果要在所有平台上保持完全相同的行为, 则不应依赖 click 事件, 并且始终将上下文菜单附加到任务栏图标。\n\n\n# new tray(image, [guid])\n\n * image (nativeimage | string)\n * guid string (optional) windows - assigns a guid to the tray icon. if the executable is signed and the signature contains an organization in the subject line then the guid is permanently associated with that signature. os level settings like the position of the tray icon in the system tray will persist even if the path to the executable changes. if the executable is not code-signed then the guid is permanently associated with the path to the executable. changing the path to the executable will break the creation of the tray icon and a new guid must be used. however, it is highly recommended to use the guid parameter only in conjunction with code-signed executable. if an app defines multiple tray icons then each icon must use a separate guid.\n\n创建与image关联的新任务栏图标。\n\n\n# 实例事件\n\ntray 对象会发出以下事件:\n\n# 事件: 'click'\n\n返回:\n\n * event keyboardevent\n * bounds rectangle - 系统托盘图标的边界。\n * position point - 事件的位置信息。\n\n当该图标被点击时触发。\n\n# event: 'right-click' macos windows\n\n返回:\n\n * event keyboardevent\n * bounds rectangle - 系统托盘图标的边界。\n\n当该图标被右击时触发。\n\n# event: 'double-click' macos windows\n\n返回:\n\n * event keyboardevent\n * bounds rectangle - 系统托盘图标的边界。\n\n当该图标被双击时触发。\n\n# event: 'balloon-show' windows\n\n当系统托盘图标气泡显示时，触发该事件。\n\n# event: 'balloon-click' windows\n\n当系统托盘气泡被点击时，触发该事件。\n\n# event: 'balloon-closed' windows\n\n当系统托盘气泡因为超时被关闭或者用户手动关闭时，触发该事件。\n\n# event: 'drop' macos\n\n当有任何拖动项拖到该任务栏图标上时，触发该事件。\n\n# event: 'drop-files' macos\n\n返回:\n\n * event event\n * files string[] - 拖至任务栏图标上的文件的路径。\n\n当有任何文件被拖到该任务栏图标上时，触发该事件。\n\n# event: 'drop-text' macos\n\n返回:\n\n * event event\n * text string - 拖至任务栏图标上的文字内容。\n\n当有任何文字被拖到该任务栏图标上时，触发该事件。\n\n# event: 'drag-enter' macos\n\n当有任何拖动操作进入（拖动未结束）该任务栏图标时，触发该事件。\n\n# event: 'drag-leave' macos\n\n当有任何拖动操作离开该任务栏图标时，触发该事件。\n\n# event: 'drag-end' macos\n\n当有任何拖动操作在托盘或其他地方结束时，触发该事件。\n\n# event: 'mouse-up' macos\n\n返回:\n\n * event keyboardevent\n * position point - 事件的位置信息。\n\nemitted when the mouse is released from clicking the tray icon.\n\nnote: this will not be emitted if you have set a context menu for your tray using tray.setcontextmenu, as a result of macos-level constraints.\n\n# event: 'mouse-down' macos\n\n返回:\n\n * event keyboardevent\n * position point - 事件的位置信息。\n\nemitted when the mouse clicks the tray icon.\n\n# event: 'mouse-enter' macos\n\n返回:\n\n * event keyboardevent\n * position point - 事件的位置信息。\n\n当鼠标进入该任务栏图标时，触发该事件。\n\n# event: 'mouse-leave' macos\n\n返回:\n\n * event keyboardevent\n * position point - 事件的位置信息。\n\n当鼠标离开该任务栏图标时，触发该事件。\n\n# event: 'mouse-move' macos windows\n\n返回:\n\n * event keyboardevent\n * position point - 事件的位置信息。\n\n当鼠标在该任务栏图标上移动时，触发该事件。\n\n\n# 实例方法\n\ntray 类拥有以下方法:\n\n# tray.destroy()\n\n立即销毁该任务栏图标\n\n# tray.setimage(image)\n\n * image (nativeimage | string)\n\n设置image作为托盘中显示的图标\n\n# tray.setpressedimage(image) macos\n\n * image (nativeimage | string)\n\n在 macos 中，设置image作为托盘图标被按下时显示的图标\n\n# tray.settooltip(tooltip)\n\n * tooltip string\n\n设置鼠标指针在托盘图标上悬停时显示的文本\n\n# tray.settitle(title[, options]) macos\n\n * title string\n * options object (可选)\n   * fonttype string (optional) - the font family variant to display, can be monospaced or monospaceddigit. monospaced is available in macos 10.15+ and monospaceddigit is available in macos 10.11+. when left blank, the title uses the default system font.\n\nsets the title displayed next to the tray icon in the status bar (support ansi colors).\n\n# tray.gettitle() macos\n\nreturns string - the title displayed next to the tray icon in the status bar\n\n# tray.setignoredoubleclickevents(ignore) macos\n\n * ignore boolean\n\nsets the option to ignore double click events. ignoring these events allows you to detect every individual click of the tray icon.\n\nthis value is set to false by default.\n\n# tray.getignoredoubleclickevents() macos\n\nreturns boolean - whether double click events will be ignored.\n\n# tray.displayballoon(options) windows\n\n * 选项 对象\n   * icon (nativeimage | string) (optional) - icon to use when icontype is custom.\n   * icontype string (optional) - can be none, info, warning, error or custom. 默认值为 custom.\n   * title string\n   * content string\n   * largeicon boolean (optional) - the large version of the icon should be used. 默认值为 true。 maps to niif_large_icon.\n   * nosound boolean (optional) - do not play the associated sound. 默认值为 false. maps to niif_nosound.\n   * respectquiettime boolean (optional) - do not display the balloon notification if the current user is in \"quiet time\". 默认值为 false. maps to niif_respect_quiet_time.\n\n显示一个托盘气球通知.\n\n# tray.removeballoon() windows\n\nremoves a tray balloon.\n\n# tray.focus() windows\n\nreturns focus to the taskbar notification area. notification area icons should use this message when they have completed their ui operation. for example, if the icon displays a shortcut menu, but the user presses esc to cancel it, use tray.focus() to return focus to the notification area.\n\n# tray.popupcontextmenu([menu, position]) macos windows\n\n * menu menu (可选)\n * position point (可选) - 菜单弹出的位置.\n\npops up the context menu of the tray icon. when menu is passed, the menu will be shown instead of the tray icon's context menu.\n\n参数 position 只在 windows 上可用， 并拥有默认值 (0, 0)。\n\n# tray.closecontextmenu() macos windows\n\ncloses an open context menu, as set by tray.setcontextmenu().\n\n# tray.setcontextmenu(menu)\n\n * menu menu | null\n\n设置这个图标的内容菜单\n\n# tray.getbounds() macos windows\n\n返回 rectangle\n\n以object类型返回托盘图标的bounds\n\n# tray.isdestroyed()\n\n返回 boolean -判断托盘图标是否被销毁",charsets:{cjk:!0}},{title:"touch-bar",frontmatter:{title:"touch-bar",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/c2621e/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/touch-bar.html",relativePath:"《Electron中文文档》/api/touch-bar.md",key:"v-2ef47f20",path:"/pages/c2621e/",headers:[{level:2,title:"类: TouchBar",slug:"类-touchbar",normalizedTitle:"类: touchbar",charIndex:10},{level:3,title:"new TouchBar(options)",slug:"new-touchbar-options",normalizedTitle:"new touchbar(options)",charIndex:60},{level:3,title:"Static Properties",slug:"static-properties",normalizedTitle:"static properties",charIndex:755},{level:4,title:"TouchBarButton",slug:"touchbarbutton",normalizedTitle:"touchbarbutton",charIndex:104},{level:4,title:"TouchBarColorPicker",slug:"touchbarcolorpicker",normalizedTitle:"touchbarcolorpicker",charIndex:121},{level:4,title:"TouchBarGroup",slug:"touchbargroup",normalizedTitle:"touchbargroup",charIndex:143},{level:4,title:"TouchBarLabel",slug:"touchbarlabel",normalizedTitle:"touchbarlabel",charIndex:159},{level:4,title:"TouchBarPopover",slug:"touchbarpopover",normalizedTitle:"touchbarpopover",charIndex:175},{level:4,title:"TouchBarScrubber",slug:"touchbarscrubber",normalizedTitle:"touchbarscrubber",charIndex:193},{level:4,title:"TouchBarSegmentedControl",slug:"touchbarsegmentedcontrol",normalizedTitle:"touchbarsegmentedcontrol",charIndex:212},{level:4,title:"TouchBarSlider",slug:"touchbarslider",normalizedTitle:"touchbarslider",charIndex:239},{level:4,title:"TouchBarSpacer",slug:"touchbarspacer",normalizedTitle:"touchbarspacer",charIndex:256},{level:4,title:"TouchBarOtherItemsProxy",slug:"touchbarotheritemsproxy",normalizedTitle:"touchbarotheritemsproxy",charIndex:1562},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:1672},{level:4,title:"touchBar.escapeItem",slug:"touchbar-escapeitem",normalizedTitle:"touchbar.escapeitem",charIndex:1703},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:1817},{level:3,title:"运行以上示例",slug:"运行以上示例",normalizedTitle:"运行以上示例",charIndex:4428}],headersStr:"类: TouchBar new TouchBar(options) Static Properties TouchBarButton TouchBarColorPicker TouchBarGroup TouchBarLabel TouchBarPopover TouchBarScrubber TouchBarSegmentedControl TouchBarSlider TouchBarSpacer TouchBarOtherItemsProxy 实例属性 touchBar.escapeItem 示例 运行以上示例",content:"# 触控板\n\n\n# 类: TouchBar\n\n> 为原生macOS应用创建TouchBar布局\n\n进程：主进程\n\n\n# new TouchBar(options)\n\n * 选项 对象\n   * items (TouchBarButton | TouchBarColorPicker | TouchBarGroup | TouchBarLabel | TouchBarPopover | TouchBarScrubber | TouchBarSegmentedControl | TouchBarSlider | TouchBarSpacer)[] (optional)\n   * escapeItem (TouchBarButton | TouchBarColorPicker | TouchBarGroup | TouchBarLabel | TouchBarPopover | TouchBarScrubber | TouchBarSegmentedControl | TouchBarSlider | TouchBarSpacer | null) (可选的)\n\nCreates a new touch bar with the specified items. Use BrowserWindow.setTouchBar to add the TouchBar to a window.\n\n注意: TouchBar API目前为实验性质，可能会更改或删除。\n\nTip: If you don't have a MacBook with Touch Bar, you can use Touch Bar Simulator to test Touch Bar usage in your app.\n\n\n# Static Properties\n\n# TouchBarButton\n\nA typeof TouchBarButton reference to the TouchBarButton class.\n\n# TouchBarColorPicker\n\nA typeof TouchBarColorPicker reference to the TouchBarColorPicker class.\n\n# TouchBarGroup\n\nA typeof TouchBarGroup reference to the TouchBarGroup class.\n\n# TouchBarLabel\n\nA typeof TouchBarLabel reference to the TouchBarLabel class.\n\n# TouchBarPopover\n\nA typeof TouchBarPopover reference to the TouchBarPopover class.\n\n# TouchBarScrubber\n\nA typeof TouchBarScrubber reference to the TouchBarScrubber class.\n\n# TouchBarSegmentedControl\n\nA typeof TouchBarSegmentedControl reference to the TouchBarSegmentedControl class.\n\n# TouchBarSlider\n\nA typeof TouchBarSlider reference to the TouchBarSlider class.\n\n# TouchBarSpacer\n\nA typeof TouchBarSpacer reference to the TouchBarSpacer class.\n\n# TouchBarOtherItemsProxy\n\nA typeof TouchBarOtherItemsProxy reference to the TouchBarOtherItemsProxy class.\n\n\n# 实例属性\n\n在TouchBar的实例中有以下属性可用：\n\n# touchBar.escapeItem\n\nTouchBarItem设置的内容将替换掉Touch bar中的“esc”按钮 将该项设为null以使用默认的\"esc\"按钮 修改这个值将立即更新Touch bar中的返回按钮\n\n\n# 示例\n\n下面是一个带有一个按钮和若干文本的简易Touch bar老虎机游戏示例\n\nconst { app, BrowserWindow, TouchBar } = require('electron')\n\nconst { TouchBarLabel, TouchBarButton, TouchBarSpacer } = TouchBar\n\nlet spinning = false\n\n// Reel labels\nconst reel1 = new TouchBarLabel()\nconst reel2 = new TouchBarLabel()\nconst reel3 = new TouchBarLabel()\n\n// Spin result label\nconst result = new TouchBarLabel()\n\n// Spin button\nconst spin = new TouchBarButton({\n  label: '🎰 Spin',\n  backgroundColor: '#7851A9',\n  click: () => {\n    // Ignore clicks if already spinning\n    if (spinning) {\n      return\n    }\n\n    spinning = true\n    result.label = ''\n\n    let timeout = 10\n    const spinLength = 4 * 1000 // 4 seconds\n    const startTime = Date.now()\n\n    const spinReels = () => {\n      updateReels()\n\n      if ((Date.now() - startTime) >= spinLength) {\n        finishSpin()\n      } else {\n        // Slow down a bit on each spin\n        timeout *= 1.1\n        setTimeout(spinReels, timeout)\n      }\n    }\n\n    spinReels()\n  }\n})\n\nconst getRandomValue = () => {\n  const values = ['🍒', '💎', '7️⃣', '🍊', '🔔', '⭐', '🍇', '🍀']\n  return values[Math.floor(Math.random() * values.length)]\n}\n\nconst updateReels = () => {\n  reel1.label = getRandomValue()\n  reel2.label = getRandomValue()\n  reel3.label = getRandomValue()\n}\n\nconst finishSpin = () => {\n  const uniqueValues = new Set([reel1.label, reel2.label, reel3.label]).size\n  if (uniqueValues === 1) {\n    // All 3 values are the same\n    result.label = '💰 Jackpot!'\n    result.textColor = '#FDFF00'\n  } else if (uniqueValues === 2) {\n    // 2 values are the same\n    result.label = '😍 Winner!'\n    result.textColor = '#FDFF00'\n  } else {\n    // No values are the same\n    result.label = '🙁 Spin Again'\n    result.textColor = null\n  }\n  spinning = false\n}\n\nconst touchBar = new TouchBar({\n  items: [\n    spin,\n    new TouchBarSpacer({ size: 'large' }),\n    reel1,\n    new TouchBarSpacer({ size: 'small' }),\n    reel2,\n    new TouchBarSpacer({ size: 'small' }),\n    reel3,\n    new TouchBarSpacer({ size: 'large' }),\n    result\n  ]\n})\n\nlet window\n\napp.whenReady().then(() => {\n  window = new BrowserWindow({\n    frame: false,\n    titleBarStyle: 'hiddenInset',\n    width: 200,\n    height: 200,\n    backgroundColor: '#000'\n  })\n  window.loadURL('about:blank')\n  window.setTouchBar(touchBar)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n\n\n\n# 运行以上示例\n\n要运行上面的示例，您需要 (假设您已经在将要运行该示例的目录中打开了一个终端)：\n\n 1. 将上述文件保存到您的电脑上，并命名为 touchbar.js\n 2. 通过 npm install electron 来安装 Electron\n 3. 在 Electron 中运行示例：./node_modules/.bin/electron touchbar.js\n\n接下来这个应用会在你的Touch bar (或者Touch bar模拟器) 上运行，你将能看到一个Electron窗口",normalizedContent:"# 触控板\n\n\n# 类: touchbar\n\n> 为原生macos应用创建touchbar布局\n\n进程：主进程\n\n\n# new touchbar(options)\n\n * 选项 对象\n   * items (touchbarbutton | touchbarcolorpicker | touchbargroup | touchbarlabel | touchbarpopover | touchbarscrubber | touchbarsegmentedcontrol | touchbarslider | touchbarspacer)[] (optional)\n   * escapeitem (touchbarbutton | touchbarcolorpicker | touchbargroup | touchbarlabel | touchbarpopover | touchbarscrubber | touchbarsegmentedcontrol | touchbarslider | touchbarspacer | null) (可选的)\n\ncreates a new touch bar with the specified items. use browserwindow.settouchbar to add the touchbar to a window.\n\n注意: touchbar api目前为实验性质，可能会更改或删除。\n\ntip: if you don't have a macbook with touch bar, you can use touch bar simulator to test touch bar usage in your app.\n\n\n# static properties\n\n# touchbarbutton\n\na typeof touchbarbutton reference to the touchbarbutton class.\n\n# touchbarcolorpicker\n\na typeof touchbarcolorpicker reference to the touchbarcolorpicker class.\n\n# touchbargroup\n\na typeof touchbargroup reference to the touchbargroup class.\n\n# touchbarlabel\n\na typeof touchbarlabel reference to the touchbarlabel class.\n\n# touchbarpopover\n\na typeof touchbarpopover reference to the touchbarpopover class.\n\n# touchbarscrubber\n\na typeof touchbarscrubber reference to the touchbarscrubber class.\n\n# touchbarsegmentedcontrol\n\na typeof touchbarsegmentedcontrol reference to the touchbarsegmentedcontrol class.\n\n# touchbarslider\n\na typeof touchbarslider reference to the touchbarslider class.\n\n# touchbarspacer\n\na typeof touchbarspacer reference to the touchbarspacer class.\n\n# touchbarotheritemsproxy\n\na typeof touchbarotheritemsproxy reference to the touchbarotheritemsproxy class.\n\n\n# 实例属性\n\n在touchbar的实例中有以下属性可用：\n\n# touchbar.escapeitem\n\ntouchbaritem设置的内容将替换掉touch bar中的“esc”按钮 将该项设为null以使用默认的\"esc\"按钮 修改这个值将立即更新touch bar中的返回按钮\n\n\n# 示例\n\n下面是一个带有一个按钮和若干文本的简易touch bar老虎机游戏示例\n\nconst { app, browserwindow, touchbar } = require('electron')\n\nconst { touchbarlabel, touchbarbutton, touchbarspacer } = touchbar\n\nlet spinning = false\n\n// reel labels\nconst reel1 = new touchbarlabel()\nconst reel2 = new touchbarlabel()\nconst reel3 = new touchbarlabel()\n\n// spin result label\nconst result = new touchbarlabel()\n\n// spin button\nconst spin = new touchbarbutton({\n  label: '🎰 spin',\n  backgroundcolor: '#7851a9',\n  click: () => {\n    // ignore clicks if already spinning\n    if (spinning) {\n      return\n    }\n\n    spinning = true\n    result.label = ''\n\n    let timeout = 10\n    const spinlength = 4 * 1000 // 4 seconds\n    const starttime = date.now()\n\n    const spinreels = () => {\n      updatereels()\n\n      if ((date.now() - starttime) >= spinlength) {\n        finishspin()\n      } else {\n        // slow down a bit on each spin\n        timeout *= 1.1\n        settimeout(spinreels, timeout)\n      }\n    }\n\n    spinreels()\n  }\n})\n\nconst getrandomvalue = () => {\n  const values = ['🍒', '💎', '7️⃣', '🍊', '🔔', '⭐', '🍇', '🍀']\n  return values[math.floor(math.random() * values.length)]\n}\n\nconst updatereels = () => {\n  reel1.label = getrandomvalue()\n  reel2.label = getrandomvalue()\n  reel3.label = getrandomvalue()\n}\n\nconst finishspin = () => {\n  const uniquevalues = new set([reel1.label, reel2.label, reel3.label]).size\n  if (uniquevalues === 1) {\n    // all 3 values are the same\n    result.label = '💰 jackpot!'\n    result.textcolor = '#fdff00'\n  } else if (uniquevalues === 2) {\n    // 2 values are the same\n    result.label = '😍 winner!'\n    result.textcolor = '#fdff00'\n  } else {\n    // no values are the same\n    result.label = '🙁 spin again'\n    result.textcolor = null\n  }\n  spinning = false\n}\n\nconst touchbar = new touchbar({\n  items: [\n    spin,\n    new touchbarspacer({ size: 'large' }),\n    reel1,\n    new touchbarspacer({ size: 'small' }),\n    reel2,\n    new touchbarspacer({ size: 'small' }),\n    reel3,\n    new touchbarspacer({ size: 'large' }),\n    result\n  ]\n})\n\nlet window\n\napp.whenready().then(() => {\n  window = new browserwindow({\n    frame: false,\n    titlebarstyle: 'hiddeninset',\n    width: 200,\n    height: 200,\n    backgroundcolor: '#000'\n  })\n  window.loadurl('about:blank')\n  window.settouchbar(touchbar)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n\n\n\n# 运行以上示例\n\n要运行上面的示例，您需要 (假设您已经在将要运行该示例的目录中打开了一个终端)：\n\n 1. 将上述文件保存到您的电脑上，并命名为 touchbar.js\n 2. 通过 npm install electron 来安装 electron\n 3. 在 electron 中运行示例：./node_modules/.bin/electron touchbar.js\n\n接下来这个应用会在你的touch bar (或者touch bar模拟器) 上运行，你将能看到一个electron窗口",charsets:{cjk:!0}},{title:"web-frame-main",frontmatter:{title:"web-frame-main",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/181cb7/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/web-frame-main.html",relativePath:"《Electron中文文档》/api/web-frame-main.md",key:"v-baca0a54",path:"/pages/181cb7/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:1170},{level:3,title:"webFrameMain.fromId(processId, routingId)",slug:"webframemain-fromid-processid-routingid",normalizedTitle:"webframemain.fromid(processid, routingid)",charIndex:1204},{level:2,title:"Class: WebFrameMain",slug:"class-webframemain",normalizedTitle:"class: webframemain",charIndex:1662},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:1833},{level:4,title:"事件: 'dom-ready'",slug:"事件-dom-ready",normalizedTitle:"事件: 'dom-ready'",charIndex:1841},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:1899},{level:4,title:"frame.executeJavaScript(code[, userGesture])",slug:"frame-executejavascript-code-usergesture",normalizedTitle:"frame.executejavascript(code[, usergesture])",charIndex:1907},{level:4,title:"frame.reload()",slug:"frame-reload",normalizedTitle:"frame.reload()",charIndex:2283},{level:4,title:"frame.send(channel, ...args)",slug:"frame-send-channel-args",normalizedTitle:"frame.send(channel, ...args)",charIndex:2420},{level:4,title:"frame.postMessage(channel, message, [transfer])",slug:"frame-postmessage-channel-message-transfer",normalizedTitle:"frame.postmessage(channel, message, [transfer])",charIndex:2877},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:3595},{level:4,title:"frame.url Readonly",slug:"frame-url-readonly",normalizedTitle:"frame.url readonly",charIndex:3603},{level:4,title:"frame.top Readonly",slug:"frame-top-readonly",normalizedTitle:"frame.top readonly",charIndex:3678},{level:4,title:"frame.parent Readonly",slug:"frame-parent-readonly",normalizedTitle:"frame.parent readonly",charIndex:3793},{level:4,title:"frame.frames Readonly",slug:"frame-frames-readonly",normalizedTitle:"frame.frames readonly",charIndex:3954},{level:4,title:"frame.framesInSubtree Readonly",slug:"frame-framesinsubtree-readonly",normalizedTitle:"frame.framesinsubtree readonly",charIndex:4052},{level:4,title:"frame.frameTreeNodeId Readonly",slug:"frame-frametreenodeid-readonly",normalizedTitle:"frame.frametreenodeid readonly",charIndex:4236},{level:4,title:"frame.name Readonly",slug:"frame-name-readonly",normalizedTitle:"frame.name readonly",charIndex:4584},{level:4,title:"frame.osProcessId Readonly",slug:"frame-osprocessid-readonly",normalizedTitle:"frame.osprocessid readonly",charIndex:4646},{level:4,title:"frame.processId Readonly",slug:"frame-processid-readonly",normalizedTitle:"frame.processid readonly",charIndex:4764},{level:4,title:"frame.routingId Readonly",slug:"frame-routingid-readonly",normalizedTitle:"frame.routingid readonly",charIndex:4960},{level:4,title:"frame.visibilityState 只读",slug:"frame-visibilitystate-只读",normalizedTitle:"frame.visibilitystate 只读",charIndex:5168}],headersStr:"方法 webFrameMain.fromId(processId, routingId) Class: WebFrameMain 实例事件 事件: 'dom-ready' 实例方法 frame.executeJavaScript(code[, userGesture]) frame.reload() frame.send(channel, ...args) frame.postMessage(channel, message, [transfer]) 实例属性 frame.url Readonly frame.top Readonly frame.parent Readonly frame.frames Readonly frame.framesInSubtree Readonly frame.frameTreeNodeId Readonly frame.name Readonly frame.osProcessId Readonly frame.processId Readonly frame.routingId Readonly frame.visibilityState 只读",content:"# webFrameMain\n\n> 控制页面和内联框架(iframes)。\n\n进程：主进程\n\nwebFramework 模块可以用来查找现有的 WebContents 实例。 通常在导航事件中使用。\n\nconst { BrowserWindow, webFrameMain } = require('electron')\n\nconst win = new BrowserWindow({ width: 800, height: 1500 })\nwin.loadURL('https://twitter.com')\n\nwin.webContents.on(\n  'did-frame-navigate',\n  (event, url, isMainFrame, frameProcessId, frameRoutingId) => {\n    const frame = webFrameMain.fromId(frameProcessId, frameRoutingId)\n    if (frame) {\n      const code = 'document.body.innerHTML = document.body.innerHTML.replaceAll(\"heck\", \"h*ck\")'\n      frame.executeJavaScript(code)\n    }\n  }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n您还可以通过使用 WebContents的 mainFrame 属性 访问现有页面的框架。\n\nconst { BrowserWindow } = require('electron')\n\nasync function main () {\n  const win = new BrowserWindow({ width: 800, height: 600 })\n  await win.loadURL('https://reddit.com')\n\n  const youtubeEmbeds = win.webContents.mainFrame.frames.filter((frame) => {\n    try {\n      const url = new URL(frame.url)\n      return url.host === 'www.youtube.com'\n    } catch {\n      return false\n    }\n  })\n\n  console.log(youtubeEmbeds)\n}\n\nmain()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 方法\n\n通过webFrameMain模块可以访问以下方法：\n\n\n# webFrameMain.fromId(processId, routingId)\n\n * processId Integer - 表示拥有此框架的进程的内部 ID。\n * routingId Integer - 表示当前渲染器进程中唯一框架的 ID 。 Routing IDs can be retrieved from WebFrameMain instances (frame.routingId) and are also passed by frame specific WebContents navigation events (e.g. did-frame-navigate).\n\nReturns WebFrameMain | undefined - A frame with the given process and routing IDs, or undefined if there is no WebFrameMain associated with the given IDs.\n\n\n# Class: WebFrameMain\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# 实例事件\n\n# 事件: 'dom-ready'\n\nEmitted when the document is loaded.\n\n\n# 实例方法\n\n# frame.executeJavaScript(code[, userGesture])\n\n * code String\n * userGesture Boolean (optional) - Default is false.\n\nReturns Promise<unknown> - A promise that resolves with the result of the executed code or is rejected if execution throws or results in a rejected promise.\n\n在页面中执行 code。\n\n在浏览器窗口中，一些HTML API（如requestFullScreen）只能是 由来自用户的手势调用。 将 userGesture 设置为 true 将删除此限制。\n\n# frame.reload()\n\nReturns boolean - Whether the reload was initiated successfully. Only results in false when the frame has no history.\n\n# frame.send(channel, ...args)\n\n * channel String\n * ...args any[]\n\nSend an asynchronous message to the renderer process via channel, along with arguments. Arguments will be serialized with the [Structured Clone Algorithm][SCA], just like [postMessage][], so prototype chains will not be included. 发送 Functions, Promises, Symbols, WeakMaps, 或 WeakSets 将抛出异常\n\nThe renderer process can handle the message by listening to channel with the ipcRenderer module.\n\n# frame.postMessage(channel, message, [transfer])\n\n * channel String\n * message any\n * transfer MessagePortMain[] (可选)\n\nSend a message to the renderer process, optionally transferring ownership of zero or more [MessagePortMain][] objects.\n\nThe transferred MessagePortMain objects will be available in the renderer process by accessing the ports property of the emitted event. When they arrive in the renderer, they will be native DOM MessagePort objects.\n\n例如：\n\n// Main process\nconst { port1, port2 } = new MessageChannelMain()\nwebContents.mainFrame.postMessage('port', { message: 'hello' }, [port1])\n\n// Renderer process\nipcRenderer.on('port', (e, msg) => {\n  const [port] = e.ports\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 实例属性\n\n# frame.url Readonly\n\nA string representing the current URL of the frame.\n\n# frame.top Readonly\n\nA WebFrameMain | null representing top frame in the frame hierarchy to which frame belongs.\n\n# frame.parent Readonly\n\nA WebFrameMain | null representing parent frame of frame, the property would be null if frame is the top frame in the frame hierarchy.\n\n# frame.frames Readonly\n\nA WebFrameMain[] collection containing the direct descendents of frame.\n\n# frame.framesInSubtree Readonly\n\nA WebFrameMain[] collection containing every frame in the subtree of frame, including itself. This can be useful when traversing through all frames.\n\n# frame.frameTreeNodeId Readonly\n\nAn Integer representing the id of the frame's internal FrameTreeNode instance. This id is browser-global and uniquely identifies a frame that hosts content. The identifier is fixed at the creation of the frame and stays constant for the lifetime of the frame. When the frame is removed, the id is not used again.\n\n# frame.name Readonly\n\nA String representing the frame name.\n\n# frame.osProcessId Readonly\n\nAn Integer representing the operating system pid of the process which owns this frame.\n\n# frame.processId Readonly\n\nAn Integer representing the Chromium internal pid of the process which owns this frame. This is not the same as the OS process ID; to read that use frame.osProcessId.\n\n# frame.routingId Readonly\n\nAn Integer representing the unique frame id in the current renderer process. Distinct WebFrameMain instances that refer to the same underlying frame will have the same routingId.\n\n# frame.visibilityState 只读\n\nA string representing the visibility state of the frame.\n\nSee also how the Page Visibility API is affected by other Electron APIs.",normalizedContent:"# webframemain\n\n> 控制页面和内联框架(iframes)。\n\n进程：主进程\n\nwebframework 模块可以用来查找现有的 webcontents 实例。 通常在导航事件中使用。\n\nconst { browserwindow, webframemain } = require('electron')\n\nconst win = new browserwindow({ width: 800, height: 1500 })\nwin.loadurl('https://twitter.com')\n\nwin.webcontents.on(\n  'did-frame-navigate',\n  (event, url, ismainframe, frameprocessid, frameroutingid) => {\n    const frame = webframemain.fromid(frameprocessid, frameroutingid)\n    if (frame) {\n      const code = 'document.body.innerhtml = document.body.innerhtml.replaceall(\"heck\", \"h*ck\")'\n      frame.executejavascript(code)\n    }\n  }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n您还可以通过使用 webcontents的 mainframe 属性 访问现有页面的框架。\n\nconst { browserwindow } = require('electron')\n\nasync function main () {\n  const win = new browserwindow({ width: 800, height: 600 })\n  await win.loadurl('https://reddit.com')\n\n  const youtubeembeds = win.webcontents.mainframe.frames.filter((frame) => {\n    try {\n      const url = new url(frame.url)\n      return url.host === 'www.youtube.com'\n    } catch {\n      return false\n    }\n  })\n\n  console.log(youtubeembeds)\n}\n\nmain()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 方法\n\n通过webframemain模块可以访问以下方法：\n\n\n# webframemain.fromid(processid, routingid)\n\n * processid integer - 表示拥有此框架的进程的内部 id。\n * routingid integer - 表示当前渲染器进程中唯一框架的 id 。 routing ids can be retrieved from webframemain instances (frame.routingid) and are also passed by frame specific webcontents navigation events (e.g. did-frame-navigate).\n\nreturns webframemain | undefined - a frame with the given process and routing ids, or undefined if there is no webframemain associated with the given ids.\n\n\n# class: webframemain\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# 实例事件\n\n# 事件: 'dom-ready'\n\nemitted when the document is loaded.\n\n\n# 实例方法\n\n# frame.executejavascript(code[, usergesture])\n\n * code string\n * usergesture boolean (optional) - default is false.\n\nreturns promise<unknown> - a promise that resolves with the result of the executed code or is rejected if execution throws or results in a rejected promise.\n\n在页面中执行 code。\n\n在浏览器窗口中，一些html api（如requestfullscreen）只能是 由来自用户的手势调用。 将 usergesture 设置为 true 将删除此限制。\n\n# frame.reload()\n\nreturns boolean - whether the reload was initiated successfully. only results in false when the frame has no history.\n\n# frame.send(channel, ...args)\n\n * channel string\n * ...args any[]\n\nsend an asynchronous message to the renderer process via channel, along with arguments. arguments will be serialized with the [structured clone algorithm][sca], just like [postmessage][], so prototype chains will not be included. 发送 functions, promises, symbols, weakmaps, 或 weaksets 将抛出异常\n\nthe renderer process can handle the message by listening to channel with the ipcrenderer module.\n\n# frame.postmessage(channel, message, [transfer])\n\n * channel string\n * message any\n * transfer messageportmain[] (可选)\n\nsend a message to the renderer process, optionally transferring ownership of zero or more [messageportmain][] objects.\n\nthe transferred messageportmain objects will be available in the renderer process by accessing the ports property of the emitted event. when they arrive in the renderer, they will be native dom messageport objects.\n\n例如：\n\n// main process\nconst { port1, port2 } = new messagechannelmain()\nwebcontents.mainframe.postmessage('port', { message: 'hello' }, [port1])\n\n// renderer process\nipcrenderer.on('port', (e, msg) => {\n  const [port] = e.ports\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 实例属性\n\n# frame.url readonly\n\na string representing the current url of the frame.\n\n# frame.top readonly\n\na webframemain | null representing top frame in the frame hierarchy to which frame belongs.\n\n# frame.parent readonly\n\na webframemain | null representing parent frame of frame, the property would be null if frame is the top frame in the frame hierarchy.\n\n# frame.frames readonly\n\na webframemain[] collection containing the direct descendents of frame.\n\n# frame.framesinsubtree readonly\n\na webframemain[] collection containing every frame in the subtree of frame, including itself. this can be useful when traversing through all frames.\n\n# frame.frametreenodeid readonly\n\nan integer representing the id of the frame's internal frametreenode instance. this id is browser-global and uniquely identifies a frame that hosts content. the identifier is fixed at the creation of the frame and stays constant for the lifetime of the frame. when the frame is removed, the id is not used again.\n\n# frame.name readonly\n\na string representing the frame name.\n\n# frame.osprocessid readonly\n\nan integer representing the operating system pid of the process which owns this frame.\n\n# frame.processid readonly\n\nan integer representing the chromium internal pid of the process which owns this frame. this is not the same as the os process id; to read that use frame.osprocessid.\n\n# frame.routingid readonly\n\nan integer representing the unique frame id in the current renderer process. distinct webframemain instances that refer to the same underlying frame will have the same routingid.\n\n# frame.visibilitystate 只读\n\na string representing the visibility state of the frame.\n\nsee also how the page visibility api is affected by other electron apis.",charsets:{cjk:!0}},{title:"web-contents",frontmatter:{title:"web-contents",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/372b1d/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/web-contents.html",relativePath:"《Electron中文文档》/api/web-contents.md",key:"v-38b73014",path:"/pages/372b1d/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:348},{level:3,title:"webContents.getAllWebContents()",slug:"webcontents-getallwebcontents",normalizedTitle:"webcontents.getallwebcontents()",charIndex:458},{level:3,title:"webContents.getFocusedWebContents()",slug:"webcontents-getfocusedwebcontents",normalizedTitle:"webcontents.getfocusedwebcontents()",charIndex:598},{level:3,title:"webContents.fromId(id)",slug:"webcontents-fromid-id",normalizedTitle:"webcontents.fromid(id)",charIndex:690},{level:3,title:"webContents.fromDevToolsTargetId(targetId)",slug:"webcontents-fromdevtoolstargetid-targetid",normalizedTitle:"webcontents.fromdevtoolstargetid(targetid)",charIndex:879},{level:2,title:"类: WebContents",slug:"类-webcontents",normalizedTitle:"类: webcontents",charIndex:1655},{level:3,title:"实例事件",slug:"实例事件",normalizedTitle:"实例事件",charIndex:1851},{level:4,title:"Event: 'did-finish-load'",slug:"event-did-finish-load",normalizedTitle:"event: 'did-finish-load'",charIndex:1859},{level:4,title:"Event: 'did-fail-load'",slug:"event-did-fail-load",normalizedTitle:"event: 'did-fail-load'",charIndex:1924},{level:4,title:"Event: 'did-fail-provisional-load'",slug:"event-did-fail-provisional-load",normalizedTitle:"event: 'did-fail-provisional-load'",charIndex:2175},{level:4,title:"Event: 'did-frame-finish-load'",slug:"event-did-frame-finish-load",normalizedTitle:"event: 'did-frame-finish-load'",charIndex:2445},{level:4,title:"Event: 'did-start-loading'",slug:"event-did-start-loading",normalizedTitle:"event: 'did-start-loading'",charIndex:2599},{level:4,title:"Event: 'did-stop-loading'",slug:"event-did-stop-loading",normalizedTitle:"event: 'did-stop-loading'",charIndex:2664},{level:4,title:"事件: 'dom-ready'",slug:"事件-dom-ready",normalizedTitle:"事件: 'dom-ready'",charIndex:2728},{level:4,title:"事件： 'page-title-updated'",slug:"事件-page-title-updated",normalizedTitle:"事件： 'page-title-updated'",charIndex:2829},{level:4,title:"事件: 'page-favicon-updated'",slug:"事件-page-favicon-updated",normalizedTitle:"事件: 'page-favicon-updated'",charIndex:3028},{level:4,title:"Event: 'new-window' Deprecated",slug:"event-new-window-deprecated",normalizedTitle:"event: 'new-window' deprecated",charIndex:3138},{level:4,title:"Event: 'did-create-window'",slug:"event-did-create-window",normalizedTitle:"event: 'did-create-window'",charIndex:5246},{level:4,title:"Event: 'will-navigate'",slug:"event-will-navigate",normalizedTitle:"event: 'will-navigate'",charIndex:6641},{level:4,title:"Event: 'did-start-navigation'",slug:"event-did-start-navigation",normalizedTitle:"event: 'did-start-navigation'",charIndex:7185},{level:4,title:"Event: 'will-redirect'",slug:"event-will-redirect",normalizedTitle:"event: 'will-redirect'",charIndex:7457},{level:4,title:"Event: 'did-redirect-navigation'",slug:"event-did-redirect-navigation",normalizedTitle:"event: 'did-redirect-navigation'",charIndex:7920},{level:4,title:"Event: 'did-navigate'",slug:"event-did-navigate",normalizedTitle:"event: 'did-navigate'",charIndex:8300},{level:4,title:"Event: 'did-frame-navigate'",slug:"event-did-frame-navigate",normalizedTitle:"event: 'did-frame-navigate'",charIndex:8692},{level:4,title:"Event: 'did-navigate-in-page'",slug:"event-did-navigate-in-page",normalizedTitle:"event: 'did-navigate-in-page'",charIndex:9163},{level:4,title:"Event: 'will-prevent-unload'",slug:"event-will-prevent-unload",normalizedTitle:"event: 'will-prevent-unload'",charIndex:9443},{level:4,title:"Event: 'crashed' Deprecated",slug:"event-crashed-deprecated",normalizedTitle:"event: 'crashed' deprecated",charIndex:10428},{level:4,title:"事件: 'render-process-gone'",slug:"事件-render-process-gone",normalizedTitle:"事件: 'render-process-gone'",charIndex:10651},{level:4,title:"事件: 'unresponsive'",slug:"事件-unresponsive",normalizedTitle:"事件: 'unresponsive'",charIndex:11105},{level:4,title:"事件: 'responsive'",slug:"事件-responsive",normalizedTitle:"事件: 'responsive'",charIndex:11139},{level:4,title:"Event: 'plugin-crashed'",slug:"event-plugin-crashed",normalizedTitle:"event: 'plugin-crashed'",charIndex:11174},{level:4,title:"Event: 'destroyed'",slug:"event-destroyed",normalizedTitle:"event: 'destroyed'",charIndex:11268},{level:4,title:"Event: 'before-input-event'",slug:"event-before-input-event",normalizedTitle:"event: 'before-input-event'",charIndex:11315},{level:4,title:"事件: 'enter-html-full-screen'",slug:"事件-enter-html-full-screen",normalizedTitle:"事件: 'enter-html-full-screen'",charIndex:12555},{level:4,title:"事件: 'leave-html-full-screen'",slug:"事件-leave-html-full-screen",normalizedTitle:"事件: 'leave-html-full-screen'",charIndex:12613},{level:4,title:"Event: 'zoom-changed'",slug:"event-zoom-changed",normalizedTitle:"event: 'zoom-changed'",charIndex:12670},{level:4,title:"Event: 'devtools-opened'",slug:"event-devtools-opened",normalizedTitle:"event: 'devtools-opened'",charIndex:12845},{level:4,title:"Event: 'devtools-closed'",slug:"event-devtools-closed",normalizedTitle:"event: 'devtools-closed'",charIndex:12892},{level:4,title:"Event: 'devtools-focused'",slug:"event-devtools-focused",normalizedTitle:"event: 'devtools-focused'",charIndex:12939},{level:4,title:"事件: 'certificate-error'",slug:"事件-certificate-error",normalizedTitle:"事件: 'certificate-error'",charIndex:12990},{level:4,title:"事件: 'select-client-certificate'",slug:"事件-select-client-certificate",normalizedTitle:"事件: 'select-client-certificate'",charIndex:13238},{level:4,title:'事件: "login"',slug:"事件-login",normalizedTitle:"事件: &quot;login&quot;",charIndex:null},{level:4,title:"Event: 'found-in-page'",slug:"event-found-in-page",normalizedTitle:"event: 'found-in-page'",charIndex:13809},{level:4,title:"Event: 'media-started-playing'",slug:"event-media-started-playing",normalizedTitle:"event: 'media-started-playing'",charIndex:14108},{level:4,title:"Event: 'media-paused'",slug:"event-media-paused",normalizedTitle:"event: 'media-paused'",charIndex:14159},{level:4,title:"Event: 'did-change-theme-color'",slug:"event-did-change-theme-color",normalizedTitle:"event: 'did-change-theme-color'",charIndex:14203},{level:4,title:"Event: 'update-target-url'",slug:"event-update-target-url",normalizedTitle:"event: 'update-target-url'",charIndex:14506},{level:4,title:"Event: 'cursor-changed'",slug:"event-cursor-changed",normalizedTitle:"event: 'cursor-changed'",charIndex:14597},{level:4,title:"Event: 'context-menu'",slug:"event-context-menu",normalizedTitle:"event: 'context-menu'",charIndex:15513},{level:4,title:"事件: 'select-bluetooth-device'",slug:"事件-select-bluetooth-device",normalizedTitle:"事件: 'select-bluetooth-device'",charIndex:19820},{level:4,title:"Event: 'paint'",slug:"event-paint",normalizedTitle:"event: 'paint'",charIndex:20888},{level:4,title:"Event: 'devtools-reload-page'",slug:"event-devtools-reload-page",normalizedTitle:"event: 'devtools-reload-page'",charIndex:21364},{level:4,title:"Event: 'will-attach-webview'",slug:"event-will-attach-webview",normalizedTitle:"event: 'will-attach-webview'",charIndex:21432},{level:4,title:"Event: 'did-attach-webview'",slug:"event-did-attach-webview",normalizedTitle:"event: 'did-attach-webview'",charIndex:22280},{level:4,title:"Event: 'console-message'",slug:"event-console-message",normalizedTitle:"event: 'console-message'",charIndex:22444},{level:4,title:"Event: 'preload-error'",slug:"event-preload-error",normalizedTitle:"event: 'preload-error'",charIndex:22769},{level:4,title:"Event: 'ipc-message'",slug:"event-ipc-message",normalizedTitle:"event: 'ipc-message'",charIndex:22935},{level:4,title:"Event: 'ipc-message-sync'",slug:"event-ipc-message-sync",normalizedTitle:"event: 'ipc-message-sync'",charIndex:23104},{level:4,title:"事件: 'desktop-capturer-get-sources'",slug:"事件-desktop-capturer-get-sources",normalizedTitle:"事件: 'desktop-capturer-get-sources'",charIndex:23280},{level:4,title:"Event: 'preferred-size-changed'",slug:"event-preferred-size-changed",normalizedTitle:"event: 'preferred-size-changed'",charIndex:23459},{level:4,title:"Event: 'frame-created'",slug:"event-frame-created",normalizedTitle:"event: 'frame-created'",charIndex:23784},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:23964},{level:4,title:"contents.loadURL(url[, options])",slug:"contents-loadurl-url-options",normalizedTitle:"contents.loadurl(url[, options])",charIndex:23972},{level:4,title:"contents.loadFile(filePath[, options])",slug:"contents-loadfile-filepath-options",normalizedTitle:"contents.loadfile(filepath[, options])",charIndex:24975},{level:4,title:"contents.downloadURL(url)",slug:"contents-downloadurl-url",normalizedTitle:"contents.downloadurl(url)",charIndex:25596},{level:4,title:"contents.getURL()",slug:"contents-geturl",normalizedTitle:"contents.geturl()",charIndex:25759},{level:4,title:"contents.getTitle()",slug:"contents-gettitle",normalizedTitle:"contents.gettitle()",charIndex:26050},{level:4,title:"contents.isDestroyed()",slug:"contents-isdestroyed",normalizedTitle:"contents.isdestroyed()",charIndex:26095},{level:4,title:"contents.focus()",slug:"contents-focus",normalizedTitle:"contents.focus()",charIndex:26144},{level:4,title:"contents.isFocused()",slug:"contents-isfocused",normalizedTitle:"contents.isfocused()",charIndex:26170},{level:4,title:"contents.isLoading()",slug:"contents-isloading",normalizedTitle:"contents.isloading()",charIndex:26217},{level:4,title:"contents.isLoadingMainFrame()",slug:"contents-isloadingmainframe",normalizedTitle:"contents.isloadingmainframe()",charIndex:26268},{level:4,title:"contents.isWaitingForResponse()",slug:"contents-iswaitingforresponse",normalizedTitle:"contents.iswaitingforresponse()",charIndex:26404},{level:4,title:"contents.stop()",slug:"contents-stop",normalizedTitle:"contents.stop()",charIndex:26547},{level:4,title:"contents.reload()",slug:"contents-reload",normalizedTitle:"contents.reload()",charIndex:26597},{level:4,title:"contents.reloadIgnoringCache()",slug:"contents-reloadignoringcache",normalizedTitle:"contents.reloadignoringcache()",charIndex:26626},{level:4,title:"contents.canGoBack()",slug:"contents-cangoback",normalizedTitle:"contents.cangoback()",charIndex:26672},{level:4,title:"contents.canGoForward()",slug:"contents-cangoforward",normalizedTitle:"contents.cangoforward()",charIndex:26720},{level:4,title:"contents.canGoToOffset(offset)",slug:"contents-cangotooffset-offset",normalizedTitle:"contents.cangotooffset(offset)",charIndex:26771},{level:4,title:"contents.clearHistory()",slug:"contents-clearhistory",normalizedTitle:"contents.clearhistory()",charIndex:26882},{level:4,title:"contents.goBack()",slug:"contents-goback",normalizedTitle:"contents.goback()",charIndex:26918},{level:4,title:"contents.goForward()",slug:"contents-goforward",normalizedTitle:"contents.goforward()",charIndex:26954},{level:4,title:"contents.goToIndex(index)",slug:"contents-gotoindex-index",normalizedTitle:"contents.gotoindex(index)",charIndex:26993},{level:4,title:"contents.goToOffset(offset)",slug:"contents-gotooffset-offset",normalizedTitle:"contents.gotooffset(offset)",charIndex:27101},{level:4,title:"contents.isCrashed()",slug:"contents-iscrashed",normalizedTitle:"contents.iscrashed()",charIndex:27172},{level:4,title:"contents.forcefullyCrashRenderer()",slug:"contents-forcefullycrashrenderer",normalizedTitle:"contents.forcefullycrashrenderer()",charIndex:27257},{level:4,title:"contents.setUserAgent(userAgent)",slug:"contents-setuseragent-useragent",normalizedTitle:"contents.setuseragent(useragent)",charIndex:28250},{level:4,title:"contents.getUserAgent()",slug:"contents-getuseragent",normalizedTitle:"contents.getuseragent()",charIndex:28325},{level:4,title:"contents.insertCSS(css[, options])",slug:"contents-insertcss-css-options",normalizedTitle:"contents.insertcss(css[, options])",charIndex:28382},{level:4,title:"contents.removeInsertedCSS(key)",slug:"contents-removeinsertedcss-key",normalizedTitle:"contents.removeinsertedcss(key)",charIndex:28759},{level:4,title:"contents.executeJavaScript(code[, userGesture])",slug:"contents-executejavascript-code-usergesture",normalizedTitle:"contents.executejavascript(code[, usergesture])",charIndex:29435},{level:4,title:"contents.executeJavaScriptInIsolatedWorld(worldId, scripts[, userGesture])",slug:"contents-executejavascriptinisolatedworld-worldid-scripts-usergesture",normalizedTitle:"contents.executejavascriptinisolatedworld(worldid, scripts[, usergesture])",charIndex:30094},{level:4,title:"contents.setIgnoreMenuShortcuts(ignore)",slug:"contents-setignoremenushortcuts-ignore",normalizedTitle:"contents.setignoremenushortcuts(ignore)",charIndex:30662},{level:4,title:"contents.setWindowOpenHandler(handler)",slug:"contents-setwindowopenhandler-handler",normalizedTitle:"contents.setwindowopenhandler(handler)",charIndex:30795},{level:4,title:"contents.setAudioMuted(muted)",slug:"contents-setaudiomuted-muted",normalizedTitle:"contents.setaudiomuted(muted)",charIndex:32675},{level:4,title:"contents.isAudioMuted()",slug:"contents-isaudiomuted",normalizedTitle:"contents.isaudiomuted()",charIndex:32737},{level:4,title:"contents.isCurrentlyAudible()",slug:"contents-iscurrentlyaudible",normalizedTitle:"contents.iscurrentlyaudible()",charIndex:32787},{level:4,title:"contents.setZoomFactor(factor)",slug:"contents-setzoomfactor-factor",normalizedTitle:"contents.setzoomfactor(factor)",charIndex:32875},{level:4,title:"contents.getZoomFactor()",slug:"contents-getzoomfactor",normalizedTitle:"contents.getzoomfactor()",charIndex:33105},{level:4,title:"contents.setZoomLevel(level)",slug:"contents-setzoomlevel-level",normalizedTitle:"contents.setzoomlevel(level)",charIndex:33176},{level:4,title:"contents.getZoomLevel()",slug:"contents-getzoomlevel",normalizedTitle:"contents.getzoomlevel()",charIndex:33694},{level:4,title:"contents.setVisualZoomLevelLimits(minimumLevel, maximumLevel)",slug:"contents-setvisualzoomlevellimits-minimumlevel-maximumlevel",normalizedTitle:"contents.setvisualzoomlevellimits(minimumlevel, maximumlevel)",charIndex:33763},{level:4,title:"contents.undo()",slug:"contents-undo",normalizedTitle:"contents.undo()",charIndex:34042},{level:4,title:"contents.redo()",slug:"contents-redo",normalizedTitle:"contents.redo()",charIndex:34078},{level:4,title:"contents.cut()",slug:"contents-cut",normalizedTitle:"contents.cut()",charIndex:34114},{level:4,title:"contents.copy()",slug:"contents-copy",normalizedTitle:"contents.copy()",charIndex:34148},{level:4,title:"contents.copyImageAt(x, y)",slug:"contents-copyimageat-x-y",normalizedTitle:"contents.copyimageat(x, y)",charIndex:34184},{level:4,title:"contents.paste()",slug:"contents-paste",normalizedTitle:"contents.paste()",charIndex:34297},{level:4,title:"contents.pasteAndMatchStyle()",slug:"contents-pasteandmatchstyle",normalizedTitle:"contents.pasteandmatchstyle()",charIndex:34335},{level:4,title:"contents.delete()",slug:"contents-delete",normalizedTitle:"contents.delete()",charIndex:34399},{level:4,title:"contents.selectAll()",slug:"contents-selectall",normalizedTitle:"contents.selectall()",charIndex:34439},{level:4,title:"contents.unselect()",slug:"contents-unselect",normalizedTitle:"contents.unselect()",charIndex:34485},{level:4,title:"contents.replace(text)",slug:"contents-replace-text",normalizedTitle:"contents.replace(text)",charIndex:34529},{level:4,title:"contents.replaceMisspelling(text)",slug:"contents-replacemisspelling-text",normalizedTitle:"contents.replacemisspelling(text)",charIndex:34591},{level:4,title:"contents.insertText(text)",slug:"contents-inserttext-text",normalizedTitle:"contents.inserttext(text)",charIndex:34675},{level:4,title:"contents.findInPage(text[, options])",slug:"contents-findinpage-text-options",normalizedTitle:"contents.findinpage(text[, options])",charIndex:34752},{level:4,title:"contents.stopFindInPage(action)",slug:"contents-stopfindinpage-action",normalizedTitle:"contents.stopfindinpage(action)",charIndex:35285},{level:4,title:"contents.capturePage([rect])",slug:"contents-capturepage-rect",normalizedTitle:"contents.capturepage([rect])",charIndex:35932},{level:4,title:"contents.isBeingCaptured()",slug:"contents-isbeingcaptured",normalizedTitle:"contents.isbeingcaptured()",charIndex:36115},{level:4,title:"contents.incrementCapturerCount([size, stayHidden, stayAwake])",slug:"contents-incrementcapturercount-size-stayhidden-stayawake",normalizedTitle:"contents.incrementcapturercount([size, stayhidden, stayawake])",charIndex:36258},{level:4,title:"contents.decrementCapturerCount([stayHidden, stayAwake])",slug:"contents-decrementcapturercount-stayhidden-stayawake",normalizedTitle:"contents.decrementcapturercount([stayhidden, stayawake])",charIndex:36828},{level:4,title:"contents.getPrinters()",slug:"contents-getprinters",normalizedTitle:"contents.getprinters()",charIndex:37325},{level:4,title:"contents.print([options], [callback])",slug:"contents-print-options-callback",normalizedTitle:"contents.print([options], [callback])",charIndex:37380},{level:4,title:"contents.printToPDF(options)",slug:"contents-printtopdf-options",normalizedTitle:"contents.printtopdf(options)",charIndex:40555},{level:4,title:"contents.addWorkSpace(path)",slug:"contents-addworkspace-path",normalizedTitle:"contents.addworkspace(path)",charIndex:42894},{level:4,title:"contents.removeWorkSpace(path)",slug:"contents-removeworkspace-path",normalizedTitle:"contents.removeworkspace(path)",charIndex:43210},{level:4,title:"contents.setDevToolsWebContents(devToolsWebContents)",slug:"contents-setdevtoolswebcontents-devtoolswebcontents",normalizedTitle:"contents.setdevtoolswebcontents(devtoolswebcontents)",charIndex:43313},{level:4,title:"contents.openDevTools([options])",slug:"contents-opendevtools-options",normalizedTitle:"contents.opendevtools([options])",charIndex:45932},{level:4,title:"contents.closeDevTools()",slug:"contents-closedevtools",normalizedTitle:"contents.closedevtools()",charIndex:46474},{level:4,title:"contents.isDevToolsOpened()",slug:"contents-isdevtoolsopened",normalizedTitle:"contents.isdevtoolsopened()",charIndex:46512},{level:4,title:"contents.isDevToolsFocused()",slug:"contents-isdevtoolsfocused",normalizedTitle:"contents.isdevtoolsfocused()",charIndex:46571},{level:4,title:"contents.toggleDevTools()",slug:"contents-toggledevtools",normalizedTitle:"contents.toggledevtools()",charIndex:46633},{level:4,title:"contents.inspectElement(x, y)",slug:"contents-inspectelement-x-y",normalizedTitle:"contents.inspectelement(x, y)",charIndex:46670},{level:4,title:"contents.inspectSharedWorker()",slug:"contents-inspectsharedworker",normalizedTitle:"contents.inspectsharedworker()",charIndex:46749},{level:4,title:"contents.inspectSharedWorkerById(workerId)",slug:"contents-inspectsharedworkerbyid-workerid",normalizedTitle:"contents.inspectsharedworkerbyid(workerid)",charIndex:46841},{level:4,title:"contents.getAllSharedWorkers()",slug:"contents-getallsharedworkers",normalizedTitle:"contents.getallsharedworkers()",charIndex:46952},{level:4,title:"contents.inspectServiceWorker()",slug:"contents-inspectserviceworker",normalizedTitle:"contents.inspectserviceworker()",charIndex:47054},{level:4,title:"contents.send(channel, ...args)",slug:"contents-send-channel-args",normalizedTitle:"contents.send(channel, ...args)",charIndex:47148},{level:4,title:"contents.sendToFrame(frameId, channel, ...args)",slug:"contents-sendtoframe-frameid-channel-args",normalizedTitle:"contents.sendtoframe(frameid, channel, ...args)",charIndex:48298},{level:4,title:"contents.postMessage(channel, message, [transfer])",slug:"contents-postmessage-channel-message-transfer",normalizedTitle:"contents.postmessage(channel, message, [transfer])",charIndex:49448},{level:4,title:"contents.enableDeviceEmulation(parameters)",slug:"contents-enabledeviceemulation-parameters",normalizedTitle:"contents.enabledeviceemulation(parameters)",charIndex:50158},{level:4,title:"contents.disableDeviceEmulation()",slug:"contents-disabledeviceemulation",normalizedTitle:"contents.disabledeviceemulation()",charIndex:50894},{level:4,title:"contents.sendInputEvent(inputEvent)",slug:"contents-sendinputevent-inputevent",normalizedTitle:"contents.sendinputevent(inputevent)",charIndex:50975},{level:4,title:"contents.beginFrameSubscription([onlyDirty ,]callback)",slug:"contents-beginframesubscription-onlydirty-callback",normalizedTitle:"contents.beginframesubscription([onlydirty ,]callback)",charIndex:51222},{level:4,title:"contents.endFrameSubscription()",slug:"contents-endframesubscription",normalizedTitle:"contents.endframesubscription()",charIndex:51842},{level:4,title:"contents.startDrag(item)",slug:"contents-startdrag-item",normalizedTitle:"contents.startdrag(item)",charIndex:51925},{level:4,title:"contents.savePage(fullPath, saveType)",slug:"contents-savepage-fullpath-savetype",normalizedTitle:"contents.savepage(fullpath, savetype)",charIndex:52379},{level:4,title:"contents.showDefinitionForSelection() macOS",slug:"contents-showdefinitionforselection-macos",normalizedTitle:"contents.showdefinitionforselection() macos",charIndex:53070},{level:4,title:"contents.isOffscreen()",slug:"contents-isoffscreen",normalizedTitle:"contents.isoffscreen()",charIndex:53187},{level:4,title:"contents.startPainting()",slug:"contents-startpainting",normalizedTitle:"contents.startpainting()",charIndex:53282},{level:4,title:"contents.stopPainting()",slug:"contents-stoppainting",normalizedTitle:"contents.stoppainting()",charIndex:53379},{level:4,title:"contents.isPainting()",slug:"contents-ispainting",normalizedTitle:"contents.ispainting()",charIndex:53470},{level:4,title:"contents.setFrameRate(fps)",slug:"contents-setframerate-fps",normalizedTitle:"contents.setframerate(fps)",charIndex:53590},{level:4,title:"contents.getFrameRate()",slug:"contents-getframerate",normalizedTitle:"contents.getframerate()",charIndex:53760},{level:4,title:"contents.invalidate()",slug:"contents-invalidate",normalizedTitle:"contents.invalidate()",charIndex:53872},{level:4,title:"contents.getWebRTCIPHandlingPolicy()",slug:"contents-getwebrtciphandlingpolicy",normalizedTitle:"contents.getwebrtciphandlingpolicy()",charIndex:54070},{level:4,title:"contents.setWebRTCIPHandlingPolicy(policy)",slug:"contents-setwebrtciphandlingpolicy-policy",normalizedTitle:"contents.setwebrtciphandlingpolicy(policy)",charIndex:54167},{level:4,title:"contents.getOSProcessId()",slug:"contents-getosprocessid",normalizedTitle:"contents.getosprocessid()",charIndex:55305},{level:4,title:"contents.getProcessId()",slug:"contents-getprocessid",normalizedTitle:"contents.getprocessid()",charIndex:55414},{level:4,title:"contents.takeHeapSnapshot(filePath)",slug:"contents-takeheapsnapshot-filepath",normalizedTitle:"contents.takeheapsnapshot(filepath)",charIndex:55621},{level:4,title:"contents.getBackgroundThrottling()",slug:"contents-getbackgroundthrottling",normalizedTitle:"contents.getbackgroundthrottling()",charIndex:55746},{level:4,title:"contents.setBackgroundThrottling(allowed)",slug:"contents-setbackgroundthrottling-allowed",normalizedTitle:"contents.setbackgroundthrottling(allowed)",charIndex:55950},{level:4,title:"contents.getType()",slug:"contents-gettype",normalizedTitle:"contents.gettype()",charIndex:56172},{level:4,title:"contents.setImageAnimationPolicy(policy)",slug:"contents-setimageanimationpolicy-policy",normalizedTitle:"contents.setimageanimationpolicy(policy)",charIndex:56314},{level:3,title:"实例属性",slug:"实例属性",normalizedTitle:"实例属性",charIndex:56842},{level:4,title:"contents.audioMuted",slug:"contents-audiomuted",normalizedTitle:"contents.audiomuted",charIndex:56850},{level:4,title:"contents.userAgent",slug:"contents-useragent",normalizedTitle:"contents.useragent",charIndex:56937},{level:4,title:"contents.zoomLevel",slug:"contents-zoomlevel",normalizedTitle:"contents.zoomlevel",charIndex:57028},{level:4,title:"contents.zoomFactor",slug:"contents-zoomfactor",normalizedTitle:"contents.zoomfactor",charIndex:57334},{level:4,title:"contents.frameRate",slug:"contents-framerate",normalizedTitle:"contents.framerate",charIndex:57499},{level:4,title:"contents.id 只读",slug:"contents-id-只读",normalizedTitle:"contents.id 只读",charIndex:57708},{level:4,title:"contents.session 只读",slug:"contents-session-只读",normalizedTitle:"contents.session 只读",charIndex:57813},{level:4,title:"contents.hostWebContents 只读",slug:"contents-hostwebcontents-只读",normalizedTitle:"contents.hostwebcontents 只读",charIndex:57873},{level:4,title:"contents.devToolsWebContents 只读",slug:"contents-devtoolswebcontents-只读",normalizedTitle:"contents.devtoolswebcontents 只读",charIndex:57961},{level:4,title:"contents.debugger 只读",slug:"contents-debugger-只读",normalizedTitle:"contents.debugger 只读",charIndex:58214},{level:4,title:"contents.backgroundThrottling",slug:"contents-backgroundthrottling",normalizedTitle:"contents.backgroundthrottling",charIndex:58281},{level:4,title:"contents.mainFrame 只读",slug:"contents-mainframe-只读",normalizedTitle:"contents.mainframe 只读",charIndex:58497}],headersStr:"方法 webContents.getAllWebContents() webContents.getFocusedWebContents() webContents.fromId(id) webContents.fromDevToolsTargetId(targetId) 类: WebContents 实例事件 Event: 'did-finish-load' Event: 'did-fail-load' Event: 'did-fail-provisional-load' Event: 'did-frame-finish-load' Event: 'did-start-loading' Event: 'did-stop-loading' 事件: 'dom-ready' 事件： 'page-title-updated' 事件: 'page-favicon-updated' Event: 'new-window' Deprecated Event: 'did-create-window' Event: 'will-navigate' Event: 'did-start-navigation' Event: 'will-redirect' Event: 'did-redirect-navigation' Event: 'did-navigate' Event: 'did-frame-navigate' Event: 'did-navigate-in-page' Event: 'will-prevent-unload' Event: 'crashed' Deprecated 事件: 'render-process-gone' 事件: 'unresponsive' 事件: 'responsive' Event: 'plugin-crashed' Event: 'destroyed' Event: 'before-input-event' 事件: 'enter-html-full-screen' 事件: 'leave-html-full-screen' Event: 'zoom-changed' Event: 'devtools-opened' Event: 'devtools-closed' Event: 'devtools-focused' 事件: 'certificate-error' 事件: 'select-client-certificate' 事件: \"login\" Event: 'found-in-page' Event: 'media-started-playing' Event: 'media-paused' Event: 'did-change-theme-color' Event: 'update-target-url' Event: 'cursor-changed' Event: 'context-menu' 事件: 'select-bluetooth-device' Event: 'paint' Event: 'devtools-reload-page' Event: 'will-attach-webview' Event: 'did-attach-webview' Event: 'console-message' Event: 'preload-error' Event: 'ipc-message' Event: 'ipc-message-sync' 事件: 'desktop-capturer-get-sources' Event: 'preferred-size-changed' Event: 'frame-created' 实例方法 contents.loadURL(url[, options]) contents.loadFile(filePath[, options]) contents.downloadURL(url) contents.getURL() contents.getTitle() contents.isDestroyed() contents.focus() contents.isFocused() contents.isLoading() contents.isLoadingMainFrame() contents.isWaitingForResponse() contents.stop() contents.reload() contents.reloadIgnoringCache() contents.canGoBack() contents.canGoForward() contents.canGoToOffset(offset) contents.clearHistory() contents.goBack() contents.goForward() contents.goToIndex(index) contents.goToOffset(offset) contents.isCrashed() contents.forcefullyCrashRenderer() contents.setUserAgent(userAgent) contents.getUserAgent() contents.insertCSS(css[, options]) contents.removeInsertedCSS(key) contents.executeJavaScript(code[, userGesture]) contents.executeJavaScriptInIsolatedWorld(worldId, scripts[, userGesture]) contents.setIgnoreMenuShortcuts(ignore) contents.setWindowOpenHandler(handler) contents.setAudioMuted(muted) contents.isAudioMuted() contents.isCurrentlyAudible() contents.setZoomFactor(factor) contents.getZoomFactor() contents.setZoomLevel(level) contents.getZoomLevel() contents.setVisualZoomLevelLimits(minimumLevel, maximumLevel) contents.undo() contents.redo() contents.cut() contents.copy() contents.copyImageAt(x, y) contents.paste() contents.pasteAndMatchStyle() contents.delete() contents.selectAll() contents.unselect() contents.replace(text) contents.replaceMisspelling(text) contents.insertText(text) contents.findInPage(text[, options]) contents.stopFindInPage(action) contents.capturePage([rect]) contents.isBeingCaptured() contents.incrementCapturerCount([size, stayHidden, stayAwake]) contents.decrementCapturerCount([stayHidden, stayAwake]) contents.getPrinters() contents.print([options], [callback]) contents.printToPDF(options) contents.addWorkSpace(path) contents.removeWorkSpace(path) contents.setDevToolsWebContents(devToolsWebContents) contents.openDevTools([options]) contents.closeDevTools() contents.isDevToolsOpened() contents.isDevToolsFocused() contents.toggleDevTools() contents.inspectElement(x, y) contents.inspectSharedWorker() contents.inspectSharedWorkerById(workerId) contents.getAllSharedWorkers() contents.inspectServiceWorker() contents.send(channel, ...args) contents.sendToFrame(frameId, channel, ...args) contents.postMessage(channel, message, [transfer]) contents.enableDeviceEmulation(parameters) contents.disableDeviceEmulation() contents.sendInputEvent(inputEvent) contents.beginFrameSubscription([onlyDirty ,]callback) contents.endFrameSubscription() contents.startDrag(item) contents.savePage(fullPath, saveType) contents.showDefinitionForSelection() macOS contents.isOffscreen() contents.startPainting() contents.stopPainting() contents.isPainting() contents.setFrameRate(fps) contents.getFrameRate() contents.invalidate() contents.getWebRTCIPHandlingPolicy() contents.setWebRTCIPHandlingPolicy(policy) contents.getOSProcessId() contents.getProcessId() contents.takeHeapSnapshot(filePath) contents.getBackgroundThrottling() contents.setBackgroundThrottling(allowed) contents.getType() contents.setImageAnimationPolicy(policy) 实例属性 contents.audioMuted contents.userAgent contents.zoomLevel contents.zoomFactor contents.frameRate contents.id 只读 contents.session 只读 contents.hostWebContents 只读 contents.devToolsWebContents 只读 contents.debugger 只读 contents.backgroundThrottling contents.mainFrame 只读",content:"# webContents\n\n> 渲染以及控制 web 页面\n\n进程：主进程\n\nwebContents是一个EventEmitter. 负责渲染和控制网页, 是 BrowserWindow 对象的一个属性。 这是一个访问 webContents 对象的例子:\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow({ width: 800, height: 1500 })\nwin.loadURL('http://github.com')\n\nconst contents = win.webContents\nconsole.log(contents)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 方法\n\n通过webContents模块可以访问以下方法：\n\nconst { webContents } = require('electron')\nconsole.log(webContents)\n\n\n1\n2\n\n\n\n# webContents.getAllWebContents()\n\n返回 WebContents[] - 所有 WebContents 实例的数组。 包含所有Windows，webviews，opened devtools 和 devtools 扩展背景页的 web 内容\n\n\n# webContents.getFocusedWebContents()\n\nReturns WebContents - 此 app 中焦点的 web 内容，否则返回 null。\n\n\n# webContents.fromId(id)\n\n * id Integer\n\nReturns WebContents | undefined - A WebContents instance with the given ID, or undefined if there is no WebContents associated with the given ID.\n\n\n# webContents.fromDevToolsTargetId(targetId)\n\n * targetId String - The Chrome DevTools Protocol TargetID associated with the WebContents instance.\n\nReturns WebContents | undefined - A WebContents instance with the given TargetID, or undefined if there is no WebContents associated with the given TargetID.\n\nWhen communicating with the Chrome DevTools Protocol, it can be useful to lookup a WebContents instance based on its assigned TargetID.\n\nasync function lookupTargetId (browserWindow) {\n  const wc = browserWindow.webContents\n  await wc.debugger.attach('1.3')\n  const { targetInfo } = await wc.debugger.sendCommand('Target.getTargetInfo')\n  const { targetId } = targetInfo\n  const targetWebContents = await webContents.fromDevToolsTargetId(targetId)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 类: WebContents\n\n> 渲染和控制 BrowserWindow 实例的内容。\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n\n# 实例事件\n\n# Event: 'did-finish-load'\n\n导航完成时触发，即选项卡的旋转器将停止旋转，并指派onload事件后。\n\n# Event: 'did-fail-load'\n\n返回:\n\n * event Event\n * errorCode Integer\n * errorDescription String\n * validatedURL String\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\n这个事件类似于 did-finish-load ，只不过是在加载失败之后触发。 完整的错误码列表以及含义，请看这\n\n# Event: 'did-fail-provisional-load'\n\n返回:\n\n * event Event\n * errorCode Integer\n * errorDescription String\n * validatedURL String\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\n这个事件类似于 did-finish-load，只不过是在加载失败或取消加载之后触发，例如调用 window.stop() 。\n\n# Event: 'did-frame-finish-load'\n\n返回:\n\n * event Event\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\n当框架完成导航（navigation）时触发\n\n# Event: 'did-start-loading'\n\n当tab中的旋转指针（spinner）开始旋转时，就会触发该事件。\n\n# Event: 'did-stop-loading'\n\n当tab中的旋转指针（spinner）结束旋转时，就会触发该事件。\n\n# 事件: 'dom-ready'\n\n返回:\n\n * event Event\n\nEmitted when the document in the top-level frame is loaded.\n\n# 事件： 'page-title-updated'\n\n返回:\n\n * event Event\n * title String\n * explicitSet Boolean\n\nFired when page title is set during navigation. explicitSet is false when title is synthesized from file url.\n\n# 事件: 'page-favicon-updated'\n\n返回:\n\n * event Event\n * favicons String[] - 由连接组成的数组。\n\n当页面获取到favicon的连接时，触发该事件。\n\n# Event: 'new-window' Deprecated\n\n返回:\n\n * event NewWindowWebContentsEvent\n * url String\n * frameName String\n * disposition String - 可以被设置为 default, foreground-tab, background-tab, new-window, save-to-disk 及 other.\n * options BrowserWindowConstructorOptions - 用于创建新的 BrowserWindow.\n * additionalFeatures String[] - 非标准功能(非标准功能是指这些功能不是由Chromium或Electron处理的功能)，这些功能默认指向window.open(). Deprecated, and will now always be the empty array [].\n * referrer Referrer - The referrer that will be passed to the new window. May or may not result in the Referer header being sent, depending on the referrer policy.\n * postBody PostBody (optional) - The post data that will be sent to the new window, along with the appropriate headers that will be set. If no post data is to be sent, the value will be null. Only defined when the window is being created by a form that set target=_blank.\n\n已弃用：webContents.setWindowOpenHandler。\n\nEmitted when the page requests to open a new window for a url. It could be requested by window.open or an external link like <a target='_blank'>.\n\n默认情况下, 将为 url 创建新的 BrowserWindow。\n\n调用event.preventDefault()事件，可以阻止Electron自动创建新的BrowserWindow实例。 调用event.preventDefault() 事件后，你还可以手动创建新的BrowserWindow实例，不过接下来你必须用event.newGuest方法来引用BrowserWindow实例，如果你不这样做，则可能会产生异常。 例如：\n\nmyBrowserWindow.webContents.on('new-window', (event, url, frameName, disposition, options, additionalFeatures, referrer, postBody) => {\n  event.preventDefault()\n  const win = new BrowserWindow({\n    webContents: options.webContents, // use existing webContents if provided\n    show: false\n  })\n  win.once('ready-to-show', () => win.show())\n  if (!options.webContents) {\n    const loadOptions = {\n      httpReferrer: referrer\n    }\n    if (postBody != null) {\n      const { data, contentType, boundary } = postBody\n      loadOptions.postData = postBody.data\n      loadOptions.extraHeaders = `content-type: ${contentType}; boundary=${boundary}`\n    }\n\n    win.loadURL(url, loadOptions) // existing webContents will be navigated automatically\n  }\n  event.newGuest = win\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# Event: 'did-create-window'\n\n返回:\n\n * window BrowserWindow\n * details Object\n   * url String - URL for the created window.\n   * frameName String - Name given to the created window in the window.open() call.\n   * options BrowserWindowConstructorOptions - The options used to create the BrowserWindow. They are merged in increasing precedence: parsed options from the features string from window.open(), security-related webPreferences inherited from the parent, and options given by webContents.setWindowOpenHandler. Unrecognized options are not filtered out.\n   * referrer Referrer - The referrer that will be passed to the new window. May or may not result in the Referer header being sent, depending on the referrer policy.\n   * postBody PostBody (optional) - The post data that will be sent to the new window, along with the appropriate headers that will be set. If no post data is to be sent, the value will be null. Only defined when the window is being created by a form that set target=_blank.\n   * disposition String - Can be default, foreground-tab, background-tab, new-window, save-to-disk and other.\n\nEmitted after successful creation of a window via window.open in the renderer. Not emitted if the creation of the window is canceled from webContents.setWindowOpenHandler.\n\nSee window.open() for more details and how to use this in conjunction with webContents.setWindowOpenHandler.\n\n# Event: 'will-navigate'\n\n返回:\n\n * event Event\n * url String\n\nEmitted when a user or the page wants to start navigation. It can happen when the window.location object is changed or a user clicks a link in the page.\n\nThis event will not emit when the navigation is started programmatically with APIs like webContents.loadURL and webContents.back.\n\nIt is also not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. Use did-navigate-in-page event for this purpose.\n\n调用event.preventDefault()将阻止导航。\n\n# Event: 'did-start-navigation'\n\n返回:\n\n * event Event\n * url String\n * isInPlace Boolean\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\nEmitted when any frame (including main) starts navigating. isInPlace will be true for in-page navigations.\n\n# Event: 'will-redirect'\n\n返回:\n\n * event Event\n * url String\n * isInPlace Boolean\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\nEmitted as a server side redirect occurs during navigation. For example a 302 redirect.\n\nThis event will be emitted after did-start-navigation and always before the did-redirect-navigation event for the same navigation.\n\nCalling event.preventDefault() will prevent the navigation (not just the redirect).\n\n# Event: 'did-redirect-navigation'\n\n返回:\n\n * event Event\n * url String\n * isInPlace Boolean\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\nEmitted after a server side redirect occurs during navigation. For example a 302 redirect.\n\nThis event cannot be prevented, if you want to prevent redirects you should checkout out the will-redirect event above.\n\n# Event: 'did-navigate'\n\n返回:\n\n * event Event\n * url String\n * httpResponseCode Integer - -1 for non HTTP navigations\n * httpStatusText String - empty for non HTTP navigations\n\nEmitted when a main frame navigation is done.\n\nThis event is not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. Use did-navigate-in-page event for this purpose.\n\n# Event: 'did-frame-navigate'\n\n返回:\n\n * event Event\n * url String\n * httpResponseCode Integer - -1 for non HTTP navigations\n * httpStatusText String - empty for non HTTP navigations,\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\nEmitted when any frame navigation is done.\n\nThis event is not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. Use did-navigate-in-page event for this purpose.\n\n# Event: 'did-navigate-in-page'\n\n返回:\n\n * event Event\n * url String\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\nEmitted when an in-page navigation happened in any frame.\n\n当发生页内导航时，虽然页面地址发生变化，但它并没有导航到其它页面。 例如，点击锚点链接，或者DOM的 hashchange事件被触发时，都会触发该事件。\n\n# Event: 'will-prevent-unload'\n\n返回:\n\n * event Event\n\nEmitted when a beforeunload event handler is attempting to cancel a page unload.\n\nCalling event.preventDefault() will ignore the beforeunload event handler and allow the page to be unloaded.\n\nconst { BrowserWindow, dialog } = require('electron')\nconst win = new BrowserWindow({ width: 800, height: 600 })\nwin.webContents.on('will-prevent-unload', (event) => {\n  const choice = dialog.showMessageBoxSync(win, {\n    type: 'question',\n    buttons: ['Leave', 'Stay'],\n    title: 'Do you want to leave this site?',\n    message: 'Changes you made may not be saved.',\n    defaultId: 0,\n    cancelId: 1\n  })\n  const leave = (choice === 0)\n  if (leave) {\n    event.preventDefault()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nNote: This will be emitted for BrowserViews but will not be respected - this is because we have chosen not to tie the BrowserView lifecycle to its owning BrowserWindow should one exist per the specification.\n\n# Event: 'crashed' Deprecated\n\n返回:\n\n * event Event\n * killed Boolean\n\n当渲染进程崩溃或被结束时触发\n\n已废弃： 此事件被包含更多关于渲染过程为何消失的信息的 render-process-gone 事件替代了 并不总是因为崩溃而触发。 当你换用child-process-gone事件时，原事件的 killed 布尔值可以被 reason === 'killed' 取代。\n\n# 事件: 'render-process-gone'\n\n返回:\n\n * event Event\n * details Object\n   * reason String - 渲染进程消失的原因。 可选值：\n     * clean-exit - 以零为退出代码退出的进程\n     * abnormal-exit - 以非零退出代码退出的进程\n     * killed - 进程发送一个SIGTERM，否则是被外部杀死的。\n     * crashed - 进程崩溃\n     * oom - 进程内存不足\n     * launch-failed - 进程从未成功启动\n     * integrity-failure - 窗口代码完整性检查失败\n   * exitCode Integer - 进程的退出代码，除非在 reason 是 launch-failed 的情况下， exitCode 将是一个平台特定的启动失败错误代码。\n\n渲染器进程意外消失时触发。 这种情况通常因为进程崩溃或被杀死。\n\n# 事件: 'unresponsive'\n\n网页变得未响应时触发\n\n# 事件: 'responsive'\n\n未响应的页面变成响应时触发\n\n# Event: 'plugin-crashed'\n\n返回:\n\n * event Event\n * name String\n * version String\n\n当有插件进程崩溃时触发\n\n# Event: 'destroyed'\n\n当webContents被销毁时，触发该事件。\n\n# Event: 'before-input-event'\n\n返回:\n\n * event Event\n * input Object - Input properties.\n   * type String - 可以是 keyUp ，或者 keyDown.\n   * key String - 等同于 KeyboardEvent.key.\n   * code String - 等同于 KeyboardEvent. code .\n   * isAutoRepeat String - 等同于 KeyboardEvent. repeat .\n   * isComposing Boolean - Equivalent to KeyboardEvent.isComposing.\n   * shift String - 等同于 KeyboardEvent.shiftKey .\n   * control String - 等同于 KeyboardEvent. controlKey .\n   * alt String - 等同于 KeyboardEvent. altKey .\n   * meta String - 等同于 KeyboardEvent. metaKey .\n   * location Number - Equivalent to KeyboardEvent.location.\n   * modifiers String[] - See InputEvent.modifiers.\n\nEmitted before dispatching the keydown and keyup events in the page. Calling event.preventDefault will prevent the page keydown/keyup events and the menu shortcuts.\n\nTo only prevent the menu shortcuts, use setIgnoreMenuShortcuts:\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow({ width: 800, height: 600 })\n\nwin.webContents.on('before-input-event', (event, input) => {\n  // For example, only enable application menu keyboard shortcuts when\n  // Ctrl/Cmd are down.\n  win.webContents.setIgnoreMenuShortcuts(!input.control && !input.meta)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 事件: 'enter-html-full-screen'\n\n窗口进入由HTML API 触发的全屏状态时触发\n\n# 事件: 'leave-html-full-screen'\n\n窗口离开由HTML API触发的全屏状态时触发\n\n# Event: 'zoom-changed'\n\n返回:\n\n * event Event\n * zoomDirection String - Can be in or out.\n\nEmitted when the user is requesting to change the zoom level using the mouse wheel.\n\n# Event: 'devtools-opened'\n\n当开发者工具被打开时，触发该事件。\n\n# Event: 'devtools-closed'\n\n当开发者工具被关闭时，触发该事件。\n\n# Event: 'devtools-focused'\n\n当开发者工具被选中/打开时，触发该事件。\n\n# 事件: 'certificate-error'\n\n返回:\n\n * event Event\n * url String\n * error String - The error code.\n * certificate 证书\n * callback Function\n   * isTrusted Boolean - 用于显示证书是否可信。\n * isMainFrame Boolean\n\n证书的链接验证失败时，触发该事件。\n\n使用方式与app的certificate-error的事件相同。\n\n# 事件: 'select-client-certificate'\n\n返回:\n\n * event Event\n * url URL\n * certificateList 证书[]\n * callback Function\n   * certificate Certificate - Must be a certificate from the given list.\n\n当一个客户证书被请求的时候发出。\n\n使用方式与app的select-client-certificate的事件相同。\n\n# 事件: \"login\"\n\n返回:\n\n * event Event\n * authenticationResponseDetails Object\n   * url URL\n * authInfo Object\n   * isProxy Boolean\n   * scheme String\n   * host String\n   * port Integer\n   * realm String\n * callback Function\n   * username String (可选)\n   * password String (可选)\n\n当 webContents 要进行基本身份验证时触发。\n\n使用方式与app的login的事件相同。\n\n# Event: 'found-in-page'\n\n返回:\n\n * event Event\n * result Object\n   * requestId Integer\n   * activeMatchOrdinal Integer - 当前匹配位置。\n   * matches Integer - 符合匹配条件的元素个数。\n   * selectionArea Rectangle - Coordinates of first match region.\n   * finalUpdate Boolean\n\n如果调用[webContents.findInPage]有返回时，会触发这一事件。\n\n# Event: 'media-started-playing'\n\n多媒体开始播放时，触发该事件。\n\n# Event: 'media-paused'\n\n当媒体文件暂停或播放完成的时候触发\n\n# Event: 'did-change-theme-color'\n\n返回:\n\n * event Event\n * color (String | null) - Theme color is in format of '#rrggbb'. It is null when no theme color is set.\n\nEmitted when a page's theme color changes. This is usually due to encountering a meta tag:\n\n<meta name='theme-color' content='#ff0000'>\n\n\n1\n\n\n# Event: 'update-target-url'\n\n返回:\n\n * event Event\n * url String\n\n当鼠标滑到，或者键盘切换到a连接时，触发该事件。\n\n# Event: 'cursor-changed'\n\n返回:\n\n * event Event\n * type String\n * image NativeImage (可选)\n * scale Float (optional) - scaling factor for the custom cursor.\n * size Size (可选) - image大小。\n * hotspot Point (optional) - coordinates of the custom cursor's hotspot.\n\n当鼠标指针改变的时候触发。 Type参数值包含：default, crosshair, pointer, text, wait, help, e-resize, n-resize, ne-resize, nw-resize, s-resize, se-resize, sw-resize, w-resize, ns-resize, ew-resize, nesw-resize, nwse-resize, col-resize, row-resize, m-panning, e-panning, n-panning, ne-panning, nw-panning, s-panning, se-panning, sw-panning, w-panning, move, vertical-text, cell, context-menu, alias, progress, nodrop, copy, none, not-allowed, zoom-in, zoom-out, grab, grabbing 或 custom.\n\nIf the type parameter is custom, the image parameter will hold the custom cursor image in a NativeImage, and scale, size and hotspot will hold additional information about the custom cursor.\n\n# Event: 'context-menu'\n\n返回:\n\n * event Event\n * params Object\n   * x Integer - x 坐标。\n   * y Integer - y 坐标。\n   * frame WebFrameMain - Frame from which the context menu was invoked.\n   * linkURL String - URL of the link that encloses the node the context menu was invoked on.\n   * linkText String - Text associated with the link. May be an empty string if the contents of the link are an image.\n   * pageURL String - URL of the top level page that the context menu was invoked on.\n   * frameURL String - URL of the subframe that the context menu was invoked on.\n   * srcURL String - Source URL for the element that the context menu was invoked on. Elements with source URLs are images, audio and video.\n   * mediaType String - Type of the node the context menu was invoked on. Can be none, image, audio, video, canvas, file or plugin.\n   * hasImageContents Boolean - Whether the context menu was invoked on an image which has non-empty contents.\n   * isEditable Boolean - Whether the context is editable.\n   * selectionText String - Text of the selection that the context menu was invoked on.\n   * titleText String - Title text of the selection that the context menu was invoked on.\n   * altText String - Alt text of the selection that the context menu was invoked on.\n   * suggestedFilename String - Suggested filename to be used when saving file through 'Save Link As' option of context menu.\n   * selectionRect Rectangle - Rect representing the coordinates in the document space of the selection.\n   * selectionStartOffset Number - Start position of the selection text.\n   * referrerPolicy Referrer - The referrer policy of the frame on which the menu is invoked.\n   * misspelledWord String - The misspelled word under the cursor, if any.\n   * dictionarySuggestions String[] - An array of suggested words to show the user to replace the misspelledWord. Only available if there is a misspelled word and spellchecker is enabled.\n   * frameCharset String - The character encoding of the frame on which the menu was invoked.\n   * inputFieldType String - If the context menu was invoked on an input field, the type of that field. Possible values are none, plainText, password, other.\n   * spellcheckEnabled Boolean - If the context is editable, whether or not spellchecking is enabled.\n   * menuSourceType String - Input source that invoked the context menu. 可以是 none、mouse、keyboard、touch、touchMenu、longPress、longTap、touchHandle、stylus、adjustSelection 或 adjustSelectionReset。\n   * mediaFlags Object - The flags for the media element the context menu was invoked on.\n     * inError Boolean - Whether the media element has crashed.\n     * isPaused Boolean - Whether the media element is paused.\n     * isMuted Boolean - Whether the media element is muted.\n     * hasAudio Boolean - Whether the media element has audio.\n     * isLooping Boolean - Whether the media element is looping.\n     * isControlsVisible Boolean - Whether the media element's controls are visible.\n     * canToggleControls Boolean - Whether the media element's controls are toggleable.\n     * canPrint Boolean - Whether the media element can be printed.\n     * canSave Boolean - Whether or not the media element can be downloaded.\n     * canShowPictureInPicture Boolean - Whether the media element can show picture-in-picture.\n     * isShowingPictureInPicture Boolean - Whether the media element is currently showing picture-in-picture.\n     * canRotate Boolean - Whether the media element can be rotated.\n     * canLoop Boolean - Whether the media element can be looped.\n   * editFlags Object - These flags indicate whether the renderer believes it is able to perform the corresponding action.\n     * canUndo Boolean - Whether the renderer believes it can undo.\n     * canRedo Boolean - Whether the renderer believes it can redo.\n     * canCut Boolean - Whether the renderer believes it can cut.\n     * canCopy Boolean - Whether the renderer believes it can copy.\n     * canPaste Boolean - Whether the renderer believes it can paste.\n     * canDelete Boolean - Whether the renderer believes it can delete.\n     * canSelectAll Boolean - Whether the renderer believes it can select all.\n     * canEditRichly Boolean - Whether the renderer believes it can edit text richly.\n\nEmitted when there is a new context menu that needs to be handled.\n\n# 事件: 'select-bluetooth-device'\n\n返回:\n\n * event Event\n * devices BluetoothDevice[]\n * callback Function\n   * deviceId String 设备Id\n\nEmitted when bluetooth device needs to be selected on call to navigator.bluetooth.requestDevice. To use navigator.bluetooth api webBluetooth should be enabled. If event.preventDefault is not called, first available device will be selected. callback should be called with deviceId to be selected, passing empty string to callback will cancel the request.\n\nconst { app, BrowserWindow } = require('electron')\n\nlet win = null\napp.commandLine.appendSwitch('enable-experimental-web-platform-features')\n\napp.whenReady().then(() => {\n  win = new BrowserWindow({ width: 800, height: 600 })\n  win.webContents.on('select-bluetooth-device', (event, deviceList, callback) => {\n    event.preventDefault()\n    const result = deviceList.find((device) => {\n      return device.deviceName === 'test'\n    })\n    if (!result) {\n      callback('')\n    } else {\n      callback(result.deviceId)\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# Event: 'paint'\n\n返回:\n\n * event Event\n * dirtyRect Rectangle\n * image NativeImage - The image data of the whole frame.\n\nEmitted when a new frame is generated. Only the dirty area is passed in the buffer.\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow({ webPreferences: { offscreen: true } })\nwin.webContents.on('paint', (event, dirty, image) => {\n  // updateBitmap(dirty, image.getBitmap())\n})\nwin.loadURL('http://github.com')\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# Event: 'devtools-reload-page'\n\n当在开发者工具中命令webContents重新加载时，触发该事件。\n\n# Event: 'will-attach-webview'\n\n返回:\n\n * event Event\n * webPreferences WebPreferences - The web preferences that will be used by the guest page. This object can be modified to adjust the preferences for the guest page.\n * params Record<string, string> - The other <webview> parameters such as the src URL. This object can be modified to adjust the parameters of the guest page.\n\nEmitted when a <webview>'s web contents is being attached to this web contents. Calling event.preventDefault() will destroy the guest page.\n\nThis event can be used to configure webPreferences for the webContents of a <webview> before it's loaded, and provides the ability to set settings that can't be set via <webview> attributes.\n\nNote: The specified preload script option will appear as preloadURL (not preload) in the webPreferences object emitted with this event.\n\n# Event: 'did-attach-webview'\n\n返回:\n\n * event Event\n * webContents WebContents - The guest web contents that is used by the <webview>.\n\n当<webview>被挂载到页面内容中时，触发该事件。\n\n# Event: 'console-message'\n\n返回:\n\n * event Event\n * level Integer - The log level, from 0 to 3. 按顺序匹配 verbose, info, warning 和 error.\n * message String - 实际控制台消息\n * line Integer - The line number of the source that triggered this console message\n * sourceId String\n\nEmitted when the associated window logs a console message.\n\n# Event: 'preload-error'\n\n返回:\n\n * event Event\n * preloadPath String\n * error Error\n\nEmitted when the preload script preloadPath throws an unhandled exception error.\n\n# Event: 'ipc-message'\n\n返回:\n\n * event Event\n * channel String\n * ...args any[]\n\nEmitted when the renderer process sends an asynchronous message via ipcRenderer.send().\n\n# Event: 'ipc-message-sync'\n\n返回:\n\n * event Event\n * channel String\n * ...args any[]\n\nEmitted when the renderer process sends a synchronous message via ipcRenderer.sendSync().\n\n# 事件: 'desktop-capturer-get-sources'\n\n返回:\n\n * event Event\n\nEmitted when desktopCapturer.getSources() is called in the renderer process. 调用 event.preventDefault() 将使它返回空的sources。\n\n# Event: 'preferred-size-changed'\n\n返回:\n\n * event Event\n * preferredSize Size - The minimum size needed to contain the layout of the document—without requiring scrolling.\n\nEmitted when the WebContents preferred size has changed.\n\nThis event will only be emitted when enablePreferredSizeMode is set to true in webPreferences.\n\n# Event: 'frame-created'\n\n返回:\n\n * event Event\n * details Object\n   * frame WebFrameMain\n\nEmitted when the mainFrame, an <iframe>, or a nested <iframe> is loaded within the page.\n\n\n# 实例方法\n\n# contents.loadURL(url[, options])\n\n * url String\n * options Object (可选)\n   * httpReferrer (String | Referrer) (可选) - 一个 HTTP Referrer url。\n   * userAgent String (可选) - 发起请求的 userAgent.\n   * extraHeaders String (optional) - Extra headers separated by \"\\n\".\n   * postData (UploadRawData | UploadFile)[] (可选)\n   * baseURLForDataURL String (可选) - 要加载的数据文件的根 url(带有路径分隔符). 只有当指定的 url是一个数据 url 并需要加载其他文件时，才需要这样做。\n\nReturns Promise<void> - the promise will resolve when the page has finished loading (see did-finish-load), and rejects if the page fails to load (see did-fail-load). A noop rejection handler is already attached, which avoids unhandled rejection errors.\n\nLoads the url in the window. The url must contain the protocol prefix, e.g. the http:// or file://. If the load should bypass http cache then use the pragma header to achieve it.\n\nconst { webContents } = require('electron')\nconst options = { extraHeaders: 'pragma: no-cache\\n' }\nwebContents.loadURL('https://github.com', options)\n\n\n1\n2\n3\n\n\n# contents.loadFile(filePath[, options])\n\n * filePath String\n * options Object (可选)\n   * query Record<String, String> (可选) - 传递给 url.format().\n   * search String (可选) - 传递给 url.format().\n   * hash String (可选) - 传递给 url.format().\n\n返回 Promise<void> - 当页面完成加载后 promise 将会resolve (见 did-finish-load)，如果页面加载失败，则 reject (见 did-fail-load)。\n\nLoads the given file in the window, filePath should be a path to an HTML file relative to the root of your application. For instance an app structure like this:\n\n| root\n| - package.json\n| - src\n|   - main.js\n|   - index.html\n\n\n1\n2\n3\n4\n5\n\n\n需要运行以下代码：\n\nwin.loadFile('src/index.html')\n\n\n1\n\n\n# contents.downloadURL(url)\n\n * url String\n\nInitiates a download of the resource at url without navigating. The will-download event of session will be triggered.\n\n# contents.getURL()\n\nReturns String - 当前页面的URL.\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({ width: 800, height: 600 })\nwin.loadURL('http://github.com').then(() => {\n  const currentURL = win.webContents.getURL()\n  console.log(currentURL)\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n# contents.getTitle()\n\n返回 String - 当前页面的标题.\n\n# contents.isDestroyed()\n\n返回 Boolean -判断页面是否被销毁\n\n# contents.focus()\n\n页面聚焦\n\n# contents.isFocused()\n\n返回 Boolean - 判断页面是否聚焦\n\n# contents.isLoading()\n\n返回 Boolean - 判断页面是否正在加载资源\n\n# contents.isLoadingMainFrame()\n\nReturns Boolean - Whether the main frame (and not just iframes or frames within it) is still loading.\n\n# contents.isWaitingForResponse()\n\nReturns Boolean - Whether the web page is waiting for a first-response from the main resource of the page.\n\n# contents.stop()\n\nStops any pending navigation.\n\n# contents.reload()\n\n刷新当前页面\n\n# contents.reloadIgnoringCache()\n\n忽略缓存强制刷新页面\n\n# contents.canGoBack()\n\n返回Boolean，是否可以返回到上一个页面\n\n# contents.canGoForward()\n\n返回Boolean ，是否可以进入下一个页面\n\n# contents.canGoToOffset(offset)\n\n * offset Integer\n\nReturns Boolean - Whether the web page can go to offset.\n\n# contents.clearHistory()\n\n清除定位历史。\n\n# contents.goBack()\n\n使浏览器回退到上一个页面。\n\n# contents.goForward()\n\n使浏览器前进到下一个页面。\n\n# contents.goToIndex(index)\n\n * index Integer\n\nNavigates browser to the specified absolute web page index.\n\n# contents.goToOffset(offset)\n\n * offset Integer\n\n定位到相对于“当前入口”的指定的偏移。\n\n# contents.isCrashed()\n\nReturns Boolean - Whether the renderer process has crashed.\n\n# contents.forcefullyCrashRenderer()\n\nForcefully terminates the renderer process that is currently hosting this webContents. This will cause the render-process-gone event to be emitted with the reason=killed || reason=crashed. Please note that some webContents share renderer processes and therefore calling this method may also crash the host process for other webContents as well.\n\nCalling reload() immediately after calling this method will force the reload to occur in a new process. This should be used when this process is unstable or unusable, for instance in order to recover from the unresponsive event.\n\ncontents.on('unresponsive', async () => {\n  const { response } = await dialog.showMessageBox({\n    message: 'App X has become unresponsive',\n    title: 'Do you want to try forcefully reloading the app?',\n    buttons: ['OK', 'Cancel'],\n    cancelId: 1\n  })\n  if (response === 0) {\n    contents.forcefullyCrashRenderer()\n    contents.reload()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# contents.setUserAgent(userAgent)\n\n * userAgent String\n\n重写该页面的user agent\n\n# contents.getUserAgent()\n\n返回 String - 当前页面的user agent.\n\n# contents.insertCSS(css[, options])\n\n * css String\n * options Object (可选)\n   * cssOrigin String (optional) - Can be either 'user' or 'author'; Specifying 'user' enables you to prevent websites from overriding the CSS you insert. Default is 'author'.\n\nReturns Promise<String> - A promise that resolves with a key for the inserted CSS that can later be used to remove the CSS via contents.removeInsertedCSS(key).\n\nInjects CSS into the current web page and returns a unique key for the inserted stylesheet.\n\ncontents.on('did-finish-load', () => {\n  contents.insertCSS('html, body { background-color: #f00; }')\n})\n\n\n1\n2\n3\n\n\n# contents.removeInsertedCSS(key)\n\n * key String\n\nReturns Promise<void> - Resolves if the removal was successful.\n\nRemoves the inserted CSS from the current web page. The stylesheet is identified by its key, which is returned from contents.insertCSS(css).\n\ncontents.on('did-finish-load', async () => {\n  const key = await contents.insertCSS('html, body { background-color: #f00; }')\n  contents.removeInsertedCSS(key)\n})\n\n\n1\n2\n3\n4\n\n\n# contents.executeJavaScript(code[, userGesture])\n\n * code String\n * userGesture Boolean (optional) - Default is false.\n\nReturns Promise<any> - A promise that resolves with the result of the executed code or is rejected if the result of the code is a rejected promise.\n\n在页面中执行 code。\n\n在浏览器窗口中，一些HTML API（如requestFullScreen）只能是 由来自用户的手势调用。 将 userGesture 设置为 true 将删除此限制。\n\nCode execution will be suspended until web page stop loading.\n\ncontents.executeJavaScript('fetch(\"https://jsonplaceholder.typicode.com/users/1\").then(resp => resp.json())', true)\n  .then((result) => {\n    console.log(result) // Will be the JSON object from the fetch call\n  })\n\n\n1\n2\n3\n4\n\n\n# contents.executeJavaScriptInIsolatedWorld(worldId, scripts[, userGesture])\n\n * worldId Integer - The ID of the world to run the javascript in, 0 is the default world, 999 is the world used by Electron's contextIsolation feature. You can provide any integer here.\n * scripts WebSource[]\n * userGesture Boolean (optional) - Default is false.\n\nReturns Promise<any> - A promise that resolves with the result of the executed code or is rejected if the result of the code is a rejected promise.\n\nWorks like executeJavaScript but evaluates scripts in an isolated context.\n\n# contents.setIgnoreMenuShortcuts(ignore)\n\n * ignore Boolean\n\nIgnore application menu shortcuts while this web contents is focused.\n\n# contents.setWindowOpenHandler(handler)\n\n * handler 函数<{action: 'deny'} | {action: 'allow', overrideBrowserWindowOptions?: BrowserWindowConstructorOptions}>\n   \n   * details Object\n     * url String - The resolved version of the URL passed to window.open(). e.g. opening a window with window.open('foo') will yield something like https://the-origin/the/current/path/foo.\n     * frameName String - Name of the window provided in window.open()\n     * features String - Comma separated list of window features provided to window.open().\n     * disposition String - Can be default, foreground-tab, background-tab, new-window, save-to-disk or other.\n     * referrer Referrer - The referrer that will be passed to the new window. May or may not result in the Referer header being sent, depending on the referrer policy.\n     * postBody PostBody (optional) - The post data that will be sent to the new window, along with the appropriate headers that will be set. If no post data is to be sent, the value will be null. Only defined when the window is being created by a form that set target=_blank.\n   \n   Returns {action: 'deny'} | {action: 'allow', overrideBrowserWindowOptions?: BrowserWindowConstructorOptions} - deny cancels the creation of the new window. allow will allow the new window to be created. Specifying overrideBrowserWindowOptions allows customization of the created window. Returning an unrecognized value such as a null, undefined, or an object without a recognized 'action' value will result in a console error and have the same effect as returning {action: 'deny'}.\n\nCalled before creating a window a new window is requested by the renderer, e.g. by window.open(), a link with target=\"_blank\", shift+clicking on a link, or submitting a form with <form target=\"_blank\">. See window.open() for more details and how to use this in conjunction with did-create-window.\n\n# contents.setAudioMuted(muted)\n\n * muted Boolean\n\n使当前页面音频静音\n\n# contents.isAudioMuted()\n\n返回 Boolean -判断页面是否被静音\n\n# contents.isCurrentlyAudible()\n\nReturns Boolean - Whether audio is currently playing.\n\n# contents.setZoomFactor(factor)\n\n * factor Double - Zoom factor; default is 1.0.\n\nChanges the zoom factor to the specified factor. Zoom factor is zoom percent divided by 100, so 300% = 3.0.\n\nThe factor must be greater than 0.0.\n\n# contents.getZoomFactor()\n\nReturns Number - the current zoom factor.\n\n# contents.setZoomLevel(level)\n\n * level Number - 缩放等级。\n\n更改缩放等级。 The original size is 0 and each increment above or below represents zooming 20% larger or smaller to default limits of 300% and 50% of original size, respectively. The formula for this is scale := 1.2 ^ level.\n\n> NOTE: The zoom policy at the Chromium level is same-origin, meaning that the zoom level for a specific domain propagates across all instances of windows with the same domain. Differentiating the window URLs will make zoom work per-window.\n\n# contents.getZoomLevel()\n\nReturns Number - the current zoom level.\n\n# contents.setVisualZoomLevelLimits(minimumLevel, maximumLevel)\n\n * minimumLevel Number\n * maximumLevel Number\n\n返回 Promise<void>\n\n设置最大和最小缩放级别。\n\n> NOTE: Visual zoom is disabled by default in Electron. To re-enable it, call:\n> \n> contents.setVisualZoomLevelLimits(1, 3)\n> \n> \n> 1\n\n# contents.undo()\n\n在页面中执行undo编辑命令。\n\n# contents.redo()\n\n在页面中执行redo编辑命令。\n\n# contents.cut()\n\n在页面中执行cut编辑命令。\n\n# contents.copy()\n\n在页面中执行copy编辑命令。\n\n# contents.copyImageAt(x, y)\n\n * x Integer\n * y Integer\n\nCopy the image at the given position to the clipboard.\n\n# contents.paste()\n\n在页面中执行paste编辑命令。\n\n# contents.pasteAndMatchStyle()\n\n在页面中执行pasteAndMatchStyle编辑命令。\n\n# contents.delete()\n\n在页面中执行delete编辑命令。\n\n# contents.selectAll()\n\n在页面中执行selectAll编辑命令。\n\n# contents.unselect()\n\n在页面中执行unselect编辑命令。\n\n# contents.replace(text)\n\n * text String\n\n在页面中执行replace编辑命令。\n\n# contents.replaceMisspelling(text)\n\n * text String\n\n在页面中执行replaceMisspelling编辑命令。\n\n# contents.insertText(text)\n\n * text String\n\n返回 Promise<void>\n\n插入text 到焦点元素\n\n# contents.findInPage(text[, options])\n\n * text String - 要搜索的内容，必须非空。\n * options Object (可选)\n   * forward Boolean (可选) -向前或向后搜索，默认为 true。\n   * findNext Boolean (可选) - 是否使用此请求开始一个新的文本查找会话。 对于初始请求应该为 true ，对后续请求为 false 。 默认值为 false.\n   * matchCase Boolean (optional) - Whether search should be case-sensitive, defaults to false.\n\nReturns Integer - The request id used for the request.\n\nStarts a request to find all matches for the text in the web page. The result of the request can be obtained by subscribing to found-in-page event.\n\n# contents.stopFindInPage(action)\n\n * action String - Specifies the action to take place when ending [webContents.findInPage] request.\n   * clearSelection - Clear the selection.\n   * keepSelection - Translate the selection into a normal selection.\n   * activateSelection - Focus and click the selection node.\n\nStops any findInPage request for the webContents with the provided action.\n\nconst { webContents } = require('electron')\nwebContents.on('found-in-page', (event, result) => {\n  if (result.finalUpdate) webContents.stopFindInPage('clearSelection')\n})\n\nconst requestId = webContents.findInPage('api')\nconsole.log(requestId)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# contents.capturePage([rect])\n\n * rect Rectangle (optional) - The area of the page to be captured.\n\n返回 Promise<NativeImage> - 完成后返回一个NativeImage\n\n在 rect内捕获页面的快照。 省略 rect 将捕获整个可见页面。\n\n# contents.isBeingCaptured()\n\nReturns Boolean - Whether this page is being captured. It returns true when the capturer count is large then 0.\n\n# contents.incrementCapturerCount([size, stayHidden, stayAwake])\n\n * size Size (optional) - The preferred size for the capturer.\n * stayHidden Boolean (optional) - Keep the page hidden instead of visible.\n * stayAwake Boolean (optional) - Keep the system awake instead of allowing it to sleep.\n\nIncrease the capturer count by one. The page is considered visible when its browser window is hidden and the capturer count is non-zero. If you would like the page to stay hidden, you should ensure that stayHidden is set to true.\n\nThis also affects the Page Visibility API.\n\n# contents.decrementCapturerCount([stayHidden, stayAwake])\n\n * stayHidden Boolean (optional) - Keep the page in hidden state instead of visible.\n * stayAwake Boolean (optional) - Keep the system awake instead of allowing it to sleep.\n\nDecrease the capturer count by one. The page will be set to hidden or occluded state when its browser window is hidden or occluded and the capturer count reaches zero. If you want to decrease the hidden capturer count instead you should set stayHidden to true.\n\n# contents.getPrinters()\n\n获取系统打印机列表\n\n返回 PrinterInfo[]\n\n# contents.print([options], [callback])\n\n * options Object (可选)\n   * silent Boolean (optional) - Don't ask user for print settings. 默认值为 false.\n   * printBackground Boolean (optional) - Prints the background color and image of the web page. 默认值为 false.\n   * deviceName String (optional) - Set the printer device name to use. Must be the system-defined name and not the 'friendly' name, e.g 'Brother_QL_820NWB' and not 'Brother QL-820NWB'.\n   * color Boolean (optional) - Set whether the printed web page will be in color or grayscale. 默认值为 true。\n   * margins Object (可选)\n     * marginType String (optional) - Can be default, none, printableArea, or custom. If custom is chosen, you will also need to specify top, bottom, left, and right.\n     * top Number (optional) - The top margin of the printed web page, in pixels.\n     * bottom Number (optional) - The bottom margin of the printed web page, in pixels.\n     * left Number (optional) - The left margin of the printed web page, in pixels.\n     * right Number (optional) - The right margin of the printed web page, in pixels.\n   * landscape Boolean (optional) - Whether the web page should be printed in landscape mode. 默认值为 false.\n   * scaleFactor Number (optional) - The scale factor of the web page.\n   * pagesPerSheet Number (optional) - The number of pages to print per page sheet.\n   * collate Boolean (optional) - Whether the web page should be collated.\n   * copies Number (optional) - The number of copies of the web page to print.\n   * pageRanges Object[] (optional) - The page range to print. On macOS, only one range is honored.\n     * from Number - Index of the first page to print (0-based).\n     * to Number - Index of the last page to print (inclusive) (0-based).\n   * duplexMode String (optional) - Set the duplex mode of the printed web page. 可以是 simplex、shortEdge 或 longEdge。\n   * dpi Record<string, number> (optional)\n     * horizontal Number (optional) - The horizontal dpi.\n     * vertical Number (optional) - The vertical dpi.\n   * header String (optional) - String to be printed as page header.\n   * footer String (optional) - String to be printed as page footer.\n   * pageSize String | Size (optional) - Specify page size of the printed document. Can be A3, A4, A5, Legal, Letter, Tabloid or an Object containing height.\n * callback Function (可选)\n   * success Boolean - Indicates success of the print call.\n   * failureReason String - Error description called back if the print fails.\n\nWhen a custom pageSize is passed, Chromium attempts to validate platform specific minimum values for width_microns and height_microns. Width and height must both be minimum 353 microns but may be higher on some operating systems.\n\nPrints window's web page. When silent is set to true, Electron will pick the system's default printer if deviceName is empty and the default settings for printing.\n\nUse page-break-before: always; CSS style to force to print to a new page.\n\n示例：\n\nconst options = {\n  silent: true,\n  deviceName: 'My-Printer',\n  pageRanges: [{\n    from: 0,\n    to: 1\n  }]\n}\nwin.webContents.print(options, (success, errorType) => {\n  if (!success) console.log(errorType)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# contents.printToPDF(options)\n\n * 选项 对象\n   * headerFooter Record<string, string> (optional) - the header and footer for the PDF.\n     * title String - The title for the PDF header.\n     * url String - the url for the PDF footer.\n   * landscape Boolean (optional) - true for landscape, false for portrait.\n   * marginsType Integer (optional) - Specifies the type of margins to use. Uses 0 for default margin, 1 for no margin, and 2 for minimum margin.\n   * scaleFactor Number (optional) - The scale factor of the web page. Can range from 0 to 100.\n   * pageRanges Record<string, number> (optional) - The page range to print.\n     * from Number - Index of the first page to print (0-based).\n     * to Number - Index of the last page to print (inclusive) (0-based).\n   * pageSize String | Size (optional) - Specify page size of the generated PDF. Can be A3, A4, A5, Legal, Letter, Tabloid or an Object containing height and width in microns.\n   * printBackground Boolean (optional) - Whether to print CSS backgrounds.\n   * printSelectionOnly Boolean (optional) - Whether to print selection only.\n\nReturns Promise<Buffer> - Resolves with the generated PDF data.\n\nPrints window's web page as PDF with Chromium's preview printing custom settings.\n\nThe landscape will be ignored if @page CSS at-rule is used in the web page.\n\nBy default, an empty options will be regarded as:\n\n{\n  marginsType: 0,\n  printBackground: false,\n  printSelectionOnly: false,\n  landscape: false,\n  pageSize: 'A4',\n  scaleFactor: 100\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nUse page-break-before: always; CSS style to force to print to a new page.\n\nAn example of webContents.printToPDF:\n\nconst { BrowserWindow } = require('electron')\nconst fs = require('fs')\nconst path = require('path')\nconst os = require('os')\n\nconst win = new BrowserWindow({ width: 800, height: 600 })\nwin.loadURL('http://github.com')\n\nwin.webContents.on('did-finish-load', () => {\n  // Use default printing options\n  win.webContents.printToPDF({}).then(data => {\n    const pdfPath = path.join(os.homedir(), 'Desktop', 'temp.pdf')\n    fs.writeFile(pdfPath, data, (error) => {\n      if (error) throw error\n      console.log(`Wrote PDF successfully to ${pdfPath}`)\n    })\n  }).catch(error => {\n    console.log(`Failed to write PDF to ${pdfPath}: `, error)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# contents.addWorkSpace(path)\n\n * path String\n\nAdds the specified path to DevTools workspace. Must be used after DevTools creation:\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow()\nwin.webContents.on('devtools-opened', () => {\n  win.webContents.addWorkSpace(__dirname)\n})\n\n\n1\n2\n3\n4\n5\n\n\n# contents.removeWorkSpace(path)\n\n * path String\n\nRemoves the specified path from DevTools workspace.\n\n# contents.setDevToolsWebContents(devToolsWebContents)\n\n * devToolsWebContents WebContents\n\nUses the devToolsWebContents as the target WebContents to show devtools.\n\nThe devToolsWebContents must not have done any navigation, and it should not be used for other purposes after the call.\n\nBy default Electron manages the devtools by creating an internal WebContents with native view, which developers have very limited control of. With the setDevToolsWebContents method, developers can use any WebContents to show the devtools in it, including BrowserWindow, BrowserView and <webview> tag.\n\nNote that closing the devtools does not destroy the devToolsWebContents, it is caller's responsibility to destroy devToolsWebContents.\n\nAn example of showing devtools in a <webview> tag:\n\n<html>\n<head>\n  <style type=\"text/css\">\n    * { margin: 0; }\n    #browser { height: 70%; }\n    #devtools { height: 30%; }\n  </style>\n</head>\n<body>\n  <webview id=\"browser\" src=\"https://github.com\"></webview>\n  <webview id=\"devtools\" src=\"about:blank\"></webview>\n  <script>\n    const { ipcRenderer } = require('electron')\n    const emittedOnce = (element, eventName) => new Promise(resolve => {\n      element.addEventListener(eventName, event => resolve(event), { once: true })\n    })\n    const browserView = document.getElementById('browser')\n    const devtoolsView = document.getElementById('devtools')\n    const browserReady = emittedOnce(browserView, 'dom-ready')\n    const devtoolsReady = emittedOnce(devtoolsView, 'dom-ready')\n    Promise.all([browserReady, devtoolsReady]).then(() => {\n      const targetId = browserView.getWebContentsId()\n      const devtoolsId = devtoolsView.getWebContentsId()\n      ipcRenderer.send('open-devtools', targetId, devtoolsId)\n    })\n  <\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n// Main process\nconst { ipcMain, webContents } = require('electron')\nipcMain.on('open-devtools', (event, targetContentsId, devtoolsContentsId) => {\n  const target = webContents.fromId(targetContentsId)\n  const devtools = webContents.fromId(devtoolsContentsId)\n  target.setDevToolsWebContents(devtools)\n  target.openDevTools()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nAn example of showing devtools in a BrowserWindow:\n\nconst { app, BrowserWindow } = require('electron')\n\nlet win = null\nlet devtools = null\n\napp.whenReady().then(() => {\n  win = new BrowserWindow()\n  devtools = new BrowserWindow()\n  win.loadURL('https://github.com')\n  win.webContents.setDevToolsWebContents(devtools.webContents)\n  win.webContents.openDevTools({ mode: 'detach' })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# contents.openDevTools([options])\n\n * options Object (可选)\n   * mode String - Opens the devtools with specified dock state, can be right, bottom, undocked, detach. Defaults to last used dock state. In undocked mode it's possible to dock back. In detach mode it's not.\n   * activate Boolean (optional) - Whether to bring the opened devtools window to the foreground. 默认值为 true。\n\nOpens the devtools.\n\nWhen contents is a <webview> tag, the mode would be detach by default, explicitly passing an empty mode can force using last used dock state.\n\n# contents.closeDevTools()\n\n关闭开发者工具。\n\n# contents.isDevToolsOpened()\n\n返回Boolean - 开发者工具是否处于开启状态。\n\n# contents.isDevToolsFocused()\n\n返回Boolean - 开发者工具是否处于当前执行状态。\n\n# contents.toggleDevTools()\n\n切换开发工具\n\n# contents.inspectElement(x, y)\n\n * x Integer\n * y Integer\n\n开始检查位于(x, y) 的元素。\n\n# contents.inspectSharedWorker()\n\nOpens the developer tools for the shared worker context.\n\n# contents.inspectSharedWorkerById(workerId)\n\n * workerId String\n\nInspects the shared worker based on its ID.\n\n# contents.getAllSharedWorkers()\n\nReturns SharedWorkerInfo[] - Information about all Shared Workers.\n\n# contents.inspectServiceWorker()\n\nOpens the developer tools for the service worker context.\n\n# contents.send(channel, ...args)\n\n * channel String\n * ...args any[]\n\nSend an asynchronous message to the renderer process via channel, along with arguments. 参数将使用 Structured Clone Algorithm进行序列化，就像 postMessage,因此原型链将不会包含在内。 发送 Functions, Promises, Symbols, WeakMaps, 或 WeakSets 将抛出异常\n\n> NOTE: Sending non-standard JavaScript types such as DOM objects or special Electron objects will throw an exception.\n\nThe renderer process can handle the message by listening to channel with the ipcRenderer module.\n\nAn example of sending messages from the main process to the renderer process:\n\n// 在主进程中.\nconst { app, BrowserWindow } = require('electron')\nlet win = null\n\napp.whenReady().then(() => {\n  win = new BrowserWindow({ width: 800, height: 600 })\n  win.loadURL(`file://${__dirname}/index.html`)\n  win.webContents.on('did-finish-load', () => {\n    win.webContents.send('ping', 'whoooooooh!')\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\x3c!-- index.html --\x3e\n<html>\n<body>\n  <script>\n    require('electron').ipcRenderer.on('ping', (event, message) => {\n      console.log(message) // Prints 'whoooooooh!'\n    })\n  <\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# contents.sendToFrame(frameId, channel, ...args)\n\n * frameId Integer | [number, number] - the ID of the frame to send to, or a pair of [processId, frameId] if the frame is in a different process to the main frame.\n * channel String\n * ...args any[]\n\nSend an asynchronous message to a specific frame in a renderer process via channel, along with arguments. Arguments will be serialized with the Structured Clone Algorithm, just like postMessage, so prototype chains will not be included. Sending Functions, Promises, Symbols, WeakMaps, or WeakSets will throw an exception.\n\n> 注意： 发送非标准的 JavaScript 类型，如DOM 对象或特殊Electron 对象将会抛出异常。\n\nThe renderer process can handle the message by listening to channel with the ipcRenderer module.\n\nIf you want to get the frameId of a given renderer context you should use the webFrame.routingId value. 如下:\n\n// In a renderer process\nconsole.log('My frameId is:', require('electron').webFrame.routingId)\n\n\n1\n2\n\n\nYou can also read frameId from all incoming IPC messages in the main process.\n\n// In the main process\nipcMain.on('ping', (event) => {\n  console.info('Message came from frameId:', event.frameId)\n})\n\n\n1\n2\n3\n4\n\n\n# contents.postMessage(channel, message, [transfer])\n\n * channel String\n * message any\n * transfer MessagePortMain[] (可选)\n\nSend a message to the renderer process, optionally transferring ownership of zero or more [MessagePortMain][] objects.\n\nThe transferred MessagePortMain objects will be available in the renderer process by accessing the ports property of the emitted event. When they arrive in the renderer, they will be native DOM MessagePort objects.\n\n例如：\n\n// Main process\nconst { port1, port2 } = new MessageChannelMain()\nwebContents.postMessage('port', { message: 'hello' }, [port1])\n\n// Renderer process\nipcRenderer.on('port', (e, msg) => {\n  const [port] = e.ports\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# contents.enableDeviceEmulation(parameters)\n\n * parameters Object\n   * screenPosition String - Specify the screen type to emulate (default: desktop):\n     * desktop - Desktop screen type.\n     * mobile - Mobile screen type.\n   * screenSize Size - Set the emulated screen size (screenPosition == mobile).\n   * viewPosition Point - Position the view on the screen (screenPosition == mobile) (default: { x: 0, y: 0 }).\n   * deviceScaleFactor Integer - Set the device scale factor (if zero defaults to original device scale factor) (default: 0).\n   * viewSize Size - Set the emulated view size (empty means no override)\n   * scale Float - Scale of emulated view inside available space (not in fit to view mode) (default: 1).\n\n允许设备模拟给定参数。\n\n# contents.disableDeviceEmulation()\n\n禁止webContents.enableDeviceEmulation允许的模拟设备\n\n# contents.sendInputEvent(inputEvent)\n\n * inputEvent MouseInputEvent | MouseWheelInputEvent | KeyboardInputEvent\n\nSends an input event to the page. Note: The BrowserWindow containing the contents needs to be focused for sendInputEvent() to work.\n\n# contents.beginFrameSubscription([onlyDirty ,]callback)\n\n * onlyDirty Boolean (可选) - 默认值为 false.\n * callback Function\n   * image NativeImage\n   * dirtyRect Rectangle\n\nBegin subscribing for presentation events and captured frames, the callback will be called with callback(image, dirtyRect) when there is a presentation event.\n\nThe image is an instance of NativeImage that stores the captured frame.\n\nThe dirtyRect is an object with x, y, width, height properties that describes which part of the page was repainted. If onlyDirty is set to true, image will only contain the repainted area. onlyDirty defaults to false.\n\n# contents.endFrameSubscription()\n\nEnd subscribing for frame presentation events.\n\n# contents.startDrag(item)\n\n * item Object\n   * file String - The path to the file being dragged.\n   * files String[] (optional) - The paths to the files being dragged. (files will override file field)\n   * icon NativeImage | String - The image must be non-empty on macOS.\n\nSets the item as dragging item for current drag-drop operation, file is the absolute path of the file to be dragged, and icon is the image showing under the cursor when dragging.\n\n# contents.savePage(fullPath, saveType)\n\n * fullPath String - The full file path.\n * saveType String - Specify the save type.\n   * HTMLOnly - Save only the HTML of the page.\n   * HTMLComplete - Save complete-html page.\n   * MHTML - Save complete-html page as MHTML.\n\nReturns Promise<void> - resolves if the page is saved.\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow()\n\nwin.loadURL('https://github.com')\n\nwin.webContents.on('did-finish-load', async () => {\n  win.webContents.savePage('/tmp/test.html', 'HTMLComplete').then(() => {\n    console.log('Page was saved successfully.')\n  }).catch(err => {\n    console.log(err)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# contents.showDefinitionForSelection() macOS\n\nShows pop-up dictionary that searches the selected word on the page.\n\n# contents.isOffscreen()\n\nReturns Boolean - Indicates whether offscreen rendering is enabled.\n\n# contents.startPainting()\n\nIf offscreen rendering is enabled and not painting, start painting.\n\n# contents.stopPainting()\n\nIf offscreen rendering is enabled and painting, stop painting.\n\n# contents.isPainting()\n\nReturns Boolean - If offscreen rendering is enabled returns whether it is currently painting.\n\n# contents.setFrameRate(fps)\n\n * fps Integer\n\nIf offscreen rendering is enabled sets the frame rate to the specified number. Only values between 1 and 240 are accepted.\n\n# contents.getFrameRate()\n\nReturns Integer - If offscreen rendering is enabled returns the current frame rate.\n\n# contents.invalidate()\n\nSchedules a full repaint of the window this web contents is in.\n\nIf offscreen rendering is enabled invalidates the frame and generates a new one through the 'paint' event.\n\n# contents.getWebRTCIPHandlingPolicy()\n\nReturns String - Returns the WebRTC IP Handling Policy.\n\n# contents.setWebRTCIPHandlingPolicy(policy)\n\n * policy String - Specify the WebRTC IP Handling Policy.\n   * default - Exposes user's public and local IPs. This is the default behavior. When this policy is used, WebRTC has the right to enumerate all interfaces and bind them to discover public interfaces.\n   * default_public_interface_only - Exposes user's public IP, but does not expose user's local IP. When this policy is used, WebRTC should only use the default route used by http. This doesn't expose any local addresses.\n   * default_public_and_private_interfaces - Exposes user's public and local IPs. When this policy is used, WebRTC should only use the default route used by http. This also exposes the associated default private address. Default route is the route chosen by the OS on a multi-homed endpoint.\n   * disable_non_proxied_udp - Does not expose public or local IPs. When this policy is used, WebRTC should only use TCP to contact peers or servers unless the proxy server supports UDP.\n\nSetting the WebRTC IP handling policy allows you to control which IPs are exposed via WebRTC. See BrowserLeaks for more details.\n\n# contents.getOSProcessId()\n\nReturns Integer - The operating system pid of the associated renderer process.\n\n# contents.getProcessId()\n\nReturns Integer - The Chromium internal pid of the associated renderer. Can be compared to the frameProcessId passed by frame specific navigation events (e.g. did-frame-navigate)\n\n# contents.takeHeapSnapshot(filePath)\n\n * filePath String - 输出文件路径\n\n返回 Promise<void> - 指明快捷方式是否被成功创建。\n\n获取V8堆快照并保存到 filePath\n\n# contents.getBackgroundThrottling()\n\nReturns Boolean - whether or not this WebContents will throttle animations and timers when the page becomes backgrounded. This also affects the Page Visibility API.\n\n# contents.setBackgroundThrottling(allowed)\n\n * allowed Boolean\n\nControls whether or not this WebContents will throttle animations and timers when the page becomes backgrounded. This also affects the Page Visibility API.\n\n# contents.getType()\n\nReturns String - the type of the webContent. Can be backgroundPage, window, browserView, remote, webview or offscreen.\n\n# contents.setImageAnimationPolicy(policy)\n\n * policy String - 可以是 animate, animateOnce 或 noAnimation.\n\nSets the image animation policy for this webContents. The policy only affects new images, existing images that are currently being animated are unaffected. This is a known limitation in Chromium, you can force image animation to be recalculated with img.src = img.src which will result in no network traffic but will update the animation policy.\n\nThis corresponds to the animationPolicy accessibility feature in Chromium.\n\n\n# 实例属性\n\n# contents.audioMuted\n\nA Boolean property that determines whether this page is muted.\n\n# contents.userAgent\n\nA String property that determines the user agent for this web page.\n\n# contents.zoomLevel\n\nA Number property that determines the zoom level for this web contents.\n\nThe original size is 0 and each increment above or below represents zooming 20% larger or smaller to default limits of 300% and 50% of original size, respectively. The formula for this is scale := 1.2 ^ level.\n\n# contents.zoomFactor\n\nA Number property that determines the zoom factor for this web contents.\n\nThe zoom factor is the zoom percent divided by 100, so 300% = 3.0.\n\n# contents.frameRate\n\nAn Integer property that sets the frame rate of the web contents to the specified number. Only values between 1 and 240 are accepted.\n\nOnly applicable if offscreen rendering is enabled.\n\n# contents.id 只读\n\nInteger类型，代表WebContents的唯一标识（unique ID）。 每个ID在整个Electron应用程序的所有 WebContents 实例中都是唯一的。\n\n# contents.session 只读\n\nA Session used by this webContents.\n\n# contents.hostWebContents 只读\n\nA WebContents instance that might own this WebContents.\n\n# contents.devToolsWebContents 只读\n\nA WebContents | null property that represents the of DevTools WebContents associated with a given WebContents.\n\nNote: Users should never store this object because it may become null when the DevTools has been closed.\n\n# contents.debugger 只读\n\nA Debugger instance for this webContents.\n\n# contents.backgroundThrottling\n\nA Boolean property that determines whether or not this WebContents will throttle animations and timers when the page becomes backgrounded. This also affects the Page Visibility API.\n\n# contents.mainFrame 只读\n\nA WebFrameMain property that represents the top frame of the page's frame hierarchy.",normalizedContent:"# webcontents\n\n> 渲染以及控制 web 页面\n\n进程：主进程\n\nwebcontents是一个eventemitter. 负责渲染和控制网页, 是 browserwindow 对象的一个属性。 这是一个访问 webcontents 对象的例子:\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow({ width: 800, height: 1500 })\nwin.loadurl('http://github.com')\n\nconst contents = win.webcontents\nconsole.log(contents)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 方法\n\n通过webcontents模块可以访问以下方法：\n\nconst { webcontents } = require('electron')\nconsole.log(webcontents)\n\n\n1\n2\n\n\n\n# webcontents.getallwebcontents()\n\n返回 webcontents[] - 所有 webcontents 实例的数组。 包含所有windows，webviews，opened devtools 和 devtools 扩展背景页的 web 内容\n\n\n# webcontents.getfocusedwebcontents()\n\nreturns webcontents - 此 app 中焦点的 web 内容，否则返回 null。\n\n\n# webcontents.fromid(id)\n\n * id integer\n\nreturns webcontents | undefined - a webcontents instance with the given id, or undefined if there is no webcontents associated with the given id.\n\n\n# webcontents.fromdevtoolstargetid(targetid)\n\n * targetid string - the chrome devtools protocol targetid associated with the webcontents instance.\n\nreturns webcontents | undefined - a webcontents instance with the given targetid, or undefined if there is no webcontents associated with the given targetid.\n\nwhen communicating with the chrome devtools protocol, it can be useful to lookup a webcontents instance based on its assigned targetid.\n\nasync function lookuptargetid (browserwindow) {\n  const wc = browserwindow.webcontents\n  await wc.debugger.attach('1.3')\n  const { targetinfo } = await wc.debugger.sendcommand('target.gettargetinfo')\n  const { targetid } = targetinfo\n  const targetwebcontents = await webcontents.fromdevtoolstargetid(targetid)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 类: webcontents\n\n> 渲染和控制 browserwindow 实例的内容。\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n\n# 实例事件\n\n# event: 'did-finish-load'\n\n导航完成时触发，即选项卡的旋转器将停止旋转，并指派onload事件后。\n\n# event: 'did-fail-load'\n\n返回:\n\n * event event\n * errorcode integer\n * errordescription string\n * validatedurl string\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\n这个事件类似于 did-finish-load ，只不过是在加载失败之后触发。 完整的错误码列表以及含义，请看这\n\n# event: 'did-fail-provisional-load'\n\n返回:\n\n * event event\n * errorcode integer\n * errordescription string\n * validatedurl string\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\n这个事件类似于 did-finish-load，只不过是在加载失败或取消加载之后触发，例如调用 window.stop() 。\n\n# event: 'did-frame-finish-load'\n\n返回:\n\n * event event\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\n当框架完成导航（navigation）时触发\n\n# event: 'did-start-loading'\n\n当tab中的旋转指针（spinner）开始旋转时，就会触发该事件。\n\n# event: 'did-stop-loading'\n\n当tab中的旋转指针（spinner）结束旋转时，就会触发该事件。\n\n# 事件: 'dom-ready'\n\n返回:\n\n * event event\n\nemitted when the document in the top-level frame is loaded.\n\n# 事件： 'page-title-updated'\n\n返回:\n\n * event event\n * title string\n * explicitset boolean\n\nfired when page title is set during navigation. explicitset is false when title is synthesized from file url.\n\n# 事件: 'page-favicon-updated'\n\n返回:\n\n * event event\n * favicons string[] - 由连接组成的数组。\n\n当页面获取到favicon的连接时，触发该事件。\n\n# event: 'new-window' deprecated\n\n返回:\n\n * event newwindowwebcontentsevent\n * url string\n * framename string\n * disposition string - 可以被设置为 default, foreground-tab, background-tab, new-window, save-to-disk 及 other.\n * options browserwindowconstructoroptions - 用于创建新的 browserwindow.\n * additionalfeatures string[] - 非标准功能(非标准功能是指这些功能不是由chromium或electron处理的功能)，这些功能默认指向window.open(). deprecated, and will now always be the empty array [].\n * referrer referrer - the referrer that will be passed to the new window. may or may not result in the referer header being sent, depending on the referrer policy.\n * postbody postbody (optional) - the post data that will be sent to the new window, along with the appropriate headers that will be set. if no post data is to be sent, the value will be null. only defined when the window is being created by a form that set target=_blank.\n\n已弃用：webcontents.setwindowopenhandler。\n\nemitted when the page requests to open a new window for a url. it could be requested by window.open or an external link like <a target='_blank'>.\n\n默认情况下, 将为 url 创建新的 browserwindow。\n\n调用event.preventdefault()事件，可以阻止electron自动创建新的browserwindow实例。 调用event.preventdefault() 事件后，你还可以手动创建新的browserwindow实例，不过接下来你必须用event.newguest方法来引用browserwindow实例，如果你不这样做，则可能会产生异常。 例如：\n\nmybrowserwindow.webcontents.on('new-window', (event, url, framename, disposition, options, additionalfeatures, referrer, postbody) => {\n  event.preventdefault()\n  const win = new browserwindow({\n    webcontents: options.webcontents, // use existing webcontents if provided\n    show: false\n  })\n  win.once('ready-to-show', () => win.show())\n  if (!options.webcontents) {\n    const loadoptions = {\n      httpreferrer: referrer\n    }\n    if (postbody != null) {\n      const { data, contenttype, boundary } = postbody\n      loadoptions.postdata = postbody.data\n      loadoptions.extraheaders = `content-type: ${contenttype}; boundary=${boundary}`\n    }\n\n    win.loadurl(url, loadoptions) // existing webcontents will be navigated automatically\n  }\n  event.newguest = win\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# event: 'did-create-window'\n\n返回:\n\n * window browserwindow\n * details object\n   * url string - url for the created window.\n   * framename string - name given to the created window in the window.open() call.\n   * options browserwindowconstructoroptions - the options used to create the browserwindow. they are merged in increasing precedence: parsed options from the features string from window.open(), security-related webpreferences inherited from the parent, and options given by webcontents.setwindowopenhandler. unrecognized options are not filtered out.\n   * referrer referrer - the referrer that will be passed to the new window. may or may not result in the referer header being sent, depending on the referrer policy.\n   * postbody postbody (optional) - the post data that will be sent to the new window, along with the appropriate headers that will be set. if no post data is to be sent, the value will be null. only defined when the window is being created by a form that set target=_blank.\n   * disposition string - can be default, foreground-tab, background-tab, new-window, save-to-disk and other.\n\nemitted after successful creation of a window via window.open in the renderer. not emitted if the creation of the window is canceled from webcontents.setwindowopenhandler.\n\nsee window.open() for more details and how to use this in conjunction with webcontents.setwindowopenhandler.\n\n# event: 'will-navigate'\n\n返回:\n\n * event event\n * url string\n\nemitted when a user or the page wants to start navigation. it can happen when the window.location object is changed or a user clicks a link in the page.\n\nthis event will not emit when the navigation is started programmatically with apis like webcontents.loadurl and webcontents.back.\n\nit is also not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. use did-navigate-in-page event for this purpose.\n\n调用event.preventdefault()将阻止导航。\n\n# event: 'did-start-navigation'\n\n返回:\n\n * event event\n * url string\n * isinplace boolean\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\nemitted when any frame (including main) starts navigating. isinplace will be true for in-page navigations.\n\n# event: 'will-redirect'\n\n返回:\n\n * event event\n * url string\n * isinplace boolean\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\nemitted as a server side redirect occurs during navigation. for example a 302 redirect.\n\nthis event will be emitted after did-start-navigation and always before the did-redirect-navigation event for the same navigation.\n\ncalling event.preventdefault() will prevent the navigation (not just the redirect).\n\n# event: 'did-redirect-navigation'\n\n返回:\n\n * event event\n * url string\n * isinplace boolean\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\nemitted after a server side redirect occurs during navigation. for example a 302 redirect.\n\nthis event cannot be prevented, if you want to prevent redirects you should checkout out the will-redirect event above.\n\n# event: 'did-navigate'\n\n返回:\n\n * event event\n * url string\n * httpresponsecode integer - -1 for non http navigations\n * httpstatustext string - empty for non http navigations\n\nemitted when a main frame navigation is done.\n\nthis event is not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. use did-navigate-in-page event for this purpose.\n\n# event: 'did-frame-navigate'\n\n返回:\n\n * event event\n * url string\n * httpresponsecode integer - -1 for non http navigations\n * httpstatustext string - empty for non http navigations,\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\nemitted when any frame navigation is done.\n\nthis event is not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. use did-navigate-in-page event for this purpose.\n\n# event: 'did-navigate-in-page'\n\n返回:\n\n * event event\n * url string\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\nemitted when an in-page navigation happened in any frame.\n\n当发生页内导航时，虽然页面地址发生变化，但它并没有导航到其它页面。 例如，点击锚点链接，或者dom的 hashchange事件被触发时，都会触发该事件。\n\n# event: 'will-prevent-unload'\n\n返回:\n\n * event event\n\nemitted when a beforeunload event handler is attempting to cancel a page unload.\n\ncalling event.preventdefault() will ignore the beforeunload event handler and allow the page to be unloaded.\n\nconst { browserwindow, dialog } = require('electron')\nconst win = new browserwindow({ width: 800, height: 600 })\nwin.webcontents.on('will-prevent-unload', (event) => {\n  const choice = dialog.showmessageboxsync(win, {\n    type: 'question',\n    buttons: ['leave', 'stay'],\n    title: 'do you want to leave this site?',\n    message: 'changes you made may not be saved.',\n    defaultid: 0,\n    cancelid: 1\n  })\n  const leave = (choice === 0)\n  if (leave) {\n    event.preventdefault()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nnote: this will be emitted for browserviews but will not be respected - this is because we have chosen not to tie the browserview lifecycle to its owning browserwindow should one exist per the specification.\n\n# event: 'crashed' deprecated\n\n返回:\n\n * event event\n * killed boolean\n\n当渲染进程崩溃或被结束时触发\n\n已废弃： 此事件被包含更多关于渲染过程为何消失的信息的 render-process-gone 事件替代了 并不总是因为崩溃而触发。 当你换用child-process-gone事件时，原事件的 killed 布尔值可以被 reason === 'killed' 取代。\n\n# 事件: 'render-process-gone'\n\n返回:\n\n * event event\n * details object\n   * reason string - 渲染进程消失的原因。 可选值：\n     * clean-exit - 以零为退出代码退出的进程\n     * abnormal-exit - 以非零退出代码退出的进程\n     * killed - 进程发送一个sigterm，否则是被外部杀死的。\n     * crashed - 进程崩溃\n     * oom - 进程内存不足\n     * launch-failed - 进程从未成功启动\n     * integrity-failure - 窗口代码完整性检查失败\n   * exitcode integer - 进程的退出代码，除非在 reason 是 launch-failed 的情况下， exitcode 将是一个平台特定的启动失败错误代码。\n\n渲染器进程意外消失时触发。 这种情况通常因为进程崩溃或被杀死。\n\n# 事件: 'unresponsive'\n\n网页变得未响应时触发\n\n# 事件: 'responsive'\n\n未响应的页面变成响应时触发\n\n# event: 'plugin-crashed'\n\n返回:\n\n * event event\n * name string\n * version string\n\n当有插件进程崩溃时触发\n\n# event: 'destroyed'\n\n当webcontents被销毁时，触发该事件。\n\n# event: 'before-input-event'\n\n返回:\n\n * event event\n * input object - input properties.\n   * type string - 可以是 keyup ，或者 keydown.\n   * key string - 等同于 keyboardevent.key.\n   * code string - 等同于 keyboardevent. code .\n   * isautorepeat string - 等同于 keyboardevent. repeat .\n   * iscomposing boolean - equivalent to keyboardevent.iscomposing.\n   * shift string - 等同于 keyboardevent.shiftkey .\n   * control string - 等同于 keyboardevent. controlkey .\n   * alt string - 等同于 keyboardevent. altkey .\n   * meta string - 等同于 keyboardevent. metakey .\n   * location number - equivalent to keyboardevent.location.\n   * modifiers string[] - see inputevent.modifiers.\n\nemitted before dispatching the keydown and keyup events in the page. calling event.preventdefault will prevent the page keydown/keyup events and the menu shortcuts.\n\nto only prevent the menu shortcuts, use setignoremenushortcuts:\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow({ width: 800, height: 600 })\n\nwin.webcontents.on('before-input-event', (event, input) => {\n  // for example, only enable application menu keyboard shortcuts when\n  // ctrl/cmd are down.\n  win.webcontents.setignoremenushortcuts(!input.control && !input.meta)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 事件: 'enter-html-full-screen'\n\n窗口进入由html api 触发的全屏状态时触发\n\n# 事件: 'leave-html-full-screen'\n\n窗口离开由html api触发的全屏状态时触发\n\n# event: 'zoom-changed'\n\n返回:\n\n * event event\n * zoomdirection string - can be in or out.\n\nemitted when the user is requesting to change the zoom level using the mouse wheel.\n\n# event: 'devtools-opened'\n\n当开发者工具被打开时，触发该事件。\n\n# event: 'devtools-closed'\n\n当开发者工具被关闭时，触发该事件。\n\n# event: 'devtools-focused'\n\n当开发者工具被选中/打开时，触发该事件。\n\n# 事件: 'certificate-error'\n\n返回:\n\n * event event\n * url string\n * error string - the error code.\n * certificate 证书\n * callback function\n   * istrusted boolean - 用于显示证书是否可信。\n * ismainframe boolean\n\n证书的链接验证失败时，触发该事件。\n\n使用方式与app的certificate-error的事件相同。\n\n# 事件: 'select-client-certificate'\n\n返回:\n\n * event event\n * url url\n * certificatelist 证书[]\n * callback function\n   * certificate certificate - must be a certificate from the given list.\n\n当一个客户证书被请求的时候发出。\n\n使用方式与app的select-client-certificate的事件相同。\n\n# 事件: \"login\"\n\n返回:\n\n * event event\n * authenticationresponsedetails object\n   * url url\n * authinfo object\n   * isproxy boolean\n   * scheme string\n   * host string\n   * port integer\n   * realm string\n * callback function\n   * username string (可选)\n   * password string (可选)\n\n当 webcontents 要进行基本身份验证时触发。\n\n使用方式与app的login的事件相同。\n\n# event: 'found-in-page'\n\n返回:\n\n * event event\n * result object\n   * requestid integer\n   * activematchordinal integer - 当前匹配位置。\n   * matches integer - 符合匹配条件的元素个数。\n   * selectionarea rectangle - coordinates of first match region.\n   * finalupdate boolean\n\n如果调用[webcontents.findinpage]有返回时，会触发这一事件。\n\n# event: 'media-started-playing'\n\n多媒体开始播放时，触发该事件。\n\n# event: 'media-paused'\n\n当媒体文件暂停或播放完成的时候触发\n\n# event: 'did-change-theme-color'\n\n返回:\n\n * event event\n * color (string | null) - theme color is in format of '#rrggbb'. it is null when no theme color is set.\n\nemitted when a page's theme color changes. this is usually due to encountering a meta tag:\n\n<meta name='theme-color' content='#ff0000'>\n\n\n1\n\n\n# event: 'update-target-url'\n\n返回:\n\n * event event\n * url string\n\n当鼠标滑到，或者键盘切换到a连接时，触发该事件。\n\n# event: 'cursor-changed'\n\n返回:\n\n * event event\n * type string\n * image nativeimage (可选)\n * scale float (optional) - scaling factor for the custom cursor.\n * size size (可选) - image大小。\n * hotspot point (optional) - coordinates of the custom cursor's hotspot.\n\n当鼠标指针改变的时候触发。 type参数值包含：default, crosshair, pointer, text, wait, help, e-resize, n-resize, ne-resize, nw-resize, s-resize, se-resize, sw-resize, w-resize, ns-resize, ew-resize, nesw-resize, nwse-resize, col-resize, row-resize, m-panning, e-panning, n-panning, ne-panning, nw-panning, s-panning, se-panning, sw-panning, w-panning, move, vertical-text, cell, context-menu, alias, progress, nodrop, copy, none, not-allowed, zoom-in, zoom-out, grab, grabbing 或 custom.\n\nif the type parameter is custom, the image parameter will hold the custom cursor image in a nativeimage, and scale, size and hotspot will hold additional information about the custom cursor.\n\n# event: 'context-menu'\n\n返回:\n\n * event event\n * params object\n   * x integer - x 坐标。\n   * y integer - y 坐标。\n   * frame webframemain - frame from which the context menu was invoked.\n   * linkurl string - url of the link that encloses the node the context menu was invoked on.\n   * linktext string - text associated with the link. may be an empty string if the contents of the link are an image.\n   * pageurl string - url of the top level page that the context menu was invoked on.\n   * frameurl string - url of the subframe that the context menu was invoked on.\n   * srcurl string - source url for the element that the context menu was invoked on. elements with source urls are images, audio and video.\n   * mediatype string - type of the node the context menu was invoked on. can be none, image, audio, video, canvas, file or plugin.\n   * hasimagecontents boolean - whether the context menu was invoked on an image which has non-empty contents.\n   * iseditable boolean - whether the context is editable.\n   * selectiontext string - text of the selection that the context menu was invoked on.\n   * titletext string - title text of the selection that the context menu was invoked on.\n   * alttext string - alt text of the selection that the context menu was invoked on.\n   * suggestedfilename string - suggested filename to be used when saving file through 'save link as' option of context menu.\n   * selectionrect rectangle - rect representing the coordinates in the document space of the selection.\n   * selectionstartoffset number - start position of the selection text.\n   * referrerpolicy referrer - the referrer policy of the frame on which the menu is invoked.\n   * misspelledword string - the misspelled word under the cursor, if any.\n   * dictionarysuggestions string[] - an array of suggested words to show the user to replace the misspelledword. only available if there is a misspelled word and spellchecker is enabled.\n   * framecharset string - the character encoding of the frame on which the menu was invoked.\n   * inputfieldtype string - if the context menu was invoked on an input field, the type of that field. possible values are none, plaintext, password, other.\n   * spellcheckenabled boolean - if the context is editable, whether or not spellchecking is enabled.\n   * menusourcetype string - input source that invoked the context menu. 可以是 none、mouse、keyboard、touch、touchmenu、longpress、longtap、touchhandle、stylus、adjustselection 或 adjustselectionreset。\n   * mediaflags object - the flags for the media element the context menu was invoked on.\n     * inerror boolean - whether the media element has crashed.\n     * ispaused boolean - whether the media element is paused.\n     * ismuted boolean - whether the media element is muted.\n     * hasaudio boolean - whether the media element has audio.\n     * islooping boolean - whether the media element is looping.\n     * iscontrolsvisible boolean - whether the media element's controls are visible.\n     * cantogglecontrols boolean - whether the media element's controls are toggleable.\n     * canprint boolean - whether the media element can be printed.\n     * cansave boolean - whether or not the media element can be downloaded.\n     * canshowpictureinpicture boolean - whether the media element can show picture-in-picture.\n     * isshowingpictureinpicture boolean - whether the media element is currently showing picture-in-picture.\n     * canrotate boolean - whether the media element can be rotated.\n     * canloop boolean - whether the media element can be looped.\n   * editflags object - these flags indicate whether the renderer believes it is able to perform the corresponding action.\n     * canundo boolean - whether the renderer believes it can undo.\n     * canredo boolean - whether the renderer believes it can redo.\n     * cancut boolean - whether the renderer believes it can cut.\n     * cancopy boolean - whether the renderer believes it can copy.\n     * canpaste boolean - whether the renderer believes it can paste.\n     * candelete boolean - whether the renderer believes it can delete.\n     * canselectall boolean - whether the renderer believes it can select all.\n     * caneditrichly boolean - whether the renderer believes it can edit text richly.\n\nemitted when there is a new context menu that needs to be handled.\n\n# 事件: 'select-bluetooth-device'\n\n返回:\n\n * event event\n * devices bluetoothdevice[]\n * callback function\n   * deviceid string 设备id\n\nemitted when bluetooth device needs to be selected on call to navigator.bluetooth.requestdevice. to use navigator.bluetooth api webbluetooth should be enabled. if event.preventdefault is not called, first available device will be selected. callback should be called with deviceid to be selected, passing empty string to callback will cancel the request.\n\nconst { app, browserwindow } = require('electron')\n\nlet win = null\napp.commandline.appendswitch('enable-experimental-web-platform-features')\n\napp.whenready().then(() => {\n  win = new browserwindow({ width: 800, height: 600 })\n  win.webcontents.on('select-bluetooth-device', (event, devicelist, callback) => {\n    event.preventdefault()\n    const result = devicelist.find((device) => {\n      return device.devicename === 'test'\n    })\n    if (!result) {\n      callback('')\n    } else {\n      callback(result.deviceid)\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# event: 'paint'\n\n返回:\n\n * event event\n * dirtyrect rectangle\n * image nativeimage - the image data of the whole frame.\n\nemitted when a new frame is generated. only the dirty area is passed in the buffer.\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow({ webpreferences: { offscreen: true } })\nwin.webcontents.on('paint', (event, dirty, image) => {\n  // updatebitmap(dirty, image.getbitmap())\n})\nwin.loadurl('http://github.com')\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# event: 'devtools-reload-page'\n\n当在开发者工具中命令webcontents重新加载时，触发该事件。\n\n# event: 'will-attach-webview'\n\n返回:\n\n * event event\n * webpreferences webpreferences - the web preferences that will be used by the guest page. this object can be modified to adjust the preferences for the guest page.\n * params record<string, string> - the other <webview> parameters such as the src url. this object can be modified to adjust the parameters of the guest page.\n\nemitted when a <webview>'s web contents is being attached to this web contents. calling event.preventdefault() will destroy the guest page.\n\nthis event can be used to configure webpreferences for the webcontents of a <webview> before it's loaded, and provides the ability to set settings that can't be set via <webview> attributes.\n\nnote: the specified preload script option will appear as preloadurl (not preload) in the webpreferences object emitted with this event.\n\n# event: 'did-attach-webview'\n\n返回:\n\n * event event\n * webcontents webcontents - the guest web contents that is used by the <webview>.\n\n当<webview>被挂载到页面内容中时，触发该事件。\n\n# event: 'console-message'\n\n返回:\n\n * event event\n * level integer - the log level, from 0 to 3. 按顺序匹配 verbose, info, warning 和 error.\n * message string - 实际控制台消息\n * line integer - the line number of the source that triggered this console message\n * sourceid string\n\nemitted when the associated window logs a console message.\n\n# event: 'preload-error'\n\n返回:\n\n * event event\n * preloadpath string\n * error error\n\nemitted when the preload script preloadpath throws an unhandled exception error.\n\n# event: 'ipc-message'\n\n返回:\n\n * event event\n * channel string\n * ...args any[]\n\nemitted when the renderer process sends an asynchronous message via ipcrenderer.send().\n\n# event: 'ipc-message-sync'\n\n返回:\n\n * event event\n * channel string\n * ...args any[]\n\nemitted when the renderer process sends a synchronous message via ipcrenderer.sendsync().\n\n# 事件: 'desktop-capturer-get-sources'\n\n返回:\n\n * event event\n\nemitted when desktopcapturer.getsources() is called in the renderer process. 调用 event.preventdefault() 将使它返回空的sources。\n\n# event: 'preferred-size-changed'\n\n返回:\n\n * event event\n * preferredsize size - the minimum size needed to contain the layout of the document—without requiring scrolling.\n\nemitted when the webcontents preferred size has changed.\n\nthis event will only be emitted when enablepreferredsizemode is set to true in webpreferences.\n\n# event: 'frame-created'\n\n返回:\n\n * event event\n * details object\n   * frame webframemain\n\nemitted when the mainframe, an <iframe>, or a nested <iframe> is loaded within the page.\n\n\n# 实例方法\n\n# contents.loadurl(url[, options])\n\n * url string\n * options object (可选)\n   * httpreferrer (string | referrer) (可选) - 一个 http referrer url。\n   * useragent string (可选) - 发起请求的 useragent.\n   * extraheaders string (optional) - extra headers separated by \"\\n\".\n   * postdata (uploadrawdata | uploadfile)[] (可选)\n   * baseurlfordataurl string (可选) - 要加载的数据文件的根 url(带有路径分隔符). 只有当指定的 url是一个数据 url 并需要加载其他文件时，才需要这样做。\n\nreturns promise<void> - the promise will resolve when the page has finished loading (see did-finish-load), and rejects if the page fails to load (see did-fail-load). a noop rejection handler is already attached, which avoids unhandled rejection errors.\n\nloads the url in the window. the url must contain the protocol prefix, e.g. the http:// or file://. if the load should bypass http cache then use the pragma header to achieve it.\n\nconst { webcontents } = require('electron')\nconst options = { extraheaders: 'pragma: no-cache\\n' }\nwebcontents.loadurl('https://github.com', options)\n\n\n1\n2\n3\n\n\n# contents.loadfile(filepath[, options])\n\n * filepath string\n * options object (可选)\n   * query record<string, string> (可选) - 传递给 url.format().\n   * search string (可选) - 传递给 url.format().\n   * hash string (可选) - 传递给 url.format().\n\n返回 promise<void> - 当页面完成加载后 promise 将会resolve (见 did-finish-load)，如果页面加载失败，则 reject (见 did-fail-load)。\n\nloads the given file in the window, filepath should be a path to an html file relative to the root of your application. for instance an app structure like this:\n\n| root\n| - package.json\n| - src\n|   - main.js\n|   - index.html\n\n\n1\n2\n3\n4\n5\n\n\n需要运行以下代码：\n\nwin.loadfile('src/index.html')\n\n\n1\n\n\n# contents.downloadurl(url)\n\n * url string\n\ninitiates a download of the resource at url without navigating. the will-download event of session will be triggered.\n\n# contents.geturl()\n\nreturns string - 当前页面的url.\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({ width: 800, height: 600 })\nwin.loadurl('http://github.com').then(() => {\n  const currenturl = win.webcontents.geturl()\n  console.log(currenturl)\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n# contents.gettitle()\n\n返回 string - 当前页面的标题.\n\n# contents.isdestroyed()\n\n返回 boolean -判断页面是否被销毁\n\n# contents.focus()\n\n页面聚焦\n\n# contents.isfocused()\n\n返回 boolean - 判断页面是否聚焦\n\n# contents.isloading()\n\n返回 boolean - 判断页面是否正在加载资源\n\n# contents.isloadingmainframe()\n\nreturns boolean - whether the main frame (and not just iframes or frames within it) is still loading.\n\n# contents.iswaitingforresponse()\n\nreturns boolean - whether the web page is waiting for a first-response from the main resource of the page.\n\n# contents.stop()\n\nstops any pending navigation.\n\n# contents.reload()\n\n刷新当前页面\n\n# contents.reloadignoringcache()\n\n忽略缓存强制刷新页面\n\n# contents.cangoback()\n\n返回boolean，是否可以返回到上一个页面\n\n# contents.cangoforward()\n\n返回boolean ，是否可以进入下一个页面\n\n# contents.cangotooffset(offset)\n\n * offset integer\n\nreturns boolean - whether the web page can go to offset.\n\n# contents.clearhistory()\n\n清除定位历史。\n\n# contents.goback()\n\n使浏览器回退到上一个页面。\n\n# contents.goforward()\n\n使浏览器前进到下一个页面。\n\n# contents.gotoindex(index)\n\n * index integer\n\nnavigates browser to the specified absolute web page index.\n\n# contents.gotooffset(offset)\n\n * offset integer\n\n定位到相对于“当前入口”的指定的偏移。\n\n# contents.iscrashed()\n\nreturns boolean - whether the renderer process has crashed.\n\n# contents.forcefullycrashrenderer()\n\nforcefully terminates the renderer process that is currently hosting this webcontents. this will cause the render-process-gone event to be emitted with the reason=killed || reason=crashed. please note that some webcontents share renderer processes and therefore calling this method may also crash the host process for other webcontents as well.\n\ncalling reload() immediately after calling this method will force the reload to occur in a new process. this should be used when this process is unstable or unusable, for instance in order to recover from the unresponsive event.\n\ncontents.on('unresponsive', async () => {\n  const { response } = await dialog.showmessagebox({\n    message: 'app x has become unresponsive',\n    title: 'do you want to try forcefully reloading the app?',\n    buttons: ['ok', 'cancel'],\n    cancelid: 1\n  })\n  if (response === 0) {\n    contents.forcefullycrashrenderer()\n    contents.reload()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# contents.setuseragent(useragent)\n\n * useragent string\n\n重写该页面的user agent\n\n# contents.getuseragent()\n\n返回 string - 当前页面的user agent.\n\n# contents.insertcss(css[, options])\n\n * css string\n * options object (可选)\n   * cssorigin string (optional) - can be either 'user' or 'author'; specifying 'user' enables you to prevent websites from overriding the css you insert. default is 'author'.\n\nreturns promise<string> - a promise that resolves with a key for the inserted css that can later be used to remove the css via contents.removeinsertedcss(key).\n\ninjects css into the current web page and returns a unique key for the inserted stylesheet.\n\ncontents.on('did-finish-load', () => {\n  contents.insertcss('html, body { background-color: #f00; }')\n})\n\n\n1\n2\n3\n\n\n# contents.removeinsertedcss(key)\n\n * key string\n\nreturns promise<void> - resolves if the removal was successful.\n\nremoves the inserted css from the current web page. the stylesheet is identified by its key, which is returned from contents.insertcss(css).\n\ncontents.on('did-finish-load', async () => {\n  const key = await contents.insertcss('html, body { background-color: #f00; }')\n  contents.removeinsertedcss(key)\n})\n\n\n1\n2\n3\n4\n\n\n# contents.executejavascript(code[, usergesture])\n\n * code string\n * usergesture boolean (optional) - default is false.\n\nreturns promise<any> - a promise that resolves with the result of the executed code or is rejected if the result of the code is a rejected promise.\n\n在页面中执行 code。\n\n在浏览器窗口中，一些html api（如requestfullscreen）只能是 由来自用户的手势调用。 将 usergesture 设置为 true 将删除此限制。\n\ncode execution will be suspended until web page stop loading.\n\ncontents.executejavascript('fetch(\"https://jsonplaceholder.typicode.com/users/1\").then(resp => resp.json())', true)\n  .then((result) => {\n    console.log(result) // will be the json object from the fetch call\n  })\n\n\n1\n2\n3\n4\n\n\n# contents.executejavascriptinisolatedworld(worldid, scripts[, usergesture])\n\n * worldid integer - the id of the world to run the javascript in, 0 is the default world, 999 is the world used by electron's contextisolation feature. you can provide any integer here.\n * scripts websource[]\n * usergesture boolean (optional) - default is false.\n\nreturns promise<any> - a promise that resolves with the result of the executed code or is rejected if the result of the code is a rejected promise.\n\nworks like executejavascript but evaluates scripts in an isolated context.\n\n# contents.setignoremenushortcuts(ignore)\n\n * ignore boolean\n\nignore application menu shortcuts while this web contents is focused.\n\n# contents.setwindowopenhandler(handler)\n\n * handler 函数<{action: 'deny'} | {action: 'allow', overridebrowserwindowoptions?: browserwindowconstructoroptions}>\n   \n   * details object\n     * url string - the resolved version of the url passed to window.open(). e.g. opening a window with window.open('foo') will yield something like https://the-origin/the/current/path/foo.\n     * framename string - name of the window provided in window.open()\n     * features string - comma separated list of window features provided to window.open().\n     * disposition string - can be default, foreground-tab, background-tab, new-window, save-to-disk or other.\n     * referrer referrer - the referrer that will be passed to the new window. may or may not result in the referer header being sent, depending on the referrer policy.\n     * postbody postbody (optional) - the post data that will be sent to the new window, along with the appropriate headers that will be set. if no post data is to be sent, the value will be null. only defined when the window is being created by a form that set target=_blank.\n   \n   returns {action: 'deny'} | {action: 'allow', overridebrowserwindowoptions?: browserwindowconstructoroptions} - deny cancels the creation of the new window. allow will allow the new window to be created. specifying overridebrowserwindowoptions allows customization of the created window. returning an unrecognized value such as a null, undefined, or an object without a recognized 'action' value will result in a console error and have the same effect as returning {action: 'deny'}.\n\ncalled before creating a window a new window is requested by the renderer, e.g. by window.open(), a link with target=\"_blank\", shift+clicking on a link, or submitting a form with <form target=\"_blank\">. see window.open() for more details and how to use this in conjunction with did-create-window.\n\n# contents.setaudiomuted(muted)\n\n * muted boolean\n\n使当前页面音频静音\n\n# contents.isaudiomuted()\n\n返回 boolean -判断页面是否被静音\n\n# contents.iscurrentlyaudible()\n\nreturns boolean - whether audio is currently playing.\n\n# contents.setzoomfactor(factor)\n\n * factor double - zoom factor; default is 1.0.\n\nchanges the zoom factor to the specified factor. zoom factor is zoom percent divided by 100, so 300% = 3.0.\n\nthe factor must be greater than 0.0.\n\n# contents.getzoomfactor()\n\nreturns number - the current zoom factor.\n\n# contents.setzoomlevel(level)\n\n * level number - 缩放等级。\n\n更改缩放等级。 the original size is 0 and each increment above or below represents zooming 20% larger or smaller to default limits of 300% and 50% of original size, respectively. the formula for this is scale := 1.2 ^ level.\n\n> note: the zoom policy at the chromium level is same-origin, meaning that the zoom level for a specific domain propagates across all instances of windows with the same domain. differentiating the window urls will make zoom work per-window.\n\n# contents.getzoomlevel()\n\nreturns number - the current zoom level.\n\n# contents.setvisualzoomlevellimits(minimumlevel, maximumlevel)\n\n * minimumlevel number\n * maximumlevel number\n\n返回 promise<void>\n\n设置最大和最小缩放级别。\n\n> note: visual zoom is disabled by default in electron. to re-enable it, call:\n> \n> contents.setvisualzoomlevellimits(1, 3)\n> \n> \n> 1\n\n# contents.undo()\n\n在页面中执行undo编辑命令。\n\n# contents.redo()\n\n在页面中执行redo编辑命令。\n\n# contents.cut()\n\n在页面中执行cut编辑命令。\n\n# contents.copy()\n\n在页面中执行copy编辑命令。\n\n# contents.copyimageat(x, y)\n\n * x integer\n * y integer\n\ncopy the image at the given position to the clipboard.\n\n# contents.paste()\n\n在页面中执行paste编辑命令。\n\n# contents.pasteandmatchstyle()\n\n在页面中执行pasteandmatchstyle编辑命令。\n\n# contents.delete()\n\n在页面中执行delete编辑命令。\n\n# contents.selectall()\n\n在页面中执行selectall编辑命令。\n\n# contents.unselect()\n\n在页面中执行unselect编辑命令。\n\n# contents.replace(text)\n\n * text string\n\n在页面中执行replace编辑命令。\n\n# contents.replacemisspelling(text)\n\n * text string\n\n在页面中执行replacemisspelling编辑命令。\n\n# contents.inserttext(text)\n\n * text string\n\n返回 promise<void>\n\n插入text 到焦点元素\n\n# contents.findinpage(text[, options])\n\n * text string - 要搜索的内容，必须非空。\n * options object (可选)\n   * forward boolean (可选) -向前或向后搜索，默认为 true。\n   * findnext boolean (可选) - 是否使用此请求开始一个新的文本查找会话。 对于初始请求应该为 true ，对后续请求为 false 。 默认值为 false.\n   * matchcase boolean (optional) - whether search should be case-sensitive, defaults to false.\n\nreturns integer - the request id used for the request.\n\nstarts a request to find all matches for the text in the web page. the result of the request can be obtained by subscribing to found-in-page event.\n\n# contents.stopfindinpage(action)\n\n * action string - specifies the action to take place when ending [webcontents.findinpage] request.\n   * clearselection - clear the selection.\n   * keepselection - translate the selection into a normal selection.\n   * activateselection - focus and click the selection node.\n\nstops any findinpage request for the webcontents with the provided action.\n\nconst { webcontents } = require('electron')\nwebcontents.on('found-in-page', (event, result) => {\n  if (result.finalupdate) webcontents.stopfindinpage('clearselection')\n})\n\nconst requestid = webcontents.findinpage('api')\nconsole.log(requestid)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# contents.capturepage([rect])\n\n * rect rectangle (optional) - the area of the page to be captured.\n\n返回 promise<nativeimage> - 完成后返回一个nativeimage\n\n在 rect内捕获页面的快照。 省略 rect 将捕获整个可见页面。\n\n# contents.isbeingcaptured()\n\nreturns boolean - whether this page is being captured. it returns true when the capturer count is large then 0.\n\n# contents.incrementcapturercount([size, stayhidden, stayawake])\n\n * size size (optional) - the preferred size for the capturer.\n * stayhidden boolean (optional) - keep the page hidden instead of visible.\n * stayawake boolean (optional) - keep the system awake instead of allowing it to sleep.\n\nincrease the capturer count by one. the page is considered visible when its browser window is hidden and the capturer count is non-zero. if you would like the page to stay hidden, you should ensure that stayhidden is set to true.\n\nthis also affects the page visibility api.\n\n# contents.decrementcapturercount([stayhidden, stayawake])\n\n * stayhidden boolean (optional) - keep the page in hidden state instead of visible.\n * stayawake boolean (optional) - keep the system awake instead of allowing it to sleep.\n\ndecrease the capturer count by one. the page will be set to hidden or occluded state when its browser window is hidden or occluded and the capturer count reaches zero. if you want to decrease the hidden capturer count instead you should set stayhidden to true.\n\n# contents.getprinters()\n\n获取系统打印机列表\n\n返回 printerinfo[]\n\n# contents.print([options], [callback])\n\n * options object (可选)\n   * silent boolean (optional) - don't ask user for print settings. 默认值为 false.\n   * printbackground boolean (optional) - prints the background color and image of the web page. 默认值为 false.\n   * devicename string (optional) - set the printer device name to use. must be the system-defined name and not the 'friendly' name, e.g 'brother_ql_820nwb' and not 'brother ql-820nwb'.\n   * color boolean (optional) - set whether the printed web page will be in color or grayscale. 默认值为 true。\n   * margins object (可选)\n     * margintype string (optional) - can be default, none, printablearea, or custom. if custom is chosen, you will also need to specify top, bottom, left, and right.\n     * top number (optional) - the top margin of the printed web page, in pixels.\n     * bottom number (optional) - the bottom margin of the printed web page, in pixels.\n     * left number (optional) - the left margin of the printed web page, in pixels.\n     * right number (optional) - the right margin of the printed web page, in pixels.\n   * landscape boolean (optional) - whether the web page should be printed in landscape mode. 默认值为 false.\n   * scalefactor number (optional) - the scale factor of the web page.\n   * pagespersheet number (optional) - the number of pages to print per page sheet.\n   * collate boolean (optional) - whether the web page should be collated.\n   * copies number (optional) - the number of copies of the web page to print.\n   * pageranges object[] (optional) - the page range to print. on macos, only one range is honored.\n     * from number - index of the first page to print (0-based).\n     * to number - index of the last page to print (inclusive) (0-based).\n   * duplexmode string (optional) - set the duplex mode of the printed web page. 可以是 simplex、shortedge 或 longedge。\n   * dpi record<string, number> (optional)\n     * horizontal number (optional) - the horizontal dpi.\n     * vertical number (optional) - the vertical dpi.\n   * header string (optional) - string to be printed as page header.\n   * footer string (optional) - string to be printed as page footer.\n   * pagesize string | size (optional) - specify page size of the printed document. can be a3, a4, a5, legal, letter, tabloid or an object containing height.\n * callback function (可选)\n   * success boolean - indicates success of the print call.\n   * failurereason string - error description called back if the print fails.\n\nwhen a custom pagesize is passed, chromium attempts to validate platform specific minimum values for width_microns and height_microns. width and height must both be minimum 353 microns but may be higher on some operating systems.\n\nprints window's web page. when silent is set to true, electron will pick the system's default printer if devicename is empty and the default settings for printing.\n\nuse page-break-before: always; css style to force to print to a new page.\n\n示例：\n\nconst options = {\n  silent: true,\n  devicename: 'my-printer',\n  pageranges: [{\n    from: 0,\n    to: 1\n  }]\n}\nwin.webcontents.print(options, (success, errortype) => {\n  if (!success) console.log(errortype)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# contents.printtopdf(options)\n\n * 选项 对象\n   * headerfooter record<string, string> (optional) - the header and footer for the pdf.\n     * title string - the title for the pdf header.\n     * url string - the url for the pdf footer.\n   * landscape boolean (optional) - true for landscape, false for portrait.\n   * marginstype integer (optional) - specifies the type of margins to use. uses 0 for default margin, 1 for no margin, and 2 for minimum margin.\n   * scalefactor number (optional) - the scale factor of the web page. can range from 0 to 100.\n   * pageranges record<string, number> (optional) - the page range to print.\n     * from number - index of the first page to print (0-based).\n     * to number - index of the last page to print (inclusive) (0-based).\n   * pagesize string | size (optional) - specify page size of the generated pdf. can be a3, a4, a5, legal, letter, tabloid or an object containing height and width in microns.\n   * printbackground boolean (optional) - whether to print css backgrounds.\n   * printselectiononly boolean (optional) - whether to print selection only.\n\nreturns promise<buffer> - resolves with the generated pdf data.\n\nprints window's web page as pdf with chromium's preview printing custom settings.\n\nthe landscape will be ignored if @page css at-rule is used in the web page.\n\nby default, an empty options will be regarded as:\n\n{\n  marginstype: 0,\n  printbackground: false,\n  printselectiononly: false,\n  landscape: false,\n  pagesize: 'a4',\n  scalefactor: 100\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nuse page-break-before: always; css style to force to print to a new page.\n\nan example of webcontents.printtopdf:\n\nconst { browserwindow } = require('electron')\nconst fs = require('fs')\nconst path = require('path')\nconst os = require('os')\n\nconst win = new browserwindow({ width: 800, height: 600 })\nwin.loadurl('http://github.com')\n\nwin.webcontents.on('did-finish-load', () => {\n  // use default printing options\n  win.webcontents.printtopdf({}).then(data => {\n    const pdfpath = path.join(os.homedir(), 'desktop', 'temp.pdf')\n    fs.writefile(pdfpath, data, (error) => {\n      if (error) throw error\n      console.log(`wrote pdf successfully to ${pdfpath}`)\n    })\n  }).catch(error => {\n    console.log(`failed to write pdf to ${pdfpath}: `, error)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# contents.addworkspace(path)\n\n * path string\n\nadds the specified path to devtools workspace. must be used after devtools creation:\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow()\nwin.webcontents.on('devtools-opened', () => {\n  win.webcontents.addworkspace(__dirname)\n})\n\n\n1\n2\n3\n4\n5\n\n\n# contents.removeworkspace(path)\n\n * path string\n\nremoves the specified path from devtools workspace.\n\n# contents.setdevtoolswebcontents(devtoolswebcontents)\n\n * devtoolswebcontents webcontents\n\nuses the devtoolswebcontents as the target webcontents to show devtools.\n\nthe devtoolswebcontents must not have done any navigation, and it should not be used for other purposes after the call.\n\nby default electron manages the devtools by creating an internal webcontents with native view, which developers have very limited control of. with the setdevtoolswebcontents method, developers can use any webcontents to show the devtools in it, including browserwindow, browserview and <webview> tag.\n\nnote that closing the devtools does not destroy the devtoolswebcontents, it is caller's responsibility to destroy devtoolswebcontents.\n\nan example of showing devtools in a <webview> tag:\n\n<html>\n<head>\n  <style type=\"text/css\">\n    * { margin: 0; }\n    #browser { height: 70%; }\n    #devtools { height: 30%; }\n  </style>\n</head>\n<body>\n  <webview id=\"browser\" src=\"https://github.com\"></webview>\n  <webview id=\"devtools\" src=\"about:blank\"></webview>\n  <script>\n    const { ipcrenderer } = require('electron')\n    const emittedonce = (element, eventname) => new promise(resolve => {\n      element.addeventlistener(eventname, event => resolve(event), { once: true })\n    })\n    const browserview = document.getelementbyid('browser')\n    const devtoolsview = document.getelementbyid('devtools')\n    const browserready = emittedonce(browserview, 'dom-ready')\n    const devtoolsready = emittedonce(devtoolsview, 'dom-ready')\n    promise.all([browserready, devtoolsready]).then(() => {\n      const targetid = browserview.getwebcontentsid()\n      const devtoolsid = devtoolsview.getwebcontentsid()\n      ipcrenderer.send('open-devtools', targetid, devtoolsid)\n    })\n  <\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n// main process\nconst { ipcmain, webcontents } = require('electron')\nipcmain.on('open-devtools', (event, targetcontentsid, devtoolscontentsid) => {\n  const target = webcontents.fromid(targetcontentsid)\n  const devtools = webcontents.fromid(devtoolscontentsid)\n  target.setdevtoolswebcontents(devtools)\n  target.opendevtools()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nan example of showing devtools in a browserwindow:\n\nconst { app, browserwindow } = require('electron')\n\nlet win = null\nlet devtools = null\n\napp.whenready().then(() => {\n  win = new browserwindow()\n  devtools = new browserwindow()\n  win.loadurl('https://github.com')\n  win.webcontents.setdevtoolswebcontents(devtools.webcontents)\n  win.webcontents.opendevtools({ mode: 'detach' })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# contents.opendevtools([options])\n\n * options object (可选)\n   * mode string - opens the devtools with specified dock state, can be right, bottom, undocked, detach. defaults to last used dock state. in undocked mode it's possible to dock back. in detach mode it's not.\n   * activate boolean (optional) - whether to bring the opened devtools window to the foreground. 默认值为 true。\n\nopens the devtools.\n\nwhen contents is a <webview> tag, the mode would be detach by default, explicitly passing an empty mode can force using last used dock state.\n\n# contents.closedevtools()\n\n关闭开发者工具。\n\n# contents.isdevtoolsopened()\n\n返回boolean - 开发者工具是否处于开启状态。\n\n# contents.isdevtoolsfocused()\n\n返回boolean - 开发者工具是否处于当前执行状态。\n\n# contents.toggledevtools()\n\n切换开发工具\n\n# contents.inspectelement(x, y)\n\n * x integer\n * y integer\n\n开始检查位于(x, y) 的元素。\n\n# contents.inspectsharedworker()\n\nopens the developer tools for the shared worker context.\n\n# contents.inspectsharedworkerbyid(workerid)\n\n * workerid string\n\ninspects the shared worker based on its id.\n\n# contents.getallsharedworkers()\n\nreturns sharedworkerinfo[] - information about all shared workers.\n\n# contents.inspectserviceworker()\n\nopens the developer tools for the service worker context.\n\n# contents.send(channel, ...args)\n\n * channel string\n * ...args any[]\n\nsend an asynchronous message to the renderer process via channel, along with arguments. 参数将使用 structured clone algorithm进行序列化，就像 postmessage,因此原型链将不会包含在内。 发送 functions, promises, symbols, weakmaps, 或 weaksets 将抛出异常\n\n> note: sending non-standard javascript types such as dom objects or special electron objects will throw an exception.\n\nthe renderer process can handle the message by listening to channel with the ipcrenderer module.\n\nan example of sending messages from the main process to the renderer process:\n\n// 在主进程中.\nconst { app, browserwindow } = require('electron')\nlet win = null\n\napp.whenready().then(() => {\n  win = new browserwindow({ width: 800, height: 600 })\n  win.loadurl(`file://${__dirname}/index.html`)\n  win.webcontents.on('did-finish-load', () => {\n    win.webcontents.send('ping', 'whoooooooh!')\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\x3c!-- index.html --\x3e\n<html>\n<body>\n  <script>\n    require('electron').ipcrenderer.on('ping', (event, message) => {\n      console.log(message) // prints 'whoooooooh!'\n    })\n  <\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# contents.sendtoframe(frameid, channel, ...args)\n\n * frameid integer | [number, number] - the id of the frame to send to, or a pair of [processid, frameid] if the frame is in a different process to the main frame.\n * channel string\n * ...args any[]\n\nsend an asynchronous message to a specific frame in a renderer process via channel, along with arguments. arguments will be serialized with the structured clone algorithm, just like postmessage, so prototype chains will not be included. sending functions, promises, symbols, weakmaps, or weaksets will throw an exception.\n\n> 注意： 发送非标准的 javascript 类型，如dom 对象或特殊electron 对象将会抛出异常。\n\nthe renderer process can handle the message by listening to channel with the ipcrenderer module.\n\nif you want to get the frameid of a given renderer context you should use the webframe.routingid value. 如下:\n\n// in a renderer process\nconsole.log('my frameid is:', require('electron').webframe.routingid)\n\n\n1\n2\n\n\nyou can also read frameid from all incoming ipc messages in the main process.\n\n// in the main process\nipcmain.on('ping', (event) => {\n  console.info('message came from frameid:', event.frameid)\n})\n\n\n1\n2\n3\n4\n\n\n# contents.postmessage(channel, message, [transfer])\n\n * channel string\n * message any\n * transfer messageportmain[] (可选)\n\nsend a message to the renderer process, optionally transferring ownership of zero or more [messageportmain][] objects.\n\nthe transferred messageportmain objects will be available in the renderer process by accessing the ports property of the emitted event. when they arrive in the renderer, they will be native dom messageport objects.\n\n例如：\n\n// main process\nconst { port1, port2 } = new messagechannelmain()\nwebcontents.postmessage('port', { message: 'hello' }, [port1])\n\n// renderer process\nipcrenderer.on('port', (e, msg) => {\n  const [port] = e.ports\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# contents.enabledeviceemulation(parameters)\n\n * parameters object\n   * screenposition string - specify the screen type to emulate (default: desktop):\n     * desktop - desktop screen type.\n     * mobile - mobile screen type.\n   * screensize size - set the emulated screen size (screenposition == mobile).\n   * viewposition point - position the view on the screen (screenposition == mobile) (default: { x: 0, y: 0 }).\n   * devicescalefactor integer - set the device scale factor (if zero defaults to original device scale factor) (default: 0).\n   * viewsize size - set the emulated view size (empty means no override)\n   * scale float - scale of emulated view inside available space (not in fit to view mode) (default: 1).\n\n允许设备模拟给定参数。\n\n# contents.disabledeviceemulation()\n\n禁止webcontents.enabledeviceemulation允许的模拟设备\n\n# contents.sendinputevent(inputevent)\n\n * inputevent mouseinputevent | mousewheelinputevent | keyboardinputevent\n\nsends an input event to the page. note: the browserwindow containing the contents needs to be focused for sendinputevent() to work.\n\n# contents.beginframesubscription([onlydirty ,]callback)\n\n * onlydirty boolean (可选) - 默认值为 false.\n * callback function\n   * image nativeimage\n   * dirtyrect rectangle\n\nbegin subscribing for presentation events and captured frames, the callback will be called with callback(image, dirtyrect) when there is a presentation event.\n\nthe image is an instance of nativeimage that stores the captured frame.\n\nthe dirtyrect is an object with x, y, width, height properties that describes which part of the page was repainted. if onlydirty is set to true, image will only contain the repainted area. onlydirty defaults to false.\n\n# contents.endframesubscription()\n\nend subscribing for frame presentation events.\n\n# contents.startdrag(item)\n\n * item object\n   * file string - the path to the file being dragged.\n   * files string[] (optional) - the paths to the files being dragged. (files will override file field)\n   * icon nativeimage | string - the image must be non-empty on macos.\n\nsets the item as dragging item for current drag-drop operation, file is the absolute path of the file to be dragged, and icon is the image showing under the cursor when dragging.\n\n# contents.savepage(fullpath, savetype)\n\n * fullpath string - the full file path.\n * savetype string - specify the save type.\n   * htmlonly - save only the html of the page.\n   * htmlcomplete - save complete-html page.\n   * mhtml - save complete-html page as mhtml.\n\nreturns promise<void> - resolves if the page is saved.\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow()\n\nwin.loadurl('https://github.com')\n\nwin.webcontents.on('did-finish-load', async () => {\n  win.webcontents.savepage('/tmp/test.html', 'htmlcomplete').then(() => {\n    console.log('page was saved successfully.')\n  }).catch(err => {\n    console.log(err)\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# contents.showdefinitionforselection() macos\n\nshows pop-up dictionary that searches the selected word on the page.\n\n# contents.isoffscreen()\n\nreturns boolean - indicates whether offscreen rendering is enabled.\n\n# contents.startpainting()\n\nif offscreen rendering is enabled and not painting, start painting.\n\n# contents.stoppainting()\n\nif offscreen rendering is enabled and painting, stop painting.\n\n# contents.ispainting()\n\nreturns boolean - if offscreen rendering is enabled returns whether it is currently painting.\n\n# contents.setframerate(fps)\n\n * fps integer\n\nif offscreen rendering is enabled sets the frame rate to the specified number. only values between 1 and 240 are accepted.\n\n# contents.getframerate()\n\nreturns integer - if offscreen rendering is enabled returns the current frame rate.\n\n# contents.invalidate()\n\nschedules a full repaint of the window this web contents is in.\n\nif offscreen rendering is enabled invalidates the frame and generates a new one through the 'paint' event.\n\n# contents.getwebrtciphandlingpolicy()\n\nreturns string - returns the webrtc ip handling policy.\n\n# contents.setwebrtciphandlingpolicy(policy)\n\n * policy string - specify the webrtc ip handling policy.\n   * default - exposes user's public and local ips. this is the default behavior. when this policy is used, webrtc has the right to enumerate all interfaces and bind them to discover public interfaces.\n   * default_public_interface_only - exposes user's public ip, but does not expose user's local ip. when this policy is used, webrtc should only use the default route used by http. this doesn't expose any local addresses.\n   * default_public_and_private_interfaces - exposes user's public and local ips. when this policy is used, webrtc should only use the default route used by http. this also exposes the associated default private address. default route is the route chosen by the os on a multi-homed endpoint.\n   * disable_non_proxied_udp - does not expose public or local ips. when this policy is used, webrtc should only use tcp to contact peers or servers unless the proxy server supports udp.\n\nsetting the webrtc ip handling policy allows you to control which ips are exposed via webrtc. see browserleaks for more details.\n\n# contents.getosprocessid()\n\nreturns integer - the operating system pid of the associated renderer process.\n\n# contents.getprocessid()\n\nreturns integer - the chromium internal pid of the associated renderer. can be compared to the frameprocessid passed by frame specific navigation events (e.g. did-frame-navigate)\n\n# contents.takeheapsnapshot(filepath)\n\n * filepath string - 输出文件路径\n\n返回 promise<void> - 指明快捷方式是否被成功创建。\n\n获取v8堆快照并保存到 filepath\n\n# contents.getbackgroundthrottling()\n\nreturns boolean - whether or not this webcontents will throttle animations and timers when the page becomes backgrounded. this also affects the page visibility api.\n\n# contents.setbackgroundthrottling(allowed)\n\n * allowed boolean\n\ncontrols whether or not this webcontents will throttle animations and timers when the page becomes backgrounded. this also affects the page visibility api.\n\n# contents.gettype()\n\nreturns string - the type of the webcontent. can be backgroundpage, window, browserview, remote, webview or offscreen.\n\n# contents.setimageanimationpolicy(policy)\n\n * policy string - 可以是 animate, animateonce 或 noanimation.\n\nsets the image animation policy for this webcontents. the policy only affects new images, existing images that are currently being animated are unaffected. this is a known limitation in chromium, you can force image animation to be recalculated with img.src = img.src which will result in no network traffic but will update the animation policy.\n\nthis corresponds to the animationpolicy accessibility feature in chromium.\n\n\n# 实例属性\n\n# contents.audiomuted\n\na boolean property that determines whether this page is muted.\n\n# contents.useragent\n\na string property that determines the user agent for this web page.\n\n# contents.zoomlevel\n\na number property that determines the zoom level for this web contents.\n\nthe original size is 0 and each increment above or below represents zooming 20% larger or smaller to default limits of 300% and 50% of original size, respectively. the formula for this is scale := 1.2 ^ level.\n\n# contents.zoomfactor\n\na number property that determines the zoom factor for this web contents.\n\nthe zoom factor is the zoom percent divided by 100, so 300% = 3.0.\n\n# contents.framerate\n\nan integer property that sets the frame rate of the web contents to the specified number. only values between 1 and 240 are accepted.\n\nonly applicable if offscreen rendering is enabled.\n\n# contents.id 只读\n\ninteger类型，代表webcontents的唯一标识（unique id）。 每个id在整个electron应用程序的所有 webcontents 实例中都是唯一的。\n\n# contents.session 只读\n\na session used by this webcontents.\n\n# contents.hostwebcontents 只读\n\na webcontents instance that might own this webcontents.\n\n# contents.devtoolswebcontents 只读\n\na webcontents | null property that represents the of devtools webcontents associated with a given webcontents.\n\nnote: users should never store this object because it may become null when the devtools has been closed.\n\n# contents.debugger 只读\n\na debugger instance for this webcontents.\n\n# contents.backgroundthrottling\n\na boolean property that determines whether or not this webcontents will throttle animations and timers when the page becomes backgrounded. this also affects the page visibility api.\n\n# contents.mainframe 只读\n\na webframemain property that represents the top frame of the page's frame hierarchy.",charsets:{cjk:!0}},{title:"web-frame",frontmatter:{title:"web-frame",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/512ebb/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/web-frame.html",relativePath:"《Electron中文文档》/api/web-frame.md",key:"v-ae32825c",path:"/pages/512ebb/",headers:[{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:359},{level:3,title:"webFrame.setZoomFactor(factor)",slug:"webframe-setzoomfactor-factor",normalizedTitle:"webframe.setzoomfactor(factor)",charIndex:422},{level:3,title:"webFrame.getZoomFactor()",slug:"webframe-getzoomfactor",normalizedTitle:"webframe.getzoomfactor()",charIndex:653},{level:3,title:"webFrame.setZoomLevel(level)",slug:"webframe-setzoomlevel-level",normalizedTitle:"webframe.setzoomlevel(level)",charIndex:709},{level:3,title:"webFrame.getZoomLevel()",slug:"webframe-getzoomlevel",normalizedTitle:"webframe.getzoomlevel()",charIndex:1182},{level:3,title:"webFrame.setVisualZoomLevelLimits(minimumLevel, maximumLevel)",slug:"webframe-setvisualzoomlevellimits-minimumlevel-maximumlevel",normalizedTitle:"webframe.setvisualzoomlevellimits(minimumlevel, maximumlevel)",charIndex:1252},{level:3,title:"webFrame.setSpellCheckProvider(language, provider)",slug:"webframe-setspellcheckprovider-language-provider",normalizedTitle:"webframe.setspellcheckprovider(language, provider)",charIndex:1786},{level:3,title:"webFrame.insertCSS(css)",slug:"webframe-insertcss-css",normalizedTitle:"webframe.insertcss(css)",charIndex:2930},{level:3,title:"webFrame.removeInsertedCSS(key)",slug:"webframe-removeinsertedcss-key",normalizedTitle:"webframe.removeinsertedcss(key)",charIndex:3078},{level:3,title:"webFrame.insertText(text)",slug:"webframe-inserttext-text",normalizedTitle:"webframe.inserttext(text)",charIndex:3401},{level:3,title:"webFrame.executeJavaScript(code[, userGesture, callback])",slug:"webframe-executejavascript-code-usergesture-callback",normalizedTitle:"webframe.executejavascript(code[, usergesture, callback])",charIndex:3461},{level:3,title:"webFrame.executeJavaScriptInIsolatedWorld(worldId, scripts[, userGesture, callback])",slug:"webframe-executejavascriptinisolatedworld-worldid-scripts-usergesture-callback",normalizedTitle:"webframe.executejavascriptinisolatedworld(worldid, scripts[, usergesture, callback])",charIndex:4190},{level:3,title:"webFrame.setIsolatedWorldInfo(worldId, info)",slug:"webframe-setisolatedworldinfo-worldid-info",normalizedTitle:"webframe.setisolatedworldinfo(worldid, info)",charIndex:5334},{level:3,title:"webFrame.getResourceUsage()",slug:"webframe-getresourceusage",normalizedTitle:"webframe.getresourceusage()",charIndex:6046},{level:3,title:"webFrame.clearCache()",slug:"webframe-clearcache",normalizedTitle:"webframe.clearcache()",charIndex:6746},{level:3,title:"webFrame.getFrameForSelector(selector)",slug:"webframe-getframeforselector-selector",normalizedTitle:"webframe.getframeforselector(selector)",charIndex:6932},{level:3,title:"webFrame.findFrameByName(name)",slug:"webframe-findframebyname-name",normalizedTitle:"webframe.findframebyname(name)",charIndex:7229},{level:3,title:"webFrame.findFrameByRoutingId(routingId)",slug:"webframe-findframebyroutingid-routingid",normalizedTitle:"webframe.findframebyroutingid(routingid)",charIndex:7448},{level:3,title:"webFrame.isWordMisspelled(word)",slug:"webframe-iswordmisspelled-word",normalizedTitle:"webframe.iswordmisspelled(word)",charIndex:7834},{level:3,title:"webFrame.getWordSuggestions(word)",slug:"webframe-getwordsuggestions-word",normalizedTitle:"webframe.getwordsuggestions(word)",charIndex:8073},{level:2,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:8274},{level:3,title:"webFrame.top 只读",slug:"webframe-top-只读",normalizedTitle:"webframe.top 只读",charIndex:8281},{level:3,title:"webFrame.opener 只读",slug:"webframe-opener-只读",normalizedTitle:"webframe.opener 只读",charIndex:8469},{level:3,title:"webFrame.parent 只读",slug:"webframe-parent-只读",normalizedTitle:"webframe.parent 只读",charIndex:8655},{level:3,title:"webFrame.firstChild 只读",slug:"webframe-firstchild-只读",normalizedTitle:"webframe.firstchild 只读",charIndex:8832},{level:3,title:"webFrame.nextSibling 只读",slug:"webframe-nextsibling-只读",normalizedTitle:"webframe.nextsibling 只读",charIndex:9039},{level:3,title:"webFrame.routingId 只读",slug:"webframe-routingid-只读",normalizedTitle:"webframe.routingid 只读",charIndex:9253}],headersStr:"方法 webFrame.setZoomFactor(factor) webFrame.getZoomFactor() webFrame.setZoomLevel(level) webFrame.getZoomLevel() webFrame.setVisualZoomLevelLimits(minimumLevel, maximumLevel) webFrame.setSpellCheckProvider(language, provider) webFrame.insertCSS(css) webFrame.removeInsertedCSS(key) webFrame.insertText(text) webFrame.executeJavaScript(code[, userGesture, callback]) webFrame.executeJavaScriptInIsolatedWorld(worldId, scripts[, userGesture, callback]) webFrame.setIsolatedWorldInfo(worldId, info) webFrame.getResourceUsage() webFrame.clearCache() webFrame.getFrameForSelector(selector) webFrame.findFrameByName(name) webFrame.findFrameByRoutingId(routingId) webFrame.isWordMisspelled(word) webFrame.getWordSuggestions(word) 属性 webFrame.top 只读 webFrame.opener 只读 webFrame.parent 只读 webFrame.firstChild 只读 webFrame.nextSibling 只读 webFrame.routingId 只读",content:"# webFrame\n\n> 自定义渲染当前网页\n\n进程: Renderer\n\nwebFrame export of the Electron module is an instance of the WebFrame class representing the top frame of the current BrowserWindow. Sub-frames can be retrieved by certain properties and methods (e.g. webFrame.firstChild).\n\n将当前页缩放到200% 的示例。\n\nconst { webFrame } = require('electron')\nwebFrame.setZoomFactor(2)\n\n\n1\n2\n\n\n\n# 方法\n\nThe WebFrame class has the following instance methods:\n\n\n# webFrame.setZoomFactor(factor)\n\n * factor Double - Zoom factor; default is 1.0.\n\nChanges the zoom factor to the specified factor. Zoom factor is zoom percent divided by 100, so 300% = 3.0.\n\nThe factor must be greater than 0.0.\n\n\n# webFrame.getZoomFactor()\n\nReturns Number - 当前的缩放比例。\n\n\n# webFrame.setZoomLevel(level)\n\n * level Number - 缩放等级。\n\n更改缩放等级。 The original size is 0 and each increment above or below represents zooming 20% larger or smaller to default limits of 300% and 50% of original size, respectively.\n\n> NOTE: The zoom policy at the Chromium level is same-origin, meaning that the zoom level for a specific domain propagates across all instances of windows with the same domain. Differentiating the window URLs will make zoom work per-window.\n\n\n# webFrame.getZoomLevel()\n\nReturns Number - The current zoom level.\n\n\n# webFrame.setVisualZoomLevelLimits(minimumLevel, maximumLevel)\n\n * minimumLevel Number\n * maximumLevel Number\n\n设置最大和最小缩放级别。\n\n> NOTE: Visual zoom is disabled by default in Electron. To re-enable it, call:\n> \n> webFrame.setVisualZoomLevelLimits(1, 3)\n> \n> \n> 1\n\n> NOTE: Visual zoom only applies to pinch-to-zoom behavior. Cmd+/-/0 zoom shortcuts are controlled by the 'zoomIn', 'zoomOut', and 'resetZoom' MenuItem roles in the application Menu. To disable shortcuts, manually define the Menu and omit zoom roles from the definition.\n\n\n# webFrame.setSpellCheckProvider(language, provider)\n\n * language String\n * provider Object\n   * spellCheck 函数\n     * words String[]\n     * callback Function\n       * misspeltWords String[]\n\nSets a provider for spell checking in input fields and text areas.\n\nIf you want to use this method you must disable the builtin spellchecker when you construct the window.\n\nconst mainWindow = new BrowserWindow({\n  webPreferences: {\n    spellcheck: false\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\nThe provider must be an object that has a spellCheck method that accepts an array of individual words for spellchecking. The spellCheck function runs asynchronously and calls the callback function with an array of misspelt words when complete.\n\nAn example of using node-spellchecker as provider:\n\nconst { webFrame } = require('electron')\nconst spellChecker = require('spellchecker')\nwebFrame.setSpellCheckProvider('en-US', {\n  spellCheck (words, callback) {\n    setTimeout(() => {\n      const spellchecker = require('spellchecker')\n      const misspelled = words.filter(x => spellchecker.isMisspelled(x))\n      callback(misspelled)\n    }, 0)\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# webFrame.insertCSS(css)\n\n * css String - CSS source code.\n\nReturns String - A key for the inserted CSS that can later be used to remove the CSS via webFrame.removeInsertedCSS(key).\n\nInjects CSS into the current web page and returns a unique key for the inserted stylesheet.\n\n\n# webFrame.removeInsertedCSS(key)\n\n * key String\n\nRemoves the inserted CSS from the current web page. The stylesheet is identified by its key, which is returned from webFrame.insertCSS(css).\n\n\n# webFrame.insertText(text)\n\n * text String\n\n插入text 到焦点元素\n\n\n# webFrame.executeJavaScript(code[, userGesture, callback])\n\n * code String\n * userGesture Boolean (optional) - Default is false.\n * callback Function (optional) - Called after script has been executed. Unless the frame is suspended (e.g. showing a modal alert), execution will be synchronous and the callback will be invoked before the method returns. For compatibility with an older version of this method, the error parameter is second.\n   * result Any\n   * error Error\n\nReturns Promise<any> - A promise that resolves with the result of the executed code or is rejected if execution throws or results in a rejected promise.\n\n在页面中执行 code。\n\n在浏览器窗口中，一些HTML API（如requestFullScreen）只能是 由来自用户的手势调用。 将 userGesture 设置为 true 将删除此限制。\n\n\n# webFrame.executeJavaScriptInIsolatedWorld(worldId, scripts[, userGesture, callback])\n\n * worldId Integer - The ID of the world to run the javascript in, 0 is the default main world (where content runs), 999 is the world used by Electron's contextIsolation feature. Accepts values in the range 1..536870911.\n * scripts WebSource[]\n * userGesture Boolean (optional) - Default is false.\n * callback Function (optional) - Called after script has been executed. Unless the frame is suspended (e.g. showing a modal alert), execution will be synchronous and the callback will be invoked before the method returns. For compatibility with an older version of this method, the error parameter is second.\n   * result Any\n   * error Error\n\nReturns Promise<any> - A promise that resolves with the result of the executed code or is rejected if execution could not start.\n\nWorks like executeJavaScript but evaluates scripts in an isolated context.\n\nNote that when the execution of script fails, the returned promise will not reject and the result would be undefined. This is because Chromium does not dispatch errors of isolated worlds to foreign worlds.\n\n\n# webFrame.setIsolatedWorldInfo(worldId, info)\n\n * worldId Integer - The ID of the world to run the javascript in, 0 is the default world, 999 is the world used by Electrons contextIsolation feature. Chrome extensions reserve the range of IDs in [1 << 20, 1 << 29). You can provide any integer here.\n * info Object\n   * securityOrigin String (optional) - Security origin for the isolated world.\n   * csp String (optional) - Content Security Policy for the isolated world.\n   * name String (optional) - Name for isolated world. Useful in devtools.\n\nSet the security origin, content security policy and name of the isolated world. Note: If the csp is specified, then the securityOrigin also has to be specified.\n\n\n# webFrame.getResourceUsage()\n\n返回 Object:\n\n * images MemoryUsageDetails\n * scripts MemoryUsageDetails\n * cssStyleSheets MemoryUsageDetails\n * xslStyleSheets MemoryUsageDetails\n * fonts MemoryUsageDetails\n * other MemoryUsageDetails\n\nReturns an object describing usage information of Blink's internal memory caches.\n\nconst { webFrame } = require('electron')\nconsole.log(webFrame.getResourceUsage())\n\n\n1\n2\n\n\nThis will generate:\n\n{\n  images: {\n    count: 22,\n    size: 2549,\n    liveSize: 2542\n  },\n  cssStyleSheets: { /* same with \"images\" */ },\n  xslStyleSheets: { /* same with \"images\" */ },\n  fonts: { /* same with \"images\" */ },\n  other: { /* same with \"images\" */ }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# webFrame.clearCache()\n\n尝试释放不再使用的内存 (如以前导航中的图像)。\n\n请注意, 盲目调用此方法可能使Electron较慢, 因为它将不得不重新填充这些清空的缓存。你应该只在这种情况下调用它, 就是当你的应用程序发生的一个事件, 使你认为你的网页实际只使用了较少的内存 (例如你从一个超级重页跳转到一个基本为空的页面, 并打算留在那)。\n\n\n# webFrame.getFrameForSelector(selector)\n\n * selector String - CSS selector for a frame element.\n\nReturns WebFrame - The frame element in webFrame's document selected by selector, null would be returned if selector does not select a frame or if the frame is not in the current renderer process.\n\n\n# webFrame.findFrameByName(name)\n\n * name String\n\nReturns WebFrame - A child of webFrame with the supplied name, null would be returned if there's no such frame or if the frame is not in the current renderer process.\n\n\n# webFrame.findFrameByRoutingId(routingId)\n\n * routingId Integer - An Integer representing the unique frame id in the current renderer process. Routing IDs can be retrieved from WebFrame instances (webFrame.routingId) and are also passed by frame specific WebContents navigation events (e.g. did-frame-navigate)\n\nReturns WebFrame - that has the supplied routingId, null if not found.\n\n\n# webFrame.isWordMisspelled(word)\n\n * word String - The word to be spellchecked.\n\nReturns Boolean - True if the word is misspelled according to the built in spellchecker, false otherwise. If no dictionary is loaded, always return false.\n\n\n# webFrame.getWordSuggestions(word)\n\n * word String - The misspelled word.\n\nReturns String[] - A list of suggested words for a given word. If the word is spelled correctly, the result will be empty.\n\n\n# 属性\n\n\n# webFrame.top 只读\n\nA WebFrame | null representing top frame in frame hierarchy to which webFrame belongs, the property would be null if top frame is not in the current renderer process.\n\n\n# webFrame.opener 只读\n\nA WebFrame | null representing the frame which opened webFrame, the property would be null if there's no opener or opener is not in the current renderer process.\n\n\n# webFrame.parent 只读\n\nA WebFrame | null representing parent frame of webFrame, the property would be null if webFrame is top or parent is not in the current renderer process.\n\n\n# webFrame.firstChild 只读\n\nA WebFrame | null representing the first child frame of webFrame, the property would be null if webFrame has no children or if first child is not in the current renderer process.\n\n\n# webFrame.nextSibling 只读\n\nA WebFrame | null representing next sibling frame, the property would be null if webFrame is the last frame in its parent or if the next sibling is not in the current renderer process.\n\n\n# webFrame.routingId 只读\n\nAn Integer representing the unique frame id in the current renderer process. Distinct WebFrame instances that refer to the same underlying frame will have the same routingId.",normalizedContent:"# webframe\n\n> 自定义渲染当前网页\n\n进程: renderer\n\nwebframe export of the electron module is an instance of the webframe class representing the top frame of the current browserwindow. sub-frames can be retrieved by certain properties and methods (e.g. webframe.firstchild).\n\n将当前页缩放到200% 的示例。\n\nconst { webframe } = require('electron')\nwebframe.setzoomfactor(2)\n\n\n1\n2\n\n\n\n# 方法\n\nthe webframe class has the following instance methods:\n\n\n# webframe.setzoomfactor(factor)\n\n * factor double - zoom factor; default is 1.0.\n\nchanges the zoom factor to the specified factor. zoom factor is zoom percent divided by 100, so 300% = 3.0.\n\nthe factor must be greater than 0.0.\n\n\n# webframe.getzoomfactor()\n\nreturns number - 当前的缩放比例。\n\n\n# webframe.setzoomlevel(level)\n\n * level number - 缩放等级。\n\n更改缩放等级。 the original size is 0 and each increment above or below represents zooming 20% larger or smaller to default limits of 300% and 50% of original size, respectively.\n\n> note: the zoom policy at the chromium level is same-origin, meaning that the zoom level for a specific domain propagates across all instances of windows with the same domain. differentiating the window urls will make zoom work per-window.\n\n\n# webframe.getzoomlevel()\n\nreturns number - the current zoom level.\n\n\n# webframe.setvisualzoomlevellimits(minimumlevel, maximumlevel)\n\n * minimumlevel number\n * maximumlevel number\n\n设置最大和最小缩放级别。\n\n> note: visual zoom is disabled by default in electron. to re-enable it, call:\n> \n> webframe.setvisualzoomlevellimits(1, 3)\n> \n> \n> 1\n\n> note: visual zoom only applies to pinch-to-zoom behavior. cmd+/-/0 zoom shortcuts are controlled by the 'zoomin', 'zoomout', and 'resetzoom' menuitem roles in the application menu. to disable shortcuts, manually define the menu and omit zoom roles from the definition.\n\n\n# webframe.setspellcheckprovider(language, provider)\n\n * language string\n * provider object\n   * spellcheck 函数\n     * words string[]\n     * callback function\n       * misspeltwords string[]\n\nsets a provider for spell checking in input fields and text areas.\n\nif you want to use this method you must disable the builtin spellchecker when you construct the window.\n\nconst mainwindow = new browserwindow({\n  webpreferences: {\n    spellcheck: false\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\nthe provider must be an object that has a spellcheck method that accepts an array of individual words for spellchecking. the spellcheck function runs asynchronously and calls the callback function with an array of misspelt words when complete.\n\nan example of using node-spellchecker as provider:\n\nconst { webframe } = require('electron')\nconst spellchecker = require('spellchecker')\nwebframe.setspellcheckprovider('en-us', {\n  spellcheck (words, callback) {\n    settimeout(() => {\n      const spellchecker = require('spellchecker')\n      const misspelled = words.filter(x => spellchecker.ismisspelled(x))\n      callback(misspelled)\n    }, 0)\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# webframe.insertcss(css)\n\n * css string - css source code.\n\nreturns string - a key for the inserted css that can later be used to remove the css via webframe.removeinsertedcss(key).\n\ninjects css into the current web page and returns a unique key for the inserted stylesheet.\n\n\n# webframe.removeinsertedcss(key)\n\n * key string\n\nremoves the inserted css from the current web page. the stylesheet is identified by its key, which is returned from webframe.insertcss(css).\n\n\n# webframe.inserttext(text)\n\n * text string\n\n插入text 到焦点元素\n\n\n# webframe.executejavascript(code[, usergesture, callback])\n\n * code string\n * usergesture boolean (optional) - default is false.\n * callback function (optional) - called after script has been executed. unless the frame is suspended (e.g. showing a modal alert), execution will be synchronous and the callback will be invoked before the method returns. for compatibility with an older version of this method, the error parameter is second.\n   * result any\n   * error error\n\nreturns promise<any> - a promise that resolves with the result of the executed code or is rejected if execution throws or results in a rejected promise.\n\n在页面中执行 code。\n\n在浏览器窗口中，一些html api（如requestfullscreen）只能是 由来自用户的手势调用。 将 usergesture 设置为 true 将删除此限制。\n\n\n# webframe.executejavascriptinisolatedworld(worldid, scripts[, usergesture, callback])\n\n * worldid integer - the id of the world to run the javascript in, 0 is the default main world (where content runs), 999 is the world used by electron's contextisolation feature. accepts values in the range 1..536870911.\n * scripts websource[]\n * usergesture boolean (optional) - default is false.\n * callback function (optional) - called after script has been executed. unless the frame is suspended (e.g. showing a modal alert), execution will be synchronous and the callback will be invoked before the method returns. for compatibility with an older version of this method, the error parameter is second.\n   * result any\n   * error error\n\nreturns promise<any> - a promise that resolves with the result of the executed code or is rejected if execution could not start.\n\nworks like executejavascript but evaluates scripts in an isolated context.\n\nnote that when the execution of script fails, the returned promise will not reject and the result would be undefined. this is because chromium does not dispatch errors of isolated worlds to foreign worlds.\n\n\n# webframe.setisolatedworldinfo(worldid, info)\n\n * worldid integer - the id of the world to run the javascript in, 0 is the default world, 999 is the world used by electrons contextisolation feature. chrome extensions reserve the range of ids in [1 << 20, 1 << 29). you can provide any integer here.\n * info object\n   * securityorigin string (optional) - security origin for the isolated world.\n   * csp string (optional) - content security policy for the isolated world.\n   * name string (optional) - name for isolated world. useful in devtools.\n\nset the security origin, content security policy and name of the isolated world. note: if the csp is specified, then the securityorigin also has to be specified.\n\n\n# webframe.getresourceusage()\n\n返回 object:\n\n * images memoryusagedetails\n * scripts memoryusagedetails\n * cssstylesheets memoryusagedetails\n * xslstylesheets memoryusagedetails\n * fonts memoryusagedetails\n * other memoryusagedetails\n\nreturns an object describing usage information of blink's internal memory caches.\n\nconst { webframe } = require('electron')\nconsole.log(webframe.getresourceusage())\n\n\n1\n2\n\n\nthis will generate:\n\n{\n  images: {\n    count: 22,\n    size: 2549,\n    livesize: 2542\n  },\n  cssstylesheets: { /* same with \"images\" */ },\n  xslstylesheets: { /* same with \"images\" */ },\n  fonts: { /* same with \"images\" */ },\n  other: { /* same with \"images\" */ }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# webframe.clearcache()\n\n尝试释放不再使用的内存 (如以前导航中的图像)。\n\n请注意, 盲目调用此方法可能使electron较慢, 因为它将不得不重新填充这些清空的缓存。你应该只在这种情况下调用它, 就是当你的应用程序发生的一个事件, 使你认为你的网页实际只使用了较少的内存 (例如你从一个超级重页跳转到一个基本为空的页面, 并打算留在那)。\n\n\n# webframe.getframeforselector(selector)\n\n * selector string - css selector for a frame element.\n\nreturns webframe - the frame element in webframe's document selected by selector, null would be returned if selector does not select a frame or if the frame is not in the current renderer process.\n\n\n# webframe.findframebyname(name)\n\n * name string\n\nreturns webframe - a child of webframe with the supplied name, null would be returned if there's no such frame or if the frame is not in the current renderer process.\n\n\n# webframe.findframebyroutingid(routingid)\n\n * routingid integer - an integer representing the unique frame id in the current renderer process. routing ids can be retrieved from webframe instances (webframe.routingid) and are also passed by frame specific webcontents navigation events (e.g. did-frame-navigate)\n\nreturns webframe - that has the supplied routingid, null if not found.\n\n\n# webframe.iswordmisspelled(word)\n\n * word string - the word to be spellchecked.\n\nreturns boolean - true if the word is misspelled according to the built in spellchecker, false otherwise. if no dictionary is loaded, always return false.\n\n\n# webframe.getwordsuggestions(word)\n\n * word string - the misspelled word.\n\nreturns string[] - a list of suggested words for a given word. if the word is spelled correctly, the result will be empty.\n\n\n# 属性\n\n\n# webframe.top 只读\n\na webframe | null representing top frame in frame hierarchy to which webframe belongs, the property would be null if top frame is not in the current renderer process.\n\n\n# webframe.opener 只读\n\na webframe | null representing the frame which opened webframe, the property would be null if there's no opener or opener is not in the current renderer process.\n\n\n# webframe.parent 只读\n\na webframe | null representing parent frame of webframe, the property would be null if webframe is top or parent is not in the current renderer process.\n\n\n# webframe.firstchild 只读\n\na webframe | null representing the first child frame of webframe, the property would be null if webframe has no children or if first child is not in the current renderer process.\n\n\n# webframe.nextsibling 只读\n\na webframe | null representing next sibling frame, the property would be null if webframe is the last frame in its parent or if the next sibling is not in the current renderer process.\n\n\n# webframe.routingid 只读\n\nan integer representing the unique frame id in the current renderer process. distinct webframe instances that refer to the same underlying frame will have the same routingid.",charsets:{cjk:!0}},{title:"web-request",frontmatter:{title:"web-request",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/7a64fe/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/web-request.html",relativePath:"《Electron中文文档》/api/web-request.md",key:"v-4a5a380e",path:"/pages/7a64fe/",headers:[{level:2,title:"类：WebRequest",slug:"类-webrequest",normalizedTitle:"类：webrequest",charIndex:2},{level:3,title:"实例方法",slug:"实例方法",normalizedTitle:"实例方法",charIndex:1057},{level:4,title:"webRequest.onBeforeRequest([filter, ]listener)",slug:"webrequest-onbeforerequest-filter-listener",normalizedTitle:"webrequest.onbeforerequest([filter, ]listener)",charIndex:1085},{level:4,title:"webRequest.onBeforeSendHeaders([filter, ]listener)",slug:"webrequest-onbeforesendheaders-filter-listener",normalizedTitle:"webrequest.onbeforesendheaders([filter, ]listener)",charIndex:2103},{level:4,title:"webRequest.onSendHeaders([filter, ]listener)",slug:"webrequest-onsendheaders-filter-listener",normalizedTitle:"webrequest.onsendheaders([filter, ]listener)",charIndex:3029},{level:4,title:"webRequest.onHeadersReceived([filter, ]listener)",slug:"webrequest-onheadersreceived-filter-listener",normalizedTitle:"webrequest.onheadersreceived([filter, ]listener)",charIndex:3666},{level:4,title:"webRequest.onResponseStarted([filter, ]listener)",slug:"webrequest-onresponsestarted-filter-listener",normalizedTitle:"webrequest.onresponsestarted([filter, ]listener)",charIndex:4807},{level:4,title:"webRequest.onBeforeRedirect([filter, ]listener)",slug:"webrequest-onbeforeredirect-filter-listener",normalizedTitle:"webrequest.onbeforeredirect([filter, ]listener)",charIndex:5555},{level:4,title:"webRequest.onCompleted([filter, ]listener)",slug:"webrequest-oncompleted-filter-listener",normalizedTitle:"webrequest.oncompleted([filter, ]listener)",charIndex:6313},{level:4,title:"webRequest.onErrorOccurred([filter, ]listener)",slug:"webrequest-onerroroccurred-filter-listener",normalizedTitle:"webrequest.onerroroccurred([filter, ]listener)",charIndex:7008}],headersStr:"类：WebRequest 实例方法 webRequest.onBeforeRequest([filter, ]listener) webRequest.onBeforeSendHeaders([filter, ]listener) webRequest.onSendHeaders([filter, ]listener) webRequest.onHeadersReceived([filter, ]listener) webRequest.onResponseStarted([filter, ]listener) webRequest.onBeforeRedirect([filter, ]listener) webRequest.onCompleted([filter, ]listener) webRequest.onErrorOccurred([filter, ]listener)",content:"# 类：WebRequest\n\n> 在一个请求生命周期的不同阶段，截取和修改其内容。\n\nProcess: Main\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n使用 Session 的 WebRequest 属性访问 WebRequest 类的实例。\n\nWebRequest 下的所有方法接收 filter 和 listener 两个参数。 当 API 中有事件被触发时, listener(details) 会被调用， details 中包含了请求的详细信息。\n\n⚠️ Only the last attached listener will be used. Passing null as listener will unsubscribe from the event.\n\nfilter 对象具有一个 url 属性, 它是一个 url 模式数组, 用于筛选出与 url 模式不匹配的请求。 如果省略 filter, 则所有请求都将匹配。\n\n对于某些事件, listener 是通过 callback 传递的, 当 listener 完成其工作时, 应使用 response 对象进行调用。\n\n为 requests 添加 User-Agent 头的示例：\n\nconst { session } = require('electron')\n\n// Modify the user agent for all requests to the following urls.\nconst filter = {\n  urls: ['https://*.github.com/*', '*://electron.github.io']\n}\n\nsession.defaultSession.webRequest.onBeforeSendHeaders(filter, (details, callback) => {\n  details.requestHeaders['User-Agent'] = 'MyAgent'\n  callback({ requestHeaders: details.requestHeaders })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 实例方法\n\n以下事件会在Session实例触发。\n\n# webRequest.onBeforeRequest([filter, ]listener)\n\n * filter WebRequestFilter (optional)\n * listener Function | null\n   * details Object\n     * id Integer\n     * url String\n     * method String\n     * webContentsId Integer (可选)\n     * webContents WebContents (optional)\n     * frame WebFrameMain (optional)\n     * resourceType String - Can be mainFrame, subFrame, stylesheet, script, image, font, object, xhr, ping, cspReport, media, webSocket or other.\n     * referrer String\n     * timestamp Double\n     * uploadData UploadData[]\n   * callback Function\n     * response Object\n       * cancel Boolean (可选)\n       * redirectURL String (可选) - 原始请求被阻止发送或完成，而不是重定向到给定的URL。\n\n当请求即将发生时，调用listener(details, callback)。\n\nuploadData 是UploadData对象的一个数组。\n\n必须使用 response 对象调用callback。\n\nSome examples of valid urls:\n\n'http://foo:1234/'\n'http://foo.com/'\n'http://foo:1234/bar'\n'*://*/*'\n'*://example.com/*'\n'*://example.com/foo/*'\n'http://*.foo:1234/'\n'file://foo:1234/bar'\n'http://foo:*/'\n'*://www.foo.com/'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# webRequest.onBeforeSendHeaders([filter, ]listener)\n\n * filter WebRequestFilter (optional)\n * listener Function | null\n   * details Object\n     * id Integer\n     * url String\n     * method String\n     * webContentsId Integer (可选)\n     * webContents WebContents (optional)\n     * frame WebFrameMain (optional)\n     * resourceType String - Can be mainFrame, subFrame, stylesheet, script, image, font, object, xhr, ping, cspReport, media, webSocket or other.\n     * referrer String\n     * timestamp Double\n     * requestHeaders Record<string, string>\n   * callback Function\n     * beforeSendResponse Object\n       * cancel Boolean (可选)\n       * requestHeaders Record<string, string | string[]> (optional) - When provided, request will be made with these headers.\n\n一旦请求头可用，在发送 HTTP 请求之前，listener 将以 listener(details, callback) 的形式被调用。 这可能发生在对服务器进行 TCP 连接之后，但在发送任何HTTP数据之前。\n\nThe callback has to be called with a response object.\n\n# webRequest.onSendHeaders([filter, ]listener)\n\n * filter WebRequestFilter (optional)\n * listener Function | null\n   * details Object\n     * id Integer\n     * url String\n     * method String\n     * webContentsId Integer (可选)\n     * webContents WebContents (optional)\n     * frame WebFrameMain (optional)\n     * resourceType String - Can be mainFrame, subFrame, stylesheet, script, image, font, object, xhr, ping, cspReport, media, webSocket or other.\n     * referrer String\n     * timestamp Double\n     * requestHeaders Record<string, string>\n\n在请求发送到服务器之前，listener将以listener(details)的形式被调用，在该侦听器被出发前，上一个对 onBeforeSendHeaders 响应的修改是可见的。\n\n# webRequest.onHeadersReceived([filter, ]listener)\n\n * filter WebRequestFilter (optional)\n * listener Function | null\n   * details Object\n     * id Integer\n     * url String\n     * method String\n     * webContentsId Integer (可选)\n     * webContents WebContents (optional)\n     * frame WebFrameMain (optional)\n     * resourceType String - Can be mainFrame, subFrame, stylesheet, script, image, font, object, xhr, ping, cspReport, media, webSocket or other.\n     * referrer String\n     * timestamp Double\n     * statusLine String\n     * statusCode Integer\n     * responseHeaders Record<string, string[]> (optional)\n   * callback Function\n     * headersReceivedResponse Object\n       * cancel Boolean (可选)\n       * responseHeaders Record<string, string | string[]> (optional) - When provided, the server is assumed to have responded with these headers.\n       * statusLine String (optional) - Should be provided when overriding responseHeaders to change header status otherwise original response header's status will be used.\n\n当HTTP请求接收到报头后，会通过调用 listener(details, callback)方法来触发listener。\n\nThe callback has to be called with a response object.\n\n# webRequest.onResponseStarted([filter, ]listener)\n\n * filter WebRequestFilter (optional)\n * listener Function | null\n   * details Object\n     * id Integer\n     * url String\n     * method String\n     * webContentsId Integer (可选)\n     * webContents WebContents (optional)\n     * frame WebFrameMain (optional)\n     * resourceType String - Can be mainFrame, subFrame, stylesheet, script, image, font, object, xhr, ping, cspReport, media, webSocket or other.\n     * referrer String\n     * timestamp Double\n     * responseHeaders Record<string, string[]> (optional)\n     * fromCache Boolean - 表明响应是取自硬盘缓存。\n     * statusCode Integer\n     * statusLine String\n\n当收到响应体的第一个字节时， 将以 listener(details) 的形式来调用 listener。 对于 HTTP 请求而言，这意味着此时 HTTP 状态行和回应头已经可以读取了。\n\n# webRequest.onBeforeRedirect([filter, ]listener)\n\n * filter WebRequestFilter (optional)\n * listener Function | null\n   * details Object\n     * id Integer\n     * url String\n     * method String\n     * webContentsId Integer (可选)\n     * webContents WebContents (optional)\n     * frame WebFrameMain (optional)\n     * resourceType String - Can be mainFrame, subFrame, stylesheet, script, image, font, object, xhr, ping, cspReport, media, webSocket or other.\n     * referrer String\n     * timestamp Double\n     * redirectURL String\n     * statusCode Integer\n     * statusLine String\n     * ip String (可选) - 请求实际发送到的服务器 IP 地址。\n     * fromCache Boolean\n     * responseHeaders Record<string, string[]> (optional)\n\n当服务器的初始重定向即将发生时，将以 listener(details)的方式调用listener。\n\n# webRequest.onCompleted([filter, ]listener)\n\n * filter WebRequestFilter (optional)\n * listener Function | null\n   * details Object\n     * id Integer\n     * url String\n     * method String\n     * webContentsId Integer (可选)\n     * webContents WebContents (optional)\n     * frame WebFrameMain (optional)\n     * resourceType String - Can be mainFrame, subFrame, stylesheet, script, image, font, object, xhr, ping, cspReport, media, webSocket or other.\n     * referrer String\n     * timestamp Double\n     * responseHeaders Record<string, string[]> (optional)\n     * fromCache Boolean\n     * statusCode Integer\n     * statusLine String\n     * error String\n\n当请求完成时，将以 listener(details)的方式调用listener。\n\n# webRequest.onErrorOccurred([filter, ]listener)\n\n * filter WebRequestFilter (optional)\n * listener Function | null\n   * details Object\n     * id Integer\n     * url String\n     * method String\n     * webContentsId Integer (可选)\n     * webContents WebContents (optional)\n     * frame WebFrameMain (optional)\n     * resourceType String - Can be mainFrame, subFrame, stylesheet, script, image, font, object, xhr, ping, cspReport, media, webSocket or other.\n     * referrer String\n     * timestamp Double\n     * fromCache Boolean\n     * error String - 错误描述.\n\n当发生错误时，将以 listener(details)的方式调用listener。",normalizedContent:"# 类：webrequest\n\n> 在一个请求生命周期的不同阶段，截取和修改其内容。\n\nprocess: main\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n使用 session 的 webrequest 属性访问 webrequest 类的实例。\n\nwebrequest 下的所有方法接收 filter 和 listener 两个参数。 当 api 中有事件被触发时, listener(details) 会被调用， details 中包含了请求的详细信息。\n\n⚠️ only the last attached listener will be used. passing null as listener will unsubscribe from the event.\n\nfilter 对象具有一个 url 属性, 它是一个 url 模式数组, 用于筛选出与 url 模式不匹配的请求。 如果省略 filter, 则所有请求都将匹配。\n\n对于某些事件, listener 是通过 callback 传递的, 当 listener 完成其工作时, 应使用 response 对象进行调用。\n\n为 requests 添加 user-agent 头的示例：\n\nconst { session } = require('electron')\n\n// modify the user agent for all requests to the following urls.\nconst filter = {\n  urls: ['https://*.github.com/*', '*://electron.github.io']\n}\n\nsession.defaultsession.webrequest.onbeforesendheaders(filter, (details, callback) => {\n  details.requestheaders['user-agent'] = 'myagent'\n  callback({ requestheaders: details.requestheaders })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 实例方法\n\n以下事件会在session实例触发。\n\n# webrequest.onbeforerequest([filter, ]listener)\n\n * filter webrequestfilter (optional)\n * listener function | null\n   * details object\n     * id integer\n     * url string\n     * method string\n     * webcontentsid integer (可选)\n     * webcontents webcontents (optional)\n     * frame webframemain (optional)\n     * resourcetype string - can be mainframe, subframe, stylesheet, script, image, font, object, xhr, ping, cspreport, media, websocket or other.\n     * referrer string\n     * timestamp double\n     * uploaddata uploaddata[]\n   * callback function\n     * response object\n       * cancel boolean (可选)\n       * redirecturl string (可选) - 原始请求被阻止发送或完成，而不是重定向到给定的url。\n\n当请求即将发生时，调用listener(details, callback)。\n\nuploaddata 是uploaddata对象的一个数组。\n\n必须使用 response 对象调用callback。\n\nsome examples of valid urls:\n\n'http://foo:1234/'\n'http://foo.com/'\n'http://foo:1234/bar'\n'*://*/*'\n'*://example.com/*'\n'*://example.com/foo/*'\n'http://*.foo:1234/'\n'file://foo:1234/bar'\n'http://foo:*/'\n'*://www.foo.com/'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# webrequest.onbeforesendheaders([filter, ]listener)\n\n * filter webrequestfilter (optional)\n * listener function | null\n   * details object\n     * id integer\n     * url string\n     * method string\n     * webcontentsid integer (可选)\n     * webcontents webcontents (optional)\n     * frame webframemain (optional)\n     * resourcetype string - can be mainframe, subframe, stylesheet, script, image, font, object, xhr, ping, cspreport, media, websocket or other.\n     * referrer string\n     * timestamp double\n     * requestheaders record<string, string>\n   * callback function\n     * beforesendresponse object\n       * cancel boolean (可选)\n       * requestheaders record<string, string | string[]> (optional) - when provided, request will be made with these headers.\n\n一旦请求头可用，在发送 http 请求之前，listener 将以 listener(details, callback) 的形式被调用。 这可能发生在对服务器进行 tcp 连接之后，但在发送任何http数据之前。\n\nthe callback has to be called with a response object.\n\n# webrequest.onsendheaders([filter, ]listener)\n\n * filter webrequestfilter (optional)\n * listener function | null\n   * details object\n     * id integer\n     * url string\n     * method string\n     * webcontentsid integer (可选)\n     * webcontents webcontents (optional)\n     * frame webframemain (optional)\n     * resourcetype string - can be mainframe, subframe, stylesheet, script, image, font, object, xhr, ping, cspreport, media, websocket or other.\n     * referrer string\n     * timestamp double\n     * requestheaders record<string, string>\n\n在请求发送到服务器之前，listener将以listener(details)的形式被调用，在该侦听器被出发前，上一个对 onbeforesendheaders 响应的修改是可见的。\n\n# webrequest.onheadersreceived([filter, ]listener)\n\n * filter webrequestfilter (optional)\n * listener function | null\n   * details object\n     * id integer\n     * url string\n     * method string\n     * webcontentsid integer (可选)\n     * webcontents webcontents (optional)\n     * frame webframemain (optional)\n     * resourcetype string - can be mainframe, subframe, stylesheet, script, image, font, object, xhr, ping, cspreport, media, websocket or other.\n     * referrer string\n     * timestamp double\n     * statusline string\n     * statuscode integer\n     * responseheaders record<string, string[]> (optional)\n   * callback function\n     * headersreceivedresponse object\n       * cancel boolean (可选)\n       * responseheaders record<string, string | string[]> (optional) - when provided, the server is assumed to have responded with these headers.\n       * statusline string (optional) - should be provided when overriding responseheaders to change header status otherwise original response header's status will be used.\n\n当http请求接收到报头后，会通过调用 listener(details, callback)方法来触发listener。\n\nthe callback has to be called with a response object.\n\n# webrequest.onresponsestarted([filter, ]listener)\n\n * filter webrequestfilter (optional)\n * listener function | null\n   * details object\n     * id integer\n     * url string\n     * method string\n     * webcontentsid integer (可选)\n     * webcontents webcontents (optional)\n     * frame webframemain (optional)\n     * resourcetype string - can be mainframe, subframe, stylesheet, script, image, font, object, xhr, ping, cspreport, media, websocket or other.\n     * referrer string\n     * timestamp double\n     * responseheaders record<string, string[]> (optional)\n     * fromcache boolean - 表明响应是取自硬盘缓存。\n     * statuscode integer\n     * statusline string\n\n当收到响应体的第一个字节时， 将以 listener(details) 的形式来调用 listener。 对于 http 请求而言，这意味着此时 http 状态行和回应头已经可以读取了。\n\n# webrequest.onbeforeredirect([filter, ]listener)\n\n * filter webrequestfilter (optional)\n * listener function | null\n   * details object\n     * id integer\n     * url string\n     * method string\n     * webcontentsid integer (可选)\n     * webcontents webcontents (optional)\n     * frame webframemain (optional)\n     * resourcetype string - can be mainframe, subframe, stylesheet, script, image, font, object, xhr, ping, cspreport, media, websocket or other.\n     * referrer string\n     * timestamp double\n     * redirecturl string\n     * statuscode integer\n     * statusline string\n     * ip string (可选) - 请求实际发送到的服务器 ip 地址。\n     * fromcache boolean\n     * responseheaders record<string, string[]> (optional)\n\n当服务器的初始重定向即将发生时，将以 listener(details)的方式调用listener。\n\n# webrequest.oncompleted([filter, ]listener)\n\n * filter webrequestfilter (optional)\n * listener function | null\n   * details object\n     * id integer\n     * url string\n     * method string\n     * webcontentsid integer (可选)\n     * webcontents webcontents (optional)\n     * frame webframemain (optional)\n     * resourcetype string - can be mainframe, subframe, stylesheet, script, image, font, object, xhr, ping, cspreport, media, websocket or other.\n     * referrer string\n     * timestamp double\n     * responseheaders record<string, string[]> (optional)\n     * fromcache boolean\n     * statuscode integer\n     * statusline string\n     * error string\n\n当请求完成时，将以 listener(details)的方式调用listener。\n\n# webrequest.onerroroccurred([filter, ]listener)\n\n * filter webrequestfilter (optional)\n * listener function | null\n   * details object\n     * id integer\n     * url string\n     * method string\n     * webcontentsid integer (可选)\n     * webcontents webcontents (optional)\n     * frame webframemain (optional)\n     * resourcetype string - can be mainframe, subframe, stylesheet, script, image, font, object, xhr, ping, cspreport, media, websocket or other.\n     * referrer string\n     * timestamp double\n     * fromcache boolean\n     * error string - 错误描述.\n\n当发生错误时，将以 listener(details)的方式调用listener。",charsets:{cjk:!0}},{title:"webview-tag",frontmatter:{title:"webview-tag",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/30d795/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/webview-tag.html",relativePath:"《Electron中文文档》/api/webview-tag.md",key:"v-ac273aa4",path:"/pages/30d795/",headers:[{level:2,title:"警告",slug:"警告",normalizedTitle:"警告",charIndex:18},{level:2,title:"启用",slug:"启用",normalizedTitle:"启用",charIndex:191},{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:325},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:757},{level:2,title:"内部实现",slug:"内部实现",normalizedTitle:"内部实现",charIndex:1610},{level:2,title:"CSS 样式说明",slug:"css-样式说明",normalizedTitle:"css 样式说明",charIndex:1854},{level:2,title:"标签属性",slug:"标签属性",normalizedTitle:"标签属性",charIndex:2020},{level:3,title:"src",slug:"src",normalizedTitle:"src",charIndex:848},{level:3,title:"nodeintegration",slug:"nodeintegration",normalizedTitle:"nodeintegration",charIndex:2263},{level:3,title:"nodeintegrationinsubframes",slug:"nodeintegrationinsubframes",normalizedTitle:"nodeintegrationinsubframes",charIndex:2481},{level:3,title:"plugins",slug:"plugins",normalizedTitle:"plugins",charIndex:2859},{level:3,title:"preload",slug:"preload",normalizedTitle:"preload",charIndex:2716},{level:3,title:"httpreferrer",slug:"httpreferrer",normalizedTitle:"httpreferrer",charIndex:3839},{level:3,title:"useragent",slug:"useragent",normalizedTitle:"useragent",charIndex:4002},{level:3,title:"disablewebsecurity",slug:"disablewebsecurity",normalizedTitle:"disablewebsecurity",charIndex:4323},{level:3,title:"partition",slug:"partition",normalizedTitle:"partition",charIndex:4549},{level:3,title:"allowpopups",slug:"allowpopups",normalizedTitle:"allowpopups",charIndex:5142},{level:3,title:"webpreferences",slug:"webpreferences",normalizedTitle:"webpreferences",charIndex:5354},{level:3,title:"enableblinkfeatures",slug:"enableblinkfeatures",normalizedTitle:"enableblinkfeatures",charIndex:5703},{level:3,title:"disableblinkfeatures",slug:"disableblinkfeatures",normalizedTitle:"disableblinkfeatures",charIndex:6037},{level:2,title:"方法",slug:"方法",normalizedTitle:"方法",charIndex:733},{level:3,title:"<webview>.loadURL(url[, options])",slug:"webview-loadurl-url-options",normalizedTitle:"<webview>.loadurl(url[, options])",charIndex:6582},{level:3,title:"<webview>.downloadURL(url)",slug:"webview-downloadurl-url",normalizedTitle:"<webview>.downloadurl(url)",charIndex:7189},{level:3,title:"<webview>.getURL()",slug:"webview-geturl",normalizedTitle:"<webview>.geturl()",charIndex:7300},{level:3,title:"<webview>.getTitle()",slug:"webview-gettitle",normalizedTitle:"<webview>.gettitle()",charIndex:7345},{level:3,title:"<webview>.isLoading()",slug:"webview-isloading",normalizedTitle:"<webview>.isloading()",charIndex:7391},{level:3,title:"<webview>.isLoadingMainFrame()",slug:"webview-isloadingmainframe",normalizedTitle:"<webview>.isloadingmainframe()",charIndex:7445},{level:3,title:"<webview>.isWaitingForResponse()",slug:"webview-iswaitingforresponse",normalizedTitle:"<webview>.iswaitingforresponse()",charIndex:7583},{level:3,title:"<webview>.stop()",slug:"webview-stop",normalizedTitle:"<webview>.stop()",charIndex:7656},{level:3,title:"<webview>.reload()",slug:"webview-reload",normalizedTitle:"<webview>.reload()",charIndex:7708},{level:3,title:"<webview>.reloadIgnoringCache()",slug:"webview-reloadignoringcache",normalizedTitle:"<webview>.reloadignoringcache()",charIndex:7739},{level:3,title:"<webview>.canGoBack()",slug:"webview-cangoback",normalizedTitle:"<webview>.cangoback()",charIndex:7788},{level:3,title:"<webview>.canGoForward()",slug:"webview-cangoforward",normalizedTitle:"<webview>.cangoforward()",charIndex:7837},{level:3,title:"<webview>.canGoToOffset(offset)",slug:"webview-cangotooffset-offset",normalizedTitle:"<webview>.cangotooffset(offset)",charIndex:7889},{level:3,title:"<webview>.clearHistory()",slug:"webview-clearhistory",normalizedTitle:"<webview>.clearhistory()",charIndex:7975},{level:3,title:"<webview>.goBack()",slug:"webview-goback",normalizedTitle:"<webview>.goback()",charIndex:8013},{level:3,title:"<webview>.goForward()",slug:"webview-goforward",normalizedTitle:"<webview>.goforward()",charIndex:8045},{level:3,title:"<webview>.goToIndex(index)",slug:"webview-gotoindex-index",normalizedTitle:"<webview>.gotoindex(index)",charIndex:8080},{level:3,title:"<webview>.goToOffset(offset)",slug:"webview-gotooffset-offset",normalizedTitle:"<webview>.gotooffset(offset)",charIndex:8142},{level:3,title:"<webview>.isCrashed()",slug:"webview-iscrashed",normalizedTitle:"<webview>.iscrashed()",charIndex:8215},{level:3,title:"<webview>.setUserAgent(userAgent)",slug:"webview-setuseragent-useragent",normalizedTitle:"<webview>.setuseragent(useragent)",charIndex:8302},{level:3,title:"<webview>.getUserAgent()",slug:"webview-getuseragent",normalizedTitle:"<webview>.getuseragent()",charIndex:8374},{level:3,title:"<webview>.insertCSS(css)",slug:"webview-insertcss-css",normalizedTitle:"<webview>.insertcss(css)",charIndex:8426},{level:3,title:"<webview>.removeInsertedCSS(key)",slug:"webview-removeinsertedcss-key",normalizedTitle:"<webview>.removeinsertedcss(key)",charIndex:8594},{level:3,title:"<webview>.executeJavaScript(code[, userGesture])",slug:"webview-executejavascript-code-usergesture",normalizedTitle:"<webview>.executejavascript(code[, usergesture])",charIndex:8985},{level:3,title:"<webview>.openDevTools()",slug:"webview-opendevtools",normalizedTitle:"<webview>.opendevtools()",charIndex:9346},{level:3,title:"<webview>.closeDevTools()",slug:"webview-closedevtools",normalizedTitle:"<webview>.closedevtools()",charIndex:9402},{level:3,title:"<webview>.isDevToolsOpened()",slug:"webview-isdevtoolsopened",normalizedTitle:"<webview>.isdevtoolsopened()",charIndex:9459},{level:3,title:"<webview>.isDevToolsFocused()",slug:"webview-isdevtoolsfocused",normalizedTitle:"<webview>.isdevtoolsfocused()",charIndex:9530},{level:3,title:"<webview>.inspectElement(x, y)",slug:"webview-inspectelement-x-y",normalizedTitle:"<webview>.inspectelement(x, y)",charIndex:9605},{level:3,title:"<webview>.inspectSharedWorker()",slug:"webview-inspectsharedworker",normalizedTitle:"<webview>.inspectsharedworker()",charIndex:9728},{level:3,title:"<webview>.inspectServiceWorker()",slug:"webview-inspectserviceworker",normalizedTitle:"<webview>.inspectserviceworker()",charIndex:9841},{level:3,title:"<webview>.setAudioMuted(muted)",slug:"webview-setaudiomuted-muted",normalizedTitle:"<webview>.setaudiomuted(muted)",charIndex:9956},{level:3,title:"<webview>.isAudioMuted()",slug:"webview-isaudiomuted",normalizedTitle:"<webview>.isaudiomuted()",charIndex:10021},{level:3,title:"<webview>.isCurrentlyAudible()",slug:"webview-iscurrentlyaudible",normalizedTitle:"<webview>.iscurrentlyaudible()",charIndex:10074},{level:3,title:"<webview>.undo()",slug:"webview-undo",normalizedTitle:"<webview>.undo()",charIndex:10164},{level:3,title:"<webview>.redo()",slug:"webview-redo",normalizedTitle:"<webview>.redo()",charIndex:10203},{level:3,title:"<webview>.cut()",slug:"webview-cut",normalizedTitle:"<webview>.cut()",charIndex:10242},{level:3,title:"<webview>.copy()",slug:"webview-copy",normalizedTitle:"<webview>.copy()",charIndex:10279},{level:3,title:"<webview>.paste()",slug:"webview-paste",normalizedTitle:"<webview>.paste()",charIndex:10318},{level:3,title:"<webview>.pasteAndMatchStyle()",slug:"webview-pasteandmatchstyle",normalizedTitle:"<webview>.pasteandmatchstyle()",charIndex:10359},{level:3,title:"<webview>.delete()",slug:"webview-delete",normalizedTitle:"<webview>.delete()",charIndex:10426},{level:3,title:"<webview>.selectAll()",slug:"webview-selectall",normalizedTitle:"<webview>.selectall()",charIndex:10469},{level:3,title:"<webview>.unselect()",slug:"webview-unselect",normalizedTitle:"<webview>.unselect()",charIndex:10518},{level:3,title:"<webview>.replace(text)",slug:"webview-replace-text",normalizedTitle:"<webview>.replace(text)",charIndex:10565},{level:3,title:"<webview>.replaceMisspelling(text)",slug:"webview-replacemisspelling-text",normalizedTitle:"<webview>.replacemisspelling(text)",charIndex:10630},{level:3,title:"<webview>.insertText(text)",slug:"webview-inserttext-text",normalizedTitle:"<webview>.inserttext(text)",charIndex:10717},{level:3,title:"<webview>.findInPage(text[, options])",slug:"webview-findinpage-text-options",normalizedTitle:"<webview>.findinpage(text[, options])",charIndex:10796},{level:3,title:"<webview>.stopFindInPage(action)",slug:"webview-stopfindinpage-action",normalizedTitle:"<webview>.stopfindinpage(action)",charIndex:11331},{level:3,title:"<webview>.print([options])",slug:"webview-print-options",normalizedTitle:"<webview>.print([options])",charIndex:11711},{level:3,title:"<webview>.printToPDF(options)",slug:"webview-printtopdf-options",normalizedTitle:"<webview>.printtopdf(options)",charIndex:14044},{level:3,title:"<webview>.capturePage([rect])",slug:"webview-capturepage-rect",normalizedTitle:"<webview>.capturepage([rect])",charIndex:15308},{level:3,title:"<webview>.send(channel, ...args)",slug:"webview-send-channel-args",normalizedTitle:"<webview>.send(channel, ...args)",charIndex:15493},{level:3,title:"<webview>.sendToFrame(frameId, channel, ...args)",slug:"webview-sendtoframe-frameid-channel-args",normalizedTitle:"<webview>.sendtoframe(frameid, channel, ...args)",charIndex:15751},{level:3,title:"<webview>.sendInputEvent(event)",slug:"webview-sendinputevent-event",normalizedTitle:"<webview>.sendinputevent(event)",charIndex:16092},{level:3,title:"<webview>.setZoomFactor(factor)",slug:"webview-setzoomfactor-factor",normalizedTitle:"<webview>.setzoomfactor(factor)",charIndex:16325},{level:3,title:"<webview>.setZoomLevel(level)",slug:"webview-setzoomlevel-level",normalizedTitle:"<webview>.setzoomlevel(level)",charIndex:16495},{level:3,title:"<webview>.getZoomFactor()",slug:"webview-getzoomfactor",normalizedTitle:"<webview>.getzoomfactor()",charIndex:17015},{level:3,title:"<webview>.getZoomLevel()",slug:"webview-getzoomlevel",normalizedTitle:"<webview>.getzoomlevel()",charIndex:17088},{level:3,title:"<webview>.setVisualZoomLevelLimits(minimumLevel, maximumLevel)",slug:"webview-setvisualzoomlevellimits-minimumlevel-maximumlevel",normalizedTitle:"<webview>.setvisualzoomlevellimits(minimumlevel, maximumlevel)",charIndex:17159},{level:3,title:"<webview>.showDefinitionForSelection() macOS",slug:"webview-showdefinitionforselection-macos",normalizedTitle:"<webview>.showdefinitionforselection() macos",charIndex:17305},{level:3,title:"<webview>.getWebContentsId()",slug:"webview-getwebcontentsid",normalizedTitle:"<webview>.getwebcontentsid()",charIndex:17424},{level:2,title:"DOM Events",slug:"dom-events",normalizedTitle:"dom events",charIndex:17511},{level:3,title:"Event: 'load-commit'",slug:"event-load-commit",normalizedTitle:"event: 'load-commit'",charIndex:17553},{level:3,title:"Event: 'did-finish-load'",slug:"event-did-finish-load",normalizedTitle:"event: 'did-finish-load'",charIndex:17800},{level:3,title:"Event: 'did-fail-load'",slug:"event-did-fail-load",normalizedTitle:"event: 'did-fail-load'",charIndex:17977},{level:3,title:"Event: 'did-frame-finish-load'",slug:"event-did-frame-finish-load",normalizedTitle:"event: 'did-frame-finish-load'",charIndex:18165},{level:3,title:"Event: 'did-start-loading'",slug:"event-did-start-loading",normalizedTitle:"event: 'did-start-loading'",charIndex:18270},{level:3,title:"Event: 'did-stop-loading'",slug:"event-did-stop-loading",normalizedTitle:"event: 'did-stop-loading'",charIndex:18381},{level:3,title:"Event: 'did-attach'",slug:"event-did-attach",normalizedTitle:"event: 'did-attach'",charIndex:18490},{level:3,title:"事件: 'dom-ready'",slug:"事件-dom-ready",normalizedTitle:"事件: 'dom-ready'",charIndex:18565},{level:3,title:"事件： 'page-title-updated'",slug:"事件-page-title-updated",normalizedTitle:"事件： 'page-title-updated'",charIndex:18636},{level:3,title:"事件: 'page-favicon-updated'",slug:"事件-page-favicon-updated",normalizedTitle:"事件: 'page-favicon-updated'",charIndex:18821},{level:3,title:"事件: 'enter-html-full-screen'",slug:"事件-enter-html-full-screen",normalizedTitle:"事件: 'enter-html-full-screen'",charIndex:18931},{level:3,title:"事件: 'leave-html-full-screen'",slug:"事件-leave-html-full-screen",normalizedTitle:"事件: 'leave-html-full-screen'",charIndex:19022},{level:3,title:"Event: 'console-message'",slug:"event-console-message",normalizedTitle:"event: 'console-message'",charIndex:19113},{level:3,title:"Event: 'found-in-page'",slug:"event-found-in-page",normalizedTitle:"event: 'found-in-page'",charIndex:19722},{level:3,title:"Event: 'new-window'",slug:"event-new-window",normalizedTitle:"event: 'new-window'",charIndex:20263},{level:3,title:"Event: 'will-navigate'",slug:"event-will-navigate",normalizedTitle:"event: 'will-navigate'",charIndex:20996},{level:3,title:"Event: 'did-start-navigation'",slug:"event-did-start-navigation",normalizedTitle:"event: 'did-start-navigation'",charIndex:21550},{level:3,title:"Event: 'did-redirect-navigation'",slug:"event-did-redirect-navigation",normalizedTitle:"event: 'did-redirect-navigation'",charIndex:21808},{level:3,title:"Event: 'did-navigate'",slug:"event-did-navigate",normalizedTitle:"event: 'did-navigate'",charIndex:22053},{level:3,title:"Event: 'did-frame-navigate'",slug:"event-did-frame-navigate",normalizedTitle:"event: 'did-frame-navigate'",charIndex:22304},{level:3,title:"Event: 'did-navigate-in-page'",slug:"event-did-navigate-in-page",normalizedTitle:"event: 'did-navigate-in-page'",charIndex:22761},{level:3,title:"事件： 'close'",slug:"事件-close",normalizedTitle:"事件： 'close'",charIndex:22933},{level:3,title:"Event: 'ipc-message'",slug:"event-ipc-message",normalizedTitle:"event: 'ipc-message'",charIndex:23245},{level:3,title:"Event: 'crashed'",slug:"event-crashed",normalizedTitle:"event: 'crashed'",charIndex:23907},{level:3,title:"Event: 'plugin-crashed'",slug:"event-plugin-crashed",normalizedTitle:"event: 'plugin-crashed'",charIndex:23973},{level:3,title:"Event: 'destroyed'",slug:"event-destroyed",normalizedTitle:"event: 'destroyed'",charIndex:24081},{level:3,title:"Event: 'media-started-playing'",slug:"event-media-started-playing",normalizedTitle:"event: 'media-started-playing'",charIndex:24146},{level:3,title:"Event: 'media-paused'",slug:"event-media-paused",normalizedTitle:"event: 'media-paused'",charIndex:24198},{level:3,title:"Event: 'did-change-theme-color'",slug:"event-did-change-theme-color",normalizedTitle:"event: 'did-change-theme-color'",charIndex:24243},{level:3,title:"Event: 'update-target-url'",slug:"event-update-target-url",normalizedTitle:"event: 'update-target-url'",charIndex:24448},{level:3,title:"Event: 'devtools-opened'",slug:"event-devtools-opened",normalizedTitle:"event: 'devtools-opened'",charIndex:24525},{level:3,title:"Event: 'devtools-closed'",slug:"event-devtools-closed",normalizedTitle:"event: 'devtools-closed'",charIndex:24573},{level:3,title:"Event: 'devtools-focused'",slug:"event-devtools-focused",normalizedTitle:"event: 'devtools-focused'",charIndex:24621}],headersStr:"警告 启用 概览 示例 内部实现 CSS 样式说明 标签属性 src nodeintegration nodeintegrationinsubframes plugins preload httpreferrer useragent disablewebsecurity partition allowpopups webpreferences enableblinkfeatures disableblinkfeatures 方法 <webview>.loadURL(url[, options]) <webview>.downloadURL(url) <webview>.getURL() <webview>.getTitle() <webview>.isLoading() <webview>.isLoadingMainFrame() <webview>.isWaitingForResponse() <webview>.stop() <webview>.reload() <webview>.reloadIgnoringCache() <webview>.canGoBack() <webview>.canGoForward() <webview>.canGoToOffset(offset) <webview>.clearHistory() <webview>.goBack() <webview>.goForward() <webview>.goToIndex(index) <webview>.goToOffset(offset) <webview>.isCrashed() <webview>.setUserAgent(userAgent) <webview>.getUserAgent() <webview>.insertCSS(css) <webview>.removeInsertedCSS(key) <webview>.executeJavaScript(code[, userGesture]) <webview>.openDevTools() <webview>.closeDevTools() <webview>.isDevToolsOpened() <webview>.isDevToolsFocused() <webview>.inspectElement(x, y) <webview>.inspectSharedWorker() <webview>.inspectServiceWorker() <webview>.setAudioMuted(muted) <webview>.isAudioMuted() <webview>.isCurrentlyAudible() <webview>.undo() <webview>.redo() <webview>.cut() <webview>.copy() <webview>.paste() <webview>.pasteAndMatchStyle() <webview>.delete() <webview>.selectAll() <webview>.unselect() <webview>.replace(text) <webview>.replaceMisspelling(text) <webview>.insertText(text) <webview>.findInPage(text[, options]) <webview>.stopFindInPage(action) <webview>.print([options]) <webview>.printToPDF(options) <webview>.capturePage([rect]) <webview>.send(channel, ...args) <webview>.sendToFrame(frameId, channel, ...args) <webview>.sendInputEvent(event) <webview>.setZoomFactor(factor) <webview>.setZoomLevel(level) <webview>.getZoomFactor() <webview>.getZoomLevel() <webview>.setVisualZoomLevelLimits(minimumLevel, maximumLevel) <webview>.showDefinitionForSelection() macOS <webview>.getWebContentsId() DOM Events Event: 'load-commit' Event: 'did-finish-load' Event: 'did-fail-load' Event: 'did-frame-finish-load' Event: 'did-start-loading' Event: 'did-stop-loading' Event: 'did-attach' 事件: 'dom-ready' 事件： 'page-title-updated' 事件: 'page-favicon-updated' 事件: 'enter-html-full-screen' 事件: 'leave-html-full-screen' Event: 'console-message' Event: 'found-in-page' Event: 'new-window' Event: 'will-navigate' Event: 'did-start-navigation' Event: 'did-redirect-navigation' Event: 'did-navigate' Event: 'did-frame-navigate' Event: 'did-navigate-in-page' 事件： 'close' Event: 'ipc-message' Event: 'crashed' Event: 'plugin-crashed' Event: 'destroyed' Event: 'media-started-playing' Event: 'media-paused' Event: 'did-change-theme-color' Event: 'update-target-url' Event: 'devtools-opened' Event: 'devtools-closed' Event: 'devtools-focused'",content:"# <webview>标签\n\n\n# 警告\n\nElectron的 webview 标签基于 Chromium webview ，后者正在经历巨大的架构变化。 这将影响 webview 的稳定性，包括呈现、导航和事件路由。 我们目前建议不使用 webview 标签，并考虑其他替代方案，如 iframe ，Electron的 BrowserView 或完全避免嵌入内容的架构。\n\n\n# 启用\n\n默认情况下，Electron >= 5禁用 webview 标签。 在构造 BrowserWindow 时，需要通过设置 webviewTag webPreferences选项来启用标签。 更多信息请参看 BrowserWindows 的构造器文档。\n\n\n# 概览\n\n> 在一个独立的 frame 和进程里显示外部 web 内容。\n\nProcess: Renderer\nThis class is not exported from the 'electron' module. It is only available as a return value of other methods in the Electron API.\n\n使用 webview 标签将'guest'内容 (例如网页) 嵌入到您的 Electron 应用中。 Guest 内容包含在 webview 容器内。 应用中的嵌入页面可以控制外来内容的布局和重绘。\n\n与 iframe不同， webview 独立于您的应用程序运行。 它拥有和你的页面不一样的权限并且所嵌入的内容和你应用之间的交互都将是异步的。 这将保证你的应用对于嵌入的内容的安全性。 ** 注意: **从宿主页上调用 webview 的方法大多数都需要对主进程进行同步调用。\n\n\n# 示例\n\n若要在应用程序中嵌入网页, 请将 webview 标签添加到应用程序的被嵌入页面中 (这是将显示外来内容的应用程序页)。 在最简单的例子中, webview 标签包括网页的 src 和控制 webview 容器外观的 css 样式:\n\n<webview id=\"foo\" src=\"https://www.github.com/\" style=\"display:inline-flex; width:640px; height:480px\"></webview>\n\n\n1\n\n\n如果要以任何方式控制外来内容, 则可以写用于侦听 webview 事件的 JavaScript, 并使用 webview 方法响应这些事件。 下面是包含两个事件侦听器的示例代码: 一个侦听网页开始加载, 另一个用于网页停止加载, 并在加载时显示 \"loading...\" 消息:\n\n<script>\n  onload = () => {\n    const webview = document.querySelector('webview')\n    const indicator = document.querySelector('.indicator')\n\n    const loadstart = () => {\n      indicator.innerText = 'loading...'\n    }\n\n    const loadstop = () => {\n      indicator.innerText = ''\n    }\n\n    webview.addEventListener('did-start-loading', loadstart)\n    webview.addEventListener('did-stop-loading', loadstop)\n  }\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 内部实现\n\n在内部 webview 与 过程外 iframes（OOPIF）一起实施。 webview 标签本质上是一个自定义元素，使用 shadow DOM 将 iframe 元素包裹在里面。\n\n因此， webview 的行为与跨域 iframe 非常相似，例如：\n\n * 在 webview 中单击时，页面焦点将从嵌入器移动到 webview。\n * 您无法将键盘、鼠标和滚动事件侦听器添加到 webview。\n * 嵌入器框架和 webview 之间的所有反应都是异步的。\n\n\n# CSS 样式说明\n\n请注意，webview 标签的样式使用 display:flex; 来确保 iframe在传统和 flex 布局一起使用的情况下填充其 webview 容器的全部高度和宽度。 除非指定内联布局的 display:inline-flex; ，否则请不要 覆盖默认 display:flex; CSS属性。\n\n\n# 标签属性\n\nwebview 标签具有以下属性：\n\n\n# src\n\n<webview src=\"https://www.github.com/\"></webview>\n\n\n1\n\n\n表示可见网址的 String 。 Writing to this attribute initiates top-level navigation.\n\n更改 src 的值将重新加载当前页面。\n\nsrc 属性还可以接受数据 URL, 如 data:text/plain, Hello, world!。\n\n\n# nodeintegration\n\n<webview src=\"http://www.google.com/\" nodeintegration></webview>\n\n\n1\n\n\n一个 Boolean。 当有此属性时, webview 中的访客页（guest page）将具有Node集成, 并且可以使用像 require 和 process 这样的node APIs 去访问低层系统资源。 Node 集成在访客页中默认是禁用的。\n\n\n# nodeintegrationinsubframes\n\n<webview src=\"http://www.google.com/\" nodeintegrationinsubframes></webview>\n\n\n1\n\n\nA Boolean for the experimental option for enabling NodeJS support in sub-frames such as iframes inside the webview. All your preloads will load for every iframe, you can use process.isMainFrame to determine if you are in the main frame or not. Node 集成在访客页中默认是禁用的。\n\n\n# plugins\n\n<webview src=\"https://www.github.com/\" plugins></webview>\n\n\n1\n\n\n一个 Boolean。 When this attribute is present the guest page in webview will be able to use browser plugins. Plugins are disabled by default.\n\n\n# preload\n\n\x3c!-- from a file --\x3e\n<webview src=\"https://www.github.com/\" preload=\"./test.js\"></webview>\n\x3c!-- or if you want to load from an asar archive --\x3e\n<webview src=\"https://www.github.com/\" preload=\"./app.asar/test.js\"></webview>\n\n\n1\n2\n3\n4\n\n\nA String that specifies a script that will be loaded before other scripts run in the guest page. The protocol of script's URL must be file: (even when using asar: archives) because it will be loaded by Node's require under the hood, which treats asar: archives as virtual directories.\n\n当访客页没有 node integration ，这个脚本仍然有能力去访问所有的 Node APIs, 但是当这个脚本执行执行完成之后，通过Node 注入的全局对象（global objects）将会被删除。\n\nNote: This option will appear as preloadURL (not preload) in the webPreferences specified to the will-attach-webview event.\n\n\n# httpreferrer\n\n<webview src=\"https://www.github.com/\" httpreferrer=\"http://cheng.guru\"></webview>\n\n\n1\n\n\nA String that sets the referrer URL for the guest page.\n\n\n# useragent\n\n<webview src=\"https://www.github.com/\" useragent=\"Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; AS; rv:11.0) like Gecko\"></webview>\n\n\n1\n\n\nA String that sets the user agent for the guest page before the page is navigated to. Once the page is loaded, use the setUserAgent method to change the user agent.\n\n\n# disablewebsecurity\n\n<webview src=\"https://www.github.com/\" disablewebsecurity></webview>\n\n\n1\n\n\n一个 Boolean。 When this attribute is present the guest page will have web security disabled. Web security is enabled by default.\n\n\n# partition\n\n<webview src=\"https://github.com\" partition=\"persist:github\"></webview>\n<webview src=\"https://electronjs.org\" partition=\"electron\"></webview>\n\n\n1\n2\n\n\nA String that sets the session used by the page. 如果 partition 以 persist:开头, 该页面将使用持续的 session，并在所有页面生效，且使用同一个partition. 如果没有 persist: 前缀, 页面将使用 in-memory session. 通过分配相同的 partition, 多个页可以共享同一会话。 如果没有设置partition，app 将会使用默认的session。\n\nThis value can only be modified before the first navigation, since the session of an active renderer process cannot change. Subsequent attempts to modify the value will fail with a DOM exception.\n\n\n# allowpopups\n\n<webview src=\"https://www.github.com/\" allowpopups></webview>\n\n\n1\n\n\n一个 Boolean。 When this attribute is present the guest page will be allowed to open new windows. Popups are disabled by default.\n\n\n# webpreferences\n\n<webview src=\"https://github.com\" webpreferences=\"allowRunningInsecureContent, javascript=no\"></webview>\n\n\n1\n\n\nString 是一个由逗号分割的字符串列表，其中指定了要设置在 webview 上的 Web 首选项。 支持的首选项字符串的完整列表，请查看 BrowserWindow。\n\n该字符串的格式与 window.open 中的功能字符串( the features string )相同。 只有自己名字的将被赋予 true 布尔值。 可以通过 = 来赋予其他值。 yes 和 1 会被解析成 true，而 no 和 0 解析为 false。\n\n\n# enableblinkfeatures\n\n<webview src=\"https://www.github.com/\" enableblinkfeatures=\"PreciseMemoryInfo, CSSVariables\"></webview>\n\n\n1\n\n\nA String which is a list of strings which specifies the blink features to be enabled separated by ,. The full list of supported feature strings can be found in the RuntimeEnabledFeatures.json5 file.\n\n\n# disableblinkfeatures\n\n<webview src=\"https://www.github.com/\" disableblinkfeatures=\"PreciseMemoryInfo, CSSVariables\"></webview>\n\n\n1\n\n\nA String which is a list of strings which specifies the blink features to be disabled separated by ,. The full list of supported feature strings can be found in the RuntimeEnabledFeatures.json5 file.\n\n\n# 方法\n\nwebview 标签具有以下方法：\n\n** 注意: **使用方法之前 <0>webview</0> 元素必须已被加载。\n\n示例\n\nconst webview = document.querySelector('webview')\nwebview.addEventListener('dom-ready', () => {\n  webview.openDevTools()\n})\n\n\n1\n2\n3\n4\n\n\n\n# <webview>.loadURL(url[, options])\n\n * url URL\n * options Object (可选)\n   * httpReferrer (String | Referrer) (可选) - 一个 HTTP Referrer url。\n   * userAgent String (可选) - 发起请求的 userAgent.\n   * extraHeaders String (可选) - 用 \"\\n\" 分割的额外标题\n   * postData (UploadRawData | UploadFile)[] (可选)\n   * baseURLForDataURL String (可选) - 要加载的数据文件的根 url(带有路径分隔符). 只有当指定的 url是一个数据 url 并需要加载其他文件时，才需要这样做。\n\nReturns Promise<void> - The promise will resolve when the page has finished loading (see did-finish-load), and rejects if the page fails to load (see did-fail-load).\n\nwebview 中加载目标 url，url 地址必须包含协议前缀，例如：http:// 或 file://。\n\n\n# <webview>.downloadURL(url)\n\n * url String\n\nInitiates a download of the resource at url without navigating.\n\n\n# <webview>.getURL()\n\n返回 String - 访客页的URL。\n\n\n# <webview>.getTitle()\n\n返回 String - 访客页的标题。\n\n\n# <webview>.isLoading()\n\n返回 Boolean - 访客页是否仍然在加载资源。\n\n\n# <webview>.isLoadingMainFrame()\n\nReturns Boolean - Whether the main frame (and not just iframes or frames within it) is still loading.\n\n\n# <webview>.isWaitingForResponse()\n\n返回 Boolean - 访客页面是否正在等待页面主资源的第一响应。\n\n\n# <webview>.stop()\n\nStops any pending navigation.\n\n\n# <webview>.reload()\n\n刷新访客页。\n\n\n# <webview>.reloadIgnoringCache()\n\n刷新访客页并忽略缓存。\n\n\n# <webview>.canGoBack()\n\n返回 Boolean - 访客页能否后退。\n\n\n# <webview>.canGoForward()\n\n返回 Boolean - 访客页能否前进。\n\n\n# <webview>.canGoToOffset(offset)\n\n * offset Integer\n\n返回 Boolean - 访客页能否前进到 offset。\n\n\n# <webview>.clearHistory()\n\n清除定位历史。\n\n\n# <webview>.goBack()\n\n使访客页后退。\n\n\n# <webview>.goForward()\n\n使访客页前进。\n\n\n# <webview>.goToIndex(index)\n\n * index Integer\n\n定位到指定的绝对索引。\n\n\n# <webview>.goToOffset(offset)\n\n * offset Integer\n\n定位到相对于“当前入口”的指定的偏移。\n\n\n# <webview>.isCrashed()\n\nReturns Boolean - Whether the renderer process has crashed.\n\n\n# <webview>.setUserAgent(userAgent)\n\n * userAgent String\n\n覆盖访客页的用户代理。\n\n\n# <webview>.getUserAgent()\n\n返回 String - 访客页的用户代理。\n\n\n# <webview>.insertCSS(css)\n\n * css String\n\nReturns Promise<String> - A promise that resolves with a key for the inserted CSS that can later be used to remove the CSS via <webview>.removeInsertedCSS(key).\n\nInjects CSS into the current web page and returns a unique key for the inserted stylesheet.\n\n\n# <webview>.removeInsertedCSS(key)\n\n * key String\n\nReturns Promise<void> - Resolves if the removal was successful.\n\nRemoves the inserted CSS from the current web page. The stylesheet is identified by its key, which is returned from <webview>.insertCSS(css).\n\n\n# <webview>.executeJavaScript(code[, userGesture])\n\n * code String\n * userGesture Boolean (可选) - 默认为 false。\n\nReturns Promise<any> - A promise that resolves with the result of the executed code or is rejected if the result of the code is a rejected promise.\n\n在页面中执行 code。 如果设置了userGesture，它将在页面中创建用户手势上下文。 像 requestFullScreen 这样的需要用户操作的HTML API可以利用这个选项来实现自动化。\n\n\n# <webview>.openDevTools()\n\n打开 guest 页面的 DevTools 窗口。\n\n\n# <webview>.closeDevTools()\n\n关闭 guest 页面的 DevTools 窗口。\n\n\n# <webview>.isDevToolsOpened()\n\n返回 Boolean - guest 页面是否打开了 Devtools。\n\n\n# <webview>.isDevToolsFocused()\n\n返回 Boolean - guest 页面的 DevTools 窗口是否聚焦。\n\n\n# <webview>.inspectElement(x, y)\n\n * x Integer\n * y Integer\n\nStarts inspecting element at position (x, y) of guest page.\n\n\n# <webview>.inspectSharedWorker()\n\nOpens the DevTools for the shared worker context present in the guest page.\n\n\n# <webview>.inspectServiceWorker()\n\nOpens the DevTools for the service worker context present in the guest page.\n\n\n# <webview>.setAudioMuted(muted)\n\n * muted Boolean\n\n设置访客页是否静音。\n\n\n# <webview>.isAudioMuted()\n\n返回 Boolean - 访客页是否被静音。\n\n\n# <webview>.isCurrentlyAudible()\n\nReturns Boolean - Whether audio is currently playing.\n\n\n# <webview>.undo()\n\n在页面中执行编辑命令 undo。\n\n\n# <webview>.redo()\n\n在页面中执行编辑命令 redo。\n\n\n# <webview>.cut()\n\n在页面中执行编辑命令 cut。\n\n\n# <webview>.copy()\n\n在页面中执行编辑命令 copy。\n\n\n# <webview>.paste()\n\n在页面中执行编辑命令 paste。\n\n\n# <webview>.pasteAndMatchStyle()\n\n在页面中执行编辑命令 pasteAndMatchStyle。\n\n\n# <webview>.delete()\n\n在页面中执行编辑命令 delete。\n\n\n# <webview>.selectAll()\n\n在页面中执行编辑命令 selectAll。\n\n\n# <webview>.unselect()\n\n在页面中执行编辑命令 unselect。\n\n\n# <webview>.replace(text)\n\n * text String\n\n在页面中执行编辑命令 replace。\n\n\n# <webview>.replaceMisspelling(text)\n\n * text String\n\n在页面中执行编辑命令 replaceMisspelling。\n\n\n# <webview>.insertText(text)\n\n * text String\n\n返回 Promise<void>\n\n插入text 到焦点元素\n\n\n# <webview>.findInPage(text[, options])\n\n * text String - 要搜索的内容，必须非空。\n * options Object (可选)\n   * forward Boolean (可选) -向前或向后搜索，默认为 true。\n   * findNext Boolean (可选) - 是否使用此请求开始一个新的文本查找会话。 对于初始请求应该为 true ，对后续请求为 false 。 默认值为 false.\n   * matchCase Boolean (optional) - Whether search should be case-sensitive, defaults to false.\n\nReturns Integer - The request id used for the request.\n\nStarts a request to find all matches for the text in the web page. The result of the request can be obtained by subscribing to found-in-page event.\n\n\n# <webview>.stopFindInPage(action)\n\n * action String - Specifies the action to take place when ending <webview>.findInPage request.\n   * clearSelection - Clear the selection.\n   * keepSelection - Translate the selection into a normal selection.\n   * activateSelection - Focus and click the selection node.\n\nStops any findInPage request for the webview with the provided action.\n\n\n# <webview>.print([options])\n\n * options Object (可选)\n   * silent Boolean (optional) - Don't ask user for print settings. 默认值为 false.\n   * printBackground Boolean (optional) - Prints the background color and image of the web page. 默认值为 false.\n   * deviceName String (optional) - Set the printer device name to use. Must be the system-defined name and not the 'friendly' name, e.g 'Brother_QL_820NWB' and not 'Brother QL-820NWB'.\n   * color Boolean (optional) - Set whether the printed web page will be in color or grayscale. 默认值为 true。\n   * margins Object (可选)\n     * marginType String (optional) - Can be default, none, printableArea, or custom. If custom is chosen, you will also need to specify top, bottom, left, and right.\n     * top Number (optional) - The top margin of the printed web page, in pixels.\n     * bottom Number (optional) - The bottom margin of the printed web page, in pixels.\n     * left Number (optional) - The left margin of the printed web page, in pixels.\n     * right Number (optional) - The right margin of the printed web page, in pixels.\n   * landscape Boolean (optional) - Whether the web page should be printed in landscape mode. 默认值为 false.\n   * scaleFactor Number (optional) - The scale factor of the web page.\n   * pagesPerSheet Number (optional) - The number of pages to print per page sheet.\n   * collate Boolean (optional) - Whether the web page should be collated.\n   * copies Number (optional) - The number of copies of the web page to print.\n   * pageRanges Object[] (optional) - The page range to print.\n     * from Number - Index of the first page to print (0-based).\n     * to Number - Index of the last page to print (inclusive) (0-based).\n   * duplexMode String (optional) - Set the duplex mode of the printed web page. 可以是 simplex、shortEdge 或 longEdge。\n   * dpi Record<string, number> (optional)\n     * horizontal Number (optional) - The horizontal dpi.\n     * vertical Number (optional) - The vertical dpi.\n   * header String (optional) - String to be printed as page header.\n   * footer String (optional) - String to be printed as page footer.\n   * pageSize String | Size (optional) - Specify page size of the printed document. Can be A3, A4, A5, Legal, Letter, Tabloid or an Object containing height.\n\n返回 Promise<void>\n\nPrints webview's web page. 与 webContents.print([options]) 相同.\n\n\n# <webview>.printToPDF(options)\n\n * 选项 对象\n   * headerFooter Record<string, string> (optional) - the header and footer for the PDF.\n     * title String - The title for the PDF header.\n     * url String - the url for the PDF footer.\n   * landscape Boolean (optional) - true for landscape, false for portrait.\n   * marginsType Integer (optional) - Specifies the type of margins to use. Uses 0 for default margin, 1 for no margin, and 2 for minimum margin. and width in microns.\n   * scaleFactor Number (optional) - The scale factor of the web page. Can range from 0 to 100.\n   * pageRanges Record<string, number> (optional) - The page range to print. 在macOS上，只有数组的第一个值被信任。\n     * from Number - Index of the first page to print (0-based).\n     * to Number - Index of the last page to print (inclusive) (0-based).\n   * pageSize String | Size (optional) - Specify page size of the generated PDF. Can be A3, A4, A5, Legal, Letter, Tabloid or an Object containing height\n   * printBackground Boolean (optional) - Whether to print CSS backgrounds.\n   * printSelectionOnly Boolean (optional) - Whether to print selection only.\n\nReturns Promise<Uint8Array> - Resolves with the generated PDF data.\n\nPrints webview's web page as PDF, Same as webContents.printToPDF(options).\n\n\n# <webview>.capturePage([rect])\n\n * rect Rectangle (optional) - The area of the page to be captured.\n\n返回 Promise<NativeImage> - 完成后返回一个NativeImage\n\n在 rect内捕获页面的快照。 省略 rect 将捕获整个可见页面。\n\n\n# <webview>.send(channel, ...args)\n\n * channel String\n * ...args any[]\n\n返回 Promise<void>\n\n通过channel向渲染器进程发送异步消息，可以发送任意参数。 The renderer process can handle the message by listening to the channel event with the ipcRenderer module.\n\n示例请进传送门： webContents.send\n\n\n# <webview>.sendToFrame(frameId, channel, ...args)\n\n * frameId [number, number] - [processId, frameId]\n * channel String\n * ...args any[]\n\n返回 Promise<void>\n\n通过channel向渲染器进程发送异步消息，可以发送任意参数。 The renderer process can handle the message by listening to the channel event with the ipcRenderer module.\n\nSee webContents.sendToFrame for examples.\n\n\n# <webview>.sendInputEvent(event)\n\n * event MouseInputEvent | MouseWheelInputEvent | KeyboardInputEvent\n\n返回 Promise<void>\n\nSends an input event to the page.\n\nSee webContents.sendInputEvent for detailed description of event object.\n\n\n# <webview>.setZoomFactor(factor)\n\n * factor Number - 缩放比例\n\nChanges the zoom factor to the specified factor. Zoom factor is zoom percent divided by 100, so 300% = 3.0.\n\n\n# <webview>.setZoomLevel(level)\n\n * level Number - 缩放等级。\n\n更改缩放等级。 The original size is 0 and each increment above or below represents zooming 20% larger or smaller to default limits of 300% and 50% of original size, respectively. The formula for this is scale := 1.2 ^ level.\n\n> NOTE: The zoom policy at the Chromium level is same-origin, meaning that the zoom level for a specific domain propagates across all instances of windows with the same domain. Differentiating the window URLs will make zoom work per-window.\n\n\n# <webview>.getZoomFactor()\n\nReturns Number - the current zoom factor.\n\n\n# <webview>.getZoomLevel()\n\nReturns Number - the current zoom level.\n\n\n# <webview>.setVisualZoomLevelLimits(minimumLevel, maximumLevel)\n\n * minimumLevel Number\n * maximumLevel Number\n\n返回 Promise<void>\n\n设置最大和最小缩放级别。\n\n\n# <webview>.showDefinitionForSelection() macOS\n\nShows pop-up dictionary that searches the selected word on the page.\n\n\n# <webview>.getWebContentsId()\n\nReturns Number - The WebContents ID of this webview.\n\n\n# DOM Events\n\nwebview 标签具有以下有效的 DOM 事件：\n\n\n# Event: 'load-commit'\n\n返回:\n\n * url String\n * isMainFrame Boolean\n\nFired when a load has committed. This includes navigation within the current document as well as subframe document-level loads, but does not include asynchronous resource loads.\n\n\n# Event: 'did-finish-load'\n\n导航完成时触发，即选项卡的旋转器将停止旋转，并指派onload事件后。（译者：网页加载的过程中，并不是所有的浏览器都是转圈圈，而且浏览器版本不同，加载效果也有可能不一样。其中 ie 和 chrome 是转圈圈，safari 是进度条，firefox是一个小点左右来回移动--20180103）\n\n\n# Event: 'did-fail-load'\n\n返回:\n\n * errorCode Integer\n * errorDescription String\n * validatedURL String\n * isMainFrame Boolean\n\n这个事件类似于 did-finish-load, 不过是在加载失败或取消后触发，例如调用了 window.stop()\n\n\n# Event: 'did-frame-finish-load'\n\n返回:\n\n * isMainFrame Boolean\n\nFired when a frame has done navigation.\n\n\n# Event: 'did-start-loading'\n\nCorresponds to the points in time when the spinner of the tab starts spinning.\n\n\n# Event: 'did-stop-loading'\n\nCorresponds to the points in time when the spinner of the tab stops spinning.\n\n\n# Event: 'did-attach'\n\nFired when attached to the embedder web contents.\n\n\n# 事件: 'dom-ready'\n\nFired when document in the given frame is loaded.\n\n\n# 事件： 'page-title-updated'\n\n返回:\n\n * title String\n * explicitSet Boolean\n\nFired when page title is set during navigation. explicitSet is false when title is synthesized from file url.\n\n\n# 事件: 'page-favicon-updated'\n\n返回:\n\n * favicons String[] - 由连接组成的数组。\n\nFired when page receives favicon urls.\n\n\n# 事件: 'enter-html-full-screen'\n\nFired when page enters fullscreen triggered by HTML API.\n\n\n# 事件: 'leave-html-full-screen'\n\nFired when page leaves fullscreen triggered by HTML API.\n\n\n# Event: 'console-message'\n\n返回:\n\n * level Integer - The log level, from 0 to 3. 按顺序匹配 verbose, info, warning 和 error.\n * message String - 实际控制台消息\n * line Integer - The line number of the source that triggered this console message\n * sourceId String\n\nFired when the guest window logs a console message.\n\nThe following example code forwards all log messages to the embedder's console without regard for log level or other properties.\n\nconst webview = document.querySelector('webview')\nwebview.addEventListener('console-message', (e) => {\n  console.log('Guest page logged a message:', e.message)\n})\n\n\n1\n2\n3\n4\n\n\n\n# Event: 'found-in-page'\n\n返回:\n\n * result Object\n   * requestId Integer\n   * activeMatchOrdinal Integer - 当前匹配位置。\n   * matches Integer - 符合匹配条件的元素个数。\n   * selectionArea Rectangle - Coordinates of first match region.\n   * finalUpdate Boolean\n\nFired when a result is available for webview.findInPage request.\n\nconst webview = document.querySelector('webview')\nwebview.addEventListener('found-in-page', (e) => {\n  webview.stopFindInPage('keepSelection')\n})\n\nconst requestId = webview.findInPage('test')\nconsole.log(requestId)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Event: 'new-window'\n\n返回:\n\n * url String\n * frameName String\n * disposition String - 可以被设置为 default, foreground-tab, background-tab, new-window, save-to-disk 及 other.\n * options BrowserWindowConstructorOptions - The options which should be used for creating the new BrowserWindow.\n\nFired when the guest page attempts to open a new browser window.\n\nThe following example code opens the new url in system's default browser.\n\nconst { shell } = require('electron')\nconst webview = document.querySelector('webview')\n\nwebview.addEventListener('new-window', async (e) => {\n  const protocol = (new URL(e.url)).protocol\n  if (protocol === 'http:' || protocol === 'https:') {\n    await shell.openExternal(e.url)\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# Event: 'will-navigate'\n\n返回:\n\n * url String\n\nEmitted when a user or the page wants to start navigation. It can happen when the window.location object is changed or a user clicks a link in the page.\n\nThis event will not emit when the navigation is started programmatically with APIs like <webview>.loadURL and <webview>.back.\n\nIt is also not emitted during in-page navigation, such as clicking anchor links or updating the window.location.hash. Use did-navigate-in-page event for this purpose.\n\nCalling event.preventDefault() does NOT have any effect.\n\n\n# Event: 'did-start-navigation'\n\n返回:\n\n * url String\n * isInPlace Boolean\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\nEmitted when any frame (including main) starts navigating. isInPlace will be true for in-page navigations.\n\n\n# Event: 'did-redirect-navigation'\n\n返回:\n\n * url String\n * isInPlace Boolean\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\nEmitted after a server side redirect occurs during navigation. For example a 302 redirect.\n\n\n# Event: 'did-navigate'\n\n返回:\n\n * url String\n\nEmitted when a navigation is done.\n\nThis event is not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. Use did-navigate-in-page event for this purpose.\n\n\n# Event: 'did-frame-navigate'\n\n返回:\n\n * url String\n * httpResponseCode Integer - -1 for non HTTP navigations\n * httpStatusText String - empty for non HTTP navigations,\n * isMainFrame Boolean\n * frameProcessId Integer\n * frameRoutingId Integer\n\nEmitted when any frame navigation is done.\n\nThis event is not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. Use did-navigate-in-page event for this purpose.\n\n\n# Event: 'did-navigate-in-page'\n\n返回:\n\n * isMainFrame Boolean\n * url String\n\n当发生页内导航时，触发该事件。\n\n当发生页内导航时，虽然页面地址发生变化，但它并没有导航到其它页面。 例如，点击锚点链接，或者DOM的 hashchange事件被触发时，都会触发该事件。\n\n\n# 事件： 'close'\n\nFired when the guest page attempts to close itself.\n\nThe following example code navigates the webview to about:blank when the guest attempts to close itself.\n\nconst webview = document.querySelector('webview')\nwebview.addEventListener('close', () => {\n  webview.src = 'about:blank'\n})\n\n\n1\n2\n3\n4\n\n\n\n# Event: 'ipc-message'\n\n返回:\n\n * frameId [number, number] - pair of [processId, frameId].\n * channel String\n * args any[]\n\nFired when the guest page has sent an asynchronous message to embedder page.\n\nWith sendToHost method and ipc-message event you can communicate between guest page and embedder page:\n\n// In embedder page.\nconst webview = document.querySelector('webview')\nwebview.addEventListener('ipc-message', (event) => {\n  console.log(event.channel)\n  // Prints \"pong\"\n})\nwebview.send('ping')\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n// In guest page.\nconst { ipcRenderer } = require('electron')\nipcRenderer.on('ping', () => {\n  ipcRenderer.sendToHost('pong')\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# Event: 'crashed'\n\nFired when the renderer process is crashed.\n\n\n# Event: 'plugin-crashed'\n\n返回:\n\n * name String\n * version String\n\nFired when a plugin process is crashed.\n\n\n# Event: 'destroyed'\n\nFired when the WebContents is destroyed.\n\n\n# Event: 'media-started-playing'\n\n多媒体开始播放时，触发该事件。\n\n\n# Event: 'media-paused'\n\n当媒体文件暂停或播放完成的时候触发\n\n\n# Event: 'did-change-theme-color'\n\n返回:\n\n * themeColor String\n\nEmitted when a page's theme color changes. This is usually due to encountering a meta tag:\n\n<meta name='theme-color' content='#ff0000'>\n\n\n1\n\n\n\n# Event: 'update-target-url'\n\n返回:\n\n * url String\n\n当鼠标滑到，或者键盘切换到a连接时，触发该事件。\n\n\n# Event: 'devtools-opened'\n\n当开发者工具被打开时，触发该事件。\n\n\n# Event: 'devtools-closed'\n\n当开发者工具被关闭时，触发该事件。\n\n\n# Event: 'devtools-focused'\n\n当开发者工具被选中/打开时，触发该事件。",normalizedContent:"# <webview>标签\n\n\n# 警告\n\nelectron的 webview 标签基于 chromium webview ，后者正在经历巨大的架构变化。 这将影响 webview 的稳定性，包括呈现、导航和事件路由。 我们目前建议不使用 webview 标签，并考虑其他替代方案，如 iframe ，electron的 browserview 或完全避免嵌入内容的架构。\n\n\n# 启用\n\n默认情况下，electron >= 5禁用 webview 标签。 在构造 browserwindow 时，需要通过设置 webviewtag webpreferences选项来启用标签。 更多信息请参看 browserwindows 的构造器文档。\n\n\n# 概览\n\n> 在一个独立的 frame 和进程里显示外部 web 内容。\n\nprocess: renderer\nthis class is not exported from the 'electron' module. it is only available as a return value of other methods in the electron api.\n\n使用 webview 标签将'guest'内容 (例如网页) 嵌入到您的 electron 应用中。 guest 内容包含在 webview 容器内。 应用中的嵌入页面可以控制外来内容的布局和重绘。\n\n与 iframe不同， webview 独立于您的应用程序运行。 它拥有和你的页面不一样的权限并且所嵌入的内容和你应用之间的交互都将是异步的。 这将保证你的应用对于嵌入的内容的安全性。 ** 注意: **从宿主页上调用 webview 的方法大多数都需要对主进程进行同步调用。\n\n\n# 示例\n\n若要在应用程序中嵌入网页, 请将 webview 标签添加到应用程序的被嵌入页面中 (这是将显示外来内容的应用程序页)。 在最简单的例子中, webview 标签包括网页的 src 和控制 webview 容器外观的 css 样式:\n\n<webview id=\"foo\" src=\"https://www.github.com/\" style=\"display:inline-flex; width:640px; height:480px\"></webview>\n\n\n1\n\n\n如果要以任何方式控制外来内容, 则可以写用于侦听 webview 事件的 javascript, 并使用 webview 方法响应这些事件。 下面是包含两个事件侦听器的示例代码: 一个侦听网页开始加载, 另一个用于网页停止加载, 并在加载时显示 \"loading...\" 消息:\n\n<script>\n  onload = () => {\n    const webview = document.queryselector('webview')\n    const indicator = document.queryselector('.indicator')\n\n    const loadstart = () => {\n      indicator.innertext = 'loading...'\n    }\n\n    const loadstop = () => {\n      indicator.innertext = ''\n    }\n\n    webview.addeventlistener('did-start-loading', loadstart)\n    webview.addeventlistener('did-stop-loading', loadstop)\n  }\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 内部实现\n\n在内部 webview 与 过程外 iframes（oopif）一起实施。 webview 标签本质上是一个自定义元素，使用 shadow dom 将 iframe 元素包裹在里面。\n\n因此， webview 的行为与跨域 iframe 非常相似，例如：\n\n * 在 webview 中单击时，页面焦点将从嵌入器移动到 webview。\n * 您无法将键盘、鼠标和滚动事件侦听器添加到 webview。\n * 嵌入器框架和 webview 之间的所有反应都是异步的。\n\n\n# css 样式说明\n\n请注意，webview 标签的样式使用 display:flex; 来确保 iframe在传统和 flex 布局一起使用的情况下填充其 webview 容器的全部高度和宽度。 除非指定内联布局的 display:inline-flex; ，否则请不要 覆盖默认 display:flex; css属性。\n\n\n# 标签属性\n\nwebview 标签具有以下属性：\n\n\n# src\n\n<webview src=\"https://www.github.com/\"></webview>\n\n\n1\n\n\n表示可见网址的 string 。 writing to this attribute initiates top-level navigation.\n\n更改 src 的值将重新加载当前页面。\n\nsrc 属性还可以接受数据 url, 如 data:text/plain, hello, world!。\n\n\n# nodeintegration\n\n<webview src=\"http://www.google.com/\" nodeintegration></webview>\n\n\n1\n\n\n一个 boolean。 当有此属性时, webview 中的访客页（guest page）将具有node集成, 并且可以使用像 require 和 process 这样的node apis 去访问低层系统资源。 node 集成在访客页中默认是禁用的。\n\n\n# nodeintegrationinsubframes\n\n<webview src=\"http://www.google.com/\" nodeintegrationinsubframes></webview>\n\n\n1\n\n\na boolean for the experimental option for enabling nodejs support in sub-frames such as iframes inside the webview. all your preloads will load for every iframe, you can use process.ismainframe to determine if you are in the main frame or not. node 集成在访客页中默认是禁用的。\n\n\n# plugins\n\n<webview src=\"https://www.github.com/\" plugins></webview>\n\n\n1\n\n\n一个 boolean。 when this attribute is present the guest page in webview will be able to use browser plugins. plugins are disabled by default.\n\n\n# preload\n\n\x3c!-- from a file --\x3e\n<webview src=\"https://www.github.com/\" preload=\"./test.js\"></webview>\n\x3c!-- or if you want to load from an asar archive --\x3e\n<webview src=\"https://www.github.com/\" preload=\"./app.asar/test.js\"></webview>\n\n\n1\n2\n3\n4\n\n\na string that specifies a script that will be loaded before other scripts run in the guest page. the protocol of script's url must be file: (even when using asar: archives) because it will be loaded by node's require under the hood, which treats asar: archives as virtual directories.\n\n当访客页没有 node integration ，这个脚本仍然有能力去访问所有的 node apis, 但是当这个脚本执行执行完成之后，通过node 注入的全局对象（global objects）将会被删除。\n\nnote: this option will appear as preloadurl (not preload) in the webpreferences specified to the will-attach-webview event.\n\n\n# httpreferrer\n\n<webview src=\"https://www.github.com/\" httpreferrer=\"http://cheng.guru\"></webview>\n\n\n1\n\n\na string that sets the referrer url for the guest page.\n\n\n# useragent\n\n<webview src=\"https://www.github.com/\" useragent=\"mozilla/5.0 (windows nt 6.1; wow64; trident/7.0; as; rv:11.0) like gecko\"></webview>\n\n\n1\n\n\na string that sets the user agent for the guest page before the page is navigated to. once the page is loaded, use the setuseragent method to change the user agent.\n\n\n# disablewebsecurity\n\n<webview src=\"https://www.github.com/\" disablewebsecurity></webview>\n\n\n1\n\n\n一个 boolean。 when this attribute is present the guest page will have web security disabled. web security is enabled by default.\n\n\n# partition\n\n<webview src=\"https://github.com\" partition=\"persist:github\"></webview>\n<webview src=\"https://electronjs.org\" partition=\"electron\"></webview>\n\n\n1\n2\n\n\na string that sets the session used by the page. 如果 partition 以 persist:开头, 该页面将使用持续的 session，并在所有页面生效，且使用同一个partition. 如果没有 persist: 前缀, 页面将使用 in-memory session. 通过分配相同的 partition, 多个页可以共享同一会话。 如果没有设置partition，app 将会使用默认的session。\n\nthis value can only be modified before the first navigation, since the session of an active renderer process cannot change. subsequent attempts to modify the value will fail with a dom exception.\n\n\n# allowpopups\n\n<webview src=\"https://www.github.com/\" allowpopups></webview>\n\n\n1\n\n\n一个 boolean。 when this attribute is present the guest page will be allowed to open new windows. popups are disabled by default.\n\n\n# webpreferences\n\n<webview src=\"https://github.com\" webpreferences=\"allowrunninginsecurecontent, javascript=no\"></webview>\n\n\n1\n\n\nstring 是一个由逗号分割的字符串列表，其中指定了要设置在 webview 上的 web 首选项。 支持的首选项字符串的完整列表，请查看 browserwindow。\n\n该字符串的格式与 window.open 中的功能字符串( the features string )相同。 只有自己名字的将被赋予 true 布尔值。 可以通过 = 来赋予其他值。 yes 和 1 会被解析成 true，而 no 和 0 解析为 false。\n\n\n# enableblinkfeatures\n\n<webview src=\"https://www.github.com/\" enableblinkfeatures=\"precisememoryinfo, cssvariables\"></webview>\n\n\n1\n\n\na string which is a list of strings which specifies the blink features to be enabled separated by ,. the full list of supported feature strings can be found in the runtimeenabledfeatures.json5 file.\n\n\n# disableblinkfeatures\n\n<webview src=\"https://www.github.com/\" disableblinkfeatures=\"precisememoryinfo, cssvariables\"></webview>\n\n\n1\n\n\na string which is a list of strings which specifies the blink features to be disabled separated by ,. the full list of supported feature strings can be found in the runtimeenabledfeatures.json5 file.\n\n\n# 方法\n\nwebview 标签具有以下方法：\n\n** 注意: **使用方法之前 <0>webview</0> 元素必须已被加载。\n\n示例\n\nconst webview = document.queryselector('webview')\nwebview.addeventlistener('dom-ready', () => {\n  webview.opendevtools()\n})\n\n\n1\n2\n3\n4\n\n\n\n# <webview>.loadurl(url[, options])\n\n * url url\n * options object (可选)\n   * httpreferrer (string | referrer) (可选) - 一个 http referrer url。\n   * useragent string (可选) - 发起请求的 useragent.\n   * extraheaders string (可选) - 用 \"\\n\" 分割的额外标题\n   * postdata (uploadrawdata | uploadfile)[] (可选)\n   * baseurlfordataurl string (可选) - 要加载的数据文件的根 url(带有路径分隔符). 只有当指定的 url是一个数据 url 并需要加载其他文件时，才需要这样做。\n\nreturns promise<void> - the promise will resolve when the page has finished loading (see did-finish-load), and rejects if the page fails to load (see did-fail-load).\n\nwebview 中加载目标 url，url 地址必须包含协议前缀，例如：http:// 或 file://。\n\n\n# <webview>.downloadurl(url)\n\n * url string\n\ninitiates a download of the resource at url without navigating.\n\n\n# <webview>.geturl()\n\n返回 string - 访客页的url。\n\n\n# <webview>.gettitle()\n\n返回 string - 访客页的标题。\n\n\n# <webview>.isloading()\n\n返回 boolean - 访客页是否仍然在加载资源。\n\n\n# <webview>.isloadingmainframe()\n\nreturns boolean - whether the main frame (and not just iframes or frames within it) is still loading.\n\n\n# <webview>.iswaitingforresponse()\n\n返回 boolean - 访客页面是否正在等待页面主资源的第一响应。\n\n\n# <webview>.stop()\n\nstops any pending navigation.\n\n\n# <webview>.reload()\n\n刷新访客页。\n\n\n# <webview>.reloadignoringcache()\n\n刷新访客页并忽略缓存。\n\n\n# <webview>.cangoback()\n\n返回 boolean - 访客页能否后退。\n\n\n# <webview>.cangoforward()\n\n返回 boolean - 访客页能否前进。\n\n\n# <webview>.cangotooffset(offset)\n\n * offset integer\n\n返回 boolean - 访客页能否前进到 offset。\n\n\n# <webview>.clearhistory()\n\n清除定位历史。\n\n\n# <webview>.goback()\n\n使访客页后退。\n\n\n# <webview>.goforward()\n\n使访客页前进。\n\n\n# <webview>.gotoindex(index)\n\n * index integer\n\n定位到指定的绝对索引。\n\n\n# <webview>.gotooffset(offset)\n\n * offset integer\n\n定位到相对于“当前入口”的指定的偏移。\n\n\n# <webview>.iscrashed()\n\nreturns boolean - whether the renderer process has crashed.\n\n\n# <webview>.setuseragent(useragent)\n\n * useragent string\n\n覆盖访客页的用户代理。\n\n\n# <webview>.getuseragent()\n\n返回 string - 访客页的用户代理。\n\n\n# <webview>.insertcss(css)\n\n * css string\n\nreturns promise<string> - a promise that resolves with a key for the inserted css that can later be used to remove the css via <webview>.removeinsertedcss(key).\n\ninjects css into the current web page and returns a unique key for the inserted stylesheet.\n\n\n# <webview>.removeinsertedcss(key)\n\n * key string\n\nreturns promise<void> - resolves if the removal was successful.\n\nremoves the inserted css from the current web page. the stylesheet is identified by its key, which is returned from <webview>.insertcss(css).\n\n\n# <webview>.executejavascript(code[, usergesture])\n\n * code string\n * usergesture boolean (可选) - 默认为 false。\n\nreturns promise<any> - a promise that resolves with the result of the executed code or is rejected if the result of the code is a rejected promise.\n\n在页面中执行 code。 如果设置了usergesture，它将在页面中创建用户手势上下文。 像 requestfullscreen 这样的需要用户操作的html api可以利用这个选项来实现自动化。\n\n\n# <webview>.opendevtools()\n\n打开 guest 页面的 devtools 窗口。\n\n\n# <webview>.closedevtools()\n\n关闭 guest 页面的 devtools 窗口。\n\n\n# <webview>.isdevtoolsopened()\n\n返回 boolean - guest 页面是否打开了 devtools。\n\n\n# <webview>.isdevtoolsfocused()\n\n返回 boolean - guest 页面的 devtools 窗口是否聚焦。\n\n\n# <webview>.inspectelement(x, y)\n\n * x integer\n * y integer\n\nstarts inspecting element at position (x, y) of guest page.\n\n\n# <webview>.inspectsharedworker()\n\nopens the devtools for the shared worker context present in the guest page.\n\n\n# <webview>.inspectserviceworker()\n\nopens the devtools for the service worker context present in the guest page.\n\n\n# <webview>.setaudiomuted(muted)\n\n * muted boolean\n\n设置访客页是否静音。\n\n\n# <webview>.isaudiomuted()\n\n返回 boolean - 访客页是否被静音。\n\n\n# <webview>.iscurrentlyaudible()\n\nreturns boolean - whether audio is currently playing.\n\n\n# <webview>.undo()\n\n在页面中执行编辑命令 undo。\n\n\n# <webview>.redo()\n\n在页面中执行编辑命令 redo。\n\n\n# <webview>.cut()\n\n在页面中执行编辑命令 cut。\n\n\n# <webview>.copy()\n\n在页面中执行编辑命令 copy。\n\n\n# <webview>.paste()\n\n在页面中执行编辑命令 paste。\n\n\n# <webview>.pasteandmatchstyle()\n\n在页面中执行编辑命令 pasteandmatchstyle。\n\n\n# <webview>.delete()\n\n在页面中执行编辑命令 delete。\n\n\n# <webview>.selectall()\n\n在页面中执行编辑命令 selectall。\n\n\n# <webview>.unselect()\n\n在页面中执行编辑命令 unselect。\n\n\n# <webview>.replace(text)\n\n * text string\n\n在页面中执行编辑命令 replace。\n\n\n# <webview>.replacemisspelling(text)\n\n * text string\n\n在页面中执行编辑命令 replacemisspelling。\n\n\n# <webview>.inserttext(text)\n\n * text string\n\n返回 promise<void>\n\n插入text 到焦点元素\n\n\n# <webview>.findinpage(text[, options])\n\n * text string - 要搜索的内容，必须非空。\n * options object (可选)\n   * forward boolean (可选) -向前或向后搜索，默认为 true。\n   * findnext boolean (可选) - 是否使用此请求开始一个新的文本查找会话。 对于初始请求应该为 true ，对后续请求为 false 。 默认值为 false.\n   * matchcase boolean (optional) - whether search should be case-sensitive, defaults to false.\n\nreturns integer - the request id used for the request.\n\nstarts a request to find all matches for the text in the web page. the result of the request can be obtained by subscribing to found-in-page event.\n\n\n# <webview>.stopfindinpage(action)\n\n * action string - specifies the action to take place when ending <webview>.findinpage request.\n   * clearselection - clear the selection.\n   * keepselection - translate the selection into a normal selection.\n   * activateselection - focus and click the selection node.\n\nstops any findinpage request for the webview with the provided action.\n\n\n# <webview>.print([options])\n\n * options object (可选)\n   * silent boolean (optional) - don't ask user for print settings. 默认值为 false.\n   * printbackground boolean (optional) - prints the background color and image of the web page. 默认值为 false.\n   * devicename string (optional) - set the printer device name to use. must be the system-defined name and not the 'friendly' name, e.g 'brother_ql_820nwb' and not 'brother ql-820nwb'.\n   * color boolean (optional) - set whether the printed web page will be in color or grayscale. 默认值为 true。\n   * margins object (可选)\n     * margintype string (optional) - can be default, none, printablearea, or custom. if custom is chosen, you will also need to specify top, bottom, left, and right.\n     * top number (optional) - the top margin of the printed web page, in pixels.\n     * bottom number (optional) - the bottom margin of the printed web page, in pixels.\n     * left number (optional) - the left margin of the printed web page, in pixels.\n     * right number (optional) - the right margin of the printed web page, in pixels.\n   * landscape boolean (optional) - whether the web page should be printed in landscape mode. 默认值为 false.\n   * scalefactor number (optional) - the scale factor of the web page.\n   * pagespersheet number (optional) - the number of pages to print per page sheet.\n   * collate boolean (optional) - whether the web page should be collated.\n   * copies number (optional) - the number of copies of the web page to print.\n   * pageranges object[] (optional) - the page range to print.\n     * from number - index of the first page to print (0-based).\n     * to number - index of the last page to print (inclusive) (0-based).\n   * duplexmode string (optional) - set the duplex mode of the printed web page. 可以是 simplex、shortedge 或 longedge。\n   * dpi record<string, number> (optional)\n     * horizontal number (optional) - the horizontal dpi.\n     * vertical number (optional) - the vertical dpi.\n   * header string (optional) - string to be printed as page header.\n   * footer string (optional) - string to be printed as page footer.\n   * pagesize string | size (optional) - specify page size of the printed document. can be a3, a4, a5, legal, letter, tabloid or an object containing height.\n\n返回 promise<void>\n\nprints webview's web page. 与 webcontents.print([options]) 相同.\n\n\n# <webview>.printtopdf(options)\n\n * 选项 对象\n   * headerfooter record<string, string> (optional) - the header and footer for the pdf.\n     * title string - the title for the pdf header.\n     * url string - the url for the pdf footer.\n   * landscape boolean (optional) - true for landscape, false for portrait.\n   * marginstype integer (optional) - specifies the type of margins to use. uses 0 for default margin, 1 for no margin, and 2 for minimum margin. and width in microns.\n   * scalefactor number (optional) - the scale factor of the web page. can range from 0 to 100.\n   * pageranges record<string, number> (optional) - the page range to print. 在macos上，只有数组的第一个值被信任。\n     * from number - index of the first page to print (0-based).\n     * to number - index of the last page to print (inclusive) (0-based).\n   * pagesize string | size (optional) - specify page size of the generated pdf. can be a3, a4, a5, legal, letter, tabloid or an object containing height\n   * printbackground boolean (optional) - whether to print css backgrounds.\n   * printselectiononly boolean (optional) - whether to print selection only.\n\nreturns promise<uint8array> - resolves with the generated pdf data.\n\nprints webview's web page as pdf, same as webcontents.printtopdf(options).\n\n\n# <webview>.capturepage([rect])\n\n * rect rectangle (optional) - the area of the page to be captured.\n\n返回 promise<nativeimage> - 完成后返回一个nativeimage\n\n在 rect内捕获页面的快照。 省略 rect 将捕获整个可见页面。\n\n\n# <webview>.send(channel, ...args)\n\n * channel string\n * ...args any[]\n\n返回 promise<void>\n\n通过channel向渲染器进程发送异步消息，可以发送任意参数。 the renderer process can handle the message by listening to the channel event with the ipcrenderer module.\n\n示例请进传送门： webcontents.send\n\n\n# <webview>.sendtoframe(frameid, channel, ...args)\n\n * frameid [number, number] - [processid, frameid]\n * channel string\n * ...args any[]\n\n返回 promise<void>\n\n通过channel向渲染器进程发送异步消息，可以发送任意参数。 the renderer process can handle the message by listening to the channel event with the ipcrenderer module.\n\nsee webcontents.sendtoframe for examples.\n\n\n# <webview>.sendinputevent(event)\n\n * event mouseinputevent | mousewheelinputevent | keyboardinputevent\n\n返回 promise<void>\n\nsends an input event to the page.\n\nsee webcontents.sendinputevent for detailed description of event object.\n\n\n# <webview>.setzoomfactor(factor)\n\n * factor number - 缩放比例\n\nchanges the zoom factor to the specified factor. zoom factor is zoom percent divided by 100, so 300% = 3.0.\n\n\n# <webview>.setzoomlevel(level)\n\n * level number - 缩放等级。\n\n更改缩放等级。 the original size is 0 and each increment above or below represents zooming 20% larger or smaller to default limits of 300% and 50% of original size, respectively. the formula for this is scale := 1.2 ^ level.\n\n> note: the zoom policy at the chromium level is same-origin, meaning that the zoom level for a specific domain propagates across all instances of windows with the same domain. differentiating the window urls will make zoom work per-window.\n\n\n# <webview>.getzoomfactor()\n\nreturns number - the current zoom factor.\n\n\n# <webview>.getzoomlevel()\n\nreturns number - the current zoom level.\n\n\n# <webview>.setvisualzoomlevellimits(minimumlevel, maximumlevel)\n\n * minimumlevel number\n * maximumlevel number\n\n返回 promise<void>\n\n设置最大和最小缩放级别。\n\n\n# <webview>.showdefinitionforselection() macos\n\nshows pop-up dictionary that searches the selected word on the page.\n\n\n# <webview>.getwebcontentsid()\n\nreturns number - the webcontents id of this webview.\n\n\n# dom events\n\nwebview 标签具有以下有效的 dom 事件：\n\n\n# event: 'load-commit'\n\n返回:\n\n * url string\n * ismainframe boolean\n\nfired when a load has committed. this includes navigation within the current document as well as subframe document-level loads, but does not include asynchronous resource loads.\n\n\n# event: 'did-finish-load'\n\n导航完成时触发，即选项卡的旋转器将停止旋转，并指派onload事件后。（译者：网页加载的过程中，并不是所有的浏览器都是转圈圈，而且浏览器版本不同，加载效果也有可能不一样。其中 ie 和 chrome 是转圈圈，safari 是进度条，firefox是一个小点左右来回移动--20180103）\n\n\n# event: 'did-fail-load'\n\n返回:\n\n * errorcode integer\n * errordescription string\n * validatedurl string\n * ismainframe boolean\n\n这个事件类似于 did-finish-load, 不过是在加载失败或取消后触发，例如调用了 window.stop()\n\n\n# event: 'did-frame-finish-load'\n\n返回:\n\n * ismainframe boolean\n\nfired when a frame has done navigation.\n\n\n# event: 'did-start-loading'\n\ncorresponds to the points in time when the spinner of the tab starts spinning.\n\n\n# event: 'did-stop-loading'\n\ncorresponds to the points in time when the spinner of the tab stops spinning.\n\n\n# event: 'did-attach'\n\nfired when attached to the embedder web contents.\n\n\n# 事件: 'dom-ready'\n\nfired when document in the given frame is loaded.\n\n\n# 事件： 'page-title-updated'\n\n返回:\n\n * title string\n * explicitset boolean\n\nfired when page title is set during navigation. explicitset is false when title is synthesized from file url.\n\n\n# 事件: 'page-favicon-updated'\n\n返回:\n\n * favicons string[] - 由连接组成的数组。\n\nfired when page receives favicon urls.\n\n\n# 事件: 'enter-html-full-screen'\n\nfired when page enters fullscreen triggered by html api.\n\n\n# 事件: 'leave-html-full-screen'\n\nfired when page leaves fullscreen triggered by html api.\n\n\n# event: 'console-message'\n\n返回:\n\n * level integer - the log level, from 0 to 3. 按顺序匹配 verbose, info, warning 和 error.\n * message string - 实际控制台消息\n * line integer - the line number of the source that triggered this console message\n * sourceid string\n\nfired when the guest window logs a console message.\n\nthe following example code forwards all log messages to the embedder's console without regard for log level or other properties.\n\nconst webview = document.queryselector('webview')\nwebview.addeventlistener('console-message', (e) => {\n  console.log('guest page logged a message:', e.message)\n})\n\n\n1\n2\n3\n4\n\n\n\n# event: 'found-in-page'\n\n返回:\n\n * result object\n   * requestid integer\n   * activematchordinal integer - 当前匹配位置。\n   * matches integer - 符合匹配条件的元素个数。\n   * selectionarea rectangle - coordinates of first match region.\n   * finalupdate boolean\n\nfired when a result is available for webview.findinpage request.\n\nconst webview = document.queryselector('webview')\nwebview.addeventlistener('found-in-page', (e) => {\n  webview.stopfindinpage('keepselection')\n})\n\nconst requestid = webview.findinpage('test')\nconsole.log(requestid)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# event: 'new-window'\n\n返回:\n\n * url string\n * framename string\n * disposition string - 可以被设置为 default, foreground-tab, background-tab, new-window, save-to-disk 及 other.\n * options browserwindowconstructoroptions - the options which should be used for creating the new browserwindow.\n\nfired when the guest page attempts to open a new browser window.\n\nthe following example code opens the new url in system's default browser.\n\nconst { shell } = require('electron')\nconst webview = document.queryselector('webview')\n\nwebview.addeventlistener('new-window', async (e) => {\n  const protocol = (new url(e.url)).protocol\n  if (protocol === 'http:' || protocol === 'https:') {\n    await shell.openexternal(e.url)\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# event: 'will-navigate'\n\n返回:\n\n * url string\n\nemitted when a user or the page wants to start navigation. it can happen when the window.location object is changed or a user clicks a link in the page.\n\nthis event will not emit when the navigation is started programmatically with apis like <webview>.loadurl and <webview>.back.\n\nit is also not emitted during in-page navigation, such as clicking anchor links or updating the window.location.hash. use did-navigate-in-page event for this purpose.\n\ncalling event.preventdefault() does not have any effect.\n\n\n# event: 'did-start-navigation'\n\n返回:\n\n * url string\n * isinplace boolean\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\nemitted when any frame (including main) starts navigating. isinplace will be true for in-page navigations.\n\n\n# event: 'did-redirect-navigation'\n\n返回:\n\n * url string\n * isinplace boolean\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\nemitted after a server side redirect occurs during navigation. for example a 302 redirect.\n\n\n# event: 'did-navigate'\n\n返回:\n\n * url string\n\nemitted when a navigation is done.\n\nthis event is not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. use did-navigate-in-page event for this purpose.\n\n\n# event: 'did-frame-navigate'\n\n返回:\n\n * url string\n * httpresponsecode integer - -1 for non http navigations\n * httpstatustext string - empty for non http navigations,\n * ismainframe boolean\n * frameprocessid integer\n * frameroutingid integer\n\nemitted when any frame navigation is done.\n\nthis event is not emitted for in-page navigations, such as clicking anchor links or updating the window.location.hash. use did-navigate-in-page event for this purpose.\n\n\n# event: 'did-navigate-in-page'\n\n返回:\n\n * ismainframe boolean\n * url string\n\n当发生页内导航时，触发该事件。\n\n当发生页内导航时，虽然页面地址发生变化，但它并没有导航到其它页面。 例如，点击锚点链接，或者dom的 hashchange事件被触发时，都会触发该事件。\n\n\n# 事件： 'close'\n\nfired when the guest page attempts to close itself.\n\nthe following example code navigates the webview to about:blank when the guest attempts to close itself.\n\nconst webview = document.queryselector('webview')\nwebview.addeventlistener('close', () => {\n  webview.src = 'about:blank'\n})\n\n\n1\n2\n3\n4\n\n\n\n# event: 'ipc-message'\n\n返回:\n\n * frameid [number, number] - pair of [processid, frameid].\n * channel string\n * args any[]\n\nfired when the guest page has sent an asynchronous message to embedder page.\n\nwith sendtohost method and ipc-message event you can communicate between guest page and embedder page:\n\n// in embedder page.\nconst webview = document.queryselector('webview')\nwebview.addeventlistener('ipc-message', (event) => {\n  console.log(event.channel)\n  // prints \"pong\"\n})\nwebview.send('ping')\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n// in guest page.\nconst { ipcrenderer } = require('electron')\nipcrenderer.on('ping', () => {\n  ipcrenderer.sendtohost('pong')\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# event: 'crashed'\n\nfired when the renderer process is crashed.\n\n\n# event: 'plugin-crashed'\n\n返回:\n\n * name string\n * version string\n\nfired when a plugin process is crashed.\n\n\n# event: 'destroyed'\n\nfired when the webcontents is destroyed.\n\n\n# event: 'media-started-playing'\n\n多媒体开始播放时，触发该事件。\n\n\n# event: 'media-paused'\n\n当媒体文件暂停或播放完成的时候触发\n\n\n# event: 'did-change-theme-color'\n\n返回:\n\n * themecolor string\n\nemitted when a page's theme color changes. this is usually due to encountering a meta tag:\n\n<meta name='theme-color' content='#ff0000'>\n\n\n1\n\n\n\n# event: 'update-target-url'\n\n返回:\n\n * url string\n\n当鼠标滑到，或者键盘切换到a连接时，触发该事件。\n\n\n# event: 'devtools-opened'\n\n当开发者工具被打开时，触发该事件。\n\n\n# event: 'devtools-closed'\n\n当开发者工具被关闭时，触发该事件。\n\n\n# event: 'devtools-focused'\n\n当开发者工具被选中/打开时，触发该事件。",charsets:{cjk:!0}},{title:"window-open",frontmatter:{title:"window-open",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/3e739c/",categories:["《Electron中文文档》","api"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/api/window-open.html",relativePath:"《Electron中文文档》/api/window-open.md",key:"v-b71bf4a8",path:"/pages/3e739c/",headers:[{level:3,title:"window.open(url[, frameName][, features])",slug:"window-open-url-framename-features",normalizedTitle:"window.open(url[, framename][, features])",charIndex:1271},{level:3,title:"Native Window example",slug:"native-window-example",normalizedTitle:"native window example",charIndex:3012},{level:3,title:"BrowserWindowProxy example",slug:"browserwindowproxy-example",normalizedTitle:"browserwindowproxy example",charIndex:3783}],headersStr:"window.open(url[, frameName][, features]) Native Window example BrowserWindowProxy example",content:"# 从渲染进程打开窗口\n\n有几种方法可以控制从信任或在渲染器内创建窗口的方式。 可以通过两种方式从渲染进程创建窗口：\n\n * 如果属性中包含 target=_blank，单击链接或提交表格即可创建\n * 在 JavaScript 中调用 window.open()\n\nFor same-origin content, the new window is created within the same process, enabling the parent to access the child window directly. This can be very useful for app sub-windows that act as preference panels, or similar, as the parent can render to the sub-window directly, as if it were a div in the parent. This is the same behavior as in the browser.\n\nWhen nativeWindowOpen is set to false, window.open instead results in the creation of a BrowserWindowProxy, a light wrapper around BrowserWindow.\n\nElectron pairs this native Chrome Window with a BrowserWindow under the hood. You can take advantage of all the customization available when creating a BrowserWindow in the main process by using webContents.setWindowOpenHandler() for renderer-created windows.\n\nBrowserWindow constructor options are set by, in increasing precedence order: parsed options from the features string from window.open(), security-related webPreferences inherited from the parent, and options given by webContents.setWindowOpenHandler. Note that webContents.setWindowOpenHandler has final say and full privilege because it is invoked in the main process.\n\n\n# window.open(url[, frameName][, features])\n\n * url String\n * frameName String（可选）\n * features String（可选）\n\nReturns BrowserWindowProxy | Window\n\nfeatures is a comma-separated key-value list, following the standard format of the browser. Electron will parse BrowserWindowConstructorOptions out of this list where possible, for convenience. For full control and better ergonomics, consider using webContents.setWindowOpenHandler to customize the BrowserWindow creation.\n\nA subset of WebPreferences can be set directly, unnested, from the features string: zoomFactor, nodeIntegration, preload, javascript, contextIsolation, and webviewTag.\n\n例如：\n\nwindow.open('https://github.com', '_blank', 'top=500,left=200,frame=false,nodeIntegration=no')\n\n\n1\n\n\n说明：\n\n * 如果在父窗口中禁用了 Node integration, 则在打开的 window 中将始终被禁用。\n * 如果在父窗口中启用了上下文隔离, 则在打开的 window 中将始终被启用。\n * 父窗口禁用 Javascript，打开的 window 中将被始终禁用\n * Non-standard features (that are not handled by Chromium or Electron) given in features will be passed to any registered webContents's did-create-window event handler in the options argument.\n * frameName follows the specification of windowName located in the native documentation.\n\nTo customize or cancel the creation of the window, you can optionally set an override handler with webContents.setWindowOpenHandler() from the main process. Returning { action: 'deny' } cancels the window. Returning { action: 'allow', overrideBrowserWindowOptions: { ... } } will allow opening the window and setting the BrowserWindowConstructorOptions to be used when creating the window. Note that this is more powerful than passing options through the feature string, as the renderer has more limited privileges in deciding security preferences than the main process.\n\n\n# Native Window example\n\n// main.js\nconst mainWindow = new BrowserWindow()\n\n// In this example, only windows with the `about:blank` url will be created.\n// All other urls will be blocked.\nmainWindow.webContents.setWindowOpenHandler(({ url }) => {\n  if (url === 'about:blank') {\n    return {\n      action: 'allow',\n      overrideBrowserWindowOptions: {\n        frame: false,\n        fullscreenable: false,\n        backgroundColor: 'black',\n        webPreferences: {\n          preload: 'my-child-window-preload-script.js'\n        }\n      }\n    }\n  }\n  return { action: 'deny' }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n// renderer process (mainWindow)\nconst childWindow = window.open('', 'modal')\nchildWindow.document.write('<h1>Hello</h1>')\n\n\n1\n2\n3\n\n\n\n# BrowserWindowProxy example\n\n\n// main.js\nconst mainWindow = new BrowserWindow({\n  webPreferences: { nativeWindowOpen: false }\n})\n\nmainWindow.webContents.setWindowOpenHandler(({ url }) => {\n  if (url.startsWith('https://github.com/')) {\n    return { action: 'allow' }\n  }\n  return { action: 'deny' }\n})\n\nmainWindow.webContents.on('did-create-window', (childWindow) => {\n  // For example...\n  childWindow.webContents.on('will-navigate', (e) => {\n    e.preventDefault()\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n// renderer.js\nconst windowProxy = window.open('https://github.com/', null, 'minimizable=false')\nwindowProxy.postMessage('hi', '*')\n\n\n1\n2\n3\n",normalizedContent:"# 从渲染进程打开窗口\n\n有几种方法可以控制从信任或在渲染器内创建窗口的方式。 可以通过两种方式从渲染进程创建窗口：\n\n * 如果属性中包含 target=_blank，单击链接或提交表格即可创建\n * 在 javascript 中调用 window.open()\n\nfor same-origin content, the new window is created within the same process, enabling the parent to access the child window directly. this can be very useful for app sub-windows that act as preference panels, or similar, as the parent can render to the sub-window directly, as if it were a div in the parent. this is the same behavior as in the browser.\n\nwhen nativewindowopen is set to false, window.open instead results in the creation of a browserwindowproxy, a light wrapper around browserwindow.\n\nelectron pairs this native chrome window with a browserwindow under the hood. you can take advantage of all the customization available when creating a browserwindow in the main process by using webcontents.setwindowopenhandler() for renderer-created windows.\n\nbrowserwindow constructor options are set by, in increasing precedence order: parsed options from the features string from window.open(), security-related webpreferences inherited from the parent, and options given by webcontents.setwindowopenhandler. note that webcontents.setwindowopenhandler has final say and full privilege because it is invoked in the main process.\n\n\n# window.open(url[, framename][, features])\n\n * url string\n * framename string（可选）\n * features string（可选）\n\nreturns browserwindowproxy | window\n\nfeatures is a comma-separated key-value list, following the standard format of the browser. electron will parse browserwindowconstructoroptions out of this list where possible, for convenience. for full control and better ergonomics, consider using webcontents.setwindowopenhandler to customize the browserwindow creation.\n\na subset of webpreferences can be set directly, unnested, from the features string: zoomfactor, nodeintegration, preload, javascript, contextisolation, and webviewtag.\n\n例如：\n\nwindow.open('https://github.com', '_blank', 'top=500,left=200,frame=false,nodeintegration=no')\n\n\n1\n\n\n说明：\n\n * 如果在父窗口中禁用了 node integration, 则在打开的 window 中将始终被禁用。\n * 如果在父窗口中启用了上下文隔离, 则在打开的 window 中将始终被启用。\n * 父窗口禁用 javascript，打开的 window 中将被始终禁用\n * non-standard features (that are not handled by chromium or electron) given in features will be passed to any registered webcontents's did-create-window event handler in the options argument.\n * framename follows the specification of windowname located in the native documentation.\n\nto customize or cancel the creation of the window, you can optionally set an override handler with webcontents.setwindowopenhandler() from the main process. returning { action: 'deny' } cancels the window. returning { action: 'allow', overridebrowserwindowoptions: { ... } } will allow opening the window and setting the browserwindowconstructoroptions to be used when creating the window. note that this is more powerful than passing options through the feature string, as the renderer has more limited privileges in deciding security preferences than the main process.\n\n\n# native window example\n\n// main.js\nconst mainwindow = new browserwindow()\n\n// in this example, only windows with the `about:blank` url will be created.\n// all other urls will be blocked.\nmainwindow.webcontents.setwindowopenhandler(({ url }) => {\n  if (url === 'about:blank') {\n    return {\n      action: 'allow',\n      overridebrowserwindowoptions: {\n        frame: false,\n        fullscreenable: false,\n        backgroundcolor: 'black',\n        webpreferences: {\n          preload: 'my-child-window-preload-script.js'\n        }\n      }\n    }\n  }\n  return { action: 'deny' }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n// renderer process (mainwindow)\nconst childwindow = window.open('', 'modal')\nchildwindow.document.write('<h1>hello</h1>')\n\n\n1\n2\n3\n\n\n\n# browserwindowproxy example\n\n\n// main.js\nconst mainwindow = new browserwindow({\n  webpreferences: { nativewindowopen: false }\n})\n\nmainwindow.webcontents.setwindowopenhandler(({ url }) => {\n  if (url.startswith('https://github.com/')) {\n    return { action: 'allow' }\n  }\n  return { action: 'deny' }\n})\n\nmainwindow.webcontents.on('did-create-window', (childwindow) => {\n  // for example...\n  childwindow.webcontents.on('will-navigate', (e) => {\n    e.preventdefault()\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n// renderer.js\nconst windowproxy = window.open('https://github.com/', null, 'minimizable=false')\nwindowproxy.postmessage('hi', '*')\n\n\n1\n2\n3\n",charsets:{cjk:!0}},{title:"README",frontmatter:{title:"README",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/5b6ad3/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/",relativePath:"《Electron中文文档》/development/README.md",key:"v-f36a4056",path:"/pages/5b6ad3/",headersStr:null,content:"# 对 Electron 进行开发\n\n这些指南是为希望修改 Electron 自身的人准备的。 有关使用 Electron 来开发应用程序的指南，请参见/docs/README.md。\n\n * 行为准则\n * 贡献到 Electron\n * 问题\n * 合并请求\n * 文档风格指南\n * 源码目录结构\n * 编码风格\n * 在 C++ 代码中使用 clang-format 工具\n * 在 C++ 代码中使用clang-tidy\n * 构建系统概览\n * 构建步骤（macOS）\n * 构建步骤（Windows）\n * 构建步骤（Linux）\n * Chromium 开发\n * V8 开发\n * 测试\n * 在 Windows 中调试\n * 在 macOS 中调试\n * 在调试器中设置 Symbol 服务器\n * 补丁",normalizedContent:"# 对 electron 进行开发\n\n这些指南是为希望修改 electron 自身的人准备的。 有关使用 electron 来开发应用程序的指南，请参见/docs/readme.md。\n\n * 行为准则\n * 贡献到 electron\n * 问题\n * 合并请求\n * 文档风格指南\n * 源码目录结构\n * 编码风格\n * 在 c++ 代码中使用 clang-format 工具\n * 在 c++ 代码中使用clang-tidy\n * 构建系统概览\n * 构建步骤（macos）\n * 构建步骤（windows）\n * 构建步骤（linux）\n * chromium 开发\n * v8 开发\n * 测试\n * 在 windows 中调试\n * 在 macos 中调试\n * 在调试器中设置 symbol 服务器\n * 补丁",charsets:{cjk:!0}},{title:"breaking-changes",frontmatter:{title:"breaking-changes",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/a0cca8/",categories:["《Electron中文文档》"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/breaking-changes.html",relativePath:"《Electron中文文档》/breaking-changes.md",key:"v-6c588de9",path:"/pages/a0cca8/",headers:[{level:3,title:"重大更改的类型",slug:"重大更改的类型",normalizedTitle:"重大更改的类型",charIndex:60},{level:2,title:"计划重写的 API (14.0)",slug:"计划重写的-api-14-0",normalizedTitle:"计划重写的 api (14.0)",charIndex:352},{level:3,title:"Removed: remote module",slug:"removed-remote-module",normalizedTitle:"removed: remote module",charIndex:373},{level:3,title:"已移除： app.allowRendererProcessReuse",slug:"已移除-app-allowrendererprocessreuse",normalizedTitle:"已移除： app.allowrendererprocessreuse",charIndex:736},{level:3,title:"Removed: Browser Window Affinity",slug:"removed-browser-window-affinity",normalizedTitle:"removed: browser window affinity",charIndex:997},{level:3,title:"API 更改： window.open()",slug:"api-更改-window-open",normalizedTitle:"api 更改： window.open()",charIndex:1271},{level:3,title:"已移除： worldSafeExecuteJavaScript",slug:"已移除-worldsafeexecutejavascript",normalizedTitle:"已移除： worldsafeexecutejavascript",charIndex:1414},{level:3,title:"默认更改： nativeWindowOpen 默认为 true",slug:"默认更改-nativewindowopen-默认为-true",normalizedTitle:"默认更改： nativewindowopen 默认为 true",charIndex:1695},{level:3,title:"Removed: BrowserWindowConstructorOptions inheriting from parent windows",slug:"removed-browserwindowconstructoroptions-inheriting-from-parent-windows",normalizedTitle:"removed: browserwindowconstructoroptions inheriting from parent windows",charIndex:2088},{level:3,title:"已移除： additionalFeatures",slug:"已移除-additionalfeatures",normalizedTitle:"已移除： additionalfeatures",charIndex:2709},{level:2,title:"计划重写的 API (13.0)",slug:"计划重写的-api-13-0",normalizedTitle:"计划重写的 api (13.0)",charIndex:3544},{level:3,title:"API 更改： session.setPermissionCheckHandler(handler)",slug:"api-更改-session-setpermissioncheckhandler-handler",normalizedTitle:"api 更改： session.setpermissioncheckhandler(handler)",charIndex:3565},{level:3,title:"已移除： shell.moveItemToTrash()",slug:"已移除-shell-moveitemtotrash",normalizedTitle:"已移除： shell.moveitemtotrash()",charIndex:4243},{level:3,title:"已移除： BrowserWindow 扩展 API",slug:"已移除-browserwindow-扩展-api",normalizedTitle:"已移除： browserwindow 扩展 api",charIndex:4453},{level:3,title:"已移除： systemPreferences 中的方法",slug:"已移除-systempreferences-中的方法",normalizedTitle:"已移除： systempreferences 中的方法",charIndex:5332},{level:3,title:"已废弃: WebContents new-window 事件",slug:"已废弃-webcontents-new-window-事件",normalizedTitle:"已废弃: webcontents new-window 事件",charIndex:6020},{level:2,title:"计划重写的 API (12.0)",slug:"计划重写的-api-12-0",normalizedTitle:"计划重写的 api (12.0)",charIndex:6330},{level:3,title:"已移除：Pepper Flash 支持",slug:"已移除-pepper-flash-支持",normalizedTitle:"已移除：pepper flash 支持",charIndex:6351},{level:3,title:"默认更改： worldSafeExecuteJavaScript 默认为 true",slug:"默认更改-worldsafeexecutejavascript-默认为-true",normalizedTitle:"默认更改： worldsafeexecutejavascript 默认为 true",charIndex:6446},{level:3,title:"默认更改： contextIsolation 默认为 true",slug:"默认更改-contextisolation-默认为-true",normalizedTitle:"默认更改： contextisolation 默认为 true",charIndex:6668},{level:3,title:"已移除： crashReporter.getCrashesDirectory()",slug:"已移除-crashreporter-getcrashesdirectory",normalizedTitle:"已移除： crashreporter.getcrashesdirectory()",charIndex:7035},{level:3,title:"Removed: crashReporter methods in the renderer process",slug:"removed-crashreporter-methods-in-the-renderer-process",normalizedTitle:"removed: crashreporter methods in the renderer process",charIndex:7262},{level:3,title:"Default Changed: crashReporter.start({ compress: true })",slug:"default-changed-crashreporter-start-compress-true",normalizedTitle:"default changed: crashreporter.start({ compress: true })",charIndex:7587},{level:3,title:"已废弃： remote 模块",slug:"已废弃-remote-模块",normalizedTitle:"已废弃： remote 模块",charIndex:8057},{level:3,title:"已废弃：shell.moveItemToTrash()",slug:"已废弃-shell-moveitemtotrash",normalizedTitle:"已废弃：shell.moveitemtotrash()",charIndex:8373},{level:2,title:"计划重写的 API (11.0)",slug:"计划重写的-api-11-0",normalizedTitle:"计划重写的 api (11.0)",charIndex:8613},{level:3,title:"Removed: BrowserView.{destroy, fromId, fromWebContents, getAllViews} and id property of BrowserView",slug:"removed-browserview-destroy-fromid-fromwebcontents-getallviews-and-id-property-of-browserview",normalizedTitle:"removed: browserview.{destroy, fromid, fromwebcontents, getallviews} and id property of browserview",charIndex:8634},{level:2,title:"计划重写的 API (10.0)",slug:"计划重写的-api-10-0",normalizedTitle:"计划重写的 api (10.0)",charIndex:8956},{level:3,title:"Deprecated: companyName argument to crashReporter.start()",slug:"deprecated-companyname-argument-to-crashreporter-start",normalizedTitle:"deprecated: companyname argument to crashreporter.start()",charIndex:8977},{level:3,title:"已废弃：crashReporter.getCrashesDirectory()",slug:"已废弃-crashreporter-getcrashesdirectory",normalizedTitle:"已废弃：crashreporter.getcrashesdirectory()",charIndex:9463},{level:3,title:"已废弃：渲染进程中的 crashReporter 方法",slug:"已废弃-渲染进程中的-crashreporter-方法",normalizedTitle:"已废弃：渲染进程中的 crashreporter 方法",charIndex:9731},{level:3,title:"已废弃：crashReporter.start({ compress: false })",slug:"已废弃-crashreporter-start-compress-false",normalizedTitle:"已废弃：crashreporter.start({ compress: false })",charIndex:10244},{level:3,title:"默认更改： enableRemoteModule 默认为 false",slug:"默认更改-enableremotemodule-默认为-false",normalizedTitle:"默认更改： enableremotemodule 默认为 false",charIndex:10446},{level:3,title:"protocol.unregisterProtocol",slug:"protocol-unregisterprotocol",normalizedTitle:"protocol.unregisterprotocol",charIndex:10931},{level:3,title:"protocol.uninterceptProtocol",slug:"protocol-uninterceptprotocol",normalizedTitle:"protocol.uninterceptprotocol",charIndex:10963},{level:3,title:"protocol.registerFileProtocol",slug:"protocol-registerfileprotocol",normalizedTitle:"protocol.registerfileprotocol",charIndex:11158},{level:3,title:"protocol.registerBufferProtocol",slug:"protocol-registerbufferprotocol",normalizedTitle:"protocol.registerbufferprotocol",charIndex:11192},{level:3,title:"protocol.registerStringProtocol",slug:"protocol-registerstringprotocol",normalizedTitle:"protocol.registerstringprotocol",charIndex:11228},{level:3,title:"protocol.registerHttpProtocol",slug:"protocol-registerhttpprotocol",normalizedTitle:"protocol.registerhttpprotocol",charIndex:11264},{level:3,title:"protocol.registerStreamProtocol",slug:"protocol-registerstreamprotocol",normalizedTitle:"protocol.registerstreamprotocol",charIndex:11298},{level:3,title:"protocol.interceptFileProtocol",slug:"protocol-interceptfileprotocol",normalizedTitle:"protocol.interceptfileprotocol",charIndex:11334},{level:3,title:"protocol.interceptStringProtocol",slug:"protocol-interceptstringprotocol",normalizedTitle:"protocol.interceptstringprotocol",charIndex:11369},{level:3,title:"protocol.interceptBufferProtocol",slug:"protocol-interceptbufferprotocol",normalizedTitle:"protocol.interceptbufferprotocol",charIndex:11406},{level:3,title:"protocol.interceptHttpProtocol",slug:"protocol-intercepthttpprotocol",normalizedTitle:"protocol.intercepthttpprotocol",charIndex:11443},{level:3,title:"protocol.interceptStreamProtocol",slug:"protocol-interceptstreamprotocol",normalizedTitle:"protocol.interceptstreamprotocol",charIndex:11478},{level:3,title:"protocol.isProtocolHandled",slug:"protocol-isprotocolhandled",normalizedTitle:"protocol.isprotocolhandled",charIndex:11786},{level:2,title:"计划重写的 API (9.0)",slug:"计划重写的-api-9-0",normalizedTitle:"计划重写的 api (9.0)",charIndex:12161},{level:3,title:"Default Changed: Loading non-context-aware native modules in the renderer process is disabled by default",slug:"default-changed-loading-non-context-aware-native-modules-in-the-renderer-process-is-disabled-by-default",normalizedTitle:"default changed: loading non-context-aware native modules in the renderer process is disabled by default",charIndex:12181},{level:3,title:"已废弃： BrowserWindow 扩展 API",slug:"已废弃-browserwindow-扩展-api",normalizedTitle:"已废弃： browserwindow 扩展 api",charIndex:12760},{level:3,title:"已移除： <webview>.getWebContents()",slug:"已移除-webview-getwebcontents",normalizedTitle:"已移除： <webview>.getwebcontents()",charIndex:13637},{level:3,title:"已移除： webFrame.setLayoutZoomLevelLimits()",slug:"已移除-webframe-setlayoutzoomlevellimits",normalizedTitle:"已移除： webframe.setlayoutzoomlevellimits()",charIndex:13863},{level:3,title:"Behavior Changed: Sending non-JS objects over IPC now throws an exception",slug:"behavior-changed-sending-non-js-objects-over-ipc-now-throws-an-exception",normalizedTitle:"behavior changed: sending non-js objects over ipc now throws an exception",charIndex:14179},{level:3,title:"API Changed: shell.openItem is now shell.openPath",slug:"api-changed-shell-openitem-is-now-shell-openpath",normalizedTitle:"api changed: shell.openitem is now shell.openpath",charIndex:15047},{level:2,title:"计划重写的 API (8.0)",slug:"计划重写的-api-8-0",normalizedTitle:"计划重写的 api (8.0)",charIndex:15242},{level:3,title:"Behavior Changed: Values sent over IPC are now serialized with Structured Clone Algorithm",slug:"behavior-changed-values-sent-over-ipc-are-now-serialized-with-structured-clone-algorithm",normalizedTitle:"behavior changed: values sent over ipc are now serialized with structured clone algorithm",charIndex:15262},{level:3,title:"已废弃： <webview>.getWebContents()",slug:"已废弃-webview-getwebcontents",normalizedTitle:"已废弃： <webview>.getwebcontents()",charIndex:17659},{level:3,title:"Deprecated: webFrame.setLayoutZoomLevelLimits()",slug:"deprecated-webframe-setlayoutzoomlevellimits",normalizedTitle:"deprecated: webframe.setlayoutzoomlevellimits()",charIndex:18787},{level:3,title:"Deprecated events in systemPreferences",slug:"deprecated-events-in-systempreferences",normalizedTitle:"deprecated events in systempreferences",charIndex:19154},{level:3,title:"已废弃：systemPreferences 中的方法",slug:"已废弃-systempreferences-中的方法",normalizedTitle:"已废弃：systempreferences 中的方法",charIndex:19642},{level:2,title:"Planned Breaking API Changes (7.0)",slug:"planned-breaking-api-changes-7-0",normalizedTitle:"planned breaking api changes (7.0)",charIndex:20290},{level:3,title:"Deprecated: Atom.io Node Headers URL",slug:"deprecated-atom-io-node-headers-url",normalizedTitle:"deprecated: atom.io node headers url",charIndex:20329},{level:3,title:"API Changed: session.clearAuthCache() no longer accepts options",slug:"api-changed-session-clearauthcache-no-longer-accepts-options",normalizedTitle:"api changed: session.clearauthcache() no longer accepts options",charIndex:20620},{level:3,title:"API Changed: powerMonitor.querySystemIdleState is now powerMonitor.getSystemIdleState",slug:"api-changed-powermonitor-querysystemidlestate-is-now-powermonitor-getsystemidlestate",normalizedTitle:"api changed: powermonitor.querysystemidlestate is now powermonitor.getsystemidlestate",charIndex:20929},{level:3,title:"API Changed: powerMonitor.querySystemIdleTime is now powerMonitor.getSystemIdleTime",slug:"api-changed-powermonitor-querysystemidletime-is-now-powermonitor-getsystemidletime",normalizedTitle:"api changed: powermonitor.querysystemidletime is now powermonitor.getsystemidletime",charIndex:21206},{level:3,title:"API Changed: webFrame.setIsolatedWorldInfo replaces separate methods",slug:"api-changed-webframe-setisolatedworldinfo-replaces-separate-methods",normalizedTitle:"api changed: webframe.setisolatedworldinfo replaces separate methods",charIndex:21458},{level:3,title:"Removed: marked property on getBlinkMemoryInfo",slug:"removed-marked-property-on-getblinkmemoryinfo",normalizedTitle:"removed: marked property on getblinkmemoryinfo",charIndex:21943},{level:3,title:'Behavior Changed: webkitdirectory attribute for <input type="file"/> now lists directory contents',slug:"behavior-changed-webkitdirectory-attribute-for-input-type-file-now-lists-directory-contents",normalizedTitle:'behavior changed: webkitdirectory attribute for <input type="file"/> now lists directory contents',charIndex:22073},{level:3,title:"API Changed: Callback-based versions of promisified APIs",slug:"api-changed-callback-based-versions-of-promisified-apis",normalizedTitle:"api changed: callback-based versions of promisified apis",charIndex:23128},{level:2,title:"Planned Breaking API Changes (6.0)",slug:"planned-breaking-api-changes-6-0",normalizedTitle:"planned breaking api changes (6.0)",charIndex:24863},{level:3,title:"API Changed: win.setMenu(null) is now win.removeMenu()",slug:"api-changed-win-setmenu-null-is-now-win-removemenu",normalizedTitle:"api changed: win.setmenu(null) is now win.removemenu()",charIndex:24902},{level:3,title:"API Changed: electron.screen in the renderer process should be accessed via remote",slug:"api-changed-electron-screen-in-the-renderer-process-should-be-accessed-via-remote",normalizedTitle:"api changed: electron.screen in the renderer process should be accessed via remote",charIndex:25022},{level:3,title:"API Changed: require()ing node builtins in sandboxed renderers no longer implicitly loads the remote version",slug:"api-changed-require-ing-node-builtins-in-sandboxed-renderers-no-longer-implicitly-loads-the-remote-version",normalizedTitle:"api changed: require()ing node builtins in sandboxed renderers no longer implicitly loads the remote version",charIndex:25196},{level:3,title:"Deprecated: powerMonitor.querySystemIdleState replaced with powerMonitor.getSystemIdleState",slug:"deprecated-powermonitor-querysystemidlestate-replaced-with-powermonitor-getsystemidlestate",normalizedTitle:"deprecated: powermonitor.querysystemidlestate replaced with powermonitor.getsystemidlestate",charIndex:25666},{level:3,title:"Deprecated: powerMonitor.querySystemIdleTime replaced with powerMonitor.getSystemIdleTime",slug:"deprecated-powermonitor-querysystemidletime-replaced-with-powermonitor-getsystemidletime",normalizedTitle:"deprecated: powermonitor.querysystemidletime replaced with powermonitor.getsystemidletime",charIndex:25936},{level:3,title:"Deprecated: app.enableMixedSandbox() is no longer needed",slug:"deprecated-app-enablemixedsandbox-is-no-longer-needed",normalizedTitle:"deprecated: app.enablemixedsandbox() is no longer needed",charIndex:26181},{level:3,title:"Deprecated: Tray.setHighlightMode",slug:"deprecated-tray-sethighlightmode",normalizedTitle:"deprecated: tray.sethighlightmode",charIndex:26303},{level:2,title:"Planned Breaking API Changes (5.0)",slug:"planned-breaking-api-changes-5-0",normalizedTitle:"planned breaking api changes (5.0)",charIndex:26584},{level:3,title:"Default Changed: nodeIntegration and webviewTag default to false, contextIsolation defaults to true",slug:"default-changed-nodeintegration-and-webviewtag-default-to-false-contextisolation-defaults-to-true",normalizedTitle:"default changed: nodeintegration and webviewtag default to false, contextisolation defaults to true",charIndex:26623},{level:3,title:"Behavior Changed: nodeIntegration in child windows opened via nativeWindowOpen",slug:"behavior-changed-nodeintegration-in-child-windows-opened-via-nativewindowopen",normalizedTitle:"behavior changed: nodeintegration in child windows opened via nativewindowopen",charIndex:27115},{level:3,title:"API Changed: Registering privileged schemes must now be done before app ready",slug:"api-changed-registering-privileged-schemes-must-now-be-done-before-app-ready",normalizedTitle:"api changed: registering privileged schemes must now be done before app ready",charIndex:27343},{level:3,title:"Deprecated: webFrame.setIsolatedWorld* replaced with webFrame.setIsolatedWorldInfo",slug:"deprecated-webframe-setisolatedworld-replaced-with-webframe-setisolatedworldinfo",normalizedTitle:"deprecated: webframe.setisolatedworld* replaced with webframe.setisolatedworldinfo",charIndex:27720},{level:3,title:"API Changed: webFrame.setSpellCheckProvider now takes an asynchronous callback",slug:"api-changed-webframe-setspellcheckprovider-now-takes-an-asynchronous-callback",normalizedTitle:"api changed: webframe.setspellcheckprovider now takes an asynchronous callback",charIndex:28189},{level:3,title:"API Changed: webContents.getZoomLevel and webContents.getZoomFactor are now synchronous",slug:"api-changed-webcontents-getzoomlevel-and-webcontents-getzoomfactor-are-now-synchronous",normalizedTitle:"api changed: webcontents.getzoomlevel and webcontents.getzoomfactor are now synchronous",charIndex:28706},{level:2,title:"计划重写的 API (4.0)",slug:"计划重写的-api-4-0",normalizedTitle:"计划重写的 api (4.0)",charIndex:29284},{level:3,title:"app.makeSingleInstance",slug:"app-makesingleinstance",normalizedTitle:"app.makesingleinstance",charIndex:29333},{level:3,title:"app.releaseSingleInstance",slug:"app-releasesingleinstance",normalizedTitle:"app.releasesingleinstance",charIndex:29548},{level:3,title:"app.getGPUInfo",slug:"app-getgpuinfo",normalizedTitle:"app.getgpuinfo",charIndex:29663},{level:3,title:"win_delay_load_hook",slug:"win-delay-load-hook",normalizedTitle:"win_delay_load_hook",charIndex:29772},{level:2,title:"重大的API更新 (3.0)",slug:"重大的api更新-3-0",normalizedTitle:"重大的api更新 (3.0)",charIndex:29950},{level:3,title:"app",slug:"app",normalizedTitle:"app",charIndex:741},{level:3,title:"BrowserWindow",slug:"browserwindow",normalizedTitle:"browserwindow",charIndex:547},{level:3,title:"clipboard",slug:"clipboard",normalizedTitle:"clipboard",charIndex:30678},{level:3,title:"crashReporter",slug:"crashreporter",normalizedTitle:"crashreporter",charIndex:7040},{level:3,title:"nativeImage",slug:"nativeimage",normalizedTitle:"nativeimage",charIndex:31259},{level:3,title:"process",slug:"process",normalizedTitle:"process",charIndex:889},{level:3,title:"screen",slug:"screen",normalizedTitle:"screen",charIndex:25044},{level:3,title:"session",slug:"session",normalizedTitle:"session",charIndex:3573},{level:3,title:"Tray",slug:"tray",normalizedTitle:"tray",charIndex:26315},{level:3,title:"webContents",slug:"webcontents",normalizedTitle:"webcontents",charIndex:2544},{level:3,title:"webFrame",slug:"webframe",normalizedTitle:"webframe",charIndex:1553},{level:3,title:"<webview>",slug:"webview",normalizedTitle:"<webview>",charIndex:13642},{level:3,title:"Node Headers URL",slug:"node-headers-url",normalizedTitle:"node headers url",charIndex:20349},{level:2,title:"重大的API更新 (2.0)",slug:"重大的api更新-2-0",normalizedTitle:"重大的api更新 (2.0)",charIndex:32887},{level:3,title:"BrowserWindow",slug:"browserwindow-2",normalizedTitle:"browserwindow",charIndex:547},{level:3,title:"menu",slug:"menu",normalizedTitle:"menu",charIndex:33171},{level:3,title:"nativeImage",slug:"nativeimage-2",normalizedTitle:"nativeimage",charIndex:31259},{level:3,title:"process",slug:"process-2",normalizedTitle:"process",charIndex:889},{level:3,title:"webContents",slug:"webcontents-2",normalizedTitle:"webcontents",charIndex:2544},{level:3,title:"webFrame",slug:"webframe-2",normalizedTitle:"webframe",charIndex:1553},{level:3,title:"<webview>",slug:"webview-2",normalizedTitle:"<webview>",charIndex:13642},{level:3,title:"重复的 ARM 资源",slug:"重复的-arm-资源",normalizedTitle:"重复的 arm 资源",charIndex:33911}],headersStr:'重大更改的类型 计划重写的 API (14.0) Removed: remote module 已移除： app.allowRendererProcessReuse Removed: Browser Window Affinity API 更改： window.open() 已移除： worldSafeExecuteJavaScript 默认更改： nativeWindowOpen 默认为 true Removed: BrowserWindowConstructorOptions inheriting from parent windows 已移除： additionalFeatures 计划重写的 API (13.0) API 更改： session.setPermissionCheckHandler(handler) 已移除： shell.moveItemToTrash() 已移除： BrowserWindow 扩展 API 已移除： systemPreferences 中的方法 已废弃: WebContents new-window 事件 计划重写的 API (12.0) 已移除：Pepper Flash 支持 默认更改： worldSafeExecuteJavaScript 默认为 true 默认更改： contextIsolation 默认为 true 已移除： crashReporter.getCrashesDirectory() Removed: crashReporter methods in the renderer process Default Changed: crashReporter.start({ compress: true }) 已废弃： remote 模块 已废弃：shell.moveItemToTrash() 计划重写的 API (11.0) Removed: BrowserView.{destroy, fromId, fromWebContents, getAllViews} and id property of BrowserView 计划重写的 API (10.0) Deprecated: companyName argument to crashReporter.start() 已废弃：crashReporter.getCrashesDirectory() 已废弃：渲染进程中的 crashReporter 方法 已废弃：crashReporter.start({ compress: false }) 默认更改： enableRemoteModule 默认为 false protocol.unregisterProtocol protocol.uninterceptProtocol protocol.registerFileProtocol protocol.registerBufferProtocol protocol.registerStringProtocol protocol.registerHttpProtocol protocol.registerStreamProtocol protocol.interceptFileProtocol protocol.interceptStringProtocol protocol.interceptBufferProtocol protocol.interceptHttpProtocol protocol.interceptStreamProtocol protocol.isProtocolHandled 计划重写的 API (9.0) Default Changed: Loading non-context-aware native modules in the renderer process is disabled by default 已废弃： BrowserWindow 扩展 API 已移除： <webview>.getWebContents() 已移除： webFrame.setLayoutZoomLevelLimits() Behavior Changed: Sending non-JS objects over IPC now throws an exception API Changed: shell.openItem is now shell.openPath 计划重写的 API (8.0) Behavior Changed: Values sent over IPC are now serialized with Structured Clone Algorithm 已废弃： <webview>.getWebContents() Deprecated: webFrame.setLayoutZoomLevelLimits() Deprecated events in systemPreferences 已废弃：systemPreferences 中的方法 Planned Breaking API Changes (7.0) Deprecated: Atom.io Node Headers URL API Changed: session.clearAuthCache() no longer accepts options API Changed: powerMonitor.querySystemIdleState is now powerMonitor.getSystemIdleState API Changed: powerMonitor.querySystemIdleTime is now powerMonitor.getSystemIdleTime API Changed: webFrame.setIsolatedWorldInfo replaces separate methods Removed: marked property on getBlinkMemoryInfo Behavior Changed: webkitdirectory attribute for <input type="file"/> now lists directory contents API Changed: Callback-based versions of promisified APIs Planned Breaking API Changes (6.0) API Changed: win.setMenu(null) is now win.removeMenu() API Changed: electron.screen in the renderer process should be accessed via remote API Changed: require()ing node builtins in sandboxed renderers no longer implicitly loads the remote version Deprecated: powerMonitor.querySystemIdleState replaced with powerMonitor.getSystemIdleState Deprecated: powerMonitor.querySystemIdleTime replaced with powerMonitor.getSystemIdleTime Deprecated: app.enableMixedSandbox() is no longer needed Deprecated: Tray.setHighlightMode Planned Breaking API Changes (5.0) Default Changed: nodeIntegration and webviewTag default to false, contextIsolation defaults to true Behavior Changed: nodeIntegration in child windows opened via nativeWindowOpen API Changed: Registering privileged schemes must now be done before app ready Deprecated: webFrame.setIsolatedWorld* replaced with webFrame.setIsolatedWorldInfo API Changed: webFrame.setSpellCheckProvider now takes an asynchronous callback API Changed: webContents.getZoomLevel and webContents.getZoomFactor are now synchronous 计划重写的 API (4.0) app.makeSingleInstance app.releaseSingleInstance app.getGPUInfo win_delay_load_hook 重大的API更新 (3.0) app BrowserWindow clipboard crashReporter nativeImage process screen session Tray webContents webFrame <webview> Node Headers URL 重大的API更新 (2.0) BrowserWindow menu nativeImage process webContents webFrame <webview> 重复的 ARM 资源',content:"# 重大更改\n\n这里将记录重大更改,并在可能的情况下向JS代码添加弃用警告,在这更改之前至少会有一个重要版本.\n\n\n# 重大更改的类型\n\n本文档使用以下约定对重大更改进行分类：\n\n * **API 更改：**已更改的 API 会以某种方式使未更新的代码必定抛出异常。\n * **行为改变：**Electron 的行为已经改变，但并不一定抛出相应的异常。\n * **默认值更改：**依赖于默认值的代码的行为可能被破坏，但不保证会抛出相应的异常。 您可以通过显式指定该值的方式恢复旧的默认行为。\n * **已废弃：**该 API 已标记为废弃。 该 API 依旧可正常运作，但会抛出已废弃警告，并在将来会移除。\n * **已移除：**该 API 或功能已移除，Electron团队不再对此提供支持。\n\n\n# 计划重写的 API (14.0)\n\n\n# Removed: remote module\n\nThe remote module was deprecated in Electron 12, and will be removed in Electron 14. 由@electronic/remote 模块替代。\n\n// Deprecated in Electron 12:\nconst { BrowserWindow } = require('electron').remote\n\n\n1\n2\n\n\n// 替换为：\nconst { BrowserWindow } = require('@electron/remote')\n\n// 在主进程中：\nrequire('@electron/remote/main').initialize()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已移除： app.allowRendererProcessReuse\n\nThe app.allowRendererProcessReuse property will be removed as part of our plan to more closely align with Chromium's process model for security, performance and maintainability.\n\nFor more detailed information see #18397.\n\n\n# Removed: Browser Window Affinity\n\nThe affinity option when constructing a new BrowserWindow will be removed as part of our plan to more closely align with Chromium's process model for security, performance and maintainability.\n\nFor more detailed information see #18397.\n\n\n# API 更改： window.open()\n\n可选参数 frameName 将不再设置窗口的标题。 该功能现在遵循 原生文档 中的约束，由名为 windowName 的参数控制。\n\n若您之前使用了该参数用于设置窗口标题，您可以转而使用 win.setTitle(title)。\n\n\n# 已移除： worldSafeExecuteJavaScript\n\n在 Electron 14, worldSafeExecuteJavaScript 将被移除。 除此之外没有其他方式，请保证您的代码中包含该属性。 Electron 12中默认启用该属性。 12.\n\n若您使用了 webFrame.executeJavaScript 或 webFrame.executeJavaScriptInIsolatedWorld，这个改动会对您造成影响。 您需要保证 Context Bridge API 支持这些方法的返回值，因为这些方法使用相同的值传递语义。\n\n\n# 默认更改： nativeWindowOpen 默认为 true\n\nPrior to Electron 14, window.open was by default shimmed to use BrowserWindowProxy. This meant that window.open('about:blank') did not work to open synchronously scriptable child windows, among other incompatibilities. nativeWindowOpen is no longer experimental, and is now the default.\n\nSee the documentation for window.open in Electron for more details.\n\n\n# Removed: BrowserWindowConstructorOptions inheriting from parent windows\n\nPrior to Electron 14, windows opened with window.open would inherit BrowserWindow constructor options such as transparent and resizable from their parent window. Beginning with Electron 14, this behavior is removed, and windows will not inherit any BrowserWindow constructor options from their parents.\n\nInstead, explicitly set options for the new window with setWindowOpenHandler:\n\nwebContents.setWindowOpenHandler((details) => {\n  return {\n    action: 'allow',\n    overrideBrowserWindowOptions: {\n      // ...\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 已移除： additionalFeatures\n\nThe deprecated additionalFeatures property in the new-window and did-create-window events of WebContents has been removed. Since new-window uses positional arguments, the argument is still present, but will always be the empty array []. (Though note, the new-window event itself is deprecated, and is replaced by setWindowOpenHandler.) Bare keys in window features will now present as keys with the value true in the options object.\n\n// Removed in Electron 14\n// Triggered by window.open('...', '', 'my-key')\nwebContents.on('did-create-window', (window, details) => {\n  if (details.additionalFeatures.includes('my-key')) {\n    // ...\n  }\n})\n\n// Replace with\nwebContents.on('did-create-window', (window, details) => {\n  if (details.options['my-key']) {\n    // ...\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 计划重写的 API (13.0)\n\n\n# API 更改： session.setPermissionCheckHandler(handler)\n\nhandler 方法的第一个参数曾是 webContents，但现在可以为 null。 为正确响应权限检查，您需要使用requestingOrigin、embeddingOrigin 和 securityOrigin 这些属性。 因为 webContents 现在可能为 null，您不应当依赖此参数。\n\n// 旧代码\nsession.setPermissionCheckHandler((webContents, permission) => {\n  if (webContents.getURL().startsWith('https://google.com/') && permission === 'notification') {\n    return true\n  }\n  return false\n})\n\n// 变更为\nsession.setPermissionCheckHandler((webContents, permission, requestingOrigin) => {\n  if (new URL(requestingOrigin).hostname === 'google.com' && permission === 'notification') {\n    return true\n  }\n  return false\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 已移除： shell.moveItemToTrash()\n\n已废弃的同步方法 shell.moveItemToTrash() 已移除。 作为替代，您应当使用异步的 shell.trashItem()。\n\n// 在 Electron 13 移除\nshell.moveItemToTrash(path)\n// 替换为\nshell.trashItem(path).then(/* ... */)\n\n\n1\n2\n3\n4\n\n\n\n# 已移除： BrowserWindow 扩展 API\n\n移除已弃用的扩展 API：\n\n * BrowserWindow.addExtension(path)\n * BrowserWindow.addDevToolsExtension(path)\n * BrowserWindow.removeExtension(name)\n * BrowserWindow.removeDevToolsExtension(name)\n * BrowserWindow.getExtensions()\n * BrowserWindow.getDevToolsExtensions()\n\n改为使用 session API：\n\n * ses.loadExtension(path)\n * ses.removeExtension(extension_id)\n * ses.getAllExtensions()\n\n// 在 Electron 13 移除\nBrowserWindow.addExtension(path)\nBrowserWindow.addDevToolsExtension(path)\n// 替换为\nsession.defaultSession.loadExtension(path)\n\n\n1\n2\n3\n4\n5\n\n\n// 在 Electron 13 移除\nBrowserWindow.removeExtension(name)\nBrowserWindow.removeDevToolsExtension(name)\n// 替换为\nsession.defaultSession.removeExtension(extension_id)\n\n\n1\n2\n3\n4\n5\n\n\n// 在 Electron 13 移除\nBrowserWindow.getExtensions()\nBrowserWindow.getDevToolsExtensions()\n// 替换为\nsession.defaultSession.getAllExtensions()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已移除： systemPreferences 中的方法\n\nsystemPreferences 方法已经被废弃：\n\n * systemPreferences.isDarkMode()\n * systemPreferences.isInvertedColorScheme()\n * systemPreferences.isHighContrastColorScheme()\n\n使用 nativeTheme 属性作为替代：\n\n * nativeTheme.shouldUseDarkColors\n * nativeTheme.shouldUseInvertedColorScheme\n * nativeTheme.shouldUseHighContrastColors\n\n// 在 Electron 13 移除\nsystemPreferences.isDarkMode()\n// 替换为\nnativeTheme.shouldUseDarkColors\n\n// 在 Electron 13 移除\nsystemPreferences.isInvertedColorScheme()\n// 替换为\nnativeTheme.shouldUseInvertedColorScheme\n\n// 在 Electron 13 移除\nsystemPreferences.isHighContrastColorScheme()\n// 替换为\nnativeTheme.shouldUseHighContrastColors\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 已废弃: WebContents new-window 事件\n\nWebContents 中的 new-window 事件已经被废弃。 已弃用：webContents.setWindowOpenHandler()。\n\n// 在 Electron 13 废弃\nwebContents.on('new-window', (event) => {\n  event.preventDefault()\n})\n\n// 替换为\nwebContents.setWindowOpenHandler((details) => {\n  return { action: 'deny' }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 计划重写的 API (12.0)\n\n\n# 已移除：Pepper Flash 支持\n\nChromium 已经取消了对Flash的支持，因此我们必须效仿。 更多详细信息，请参阅 Chromium 的 Flash Roadmap\n\n\n# 默认更改： worldSafeExecuteJavaScript 默认为 true\n\n在 Electron 12, worldSafeExecuteJavaScript 将默认启用。 要恢复 上一个行为， worldSafeExecuteJavaScript: false 必须在 Web 首选项中指定。 请注意，设置此选项为 false 是不安全的。\n\n此选项将在 Electron 14 中删除，所以请迁移您的代码以支持默认 值。\n\n\n# 默认更改： contextIsolation 默认为 true\n\n在 Electron 12, contextIsolation 将默认启用。 要恢复 上一个行为， contextIsolation: false 必须在 Web 首选项中指定。\n\n我们 建议启用contextIsolation ，以保证您的应用程序的安全性。\n\nAnother implication is that require() cannot be used in the renderer process unless nodeIntegration is true and contextIsolation is false.\n\n更多信息请参阅：https://github.com/electron/electron/issues/23506\n\n\n# 已移除： crashReporter.getCrashesDirectory()\n\ncrashReporter.getCrashesDirectory 方法已被删除。 这个方法 应该被 app.getPath('crashDumps')替换。\n\n// 在 Electron 12 移除\ncrashReporter.getCrashesDirectory()\n// 替换为\napp.getPath('crashDumps')\n\n\n1\n2\n3\n4\n\n\n\n# Removed: crashReporter methods in the renderer process\n\ncrashReporter 方法在渲染进程中不再能使用：\n\n * crashReporter.start\n * crashReporter.getLastCrashReport\n * crashReporter.getUploadedReports\n * crashReporter.getUploadToServer\n * crashReporter.setUploadToServer\n * crashReporter.getCrashesDirectory\n\n它们只应从主要进程中调用。\n\n更多详细信息请访问 #23265\n\n\n# Default Changed: crashReporter.start({ compress: true })\n\nThe default value of the compress option to crashReporter.start has changed from false to true. This means that crash dumps will be uploaded to the crash ingestion server with the Content-Encoding: gzip header, and the body will be compressed.\n\nIf your crash ingestion server does not support compressed payloads, you can turn off compression by specifying { compress: false } in the crash reporter options.\n\n\n# 已废弃： remote 模块\n\nremote 模块在 Electron 12 废弃，并将在 Electron 14 被移除 由@electronic/remote 模块替代。\n\n// Deprecated in Electron 12:\nconst { BrowserWindow } = require('electron').remote\n\n\n1\n2\n\n\n// 替换为：\nconst { BrowserWindow } = require('@electron/remote')\n\n// 在主进程中：\nrequire('@electron/remote/main').initialize()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已废弃：shell.moveItemToTrash()\n\nThe synchronous shell.moveItemToTrash() has been replaced by the new, asynchronous shell.trashItem().\n\n// 在 Electron 12 废弃\nshell.moveItemToTrash(path)\n// 替换为\nshell.trashItem(path).then(/* ... */)\n\n\n1\n2\n3\n4\n\n\n\n# 计划重写的 API (11.0)\n\n\n# Removed: BrowserView.{destroy, fromId, fromWebContents, getAllViews} and id property of BrowserView\n\nThe experimental APIs BrowserView.{destroy, fromId, fromWebContents, getAllViews} have now been removed. Additionally, the id property of BrowserView has also been removed.\n\nFor more detailed information, see #23578.\n\n\n# 计划重写的 API (10.0)\n\n\n# Deprecated: companyName argument to crashReporter.start()\n\nThe companyName argument to crashReporter.start(), which was previously required, is now optional, and further, is deprecated. To get the same behavior in a non-deprecated way, you can pass a companyName value in globalExtra.\n\n// Deprecated in Electron 10\ncrashReporter.start({ companyName: 'Umbrella Corporation' })\n// Replace with\ncrashReporter.start({ globalExtra: { _companyName: 'Umbrella Corporation' } })\n\n\n1\n2\n3\n4\n\n\n\n# 已废弃：crashReporter.getCrashesDirectory()\n\nThe crashReporter.getCrashesDirectory method has been deprecated. 这个方法 应该被 app.getPath('crashDumps')替换。\n\n// Deprecated in Electron 10\ncrashReporter.getCrashesDirectory()\n// Replace with\napp.getPath('crashDumps')\n\n\n1\n2\n3\n4\n\n\n\n# 已废弃：渲染进程中的 crashReporter 方法\n\nCalling the following crashReporter methods from the renderer process is deprecated:\n\n * crashReporter.start\n * crashReporter.getLastCrashReport\n * crashReporter.getUploadedReports\n * crashReporter.getUploadToServer\n * crashReporter.setUploadToServer\n * crashReporter.getCrashesDirectory\n\nThe only non-deprecated methods remaining in the crashReporter module in the renderer are addExtraParameter, removeExtraParameter and getParameters.\n\n当从主要进程调用时，上述所有方法均未被弃用。\n\n更多详细信息请访问 #23265\n\n\n# 已废弃：crashReporter.start({ compress: false })\n\nSetting { compress: false } in crashReporter.start is deprecated. Nearly all crash ingestion servers support gzip compression. 此选项将在未来版本的 Electron 中删除。\n\n\n# 默认更改： enableRemoteModule 默认为 false\n\nIn Electron 9, using the remote module without explicitly enabling it via the enableRemoteModule WebPreferences option began emitting a warning. In Electron 10, the remote module is now disabled by default. To use the remote module, enableRemoteModule: true must be specified in WebPreferences:\n\nconst w = new BrowserWindow({\n  webPreferences: {\n    enableRemoteModule: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\nWe recommend moving away from the remote module.\n\n\n# protocol.unregisterProtocol\n\n\n# protocol.uninterceptProtocol\n\n这些 APIs 现在是同步的，不再需要可选的回调。\n\n// Deprecated\nprotocol.unregisterProtocol(scheme, () => { /* ... */ })\n// Replace with\nprotocol.unregisterProtocol(scheme)\n\n\n1\n2\n3\n4\n\n\n\n# protocol.registerFileProtocol\n\n\n# protocol.registerBufferProtocol\n\n\n# protocol.registerStringProtocol\n\n\n# protocol.registerHttpProtocol\n\n\n# protocol.registerStreamProtocol\n\n\n# protocol.interceptFileProtocol\n\n\n# protocol.interceptStringProtocol\n\n\n# protocol.interceptBufferProtocol\n\n\n# protocol.interceptHttpProtocol\n\n\n# protocol.interceptStreamProtocol\n\n这些 APIs 现在是同步的，不再需要可选的回调。\n\n// 已废弃\nprotocol.registerFileProtocol(scheme, handler, () => { /* ... */ })\n// 替换为\nprotocol.registerFileProtocol(scheme, handler)\n\n\n1\n2\n3\n4\n\n\nThe registered or intercepted protocol does not have effect on current page until navigation happens.\n\n\n# protocol.isProtocolHandled\n\nThis API is deprecated and users should use protocol.isProtocolRegistered and protocol.isProtocolIntercepted instead.\n\n// Deprecated\nprotocol.isProtocolHandled(scheme).then(() => { /* ... */ })\n// Replace with\nconst isRegistered = protocol.isProtocolRegistered(scheme)\nconst isIntercepted = protocol.isProtocolIntercepted(scheme)\n\n\n1\n2\n3\n4\n5\n\n\n\n# 计划重写的 API (9.0)\n\n\n# Default Changed: Loading non-context-aware native modules in the renderer process is disabled by default\n\nAs of Electron 9 we do not allow loading of non-context-aware native modules in the renderer process. This is to improve security, performance and maintainability of Electron as a project.\n\nIf this impacts you, you can temporarily set app.allowRendererProcessReuse to false to revert to the old behavior. This flag will only be an option until Electron 11 so you should plan to update your native modules to be context aware.\n\nFor more detailed information see #18397.\n\n\n# 已废弃： BrowserWindow 扩展 API\n\n以下扩展 APIs 已废弃:\n\n * BrowserWindow.addExtension(path)\n * BrowserWindow.addDevToolsExtension(path)\n * BrowserWindow.removeExtension(name)\n * BrowserWindow.removeDevToolsExtension(name)\n * BrowserWindow.getExtensions()\n * BrowserWindow.getDevToolsExtensions()\n\n改为使用 session API：\n\n * ses.loadExtension(path)\n * ses.removeExtension(extension_id)\n * ses.getAllExtensions()\n\n// 在 Electron 9 废弃\nBrowserWindow.addExtension(path)\nBrowserWindow.addDevToolsExtension(path)\n// 替换为\nsession.defaultSession.loadExtension(path)\n\n\n1\n2\n3\n4\n5\n\n\n// 在 Electron 9 废弃\nBrowserWindow.removeExtension(name)\nBrowserWindow.removeDevToolsExtension(name)\n// 替换为\nsession.defaultSession.removeExtension(extension_id)\n\n\n1\n2\n3\n4\n5\n\n\n// 在 Electron 9 废弃\nBrowserWindow.getExtensions()\nBrowserWindow.getDevToolsExtensions()\n// 替换为\nsession.defaultSession.getAllExtensions()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已移除： <webview>.getWebContents()\n\n此API在 Electron 8.0中被废弃，现已删除。\n\n// 在 Electron 9.0 移除\nwebview.getWebContents()\n// 替换为\nconst { remote } = require('electron')\nremote.webContents.fromId(webview.getWebContentsId())\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已移除： webFrame.setLayoutZoomLevelLimits()\n\nChromium has removed support for changing the layout zoom level limits, and it is beyond Electron's capacity to maintain it. 函数在 Electron 8.x 废弃，并将在 Electron 9.x 被移除。 The layout zoom level limits are now fixed at a minimum of 0.25 and a maximum of 5.0, as defined here.\n\n\n# Behavior Changed: Sending non-JS objects over IPC now throws an exception\n\nIn Electron 8.0, IPC was changed to use the Structured Clone Algorithm, bringing significant performance improvements. To help ease the transition, the old IPC serialization algorithm was kept and used for some objects that aren't serializable with Structured Clone. In particular, DOM objects (e.g. Element, Location and DOMMatrix), Node.js objects backed by C++ classes (e.g. process.env, some members of Stream), and Electron objects backed by C++ classes (e.g. WebContents, BrowserWindow and WebFrame) are not serializable with Structured Clone. Whenever the old algorithm was invoked, a deprecation warning was printed.\n\nIn Electron 9.0, the old serialization algorithm has been removed, and sending such non-serializable objects will now throw an \"object could not be cloned\" error.\n\n\n# API Changed: shell.openItem is now shell.openPath\n\nThe shell.openItem API has been replaced with an asynchronous shell.openPath API. You can see the original API proposal and reasoning here.\n\n\n# 计划重写的 API (8.0)\n\n\n# Behavior Changed: Values sent over IPC are now serialized with Structured Clone Algorithm\n\nThe algorithm used to serialize objects sent over IPC (through ipcRenderer.send, ipcRenderer.sendSync, WebContents.send and related methods) has been switched from a custom algorithm to V8's built-in Structured Clone Algorithm, the same algorithm used to serialize messages for postMessage. This brings about a 2x performance improvement for large messages, but also brings some breaking changes in behavior.\n\n * Sending Functions, Promises, WeakMaps, WeakSets, or objects containing any such values, over IPC will now throw an exception, instead of silently converting the functions to undefined.\n\n// Previously:\nipcRenderer.send('channel', { value: 3, someFunction: () => {} })\n// => results in { value: 3 } arriving in the main process\n\n// From Electron 8:\nipcRenderer.send('channel', { value: 3, someFunction: () => {} })\n// => throws Error(\"() => {} could not be cloned.\")\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * NaN, Infinity and -Infinity will now be correctly serialized, instead of being converted to null.\n * Objects containing cyclic references will now be correctly serialized, instead of being converted to null.\n * Set, Map, Error and RegExp values will be correctly serialized, instead of being converted to {}.\n * BigInt values will be correctly serialized, instead of being converted to null.\n * Sparse arrays will be serialized as such, instead of being converted to dense arrays with nulls.\n * Date objects will be transferred as Date objects, instead of being converted to their ISO string representation.\n * Typed Arrays (such as Uint8Array, Uint16Array, Uint32Array and so on) will be transferred as such, instead of being converted to Node.js Buffer.\n * Node.js Buffer objects will be transferred as Uint8Arrays. You can convert a Uint8Array back to a Node.js Buffer by wrapping the underlying ArrayBuffer:\n\nBuffer.from(value.buffer, value.byteOffset, value.byteLength)\n\n\n1\n\n\nSending any objects that aren't native JS types, such as DOM objects (e.g. Element, Location, DOMMatrix), Node.js objects (e.g. process.env, Stream), or Electron objects (e.g. WebContents, BrowserWindow, WebFrame) is deprecated. In Electron 8, these objects will be serialized as before with a DeprecationWarning message, but starting in Electron 9, sending these kinds of objects will throw a 'could not be cloned' error.\n\n\n# 已废弃： <webview>.getWebContents()\n\nThis API is implemented using the remote module, which has both performance and security implications. Therefore its usage should be explicit.\n\n// Deprecated\nwebview.getWebContents()\n// Replace with\nconst { remote } = require('electron')\nremote.webContents.fromId(webview.getWebContentsId())\n\n\n1\n2\n3\n4\n5\n\n\nHowever, it is recommended to avoid using the remote module altogether.\n\n// main\nconst { ipcMain, webContents } = require('electron')\n\nconst getGuestForWebContents = (webContentsId, contents) => {\n  const guest = webContents.fromId(webContentsId)\n  if (!guest) {\n    throw new Error(`Invalid webContentsId: ${webContentsId}`)\n  }\n  if (guest.hostWebContents !== contents) {\n    throw new Error('Access denied to webContents')\n  }\n  return guest\n}\n\nipcMain.handle('openDevTools', (event, webContentsId) => {\n  const guest = getGuestForWebContents(webContentsId, event.sender)\n  guest.openDevTools()\n})\n\n// renderer\nconst { ipcRenderer } = require('electron')\n\nipcRenderer.invoke('openDevTools', webview.getWebContentsId())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# Deprecated: webFrame.setLayoutZoomLevelLimits()\n\nChromium has removed support for changing the layout zoom level limits, and it is beyond Electron's capacity to maintain it. The function will emit a warning in Electron 8.x, and cease to exist in Electron 9.x. The layout zoom level limits are now fixed at a minimum of 0.25 and a maximum of 5.0, as defined here.\n\n\n# Deprecated events in systemPreferences\n\nThe following systemPreferences events have been deprecated:\n\n * inverted-color-scheme-changed\n * high-contrast-color-scheme-changed\n\nUse the new updated event on the nativeTheme module instead.\n\n// Deprecated\nsystemPreferences.on('inverted-color-scheme-changed', () => { /* ... */ })\nsystemPreferences.on('high-contrast-color-scheme-changed', () => { /* ... */ })\n\n// Replace with\nnativeTheme.on('updated', () => { /* ... */ })\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 已废弃：systemPreferences 中的方法\n\nsystemPreferences 方法已经被废弃：\n\n * systemPreferences.isDarkMode()\n * systemPreferences.isInvertedColorScheme()\n * systemPreferences.isHighContrastColorScheme()\n\n使用 nativeTheme 属性作为替代：\n\n * nativeTheme.shouldUseDarkColors\n * nativeTheme.shouldUseInvertedColorScheme\n * nativeTheme.shouldUseHighContrastColors\n\n// 已废弃\nsystemPreferences.isDarkMode()\n// 替换为\nnativeTheme.shouldUseDarkColors\n\n// 已废弃\nsystemPreferences.isInvertedColorScheme()\n// 替换为\nnativeTheme.shouldUseInvertedColorScheme\n\n// 已废弃\nsystemPreferences.isHighContrastColorScheme()\n// 替换为\nnativeTheme.shouldUseHighContrastColors\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# Planned Breaking API Changes (7.0)\n\n\n# Deprecated: Atom.io Node Headers URL\n\n这是在构建原生 node 模块时在 .npmrc 文件中指定为 disturl 的 url 或是 --dist-url 命令行标志. Both will be supported for the foreseeable future but it is recommended that you switch.\n\nDeprecated: https://atom.io/download/electron\n\nReplace with: https://electronjs.org/headers\n\n\n# API Changed: session.clearAuthCache() no longer accepts options\n\nThe session.clearAuthCache API no longer accepts options for what to clear, and instead unconditionally clears the whole cache.\n\n// Deprecated\nsession.clearAuthCache({ type: 'password' })\n// Replace with\nsession.clearAuthCache()\n\n\n1\n2\n3\n4\n\n\n\n# API Changed: powerMonitor.querySystemIdleState is now powerMonitor.getSystemIdleState\n\n// Removed in Electron 7.0\npowerMonitor.querySystemIdleState(threshold, callback)\n// Replace with synchronous API\nconst idleState = powerMonitor.getSystemIdleState(threshold)\n\n\n1\n2\n3\n4\n\n\n\n# API Changed: powerMonitor.querySystemIdleTime is now powerMonitor.getSystemIdleTime\n\n// Removed in Electron 7.0\npowerMonitor.querySystemIdleTime(callback)\n// Replace with synchronous API\nconst idleTime = powerMonitor.getSystemIdleTime()\n\n\n1\n2\n3\n4\n\n\n\n# API Changed: webFrame.setIsolatedWorldInfo replaces separate methods\n\n// Removed in Electron 7.0\nwebFrame.setIsolatedWorldContentSecurityPolicy(worldId, csp)\nwebFrame.setIsolatedWorldHumanReadableName(worldId, name)\nwebFrame.setIsolatedWorldSecurityOrigin(worldId, securityOrigin)\n// Replace with\nwebFrame.setIsolatedWorldInfo(\n  worldId,\n  {\n    securityOrigin: 'some_origin',\n    name: 'human_readable_name',\n    csp: 'content_security_policy'\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# Removed: marked property on getBlinkMemoryInfo\n\nThis property was removed in Chromium 77, and as such is no longer available.\n\n\n# Behavior Changed: webkitdirectory attribute for <input type=\"file\"/> now lists directory contents\n\nThe webkitdirectory property on HTML file inputs allows them to select folders. Previous versions of Electron had an incorrect implementation where the event.target.files of the input returned a FileList that returned one File corresponding to the selected folder.\n\nAs of Electron 7, that FileList is now list of all files contained within the folder, similarly to Chrome, Firefox, and Edge (link to MDN docs).\n\nAs an illustration, take a folder with this structure:\n\nfolder\n├── file1\n├── file2\n└── file3\n\n\n1\n2\n3\n4\n\n\nIn Electron <=6, this would return a FileList with a File object for:\n\npath/to/folder\n\n\n1\n\n\nIn Electron 7, this now returns a FileList with a File object for:\n\n/path/to/folder/file3\n/path/to/folder/file2\n/path/to/folder/file1\n\n\n1\n2\n3\n\n\nNote that webkitdirectory no longer exposes the path to the selected folder. If you require the path to the selected folder rather than the folder contents, see the dialog.showOpenDialog API (link).\n\n\n# API Changed: Callback-based versions of promisified APIs\n\nElectron 5 and Electron 6 introduced Promise-based versions of existing asynchronous APIs and deprecated their older, callback-based counterparts. In Electron 7, all deprecated callback-based APIs are now removed.\n\nThese functions now only return Promises:\n\n * app.getFileIcon() #15742\n * app.dock.show() #16904\n * contentTracing.getCategories() #16583\n * contentTracking.getTraceBufferUs() #16600\n * contentTracing.startRecording() #16584\n * contentTracing.stopRecording() #16584\n * contents.executeJavaScript() #17312\n * cookies.flushStore() #16464\n * cookies.get() #16464\n * cookies.remove() #16464\n * cookies.set() #16464\n * debugger.sendCommand() #16861\n * dialog.showCertificateTrustDialog() #17181\n * inAppPurchase.getProducts() #17355\n * inAppPurchase.purchaseProduct()#17355\n * netLog.stopLogging() #16862\n * session.clearAuthCache() #17259\n * session.clearCache() #17185\n * session.clearHostResolverCache() #17229\n * session.clearStorageData() #17249\n * session.getBlobData() #17303\n * session.getCacheSize() #17185\n * session.getCacheSize() #17185\n * session.setProxy() #17222\n * shell.openExternal() #16176\n * webContents.loadFile() #15855\n * webContents.loadURL() #15855\n * webContents.hasServiceWorker() #16535\n * webContents.printToPDF() #16795\n * webContents.savePage() #16742\n * webFrame.executeJavaScript() #17312\n * webFrame.executeJavaScriptInIsolatedWorld() #17312\n * webviewTag.executeJavaScript() #17312\n * win.capturePage() #15743\n\n这些功能现在有两种形式，即同步和基于Promise的异步：\n\n * dialog.showMessageBox()/dialog.showMessageBoxSync() #17298\n * dialog.showOpenDialog()/dialog.showOpenDialogSync() #16973\n * dialog.showSaveDialog()/dialog.showSaveDialogSync() #17054\n\n\n# Planned Breaking API Changes (6.0)\n\n\n# API Changed: win.setMenu(null) is now win.removeMenu()\n\n// 不推荐\nwin.setMenu(null)\n// 替换为\nwin.removeMenu()\n\n\n1\n2\n3\n4\n\n\n\n# API Changed: electron.screen in the renderer process should be accessed via remote\n\n// 不推荐\nrequire('electron').screen\n// 替换为\nrequire('electron').remote.screen\n\n\n1\n2\n3\n4\n\n\n\n# API Changed: require()ing node builtins in sandboxed renderers no longer implicitly loads the remote version\n\n// 不推荐\nrequire('child_process')\n// 替换为\nrequire('electron').remote.require('child_process')\n\n// 不推荐\nrequire('fs')\n// 替换为\nrequire('electron').remote.require('fs')\n\n// 不推荐\nrequire('os')\n// 替换为\nrequire('electron').remote.require('os')\n\n// 不推荐\nrequire('path')\n// 替换为\nrequire('electron').remote.require('path')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# Deprecated: powerMonitor.querySystemIdleState replaced with powerMonitor.getSystemIdleState\n\n// Deprecated\npowerMonitor.querySystemIdleState(threshold, callback)\n// Replace with synchronous API\nconst idleState = powerMonitor.getSystemIdleState(threshold)\n\n\n1\n2\n3\n4\n\n\n\n# Deprecated: powerMonitor.querySystemIdleTime replaced with powerMonitor.getSystemIdleTime\n\n// Deprecated\npowerMonitor.querySystemIdleTime(callback)\n// Replace with synchronous API\nconst idleTime = powerMonitor.getSystemIdleTime()\n\n\n1\n2\n3\n4\n\n\n\n# Deprecated: app.enableMixedSandbox() is no longer needed\n\n// Deprecated\napp.enableMixedSandbox()\n\n\n1\n2\n\n\n混合沙盒模式已默认启用。\n\n\n# Deprecated: Tray.setHighlightMode\n\nUnder macOS Catalina our former Tray implementation breaks. Apple's native substitute doesn't support changing the highlighting behavior.\n\n// Deprecated\ntray.setHighlightMode(mode)\n// API will be removed in v7.0 without replacement.\n\n\n1\n2\n3\n\n\n\n# Planned Breaking API Changes (5.0)\n\n\n# Default Changed: nodeIntegration and webviewTag default to false, contextIsolation defaults to true\n\n不推荐使用以下 webPreferences 选项默认值，以支持下面列出的新默认值。\n\n属性                 不推荐使用的默认值                     新的默认值\ncontextIsolation   false                         true\nnodeIntegration    true                          false\nwebviewTag         nodeIntegration 未设置过则是 true   false\n\n如下: Re-enabling the webviewTag\n\nconst w = new BrowserWindow({\n  webPreferences: {\n    webviewTag: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# Behavior Changed: nodeIntegration in child windows opened via nativeWindowOpen\n\nChild windows opened with the nativeWindowOpen option will always have Node.js integration disabled, unless nodeIntegrationInSubFrames is true.\n\n\n# API Changed: Registering privileged schemes must now be done before app ready\n\nRenderer process APIs webFrame.registerURLSchemeAsPrivileged and webFrame.registerURLSchemeAsBypassingCSP as well as browser process API protocol.registerStandardSchemes have been removed. 新的 API protocol.registerSchemeasviliged 已被添加，并用于注册具有必要权限的自定义 scheme。 自定义 scheme 需要在 app 触发 ready 事件之前注册。\n\n\n# Deprecated: webFrame.setIsolatedWorld* replaced with webFrame.setIsolatedWorldInfo\n\n// 弃用\nwebFrame.setIsolatedWorldContentSecurityPolicy(worldId, csp)\nwebFrame.setIsolatedWorldHumanReadableName(worldId, name)\nwebFrame.setIsolatedWorldSecurityOrigin(worldId, securityOrigin)\n// 替换为\nwebFrame.setIsolatedWorldInfo(\n  worldId,\n  {\n    securityOrigin: 'some_origin',\n    name: 'human_readable_name',\n    csp: 'content_security_policy'\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# API Changed: webFrame.setSpellCheckProvider now takes an asynchronous callback\n\nThe spellCheck callback is now asynchronous, and autoCorrectWord parameter has been removed.\n\n// Deprecated\nwebFrame.setSpellCheckProvider('en-US', true, {\n  spellCheck: (text) => {\n    return !spellchecker.isMisspelled(text)\n  }\n})\n// Replace with\nwebFrame.setSpellCheckProvider('en-US', {\n  spellCheck: (words, callback) => {\n    callback(words.filter(text => spellchecker.isMisspelled(text)))\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# API Changed: webContents.getZoomLevel and webContents.getZoomFactor are now synchronous\n\nwebContents.getZoomLevel and webContents.getZoomFactor no longer take callback parameters, instead directly returning their number values.\n\n// Deprecated\nwebContents.getZoomLevel((level) => {\n  console.log(level)\n})\n// Replace with\nconst level = webContents.getZoomLevel()\nconsole.log(level)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n// Deprecated\nwebContents.getZoomFactor((factor) => {\n  console.log(factor)\n})\n// Replace with\nconst factor = webContents.getZoomFactor()\nconsole.log(factor)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 计划重写的 API (4.0)\n\n以下列表包含了Electron4.0中重大的API更新\n\n\n# app.makeSingleInstance\n\n// 已废弃\napp.makeSingleInstance((argv, cwd) => {\n  /* ... */\n})\n// 替换为\napp.requestSingleInstanceLock()\napp.on('second-instance', (event, argv, cwd) => {\n  /* ... */\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# app.releaseSingleInstance\n\n// 废弃\napp.releaseSingleInstance()\n// 替换为\napp.releaseSingleInstanceLock()\n\n\n1\n2\n3\n4\n\n\n\n# app.getGPUInfo\n\napp.getGPUInfo('complete')\n// 现在的行为将与macOS下的`basic`设置一样\napp.getGPUInfo('basic')\n\n\n1\n2\n3\n\n\n\n# win_delay_load_hook\n\n在为 Windows 构建本机模块时，将使 win_delay_load_hook 变量值 位于 binding.gyp 模块，必须为 true (这是默认值)。 如果这个钩子 不存在，那么本机模块将无法在 Windows 上加载，并出现错误 消息如 无法找到模块。 查看 原生模块指南 以获取更多信息.\n\n\n# 重大的API更新 (3.0)\n\n以下包含了Electron 3.0中重大的API更新\n\n\n# app\n\n// 弃用\napp.getAppMemoryInfo()\n// 替换为\napp.getAppMetrics()\n\n// 弃用\nconst metrics = app.getAppMetrics()\nconst { memory } = metrics[0] // 弃用的属性\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# BrowserWindow\n\n// 已废弃\nconst optionsA = { webPreferences: { blinkFeatures: '' } }\nconst windowA = new BrowserWindow(optionsA)\n// 替换为\nconst optionsB = { webPreferences: { enableBlinkFeatures: '' } }\nconst windowB = new BrowserWindow(optionsB)\n\n// 已废弃\nwindow.on('app-command', (e, cmd) => {\n  if (cmd === 'media-play_pause') {\n    // do something\n  }\n})\n// 替换为\nwindow.on('app-command', (e, cmd) => {\n  if (cmd === 'media-play-pause') {\n    // do something\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# clipboard\n\n// 过时的\nclipboard.readRtf()\n// 替换为\nclipboard.readRTF()\n\n// 过时的\nclipboard.writeRtf()\n// 替换为\nclipboard.writeRTF()\n\n// 过时的\nclipboard.readHtml()\n// 替换为\nclipboard.readHTML()\n\n// 过时的\nclipboard.writeHtml()\n//替换为\nclipboard.writeHTML()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# crashReporter\n\n// 过时的\ncrashReporter.start({\n  companyName: 'Crashly',\n  submitURL: 'https://crash.server.com',\n  autoSubmit: true\n})\n// 替换为\ncrashReporter.start({\n  companyName: 'Crashly',\n  submitURL: 'https://crash.server.com',\n  uploadToServer: true\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# nativeImage\n\n// 弃用\nnativeImage.createFromBuffer(buffer, 1.0)\n// 替换为\nnativeImage.createFromBuffer(buffer, {\n  scaleFactor: 1.0\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# process\n\n// 弃用\nconst info = process.getProcessMemoryInfo()\n\n\n1\n2\n\n\n\n# screen\n\n// 弃用\nscreen.getMenuBarHeight()\n// 替换为\nscreen.getPrimaryDisplay().workArea\n\n\n1\n2\n3\n4\n\n\n\n# session\n\n// 弃用\nses.setCertificateVerifyProc((hostname, certificate, callback) => {\n  callback(true)\n})\n// 替换为\nses.setCertificateVerifyProc((request, callback) => {\n  callback(0)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# Tray\n\n// 过时的\ntray.setHighlightMode(true)\n// 替换为\ntray.setHighlightMode('on')\n\n// 过时的\ntray.setHighlightMode(false)\n// 替换为\ntray.setHighlightMode('off')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# webContents\n\n// 弃用\nwebContents.openDevTools({ detach: true })\n// 替换为\nwebContents.openDevTools({ mode: 'detach' })\n\n// 移除\nwebContents.setSize(options)\n// 没有该API的替代\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# webFrame\n\n// 弃用\nwebFrame.registerURLSchemeAsSecure('app')\n// 替换为\nprotocol.registerStandardSchemes(['app'], { secure: true })\n\n// 弃用\nwebFrame.registerURLSchemeAsPrivileged('app', { secure: true })\n// 替换为\nprotocol.registerStandardSchemes(['app'], { secure: true })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# <webview>\n\n// 移除\nwebview.setAttribute('disableguestresize', '')\n// 没有该API的替代\n\n// 移除\nwebview.setAttribute('guestinstance', instanceId)\n// 没有该API的替代\n\n// 键盘监听器在webview标签中不再起效\nwebview.onkeydown = () => { /* handler */ }\nwebview.onkeyup = () => { /* handler */ }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# Node Headers URL\n\n这是在构建原生 node 模块时在 .npmrc 文件中指定为 disturl 的 url 或是 --dist-url 命令行标志.\n\n过时的: https://atom.io/download/atom-shell\n\n替换为: https://atom.io/download/electron\n\n\n# 重大的API更新 (2.0)\n\n以下包含了Electron 2.0中重大的API更新\n\n\n# BrowserWindow\n\n// 已废弃\nconst optionsA = { titleBarStyle: 'hidden-inset' }\nconst windowA = new BrowserWindow(optionsA)\n// 替换为\nconst optionsB = { titleBarStyle: 'hiddenInset' }\nconst windowB = new BrowserWindow(optionsB)\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# menu\n\n// 移除\nmenu.popup(browserWindow, 100, 200, 2)\n// 替换为\nmenu.popup(browserWindow, { x: 100, y: 200, positioningItem: 2 })\n\n\n1\n2\n3\n4\n\n\n\n# nativeImage\n\n// 移除\nnativeImage.toPng()\n// 替换为\nnativeImage.toPNG()\n\n// 移除\nnativeImage.toJpeg()\n// 替换为\nnativeImage.toJPEG()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# process\n\n * process.versions.electron 和 process.version.chrome 将成为只读属性, 以便与其他 process.versions 属性由Node设置。\n\n\n# webContents\n\n// 移除\nwebContents.setZoomLevelLimits(1, 2)\n// 替换为\nwebContents.setVisualZoomLevelLimits(1, 2)\n\n\n1\n2\n3\n4\n\n\n\n# webFrame\n\n// 移除\nwebFrame.setZoomLevelLimits(1, 2)\n// 替换为\nwebFrame.setVisualZoomLevelLimits(1, 2)\n\n\n1\n2\n3\n4\n\n\n\n# <webview>\n\n// 移除\nwebview.setZoomLevelLimits(1, 2)\n// 替换为\nwebview.setVisualZoomLevelLimits(1, 2)\n\n\n1\n2\n3\n4\n\n\n\n# 重复的 ARM 资源\n\n每个 Electron 发布版本包含两个相同的ARM版本，文件名略有不同，如electron-v1.7.3-linux-arm.zip 和 electron-v1.7.3-linux-armv7l.zip 添加包含v7l前缀的资源向用户明确其支持的ARM版本，并消除由未来armv6l 和 arm64 资源可能产生的歧义。\n\nThe file without the prefix is still being published to avoid breaking any setups that may be consuming it. Starting at 2.0, the unprefixed file will no longer be published.\n\n更多详细情况，查看 6986 和 7189。",normalizedContent:"# 重大更改\n\n这里将记录重大更改,并在可能的情况下向js代码添加弃用警告,在这更改之前至少会有一个重要版本.\n\n\n# 重大更改的类型\n\n本文档使用以下约定对重大更改进行分类：\n\n * **api 更改：**已更改的 api 会以某种方式使未更新的代码必定抛出异常。\n * **行为改变：**electron 的行为已经改变，但并不一定抛出相应的异常。\n * **默认值更改：**依赖于默认值的代码的行为可能被破坏，但不保证会抛出相应的异常。 您可以通过显式指定该值的方式恢复旧的默认行为。\n * **已废弃：**该 api 已标记为废弃。 该 api 依旧可正常运作，但会抛出已废弃警告，并在将来会移除。\n * **已移除：**该 api 或功能已移除，electron团队不再对此提供支持。\n\n\n# 计划重写的 api (14.0)\n\n\n# removed: remote module\n\nthe remote module was deprecated in electron 12, and will be removed in electron 14. 由@electronic/remote 模块替代。\n\n// deprecated in electron 12:\nconst { browserwindow } = require('electron').remote\n\n\n1\n2\n\n\n// 替换为：\nconst { browserwindow } = require('@electron/remote')\n\n// 在主进程中：\nrequire('@electron/remote/main').initialize()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已移除： app.allowrendererprocessreuse\n\nthe app.allowrendererprocessreuse property will be removed as part of our plan to more closely align with chromium's process model for security, performance and maintainability.\n\nfor more detailed information see #18397.\n\n\n# removed: browser window affinity\n\nthe affinity option when constructing a new browserwindow will be removed as part of our plan to more closely align with chromium's process model for security, performance and maintainability.\n\nfor more detailed information see #18397.\n\n\n# api 更改： window.open()\n\n可选参数 framename 将不再设置窗口的标题。 该功能现在遵循 原生文档 中的约束，由名为 windowname 的参数控制。\n\n若您之前使用了该参数用于设置窗口标题，您可以转而使用 win.settitle(title)。\n\n\n# 已移除： worldsafeexecutejavascript\n\n在 electron 14, worldsafeexecutejavascript 将被移除。 除此之外没有其他方式，请保证您的代码中包含该属性。 electron 12中默认启用该属性。 12.\n\n若您使用了 webframe.executejavascript 或 webframe.executejavascriptinisolatedworld，这个改动会对您造成影响。 您需要保证 context bridge api 支持这些方法的返回值，因为这些方法使用相同的值传递语义。\n\n\n# 默认更改： nativewindowopen 默认为 true\n\nprior to electron 14, window.open was by default shimmed to use browserwindowproxy. this meant that window.open('about:blank') did not work to open synchronously scriptable child windows, among other incompatibilities. nativewindowopen is no longer experimental, and is now the default.\n\nsee the documentation for window.open in electron for more details.\n\n\n# removed: browserwindowconstructoroptions inheriting from parent windows\n\nprior to electron 14, windows opened with window.open would inherit browserwindow constructor options such as transparent and resizable from their parent window. beginning with electron 14, this behavior is removed, and windows will not inherit any browserwindow constructor options from their parents.\n\ninstead, explicitly set options for the new window with setwindowopenhandler:\n\nwebcontents.setwindowopenhandler((details) => {\n  return {\n    action: 'allow',\n    overridebrowserwindowoptions: {\n      // ...\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 已移除： additionalfeatures\n\nthe deprecated additionalfeatures property in the new-window and did-create-window events of webcontents has been removed. since new-window uses positional arguments, the argument is still present, but will always be the empty array []. (though note, the new-window event itself is deprecated, and is replaced by setwindowopenhandler.) bare keys in window features will now present as keys with the value true in the options object.\n\n// removed in electron 14\n// triggered by window.open('...', '', 'my-key')\nwebcontents.on('did-create-window', (window, details) => {\n  if (details.additionalfeatures.includes('my-key')) {\n    // ...\n  }\n})\n\n// replace with\nwebcontents.on('did-create-window', (window, details) => {\n  if (details.options['my-key']) {\n    // ...\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 计划重写的 api (13.0)\n\n\n# api 更改： session.setpermissioncheckhandler(handler)\n\nhandler 方法的第一个参数曾是 webcontents，但现在可以为 null。 为正确响应权限检查，您需要使用requestingorigin、embeddingorigin 和 securityorigin 这些属性。 因为 webcontents 现在可能为 null，您不应当依赖此参数。\n\n// 旧代码\nsession.setpermissioncheckhandler((webcontents, permission) => {\n  if (webcontents.geturl().startswith('https://google.com/') && permission === 'notification') {\n    return true\n  }\n  return false\n})\n\n// 变更为\nsession.setpermissioncheckhandler((webcontents, permission, requestingorigin) => {\n  if (new url(requestingorigin).hostname === 'google.com' && permission === 'notification') {\n    return true\n  }\n  return false\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 已移除： shell.moveitemtotrash()\n\n已废弃的同步方法 shell.moveitemtotrash() 已移除。 作为替代，您应当使用异步的 shell.trashitem()。\n\n// 在 electron 13 移除\nshell.moveitemtotrash(path)\n// 替换为\nshell.trashitem(path).then(/* ... */)\n\n\n1\n2\n3\n4\n\n\n\n# 已移除： browserwindow 扩展 api\n\n移除已弃用的扩展 api：\n\n * browserwindow.addextension(path)\n * browserwindow.adddevtoolsextension(path)\n * browserwindow.removeextension(name)\n * browserwindow.removedevtoolsextension(name)\n * browserwindow.getextensions()\n * browserwindow.getdevtoolsextensions()\n\n改为使用 session api：\n\n * ses.loadextension(path)\n * ses.removeextension(extension_id)\n * ses.getallextensions()\n\n// 在 electron 13 移除\nbrowserwindow.addextension(path)\nbrowserwindow.adddevtoolsextension(path)\n// 替换为\nsession.defaultsession.loadextension(path)\n\n\n1\n2\n3\n4\n5\n\n\n// 在 electron 13 移除\nbrowserwindow.removeextension(name)\nbrowserwindow.removedevtoolsextension(name)\n// 替换为\nsession.defaultsession.removeextension(extension_id)\n\n\n1\n2\n3\n4\n5\n\n\n// 在 electron 13 移除\nbrowserwindow.getextensions()\nbrowserwindow.getdevtoolsextensions()\n// 替换为\nsession.defaultsession.getallextensions()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已移除： systempreferences 中的方法\n\nsystempreferences 方法已经被废弃：\n\n * systempreferences.isdarkmode()\n * systempreferences.isinvertedcolorscheme()\n * systempreferences.ishighcontrastcolorscheme()\n\n使用 nativetheme 属性作为替代：\n\n * nativetheme.shouldusedarkcolors\n * nativetheme.shoulduseinvertedcolorscheme\n * nativetheme.shouldusehighcontrastcolors\n\n// 在 electron 13 移除\nsystempreferences.isdarkmode()\n// 替换为\nnativetheme.shouldusedarkcolors\n\n// 在 electron 13 移除\nsystempreferences.isinvertedcolorscheme()\n// 替换为\nnativetheme.shoulduseinvertedcolorscheme\n\n// 在 electron 13 移除\nsystempreferences.ishighcontrastcolorscheme()\n// 替换为\nnativetheme.shouldusehighcontrastcolors\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 已废弃: webcontents new-window 事件\n\nwebcontents 中的 new-window 事件已经被废弃。 已弃用：webcontents.setwindowopenhandler()。\n\n// 在 electron 13 废弃\nwebcontents.on('new-window', (event) => {\n  event.preventdefault()\n})\n\n// 替换为\nwebcontents.setwindowopenhandler((details) => {\n  return { action: 'deny' }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 计划重写的 api (12.0)\n\n\n# 已移除：pepper flash 支持\n\nchromium 已经取消了对flash的支持，因此我们必须效仿。 更多详细信息，请参阅 chromium 的 flash roadmap\n\n\n# 默认更改： worldsafeexecutejavascript 默认为 true\n\n在 electron 12, worldsafeexecutejavascript 将默认启用。 要恢复 上一个行为， worldsafeexecutejavascript: false 必须在 web 首选项中指定。 请注意，设置此选项为 false 是不安全的。\n\n此选项将在 electron 14 中删除，所以请迁移您的代码以支持默认 值。\n\n\n# 默认更改： contextisolation 默认为 true\n\n在 electron 12, contextisolation 将默认启用。 要恢复 上一个行为， contextisolation: false 必须在 web 首选项中指定。\n\n我们 建议启用contextisolation ，以保证您的应用程序的安全性。\n\nanother implication is that require() cannot be used in the renderer process unless nodeintegration is true and contextisolation is false.\n\n更多信息请参阅：https://github.com/electron/electron/issues/23506\n\n\n# 已移除： crashreporter.getcrashesdirectory()\n\ncrashreporter.getcrashesdirectory 方法已被删除。 这个方法 应该被 app.getpath('crashdumps')替换。\n\n// 在 electron 12 移除\ncrashreporter.getcrashesdirectory()\n// 替换为\napp.getpath('crashdumps')\n\n\n1\n2\n3\n4\n\n\n\n# removed: crashreporter methods in the renderer process\n\ncrashreporter 方法在渲染进程中不再能使用：\n\n * crashreporter.start\n * crashreporter.getlastcrashreport\n * crashreporter.getuploadedreports\n * crashreporter.getuploadtoserver\n * crashreporter.setuploadtoserver\n * crashreporter.getcrashesdirectory\n\n它们只应从主要进程中调用。\n\n更多详细信息请访问 #23265\n\n\n# default changed: crashreporter.start({ compress: true })\n\nthe default value of the compress option to crashreporter.start has changed from false to true. this means that crash dumps will be uploaded to the crash ingestion server with the content-encoding: gzip header, and the body will be compressed.\n\nif your crash ingestion server does not support compressed payloads, you can turn off compression by specifying { compress: false } in the crash reporter options.\n\n\n# 已废弃： remote 模块\n\nremote 模块在 electron 12 废弃，并将在 electron 14 被移除 由@electronic/remote 模块替代。\n\n// deprecated in electron 12:\nconst { browserwindow } = require('electron').remote\n\n\n1\n2\n\n\n// 替换为：\nconst { browserwindow } = require('@electron/remote')\n\n// 在主进程中：\nrequire('@electron/remote/main').initialize()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已废弃：shell.moveitemtotrash()\n\nthe synchronous shell.moveitemtotrash() has been replaced by the new, asynchronous shell.trashitem().\n\n// 在 electron 12 废弃\nshell.moveitemtotrash(path)\n// 替换为\nshell.trashitem(path).then(/* ... */)\n\n\n1\n2\n3\n4\n\n\n\n# 计划重写的 api (11.0)\n\n\n# removed: browserview.{destroy, fromid, fromwebcontents, getallviews} and id property of browserview\n\nthe experimental apis browserview.{destroy, fromid, fromwebcontents, getallviews} have now been removed. additionally, the id property of browserview has also been removed.\n\nfor more detailed information, see #23578.\n\n\n# 计划重写的 api (10.0)\n\n\n# deprecated: companyname argument to crashreporter.start()\n\nthe companyname argument to crashreporter.start(), which was previously required, is now optional, and further, is deprecated. to get the same behavior in a non-deprecated way, you can pass a companyname value in globalextra.\n\n// deprecated in electron 10\ncrashreporter.start({ companyname: 'umbrella corporation' })\n// replace with\ncrashreporter.start({ globalextra: { _companyname: 'umbrella corporation' } })\n\n\n1\n2\n3\n4\n\n\n\n# 已废弃：crashreporter.getcrashesdirectory()\n\nthe crashreporter.getcrashesdirectory method has been deprecated. 这个方法 应该被 app.getpath('crashdumps')替换。\n\n// deprecated in electron 10\ncrashreporter.getcrashesdirectory()\n// replace with\napp.getpath('crashdumps')\n\n\n1\n2\n3\n4\n\n\n\n# 已废弃：渲染进程中的 crashreporter 方法\n\ncalling the following crashreporter methods from the renderer process is deprecated:\n\n * crashreporter.start\n * crashreporter.getlastcrashreport\n * crashreporter.getuploadedreports\n * crashreporter.getuploadtoserver\n * crashreporter.setuploadtoserver\n * crashreporter.getcrashesdirectory\n\nthe only non-deprecated methods remaining in the crashreporter module in the renderer are addextraparameter, removeextraparameter and getparameters.\n\n当从主要进程调用时，上述所有方法均未被弃用。\n\n更多详细信息请访问 #23265\n\n\n# 已废弃：crashreporter.start({ compress: false })\n\nsetting { compress: false } in crashreporter.start is deprecated. nearly all crash ingestion servers support gzip compression. 此选项将在未来版本的 electron 中删除。\n\n\n# 默认更改： enableremotemodule 默认为 false\n\nin electron 9, using the remote module without explicitly enabling it via the enableremotemodule webpreferences option began emitting a warning. in electron 10, the remote module is now disabled by default. to use the remote module, enableremotemodule: true must be specified in webpreferences:\n\nconst w = new browserwindow({\n  webpreferences: {\n    enableremotemodule: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\nwe recommend moving away from the remote module.\n\n\n# protocol.unregisterprotocol\n\n\n# protocol.uninterceptprotocol\n\n这些 apis 现在是同步的，不再需要可选的回调。\n\n// deprecated\nprotocol.unregisterprotocol(scheme, () => { /* ... */ })\n// replace with\nprotocol.unregisterprotocol(scheme)\n\n\n1\n2\n3\n4\n\n\n\n# protocol.registerfileprotocol\n\n\n# protocol.registerbufferprotocol\n\n\n# protocol.registerstringprotocol\n\n\n# protocol.registerhttpprotocol\n\n\n# protocol.registerstreamprotocol\n\n\n# protocol.interceptfileprotocol\n\n\n# protocol.interceptstringprotocol\n\n\n# protocol.interceptbufferprotocol\n\n\n# protocol.intercepthttpprotocol\n\n\n# protocol.interceptstreamprotocol\n\n这些 apis 现在是同步的，不再需要可选的回调。\n\n// 已废弃\nprotocol.registerfileprotocol(scheme, handler, () => { /* ... */ })\n// 替换为\nprotocol.registerfileprotocol(scheme, handler)\n\n\n1\n2\n3\n4\n\n\nthe registered or intercepted protocol does not have effect on current page until navigation happens.\n\n\n# protocol.isprotocolhandled\n\nthis api is deprecated and users should use protocol.isprotocolregistered and protocol.isprotocolintercepted instead.\n\n// deprecated\nprotocol.isprotocolhandled(scheme).then(() => { /* ... */ })\n// replace with\nconst isregistered = protocol.isprotocolregistered(scheme)\nconst isintercepted = protocol.isprotocolintercepted(scheme)\n\n\n1\n2\n3\n4\n5\n\n\n\n# 计划重写的 api (9.0)\n\n\n# default changed: loading non-context-aware native modules in the renderer process is disabled by default\n\nas of electron 9 we do not allow loading of non-context-aware native modules in the renderer process. this is to improve security, performance and maintainability of electron as a project.\n\nif this impacts you, you can temporarily set app.allowrendererprocessreuse to false to revert to the old behavior. this flag will only be an option until electron 11 so you should plan to update your native modules to be context aware.\n\nfor more detailed information see #18397.\n\n\n# 已废弃： browserwindow 扩展 api\n\n以下扩展 apis 已废弃:\n\n * browserwindow.addextension(path)\n * browserwindow.adddevtoolsextension(path)\n * browserwindow.removeextension(name)\n * browserwindow.removedevtoolsextension(name)\n * browserwindow.getextensions()\n * browserwindow.getdevtoolsextensions()\n\n改为使用 session api：\n\n * ses.loadextension(path)\n * ses.removeextension(extension_id)\n * ses.getallextensions()\n\n// 在 electron 9 废弃\nbrowserwindow.addextension(path)\nbrowserwindow.adddevtoolsextension(path)\n// 替换为\nsession.defaultsession.loadextension(path)\n\n\n1\n2\n3\n4\n5\n\n\n// 在 electron 9 废弃\nbrowserwindow.removeextension(name)\nbrowserwindow.removedevtoolsextension(name)\n// 替换为\nsession.defaultsession.removeextension(extension_id)\n\n\n1\n2\n3\n4\n5\n\n\n// 在 electron 9 废弃\nbrowserwindow.getextensions()\nbrowserwindow.getdevtoolsextensions()\n// 替换为\nsession.defaultsession.getallextensions()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已移除： <webview>.getwebcontents()\n\n此api在 electron 8.0中被废弃，现已删除。\n\n// 在 electron 9.0 移除\nwebview.getwebcontents()\n// 替换为\nconst { remote } = require('electron')\nremote.webcontents.fromid(webview.getwebcontentsid())\n\n\n1\n2\n3\n4\n5\n\n\n\n# 已移除： webframe.setlayoutzoomlevellimits()\n\nchromium has removed support for changing the layout zoom level limits, and it is beyond electron's capacity to maintain it. 函数在 electron 8.x 废弃，并将在 electron 9.x 被移除。 the layout zoom level limits are now fixed at a minimum of 0.25 and a maximum of 5.0, as defined here.\n\n\n# behavior changed: sending non-js objects over ipc now throws an exception\n\nin electron 8.0, ipc was changed to use the structured clone algorithm, bringing significant performance improvements. to help ease the transition, the old ipc serialization algorithm was kept and used for some objects that aren't serializable with structured clone. in particular, dom objects (e.g. element, location and dommatrix), node.js objects backed by c++ classes (e.g. process.env, some members of stream), and electron objects backed by c++ classes (e.g. webcontents, browserwindow and webframe) are not serializable with structured clone. whenever the old algorithm was invoked, a deprecation warning was printed.\n\nin electron 9.0, the old serialization algorithm has been removed, and sending such non-serializable objects will now throw an \"object could not be cloned\" error.\n\n\n# api changed: shell.openitem is now shell.openpath\n\nthe shell.openitem api has been replaced with an asynchronous shell.openpath api. you can see the original api proposal and reasoning here.\n\n\n# 计划重写的 api (8.0)\n\n\n# behavior changed: values sent over ipc are now serialized with structured clone algorithm\n\nthe algorithm used to serialize objects sent over ipc (through ipcrenderer.send, ipcrenderer.sendsync, webcontents.send and related methods) has been switched from a custom algorithm to v8's built-in structured clone algorithm, the same algorithm used to serialize messages for postmessage. this brings about a 2x performance improvement for large messages, but also brings some breaking changes in behavior.\n\n * sending functions, promises, weakmaps, weaksets, or objects containing any such values, over ipc will now throw an exception, instead of silently converting the functions to undefined.\n\n// previously:\nipcrenderer.send('channel', { value: 3, somefunction: () => {} })\n// => results in { value: 3 } arriving in the main process\n\n// from electron 8:\nipcrenderer.send('channel', { value: 3, somefunction: () => {} })\n// => throws error(\"() => {} could not be cloned.\")\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * nan, infinity and -infinity will now be correctly serialized, instead of being converted to null.\n * objects containing cyclic references will now be correctly serialized, instead of being converted to null.\n * set, map, error and regexp values will be correctly serialized, instead of being converted to {}.\n * bigint values will be correctly serialized, instead of being converted to null.\n * sparse arrays will be serialized as such, instead of being converted to dense arrays with nulls.\n * date objects will be transferred as date objects, instead of being converted to their iso string representation.\n * typed arrays (such as uint8array, uint16array, uint32array and so on) will be transferred as such, instead of being converted to node.js buffer.\n * node.js buffer objects will be transferred as uint8arrays. you can convert a uint8array back to a node.js buffer by wrapping the underlying arraybuffer:\n\nbuffer.from(value.buffer, value.byteoffset, value.bytelength)\n\n\n1\n\n\nsending any objects that aren't native js types, such as dom objects (e.g. element, location, dommatrix), node.js objects (e.g. process.env, stream), or electron objects (e.g. webcontents, browserwindow, webframe) is deprecated. in electron 8, these objects will be serialized as before with a deprecationwarning message, but starting in electron 9, sending these kinds of objects will throw a 'could not be cloned' error.\n\n\n# 已废弃： <webview>.getwebcontents()\n\nthis api is implemented using the remote module, which has both performance and security implications. therefore its usage should be explicit.\n\n// deprecated\nwebview.getwebcontents()\n// replace with\nconst { remote } = require('electron')\nremote.webcontents.fromid(webview.getwebcontentsid())\n\n\n1\n2\n3\n4\n5\n\n\nhowever, it is recommended to avoid using the remote module altogether.\n\n// main\nconst { ipcmain, webcontents } = require('electron')\n\nconst getguestforwebcontents = (webcontentsid, contents) => {\n  const guest = webcontents.fromid(webcontentsid)\n  if (!guest) {\n    throw new error(`invalid webcontentsid: ${webcontentsid}`)\n  }\n  if (guest.hostwebcontents !== contents) {\n    throw new error('access denied to webcontents')\n  }\n  return guest\n}\n\nipcmain.handle('opendevtools', (event, webcontentsid) => {\n  const guest = getguestforwebcontents(webcontentsid, event.sender)\n  guest.opendevtools()\n})\n\n// renderer\nconst { ipcrenderer } = require('electron')\n\nipcrenderer.invoke('opendevtools', webview.getwebcontentsid())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# deprecated: webframe.setlayoutzoomlevellimits()\n\nchromium has removed support for changing the layout zoom level limits, and it is beyond electron's capacity to maintain it. the function will emit a warning in electron 8.x, and cease to exist in electron 9.x. the layout zoom level limits are now fixed at a minimum of 0.25 and a maximum of 5.0, as defined here.\n\n\n# deprecated events in systempreferences\n\nthe following systempreferences events have been deprecated:\n\n * inverted-color-scheme-changed\n * high-contrast-color-scheme-changed\n\nuse the new updated event on the nativetheme module instead.\n\n// deprecated\nsystempreferences.on('inverted-color-scheme-changed', () => { /* ... */ })\nsystempreferences.on('high-contrast-color-scheme-changed', () => { /* ... */ })\n\n// replace with\nnativetheme.on('updated', () => { /* ... */ })\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 已废弃：systempreferences 中的方法\n\nsystempreferences 方法已经被废弃：\n\n * systempreferences.isdarkmode()\n * systempreferences.isinvertedcolorscheme()\n * systempreferences.ishighcontrastcolorscheme()\n\n使用 nativetheme 属性作为替代：\n\n * nativetheme.shouldusedarkcolors\n * nativetheme.shoulduseinvertedcolorscheme\n * nativetheme.shouldusehighcontrastcolors\n\n// 已废弃\nsystempreferences.isdarkmode()\n// 替换为\nnativetheme.shouldusedarkcolors\n\n// 已废弃\nsystempreferences.isinvertedcolorscheme()\n// 替换为\nnativetheme.shoulduseinvertedcolorscheme\n\n// 已废弃\nsystempreferences.ishighcontrastcolorscheme()\n// 替换为\nnativetheme.shouldusehighcontrastcolors\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# planned breaking api changes (7.0)\n\n\n# deprecated: atom.io node headers url\n\n这是在构建原生 node 模块时在 .npmrc 文件中指定为 disturl 的 url 或是 --dist-url 命令行标志. both will be supported for the foreseeable future but it is recommended that you switch.\n\ndeprecated: https://atom.io/download/electron\n\nreplace with: https://electronjs.org/headers\n\n\n# api changed: session.clearauthcache() no longer accepts options\n\nthe session.clearauthcache api no longer accepts options for what to clear, and instead unconditionally clears the whole cache.\n\n// deprecated\nsession.clearauthcache({ type: 'password' })\n// replace with\nsession.clearauthcache()\n\n\n1\n2\n3\n4\n\n\n\n# api changed: powermonitor.querysystemidlestate is now powermonitor.getsystemidlestate\n\n// removed in electron 7.0\npowermonitor.querysystemidlestate(threshold, callback)\n// replace with synchronous api\nconst idlestate = powermonitor.getsystemidlestate(threshold)\n\n\n1\n2\n3\n4\n\n\n\n# api changed: powermonitor.querysystemidletime is now powermonitor.getsystemidletime\n\n// removed in electron 7.0\npowermonitor.querysystemidletime(callback)\n// replace with synchronous api\nconst idletime = powermonitor.getsystemidletime()\n\n\n1\n2\n3\n4\n\n\n\n# api changed: webframe.setisolatedworldinfo replaces separate methods\n\n// removed in electron 7.0\nwebframe.setisolatedworldcontentsecuritypolicy(worldid, csp)\nwebframe.setisolatedworldhumanreadablename(worldid, name)\nwebframe.setisolatedworldsecurityorigin(worldid, securityorigin)\n// replace with\nwebframe.setisolatedworldinfo(\n  worldid,\n  {\n    securityorigin: 'some_origin',\n    name: 'human_readable_name',\n    csp: 'content_security_policy'\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# removed: marked property on getblinkmemoryinfo\n\nthis property was removed in chromium 77, and as such is no longer available.\n\n\n# behavior changed: webkitdirectory attribute for <input type=\"file\"/> now lists directory contents\n\nthe webkitdirectory property on html file inputs allows them to select folders. previous versions of electron had an incorrect implementation where the event.target.files of the input returned a filelist that returned one file corresponding to the selected folder.\n\nas of electron 7, that filelist is now list of all files contained within the folder, similarly to chrome, firefox, and edge (link to mdn docs).\n\nas an illustration, take a folder with this structure:\n\nfolder\n├── file1\n├── file2\n└── file3\n\n\n1\n2\n3\n4\n\n\nin electron <=6, this would return a filelist with a file object for:\n\npath/to/folder\n\n\n1\n\n\nin electron 7, this now returns a filelist with a file object for:\n\n/path/to/folder/file3\n/path/to/folder/file2\n/path/to/folder/file1\n\n\n1\n2\n3\n\n\nnote that webkitdirectory no longer exposes the path to the selected folder. if you require the path to the selected folder rather than the folder contents, see the dialog.showopendialog api (link).\n\n\n# api changed: callback-based versions of promisified apis\n\nelectron 5 and electron 6 introduced promise-based versions of existing asynchronous apis and deprecated their older, callback-based counterparts. in electron 7, all deprecated callback-based apis are now removed.\n\nthese functions now only return promises:\n\n * app.getfileicon() #15742\n * app.dock.show() #16904\n * contenttracing.getcategories() #16583\n * contenttracking.gettracebufferus() #16600\n * contenttracing.startrecording() #16584\n * contenttracing.stoprecording() #16584\n * contents.executejavascript() #17312\n * cookies.flushstore() #16464\n * cookies.get() #16464\n * cookies.remove() #16464\n * cookies.set() #16464\n * debugger.sendcommand() #16861\n * dialog.showcertificatetrustdialog() #17181\n * inapppurchase.getproducts() #17355\n * inapppurchase.purchaseproduct()#17355\n * netlog.stoplogging() #16862\n * session.clearauthcache() #17259\n * session.clearcache() #17185\n * session.clearhostresolvercache() #17229\n * session.clearstoragedata() #17249\n * session.getblobdata() #17303\n * session.getcachesize() #17185\n * session.getcachesize() #17185\n * session.setproxy() #17222\n * shell.openexternal() #16176\n * webcontents.loadfile() #15855\n * webcontents.loadurl() #15855\n * webcontents.hasserviceworker() #16535\n * webcontents.printtopdf() #16795\n * webcontents.savepage() #16742\n * webframe.executejavascript() #17312\n * webframe.executejavascriptinisolatedworld() #17312\n * webviewtag.executejavascript() #17312\n * win.capturepage() #15743\n\n这些功能现在有两种形式，即同步和基于promise的异步：\n\n * dialog.showmessagebox()/dialog.showmessageboxsync() #17298\n * dialog.showopendialog()/dialog.showopendialogsync() #16973\n * dialog.showsavedialog()/dialog.showsavedialogsync() #17054\n\n\n# planned breaking api changes (6.0)\n\n\n# api changed: win.setmenu(null) is now win.removemenu()\n\n// 不推荐\nwin.setmenu(null)\n// 替换为\nwin.removemenu()\n\n\n1\n2\n3\n4\n\n\n\n# api changed: electron.screen in the renderer process should be accessed via remote\n\n// 不推荐\nrequire('electron').screen\n// 替换为\nrequire('electron').remote.screen\n\n\n1\n2\n3\n4\n\n\n\n# api changed: require()ing node builtins in sandboxed renderers no longer implicitly loads the remote version\n\n// 不推荐\nrequire('child_process')\n// 替换为\nrequire('electron').remote.require('child_process')\n\n// 不推荐\nrequire('fs')\n// 替换为\nrequire('electron').remote.require('fs')\n\n// 不推荐\nrequire('os')\n// 替换为\nrequire('electron').remote.require('os')\n\n// 不推荐\nrequire('path')\n// 替换为\nrequire('electron').remote.require('path')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# deprecated: powermonitor.querysystemidlestate replaced with powermonitor.getsystemidlestate\n\n// deprecated\npowermonitor.querysystemidlestate(threshold, callback)\n// replace with synchronous api\nconst idlestate = powermonitor.getsystemidlestate(threshold)\n\n\n1\n2\n3\n4\n\n\n\n# deprecated: powermonitor.querysystemidletime replaced with powermonitor.getsystemidletime\n\n// deprecated\npowermonitor.querysystemidletime(callback)\n// replace with synchronous api\nconst idletime = powermonitor.getsystemidletime()\n\n\n1\n2\n3\n4\n\n\n\n# deprecated: app.enablemixedsandbox() is no longer needed\n\n// deprecated\napp.enablemixedsandbox()\n\n\n1\n2\n\n\n混合沙盒模式已默认启用。\n\n\n# deprecated: tray.sethighlightmode\n\nunder macos catalina our former tray implementation breaks. apple's native substitute doesn't support changing the highlighting behavior.\n\n// deprecated\ntray.sethighlightmode(mode)\n// api will be removed in v7.0 without replacement.\n\n\n1\n2\n3\n\n\n\n# planned breaking api changes (5.0)\n\n\n# default changed: nodeintegration and webviewtag default to false, contextisolation defaults to true\n\n不推荐使用以下 webpreferences 选项默认值，以支持下面列出的新默认值。\n\n属性                 不推荐使用的默认值                     新的默认值\ncontextisolation   false                         true\nnodeintegration    true                          false\nwebviewtag         nodeintegration 未设置过则是 true   false\n\n如下: re-enabling the webviewtag\n\nconst w = new browserwindow({\n  webpreferences: {\n    webviewtag: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# behavior changed: nodeintegration in child windows opened via nativewindowopen\n\nchild windows opened with the nativewindowopen option will always have node.js integration disabled, unless nodeintegrationinsubframes is true.\n\n\n# api changed: registering privileged schemes must now be done before app ready\n\nrenderer process apis webframe.registerurlschemeasprivileged and webframe.registerurlschemeasbypassingcsp as well as browser process api protocol.registerstandardschemes have been removed. 新的 api protocol.registerschemeasviliged 已被添加，并用于注册具有必要权限的自定义 scheme。 自定义 scheme 需要在 app 触发 ready 事件之前注册。\n\n\n# deprecated: webframe.setisolatedworld* replaced with webframe.setisolatedworldinfo\n\n// 弃用\nwebframe.setisolatedworldcontentsecuritypolicy(worldid, csp)\nwebframe.setisolatedworldhumanreadablename(worldid, name)\nwebframe.setisolatedworldsecurityorigin(worldid, securityorigin)\n// 替换为\nwebframe.setisolatedworldinfo(\n  worldid,\n  {\n    securityorigin: 'some_origin',\n    name: 'human_readable_name',\n    csp: 'content_security_policy'\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# api changed: webframe.setspellcheckprovider now takes an asynchronous callback\n\nthe spellcheck callback is now asynchronous, and autocorrectword parameter has been removed.\n\n// deprecated\nwebframe.setspellcheckprovider('en-us', true, {\n  spellcheck: (text) => {\n    return !spellchecker.ismisspelled(text)\n  }\n})\n// replace with\nwebframe.setspellcheckprovider('en-us', {\n  spellcheck: (words, callback) => {\n    callback(words.filter(text => spellchecker.ismisspelled(text)))\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# api changed: webcontents.getzoomlevel and webcontents.getzoomfactor are now synchronous\n\nwebcontents.getzoomlevel and webcontents.getzoomfactor no longer take callback parameters, instead directly returning their number values.\n\n// deprecated\nwebcontents.getzoomlevel((level) => {\n  console.log(level)\n})\n// replace with\nconst level = webcontents.getzoomlevel()\nconsole.log(level)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n// deprecated\nwebcontents.getzoomfactor((factor) => {\n  console.log(factor)\n})\n// replace with\nconst factor = webcontents.getzoomfactor()\nconsole.log(factor)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 计划重写的 api (4.0)\n\n以下列表包含了electron4.0中重大的api更新\n\n\n# app.makesingleinstance\n\n// 已废弃\napp.makesingleinstance((argv, cwd) => {\n  /* ... */\n})\n// 替换为\napp.requestsingleinstancelock()\napp.on('second-instance', (event, argv, cwd) => {\n  /* ... */\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# app.releasesingleinstance\n\n// 废弃\napp.releasesingleinstance()\n// 替换为\napp.releasesingleinstancelock()\n\n\n1\n2\n3\n4\n\n\n\n# app.getgpuinfo\n\napp.getgpuinfo('complete')\n// 现在的行为将与macos下的`basic`设置一样\napp.getgpuinfo('basic')\n\n\n1\n2\n3\n\n\n\n# win_delay_load_hook\n\n在为 windows 构建本机模块时，将使 win_delay_load_hook 变量值 位于 binding.gyp 模块，必须为 true (这是默认值)。 如果这个钩子 不存在，那么本机模块将无法在 windows 上加载，并出现错误 消息如 无法找到模块。 查看 原生模块指南 以获取更多信息.\n\n\n# 重大的api更新 (3.0)\n\n以下包含了electron 3.0中重大的api更新\n\n\n# app\n\n// 弃用\napp.getappmemoryinfo()\n// 替换为\napp.getappmetrics()\n\n// 弃用\nconst metrics = app.getappmetrics()\nconst { memory } = metrics[0] // 弃用的属性\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# browserwindow\n\n// 已废弃\nconst optionsa = { webpreferences: { blinkfeatures: '' } }\nconst windowa = new browserwindow(optionsa)\n// 替换为\nconst optionsb = { webpreferences: { enableblinkfeatures: '' } }\nconst windowb = new browserwindow(optionsb)\n\n// 已废弃\nwindow.on('app-command', (e, cmd) => {\n  if (cmd === 'media-play_pause') {\n    // do something\n  }\n})\n// 替换为\nwindow.on('app-command', (e, cmd) => {\n  if (cmd === 'media-play-pause') {\n    // do something\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# clipboard\n\n// 过时的\nclipboard.readrtf()\n// 替换为\nclipboard.readrtf()\n\n// 过时的\nclipboard.writertf()\n// 替换为\nclipboard.writertf()\n\n// 过时的\nclipboard.readhtml()\n// 替换为\nclipboard.readhtml()\n\n// 过时的\nclipboard.writehtml()\n//替换为\nclipboard.writehtml()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# crashreporter\n\n// 过时的\ncrashreporter.start({\n  companyname: 'crashly',\n  submiturl: 'https://crash.server.com',\n  autosubmit: true\n})\n// 替换为\ncrashreporter.start({\n  companyname: 'crashly',\n  submiturl: 'https://crash.server.com',\n  uploadtoserver: true\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# nativeimage\n\n// 弃用\nnativeimage.createfrombuffer(buffer, 1.0)\n// 替换为\nnativeimage.createfrombuffer(buffer, {\n  scalefactor: 1.0\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# process\n\n// 弃用\nconst info = process.getprocessmemoryinfo()\n\n\n1\n2\n\n\n\n# screen\n\n// 弃用\nscreen.getmenubarheight()\n// 替换为\nscreen.getprimarydisplay().workarea\n\n\n1\n2\n3\n4\n\n\n\n# session\n\n// 弃用\nses.setcertificateverifyproc((hostname, certificate, callback) => {\n  callback(true)\n})\n// 替换为\nses.setcertificateverifyproc((request, callback) => {\n  callback(0)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# tray\n\n// 过时的\ntray.sethighlightmode(true)\n// 替换为\ntray.sethighlightmode('on')\n\n// 过时的\ntray.sethighlightmode(false)\n// 替换为\ntray.sethighlightmode('off')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# webcontents\n\n// 弃用\nwebcontents.opendevtools({ detach: true })\n// 替换为\nwebcontents.opendevtools({ mode: 'detach' })\n\n// 移除\nwebcontents.setsize(options)\n// 没有该api的替代\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# webframe\n\n// 弃用\nwebframe.registerurlschemeassecure('app')\n// 替换为\nprotocol.registerstandardschemes(['app'], { secure: true })\n\n// 弃用\nwebframe.registerurlschemeasprivileged('app', { secure: true })\n// 替换为\nprotocol.registerstandardschemes(['app'], { secure: true })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# <webview>\n\n// 移除\nwebview.setattribute('disableguestresize', '')\n// 没有该api的替代\n\n// 移除\nwebview.setattribute('guestinstance', instanceid)\n// 没有该api的替代\n\n// 键盘监听器在webview标签中不再起效\nwebview.onkeydown = () => { /* handler */ }\nwebview.onkeyup = () => { /* handler */ }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# node headers url\n\n这是在构建原生 node 模块时在 .npmrc 文件中指定为 disturl 的 url 或是 --dist-url 命令行标志.\n\n过时的: https://atom.io/download/atom-shell\n\n替换为: https://atom.io/download/electron\n\n\n# 重大的api更新 (2.0)\n\n以下包含了electron 2.0中重大的api更新\n\n\n# browserwindow\n\n// 已废弃\nconst optionsa = { titlebarstyle: 'hidden-inset' }\nconst windowa = new browserwindow(optionsa)\n// 替换为\nconst optionsb = { titlebarstyle: 'hiddeninset' }\nconst windowb = new browserwindow(optionsb)\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# menu\n\n// 移除\nmenu.popup(browserwindow, 100, 200, 2)\n// 替换为\nmenu.popup(browserwindow, { x: 100, y: 200, positioningitem: 2 })\n\n\n1\n2\n3\n4\n\n\n\n# nativeimage\n\n// 移除\nnativeimage.topng()\n// 替换为\nnativeimage.topng()\n\n// 移除\nnativeimage.tojpeg()\n// 替换为\nnativeimage.tojpeg()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# process\n\n * process.versions.electron 和 process.version.chrome 将成为只读属性, 以便与其他 process.versions 属性由node设置。\n\n\n# webcontents\n\n// 移除\nwebcontents.setzoomlevellimits(1, 2)\n// 替换为\nwebcontents.setvisualzoomlevellimits(1, 2)\n\n\n1\n2\n3\n4\n\n\n\n# webframe\n\n// 移除\nwebframe.setzoomlevellimits(1, 2)\n// 替换为\nwebframe.setvisualzoomlevellimits(1, 2)\n\n\n1\n2\n3\n4\n\n\n\n# <webview>\n\n// 移除\nwebview.setzoomlevellimits(1, 2)\n// 替换为\nwebview.setvisualzoomlevellimits(1, 2)\n\n\n1\n2\n3\n4\n\n\n\n# 重复的 arm 资源\n\n每个 electron 发布版本包含两个相同的arm版本，文件名略有不同，如electron-v1.7.3-linux-arm.zip 和 electron-v1.7.3-linux-armv7l.zip 添加包含v7l前缀的资源向用户明确其支持的arm版本，并消除由未来armv6l 和 arm64 资源可能产生的歧义。\n\nthe file without the prefix is still being published to avoid breaking any setups that may be consuming it. starting at 2.0, the unprefixed file will no longer be published.\n\n更多详细情况，查看 6986 和 7189。",charsets:{cjk:!0}},{title:"azure-vm-setup",frontmatter:{title:"azure-vm-setup",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d2f4a6/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/azure-vm-setup.html",relativePath:"《Electron中文文档》/development/azure-vm-setup.md",key:"v-77d89496",path:"/pages/d2f4a6/",headersStr:null,content:"# 更新 Appveyor Azure 镜像\n\nWindows 上的 Electron CI 使用 AppVeyor, 后者则使用 Azure VM 镜像运行。 有时，由于 Chromium 要求发生变化，这些 VM 镜像需要更新。 为了更新，您将需要 PowerShell 和 Azure PowerShell 模块。\n\nOccasionally we need to update these images owing to changes in Chromium or other miscellaneous build requirement changes.\n\nExample Use Case: * 我们需要安装VS15.9或者我们已安装好VS15.7；然后可能会请求我们去更新Azure镜像\n\n 1.  Identify the image you wish to modify.\n     \n     * 在 appveyor.yml文件中，镜像通过该文件来识别 镜像 配置。\n       * *“images”*该命名被对应用来定义云构建，例如：libcc-20 cloud\n     * 找到你希望去修改构建在云端的镜像并且注意镜像的 VHD Blob Path（标签），它是对应键值对的值\n       * You will need this URI path to copy into a new image.\n     * 同时需要的的存储账号名，在AppVeyor中被标记为 Disk Storage Account Name\n\n 2.  Get the Azure storage account key\n     \n     * Log into Azure using credentials stored in LastPass (under Azure Enterprise) and then find the storage account corresponding to the name found in AppVeyor.\n       * Example, for appveyorlibccbuilds Disk Storage Account Name you'd look for appveyorlibccbuilds in the list of storage accounts @ Home < Storage Accounts\n         * Click into it and look for Access Keys, and then you can use any of the keys present in the list.\n\n 3.  Get the full virtual machine image URI from Azure\n     \n     * Navigate to Home < Storage Accounts < $ACCT_NAME < Blobs < Images\n       * In the following list, look for the VHD path name you got from Appveyor and then click on it.\n         * Copy the whole URL from the top of the subsequent window.\n\n 4.  Copy the image using the Copy Master Image PowerShell script.\n     \n     * It is essential to copy the VM because if you spin up a VM against an image that image cannot at the same time be used by AppVeyor.\n     * Use the storage account name, key, and URI obtained from Azure to run this script.\n       * See Step 3 for URI & when prompted, press enter to use same storage account as destination.\n       * Use default destination container name (images)\n       * Also, when naming the copy, use a name that indicates what the new image will contain (if that has changed) and date stamp.\n         * Ex. libcc-20core-vs2017-15.9-2019-04-15.vhd\n     * Go into Azure and get the URI for the newly created image as described in a previous step\n\n 5.  Spin up a new VM using the Create Master VM from VHD PowerShell.\n     \n     * From PowerShell, execute ps1 file with ./create_master_vm_from_vhd.ps1\n     * You will need the credential information available in the AppVeyor build cloud definition.\n       * 这包括：\n         * 客户端 ID\n         * Client Secret\n         * Tenant ID\n         * Subscription ID\n         * Resource Group\n         * Virtual Network\n     * You will also need to specify\n       * Master VM name - just a unique name to identify the temporary VM\n       * Master VM size - use Standard_F32s_v2\n       * Master VHD URI - use URI obtained @ end of previous step\n       * Location use East US\n\n 6.  Log back into Azure and find the VM you just created in Home < Virtual Machines < $YOUR_NEW_VM\n     \n     * You can download a RDP (Remote Desktop) file to access the VM.\n\n 7.  Using Microsoft Remote Desktop, click Connect to connect to the VM.\n     \n     * Credentials for logging into the VM are found in LastPass under the AppVeyor Enterprise master VM credentials.\n\n 8.  Modify the VM as required.\n\n 9.  Shut down the VM and then delete it in Azure.\n\n 10. Add the new image to the Appveyor Cloud settings or modify an existing image to point to the new VHD.",normalizedContent:"# 更新 appveyor azure 镜像\n\nwindows 上的 electron ci 使用 appveyor, 后者则使用 azure vm 镜像运行。 有时，由于 chromium 要求发生变化，这些 vm 镜像需要更新。 为了更新，您将需要 powershell 和 azure powershell 模块。\n\noccasionally we need to update these images owing to changes in chromium or other miscellaneous build requirement changes.\n\nexample use case: * 我们需要安装vs15.9或者我们已安装好vs15.7；然后可能会请求我们去更新azure镜像\n\n 1.  identify the image you wish to modify.\n     \n     * 在 appveyor.yml文件中，镜像通过该文件来识别 镜像 配置。\n       * *“images”*该命名被对应用来定义云构建，例如：libcc-20 cloud\n     * 找到你希望去修改构建在云端的镜像并且注意镜像的 vhd blob path（标签），它是对应键值对的值\n       * you will need this uri path to copy into a new image.\n     * 同时需要的的存储账号名，在appveyor中被标记为 disk storage account name\n\n 2.  get the azure storage account key\n     \n     * log into azure using credentials stored in lastpass (under azure enterprise) and then find the storage account corresponding to the name found in appveyor.\n       * example, for appveyorlibccbuilds disk storage account name you'd look for appveyorlibccbuilds in the list of storage accounts @ home < storage accounts\n         * click into it and look for access keys, and then you can use any of the keys present in the list.\n\n 3.  get the full virtual machine image uri from azure\n     \n     * navigate to home < storage accounts < $acct_name < blobs < images\n       * in the following list, look for the vhd path name you got from appveyor and then click on it.\n         * copy the whole url from the top of the subsequent window.\n\n 4.  copy the image using the copy master image powershell script.\n     \n     * it is essential to copy the vm because if you spin up a vm against an image that image cannot at the same time be used by appveyor.\n     * use the storage account name, key, and uri obtained from azure to run this script.\n       * see step 3 for uri & when prompted, press enter to use same storage account as destination.\n       * use default destination container name (images)\n       * also, when naming the copy, use a name that indicates what the new image will contain (if that has changed) and date stamp.\n         * ex. libcc-20core-vs2017-15.9-2019-04-15.vhd\n     * go into azure and get the uri for the newly created image as described in a previous step\n\n 5.  spin up a new vm using the create master vm from vhd powershell.\n     \n     * from powershell, execute ps1 file with ./create_master_vm_from_vhd.ps1\n     * you will need the credential information available in the appveyor build cloud definition.\n       * 这包括：\n         * 客户端 id\n         * client secret\n         * tenant id\n         * subscription id\n         * resource group\n         * virtual network\n     * you will also need to specify\n       * master vm name - just a unique name to identify the temporary vm\n       * master vm size - use standard_f32s_v2\n       * master vhd uri - use uri obtained @ end of previous step\n       * location use east us\n\n 6.  log back into azure and find the vm you just created in home < virtual machines < $your_new_vm\n     \n     * you can download a rdp (remote desktop) file to access the vm.\n\n 7.  using microsoft remote desktop, click connect to connect to the vm.\n     \n     * credentials for logging into the vm are found in lastpass under the appveyor enterprise master vm credentials.\n\n 8.  modify the vm as required.\n\n 9.  shut down the vm and then delete it in azure.\n\n 10. add the new image to the appveyor cloud settings or modify an existing image to point to the new vhd.",charsets:{cjk:!0}},{title:"build-instructions-gn",frontmatter:{title:"build-instructions-gn",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/13e47e/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/build-instructions-gn.html",relativePath:"《Electron中文文档》/development/build-instructions-gn.md",key:"v-b44c3050",path:"/pages/13e47e/",headers:[{level:2,title:"平台要求",slug:"平台要求",normalizedTitle:"平台要求",charIndex:105},{level:2,title:"构建工具",slug:"构建工具",normalizedTitle:"构建工具",charIndex:161},{level:2,title:"前置知识",slug:"前置知识",normalizedTitle:"前置知识",charIndex:239},{level:3,title:"设置 git 缓存",slug:"设置-git-缓存",normalizedTitle:"设置 git 缓存",charIndex:561},{level:2,title:"获取代码",slug:"获取代码",normalizedTitle:"获取代码",charIndex:788},{level:3,title:"拉/推的注意事项",slug:"拉-推的注意事项",normalizedTitle:"拉/推的注意事项",charIndex:1104},{level:2,title:"构建",slug:"构建",normalizedTitle:"构建",charIndex:2},{level:3,title:"打包",slug:"打包",normalizedTitle:"打包",charIndex:80},{level:3,title:"交叉编译",slug:"交叉编译",normalizedTitle:"交叉编译",charIndex:3269},{level:4,title:"Windows on Arm (experimental)",slug:"windows-on-arm-experimental",normalizedTitle:"windows on arm (experimental)",charIndex:3937},{level:2,title:"测试",slug:"测试",normalizedTitle:"测试",charIndex:1931},{level:2,title:"在多个计算机之间共享 git 缓存",slug:"在多个计算机之间共享-git-缓存",normalizedTitle:"在多个计算机之间共享 git 缓存",charIndex:4862},{level:2,title:"故障排查",slug:"故障排查",normalizedTitle:"故障排查",charIndex:5599},{level:3,title:"gclient sync complains about rebase",slug:"gclient-sync-complains-about-rebase",normalizedTitle:"gclient sync complains about rebase",charIndex:5608},{level:3,title:"I'm being asked for a username/password for chromium-internal.googlesource.com",slug:"i-m-being-asked-for-a-username-password-for-chromium-internal-googlesource-com",normalizedTitle:"i'm being asked for a username/password for chromium-internal.googlesource.com",charIndex:6087}],headersStr:"平台要求 构建工具 前置知识 设置 git 缓存 获取代码 拉/推的注意事项 构建 打包 交叉编译 Windows on Arm (experimental) 测试 在多个计算机之间共享 git 缓存 故障排查 gclient sync complains about rebase I'm being asked for a username/password for chromium-internal.googlesource.com",content:'# 构建说明\n\n按照下面的步骤构建 Electron，来生成自定义的 Electron 二进制文件。 为了将您的应用代码与预构建的 Electron 二进制文件打包并发布，请参阅 应用程序发布 指南。\n\n\n# 平台要求\n\n各个平台所对应的构建要求如下：\n\n * macOS\n * Linux\n * Windows\n\n\n# 构建工具\n\nElectron的构建工具 自动化了很多配置不同的从源代码编译Electron的设置和构建目标。 如果您希望手动设置环境，则说明如下。\n\n\n# 前置知识\n\n此外，你还需要安装depot_tools，这是一个用于获取Chromium，及其相关依赖工具。\n\n另外，如果使用Windows系统, 你需要设置环境变量DEPOT_TOOLS_WIN_TOOLCHAIN=0。 依次打开 Control Panel → System and Security → System → Advanced system settings ，然后添加系统变量 DEPOT_TOOLS_WIN_TOOLCHAIN ，并设置默认值为 0. 这将促使depot_tools 使用本地已安装的Visual Studio(默认状态下，depot_tools将会下载一个只有谷歌内部员工有权限使用的内部版本)。\n\n\n# 设置 git 缓存\n\n如果您想 checkout 多份 Electron 源码 (例如多个并行目录 checkout 到不同的分支)， 推荐使用 git 缓存来加速后续对 gclient的调用。 为此，设置 GIT_CACHE_PATH 环境变量：\n\n$ export GIT_CACHE_PATH="${HOME}/.git_cache"\n$ mkdir -p "${GIT_CACHE_PATH}"\n# 这将使用大约16G\n\n\n1\n2\n3\n\n\n\n# 获取代码\n\n$ mkdir electron && cd electron\n$ gclient config --name "src/electron" --unmanaged https://github.com/electron/electron\n$ gclient sync --with_branch_heads --with_tags\n# 这将需要一段时间，喝杯咖啡休息一下。\n\n\n1\n2\n3\n4\n\n\n> 除了使用 https://github.com/electron/electron， 你也可以使用你自己的 fork (形如 https://github.com/<username>/electron)。\n\n\n# 拉/推的注意事项\n\n如果您将来打算从 electron 官方地址进行 git pull 或 git push，那么您需要更新相应文件夹的源 URL。\n\n$ cd src/electron\n$ git remote remove origin\n$ git remote add origin https://github.com/electron/electron\n$ git checkout main\n$ git branch --set-upstream-to=origin/main\n$ cd -\n\n\n1\n2\n3\n4\n5\n6\n\n\n📝 gclient 会检查 src/electron 目录下的 DEPS 文件，从中获取依赖信息 (就像 Chromium 或 Node.js 那样)。 运行 gclient sync -f 确保所有用来构建 Electron 的依赖都符合该文件的描述。\n\n因此，为了拉取，您将运行以下命令：\n\n$ cd src/electron\n$ git pull\n$ gclient sync -f\n\n\n1\n2\n3\n\n\n\n# 构建\n\n$ cd src\n$ export CHROMIUM_BUILDTOOLS_PATH=`pwd`/buildtools\n$ gn gen out/Testing --args="import(\\"//electron/build/args/testing.gn\\") $GN_EXTRA_ARGS"\n\n\n1\n2\n3\n\n\n若在 Windows 上 (没有可选参数)：\n\n$ cd src\n$ set CHROMIUM_BUILDTOOLS_PATH=%cd%\\buildtools\n$ gn out/testing --args="import(\\"//electron/build/args/testing.gn\\")\n\n\n1\n2\n3\n\n\n这将在src/下的out/Testing内生成一个有测试生成配置的文件夹 您可以用另一个名称 替换 Testing ，但它应该是 out 的子目录。 Also you shouldn\'t have to run gn gen again—if you want to change the build arguments, you can run gn args out/Testing to bring up an editor.\n\n要查看可用的构建配置选项的列表，运行 gn args out/Testing--list。\n\n用于生成测试Electron的构建配置：\n\n$ gn gen out/Testing --args="import(\\"//electron/build/args/testing.gn\\") $GN_EXTRA_ARGS"\n\n\n1\n\n\nFor generating Release (aka "non-component" or "static") build config of Electron:\n\n$ gn gen out/Release --args="import(\\"//electron/build/args/release.gn\\") $GN_EXTRA_ARGS"\n\n\n1\n\n\nTo build, run ninja with the electron target: Nota Bene: This will also take a while and probably heat up your lap.\n\n测试配置：\n\n$ ninja -C out/Testing electron\n\n\n1\n\n\n发布配置：\n\n$ ninja -C out/Release electron\n\n\n1\n\n\nThis will build all of what was previously \'libchromiumcontent\' (i.e. the content/ directory of chromium and its dependencies, incl. WebKit and V8), so it will take a while.\n\n构建需要在./out/Testing文件下执行：\n\n$ ./out/Testing/Electron.app/Contents/MacOS/Electron\n# or, on Windows\n$ ./out/Testing/electron.exe\n# or, on Linux\n$ ./out/Testing/electron\n\n\n1\n2\n3\n4\n5\n\n\n\n# 打包\n\nOn linux, first strip the debugging and symbol information:\n\nelectron/script/strip-binaries.py -d out/Release\n\n\n1\n\n\nTo package the electron build as a distributable zip file:\n\nninja -C out/Release electron:electron_dist_zip\n\n\n1\n\n\n\n# 交叉编译\n\nTo compile for a platform that isn\'t the same as the one you\'re building on, set the target_cpu and target_os GN arguments. For example, to compile an x86 target from an x64 host, specify target_cpu = "x86" in gn args.\n\n$ gn gen out/Testing-x86 --args=\'... target_cpu = "x86"\'\n\n\n1\n\n\nNot all combinations of source and target CPU/OS are supported by Chromium.\n\nHOST          目标              状态\nWindows x64   Windows arm64   实验性功能\nWindows x64   Windows x86     Automatically tested\nLinux x64     Linux x86       Automatically tested\n\nIf you test other combinations and find them to work, please update this document 😃\n\n有关 target_os 和 target_cpu 的有效值，请查看参考 GN。\n\n# Windows on Arm (experimental)\n\nTo cross-compile for Windows on Arm, follow Chromium\'s guide to get the necessary dependencies, SDK and libraries, then build with ELECTRON_BUILDING_WOA=1 in your environment before running gclient sync.\n\nset ELECTRON_BUILDING_WOA=1\ngclient sync -f --with_branch_heads --with_tags\n\n\n1\n2\n\n\nOr (if using PowerShell):\n\n$env:ELECTRON_BUILDING_WOA=1\ngclient sync -f --with_branch_heads --with_tags\n\n\n1\n2\n\n\nNext, run gn gen as above with target_cpu="arm64".\n\n\n# 测试\n\nTo run the tests, you\'ll first need to build the test modules against the same version of Node.js that was built as part of the build process. To generate build headers for the modules to compile against, run the following under src/ directory.\n\n$ ninja -C out/Testing third_party/electron_node:headers\n\n\n1\n\n\nYou can now run the tests.\n\n可以通过增加其它标记来调试程序，例如：\n\n$ npm run test -- \\\n  --enable-logging -g \'BrowserWindow module\'\n\n\n1\n2\n\n\n\n# 在多个计算机之间共享 git 缓存\n\n可以将gclient git 缓存与其他机器共享，导出为 SMB 在linux上共享。 但每次只能有一个进程或机器可以使用缓存。 The locks created by git-cache script will try to prevent this, but it may not work perfectly in a network.\n\nOn Windows, SMBv2 has a directory cache that will cause problems with the git cache script, so it is necessary to disable it by setting the registry key\n\nHKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\Lanmanworkstation\\Parameters\\DirectoryCacheLifetime\n\n\n1\n\n\nto 0. 更多信息：https://stackoverflow.com/a/9935126\n\nThis can be set quickly in powershell (ran as administrator):\n\nNew-ItemProperty -Path "HKLM:\\System\\CurrentControlSet\\Services\\Lanmanworkstation\\Parameters" -Name DirectoryCacheLifetime -Value 0 -PropertyType DWORD -Force\n\n\n1\n\n\n\n# 故障排查\n\n\n# gclient sync complains about rebase\n\nIf gclient sync is interrupted the git tree may be left in a bad state, leading to a cryptic message when running gclient sync in the future:\n\n2> Conflict while rebasing this branch.\n2> Fix the conflict and run gclient again.\n2> See man git-rebase for details.\n\n\n1\n2\n3\n\n\nIf there are no git conflicts or rebases in src/electron, you may need to abort a git am in src:\n\n$ cd ../\n$ git am --abort\n$ cd electron\n$ gclient sync -f\n\n\n1\n2\n3\n4\n\n\n\n# I\'m being asked for a username/password for chromium-internal.googlesource.com\n\nIf you see a prompt for Username for \'https://chrome-internal.googlesource.com\': when running gclient sync on Windows, it\'s probably because the DEPOT_TOOLS_WIN_TOOLCHAIN environment variable is not set to 0. Open Control Panel → System and Security → System → Advanced system settings and add a system variable DEPOT_TOOLS_WIN_TOOLCHAIN with value 0. 这将促使depot_tools 使用本地已安装的Visual Studio(默认状态下，depot_tools将会下载一个只有谷歌内部员工有权限使用的内部版本)。',normalizedContent:'# 构建说明\n\n按照下面的步骤构建 electron，来生成自定义的 electron 二进制文件。 为了将您的应用代码与预构建的 electron 二进制文件打包并发布，请参阅 应用程序发布 指南。\n\n\n# 平台要求\n\n各个平台所对应的构建要求如下：\n\n * macos\n * linux\n * windows\n\n\n# 构建工具\n\nelectron的构建工具 自动化了很多配置不同的从源代码编译electron的设置和构建目标。 如果您希望手动设置环境，则说明如下。\n\n\n# 前置知识\n\n此外，你还需要安装depot_tools，这是一个用于获取chromium，及其相关依赖工具。\n\n另外，如果使用windows系统, 你需要设置环境变量depot_tools_win_toolchain=0。 依次打开 control panel → system and security → system → advanced system settings ，然后添加系统变量 depot_tools_win_toolchain ，并设置默认值为 0. 这将促使depot_tools 使用本地已安装的visual studio(默认状态下，depot_tools将会下载一个只有谷歌内部员工有权限使用的内部版本)。\n\n\n# 设置 git 缓存\n\n如果您想 checkout 多份 electron 源码 (例如多个并行目录 checkout 到不同的分支)， 推荐使用 git 缓存来加速后续对 gclient的调用。 为此，设置 git_cache_path 环境变量：\n\n$ export git_cache_path="${home}/.git_cache"\n$ mkdir -p "${git_cache_path}"\n# 这将使用大约16g\n\n\n1\n2\n3\n\n\n\n# 获取代码\n\n$ mkdir electron && cd electron\n$ gclient config --name "src/electron" --unmanaged https://github.com/electron/electron\n$ gclient sync --with_branch_heads --with_tags\n# 这将需要一段时间，喝杯咖啡休息一下。\n\n\n1\n2\n3\n4\n\n\n> 除了使用 https://github.com/electron/electron， 你也可以使用你自己的 fork (形如 https://github.com/<username>/electron)。\n\n\n# 拉/推的注意事项\n\n如果您将来打算从 electron 官方地址进行 git pull 或 git push，那么您需要更新相应文件夹的源 url。\n\n$ cd src/electron\n$ git remote remove origin\n$ git remote add origin https://github.com/electron/electron\n$ git checkout main\n$ git branch --set-upstream-to=origin/main\n$ cd -\n\n\n1\n2\n3\n4\n5\n6\n\n\n📝 gclient 会检查 src/electron 目录下的 deps 文件，从中获取依赖信息 (就像 chromium 或 node.js 那样)。 运行 gclient sync -f 确保所有用来构建 electron 的依赖都符合该文件的描述。\n\n因此，为了拉取，您将运行以下命令：\n\n$ cd src/electron\n$ git pull\n$ gclient sync -f\n\n\n1\n2\n3\n\n\n\n# 构建\n\n$ cd src\n$ export chromium_buildtools_path=`pwd`/buildtools\n$ gn gen out/testing --args="import(\\"//electron/build/args/testing.gn\\") $gn_extra_args"\n\n\n1\n2\n3\n\n\n若在 windows 上 (没有可选参数)：\n\n$ cd src\n$ set chromium_buildtools_path=%cd%\\buildtools\n$ gn out/testing --args="import(\\"//electron/build/args/testing.gn\\")\n\n\n1\n2\n3\n\n\n这将在src/下的out/testing内生成一个有测试生成配置的文件夹 您可以用另一个名称 替换 testing ，但它应该是 out 的子目录。 also you shouldn\'t have to run gn gen again—if you want to change the build arguments, you can run gn args out/testing to bring up an editor.\n\n要查看可用的构建配置选项的列表，运行 gn args out/testing--list。\n\n用于生成测试electron的构建配置：\n\n$ gn gen out/testing --args="import(\\"//electron/build/args/testing.gn\\") $gn_extra_args"\n\n\n1\n\n\nfor generating release (aka "non-component" or "static") build config of electron:\n\n$ gn gen out/release --args="import(\\"//electron/build/args/release.gn\\") $gn_extra_args"\n\n\n1\n\n\nto build, run ninja with the electron target: nota bene: this will also take a while and probably heat up your lap.\n\n测试配置：\n\n$ ninja -c out/testing electron\n\n\n1\n\n\n发布配置：\n\n$ ninja -c out/release electron\n\n\n1\n\n\nthis will build all of what was previously \'libchromiumcontent\' (i.e. the content/ directory of chromium and its dependencies, incl. webkit and v8), so it will take a while.\n\n构建需要在./out/testing文件下执行：\n\n$ ./out/testing/electron.app/contents/macos/electron\n# or, on windows\n$ ./out/testing/electron.exe\n# or, on linux\n$ ./out/testing/electron\n\n\n1\n2\n3\n4\n5\n\n\n\n# 打包\n\non linux, first strip the debugging and symbol information:\n\nelectron/script/strip-binaries.py -d out/release\n\n\n1\n\n\nto package the electron build as a distributable zip file:\n\nninja -c out/release electron:electron_dist_zip\n\n\n1\n\n\n\n# 交叉编译\n\nto compile for a platform that isn\'t the same as the one you\'re building on, set the target_cpu and target_os gn arguments. for example, to compile an x86 target from an x64 host, specify target_cpu = "x86" in gn args.\n\n$ gn gen out/testing-x86 --args=\'... target_cpu = "x86"\'\n\n\n1\n\n\nnot all combinations of source and target cpu/os are supported by chromium.\n\nhost          目标              状态\nwindows x64   windows arm64   实验性功能\nwindows x64   windows x86     automatically tested\nlinux x64     linux x86       automatically tested\n\nif you test other combinations and find them to work, please update this document 😃\n\n有关 target_os 和 target_cpu 的有效值，请查看参考 gn。\n\n# windows on arm (experimental)\n\nto cross-compile for windows on arm, follow chromium\'s guide to get the necessary dependencies, sdk and libraries, then build with electron_building_woa=1 in your environment before running gclient sync.\n\nset electron_building_woa=1\ngclient sync -f --with_branch_heads --with_tags\n\n\n1\n2\n\n\nor (if using powershell):\n\n$env:electron_building_woa=1\ngclient sync -f --with_branch_heads --with_tags\n\n\n1\n2\n\n\nnext, run gn gen as above with target_cpu="arm64".\n\n\n# 测试\n\nto run the tests, you\'ll first need to build the test modules against the same version of node.js that was built as part of the build process. to generate build headers for the modules to compile against, run the following under src/ directory.\n\n$ ninja -c out/testing third_party/electron_node:headers\n\n\n1\n\n\nyou can now run the tests.\n\n可以通过增加其它标记来调试程序，例如：\n\n$ npm run test -- \\\n  --enable-logging -g \'browserwindow module\'\n\n\n1\n2\n\n\n\n# 在多个计算机之间共享 git 缓存\n\n可以将gclient git 缓存与其他机器共享，导出为 smb 在linux上共享。 但每次只能有一个进程或机器可以使用缓存。 the locks created by git-cache script will try to prevent this, but it may not work perfectly in a network.\n\non windows, smbv2 has a directory cache that will cause problems with the git cache script, so it is necessary to disable it by setting the registry key\n\nhkey_local_machine\\system\\currentcontrolset\\services\\lanmanworkstation\\parameters\\directorycachelifetime\n\n\n1\n\n\nto 0. 更多信息：https://stackoverflow.com/a/9935126\n\nthis can be set quickly in powershell (ran as administrator):\n\nnew-itemproperty -path "hklm:\\system\\currentcontrolset\\services\\lanmanworkstation\\parameters" -name directorycachelifetime -value 0 -propertytype dword -force\n\n\n1\n\n\n\n# 故障排查\n\n\n# gclient sync complains about rebase\n\nif gclient sync is interrupted the git tree may be left in a bad state, leading to a cryptic message when running gclient sync in the future:\n\n2> conflict while rebasing this branch.\n2> fix the conflict and run gclient again.\n2> see man git-rebase for details.\n\n\n1\n2\n3\n\n\nif there are no git conflicts or rebases in src/electron, you may need to abort a git am in src:\n\n$ cd ../\n$ git am --abort\n$ cd electron\n$ gclient sync -f\n\n\n1\n2\n3\n4\n\n\n\n# i\'m being asked for a username/password for chromium-internal.googlesource.com\n\nif you see a prompt for username for \'https://chrome-internal.googlesource.com\': when running gclient sync on windows, it\'s probably because the depot_tools_win_toolchain environment variable is not set to 0. open control panel → system and security → system → advanced system settings and add a system variable depot_tools_win_toolchain with value 0. 这将促使depot_tools 使用本地已安装的visual studio(默认状态下，depot_tools将会下载一个只有谷歌内部员工有权限使用的内部版本)。',charsets:{cjk:!0}},{title:"build-instructions-linux",frontmatter:{title:"build-instructions-linux",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/a0636a/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/build-instructions-linux.html",relativePath:"《Electron中文文档》/development/build-instructions-linux.md",key:"v-c1f83154",path:"/pages/a0636a/",headers:[{level:2,title:"Prerequisites",slug:"prerequisites",normalizedTitle:"prerequisites",charIndex:191},{level:3,title:"Cross compilation",slug:"cross-compilation",normalizedTitle:"cross compilation",charIndex:2702},{level:2,title:"构建",slug:"构建",normalizedTitle:"构建",charIndex:2},{level:2,title:"故障排查",slug:"故障排查",normalizedTitle:"故障排查",charIndex:3316},{level:3,title:"Error While Loading Shared Libraries: libtinfo.so.5",slug:"error-while-loading-shared-libraries-libtinfo-so-5",normalizedTitle:"error while loading shared libraries: libtinfo.so.5",charIndex:3325},{level:2,title:"Advanced topics",slug:"advanced-topics",normalizedTitle:"advanced topics",charIndex:3570},{level:3,title:"Using system clang instead of downloaded clang binaries",slug:"using-system-clang-instead-of-downloaded-clang-binaries",normalizedTitle:"using system clang instead of downloaded clang binaries",charIndex:3765},{level:3,title:"Using compilers other than clang",slug:"using-compilers-other-than-clang",normalizedTitle:"using compilers other than clang",charIndex:4235}],headersStr:"Prerequisites Cross compilation 构建 故障排查 Error While Loading Shared Libraries: libtinfo.so.5 Advanced topics Using system clang instead of downloaded clang binaries Using compilers other than clang",content:'# 构建步骤（Linux）\n\nFollow the guidelines below for building Electron itself on Linux, for the purposes of creating custom Electron binaries. 为了将您的应用代码与预构建的 Electron 二进制文件打包并发布，请参阅 应用程序发布 指南。\n\n\n# Prerequisites\n\n * At least 25GB disk space and 8GB RAM.\n\n * Python 2.7.x. Some distributions like CentOS 6.x still use Python 2.6.x so you may need to check your Python version with python -V.\n   \n   Please also ensure that your system and Python version support at least TLS 1.2. For a quick test, run the following script:\n   \n   $ npx @electron/check-python-tls\n   \n   \n   1\n   \n   \n   If the script returns that your configuration is using an outdated security protocol, use your system\'s package manager to update Python to the latest version in the 2.7.x branch. Alternatively, visit https://www.python.org/downloads/ for detailed instructions.\n\n * Node.js. There are various ways to install Node. You can download source code from nodejs.org and compile it. Doing so permits installing Node on your own home directory as a standard user. Or try repositories such as NodeSource.\n\n * clang 3.4 or later.\n\n * Development headers of GTK 3 and libnotify.\n\nOn Ubuntu, install the following libraries:\n\n$ sudo apt-get install build-essential clang libdbus-1-dev libgtk-3-dev \\\n                       libnotify-dev libgnome-keyring-dev \\\n                       libasound2-dev libcap-dev libcups2-dev libxtst-dev \\\n                       libxss1 libnss3-dev gcc-multilib g++-multilib curl \\\n                       gperf bison python-dbusmock openjdk-8-jre\n\n\n1\n2\n3\n4\n5\n\n\nOn RHEL / CentOS, install the following libraries:\n\n$ sudo yum install clang dbus-devel gtk3-devel libnotify-devel \\\n                   libgnome-keyring-devel xorg-x11-server-utils libcap-devel \\\n                   cups-devel libXtst-devel alsa-lib-devel libXrandr-devel \\\n                   nss-devel python-dbusmock openjdk-8-jre\n\n\n1\n2\n3\n4\n\n\nOn Fedora, install the following libraries:\n\n$ sudo dnf install clang dbus-devel gtk3-devel libnotify-devel \\\n                   libgnome-keyring-devel xorg-x11-server-utils libcap-devel \\\n                   cups-devel libXtst-devel alsa-lib-devel libXrandr-devel \\\n                   nss-devel python-dbusmock openjdk-8-jre\n\n\n1\n2\n3\n4\n\n\nOn Arch Linux / Manjaro, install the following libraries:\n\n$ sudo pacman -Syu base-devel clang libdbus gtk2 libnotify \\\n                   libgnome-keyring alsa-lib libcap libcups libxtst \\\n                   libxss nss gcc-multilib curl gperf bison \\\n                   python2 python-dbusmock jdk8-openjdk\n\n\n1\n2\n3\n4\n\n\nOther distributions may offer similar packages for installation via package managers such as pacman. Or one can compile from source code.\n\n\n# Cross compilation\n\nIf you want to build for an arm target you should also install the following dependencies:\n\n$ sudo apt-get install libc6-dev-armhf-cross linux-libc-dev-armhf-cross \\\n                       g++-arm-linux-gnueabihf\n\n\n1\n2\n\n\nSimilarly for arm64, install the following:\n\n$ sudo apt-get install libc6-dev-arm64-cross linux-libc-dev-arm64-cross \\\n                       g++-aarch64-linux-gnu\n\n\n1\n2\n\n\nAnd to cross-compile for arm or ia32 targets, you should pass the target_cpu parameter to gn gen:\n\n$ gn gen out/Testing --args=\'import(...) target_cpu="arm"\'\n\n\n1\n\n\n\n# 构建\n\nSee Build Instructions: GN\n\n\n# 故障排查\n\n\n# Error While Loading Shared Libraries: libtinfo.so.5\n\nPrebuilt clang will try to link to libtinfo.so.5. Depending on the host architecture, symlink to appropriate libncurses:\n\n$ sudo ln -s /usr/lib/libncurses.so.5 /usr/lib/libtinfo.so.5\n\n\n1\n\n\n\n# Advanced topics\n\nThe default building configuration is targeted for major desktop Linux distributions. To build for a specific distribution or device, the following information may help you.\n\n\n# Using system clang instead of downloaded clang binaries\n\nBy default Electron is built with prebuilt clang binaries provided by the Chromium project. If for some reason you want to build with the clang installed in your system, you can specify the clang_base_path argument in the GN args.\n\nFor example if you installed clang under /usr/local/bin/clang:\n\n$ gn gen out/Testing --args=\'import("//electron/build/args/testing.gn") clang_base_path = "/usr/local/bin"\'\n\n\n1\n\n\n\n# Using compilers other than clang\n\nBuilding Electron with compilers other than clang is not supported.',normalizedContent:'# 构建步骤（linux）\n\nfollow the guidelines below for building electron itself on linux, for the purposes of creating custom electron binaries. 为了将您的应用代码与预构建的 electron 二进制文件打包并发布，请参阅 应用程序发布 指南。\n\n\n# prerequisites\n\n * at least 25gb disk space and 8gb ram.\n\n * python 2.7.x. some distributions like centos 6.x still use python 2.6.x so you may need to check your python version with python -v.\n   \n   please also ensure that your system and python version support at least tls 1.2. for a quick test, run the following script:\n   \n   $ npx @electron/check-python-tls\n   \n   \n   1\n   \n   \n   if the script returns that your configuration is using an outdated security protocol, use your system\'s package manager to update python to the latest version in the 2.7.x branch. alternatively, visit https://www.python.org/downloads/ for detailed instructions.\n\n * node.js. there are various ways to install node. you can download source code from nodejs.org and compile it. doing so permits installing node on your own home directory as a standard user. or try repositories such as nodesource.\n\n * clang 3.4 or later.\n\n * development headers of gtk 3 and libnotify.\n\non ubuntu, install the following libraries:\n\n$ sudo apt-get install build-essential clang libdbus-1-dev libgtk-3-dev \\\n                       libnotify-dev libgnome-keyring-dev \\\n                       libasound2-dev libcap-dev libcups2-dev libxtst-dev \\\n                       libxss1 libnss3-dev gcc-multilib g++-multilib curl \\\n                       gperf bison python-dbusmock openjdk-8-jre\n\n\n1\n2\n3\n4\n5\n\n\non rhel / centos, install the following libraries:\n\n$ sudo yum install clang dbus-devel gtk3-devel libnotify-devel \\\n                   libgnome-keyring-devel xorg-x11-server-utils libcap-devel \\\n                   cups-devel libxtst-devel alsa-lib-devel libxrandr-devel \\\n                   nss-devel python-dbusmock openjdk-8-jre\n\n\n1\n2\n3\n4\n\n\non fedora, install the following libraries:\n\n$ sudo dnf install clang dbus-devel gtk3-devel libnotify-devel \\\n                   libgnome-keyring-devel xorg-x11-server-utils libcap-devel \\\n                   cups-devel libxtst-devel alsa-lib-devel libxrandr-devel \\\n                   nss-devel python-dbusmock openjdk-8-jre\n\n\n1\n2\n3\n4\n\n\non arch linux / manjaro, install the following libraries:\n\n$ sudo pacman -syu base-devel clang libdbus gtk2 libnotify \\\n                   libgnome-keyring alsa-lib libcap libcups libxtst \\\n                   libxss nss gcc-multilib curl gperf bison \\\n                   python2 python-dbusmock jdk8-openjdk\n\n\n1\n2\n3\n4\n\n\nother distributions may offer similar packages for installation via package managers such as pacman. or one can compile from source code.\n\n\n# cross compilation\n\nif you want to build for an arm target you should also install the following dependencies:\n\n$ sudo apt-get install libc6-dev-armhf-cross linux-libc-dev-armhf-cross \\\n                       g++-arm-linux-gnueabihf\n\n\n1\n2\n\n\nsimilarly for arm64, install the following:\n\n$ sudo apt-get install libc6-dev-arm64-cross linux-libc-dev-arm64-cross \\\n                       g++-aarch64-linux-gnu\n\n\n1\n2\n\n\nand to cross-compile for arm or ia32 targets, you should pass the target_cpu parameter to gn gen:\n\n$ gn gen out/testing --args=\'import(...) target_cpu="arm"\'\n\n\n1\n\n\n\n# 构建\n\nsee build instructions: gn\n\n\n# 故障排查\n\n\n# error while loading shared libraries: libtinfo.so.5\n\nprebuilt clang will try to link to libtinfo.so.5. depending on the host architecture, symlink to appropriate libncurses:\n\n$ sudo ln -s /usr/lib/libncurses.so.5 /usr/lib/libtinfo.so.5\n\n\n1\n\n\n\n# advanced topics\n\nthe default building configuration is targeted for major desktop linux distributions. to build for a specific distribution or device, the following information may help you.\n\n\n# using system clang instead of downloaded clang binaries\n\nby default electron is built with prebuilt clang binaries provided by the chromium project. if for some reason you want to build with the clang installed in your system, you can specify the clang_base_path argument in the gn args.\n\nfor example if you installed clang under /usr/local/bin/clang:\n\n$ gn gen out/testing --args=\'import("//electron/build/args/testing.gn") clang_base_path = "/usr/local/bin"\'\n\n\n1\n\n\n\n# using compilers other than clang\n\nbuilding electron with compilers other than clang is not supported.',charsets:{cjk:!0}},{title:"build-instructions-macos",frontmatter:{title:"build-instructions-macos",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/3882bf/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/build-instructions-macos.html",relativePath:"《Electron中文文档》/development/build-instructions-macos.md",key:"v-a8d8b794",path:"/pages/3882bf/",headers:[{level:2,title:"Prerequisites",slug:"prerequisites",normalizedTitle:"prerequisites",charIndex:123},{level:2,title:"Python",slug:"python",normalizedTitle:"python",charIndex:207},{level:2,title:"macOS SDK",slug:"macos-sdk",normalizedTitle:"macos sdk",charIndex:653},{level:2,title:"构建Electron",slug:"构建electron",normalizedTitle:"构建electron",charIndex:811}],headersStr:"Prerequisites Python macOS SDK 构建Electron",content:"# 构建步骤（macOS）\n\n请按照下面的指南在macOS下构建 Electron 本身，以此创建自定义 Electron 二进制文件。 为了将您的应用代码与预构建的 Electron 二进制文件打包并发布，请参阅 应用程序发布 指南。\n\n\n# Prerequisites\n\n * macOS >= 10.11.6\n * Xcode >= 9.0.0\n * node.js (外部)\n * 包含TLS 1.2支持的Python2.7\n\n\n# Python\n\nPlease also ensure that your system and Python version support at least TLS 1.2. 这取决于您的 macOS 和 Python 的版本。 对于快速测试，请运行：\n\n$ npx @electron/check-python-tls\n\n\n1\n\n\n如果以上命令的结果显示您正在使用过期的安全协议，您可以把macOS系统更新至High Sierra版，或者安装一个新的2.7.x版的Python。 您可以使用Homebrew来更新Python版本：\n\n$ brew install python@2 && brew link python@2 --force\n\n\n1\n\n\n如果你已经在使用Homebrew来管理Python，那你也需要安装以下Python模块：\n\n * pyobjc\n\n您可以使用 pip 安装它：\n\n$ pip install pyobjc\n\n\n1\n\n\n\n# macOS SDK\n\n如果你已经在开发Electron项目，而且没有重新分发Electron构建文件的计划，那你可以忽略下面内容。\n\n官方 Electron 构建于Xcode 12.2.1, 和 MacOS 11.0 SDK. 可以使用新的SDK来构建，但是当前使用的Release版本是 11.0 SDK\n\n\n# 构建Electron\n\n参照Build Instructions: GN",normalizedContent:"# 构建步骤（macos）\n\n请按照下面的指南在macos下构建 electron 本身，以此创建自定义 electron 二进制文件。 为了将您的应用代码与预构建的 electron 二进制文件打包并发布，请参阅 应用程序发布 指南。\n\n\n# prerequisites\n\n * macos >= 10.11.6\n * xcode >= 9.0.0\n * node.js (外部)\n * 包含tls 1.2支持的python2.7\n\n\n# python\n\nplease also ensure that your system and python version support at least tls 1.2. 这取决于您的 macos 和 python 的版本。 对于快速测试，请运行：\n\n$ npx @electron/check-python-tls\n\n\n1\n\n\n如果以上命令的结果显示您正在使用过期的安全协议，您可以把macos系统更新至high sierra版，或者安装一个新的2.7.x版的python。 您可以使用homebrew来更新python版本：\n\n$ brew install python@2 && brew link python@2 --force\n\n\n1\n\n\n如果你已经在使用homebrew来管理python，那你也需要安装以下python模块：\n\n * pyobjc\n\n您可以使用 pip 安装它：\n\n$ pip install pyobjc\n\n\n1\n\n\n\n# macos sdk\n\n如果你已经在开发electron项目，而且没有重新分发electron构建文件的计划，那你可以忽略下面内容。\n\n官方 electron 构建于xcode 12.2.1, 和 macos 11.0 sdk. 可以使用新的sdk来构建，但是当前使用的release版本是 11.0 sdk\n\n\n# 构建electron\n\n参照build instructions: gn",charsets:{cjk:!0}},{title:"Home",frontmatter:{home:!0,heroText:"Xuli's blog",tagline:"Web前端技术博客,加油!2022。",features:[{title:"前端",details:"JavaScript、ES6、Vue框架等前端技术",link:"/web/",imgUrl:"/img/web.png"},{title:"页面",details:"html(5)/css(3)，前端页面相关技术",link:"/ui/",imgUrl:"/img/ui.png"},{title:"技术",details:"技术文档、教程、技巧、总结等文章",link:"/technology/",imgUrl:"/img/other.png"}]},regularPath:"/",relativePath:"index.md",key:"v-dbd4f394",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/11, 07:13:47",lastUpdatedTimestamp:1649632427e3},{title:"build-instructions-windows",frontmatter:{title:"build-instructions-windows",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/0cc203/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/build-instructions-windows.html",relativePath:"《Electron中文文档》/development/build-instructions-windows.md",key:"v-7a5660f6",path:"/pages/0cc203/",headers:[{level:2,title:"Prerequisites",slug:"prerequisites",normalizedTitle:"prerequisites",charIndex:126},{level:2,title:"从Windows Security排除source tree",slug:"从windows-security排除source-tree",normalizedTitle:"从windows security排除source tree",charIndex:1491},{level:2,title:"构建",slug:"构建",normalizedTitle:"构建",charIndex:2},{level:2,title:"32 位构建",slug:"_32-位构建",normalizedTitle:"32 位构建",charIndex:1746},{level:2,title:"Visual Studio 项目",slug:"visual-studio-项目",normalizedTitle:"visual studio 项目",charIndex:1989},{level:2,title:"故障排查",slug:"故障排查",normalizedTitle:"故障排查",charIndex:2103},{level:3,title:"Command xxxx not found",slug:"command-xxxx-not-found",normalizedTitle:"command xxxx not found",charIndex:2112},{level:3,title:"Fatal internal compiler error: C1001",slug:"fatal-internal-compiler-error-c1001",normalizedTitle:"fatal internal compiler error: c1001",charIndex:2219},{level:3,title:"LNK1181: cannot open input file 'kernel32.lib'",slug:"lnk1181-cannot-open-input-file-kernel32-lib",normalizedTitle:"lnk1181: cannot open input file 'kernel32.lib'",charIndex:2292},{level:3,title:"Error: ENOENT, stat 'C:\\Users\\USERNAME\\AppData\\Roaming\\npm'",slug:"error-enoent-stat-c-users-username-appdata-roaming-npm",normalizedTitle:"error: enoent, stat 'c:\\users\\username\\appdata\\roaming\\npm'",charIndex:2363},{level:3,title:"node-gyp is not recognized as an internal or external command",slug:"node-gyp-is-not-recognized-as-an-internal-or-external-command",normalizedTitle:"node-gyp is not recognized as an internal or external command",charIndex:2481},{level:3,title:"无法在“…”处创建目录：文件名太长",slug:"无法在-处创建目录-文件名太长",normalizedTitle:"无法在“…”处创建目录：文件名太长",charIndex:2622},{level:3,title:"错误：使用未声明的标识符“DefaultDelegateCheckMode”",slug:"错误-使用未声明的标识符-defaultdelegatecheckmode",normalizedTitle:"错误：使用未声明的标识符“defaultdelegatecheckmode”",charIndex:2772},{level:3,title:"导入错误：没有名为 win32file 的模块",slug:"导入错误-没有名为-win32file-的模块",normalizedTitle:"导入错误：没有名为 win32file 的模块",charIndex:3008},{level:3,title:"构建脚本挂起, 直到某个按键按下才有响应",slug:"构建脚本挂起-直到某个按键按下才有响应",normalizedTitle:"构建脚本挂起, 直到某个按键按下才有响应",charIndex:3076}],headersStr:"Prerequisites 从Windows Security排除source tree 构建 32 位构建 Visual Studio 项目 故障排查 Command xxxx not found Fatal internal compiler error: C1001 LNK1181: cannot open input file 'kernel32.lib' Error: ENOENT, stat 'C:\\Users\\USERNAME\\AppData\\Roaming\\npm' node-gyp is not recognized as an internal or external command 无法在“…”处创建目录：文件名太长 错误：使用未声明的标识符“DefaultDelegateCheckMode” 导入错误：没有名为 win32file 的模块 构建脚本挂起, 直到某个按键按下才有响应",content:'# 构建步骤（Windows）\n\n按照下面的指南在Windows下构建 Electron 本身，以此创建自定义 Electron 二进制文件。 为了将您的应用代码与预构建的 Electron 二进制文件打包并发布，请参阅 应用程序发布 指南。\n\n\n# Prerequisites\n\n * Windows 10 / Server 2012 R2 或更高版本\n * Visual Studio 2017 15.7.2 或更高版本 - 免费下载 VS 2019 社区版\n   * 请参阅Chromium构建文档，以了解有哪些Visual Studio 组件需要安装等详细信息。\n   * 如果您的 Visual Studio 安装在非默认目录中， 您需要 设置几个环境变量来将工具链指向您的安装路径。\n     * vs2019_install = DRIVE:\\path\\to\\Microsoft Visual Studio\\2019\\Community，用您当前已安装版本替换2019和Community以及用您当前安装Visual Studio的驱动器号替换DRIVE: 一般情况下将会是C:。\n     * WINDOWSSDKDIR = DRIVE:\\path\\to\\Windows Kits\\10, replacing DRIVE: with the drive that Windows Kits is on. 一般情况下将会是C:。\n   * Python for Windows (pywin32) 扩展对于构建流程也是必需的。\n * Node.js\n * Git\n * Debugging Tools for Windows of Windows SDK 10.0.15063.468 if you plan on creating a full distribution since symstore.exe is used for creating a symbol store from .pdb files.\n   * 不同版本的SDK可以同时安装 To install the SDK, open Visual Studio Installer, select Modify → Individual Components, scroll down and select the appropriate Windows SDK to install. 另一个选择是查看 windows SDK 和仿真器存档 并分别下载 SDK 的独立版本。\n   * 还必须安装 SDK 调试工具。 如果已安装了 Windows 10 SDK 通过 Visual Studio 安装程序，然后可以用以下方式安装它们： 控制面板→程序→程序和功能→选择“Windows 软件开发工具包”→ 更改→更改→选中“Windows 调试工具”→更改。 或者，您可以下载独立的 SDK 安装程序，并且使用它安装调试工具。\n\n如果您当前没有安装 Windows， dev.microsoftedge.com 上有时间限制的 Windows 版本，你可以用来构建 Electron。\n\n构建 Electron 完全由命令行脚本完成，无法通过 Visual Studio 完成。 您可以使用任何编辑器开发 Electron，但将来将会使用 Visual Studio 构建支持。\n\n注意: 即使 Visual Studio 不用于构建，但是仍然需要，因为我们需要它提供的构建工具链。\n\n\n# 从Windows Security排除source tree\n\nWindows Security 不支持Chromium 源码中部分代码，详情(see https://crbug.com/441184). 此行为将会导致windows系统会删除Chromium里的危险文件从而导致 gclient sync Bug. 通过following these instructions你可以在Windows Security中排除这一行为。\n\n\n# 构建\n\n参照Build Instructions: GN\n\n\n# 32 位构建\n\n为了构建 32bit 版本，您需要通过 target_cpu = “x86" 作为 GN 参数。 可以使用不同的 GN 输出目录（例如， out/Release-x86） 和不同的参数，在 64 位目标旁边构建 32 位目标。\n\n$ gn gen out/Release-x86 --args="import(\\"//electron/build/args/release.gn\\") target_cpu=\\"x86\\""\n\n\n1\n\n\n其他构建步骤完全一样。\n\n\n# Visual Studio 项目\n\n要生成 Visual Studio 项目，可以传递 --ide=vs2017 参数 给 gn gen：\n\n$ gn gen out/Testing --ide=vs2017\n\n\n1\n\n\n\n# 故障排查\n\n\n# Command xxxx not found\n\n如果你遇到了一个错误，类似 Command xxxx not found, 可以尝试使用 VS2015 Command Prompt 控制台来执行构建脚本.\n\n\n# Fatal internal compiler error: C1001\n\n确保你已经安装了 Visual Studio 的最新安装包.\n\n\n# LNK1181: cannot open input file \'kernel32.lib\'\n\n重新安装 32位的 Node.js.\n\n\n# Error: ENOENT, stat \'C:\\Users\\USERNAME\\AppData\\Roaming\\npm\'\n\n创建那个目录 应该可以解决问题:\n\n$ mkdir ~\\AppData\\Roaming\\npm\n\n\n1\n\n\n\n# node-gyp is not recognized as an internal or external command\n\n如果你使用 Git Bash 来构建，或许会遇到这个错误，可以使用 PowerShell 或 VS2015 Command Prompt 来代替.\n\n\n# 无法在“…”处创建目录：文件名太长\n\nnode.js 有一些 极长的路径名，默认情况下，windows 上的 git 不能正确处理长路径名（即使 windows 支持它们）。 这应该可以修复它：\n\n$ git config --system core.longpaths true\n\n\n1\n\n\n\n# 错误：使用未声明的标识符“DefaultDelegateCheckMode”\n\nThis can happen during build, when Debugging Tools for Windows has been installed with Windows Driver Kit. Uninstall Windows Driver Kit and install Debugging Tools with steps described above.\n\n\n# 导入错误：没有名为 win32file 的模块\n\n确保已使用 pip install pywin32 安装了 pywin32。\n\n\n# 构建脚本挂起, 直到某个按键按下才有响应\n\n这个bug 是 Windows 命令提示符的一个"功能" It happens when clicking inside the prompt window with QuickEdit enabled and is intended to allow selecting and copying output text easily. 由于每次意外点击都会暂停构建过程，您可能需要在命令的属性中禁用此 功能。',normalizedContent:'# 构建步骤（windows）\n\n按照下面的指南在windows下构建 electron 本身，以此创建自定义 electron 二进制文件。 为了将您的应用代码与预构建的 electron 二进制文件打包并发布，请参阅 应用程序发布 指南。\n\n\n# prerequisites\n\n * windows 10 / server 2012 r2 或更高版本\n * visual studio 2017 15.7.2 或更高版本 - 免费下载 vs 2019 社区版\n   * 请参阅chromium构建文档，以了解有哪些visual studio 组件需要安装等详细信息。\n   * 如果您的 visual studio 安装在非默认目录中， 您需要 设置几个环境变量来将工具链指向您的安装路径。\n     * vs2019_install = drive:\\path\\to\\microsoft visual studio\\2019\\community，用您当前已安装版本替换2019和community以及用您当前安装visual studio的驱动器号替换drive: 一般情况下将会是c:。\n     * windowssdkdir = drive:\\path\\to\\windows kits\\10, replacing drive: with the drive that windows kits is on. 一般情况下将会是c:。\n   * python for windows (pywin32) 扩展对于构建流程也是必需的。\n * node.js\n * git\n * debugging tools for windows of windows sdk 10.0.15063.468 if you plan on creating a full distribution since symstore.exe is used for creating a symbol store from .pdb files.\n   * 不同版本的sdk可以同时安装 to install the sdk, open visual studio installer, select modify → individual components, scroll down and select the appropriate windows sdk to install. 另一个选择是查看 windows sdk 和仿真器存档 并分别下载 sdk 的独立版本。\n   * 还必须安装 sdk 调试工具。 如果已安装了 windows 10 sdk 通过 visual studio 安装程序，然后可以用以下方式安装它们： 控制面板→程序→程序和功能→选择“windows 软件开发工具包”→ 更改→更改→选中“windows 调试工具”→更改。 或者，您可以下载独立的 sdk 安装程序，并且使用它安装调试工具。\n\n如果您当前没有安装 windows， dev.microsoftedge.com 上有时间限制的 windows 版本，你可以用来构建 electron。\n\n构建 electron 完全由命令行脚本完成，无法通过 visual studio 完成。 您可以使用任何编辑器开发 electron，但将来将会使用 visual studio 构建支持。\n\n注意: 即使 visual studio 不用于构建，但是仍然需要，因为我们需要它提供的构建工具链。\n\n\n# 从windows security排除source tree\n\nwindows security 不支持chromium 源码中部分代码，详情(see https://crbug.com/441184). 此行为将会导致windows系统会删除chromium里的危险文件从而导致 gclient sync bug. 通过following these instructions你可以在windows security中排除这一行为。\n\n\n# 构建\n\n参照build instructions: gn\n\n\n# 32 位构建\n\n为了构建 32bit 版本，您需要通过 target_cpu = “x86" 作为 gn 参数。 可以使用不同的 gn 输出目录（例如， out/release-x86） 和不同的参数，在 64 位目标旁边构建 32 位目标。\n\n$ gn gen out/release-x86 --args="import(\\"//electron/build/args/release.gn\\") target_cpu=\\"x86\\""\n\n\n1\n\n\n其他构建步骤完全一样。\n\n\n# visual studio 项目\n\n要生成 visual studio 项目，可以传递 --ide=vs2017 参数 给 gn gen：\n\n$ gn gen out/testing --ide=vs2017\n\n\n1\n\n\n\n# 故障排查\n\n\n# command xxxx not found\n\n如果你遇到了一个错误，类似 command xxxx not found, 可以尝试使用 vs2015 command prompt 控制台来执行构建脚本.\n\n\n# fatal internal compiler error: c1001\n\n确保你已经安装了 visual studio 的最新安装包.\n\n\n# lnk1181: cannot open input file \'kernel32.lib\'\n\n重新安装 32位的 node.js.\n\n\n# error: enoent, stat \'c:\\users\\username\\appdata\\roaming\\npm\'\n\n创建那个目录 应该可以解决问题:\n\n$ mkdir ~\\appdata\\roaming\\npm\n\n\n1\n\n\n\n# node-gyp is not recognized as an internal or external command\n\n如果你使用 git bash 来构建，或许会遇到这个错误，可以使用 powershell 或 vs2015 command prompt 来代替.\n\n\n# 无法在“…”处创建目录：文件名太长\n\nnode.js 有一些 极长的路径名，默认情况下，windows 上的 git 不能正确处理长路径名（即使 windows 支持它们）。 这应该可以修复它：\n\n$ git config --system core.longpaths true\n\n\n1\n\n\n\n# 错误：使用未声明的标识符“defaultdelegatecheckmode”\n\nthis can happen during build, when debugging tools for windows has been installed with windows driver kit. uninstall windows driver kit and install debugging tools with steps described above.\n\n\n# 导入错误：没有名为 win32file 的模块\n\n确保已使用 pip install pywin32 安装了 pywin32。\n\n\n# 构建脚本挂起, 直到某个按键按下才有响应\n\n这个bug 是 windows 命令提示符的一个"功能" it happens when clicking inside the prompt window with quickedit enabled and is intended to allow selecting and copying output text easily. 由于每次意外点击都会暂停构建过程，您可能需要在命令的属性中禁用此 功能。',charsets:{cjk:!0}},{title:"build-system-overview",frontmatter:{title:"build-system-overview",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/48bb56/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/build-system-overview.html",relativePath:"《Electron中文文档》/development/build-system-overview.md",key:"v-220fa348",path:"/pages/48bb56/",headers:[{level:2,title:"GN 文件",slug:"gn-文件",normalizedTitle:"gn 文件",charIndex:72},{level:2,title:"分块构建",slug:"分块构建",normalizedTitle:"分块构建",charIndex:263},{level:2,title:"测试",slug:"测试",normalizedTitle:"测试",charIndex:491}],headersStr:"GN 文件 分块构建 测试",content:"# 构建系统概览\n\nElectron 使用 GN 生成项目，并用 Ninja 完成构建。 项目配置位于 .gn 和 .gni 文件中。\n\n\n# GN 文件\n\nThe following gn files contain the main rules for building Electron:\n\n * BUILD.gn 指明了如何构建 Electron，还包括与 Chromium 相关的默认配置。\n * build/args/{debug,release,all}.gn 包含 Electron 的默认构建参数。\n\n\n# 分块构建\n\n由于 Chromium 项目及其庞大，最终的链接阶段往往需要数分钟，加大了开发难度。 为此，Chromium 采用了“分块构建”方式，将每个模块作为单独的动态库构建，虽然影响了文件大小和性能，但加快了链接速度，\n\nElectron 也继承了 Chromium 这一构建方式。 在 Debug 模式下构建时，程序将与 Chromium 的动态库链接，以加快链接速度；而 Release 模式下程序则会与静态库链接，以优化程序大小和性能。\n\n\n# 测试\n\n注意：_此内容已经过时，部分信息对于使用 GN 构建的 Electron 已不再适用。\n\n\n\n使用以下方式测试你的修改符合项目编码风格：\n\n$ npm run lint\n\n\n1\n\n\n测试功能使用：\n\n$ npm test\n\n\n1\n\n\n每当您更改Electron源代码时，都需要在测试之前重新运行构建：\n\n$ npm run build && npm test\n\n\n1\n\n\n你可以通过分离特定的测试来让测试套件运行速度更快或阻止你目前正在使用摩卡的 独占性测试功能. 追加 .only 到任何 describe 或 it 函数调用：\n\ndescribe.only('some feature', () => {\n  // ... only tests in this block will be run\n})\n\n\n1\n2\n3\n\n\n或者，您可以使用 mocha 的 grep 选项来只运行与给定正则表达式模式匹配的测试\n\n$ npm test -- --grep child_process\n\n\n1\n\n\n包含本地模块(例如runas)的测试无法在调试版本中执行 (查看 #2558 获取详情), 但它们将与发行版本一起使用。\n\n要使用发行构建来运行测试：\n\n$ npm test -- -R\n\n\n1\n",normalizedContent:"# 构建系统概览\n\nelectron 使用 gn 生成项目，并用 ninja 完成构建。 项目配置位于 .gn 和 .gni 文件中。\n\n\n# gn 文件\n\nthe following gn files contain the main rules for building electron:\n\n * build.gn 指明了如何构建 electron，还包括与 chromium 相关的默认配置。\n * build/args/{debug,release,all}.gn 包含 electron 的默认构建参数。\n\n\n# 分块构建\n\n由于 chromium 项目及其庞大，最终的链接阶段往往需要数分钟，加大了开发难度。 为此，chromium 采用了“分块构建”方式，将每个模块作为单独的动态库构建，虽然影响了文件大小和性能，但加快了链接速度，\n\nelectron 也继承了 chromium 这一构建方式。 在 debug 模式下构建时，程序将与 chromium 的动态库链接，以加快链接速度；而 release 模式下程序则会与静态库链接，以优化程序大小和性能。\n\n\n# 测试\n\n注意：_此内容已经过时，部分信息对于使用 gn 构建的 electron 已不再适用。\n\n\n\n使用以下方式测试你的修改符合项目编码风格：\n\n$ npm run lint\n\n\n1\n\n\n测试功能使用：\n\n$ npm test\n\n\n1\n\n\n每当您更改electron源代码时，都需要在测试之前重新运行构建：\n\n$ npm run build && npm test\n\n\n1\n\n\n你可以通过分离特定的测试来让测试套件运行速度更快或阻止你目前正在使用摩卡的 独占性测试功能. 追加 .only 到任何 describe 或 it 函数调用：\n\ndescribe.only('some feature', () => {\n  // ... only tests in this block will be run\n})\n\n\n1\n2\n3\n\n\n或者，您可以使用 mocha 的 grep 选项来只运行与给定正则表达式模式匹配的测试\n\n$ npm test -- --grep child_process\n\n\n1\n\n\n包含本地模块(例如runas)的测试无法在调试版本中执行 (查看 #2558 获取详情), 但它们将与发行版本一起使用。\n\n要使用发行构建来运行测试：\n\n$ npm test -- -r\n\n\n1\n",charsets:{cjk:!0}},{title:"chromium-development",frontmatter:{title:"chromium-development",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/ce709a/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/chromium-development.html",relativePath:"《Electron中文文档》/development/chromium-development.md",key:"v-b7125e14",path:"/pages/ce709a/",headersStr:null,content:"# Chromium 开发\n\n> 学习以及了解 Chromium 开发进展的相关资源\n\n * Twitter 账户 @ChromiumDev\n * Twitter 账户 @googlechrome\n * 博客\n * 代码搜索\n * 源代码\n * 开发日历和版本信息\n * 讨论组\n\n参阅 V8 开发",normalizedContent:"# chromium 开发\n\n> 学习以及了解 chromium 开发进展的相关资源\n\n * twitter 账户 @chromiumdev\n * twitter 账户 @googlechrome\n * 博客\n * 代码搜索\n * 源代码\n * 开发日历和版本信息\n * 讨论组\n\n参阅 v8 开发",charsets:{cjk:!0}},{title:"clang-format",frontmatter:{title:"clang-format",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/40bd27/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/clang-format.html",relativePath:"《Electron中文文档》/development/clang-format.md",key:"v-2a5a7956",path:"/pages/40bd27/",headers:[{level:2,title:"编辑器集成",slug:"编辑器集成",normalizedTitle:"编辑器集成",charIndex:759}],headersStr:"编辑器集成",content:"# 在 C++ 代码中使用 clang-format 工具\n\nclang-format是一个自动格式化 C/C++/Objective-C 代码的工具, 可以让开发人员不需要担心代码审查期间的样式问题.\n\n强烈建议在发起请求之前格式化已更改的 C++ 代码，这将节省您和审阅者的时间.\n\n你可以通过 npm install -g clang-format 安装 clang-format 和 git-clang-format.\n\nTo automatically format a file according to Electron C++ code style, run clang-format -i path/to/electron/file.cc. It should work on macOS/Linux/Windows.\n\n格式化已更改代码的工作流:\n\n 1. 在 Electron 存储库中更改代码.\n 2. 运行 git add your_changed_file.cc.\n 3. 运行 git-clang-format, 然后你将可能会看到修改后的 your_changed_file.cc, 这些修改是从 clang-format 生成的.\n 4. 运行 git add your_changed_file.cc, 并提交你的修改.\n 5. 现在准备好的分支推送请求已经被打开.\n\nIf you want to format the changed code on your latest git commit (HEAD), you can run git-clang-format HEAD~1. See git-clang-format -h for more details.\n\n\n# 编辑器集成\n\nYou can also integrate clang-format directly into your favorite editors. For further guidance on setting up editor integration, see these pages:\n\n * Atom\n * Vim & Emacs\n * Visual Studio Code",normalizedContent:"# 在 c++ 代码中使用 clang-format 工具\n\nclang-format是一个自动格式化 c/c++/objective-c 代码的工具, 可以让开发人员不需要担心代码审查期间的样式问题.\n\n强烈建议在发起请求之前格式化已更改的 c++ 代码，这将节省您和审阅者的时间.\n\n你可以通过 npm install -g clang-format 安装 clang-format 和 git-clang-format.\n\nto automatically format a file according to electron c++ code style, run clang-format -i path/to/electron/file.cc. it should work on macos/linux/windows.\n\n格式化已更改代码的工作流:\n\n 1. 在 electron 存储库中更改代码.\n 2. 运行 git add your_changed_file.cc.\n 3. 运行 git-clang-format, 然后你将可能会看到修改后的 your_changed_file.cc, 这些修改是从 clang-format 生成的.\n 4. 运行 git add your_changed_file.cc, 并提交你的修改.\n 5. 现在准备好的分支推送请求已经被打开.\n\nif you want to format the changed code on your latest git commit (head), you can run git-clang-format head~1. see git-clang-format -h for more details.\n\n\n# 编辑器集成\n\nyou can also integrate clang-format directly into your favorite editors. for further guidance on setting up editor integration, see these pages:\n\n * atom\n * vim & emacs\n * visual studio code",charsets:{cjk:!0}},{title:"clang-tidy",frontmatter:{title:"clang-tidy",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d11403/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/clang-tidy.html",relativePath:"《Electron中文文档》/development/clang-tidy.md",key:"v-dc6b0d14",path:"/pages/d11403/",headersStr:null,content:"# 在 C++ 代码中使用clang-tidy\n\n叮当 是自动检查 C/C++/Objective-C 代码的样式冲突、编程 错误和最佳实践的工具。\n\nElectron's clang-tidy integration is provided as a linter script which can be run with npm run lint:clang-tidy. While clang-tidy checks your on-disk files, you need to have built Electron so that it knows which compiler flags were used. There is one required option for the script --output-dir, which tells the script which build directory to pull the compilation information from. A typical usage would be: npm run lint:clang-tidy --out-dir ../out/Testing\n\nWith no filenames provided, all C/C++/Objective-C files will be checked. 您可以提供要检查的文件列表，在 选项后通过文件名： npm 运行行：clang-tidy --out-dir 。 /out/测试shell/browser/api/electron_api_app.cc\n\nWhile clang-tidy has a long list of possible checks, in Electron only a few are enabled by default. At the moment Electron doesn't have a .clang-tidy config, so clang-tidy will find the one from Chromium at src/.clang-tidy and use the checks which Chromium has enabled. You can change which checks are run by using the --checks= option. This is passed straight through to clang-tidy, so see its documentation for full details. Wildcards can be used, and checks can be disabled by prefixing a -. By default any checks listed are added to those in .clang-tidy, so if you'd like to limit the checks to specific ones you should first exclude all checks then add back what you want, like --checks=-*,performance*.\n\nRunning clang-tidy is rather slow - internally it compiles each file and then runs the checks so it will always be some factor slower than compilation. While you can use parallel runs to speed it up using the --jobs|-j option, clang-tidy also uses a lot of memory during its checks, so it can easily run into out-of-memory errors. As such the default number of jobs is one.",normalizedContent:"# 在 c++ 代码中使用clang-tidy\n\n叮当 是自动检查 c/c++/objective-c 代码的样式冲突、编程 错误和最佳实践的工具。\n\nelectron's clang-tidy integration is provided as a linter script which can be run with npm run lint:clang-tidy. while clang-tidy checks your on-disk files, you need to have built electron so that it knows which compiler flags were used. there is one required option for the script --output-dir, which tells the script which build directory to pull the compilation information from. a typical usage would be: npm run lint:clang-tidy --out-dir ../out/testing\n\nwith no filenames provided, all c/c++/objective-c files will be checked. 您可以提供要检查的文件列表，在 选项后通过文件名： npm 运行行：clang-tidy --out-dir 。 /out/测试shell/browser/api/electron_api_app.cc\n\nwhile clang-tidy has a long list of possible checks, in electron only a few are enabled by default. at the moment electron doesn't have a .clang-tidy config, so clang-tidy will find the one from chromium at src/.clang-tidy and use the checks which chromium has enabled. you can change which checks are run by using the --checks= option. this is passed straight through to clang-tidy, so see its documentation for full details. wildcards can be used, and checks can be disabled by prefixing a -. by default any checks listed are added to those in .clang-tidy, so if you'd like to limit the checks to specific ones you should first exclude all checks then add back what you want, like --checks=-*,performance*.\n\nrunning clang-tidy is rather slow - internally it compiles each file and then runs the checks so it will always be some factor slower than compilation. while you can use parallel runs to speed it up using the --jobs|-j option, clang-tidy also uses a lot of memory during its checks, so it can easily run into out-of-memory errors. as such the default number of jobs is one.",charsets:{cjk:!0}},{title:"coding-style",frontmatter:{title:"coding-style",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/53d5b7/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/coding-style.html",relativePath:"《Electron中文文档》/development/coding-style.md",key:"v-5f406e36",path:"/pages/53d5b7/",headers:[{level:2,title:"通用代码",slug:"通用代码",normalizedTitle:"通用代码",charIndex:85},{level:2,title:"C + + 和 Python",slug:"c-和-python",normalizedTitle:"c + + 和 python",charIndex:530},{level:2,title:"文档",slug:"文档",normalizedTitle:"文档",charIndex:762},{level:2,title:"JavaScript",slug:"javascript",normalizedTitle:"javascript",charIndex:881},{level:2,title:"命名相关",slug:"命名相关",normalizedTitle:"命名相关",charIndex:1259}],headersStr:"通用代码 C + + 和 Python 文档 JavaScript 命名相关",content:"# 编码风格\n\n这些是 Electron 编码风格指南。\n\n您可以运行 npm run lint 来显示 cpplint 和eslint 检测到的任何样式问题。\n\n\n# 通用代码\n\n * 用换行符结束文件。\n * 按照如下顺序排列 node 模块的 require 代码\n   * 内置Node模块（如 path）\n   * 内置Electron模块（如 ipc、app）\n   * 本地模块（使用相对路径）\n * 按照如下顺序排列类的属性\n   * Class methods and properties (methods starting with a @)\n   * Instance methods and properties\n * 避免与平台相关的代码：\n   * 使用 path.join() 来组织文件路径。\n   * 请使用os.tmpdir()而不是/tmp来引用临时目录。\n * Using a plain return when returning explicitly at the end of a function.\n   * 不是return null，return undefined，null或undefined\n\n\n# C + + 和 Python\n\n对于 C++ 和 Python, 我们遵循 Chromium 的编码风格. 你可以使用 clang-format 来自动格式化 C++ 代码. 你可以使用 script/cpplint.py 来检验文件是否符合要求。\n\n我们现在使用的 Python 版本是 Python 2.7。\n\nC++ 代码使用了大量 Chromium 的抽象和类型，因此建议您熟悉它们。 一个起步的好地方是 Chromium 的 重要的抽象概念和数据库结构 文档. 该文档提到一些特殊类型，范围类型(超出范围时自动释放其内存), 记录机制等。\n\n\n# 文档\n\n * 使用remark Markdown样式.\n\n你可以运行 npm run lint-docs 来保证你修改的文档格式正确。\n\n\n# JavaScript\n\n * 书写 标准 JavaScript 样式\n * 文件名应使用 - 连接而不是 _, 例如. file-name.js 而不是 file_name.js, 因为在 github/atom中模块名通常是 module-name 形式. 此规则仅适用于 .js 文件。\n * 酌情使用更新的 ES6 / ES2015 语法\n   * const 用于需要的和其他的常数. If the value is a primitive, use uppercase naming (eg const NUMBER_OF_RETRIES = 5).\n   * let 用于定义变量\n   * Arrow functions 代替 function () { }\n   * Template literals 而不是使用字符串连接符 +\n\n\n# 命名相关\n\nElectron API 使用与 Node.js 相同的大小写方案：\n\n * 当模块本身是class时, 比如 BrowserWindow, 使用 CamelCase.\n * 当模块是一组 API 时, 比如 globalShortcut时，使用 mixedCase。\n * 当 API 是对象的属性时, 并且它复杂到足以成为一个单独的块, 比如 win.webContents, 使用 mixedCase.\n * 对于其他非模块API, 使用自然标题, 比如 <webview> Tag 或 Process Object.\n\n当创建新的 API 时， 最好使用 getter 和 setter 而不是 jQuery 的一次性函数。 举个例子, .getText() 和 .setText(text) 优于 .text([text]). 这是一些相关的 讨论",normalizedContent:"# 编码风格\n\n这些是 electron 编码风格指南。\n\n您可以运行 npm run lint 来显示 cpplint 和eslint 检测到的任何样式问题。\n\n\n# 通用代码\n\n * 用换行符结束文件。\n * 按照如下顺序排列 node 模块的 require 代码\n   * 内置node模块（如 path）\n   * 内置electron模块（如 ipc、app）\n   * 本地模块（使用相对路径）\n * 按照如下顺序排列类的属性\n   * class methods and properties (methods starting with a @)\n   * instance methods and properties\n * 避免与平台相关的代码：\n   * 使用 path.join() 来组织文件路径。\n   * 请使用os.tmpdir()而不是/tmp来引用临时目录。\n * using a plain return when returning explicitly at the end of a function.\n   * 不是return null，return undefined，null或undefined\n\n\n# c + + 和 python\n\n对于 c++ 和 python, 我们遵循 chromium 的编码风格. 你可以使用 clang-format 来自动格式化 c++ 代码. 你可以使用 script/cpplint.py 来检验文件是否符合要求。\n\n我们现在使用的 python 版本是 python 2.7。\n\nc++ 代码使用了大量 chromium 的抽象和类型，因此建议您熟悉它们。 一个起步的好地方是 chromium 的 重要的抽象概念和数据库结构 文档. 该文档提到一些特殊类型，范围类型(超出范围时自动释放其内存), 记录机制等。\n\n\n# 文档\n\n * 使用remark markdown样式.\n\n你可以运行 npm run lint-docs 来保证你修改的文档格式正确。\n\n\n# javascript\n\n * 书写 标准 javascript 样式\n * 文件名应使用 - 连接而不是 _, 例如. file-name.js 而不是 file_name.js, 因为在 github/atom中模块名通常是 module-name 形式. 此规则仅适用于 .js 文件。\n * 酌情使用更新的 es6 / es2015 语法\n   * const 用于需要的和其他的常数. if the value is a primitive, use uppercase naming (eg const number_of_retries = 5).\n   * let 用于定义变量\n   * arrow functions 代替 function () { }\n   * template literals 而不是使用字符串连接符 +\n\n\n# 命名相关\n\nelectron api 使用与 node.js 相同的大小写方案：\n\n * 当模块本身是class时, 比如 browserwindow, 使用 camelcase.\n * 当模块是一组 api 时, 比如 globalshortcut时，使用 mixedcase。\n * 当 api 是对象的属性时, 并且它复杂到足以成为一个单独的块, 比如 win.webcontents, 使用 mixedcase.\n * 对于其他非模块api, 使用自然标题, 比如 <webview> tag 或 process object.\n\n当创建新的 api 时， 最好使用 getter 和 setter 而不是 jquery 的一次性函数。 举个例子, .gettext() 和 .settext(text) 优于 .text([text]). 这是一些相关的 讨论",charsets:{cjk:!0}},{title:"debug-instructions-windows",frontmatter:{title:"debug-instructions-windows",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/7a4b62/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/debug-instructions-windows.html",relativePath:"《Electron中文文档》/development/debug-instructions-windows.md",key:"v-660ca696",path:"/pages/7a4b62/",headers:[{level:2,title:"要求",slug:"要求",normalizedTitle:"要求",charIndex:480},{level:2,title:"附加并调试 Electron",slug:"附加并调试-electron",normalizedTitle:"附加并调试 electron",charIndex:1166},{level:3,title:"设置断点",slug:"设置断点",normalizedTitle:"设置断点",charIndex:1300},{level:3,title:"附加",slug:"附加",normalizedTitle:"附加",charIndex:1166},{level:3,title:"我应该附加哪个进程?",slug:"我应该附加哪个进程",normalizedTitle:"我应该附加哪个进程?",charIndex:1846},{level:2,title:"使用 ProcMon 观察进程",slug:"使用-procmon-观察进程",normalizedTitle:"使用 procmon 观察进程",charIndex:2146}],headersStr:"要求 附加并调试 Electron 设置断点 附加 我应该附加哪个进程? 使用 ProcMon 观察进程",content:"# 在 Windows 中调试\n\n如果你在 Electron 中遇到问题或者引起崩溃，你认为它不是由你的JavaScript应用程序引起的，而是由 Electron 本身引起的。调试可能有点棘手，特别是对于不习惯 native/C++ 调试的开发人员。 However, using Visual Studio, Electron's hosted Symbol Server, and the Electron source code, you can enable step-through debugging with breakpoints inside Electron's source code.\n\nSee also: There's a wealth of information on debugging Chromium, much of which also applies to Electron, on the Chromium developers site: Debugging Chromium on Windows.\n\n\n# 要求\n\n * Electron 的调试版本: 最简单的方法是自己构建它，使用 Windows 的构建说明中列出的工具和先决条件要求。 While you can attach to and debug Electron as you can download it directly, you will find that it is heavily optimized, making debugging substantially more difficult: The debugger will not be able to show you the content of all variables and the execution path can seem strange because of inlining, tail calls, and other compiler optimizations.\n\n * Visual Studio 与 C++ 工具: Visual Studio 2013 和 Visual Studio 2015 的免费社区版本都可以使用。 Once installed, configure Visual Studio to use Electron's Symbol server. 它将使 Visual Studio 能够更好地理解 Electron 中发生的事情，从而更容易以人类可读的格式呈现变量。\n\n * ProcMon: 免费的 SysInternals 工具允许您检查进程参数，文件句柄和注册表操作。\n\n\n# 附加并调试 Electron\n\n要启动调试会话，请打开 PowerShell/CMD 并执行 Electron 的调试版本，使用应用程序作为参数打开。\n\n$ ./out/Testing/electron.exe ~/my-electron-app/\n\n\n1\n\n\n\n# 设置断点\n\n然后，打开 Visual Studio。 Electron 不是使用 Visual Studio 构建的，因此不包含项目文件 - 但是您可以打开源代码文件 \"As File\"，这意味着 Visual Studio 将自己打开它们。 您仍然可以设置断点 - Visual Studio 将自动确定源代码与附加过程中运行的代码相匹配，并相应地中断。\n\nRelevant code files can be found in ./shell/.\n\n\n# 附加\n\n您可以将 Visual Studio 调试器附加到本地或远程计算机上正在运行的进程。 进程运行后，单击 调试 / 附加 到进程(或按下 CTRL+ALT+P) 打开“附加到进程”对话框。 您可以使用此功能调试在本地或远程计算机上运行的应用程序，同时调试多个进程。\n\n如果Electron在不同的用户帐户下运行，请选中 显示所有用户的进程 复选框。 请注意，根据您的应用程序打开的浏览器窗口数量，您将看到多个进程。 典型的单窗口应用程序将导致 Visual Studio 向您提供两个 Electron.exe 条目 - 一个用于主进程，一个用于渲染器进程。 因为列表只给你的名字，目前没有可靠的方法来弄清楚哪个是。\n\n\n# 我应该附加哪个进程?\n\nCode executed within the main process (that is, code found in or eventually run by your main JavaScript file) will run inside the main process, while other code will execute inside its respective renderer process.\n\n您可以在调试时附加到多个程序，但在任何时候只有一个程序在调试器中处于活动状态。 您可以在 调试位置 工具栏或 进程窗口 中设置活动程序。\n\n\n# 使用 ProcMon 观察进程\n\n虽然 Visual Studio 非常适合检查特定的代码路径，但 ProcMon 的优势在于它可以监视应用程序对操作系统的所有操作 - 捕获进程的文件，注册表，网络，进程和分析详细信息。 它试图记录发生的 所有 事件，并且可能是相当压倒性的，而且果你想了解你的应用程序对操作系统做什么和如何做，它则是一个很有价值的资源。\n\n有关 ProcMon 的基本和高级调试功能的介绍，请查看Microsoft提供的 视频教程.",normalizedContent:"# 在 windows 中调试\n\n如果你在 electron 中遇到问题或者引起崩溃，你认为它不是由你的javascript应用程序引起的，而是由 electron 本身引起的。调试可能有点棘手，特别是对于不习惯 native/c++ 调试的开发人员。 however, using visual studio, electron's hosted symbol server, and the electron source code, you can enable step-through debugging with breakpoints inside electron's source code.\n\nsee also: there's a wealth of information on debugging chromium, much of which also applies to electron, on the chromium developers site: debugging chromium on windows.\n\n\n# 要求\n\n * electron 的调试版本: 最简单的方法是自己构建它，使用 windows 的构建说明中列出的工具和先决条件要求。 while you can attach to and debug electron as you can download it directly, you will find that it is heavily optimized, making debugging substantially more difficult: the debugger will not be able to show you the content of all variables and the execution path can seem strange because of inlining, tail calls, and other compiler optimizations.\n\n * visual studio 与 c++ 工具: visual studio 2013 和 visual studio 2015 的免费社区版本都可以使用。 once installed, configure visual studio to use electron's symbol server. 它将使 visual studio 能够更好地理解 electron 中发生的事情，从而更容易以人类可读的格式呈现变量。\n\n * procmon: 免费的 sysinternals 工具允许您检查进程参数，文件句柄和注册表操作。\n\n\n# 附加并调试 electron\n\n要启动调试会话，请打开 powershell/cmd 并执行 electron 的调试版本，使用应用程序作为参数打开。\n\n$ ./out/testing/electron.exe ~/my-electron-app/\n\n\n1\n\n\n\n# 设置断点\n\n然后，打开 visual studio。 electron 不是使用 visual studio 构建的，因此不包含项目文件 - 但是您可以打开源代码文件 \"as file\"，这意味着 visual studio 将自己打开它们。 您仍然可以设置断点 - visual studio 将自动确定源代码与附加过程中运行的代码相匹配，并相应地中断。\n\nrelevant code files can be found in ./shell/.\n\n\n# 附加\n\n您可以将 visual studio 调试器附加到本地或远程计算机上正在运行的进程。 进程运行后，单击 调试 / 附加 到进程(或按下 ctrl+alt+p) 打开“附加到进程”对话框。 您可以使用此功能调试在本地或远程计算机上运行的应用程序，同时调试多个进程。\n\n如果electron在不同的用户帐户下运行，请选中 显示所有用户的进程 复选框。 请注意，根据您的应用程序打开的浏览器窗口数量，您将看到多个进程。 典型的单窗口应用程序将导致 visual studio 向您提供两个 electron.exe 条目 - 一个用于主进程，一个用于渲染器进程。 因为列表只给你的名字，目前没有可靠的方法来弄清楚哪个是。\n\n\n# 我应该附加哪个进程?\n\ncode executed within the main process (that is, code found in or eventually run by your main javascript file) will run inside the main process, while other code will execute inside its respective renderer process.\n\n您可以在调试时附加到多个程序，但在任何时候只有一个程序在调试器中处于活动状态。 您可以在 调试位置 工具栏或 进程窗口 中设置活动程序。\n\n\n# 使用 procmon 观察进程\n\n虽然 visual studio 非常适合检查特定的代码路径，但 procmon 的优势在于它可以监视应用程序对操作系统的所有操作 - 捕获进程的文件，注册表，网络，进程和分析详细信息。 它试图记录发生的 所有 事件，并且可能是相当压倒性的，而且果你想了解你的应用程序对操作系统做什么和如何做，它则是一个很有价值的资源。\n\n有关 procmon 的基本和高级调试功能的介绍，请查看microsoft提供的 视频教程.",charsets:{cjk:!0}},{title:"debugging-instructions-macos-xcode",frontmatter:{title:"debugging-instructions-macos-xcode",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/5cb012/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/debugging-instructions-macos-xcode.html",relativePath:"《Electron中文文档》/development/debugging-instructions-macos-xcode.md",key:"v-6d189af6",path:"/pages/5cb012/",headers:[{level:2,title:"使用 XCode 调试",slug:"使用-xcode-调试",normalizedTitle:"使用 xcode 调试",charIndex:2},{level:3,title:"为调试源代码生成Xcode项目（无法从Xcode构建代码）",slug:"为调试源代码生成xcode项目-无法从xcode构建代码",normalizedTitle:"为调试源代码生成xcode项目（无法从xcode构建代码）",charIndex:18},{level:3,title:"调试与断点",slug:"调试与断点",normalizedTitle:"调试与断点",charIndex:249}],headersStr:"使用 XCode 调试 为调试源代码生成Xcode项目（无法从Xcode构建代码） 调试与断点",content:"# 使用 XCode 调试\n\n\n# 为调试源代码生成Xcode项目（无法从Xcode构建代码）\n\n运行 gn gen 并带上 --ide=xcode 参数\n\n$ gn gen out/Testing --ide=xcode\n\n\n1\n\n\n这会生成 electron.ninja.xcworkspace。 您需要打开这个工作区来设置断点和检查。\n\nSee gn help gen for more information on generating IDE projects with GN.\n\n\n# 调试与断点\n\nLaunch Electron app after build. You can now open the xcode workspace created above and attach to the Electron process through the Debug > Attach To Process > Electron debug menu. [Note: If you want to debug the renderer process, you need to attach to the Electron Helper as well.]\n\nYou can now set breakpoints in any of the indexed files. However, you will not be able to set breakpoints directly in the Chromium source. To set break points in the Chromium source, you can choose Debug > Breakpoints > Create Symbolic Breakpoint and set any function name as the symbol. This will set the breakpoint for all functions with that name, from all the classes if there are more than one. You can also do this step of setting break points prior to attaching the debugger, however, actual breakpoints for symbolic breakpoint functions may not show up until the debugger is attached to the app.",normalizedContent:"# 使用 xcode 调试\n\n\n# 为调试源代码生成xcode项目（无法从xcode构建代码）\n\n运行 gn gen 并带上 --ide=xcode 参数\n\n$ gn gen out/testing --ide=xcode\n\n\n1\n\n\n这会生成 electron.ninja.xcworkspace。 您需要打开这个工作区来设置断点和检查。\n\nsee gn help gen for more information on generating ide projects with gn.\n\n\n# 调试与断点\n\nlaunch electron app after build. you can now open the xcode workspace created above and attach to the electron process through the debug > attach to process > electron debug menu. [note: if you want to debug the renderer process, you need to attach to the electron helper as well.]\n\nyou can now set breakpoints in any of the indexed files. however, you will not be able to set breakpoints directly in the chromium source. to set break points in the chromium source, you can choose debug > breakpoints > create symbolic breakpoint and set any function name as the symbol. this will set the breakpoint for all functions with that name, from all the classes if there are more than one. you can also do this step of setting break points prior to attaching the debugger, however, actual breakpoints for symbolic breakpoint functions may not show up until the debugger is attached to the app.",charsets:{cjk:!0}},{title:"debugging-instructions-macos",frontmatter:{title:"debugging-instructions-macos",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/bd3f59/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/debugging-instructions-macos.html",relativePath:"《Electron中文文档》/development/debugging-instructions-macos.md",key:"v-d25e5c94",path:"/pages/bd3f59/",headers:[{level:2,title:"要求",slug:"要求",normalizedTitle:"要求",charIndex:227},{level:2,title:"附加并调试 Electron",slug:"附加并调试-electron",normalizedTitle:"附加并调试 electron",charIndex:1090},{level:3,title:"设置断点",slug:"设置断点",normalizedTitle:"设置断点",charIndex:1388},{level:3,title:"进一步阅读",slug:"进一步阅读",normalizedTitle:"进一步阅读",charIndex:3870}],headersStr:"要求 附加并调试 Electron 设置断点 进一步阅读",content:"# 在 macOS 中调试\n\n如果你在 Electron 中遇到问题或者引起崩溃，你认为它不是由你的JavaScript应用程序引起的，而是由 Electron 本身引起的。调试可能有点棘手，特别是对于不习惯 native/C++ 调试的开发人员。 然而，使用 lldb 和 Electron 源代码，可以在 Electron 的源代码中使用断点启用逐步调试。 如果您希望用图形界面的开发工具，也可以使用XCode for debugging。\n\n\n# 要求\n\n * Electron 的调试版本: 最简单的方法是自己构建它，使用 macOS 的构建说明 中列出的工具和先决条件要求。 While you can attach to and debug Electron as you can download it directly, you will find that it is heavily optimized, making debugging substantially more difficult: The debugger will not be able to show you the content of all variables and the execution path can seem strange because of inlining, tail calls, and other compiler optimizations.\n\n * Xcode: 除了 Xcode，还安装 Xcode 命令行工具. They include LLDB, the default debugger in Xcode on macOS. It supports debugging C, Objective-C and C++ on the desktop and iOS devices and simulator.\n\n * .lldbinit: Create or edit ~/.lldbinit to allow Chromium code to be properly source-mapped.\n   \n   # e.g: ['~/electron/src/tools/lldb']\n   script sys.path[:0] = ['&lt;...path/to/electron/src/tools/lldb>']\n   script import lldbinit\n   \n   \n   1\n   2\n   3\n   \n\n\n# 附加并调试 Electron\n\nTo start a debugging session, open up Terminal and start lldb, passing a non-release build of Electron as a parameter.\n\n$ lldb ./out/Testing/Electron.app\n(lldb) target create \"./out/Testing/Electron.app\"\nCurrent executable set to './out/Testing/Electron.app' (x86_64).\n\n\n1\n2\n3\n\n\n\n# 设置断点\n\nLLDB是一个强大的工具，支持进行多种策略的代码检查。 在这做一个基本的介绍，让我们假设你从 JavaScript 调用一个不正常的命令 - 所以你想打断该命令的 C++ 对应的 Electron 源。\n\nRelevant code files can be found in ./shell/.\n\n让我们假设你想调试 app.setName(), 在 browser.cc 中定义为 Browser::SetName(). 使用 breakpoint 命令进行断点，指定文件和断点位置:\n\n(lldb) breakpoint set --file browser.cc --line 117\nBreakpoint 1: where = Electron Framework`atom::Browser::SetName(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) + 20 at browser.cc:118, address = 0x000000000015fdb4\n\n\n1\n2\n\n\n然后, 启动 Electron:\n\n(lldb) run\n\n\n1\n\n\n应用程式会立即暂停，因为 Electron 会在启动时设定应用程序名称:\n\n(lldb) run\nProcess 25244 launched: '/Users/fr/Code/electron/out/Testing/Electron.app/Contents/MacOS/Electron' (x86_64)\nProcess 25244 stopped\n* thread #1: tid = 0x839a4c, 0x0000000100162db4 Electron Framework`atom::Browser::SetName(this=0x0000000108b14f20, name=\"Electron\") + 20 at browser.cc:118, queue = 'com.apple.main-thread', stop reason = breakpoint 1.1\n    frame #0: 0x0000000100162db4 Electron Framework`atom::Browser::SetName(this=0x0000000108b14f20, name=\"Electron\") + 20 at browser.cc:118\n   115  }\n   116\n   117  void Browser::SetName(const std::string& name) {\n-> 118    name_override_ = name;\n   119  }\n   120\n   121  int Browser::GetBadgeCount() {\n(lldb)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n显示当前帧的参数和局部变量, 运行 frame variable (或 fr v), 这将显示你的应用程序当前设置名称为 “Electron”.\n\n(lldb) frame variable\n(atom::Browser *) this = 0x0000000108b14f20\n(const string &) name = \"Electron\": {\n    [...]\n}\n\n\n1\n2\n3\n4\n5\n\n\n在当前选择的线程中执行源级单步执行, 执行 step (或 s). 这将带你进入 name_override_.empty()。 继续前进，步过，运行 next (或 n).\n\n(lldb) step\nProcess 25244 stopped\n* thread #1: tid = 0x839a4c, 0x0000000100162dcc Electron Framework`atom::Browser::SetName(\n    this=0x0000000108b14f20, name=\"Electron\"\n) + 44 at browser.cc:119, queue = 'com.apple.main-thread', stop reason = step in\n    frame #0: 0x0000000100162dcc Electron Framework`atom::Browser::SetName(\n    this=0x0000000108b14f20, name=\"Electron\"\n) + 44 at browser.cc:119\n   116\n   117  void Browser::SetName(const std::string& name) {\n   118    name_override_ = name;\n-> 119  }\n   120\n   121  int Browser::GetBadgeCount() {\n   122    return badge_count_;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nNOTE: If you don't see source code when you think you should, you may not have added the ~/.lldbinit file above.\n\n要完成此时的调试，运行 process continue。 你也可以继续，直到这个线程中的某一行被命中(线程直到100)。 此命令将在当前帧中运行线程，直到它到达此帧中的行100，或者如果它离开当前帧，则停止。\n\n现在，如果你打开 Electron 的开发工具并调用 setName，你将再次命中断点。\n\n\n# 进一步阅读\n\nLLDB是一个强大的工具，有一个庞大的文档。 To learn more about it, consider Apple's debugging documentation, for instance the LLDB Command Structure Reference or the introduction to Using LLDB as a Standalone Debugger.\n\nYou can also check out LLDB's fantastic manual and tutorial, which will explain more complex debugging scenarios.",normalizedContent:"# 在 macos 中调试\n\n如果你在 electron 中遇到问题或者引起崩溃，你认为它不是由你的javascript应用程序引起的，而是由 electron 本身引起的。调试可能有点棘手，特别是对于不习惯 native/c++ 调试的开发人员。 然而，使用 lldb 和 electron 源代码，可以在 electron 的源代码中使用断点启用逐步调试。 如果您希望用图形界面的开发工具，也可以使用xcode for debugging。\n\n\n# 要求\n\n * electron 的调试版本: 最简单的方法是自己构建它，使用 macos 的构建说明 中列出的工具和先决条件要求。 while you can attach to and debug electron as you can download it directly, you will find that it is heavily optimized, making debugging substantially more difficult: the debugger will not be able to show you the content of all variables and the execution path can seem strange because of inlining, tail calls, and other compiler optimizations.\n\n * xcode: 除了 xcode，还安装 xcode 命令行工具. they include lldb, the default debugger in xcode on macos. it supports debugging c, objective-c and c++ on the desktop and ios devices and simulator.\n\n * .lldbinit: create or edit ~/.lldbinit to allow chromium code to be properly source-mapped.\n   \n   # e.g: ['~/electron/src/tools/lldb']\n   script sys.path[:0] = ['&lt;...path/to/electron/src/tools/lldb>']\n   script import lldbinit\n   \n   \n   1\n   2\n   3\n   \n\n\n# 附加并调试 electron\n\nto start a debugging session, open up terminal and start lldb, passing a non-release build of electron as a parameter.\n\n$ lldb ./out/testing/electron.app\n(lldb) target create \"./out/testing/electron.app\"\ncurrent executable set to './out/testing/electron.app' (x86_64).\n\n\n1\n2\n3\n\n\n\n# 设置断点\n\nlldb是一个强大的工具，支持进行多种策略的代码检查。 在这做一个基本的介绍，让我们假设你从 javascript 调用一个不正常的命令 - 所以你想打断该命令的 c++ 对应的 electron 源。\n\nrelevant code files can be found in ./shell/.\n\n让我们假设你想调试 app.setname(), 在 browser.cc 中定义为 browser::setname(). 使用 breakpoint 命令进行断点，指定文件和断点位置:\n\n(lldb) breakpoint set --file browser.cc --line 117\nbreakpoint 1: where = electron framework`atom::browser::setname(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) + 20 at browser.cc:118, address = 0x000000000015fdb4\n\n\n1\n2\n\n\n然后, 启动 electron:\n\n(lldb) run\n\n\n1\n\n\n应用程式会立即暂停，因为 electron 会在启动时设定应用程序名称:\n\n(lldb) run\nprocess 25244 launched: '/users/fr/code/electron/out/testing/electron.app/contents/macos/electron' (x86_64)\nprocess 25244 stopped\n* thread #1: tid = 0x839a4c, 0x0000000100162db4 electron framework`atom::browser::setname(this=0x0000000108b14f20, name=\"electron\") + 20 at browser.cc:118, queue = 'com.apple.main-thread', stop reason = breakpoint 1.1\n    frame #0: 0x0000000100162db4 electron framework`atom::browser::setname(this=0x0000000108b14f20, name=\"electron\") + 20 at browser.cc:118\n   115  }\n   116\n   117  void browser::setname(const std::string& name) {\n-> 118    name_override_ = name;\n   119  }\n   120\n   121  int browser::getbadgecount() {\n(lldb)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n显示当前帧的参数和局部变量, 运行 frame variable (或 fr v), 这将显示你的应用程序当前设置名称为 “electron”.\n\n(lldb) frame variable\n(atom::browser *) this = 0x0000000108b14f20\n(const string &) name = \"electron\": {\n    [...]\n}\n\n\n1\n2\n3\n4\n5\n\n\n在当前选择的线程中执行源级单步执行, 执行 step (或 s). 这将带你进入 name_override_.empty()。 继续前进，步过，运行 next (或 n).\n\n(lldb) step\nprocess 25244 stopped\n* thread #1: tid = 0x839a4c, 0x0000000100162dcc electron framework`atom::browser::setname(\n    this=0x0000000108b14f20, name=\"electron\"\n) + 44 at browser.cc:119, queue = 'com.apple.main-thread', stop reason = step in\n    frame #0: 0x0000000100162dcc electron framework`atom::browser::setname(\n    this=0x0000000108b14f20, name=\"electron\"\n) + 44 at browser.cc:119\n   116\n   117  void browser::setname(const std::string& name) {\n   118    name_override_ = name;\n-> 119  }\n   120\n   121  int browser::getbadgecount() {\n   122    return badge_count_;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nnote: if you don't see source code when you think you should, you may not have added the ~/.lldbinit file above.\n\n要完成此时的调试，运行 process continue。 你也可以继续，直到这个线程中的某一行被命中(线程直到100)。 此命令将在当前帧中运行线程，直到它到达此帧中的行100，或者如果它离开当前帧，则停止。\n\n现在，如果你打开 electron 的开发工具并调用 setname，你将再次命中断点。\n\n\n# 进一步阅读\n\nlldb是一个强大的工具，有一个庞大的文档。 to learn more about it, consider apple's debugging documentation, for instance the lldb command structure reference or the introduction to using lldb as a standalone debugger.\n\nyou can also check out lldb's fantastic manual and tutorial, which will explain more complex debugging scenarios.",charsets:{cjk:!0}},{title:"electron-vs-nwjs",frontmatter:{title:"electron-vs-nwjs",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/2c4778/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/electron-vs-nwjs.html",relativePath:"《Electron中文文档》/development/electron-vs-nwjs.md",key:"v-594c0a54",path:"/pages/2c4778/",headers:[{level:2,title:"1) 应用程序的入口",slug:"_1-应用程序的入口",normalizedTitle:"1) 应用程序的入口",charIndex:754},{level:2,title:"2) Node 集成",slug:"_2-node-集成",normalizedTitle:"2) node 集成",charIndex:1045},{level:2,title:"3) Javascript 上下文",slug:"_3-javascript-上下文",normalizedTitle:"3) javascript 上下文",charIndex:1209},{level:2,title:"4) 旧版支持",slug:"_4-旧版支持",normalizedTitle:"4) 旧版支持",charIndex:1402},{level:2,title:"5) 功能",slug:"_5-功能",normalizedTitle:"5) 功能",charIndex:1642}],headersStr:"1) 应用程序的入口 2) Node 集成 3) Javascript 上下文 4) 旧版支持 5) 功能",content:'# Electron 和 NW.js 之间的技术差异 类似于NW.js，Electron提供了一个使用Web技术开发桌面应用程序的平台。它们都可以让开发者很便利地使用HTML、JavaScript以及Node.js进行开发。表面上，它们俩非常相似。、 然而，两个项目间依旧存在着一些本质的差异，这使得Electron是一个完全独立且不同于NW.js的项目。 1）应用程序的入口 NW.js中，应用程序的主入口是一个HTML网页。NW.js将会使用一个浏览器窗口打开给定的入口点（HTML网页）。 在Electron中，入口点是一个Javascript脚本文件。我们需要通过Javascript代码手动创建一个浏览器窗口并加载一个HTML文件，而不是直接提供一个URL的方法。当然我们也可以去监听窗口的事件来决定什么时候退出应用程序。 Electron的工作机制更像是Node.js的运行时。而且Electron的API实际上更为底层，所以我们可以使用它进行相应的浏览器测试并替代PhantomJS。 2）Node集成 在NW.js中，在Web页面中集成Node需要通过给Chromium打补丁的方式才能运行。而Electron采取了通过在集成libuv loop——不同的操作系统平台（Windows、Linux、MacOS）的消息循环来避免魔改Chromium。 3）Javascript上下文\n\n类似于 NW.js，Electron 提供了一个使用 Web 技术开发桌面应用程序的平台。 两个平台都允许开发者使用 HTML、JavaScript 和 Node.js。 表面上，它们似乎非常相似。\n\n但是这两个项目也有本质上的区别，使得 Electron 和 NW.js 成为两个相互独立的产品。\n\n\n# 1) 应用程序的入口\n\n在 NW.js 中，应用程序的主入口是一个 HTML 网页。 在这种情况下，NW.js 得在浏览器窗口中打开给定的入口点。\n\n在 Electron 中，入口点是一个 JavaScript 脚本。 我们需要通过 Javascript 代码手动创建一个浏览器窗口并加载一个 HTML 文件，而不是直接提供一个 URL 的方法。 你还可以监听窗口事件，决定何时让应用退出。\n\nElectron 的工作方式更像 Node.js 运行时。 而且 Electron 的 API 实际上更为底层，所以我们可以使用它进行相应的浏览器测试并替代 PhantomJS。\n\n\n# 2) Node 集成\n\n在 NW.js 中，网页中的 Node 集成需要通过给 Chromium 打补丁来实现。但在 Electron 中，我们选择了另一种方式：通过各个平台的消息循环与 libuv 的循环集成，避免了直接在 Chromium 上做改动。 你可以查看 node_bindings 来了解这是如何完成的。\n\n\n# 3) Javascript 上下文\n\n如果你是一个经验丰富的 NW.js 用户，你应该熟悉节点上下文和网页上下文的概念。 这些概念是由于 NW.js 的实现方式而发明的。\n\n通过使用 Node 的 multi-context（多上下文）特性，Electron 不需要在网页中引入新的 Javascript 上下文。\n\n注意：从 0.13 开始，NW.js 也支持使用多上下文。\n\n\n# 4) 旧版支持\n\nNW.js 仍然提供一个支持 Windows XP 的 "传统版本"， 它没有收到安全更新。\n\n鉴于硬件制造商、微软、Chromium 和 Node.js 甚至没有为该系统发布关键的安全更新，我们不得不警告你，使用 Windows XP 是非常不安全的，是彻头彻尾的不负责任。\n\n然而，我们明白，可能存在超出我们想象的要求存在，因此，如果你正在寻找像 Electron 那样在 Windows XP 上运行的东西，NW.js 的传统版本可能是适合你的。\n\n\n# 5) 功能\n\n在支持的功能数量上有许多差异。 Electron有一个更大的社区，有更多的生产应用在使用它，并且有大量的用户端模块在 npm 上可用。\n\n例如，Electron 内置了对自动更新的支持和无数的工具，使安装程序更加容易创建。 一个有利于 NW.js 的例子，NW.js 支持更多的 Chrome.* API，用于开发 Chrome 应用程序。\n\n当然，我们相信 Electron 是用 Web 技术构建生产应用程序更好的平台（如 Visual Studio Code、Slack 或 Facebook Messenger）；但是，我们希望公平对待同样用 Web 技术的朋友。 如果你有 Electron 不能满足的功能需求，你可能需要尝试 NW.js。',normalizedContent:'# electron 和 nw.js 之间的技术差异 类似于nw.js，electron提供了一个使用web技术开发桌面应用程序的平台。它们都可以让开发者很便利地使用html、javascript以及node.js进行开发。表面上，它们俩非常相似。、 然而，两个项目间依旧存在着一些本质的差异，这使得electron是一个完全独立且不同于nw.js的项目。 1）应用程序的入口 nw.js中，应用程序的主入口是一个html网页。nw.js将会使用一个浏览器窗口打开给定的入口点（html网页）。 在electron中，入口点是一个javascript脚本文件。我们需要通过javascript代码手动创建一个浏览器窗口并加载一个html文件，而不是直接提供一个url的方法。当然我们也可以去监听窗口的事件来决定什么时候退出应用程序。 electron的工作机制更像是node.js的运行时。而且electron的api实际上更为底层，所以我们可以使用它进行相应的浏览器测试并替代phantomjs。 2）node集成 在nw.js中，在web页面中集成node需要通过给chromium打补丁的方式才能运行。而electron采取了通过在集成libuv loop——不同的操作系统平台（windows、linux、macos）的消息循环来避免魔改chromium。 3）javascript上下文\n\n类似于 nw.js，electron 提供了一个使用 web 技术开发桌面应用程序的平台。 两个平台都允许开发者使用 html、javascript 和 node.js。 表面上，它们似乎非常相似。\n\n但是这两个项目也有本质上的区别，使得 electron 和 nw.js 成为两个相互独立的产品。\n\n\n# 1) 应用程序的入口\n\n在 nw.js 中，应用程序的主入口是一个 html 网页。 在这种情况下，nw.js 得在浏览器窗口中打开给定的入口点。\n\n在 electron 中，入口点是一个 javascript 脚本。 我们需要通过 javascript 代码手动创建一个浏览器窗口并加载一个 html 文件，而不是直接提供一个 url 的方法。 你还可以监听窗口事件，决定何时让应用退出。\n\nelectron 的工作方式更像 node.js 运行时。 而且 electron 的 api 实际上更为底层，所以我们可以使用它进行相应的浏览器测试并替代 phantomjs。\n\n\n# 2) node 集成\n\n在 nw.js 中，网页中的 node 集成需要通过给 chromium 打补丁来实现。但在 electron 中，我们选择了另一种方式：通过各个平台的消息循环与 libuv 的循环集成，避免了直接在 chromium 上做改动。 你可以查看 node_bindings 来了解这是如何完成的。\n\n\n# 3) javascript 上下文\n\n如果你是一个经验丰富的 nw.js 用户，你应该熟悉节点上下文和网页上下文的概念。 这些概念是由于 nw.js 的实现方式而发明的。\n\n通过使用 node 的 multi-context（多上下文）特性，electron 不需要在网页中引入新的 javascript 上下文。\n\n注意：从 0.13 开始，nw.js 也支持使用多上下文。\n\n\n# 4) 旧版支持\n\nnw.js 仍然提供一个支持 windows xp 的 "传统版本"， 它没有收到安全更新。\n\n鉴于硬件制造商、微软、chromium 和 node.js 甚至没有为该系统发布关键的安全更新，我们不得不警告你，使用 windows xp 是非常不安全的，是彻头彻尾的不负责任。\n\n然而，我们明白，可能存在超出我们想象的要求存在，因此，如果你正在寻找像 electron 那样在 windows xp 上运行的东西，nw.js 的传统版本可能是适合你的。\n\n\n# 5) 功能\n\n在支持的功能数量上有许多差异。 electron有一个更大的社区，有更多的生产应用在使用它，并且有大量的用户端模块在 npm 上可用。\n\n例如，electron 内置了对自动更新的支持和无数的工具，使安装程序更加容易创建。 一个有利于 nw.js 的例子，nw.js 支持更多的 chrome.* api，用于开发 chrome 应用程序。\n\n当然，我们相信 electron 是用 web 技术构建生产应用程序更好的平台（如 visual studio code、slack 或 facebook messenger）；但是，我们希望公平对待同样用 web 技术的朋友。 如果你有 electron 不能满足的功能需求，你可能需要尝试 nw.js。',charsets:{cjk:!0}},{title:"goma",frontmatter:{title:"goma",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/d94ccf/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/goma.html",relativePath:"《Electron中文文档》/development/goma.md",key:"v-0fab7c14",path:"/pages/d94ccf/",headers:[{level:2,title:"Enabling Goma",slug:"enabling-goma",normalizedTitle:"enabling goma",charIndex:468},{level:2,title:"Building with Goma",slug:"building-with-goma",normalizedTitle:"building with goma",charIndex:891},{level:2,title:"Monitoring Goma",slug:"monitoring-goma",normalizedTitle:"monitoring goma",charIndex:1369},{level:2,title:"访问",slug:"访问",normalizedTitle:"访问",charIndex:1515},{level:2,title:"Uptime / Support",slug:"uptime-support",normalizedTitle:"uptime / support",charIndex:1863}],headersStr:"Enabling Goma Building with Goma Monitoring Goma 访问 Uptime / Support",content:'# Goma\n\n> Goma是一款很多开源项目都在使用的分布式编译服务，例如Chromium和Android。\n\nElectron has a deployment of a custom Goma Backend that we make available to all Electron Maintainers. See the Access section below for details on authentication. There is also a cache-only Goma endpoint that will be used by default if you do not have credentials. Requests to the cache-only Goma will not hit our cluster, but will read from our cache and should result in significantly faster build times.\n\n\n# Enabling Goma\n\nCurrently the only supported way to use Goma is to use our Build Tools. Goma configuration is automatically included when you set up build-tools.\n\nIf you are a maintainer and have access to our cluster, please ensure that you run e init with --goma=cluster in order to configure build-tools to use the Goma cluster. If you have an existing config, you can just set "goma": "cluster" in your config file.\n\n\n# Building with Goma\n\nWhen you are using Goma you can run ninja with a substantially higher j value than would normally be supported by your machine.\n\nPlease do not set a value higher than 200 on Windows or Linux and 50 on macOS. We monitor Goma system usage, and users found to be abusing it with unreasonable concurrency will be de-activated.\n\nninja -C out/Testing electron -j 200\n\n\n1\n\n\nIf you\'re using build-tools, appropriate -j values will automatically be used for you.\n\n\n# Monitoring Goma\n\nIf you access http://localhost:8088 on your local machine you can monitor compile jobs as they flow through the goma system.\n\n\n# 访问\n\nFor security and cost reasons, access to Electron\'s Goma cluster is currently restricted to Electron Maintainers. If you want access please head to #access-requests in Slack and ping @goma-squad to ask for access. Please be aware that being a maintainer does not automatically grant access and access is determined on a case by case basis.\n\n\n# Uptime / Support\n\nWe have automated monitoring of our Goma cluster and cache at https://status.notgoma.com\n\nWe do not provide support for usage of Goma and any issues raised asking for help / having issues will probably be closed without much reason, we do not have the capacity to handle that kind of support.',normalizedContent:'# goma\n\n> goma是一款很多开源项目都在使用的分布式编译服务，例如chromium和android。\n\nelectron has a deployment of a custom goma backend that we make available to all electron maintainers. see the access section below for details on authentication. there is also a cache-only goma endpoint that will be used by default if you do not have credentials. requests to the cache-only goma will not hit our cluster, but will read from our cache and should result in significantly faster build times.\n\n\n# enabling goma\n\ncurrently the only supported way to use goma is to use our build tools. goma configuration is automatically included when you set up build-tools.\n\nif you are a maintainer and have access to our cluster, please ensure that you run e init with --goma=cluster in order to configure build-tools to use the goma cluster. if you have an existing config, you can just set "goma": "cluster" in your config file.\n\n\n# building with goma\n\nwhen you are using goma you can run ninja with a substantially higher j value than would normally be supported by your machine.\n\nplease do not set a value higher than 200 on windows or linux and 50 on macos. we monitor goma system usage, and users found to be abusing it with unreasonable concurrency will be de-activated.\n\nninja -c out/testing electron -j 200\n\n\n1\n\n\nif you\'re using build-tools, appropriate -j values will automatically be used for you.\n\n\n# monitoring goma\n\nif you access http://localhost:8088 on your local machine you can monitor compile jobs as they flow through the goma system.\n\n\n# 访问\n\nfor security and cost reasons, access to electron\'s goma cluster is currently restricted to electron maintainers. if you want access please head to #access-requests in slack and ping @goma-squad to ask for access. please be aware that being a maintainer does not automatically grant access and access is determined on a case by case basis.\n\n\n# uptime / support\n\nwe have automated monitoring of our goma cluster and cache at https://status.notgoma.com\n\nwe do not provide support for usage of goma and any issues raised asking for help / having issues will probably be closed without much reason, we do not have the capacity to handle that kind of support.',charsets:{cjk:!0}},{title:"issues",frontmatter:{title:"issues",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/b8c213/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/issues.html",relativePath:"《Electron中文文档》/development/issues.md",key:"v-a11bcd14",path:"/pages/b8c213/",headers:[{level:2,title:"Issue でコントリビュートする方法",slug:"issue-でコントリビュートする方法",normalizedTitle:"issue でコントリビュートする方法",charIndex:19},{level:2,title:"Https://crowdin.com/translate/electron/156/en-vi#12327",slug:"https-crowdin-com-translate-electron-156-en-vi-12327",normalizedTitle:"https://crowdin.com/translate/electron/156/en-vi#12327",charIndex:42},{level:2,title:"提交漏洞报告",slug:"提交漏洞报告",normalizedTitle:"提交漏洞报告",charIndex:100},{level:2,title:"鉴定漏洞报告",slug:"鉴定漏洞报告",normalizedTitle:"鉴定漏洞报告",charIndex:110},{level:2,title:"解决漏洞报告",slug:"解决漏洞报告",normalizedTitle:"解决漏洞报告",charIndex:120}],headersStr:"Issue でコントリビュートする方法 Https://crowdin.com/translate/electron/156/en-vi#12327 提交漏洞报告 鉴定漏洞报告 解决漏洞报告",content:'# Electron中的问题\n\n * Issue でコントリビュートする方法\n * Https://crowdin.com/translate/electron/156/en-vi#12327\n * 提交漏洞报告\n * 鉴定漏洞报告\n * 解决漏洞报告\n\n\n# Issue でコントリビュートする方法\n\n对于任何问题，个人可以通过三种方式贡献：\n\n 1. By opening the issue for discussion: If you believe that you have found a new bug in Electron, you should report it by creating a new issue in the electron/electron issue tracker.\n 2. 通过帮助鉴定问题：您可以通过提供辅助信息（一种可以让漏洞被发现的情况）或提出解决问题的建议。\n 3. 通过帮助解决问题：这可以通过演示问题不是一个bug或已修复来完成；但更通常，打开一个通过一个具体和可审查的方式改变electron/electron中的源代码的拉取请求。\n\n\n# Https://crowdin.com/translate/electron/156/en-vi#12327\n\n"Finding Support" has a list of resources for getting programming help, reporting security issues, contributing, and more. 请仅对漏洞使用问题追踪器！\n\n\n# 提交漏洞报告\n\nTo submit a bug report:\n\nWhen opening a new issue in the electron/electron issue tracker, users will be presented with a template that should be filled in.\n\n如果你确信自己发现了Electron的bug，请尽可能详细的填写一份表单。\n\n要评估报告需要的两个最重要的部分是漏洞的描述和重现它的简单测试样例。 It is easier to fix a bug if it can be reproduced.\n\n参见 如何创建一个最小的，完整的和可验证的例子。\n\n\n# 鉴定漏洞报告\n\n提出问题经常会出现讨论。 贡献者会有不同的观点，包括提出的情况是一个漏洞还是一个功能。 这些讨论是解决问题的一部分，并且应该保持专注、有用、专业。\n\n没有任何内容和详细信息的简单回复是无用的而且不专业的。 在很多情况下，这些恢复是烦人而且不友好的。\n\n我们鼓励贡献者共同解决问题并互相帮助取得进展。 If you encounter an issue that you feel is invalid, or which contains incorrect information, explain why you feel that way with additional supporting context, and be willing to be convinced that you may be wrong. 通过这样做，我们可以更快地得到正确的结果。\n\n\n# 解决漏洞报告\n\n大部分的问题是通过打开拉取请求解决的。 The process for opening and reviewing a pull request is similar to that of opening and triaging issues, but carries with it a necessary review and approval workflow that ensures that the proposed changes meet the minimal quality and functional guidelines of the Electron project.',normalizedContent:'# electron中的问题\n\n * issue でコントリビュートする方法\n * https://crowdin.com/translate/electron/156/en-vi#12327\n * 提交漏洞报告\n * 鉴定漏洞报告\n * 解决漏洞报告\n\n\n# issue でコントリビュートする方法\n\n对于任何问题，个人可以通过三种方式贡献：\n\n 1. by opening the issue for discussion: if you believe that you have found a new bug in electron, you should report it by creating a new issue in the electron/electron issue tracker.\n 2. 通过帮助鉴定问题：您可以通过提供辅助信息（一种可以让漏洞被发现的情况）或提出解决问题的建议。\n 3. 通过帮助解决问题：这可以通过演示问题不是一个bug或已修复来完成；但更通常，打开一个通过一个具体和可审查的方式改变electron/electron中的源代码的拉取请求。\n\n\n# https://crowdin.com/translate/electron/156/en-vi#12327\n\n"finding support" has a list of resources for getting programming help, reporting security issues, contributing, and more. 请仅对漏洞使用问题追踪器！\n\n\n# 提交漏洞报告\n\nto submit a bug report:\n\nwhen opening a new issue in the electron/electron issue tracker, users will be presented with a template that should be filled in.\n\n如果你确信自己发现了electron的bug，请尽可能详细的填写一份表单。\n\n要评估报告需要的两个最重要的部分是漏洞的描述和重现它的简单测试样例。 it is easier to fix a bug if it can be reproduced.\n\n参见 如何创建一个最小的，完整的和可验证的例子。\n\n\n# 鉴定漏洞报告\n\n提出问题经常会出现讨论。 贡献者会有不同的观点，包括提出的情况是一个漏洞还是一个功能。 这些讨论是解决问题的一部分，并且应该保持专注、有用、专业。\n\n没有任何内容和详细信息的简单回复是无用的而且不专业的。 在很多情况下，这些恢复是烦人而且不友好的。\n\n我们鼓励贡献者共同解决问题并互相帮助取得进展。 if you encounter an issue that you feel is invalid, or which contains incorrect information, explain why you feel that way with additional supporting context, and be willing to be convinced that you may be wrong. 通过这样做，我们可以更快地得到正确的结果。\n\n\n# 解决漏洞报告\n\n大部分的问题是通过打开拉取请求解决的。 the process for opening and reviewing a pull request is similar to that of opening and triaging issues, but carries with it a necessary review and approval workflow that ensures that the proposed changes meet the minimal quality and functional guidelines of the electron project.',charsets:{cjk:!0}},{title:"patches",frontmatter:{title:"patches",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/c7b207/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/patches.html",relativePath:"《Electron中文文档》/development/patches.md",key:"v-70ccebe8",path:"/pages/c7b207/",headers:[{level:2,title:"Patch justification",slug:"patch-justification",normalizedTitle:"patch justification",charIndex:302},{level:2,title:"Patch system",slug:"patch-system",normalizedTitle:"patch system",charIndex:1883},{level:3,title:"用法",slug:"用法",normalizedTitle:"用法",charIndex:3730},{level:4,title:"Adding a new patch",slug:"adding-a-new-patch",normalizedTitle:"adding a new patch",charIndex:3736},{level:4,title:"Editing an existing patch",slug:"editing-an-existing-patch",normalizedTitle:"editing an existing patch",charIndex:4443},{level:4,title:"Removing a patch",slug:"removing-a-patch",normalizedTitle:"removing a patch",charIndex:4732},{level:4,title:"解决冲突",slug:"解决冲突",normalizedTitle:"解决冲突",charIndex:5407}],headersStr:"Patch justification Patch system 用法 Adding a new patch Editing an existing patch Removing a patch 解决冲突",content:"# Patches in Electron\n\nElectron是基于两个主要的上游项目：Chromium和Node.js Each of these projects has several of their own dependencies, too. We try our best to use these dependencies exactly as they are but sometimes we can't achieve our goals without patching those upstream dependencies to fit our use cases.\n\n\n# Patch justification\n\nEvery patch in Electron is a maintenance burden. When upstream code changes, patches can break—sometimes without even a patch conflict or a compilation error. It's an ongoing effort to keep our patch set up-to-date and effective. So we strive to keep our patch count at a minimum. To that end, every patch must describe its reason for existence in its commit message. That reason must be one of the following:\n\n 1. The patch is temporary, and is intended to be (or has been) committed upstream or otherwise eventually removed. Include a link to an upstream PR or code review if available, or a procedure for verifying whether the patch is still needed at a later date.\n 2. The patch allows the code to compile in the Electron environment, but cannot be upstreamed because it's Electron-specific (e.g. patching out references to Chrome's Profile). Include reasoning about why the change cannot be implemented without a patch (e.g. by subclassing or copying the code).\n 3. The patch makes Electron-specific changes in functionality which are fundamentally incompatible with upstream.\n\nIn general, all the upstream projects we work with are friendly folks and are often happy to accept refactorings that allow the code in question to be compatible with both Electron and the upstream project. (See e.g. this change in Chromium, which allowed us to remove a patch that did the same thing, or this change in Node, which was a no-op for Node but fixed a bug in Electron.) We should aim to upstream changes whenever we can, and avoid indefinite-lifetime patches.\n\n\n# Patch system\n\nIf you find yourself in the unfortunate position of having to make a change which can only be made through patching an upstream project, you'll need to know how to manage patches in Electron.\n\nAll patches to upstream projects in Electron are contained in the patches/ directory. Each subdirectory of patches/ contains several patch files, along with a .patches file which lists the order in which the patches should be applied. Think of these files as making up a series of git commits that are applied on top of the upstream project after we check it out.\n\npatches\n├── config.json   &lt;-- this describes which patchset directory is applied to what project\n├── chromium\n│   ├── .patches\n│   ├── accelerator.patch\n│   ├── add_contentgpuclient_precreatemessageloop_callback.patch\n│   ⋮\n├── node\n│   ├── .patches\n│   ├── add_openssl_is_boringssl_guard_to_oaep_hash_check.patch\n│   ├── build_add_gn_build_files.patch\n│   ⋮\n⋮\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nTo help manage these patch sets, we provide two tools: git-import-patches and git-export-patches. git-import-patches imports a set of patch files into a git repository by applying each patch in the correct order and creating a commit for each one. git-export-patches does the reverse; it exports a series of git commits in a repository into a set of files in a directory and an accompanying .patches file.\n\n> Side note: the reason we use a .patches file to maintain the order of applied patches, rather than prepending a number like 001- to each file, is because it reduces conflicts related to patch ordering. It prevents the situation where two PRs both add a patch at the end of the series with the same numbering and end up both getting merged resulting in a duplicate identifier, and it also reduces churn when a patch is added or deleted in the middle of the series.\n\n\n# 用法\n\n# Adding a new patch\n\n$ cd src/third_party/electron_node\n$ vim some/code/file.cc\n$ git commit\n$ ../../electron/script/git-export-patches -o ../../electron/patches/node\n\n\n1\n2\n3\n4\n\n\n> NOTE: git-export-patches ignores any uncommitted files, so you must create a commit if you want your changes to be exported. The subject line of the commit message will be used to derive the patch file name, and the body of the commit message should include the reason for the patch's existence.\n\nRe-exporting patches will sometimes cause shasums in unrelated patches to change. This is generally harmless and can be ignored (but go ahead and add those changes to your PR, it'll stop them from showing up for other people).\n\n# Editing an existing patch\n\n$ cd src/v8\n$ vim some/code/file.cc\n$ git log\n# Find the commit sha of the patch you want to edit.\n$ git commit --fixup [COMMIT_SHA]\n$ git rebase --autosquash -i [COMMIT_SHA]^\n$ ../electron/script/git-export-patches -o ../electron/patches/v8\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# Removing a patch\n\n$ vim src/electron/patches/node/.patches\n# Delete the line with the name of the patch you want to remove\n$ cd src/third_party/electron_node\n$ git reset --hard refs/patches/upstream-head\n$ ../../electron/script/git-import-patches ../../electron/patches/node\n$ ../../electron/script/git-export-patches -o ../../electron/patches/node\n\n\n1\n2\n3\n4\n5\n6\n\n\nNote that git-import-patches will mark the commit that was HEAD when it was run as refs/patches/upstream-head. This lets you keep track of which commits are from Electron patches (those that come after refs/patches/upstream-head) and which commits are in upstream (those before refs/patches/upstream-head).\n\n# 解决冲突\n\nWhen updating an upstream dependency, patches may fail to apply cleanly. Often, the conflict can be resolved automatically by git with a 3-way merge. You can instruct git-import-patches to use the 3-way merge algorithm by passing the -3 argument:\n\n$ cd src/third_party/electron_node\n# If the patch application failed midway through, you can reset it with:\n$ git am --abort\n# And then retry with 3-way merge:\n$ ../../electron/script/git-import-patches -3 ../../electron/patches/node\n\n\n1\n2\n3\n4\n5\n\n\nIf git-import-patches -3 encounters a merge conflict that it can't resolve automatically, it will pause and allow you to resolve the conflict manually. Once you have resolved the conflict, git add the resolved files and continue to apply the rest of the patches by running git am --continue.",normalizedContent:"# patches in electron\n\nelectron是基于两个主要的上游项目：chromium和node.js each of these projects has several of their own dependencies, too. we try our best to use these dependencies exactly as they are but sometimes we can't achieve our goals without patching those upstream dependencies to fit our use cases.\n\n\n# patch justification\n\nevery patch in electron is a maintenance burden. when upstream code changes, patches can break—sometimes without even a patch conflict or a compilation error. it's an ongoing effort to keep our patch set up-to-date and effective. so we strive to keep our patch count at a minimum. to that end, every patch must describe its reason for existence in its commit message. that reason must be one of the following:\n\n 1. the patch is temporary, and is intended to be (or has been) committed upstream or otherwise eventually removed. include a link to an upstream pr or code review if available, or a procedure for verifying whether the patch is still needed at a later date.\n 2. the patch allows the code to compile in the electron environment, but cannot be upstreamed because it's electron-specific (e.g. patching out references to chrome's profile). include reasoning about why the change cannot be implemented without a patch (e.g. by subclassing or copying the code).\n 3. the patch makes electron-specific changes in functionality which are fundamentally incompatible with upstream.\n\nin general, all the upstream projects we work with are friendly folks and are often happy to accept refactorings that allow the code in question to be compatible with both electron and the upstream project. (see e.g. this change in chromium, which allowed us to remove a patch that did the same thing, or this change in node, which was a no-op for node but fixed a bug in electron.) we should aim to upstream changes whenever we can, and avoid indefinite-lifetime patches.\n\n\n# patch system\n\nif you find yourself in the unfortunate position of having to make a change which can only be made through patching an upstream project, you'll need to know how to manage patches in electron.\n\nall patches to upstream projects in electron are contained in the patches/ directory. each subdirectory of patches/ contains several patch files, along with a .patches file which lists the order in which the patches should be applied. think of these files as making up a series of git commits that are applied on top of the upstream project after we check it out.\n\npatches\n├── config.json   &lt;-- this describes which patchset directory is applied to what project\n├── chromium\n│   ├── .patches\n│   ├── accelerator.patch\n│   ├── add_contentgpuclient_precreatemessageloop_callback.patch\n│   ⋮\n├── node\n│   ├── .patches\n│   ├── add_openssl_is_boringssl_guard_to_oaep_hash_check.patch\n│   ├── build_add_gn_build_files.patch\n│   ⋮\n⋮\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nto help manage these patch sets, we provide two tools: git-import-patches and git-export-patches. git-import-patches imports a set of patch files into a git repository by applying each patch in the correct order and creating a commit for each one. git-export-patches does the reverse; it exports a series of git commits in a repository into a set of files in a directory and an accompanying .patches file.\n\n> side note: the reason we use a .patches file to maintain the order of applied patches, rather than prepending a number like 001- to each file, is because it reduces conflicts related to patch ordering. it prevents the situation where two prs both add a patch at the end of the series with the same numbering and end up both getting merged resulting in a duplicate identifier, and it also reduces churn when a patch is added or deleted in the middle of the series.\n\n\n# 用法\n\n# adding a new patch\n\n$ cd src/third_party/electron_node\n$ vim some/code/file.cc\n$ git commit\n$ ../../electron/script/git-export-patches -o ../../electron/patches/node\n\n\n1\n2\n3\n4\n\n\n> note: git-export-patches ignores any uncommitted files, so you must create a commit if you want your changes to be exported. the subject line of the commit message will be used to derive the patch file name, and the body of the commit message should include the reason for the patch's existence.\n\nre-exporting patches will sometimes cause shasums in unrelated patches to change. this is generally harmless and can be ignored (but go ahead and add those changes to your pr, it'll stop them from showing up for other people).\n\n# editing an existing patch\n\n$ cd src/v8\n$ vim some/code/file.cc\n$ git log\n# find the commit sha of the patch you want to edit.\n$ git commit --fixup [commit_sha]\n$ git rebase --autosquash -i [commit_sha]^\n$ ../electron/script/git-export-patches -o ../electron/patches/v8\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# removing a patch\n\n$ vim src/electron/patches/node/.patches\n# delete the line with the name of the patch you want to remove\n$ cd src/third_party/electron_node\n$ git reset --hard refs/patches/upstream-head\n$ ../../electron/script/git-import-patches ../../electron/patches/node\n$ ../../electron/script/git-export-patches -o ../../electron/patches/node\n\n\n1\n2\n3\n4\n5\n6\n\n\nnote that git-import-patches will mark the commit that was head when it was run as refs/patches/upstream-head. this lets you keep track of which commits are from electron patches (those that come after refs/patches/upstream-head) and which commits are in upstream (those before refs/patches/upstream-head).\n\n# 解决冲突\n\nwhen updating an upstream dependency, patches may fail to apply cleanly. often, the conflict can be resolved automatically by git with a 3-way merge. you can instruct git-import-patches to use the 3-way merge algorithm by passing the -3 argument:\n\n$ cd src/third_party/electron_node\n# if the patch application failed midway through, you can reset it with:\n$ git am --abort\n# and then retry with 3-way merge:\n$ ../../electron/script/git-import-patches -3 ../../electron/patches/node\n\n\n1\n2\n3\n4\n5\n\n\nif git-import-patches -3 encounters a merge conflict that it can't resolve automatically, it will pause and allow you to resolve the conflict manually. once you have resolved the conflict, git add the resolved files and continue to apply the rest of the patches by running git am --continue.",charsets:{cjk:!0}},{title:"pull-requests",frontmatter:{title:"pull-requests",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/1396b2/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/pull-requests.html",relativePath:"《Electron中文文档》/development/pull-requests.md",key:"v-7df0a2c0",path:"/pages/1396b2/",headers:[{level:2,title:"设置您的本地环境",slug:"设置您的本地环境",normalizedTitle:"设置您的本地环境",charIndex:11},{level:3,title:"步骤1: 复制",slug:"步骤1-复制",normalizedTitle:"步骤1: 复制",charIndex:25},{level:3,title:"步骤2: 构建",slug:"步骤2-构建",normalizedTitle:"步骤2: 构建",charIndex:38},{level:3,title:"步骤3: 分支",slug:"步骤3-分支",normalizedTitle:"步骤3: 分支",charIndex:51},{level:2,title:"进行更改",slug:"进行更改",normalizedTitle:"进行更改",charIndex:62},{level:3,title:"步骤4: 编写代码",slug:"步骤4-编写代码",normalizedTitle:"步骤4: 编写代码",charIndex:72},{level:3,title:"步骤5: 提交更改",slug:"步骤5-提交更改",normalizedTitle:"步骤5: 提交更改",charIndex:87},{level:4,title:"提交代码说明的指导",slug:"提交代码说明的指导",normalizedTitle:"提交代码说明的指导",charIndex:104},{level:4,title:"重大更改",slug:"重大更改",normalizedTitle:"重大更改",charIndex:2194},{level:3,title:"步骤6：变基",slug:"步骤6-变基",normalizedTitle:"步骤6：变基",charIndex:119},{level:3,title:"步骤7: 测试",slug:"步骤7-测试",normalizedTitle:"步骤7: 测试",charIndex:131},{level:3,title:"步骤8: 推送代码",slug:"步骤8-推送代码",normalizedTitle:"步骤8: 推送代码",charIndex:144},{level:3,title:"步骤9: 新建一个合并代码请求",slug:"步骤9-新建一个合并代码请求",normalizedTitle:"步骤9: 新建一个合并代码请求",charIndex:159},{level:3,title:"步骤10: 讨论和更新",slug:"步骤10-讨论和更新",normalizedTitle:"步骤10: 讨论和更新",charIndex:180},{level:4,title:"批准和请求更改工作流程",slug:"批准和请求更改工作流程",normalizedTitle:"批准和请求更改工作流程",charIndex:199},{level:3,title:"步骤11: 执行合并",slug:"步骤11-执行合并",normalizedTitle:"步骤11: 执行合并",charIndex:216},{level:3,title:"持续集成测试",slug:"持续集成测试",normalizedTitle:"持续集成测试",charIndex:232}],headersStr:"设置您的本地环境 步骤1: 复制 步骤2: 构建 步骤3: 分支 进行更改 步骤4: 编写代码 步骤5: 提交更改 提交代码说明的指导 重大更改 步骤6：变基 步骤7: 测试 步骤8: 推送代码 步骤9: 新建一个合并代码请求 步骤10: 讨论和更新 批准和请求更改工作流程 步骤11: 执行合并 持续集成测试",content:'# 合并请求\n\n * 设置您的本地环境\n   * 步骤1: 复制\n   * 步骤2: 构建\n   * 步骤3: 分支\n * 进行更改\n   * 步骤4: 编写代码\n   * 步骤5: 提交更改\n     * 提交代码说明的指导\n   * 步骤6：变基\n   * 步骤7: 测试\n   * 步骤8: 推送代码\n   * 步骤9: 新建一个合并代码请求\n   * 步骤10: 讨论和更新\n     * 批准和请求更改工作流程\n   * 步骤11: 执行合并\n   * 持续集成测试\n\n\n# 设置您的本地环境\n\n\n# 步骤1: 复制\n\n在 GitHub 上复制项目到你的账号并把项目克隆到本地。\n\n$ git clone git@github.com:username/electron.git\n$ cd electron\n$ git remote add upstream https://github.com/electron/electron.git\n$ git fetch upstream\n\n\n1\n2\n3\n4\n\n\n\n# 步骤2: 构建\n\n根据您的操作系统, 项目构建步骤和依赖项稍有不同。 请参阅这些关于构建 Electron 项目的详细指南:\n\n * 在 macOS 上构建\n * 在 Linux 上构建\n * 在 Windows 上构建\n\n一旦您在本地构建了项目, 就可以开始进行更改了!\n\n\n# 步骤3: 分支\n\n为了保持您的开发环境的组织, 创建本地分支来保存您的工作。 These should be branched directly off of the main branch.\n\n$ git checkout -b my-branch -t upstream/main\n\n\n1\n\n\n\n# 进行更改\n\n\n# 步骤4: 编写代码\n\nMost pull requests opened against the electron/electron repository include changes to either the C/C++ code in the shell/ folder, the JavaScript code in the lib/ folder, the documentation in docs/api/ or tests in the spec/ folder.\n\n请确保都运行 npm run lint 在任何代码更改后, 以确保它们遵循项目的代码样式。\n\n在项目的不同部分修改代码时, 有关最佳实践的更多信息, 请参见 编码样式 。\n\n\n# 步骤5: 提交更改\n\n建议将更改按逻辑分组在每个独立提交中。 其他贡献者可以从拆分多个提交中更容易的检查代码的改变。 合并请求没有限制提交的数量。\n\n$ git add my/changed/files\n$ git commit\n\n\n1\n2\n\n\n请注意, 在最后执行合并代码时多个提交通常会被合并。\n\n# 提交代码说明的指导\n\n好的提交说明应描述更改的内容和原因。 Electron项目使用语义化提交信息以精简发布过程。\n\nBefore a pull request can be merged, it must have a pull request title with a semantic prefix.\n\n带有语义化前缀的提交信息的样例：\n\n * fix: don\'t overwrite prevent_default if default wasn\'t prevented\n * feat: add app.isPackaged() method\n * docs: app.isDefaultProtocolClient 现在在Linux可用\n\n常见前缀：\n\n * fix: A bug fix\n * feat: A new feature\n * docs: Documentation changes\n * 测试：添加缺失测试或纠正现有测试\n * build: Changes that affect the build system\n * ci: Changes to our CI configuration files and scripts\n * perf: A code change that improves performance\n * refactor: A code change that neither fixes a bug nor adds a feature\n * style: Changes that do not affect the meaning of the code (linting)\n\n其他在写提交信息时需要留意的事情：\n\n 1. 第一行应该:\n    * contain a short description of the change (preferably 50 characters or less, and no more than 72 characters)\n    * 完全使用小写, 除了适当的名词, 缩写, 和引用代码的单词, 如函数/变量名\n 2. 将第二行留空。\n 3. 每行文字在72列处换行。\n\n# 重大更改\n\nA commit that has the text BREAKING CHANGE: at the beginning of its optional body or footer section introduces a breaking API change (correlating with Major in semantic versioning). 一个重大更改可以是任何类型提交的一部分。 e.g., a fix:, feat: & chore: types would all be valid, in addition to any other type.\n\n参阅 conventionalcommits.org 以获得更多细节。\n\n\n# 步骤6：变基\n\n提交更改后, 最好使用 git rebase (而不是 git merge) 将您的工作与主代码库同步。\n\n$ git fetch upstream\n$ git rebase upstream/main\n\n\n1\n2\n\n\nThis ensures that your working branch has the latest changes from electron/electron main.\n\n\n# 步骤7: 测试\n\nBug 修复和功能应始终与测试一起进行。 提供了 测试指南 使流程更容易。 看其他测试, 看看它们应该如何结构化也会有帮助。\n\n当提交您的改变到合并代码请求前, 请始终运行完整的测试套件。 运行测试:\n\n$ npm run test\n\n\n1\n\n\n请确保 linter 不报告任何问题, 并且所有测试都通过。 请不要提交失败的修补程序或检查。\n\nIf you are updating tests and want to run a single spec to check it:\n\n$ npm run test -match=menu\n\n\n1\n\n\n上述操作只运行与 menu 匹配的规范模块, 这对于那些在测试周期的末尾进行测试的任何人都很有用。\n\n\n# 步骤8: 推送代码\n\n一旦您的提交准备就绪--通过测试和 linting--将您的工作分支推送到您在 GitHub 上复制的分支, 然后开始开启合并代码请求的过程。\n\n$ git push origin my-branch\n\n\n1\n\n\n\n# 步骤9: 新建一个合并代码请求\n\n从 GitHub 中, 开启一个新的合并代码请求将为您呈现一个模板，这应填写如下:\n\n\x3c!--\nThank you for your pull request. Please provide a description above and review\nthe requirements below.\n\nBug fixes and new features should include tests and possibly benchmarks.\n\nContributors guide: https://github.com/electron/electron/blob/main/CONTRIBUTING.md\n--\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 步骤10: 讨论和更新\n\n您可能会得到反馈或请求更改您的请求。 这是提交过程的重要部分, 所以不要气馁! 有些贡献者可能会立刻签署请求。 其他人可能有详细的评论或反馈。 这是过程的必要部分, 以便评估更改是否正确和必要。\n\n要更改现有的请求, 请对本地分支进行更改, 添加新的提交, 并将这些更改推送到您的分支。 GitHub 将自动更新请求。\n\n$ git add my/changed/files\n$ git commit\n$ git push origin my-branch\n\n\n1\n2\n3\n\n\n一些更高级的方法比如使用 git rebase 来管理提交是很有效的, 但这超出本指南的范围。\n\n如果您正在等待某事的答案, 请随时添加评论 ping 向审阅者。 如果您遇到的单词或缩略词似乎不熟悉, 请参阅此 词汇表 。\n\n# 批准和请求更改工作流程\n\nAll pull requests require approval from a Code Owner of the area you modified in order to land. Whenever a maintainer reviews a pull request they may request changes. These may be small, such as fixing a typo, or may involve substantive changes. Such requests are intended to be helpful, but at times may come across as abrupt or unhelpful, especially if they do not include concrete suggestions on how to change them.\n\n尽量不要气馁。 如果你觉得审查是不公平的, 那么说或者寻求另一个项目参与者的投入。 通常, 这种评论是由于审阅者没有足够的时间来审查和无意的。 这样的困难往往可以用一点耐心来解决。 That said, reviewers should be expected to provide helpful feedback.\n\n\n# 步骤11: 执行合并\n\n为了合并代码, 代码合并请求要求必须由至少一个 Electron 代码所有者审查和批准并且通过 CI。 之后, 如果没有其他参与者的异议, 请求可以合并。\n\n恭喜您, 感谢您的贡献!\n\n\n# 持续集成测试\n\n每个请求都在连续集成 (CI) 系统上进行测试, 以确认它在 Electron 支持的平台上工作。\n\n理想情况下, 代码合并请求将在 CI 的所有平台上通过测试 ("变成绿色")。 这意味着所有测试都通过, 并且没有 linting 错误。 然而，CI 自身的基础设施在特定的平台上或者在"不可靠"的测试下会失败("变红") 的情况并不少见。 必须手动检查每个 CI 故障以确定原因。\n\nCI starts automatically when you open a pull request, but only core maintainers can restart a CI run. If you believe CI is giving a false negative, ask a maintainer to restart the tests.',normalizedContent:'# 合并请求\n\n * 设置您的本地环境\n   * 步骤1: 复制\n   * 步骤2: 构建\n   * 步骤3: 分支\n * 进行更改\n   * 步骤4: 编写代码\n   * 步骤5: 提交更改\n     * 提交代码说明的指导\n   * 步骤6：变基\n   * 步骤7: 测试\n   * 步骤8: 推送代码\n   * 步骤9: 新建一个合并代码请求\n   * 步骤10: 讨论和更新\n     * 批准和请求更改工作流程\n   * 步骤11: 执行合并\n   * 持续集成测试\n\n\n# 设置您的本地环境\n\n\n# 步骤1: 复制\n\n在 github 上复制项目到你的账号并把项目克隆到本地。\n\n$ git clone git@github.com:username/electron.git\n$ cd electron\n$ git remote add upstream https://github.com/electron/electron.git\n$ git fetch upstream\n\n\n1\n2\n3\n4\n\n\n\n# 步骤2: 构建\n\n根据您的操作系统, 项目构建步骤和依赖项稍有不同。 请参阅这些关于构建 electron 项目的详细指南:\n\n * 在 macos 上构建\n * 在 linux 上构建\n * 在 windows 上构建\n\n一旦您在本地构建了项目, 就可以开始进行更改了!\n\n\n# 步骤3: 分支\n\n为了保持您的开发环境的组织, 创建本地分支来保存您的工作。 these should be branched directly off of the main branch.\n\n$ git checkout -b my-branch -t upstream/main\n\n\n1\n\n\n\n# 进行更改\n\n\n# 步骤4: 编写代码\n\nmost pull requests opened against the electron/electron repository include changes to either the c/c++ code in the shell/ folder, the javascript code in the lib/ folder, the documentation in docs/api/ or tests in the spec/ folder.\n\n请确保都运行 npm run lint 在任何代码更改后, 以确保它们遵循项目的代码样式。\n\n在项目的不同部分修改代码时, 有关最佳实践的更多信息, 请参见 编码样式 。\n\n\n# 步骤5: 提交更改\n\n建议将更改按逻辑分组在每个独立提交中。 其他贡献者可以从拆分多个提交中更容易的检查代码的改变。 合并请求没有限制提交的数量。\n\n$ git add my/changed/files\n$ git commit\n\n\n1\n2\n\n\n请注意, 在最后执行合并代码时多个提交通常会被合并。\n\n# 提交代码说明的指导\n\n好的提交说明应描述更改的内容和原因。 electron项目使用语义化提交信息以精简发布过程。\n\nbefore a pull request can be merged, it must have a pull request title with a semantic prefix.\n\n带有语义化前缀的提交信息的样例：\n\n * fix: don\'t overwrite prevent_default if default wasn\'t prevented\n * feat: add app.ispackaged() method\n * docs: app.isdefaultprotocolclient 现在在linux可用\n\n常见前缀：\n\n * fix: a bug fix\n * feat: a new feature\n * docs: documentation changes\n * 测试：添加缺失测试或纠正现有测试\n * build: changes that affect the build system\n * ci: changes to our ci configuration files and scripts\n * perf: a code change that improves performance\n * refactor: a code change that neither fixes a bug nor adds a feature\n * style: changes that do not affect the meaning of the code (linting)\n\n其他在写提交信息时需要留意的事情：\n\n 1. 第一行应该:\n    * contain a short description of the change (preferably 50 characters or less, and no more than 72 characters)\n    * 完全使用小写, 除了适当的名词, 缩写, 和引用代码的单词, 如函数/变量名\n 2. 将第二行留空。\n 3. 每行文字在72列处换行。\n\n# 重大更改\n\na commit that has the text breaking change: at the beginning of its optional body or footer section introduces a breaking api change (correlating with major in semantic versioning). 一个重大更改可以是任何类型提交的一部分。 e.g., a fix:, feat: & chore: types would all be valid, in addition to any other type.\n\n参阅 conventionalcommits.org 以获得更多细节。\n\n\n# 步骤6：变基\n\n提交更改后, 最好使用 git rebase (而不是 git merge) 将您的工作与主代码库同步。\n\n$ git fetch upstream\n$ git rebase upstream/main\n\n\n1\n2\n\n\nthis ensures that your working branch has the latest changes from electron/electron main.\n\n\n# 步骤7: 测试\n\nbug 修复和功能应始终与测试一起进行。 提供了 测试指南 使流程更容易。 看其他测试, 看看它们应该如何结构化也会有帮助。\n\n当提交您的改变到合并代码请求前, 请始终运行完整的测试套件。 运行测试:\n\n$ npm run test\n\n\n1\n\n\n请确保 linter 不报告任何问题, 并且所有测试都通过。 请不要提交失败的修补程序或检查。\n\nif you are updating tests and want to run a single spec to check it:\n\n$ npm run test -match=menu\n\n\n1\n\n\n上述操作只运行与 menu 匹配的规范模块, 这对于那些在测试周期的末尾进行测试的任何人都很有用。\n\n\n# 步骤8: 推送代码\n\n一旦您的提交准备就绪--通过测试和 linting--将您的工作分支推送到您在 github 上复制的分支, 然后开始开启合并代码请求的过程。\n\n$ git push origin my-branch\n\n\n1\n\n\n\n# 步骤9: 新建一个合并代码请求\n\n从 github 中, 开启一个新的合并代码请求将为您呈现一个模板，这应填写如下:\n\n\x3c!--\nthank you for your pull request. please provide a description above and review\nthe requirements below.\n\nbug fixes and new features should include tests and possibly benchmarks.\n\ncontributors guide: https://github.com/electron/electron/blob/main/contributing.md\n--\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 步骤10: 讨论和更新\n\n您可能会得到反馈或请求更改您的请求。 这是提交过程的重要部分, 所以不要气馁! 有些贡献者可能会立刻签署请求。 其他人可能有详细的评论或反馈。 这是过程的必要部分, 以便评估更改是否正确和必要。\n\n要更改现有的请求, 请对本地分支进行更改, 添加新的提交, 并将这些更改推送到您的分支。 github 将自动更新请求。\n\n$ git add my/changed/files\n$ git commit\n$ git push origin my-branch\n\n\n1\n2\n3\n\n\n一些更高级的方法比如使用 git rebase 来管理提交是很有效的, 但这超出本指南的范围。\n\n如果您正在等待某事的答案, 请随时添加评论 ping 向审阅者。 如果您遇到的单词或缩略词似乎不熟悉, 请参阅此 词汇表 。\n\n# 批准和请求更改工作流程\n\nall pull requests require approval from a code owner of the area you modified in order to land. whenever a maintainer reviews a pull request they may request changes. these may be small, such as fixing a typo, or may involve substantive changes. such requests are intended to be helpful, but at times may come across as abrupt or unhelpful, especially if they do not include concrete suggestions on how to change them.\n\n尽量不要气馁。 如果你觉得审查是不公平的, 那么说或者寻求另一个项目参与者的投入。 通常, 这种评论是由于审阅者没有足够的时间来审查和无意的。 这样的困难往往可以用一点耐心来解决。 that said, reviewers should be expected to provide helpful feedback.\n\n\n# 步骤11: 执行合并\n\n为了合并代码, 代码合并请求要求必须由至少一个 electron 代码所有者审查和批准并且通过 ci。 之后, 如果没有其他参与者的异议, 请求可以合并。\n\n恭喜您, 感谢您的贡献!\n\n\n# 持续集成测试\n\n每个请求都在连续集成 (ci) 系统上进行测试, 以确认它在 electron 支持的平台上工作。\n\n理想情况下, 代码合并请求将在 ci 的所有平台上通过测试 ("变成绿色")。 这意味着所有测试都通过, 并且没有 linting 错误。 然而，ci 自身的基础设施在特定的平台上或者在"不可靠"的测试下会失败("变红") 的情况并不少见。 必须手动检查每个 ci 故障以确定原因。\n\nci starts automatically when you open a pull request, but only core maintainers can restart a ci run. if you believe ci is giving a false negative, ask a maintainer to restart the tests.',charsets:{cjk:!0}},{title:"setting-up-symbol-server",frontmatter:{title:"setting-up-symbol-server",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/803acc/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/setting-up-symbol-server.html",relativePath:"《Electron中文文档》/development/setting-up-symbol-server.md",key:"v-37513354",path:"/pages/803acc/",headers:[{level:2,title:"在 Windbg 中使用 Symbol 服务器",slug:"在-windbg-中使用-symbol-服务器",normalizedTitle:"在 windbg 中使用 symbol 服务器",charIndex:492},{level:2,title:"在 Visual Studio 中使用 symbol 服务器",slug:"在-visual-studio-中使用-symbol-服务器",normalizedTitle:"在 visual studio 中使用 symbol 服务器",charIndex:964},{level:2,title:"故障排除：symbol 未加载",slug:"故障排除-symbol-未加载",normalizedTitle:"故障排除：symbol 未加载",charIndex:1001}],headersStr:"在 Windbg 中使用 Symbol 服务器 在 Visual Studio 中使用 symbol 服务器 故障排除：symbol 未加载",content:"# 在调试器中设置 Symbol 服务器\n\n调试 symbols 让你能更好的调试 sessions. 它们有可执行的动态库的函数信息，并且提供信息来获得干净的调用堆栈. 一个 Symbol 服务器允许调试器自动加载正确的 symbols, 二进制文件 和 资源文件，不用再去强制用户下载巨大的调试文件. 服务器函数类似 Microsoft's symbol server，所以这些文档是可以使用的。\n\n注意，因为公众版本的 Electron 构建是最优化的，调试不一定一直简单. 调试器将不会给显示出所有变量内容，并且因为内联，尾调用，和其它编译器优化，执行路径会看起来很怪异. 唯一的解决办法是搭建一个不优化的本地构建.\n\nElectron 使用的官方 symbol 服务器地址为 https://symbols.electronjs.org. 你不能直接访问这个路径，必须将其添加到你的调试工具的 symbol 路径上. 在下面的例子中，使用了一个本地缓存目录来避免重复从服务器获取 PDB. 在你的电脑上使用一个恰当的缓存目录来代替 c:\\code\\symbols.\n\n\n# 在 Windbg 中使用 Symbol 服务器\n\nWindbg symbol 路径被配制为一个限制带星号字符的字符串. 要只使用 Electron 的 symbol 服务器, 将下列记录添加到你的 symbol 路径 (注意: 如果你愿意使用一个不同的地点来下载 symbols，你可以在你的电脑中使用任何可写的目录来代替 c:\\code\\symbols):\n\nSRV*c:\\code\\symbols\\*https://symbols.electronjs.org\n\n\n1\n\n\n使用 Windbg 菜单或通过输入 .sympath 命令，在环境中设置一个 _NT_SYMBOL_PATH 字符串. 如果你也想从微软的 symbol 服务器获得 symbols ，你应当首先将它们先列出来:\n\nSRV*c:\\code\\symbols\\*https://msdl.microsoft.com/download/symbols;SRV*c:\\code\\symbols\\*https://symbols.electronjs.org\n\n\n1\n\n\n\n# 在 Visual Studio 中使用 symbol 服务器\n\n\n\n\n# 故障排除：symbol 未加载\n\n在 Windbg 中输入下列命令，来打印出为什么 symbols 没有加载:\n\n> !sym noisy\n> .reload /f electron.exe\n\n\n1\n2\n",normalizedContent:"# 在调试器中设置 symbol 服务器\n\n调试 symbols 让你能更好的调试 sessions. 它们有可执行的动态库的函数信息，并且提供信息来获得干净的调用堆栈. 一个 symbol 服务器允许调试器自动加载正确的 symbols, 二进制文件 和 资源文件，不用再去强制用户下载巨大的调试文件. 服务器函数类似 microsoft's symbol server，所以这些文档是可以使用的。\n\n注意，因为公众版本的 electron 构建是最优化的，调试不一定一直简单. 调试器将不会给显示出所有变量内容，并且因为内联，尾调用，和其它编译器优化，执行路径会看起来很怪异. 唯一的解决办法是搭建一个不优化的本地构建.\n\nelectron 使用的官方 symbol 服务器地址为 https://symbols.electronjs.org. 你不能直接访问这个路径，必须将其添加到你的调试工具的 symbol 路径上. 在下面的例子中，使用了一个本地缓存目录来避免重复从服务器获取 pdb. 在你的电脑上使用一个恰当的缓存目录来代替 c:\\code\\symbols.\n\n\n# 在 windbg 中使用 symbol 服务器\n\nwindbg symbol 路径被配制为一个限制带星号字符的字符串. 要只使用 electron 的 symbol 服务器, 将下列记录添加到你的 symbol 路径 (注意: 如果你愿意使用一个不同的地点来下载 symbols，你可以在你的电脑中使用任何可写的目录来代替 c:\\code\\symbols):\n\nsrv*c:\\code\\symbols\\*https://symbols.electronjs.org\n\n\n1\n\n\n使用 windbg 菜单或通过输入 .sympath 命令，在环境中设置一个 _nt_symbol_path 字符串. 如果你也想从微软的 symbol 服务器获得 symbols ，你应当首先将它们先列出来:\n\nsrv*c:\\code\\symbols\\*https://msdl.microsoft.com/download/symbols;srv*c:\\code\\symbols\\*https://symbols.electronjs.org\n\n\n1\n\n\n\n# 在 visual studio 中使用 symbol 服务器\n\n\n\n\n# 故障排除：symbol 未加载\n\n在 windbg 中输入下列命令，来打印出为什么 symbols 没有加载:\n\n> !sym noisy\n> .reload /f electron.exe\n\n\n1\n2\n",charsets:{cjk:!0}},{title:"source-code-directory-structure",frontmatter:{title:"source-code-directory-structure",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/38b362/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/source-code-directory-structure.html",relativePath:"《Electron中文文档》/development/source-code-directory-structure.md",key:"v-a2900ea4",path:"/pages/38b362/",headers:[{level:2,title:"源代码的目录结构",slug:"源代码的目录结构",normalizedTitle:"源代码的目录结构",charIndex:95},{level:2,title:"其它目录的结构",slug:"其它目录的结构",normalizedTitle:"其它目录的结构",charIndex:3798}],headersStr:"源代码的目录结构 其它目录的结构",content:"# 源码目录结构\n\nElectron 的源代码主要依据 Chromium 的拆分约定被拆成了许多部分。\n\n为了更好地理解源代码，您可能需要了解一下 Chromium 的多进程架构。\n\n\n# 源代码的目录结构\n\nElectron\n├── build/ - Build configuration files needed to build with GN.\n├── buildflags/ - Determines the set of features that can be conditionally built.\n├── chromium_src/ - Source code copied from Chromium that isn't part of the content layer.\n├── default_app/ - A default app run when Electron is started without\n|                  providing a consumer app.\n├── docs/ - Electron's documentation.\n|   ├── api/ - Documentation for Electron's externally-facing modules and APIs.\n|   ├── development/ - Documentation to aid in developing for and with Electron.\n|   ├── fiddles/ - A set of code snippets one can run in Electron Fiddle.\n|   ├── images/ - Images used in documentation.\n|   └── tutorial/ - Tutorial documents for various aspects of Electron.\n├── lib/ - JavaScript/TypeScript source code.\n|   ├── browser/ - Main process initialization code.\n|   |   ├── api/ - API implementation for main process modules.\n|   |   └── remote/ - Code related to the remote module as it is\n|   |                 used in the main process.\n|   ├── common/ - Relating to logic needed by both main and renderer processes.\n|   |   └── api/ - API implementation for modules that can be used in\n|   |              both the main and renderer processes\n|   ├── isolated_renderer/ - Handles creation of isolated renderer processes when\n|   |                        contextIsolation is enabled.\n|   ├── renderer/ - Renderer process initialization code.\n|   |   ├── api/ - API implementation for renderer process modules.\n|   |   ├── extension/ - Code related to use of Chrome Extensions\n|   |   |                in Electron's renderer process.\n|   |   ├── remote/ - Logic that handles use of the remote module in\n|   |   |             the main process.\n|   |   └── web-view/ - Logic that handles the use of webviews in the\n|   |                   renderer process.\n|   ├── sandboxed_renderer/ - Logic that handles creation of sandboxed renderer\n|   |   |                     processes.\n|   |   └── api/ - API implementation for sandboxed renderer processes.\n|   └── worker/ - Logic that handles proper functionality of Node.js\n|                 environments in Web Workers.\n├── patches/ - Patches applied on top of Electron's core dependencies\n|   |          in order to handle differences between our use cases and\n|   |          default functionality.\n|   ├── boringssl/ - Patches applied to Google's fork of OpenSSL, BoringSSL.\n|   ├── chromium/ - Patches applied to Chromium.\n|   ├── node/ - Patches applied on top of Node.js.\n|   └── v8/ - Patches applied on top of Google's V8 engine.\n├── shell/ - C++ source code.\n|   ├── app/ - 系统入口代码.\n|   ├── browser/ - 包含了主窗口、UI 和所有主进程相关的东西.\n|   |   |          它会告诉渲染进程如何管理页面.\n|   |   ├── ui/ - 不同平台上 UI 部分的实现.\n|   |   |   ├── cocoa/ - Cocoa 部分的源代码.\n|   |   |   ├── win/ - Windows GUI 部分的源代码.\n|   |   |   └── x/ - X11 部分的源代码.\n|   |   ├── api/ - 主进程 API 的实现.\n|   |   ├── net/ - 网络相关的代码.\n|   |   ├── mac/ - 与 Mac 有关的 Objective-C 代码.\n|   |   └── resources/ - Icons, platform-dependent files, etc.\n|   ├── renderer/ - Code that runs in renderer process.\n|   |   └── api/ - 渲染进程 API 的实现.\n|   └── common/ - 同时被主进程和渲染进程用到的代码,\n|       |         包括了一些用来将 node 的消息循环整合到 Chromium 的\n|       |         消息循环中时用到的工具函数和代码.\n|       └── api/ - 同时被主进程和渲染进程使用到的 API 的实现,\n|                  并且是 Electron 内置模块的基础.\n├── spec/ - Components of Electron's test suite run in the renderer process.\n├── spec-main/ - Components of Electron's test suite run in the main process.\n└── BUILD.gn - Electron 的构建规则.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n\n# 其它目录的结构\n\n * .cloeci - CircleCI 的 CI 配置文件。\n * .github - GitHub专用配置文件，包括 issue 模板和 CODEOWNERS。\n * dist - 由脚本 script/create-dist.py 创建的临时发布目录.\n * node_modules - 在构建中用到的第三方 node 模块.\n * npm - 通过 npm 安装 Electron 的逻辑。\n * out - ninja 的临时输出目录.\n * script - 用于诸如构建、打包、测试等开发用途的脚本等.\n\nscript/ - The set of all scripts Electron runs for a variety of purposes.\n├── codesign/ - Fakes codesigning for Electron apps; used for testing.\n├── lib/ - Miscellaneous python utility scripts.\n└── release/ - Scripts run during Electron's release process.\n    ├── notes/ - Generates release notes for new Electron versions.\n    └── uploaders/ - Uploads various release-related files during release.\n\n\n1\n2\n3\n4\n5\n6\n\n * typings - Electron的内部代码的 TypeScript typings。",normalizedContent:"# 源码目录结构\n\nelectron 的源代码主要依据 chromium 的拆分约定被拆成了许多部分。\n\n为了更好地理解源代码，您可能需要了解一下 chromium 的多进程架构。\n\n\n# 源代码的目录结构\n\nelectron\n├── build/ - build configuration files needed to build with gn.\n├── buildflags/ - determines the set of features that can be conditionally built.\n├── chromium_src/ - source code copied from chromium that isn't part of the content layer.\n├── default_app/ - a default app run when electron is started without\n|                  providing a consumer app.\n├── docs/ - electron's documentation.\n|   ├── api/ - documentation for electron's externally-facing modules and apis.\n|   ├── development/ - documentation to aid in developing for and with electron.\n|   ├── fiddles/ - a set of code snippets one can run in electron fiddle.\n|   ├── images/ - images used in documentation.\n|   └── tutorial/ - tutorial documents for various aspects of electron.\n├── lib/ - javascript/typescript source code.\n|   ├── browser/ - main process initialization code.\n|   |   ├── api/ - api implementation for main process modules.\n|   |   └── remote/ - code related to the remote module as it is\n|   |                 used in the main process.\n|   ├── common/ - relating to logic needed by both main and renderer processes.\n|   |   └── api/ - api implementation for modules that can be used in\n|   |              both the main and renderer processes\n|   ├── isolated_renderer/ - handles creation of isolated renderer processes when\n|   |                        contextisolation is enabled.\n|   ├── renderer/ - renderer process initialization code.\n|   |   ├── api/ - api implementation for renderer process modules.\n|   |   ├── extension/ - code related to use of chrome extensions\n|   |   |                in electron's renderer process.\n|   |   ├── remote/ - logic that handles use of the remote module in\n|   |   |             the main process.\n|   |   └── web-view/ - logic that handles the use of webviews in the\n|   |                   renderer process.\n|   ├── sandboxed_renderer/ - logic that handles creation of sandboxed renderer\n|   |   |                     processes.\n|   |   └── api/ - api implementation for sandboxed renderer processes.\n|   └── worker/ - logic that handles proper functionality of node.js\n|                 environments in web workers.\n├── patches/ - patches applied on top of electron's core dependencies\n|   |          in order to handle differences between our use cases and\n|   |          default functionality.\n|   ├── boringssl/ - patches applied to google's fork of openssl, boringssl.\n|   ├── chromium/ - patches applied to chromium.\n|   ├── node/ - patches applied on top of node.js.\n|   └── v8/ - patches applied on top of google's v8 engine.\n├── shell/ - c++ source code.\n|   ├── app/ - 系统入口代码.\n|   ├── browser/ - 包含了主窗口、ui 和所有主进程相关的东西.\n|   |   |          它会告诉渲染进程如何管理页面.\n|   |   ├── ui/ - 不同平台上 ui 部分的实现.\n|   |   |   ├── cocoa/ - cocoa 部分的源代码.\n|   |   |   ├── win/ - windows gui 部分的源代码.\n|   |   |   └── x/ - x11 部分的源代码.\n|   |   ├── api/ - 主进程 api 的实现.\n|   |   ├── net/ - 网络相关的代码.\n|   |   ├── mac/ - 与 mac 有关的 objective-c 代码.\n|   |   └── resources/ - icons, platform-dependent files, etc.\n|   ├── renderer/ - code that runs in renderer process.\n|   |   └── api/ - 渲染进程 api 的实现.\n|   └── common/ - 同时被主进程和渲染进程用到的代码,\n|       |         包括了一些用来将 node 的消息循环整合到 chromium 的\n|       |         消息循环中时用到的工具函数和代码.\n|       └── api/ - 同时被主进程和渲染进程使用到的 api 的实现,\n|                  并且是 electron 内置模块的基础.\n├── spec/ - components of electron's test suite run in the renderer process.\n├── spec-main/ - components of electron's test suite run in the main process.\n└── build.gn - electron 的构建规则.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n\n# 其它目录的结构\n\n * .cloeci - circleci 的 ci 配置文件。\n * .github - github专用配置文件，包括 issue 模板和 codeowners。\n * dist - 由脚本 script/create-dist.py 创建的临时发布目录.\n * node_modules - 在构建中用到的第三方 node 模块.\n * npm - 通过 npm 安装 electron 的逻辑。\n * out - ninja 的临时输出目录.\n * script - 用于诸如构建、打包、测试等开发用途的脚本等.\n\nscript/ - the set of all scripts electron runs for a variety of purposes.\n├── codesign/ - fakes codesigning for electron apps; used for testing.\n├── lib/ - miscellaneous python utility scripts.\n└── release/ - scripts run during electron's release process.\n    ├── notes/ - generates release notes for new electron versions.\n    └── uploaders/ - uploads various release-related files during release.\n\n\n1\n2\n3\n4\n5\n6\n\n * typings - electron的内部代码的 typescript typings。",charsets:{cjk:!0}},{title:"testing",frontmatter:{title:"testing",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/fd75d4/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/testing.html",relativePath:"《Electron中文文档》/development/testing.md",key:"v-3b23a850",path:"/pages/fd75d4/",headers:[{level:2,title:"提示",slug:"提示",normalizedTitle:"提示",charIndex:236},{level:2,title:"单元测试",slug:"单元测试",normalizedTitle:"单元测试",charIndex:305},{level:3,title:"在Windows10上测试",slug:"在windows10上测试",normalizedTitle:"在windows10上测试",charIndex:1232},{level:4,title:"Extra steps to run the unit test:",slug:"extra-steps-to-run-the-unit-test",normalizedTitle:"extra steps to run the unit test:",charIndex:1249},{level:4,title:"Missing fonts",slug:"missing-fonts",normalizedTitle:"missing fonts",charIndex:1676},{level:4,title:"Pixel measurements",slug:"pixel-measurements",normalizedTitle:"pixel measurements",charIndex:1840}],headersStr:"提示 单元测试 在Windows10上测试 Extra steps to run the unit test: Missing fonts Pixel measurements",content:"# 测试\n\n我们的目的是保持 Electron 代码的高覆盖率。 我们要求所有的pull request不仅要通过所有现有的测试，还要增加新的测试来覆盖变更的代码和新的场景。 我们要尽可能多地覆盖Electron应用中的代码路径和用例，以确保我们发布的应用程序都能拥有更少的bug。\n\n这个仓库为 JavaScript 和 C ++ 提供了linting 规则 - 以及单元和集成测试。 通过 coding-style文档来学习更多的Electron's编码风格\n\n\n# 提示\n\n为确保您的JavaScript符合Electron编码风格，请执行npm run lint-js，它将针对Electron本身以及单元测试运行standard测试。 如果您正在使用带有插件/插件系统的编辑器，那么可以使用StandardJS addons之类的插件在你提交代码前来检查编码规范。\n\n若要用参数运行standard测试，首先执行npm run lint-js -- 然后输入要传递给standard测试的参数。\n\n要确保您的C ++代码符合Electron编码风格，请执行npm run lint-cpp，它将会执行cpplint脚本。 我们建议您使用clang-format并准备一个简短的教程。\n\nThere is not a lot of Python in this repository, but it too is governed by coding style rules. npm run lint-py will check all Python, using pylint to do so.\n\n\n# 单元测试\n\nIf you are not using build-tools, ensure that that name you have configured for your local build of Electron is one of Testing, Release, Default, Debug, or you have set process.env.ELECTRON_OUT_DIR. Without these set, Electron will fail to perform some pre-testing steps.\n\n要运行所有单元测试，请执行 npm run test。 单元测试其实也是一个Electron应用！你可以在spec 文件夹中找到它。 请注意，单元测试也有自己的 package.json，因此它的依赖没有在最顶层的package.json中定义。\n\n若要通过匹配模式运行单个测试，可以执行 npm run test -- -g=PATTERN，把PATTERN 替换为匹配某个测试的正则表达式。 例：如果想运行IPC测试，你可以执行npm run test -- -g ipc。\n\n\n# 在Windows10上测试\n\n# Extra steps to run the unit test:\n\n 1. Visual Studio 2019 must be installed.\n\n 2. Node headers have to be compiled for your configuration.\n    \n    ninja -C out\\Testing third_party\\electron_node:headers\n    \n    \n    1\n    \n\n 3. The electron.lib has to be copied as node.lib.\n    \n    cd out\\Testing\n    mkdir gen\\node_headers\\Release\n    copy electron.lib gen\\node_headers\\Release\\node.lib\n    \n    \n    1\n    2\n    3\n    \n\n# Missing fonts\n\n一些 Windows 10 设备上没有默认安装Meriryo字体，这会导致字体回退测试的失败。 要安装Meiryo字体：\n\n 1. 按下Windows key并搜索 管理可选功能。\n 2. 单击_添加功能_\n 3. 选择_Japanese Supplemental Fonts_并单击 安装\n\n# Pixel measurements\n\n由于浮点数精度误差，某些依赖于精确像素测量的测试可能无法正常在Hi-DPI屏幕的设备上工作。 为了使这些测试能正常运行，请确保设备的缩放比为100%。\n\n要配置缩放比：\n\n 1. 按下Windows key并搜索_显示设置_.\n 2. 在_Scale and layout_下，确保缩放比为100%。",normalizedContent:"# 测试\n\n我们的目的是保持 electron 代码的高覆盖率。 我们要求所有的pull request不仅要通过所有现有的测试，还要增加新的测试来覆盖变更的代码和新的场景。 我们要尽可能多地覆盖electron应用中的代码路径和用例，以确保我们发布的应用程序都能拥有更少的bug。\n\n这个仓库为 javascript 和 c ++ 提供了linting 规则 - 以及单元和集成测试。 通过 coding-style文档来学习更多的electron's编码风格\n\n\n# 提示\n\n为确保您的javascript符合electron编码风格，请执行npm run lint-js，它将针对electron本身以及单元测试运行standard测试。 如果您正在使用带有插件/插件系统的编辑器，那么可以使用standardjs addons之类的插件在你提交代码前来检查编码规范。\n\n若要用参数运行standard测试，首先执行npm run lint-js -- 然后输入要传递给standard测试的参数。\n\n要确保您的c ++代码符合electron编码风格，请执行npm run lint-cpp，它将会执行cpplint脚本。 我们建议您使用clang-format并准备一个简短的教程。\n\nthere is not a lot of python in this repository, but it too is governed by coding style rules. npm run lint-py will check all python, using pylint to do so.\n\n\n# 单元测试\n\nif you are not using build-tools, ensure that that name you have configured for your local build of electron is one of testing, release, default, debug, or you have set process.env.electron_out_dir. without these set, electron will fail to perform some pre-testing steps.\n\n要运行所有单元测试，请执行 npm run test。 单元测试其实也是一个electron应用！你可以在spec 文件夹中找到它。 请注意，单元测试也有自己的 package.json，因此它的依赖没有在最顶层的package.json中定义。\n\n若要通过匹配模式运行单个测试，可以执行 npm run test -- -g=pattern，把pattern 替换为匹配某个测试的正则表达式。 例：如果想运行ipc测试，你可以执行npm run test -- -g ipc。\n\n\n# 在windows10上测试\n\n# extra steps to run the unit test:\n\n 1. visual studio 2019 must be installed.\n\n 2. node headers have to be compiled for your configuration.\n    \n    ninja -c out\\testing third_party\\electron_node:headers\n    \n    \n    1\n    \n\n 3. the electron.lib has to be copied as node.lib.\n    \n    cd out\\testing\n    mkdir gen\\node_headers\\release\n    copy electron.lib gen\\node_headers\\release\\node.lib\n    \n    \n    1\n    2\n    3\n    \n\n# missing fonts\n\n一些 windows 10 设备上没有默认安装meriryo字体，这会导致字体回退测试的失败。 要安装meiryo字体：\n\n 1. 按下windows key并搜索 管理可选功能。\n 2. 单击_添加功能_\n 3. 选择_japanese supplemental fonts_并单击 安装\n\n# pixel measurements\n\n由于浮点数精度误差，某些依赖于精确像素测量的测试可能无法正常在hi-dpi屏幕的设备上工作。 为了使这些测试能正常运行，请确保设备的缩放比为100%。\n\n要配置缩放比：\n\n 1. 按下windows key并搜索_显示设置_.\n 2. 在_scale and layout_下，确保缩放比为100%。",charsets:{cjk:!0}},{title:"v8-development",frontmatter:{title:"v8-development",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/29df8e/",categories:["《Electron中文文档》","development"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/development/v8-development.html",relativePath:"《Electron中文文档》/development/v8-development.md",key:"v-d9a2ae94",path:"/pages/29df8e/",headersStr:null,content:"# V8 开发\n\n> 学习和使用 v8 引擎的资源集合\n\n * V8 Tracing\n * V8 Profiler - 对分析有用的分析器组合: --prof, --trace-ic, --trace-opt, --trace-deopt, --print-bytecode, --print-opt-code\n * V8 解释器设计\n * 编译器优化\n * V8 GDB 调试\n\n查看 Chromium Development",normalizedContent:"# v8 开发\n\n> 学习和使用 v8 引擎的资源集合\n\n * v8 tracing\n * v8 profiler - 对分析有用的分析器组合: --prof, --trace-ic, --trace-opt, --trace-deopt, --print-bytecode, --print-opt-code\n * v8 解释器设计\n * 编译器优化\n * v8 gdb 调试\n\n查看 chromium development",charsets:{cjk:!0}},{title:"experimental",frontmatter:{title:"experimental",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/9c267a/",categories:["《Electron中文文档》"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/experimental.html",relativePath:"《Electron中文文档》/experimental.md",key:"v-1d2360c9",path:"/pages/9c267a/",headers:[{level:2,title:"Conditions for an API to be tagged as Experimental",slug:"conditions-for-an-api-to-be-tagged-as-experimental",normalizedTitle:"conditions for an api to be tagged as experimental",charIndex:252},{level:2,title:"Process for removing the Experimental tag",slug:"process-for-removing-the-experimental-tag",normalizedTitle:"process for removing the experimental tag",charIndex:499}],headersStr:"Conditions for an API to be tagged as Experimental Process for removing the Experimental tag",content:"# Experimental APIs\n\nSome of Electrons APIs are tagged with _Experimental_ in the documentation. This tag indicates that the API may not be considered stable and the API may be removed or modified more frequently than other APIs with less warning.\n\n\n# Conditions for an API to be tagged as Experimental\n\nAnyone can request an API be tagged as experimental in a feature PR, disagreements on the experimental nature of a feature can be discussed in the API WG if they can't be resolved in the PR.\n\n\n# Process for removing the Experimental tag\n\nOnce an API has been stable and in at least two major stable release lines it can be nominated to have its experimental tag removed. This discussion should happen at an API WG meeting. Things to consider when discussing / nominating:\n\n * The above \"two major stables release lines\" condition must have been met\n * During that time no major bugs / issues should have been caused by the adoption of this feature\n * The API is stable enough and hasn't been heavily impacted by Chromium upgrades\n * Is anyone using the API?\n * Is the API fulfilling the original proposed usecases, does it have any gaps?",normalizedContent:"# experimental apis\n\nsome of electrons apis are tagged with _experimental_ in the documentation. this tag indicates that the api may not be considered stable and the api may be removed or modified more frequently than other apis with less warning.\n\n\n# conditions for an api to be tagged as experimental\n\nanyone can request an api be tagged as experimental in a feature pr, disagreements on the experimental nature of a feature can be discussed in the api wg if they can't be resolved in the pr.\n\n\n# process for removing the experimental tag\n\nonce an api has been stable and in at least two major stable release lines it can be nominated to have its experimental tag removed. this discussion should happen at an api wg meeting. things to consider when discussing / nominating:\n\n * the above \"two major stables release lines\" condition must have been met\n * during that time no major bugs / issues should have been caused by the adoption of this feature\n * the api is stable enough and hasn't been heavily impacted by chromium upgrades\n * is anyone using the api?\n * is the api fulfilling the original proposed usecases, does it have any gaps?",charsets:{}},{title:"faq",frontmatter:{title:"faq",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/7f77c2/",categories:["《Electron中文文档》"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/faq.html",relativePath:"《Electron中文文档》/faq.md",key:"v-164abd37",path:"/pages/7f77c2/",headers:[{level:2,title:"为什么我在安装 Electron 的时候遇到了问题？",slug:"为什么我在安装-electron-的时候遇到了问题",normalizedTitle:"为什么我在安装 electron 的时候遇到了问题？",charIndex:26},{level:2,title:"Electron 会在什么时候升级到最新版本的 Chrome？",slug:"electron-会在什么时候升级到最新版本的-chrome",normalizedTitle:"electron 会在什么时候升级到最新版本的 chrome？",charIndex:302},{level:2,title:"Electron 会在什么时候升级到最新版本的 Node.js？",slug:"electron-会在什么时候升级到最新版本的-node-js",normalizedTitle:"electron 会在什么时候升级到最新版本的 node.js？",charIndex:492},{level:2,title:"如何在两个网页间共享数据？",slug:"如何在两个网页间共享数据",normalizedTitle:"如何在两个网页间共享数据？",charIndex:741},{level:2,title:"几分钟后我应用的 Tray 消失了。",slug:"几分钟后我应用的-tray-消失了。",normalizedTitle:"几分钟后我应用的 tray 消失了。",charIndex:1266},{level:2,title:"我在 Electron 中无法使用 jQuery、RequireJS、Meteor、AngularJS。",slug:"我在-electron-中无法使用-jquery、requirejs、meteor、angularjs。",normalizedTitle:"我在 electron 中无法使用 jquery、requirejs、meteor、angularjs。",charIndex:1758},{level:2,title:"require('electron').xxx 未定义。",slug:"require-electron-xxx-未定义。",normalizedTitle:"require('electron').xxx 未定义。",charIndex:2419},{level:2,title:"文字看起来很模糊，这是什么原因造成的？怎么解决这个问题呢？",slug:"文字看起来很模糊-这是什么原因造成的-怎么解决这个问题呢",normalizedTitle:"文字看起来很模糊，这是什么原因造成的？怎么解决这个问题呢？",charIndex:2697}],headersStr:"为什么我在安装 Electron 的时候遇到了问题？ Electron 会在什么时候升级到最新版本的 Chrome？ Electron 会在什么时候升级到最新版本的 Node.js？ 如何在两个网页间共享数据？ 几分钟后我应用的 Tray 消失了。 我在 Electron 中无法使用 jQuery、RequireJS、Meteor、AngularJS。 require('electron').xxx 未定义。 文字看起来很模糊，这是什么原因造成的？怎么解决这个问题呢？",content:"# Electron 常见问题 (FAQ)\n\n\n# 为什么我在安装 Electron 的时候遇到了问题？\n\n在运行 npm install electron 时，有些用户会偶尔遇到安装问题。\n\n在大多数情况下，这些错误都是由网络问题导致，而不是因为 electron npm 包的问题。 如 ELIFECYCLE、EAI_AGAIN、ECONNRESET 和 ETIMEDOUT 等错误都是此类网络问题的标志。 最佳的解决方法是尝试切换网络，或是稍后再尝试安装。\n\n如果通过 npm 安装失败，您可以尝试直接从 electron/electron/releases 直接下载 Electron。\n\n\n# Electron 会在什么时候升级到最新版本的 Chrome？\n\n通常来说，在稳定版的 Chrome 发布后一到两周内，我们会更新 Electron 内的 Chrome 版本。 这个只是个估计且不能保证，取决于与升级所涉及的工作量。\n\n我们只使用稳定的 Chrome 频道。 如果一个重要的修复在 beta 或 dev 通道中，我们将返回端口。\n\n更多信息，请看安全介绍\n\n\n# Electron 会在什么时候升级到最新版本的 Node.js？\n\n我们通常会在最新版的 Node.js 发布后一个月左右将 Electron 更新到这个版本的 Node.js。 我们通过这种方式来避免新版本的 Node.js 带来的 bug（这种 bug 太常见了）。\n\nNode.js 的新特性通常是由新版本的 V8 带来的。由于 Electron 使用的是 Chrome 浏览器中附带的 V8 引擎，所以 Electron 内往往已经有了部分新版本 Node.js 才有的崭新特性。\n\n\n# 如何在两个网页间共享数据？\n\n在两个网页（渲染进程）间共享数据最简单的方法是使用浏览器中已经实现的 HTML5 API。 其中比较好的方案是 Storage API, localStorage, sessionStorage, and IndexedDB.\n\n或者，您可以使用 Electron 提供的原始版 IPC 。 To share data between the main and renderer processes, you can use the ipcMain and ipcRenderer modules. To communicate directly between web pages, you can send a MessagePort from one to the other, possibly via the main process using ipcRenderer.postMessage(). Subsequent communication over message ports is direct and does not detour through the main process.\n\n\n# 几分钟后我应用的 Tray 消失了。\n\n当用来存储 Tray 的变量被垃圾回收时，就会发生这种情况。\n\n你可以参考以下两篇文章来了解为什么会遇到这个问题：\n\n * 内存管理\n * 变量作用域\n\n如果你只是要一个快速的修复方案，你可以用下面的方式改变变量的作用域，防止这个变量被垃圾回收。\n\nconst { app, Tray } = require('electron')\napp.whenReady().then(() => {\n  const tray = new Tray('/path/to/icon.png')\n  tray.setTitle('hello world')\n})\n\n\n1\n2\n3\n4\n5\n\n\n改为\n\nconst { app, Tray } = require('electron')\nlet tray = null\napp.whenReady().then(() => {\n  tray = new Tray('/path/to/icon.png')\n  tray.setTitle('hello world')\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 我在 Electron 中无法使用 jQuery、RequireJS、Meteor、AngularJS。\n\n因为 Electron 在运行环境中引入了 Node.js，所以在 DOM 中有一些额外的变量，比如 module、exports 和require。 这导致 了许多库不能正常运行，因为它们也需要将同名的变量加入运行环境中。\n\n我们可以通过禁用 Node.js 来解决这个问题，在Electron里用如下的方式：\n\n// 在主进程中.\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({\n  webPreferences: {\n    nodeIntegration: false\n  }\n})\nwin.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n假如你依然需要使用 Node.js 和 Electron 提供的 API，你需要在引入那些库之前将这些变量重命名，比如：\n\n<head>\n<script>\nwindow.nodeRequire = require;\ndelete window.require;\ndelete window.exports;\ndelete window.module;\n<\/script>\n<script type=\"text/javascript\" src=\"jquery.js\"><\/script>\n</head>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# require('electron').xxx 未定义。\n\n在使用 Electron 的提供的模块时，你可能会遇到和以下类似的错误：\n\n> require('electron').webFrame.setZoomFactor(1.0)\nUncaught TypeError: Cannot read property 'setZoomLevel' of undefined\n\n\n1\n2\n\n\n很可能是你在过程中使用了错误的模块。 比如，electron.app 只能在主进程中使用, 然而 electron.webFrame 只能在渲染进程中使用。\n\n\n# 文字看起来很模糊，这是什么原因造成的？怎么解决这个问题呢？\n\n如果 sub-pixel anti-aliasing已被禁用，那么 LCD 屏幕上的字体可能会看起来模糊。 示例：\n\n\n\n子像素反锯齿需要一个包含字体光图的图层的非透明背景。 （详情请参阅这个问题）\n\nTo achieve this goal, set the background in the constructor for BrowserWindow:\n\nconst { BrowserWindow } = require('electron')\nconst win = new BrowserWindow({\n  backgroundColor: '#fff'\n})\n\n\n1\n2\n3\n4\n\n\n效果仅可见于（一些） LCD 屏幕。 Even if you don't see a difference, some of your users may. It is best to always set the background this way, unless you have reasons not to do so.\n\n注意到，仅设置 CSS 背景并不具有预期的效果。",normalizedContent:"# electron 常见问题 (faq)\n\n\n# 为什么我在安装 electron 的时候遇到了问题？\n\n在运行 npm install electron 时，有些用户会偶尔遇到安装问题。\n\n在大多数情况下，这些错误都是由网络问题导致，而不是因为 electron npm 包的问题。 如 elifecycle、eai_again、econnreset 和 etimedout 等错误都是此类网络问题的标志。 最佳的解决方法是尝试切换网络，或是稍后再尝试安装。\n\n如果通过 npm 安装失败，您可以尝试直接从 electron/electron/releases 直接下载 electron。\n\n\n# electron 会在什么时候升级到最新版本的 chrome？\n\n通常来说，在稳定版的 chrome 发布后一到两周内，我们会更新 electron 内的 chrome 版本。 这个只是个估计且不能保证，取决于与升级所涉及的工作量。\n\n我们只使用稳定的 chrome 频道。 如果一个重要的修复在 beta 或 dev 通道中，我们将返回端口。\n\n更多信息，请看安全介绍\n\n\n# electron 会在什么时候升级到最新版本的 node.js？\n\n我们通常会在最新版的 node.js 发布后一个月左右将 electron 更新到这个版本的 node.js。 我们通过这种方式来避免新版本的 node.js 带来的 bug（这种 bug 太常见了）。\n\nnode.js 的新特性通常是由新版本的 v8 带来的。由于 electron 使用的是 chrome 浏览器中附带的 v8 引擎，所以 electron 内往往已经有了部分新版本 node.js 才有的崭新特性。\n\n\n# 如何在两个网页间共享数据？\n\n在两个网页（渲染进程）间共享数据最简单的方法是使用浏览器中已经实现的 html5 api。 其中比较好的方案是 storage api, localstorage, sessionstorage, and indexeddb.\n\n或者，您可以使用 electron 提供的原始版 ipc 。 to share data between the main and renderer processes, you can use the ipcmain and ipcrenderer modules. to communicate directly between web pages, you can send a messageport from one to the other, possibly via the main process using ipcrenderer.postmessage(). subsequent communication over message ports is direct and does not detour through the main process.\n\n\n# 几分钟后我应用的 tray 消失了。\n\n当用来存储 tray 的变量被垃圾回收时，就会发生这种情况。\n\n你可以参考以下两篇文章来了解为什么会遇到这个问题：\n\n * 内存管理\n * 变量作用域\n\n如果你只是要一个快速的修复方案，你可以用下面的方式改变变量的作用域，防止这个变量被垃圾回收。\n\nconst { app, tray } = require('electron')\napp.whenready().then(() => {\n  const tray = new tray('/path/to/icon.png')\n  tray.settitle('hello world')\n})\n\n\n1\n2\n3\n4\n5\n\n\n改为\n\nconst { app, tray } = require('electron')\nlet tray = null\napp.whenready().then(() => {\n  tray = new tray('/path/to/icon.png')\n  tray.settitle('hello world')\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 我在 electron 中无法使用 jquery、requirejs、meteor、angularjs。\n\n因为 electron 在运行环境中引入了 node.js，所以在 dom 中有一些额外的变量，比如 module、exports 和require。 这导致 了许多库不能正常运行，因为它们也需要将同名的变量加入运行环境中。\n\n我们可以通过禁用 node.js 来解决这个问题，在electron里用如下的方式：\n\n// 在主进程中.\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({\n  webpreferences: {\n    nodeintegration: false\n  }\n})\nwin.show()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n假如你依然需要使用 node.js 和 electron 提供的 api，你需要在引入那些库之前将这些变量重命名，比如：\n\n<head>\n<script>\nwindow.noderequire = require;\ndelete window.require;\ndelete window.exports;\ndelete window.module;\n<\/script>\n<script type=\"text/javascript\" src=\"jquery.js\"><\/script>\n</head>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# require('electron').xxx 未定义。\n\n在使用 electron 的提供的模块时，你可能会遇到和以下类似的错误：\n\n> require('electron').webframe.setzoomfactor(1.0)\nuncaught typeerror: cannot read property 'setzoomlevel' of undefined\n\n\n1\n2\n\n\n很可能是你在过程中使用了错误的模块。 比如，electron.app 只能在主进程中使用, 然而 electron.webframe 只能在渲染进程中使用。\n\n\n# 文字看起来很模糊，这是什么原因造成的？怎么解决这个问题呢？\n\n如果 sub-pixel anti-aliasing已被禁用，那么 lcd 屏幕上的字体可能会看起来模糊。 示例：\n\n\n\n子像素反锯齿需要一个包含字体光图的图层的非透明背景。 （详情请参阅这个问题）\n\nto achieve this goal, set the background in the constructor for browserwindow:\n\nconst { browserwindow } = require('electron')\nconst win = new browserwindow({\n  backgroundcolor: '#fff'\n})\n\n\n1\n2\n3\n4\n\n\n效果仅可见于（一些） lcd 屏幕。 even if you don't see a difference, some of your users may. it is best to always set the background this way, unless you have reasons not to do so.\n\n注意到，仅设置 css 背景并不具有预期的效果。",charsets:{cjk:!0}},{title:"glossary",frontmatter:{title:"glossary",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/d72bbc/",categories:["《Electron中文文档》"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/glossary.html",relativePath:"《Electron中文文档》/glossary.md",key:"v-a0419dee",path:"/pages/d72bbc/",headers:[{level:3,title:"ASAR",slug:"asar",normalizedTitle:"asar",charIndex:45},{level:3,title:"code signing",slug:"code-signing",normalizedTitle:"code signing",charIndex:370},{level:3,title:"context isolation",slug:"context-isolation",normalizedTitle:"context isolation",charIndex:769},{level:3,title:"CRT",slug:"crt",normalizedTitle:"crt",charIndex:1199},{level:3,title:"DMG",slug:"dmg",normalizedTitle:"dmg",charIndex:1390},{level:3,title:"IME",slug:"ime",normalizedTitle:"ime",charIndex:1459},{level:3,title:"IDL",slug:"idl",normalizedTitle:"idl",charIndex:1534},{level:3,title:"IPC",slug:"ipc",normalizedTitle:"ipc",charIndex:1707},{level:3,title:"main process",slug:"main-process",normalizedTitle:"main process",charIndex:1853},{level:3,title:"MAS",slug:"mas",normalizedTitle:"mas",charIndex:2204},{level:3,title:"Mojo",slug:"mojo",normalizedTitle:"mojo",charIndex:2291},{level:3,title:"MSI",slug:"msi",normalizedTitle:"msi",charIndex:2591},{level:3,title:"native modules",slug:"native-modules",normalizedTitle:"native modules",charIndex:2803},{level:3,title:"notarization",slug:"notarization",normalizedTitle:"notarization",charIndex:3152},{level:3,title:"OSR",slug:"osr",normalizedTitle:"osr",charIndex:3368},{level:3,title:"preload script",slug:"preload-script",normalizedTitle:"preload script",charIndex:863},{level:3,title:"process",slug:"process",normalizedTitle:"process",charIndex:402},{level:3,title:"renderer process",slug:"renderer-process",normalizedTitle:"renderer process",charIndex:954},{level:3,title:"sandbox",slug:"sandbox",normalizedTitle:"sandbox",charIndex:4232},{level:3,title:"Squirrel",slug:"squirrel",normalizedTitle:"squirrel",charIndex:4455},{level:3,title:"userland",slug:"userland",normalizedTitle:"userland",charIndex:4556},{level:3,title:"V8",slug:"v8",normalizedTitle:"v8",charIndex:3037},{level:3,title:"webview",slug:"webview",normalizedTitle:"webview",charIndex:5136}],headersStr:"ASAR code signing context isolation CRT DMG IME IDL IPC main process MAS Mojo MSI native modules notarization OSR preload script process renderer process sandbox Squirrel userland V8 webview",content:'# 词汇表\n\n这篇文档解释了一些经常在 Electron 开发中使用的专业术语。\n\n\n# ASAR\n\nASAR 表示 Atom Shell Archive Format。 一个 asar 档案就是一个简单的 tar 文件 - 比如将那些有关联的文件放至一个单独的文件格式中。 Electron 能够任意读取其中的文件并且不需要解压整个文件。\n\nThe ASAR format was created primarily to improve performance on Windows when reading large quantities of small files (e.g. when loading your app\'s JavaScript dependency tree from node_modules).\n\n\n# code signing\n\nCode signing is a process where an app developer digitally signs their code to ensure that it hasn\'t been tampered with after packaging. Both Windows and macOS implement their own version of code signing. As a desktop app developer, it\'s important that you sign your code if you plan on distributing it to the general public.\n\nFor more information, read the Code Signing tutorial.\n\n\n# context isolation\n\nContext isolation is a security measure in Electron that ensures that your preload script cannot leak privileged Electron or Node.js APIs to the web contents in your renderer process. With context isolation enabled, the only way to expose APIs from your preload script is through the contextBridge API.\n\nFor more information, read the Context Isolation tutorial.\n\nSee also: preload script, renderer process\n\n\n# CRT\n\nThe C Runtime Library (CRT) is the part of the C++ Standard Library that incorporates the ISO C99 standard library. 实现了 CRT 的 Visual c++ 库支持本机代码开发, 以及混合的本机和托管代码, 以及用于. NET 开发的纯托管代码。\n\n\n# DMG\n\n是指在 macOS 上使用的苹果系统的磁盘镜像打包格式。 DMG 文件通常被用来分发应用的 "installers"。\n\n\n# IME\n\n输入法编辑器. 是一个允许用户输入在键盘上找不到的字符和符号的程序。 例如，使用户可以用拉丁语键盘输入中文，日文，韩文和印度文字。\n\n\n# IDL\n\n接口描述语言（Interface Description Language）。 Write function signatures and data types in a format that can be used to generate interfaces in Java, C++, JavaScript, etc.\n\n\n# IPC\n\nIPC stands for inter-process communication. Electron uses IPC to send serialized JSON messages between the main and renderer processes.\n\n参见： main process, renderer process\n\n\n# main process\n\n主进程，通常是指 main.js 文件，是每个 Electron 应用的入口文件。 控制着整个应用的生命周期，从打开到关闭。 它也管理着系统原生元素比如菜单，菜单栏，Dock 栏，托盘等。 主进程负责创建 APP 的每一个渲染进程。 包含了全功能的 Node API。\n\n应用的主进程定义在 package.json 中的 main 属性中。 当您运行 electron . 时 Electron 便会知道需要运行哪个文件。\n\n在Chromium中，此进程被称为“浏览器进程”。 Electron 中这样称呼是为了不与渲染进程混淆。\n\n参见: process, renderer process\n\n\n# MAS\n\n这是苹果 Mac App Store 的缩写。 有关如何提交您的应用到 MAS 上，请参见 Mac App Store Submission Guide。\n\n\n# Mojo\n\nAn IPC system for communicating intra- or inter-process, and that\'s important because Chrome is keen on being able to split its work into separate processes or not, depending on memory pressures etc.\n\n可参考https://chromium.googlesource.com/chromium/src/+/master/mojo/README.md\n\nSee also: IPC\n\n\n# MSI\n\nOn Windows, MSI packages are used by the Windows Installer (also known as Microsoft Installer) service to install and configure applications.\n\nMore information can be found in Microsoft\'s documentation.\n\n\n# native modules\n\n原生模块（在 Node.js 中也称为 addon）是用C/C++写成的，可以在 Node.js 中加载，或通过 require() 函数在 Electron 中引入的模块。这些模块用起来与普通的Node.js模块并无二致。 它主要用于桥接在 JavaScript 上运行 Node.js 和 C/C++ 的库。\n\nElectron 支持原生的 Node 模块，但是 Electron 非常可能使用了和你系统中安装的Node所不一样的 V8 版本，所以在构建原生模块的时候你需要手动指定 Electron 所使用的头文件的位置。\n\nFor more information, read the [Native Node Modules] tutorial.\n\n\n# notarization\n\nNotarization is a macOS-specific process where a developer can send a code-signed app to Apple servers to get verified for malicious components through an automated service.\n\nSee also: code signing\n\n\n# OSR\n\nOSR (offscreen rendering) can be used for loading heavy page in background and then displaying it after (it will be much faster). 这使您不必将页面显示到屏幕上也可以渲染它。\n\nFor more information, read the Offscreen Rendering[osr] tutorial.\n\n\n# preload script\n\nPreload scripts contain code that executes in a renderer process before its web contents begin loading. These scripts run within the renderer context, but are granted more privileges by having access to Node.js APIs.\n\nSee also: renderer process, context isolation\n\n\n# process\n\n一个进程是计算机程序执行中的一个实例。 Electron 应用同时使用了main 进程和一个或者多个 renderer 进程来运行多个程序。\n\n在 Node.js 和 Electron 里面，每个运行的进程包含一个 process 对象。 这个对象作为一个全局的提供当前进程的相关信息和操作方法。 作为一个全局变量，它在应用内能够不用 require() 来随时取到。\n\n参见： main process, renderer process\n\n\n# renderer process\n\n渲染进程是应用中的浏览器窗口。 与主进程不同，渲染进程可能同时存在多个，同时，每一个渲染进程都运行与独立的进程中。 渲染进程也可以隐藏。\n\n参见： process, main process\n\n\n# sandbox\n\nThe sandbox is a security feature inherited from Chromium that restricts your renderer processes to a limited set of permissions.\n\nFor more information, read the Process Sandboxing tutorial.\n\nSee also: process\n\n\n# Squirrel\n\nSquirrel 是一个开源框架, 能够让 Electron 应用程序自动更新到最新发布的版本. 详见 autoUpdater API 了解如何开始使用 Squirrel。\n\n\n# userland\n\n"userland" 或者 "userspace" 术语起源于 Unix 社区，当程序运行在操作系统内核之外。 最近这个术语被推广到 Node 和 npm 社区，用于区分 "Node 内核"功能与在 npm 上注册的"用户" 们所发布的包的功能。\n\n就像 Node ，Electron 致力于使用较小的API集来支持开发跨平台应用所必需的原语。 这个设计理念让 Electron 能够保持灵活而不被过多的规定有关于如何应该被使用。 Userland 让用户能够创造和分享一些工具来提额外的功能在这个能够使用的 "core（核心）"之上。\n\n\n# V8\n\nV8 是谷歌开源的 JavaScript 引擎。 它是用 C++ 编写的，用于谷歌的 Chrome 浏览器。 V8 可以单独运行，也可以嵌入任何 C++ 应用程序。\n\nElectron将 V8 作为Chromium的一个部分进行构建，然后在构建Node时也指向那个 V8\n\nV8 的版本号与谷歌 Chrome 的版本号对应。 Chrome 59 的 V8 版本是 5.9，Chrome 58 的V8 版本是 5.8，以此类推。\n\n * v8.dev\n * nodejs.org/api/v8.html\n * docs/development/v8-development.md\n\n\n# webview\n\nwebview 标签页用于在您的 Electron 应用中嵌入“访客”内容（例如外部网页）。 其功能与 iframe 类似，但 webview 运行于独立的进程中。 作为页面它拥有不一样的权限并且所有的嵌入的内容和你应用之间的交互都将是异步的。 这将保证你的应用对于嵌入的内容的安全性。',normalizedContent:'# 词汇表\n\n这篇文档解释了一些经常在 electron 开发中使用的专业术语。\n\n\n# asar\n\nasar 表示 atom shell archive format。 一个 asar 档案就是一个简单的 tar 文件 - 比如将那些有关联的文件放至一个单独的文件格式中。 electron 能够任意读取其中的文件并且不需要解压整个文件。\n\nthe asar format was created primarily to improve performance on windows when reading large quantities of small files (e.g. when loading your app\'s javascript dependency tree from node_modules).\n\n\n# code signing\n\ncode signing is a process where an app developer digitally signs their code to ensure that it hasn\'t been tampered with after packaging. both windows and macos implement their own version of code signing. as a desktop app developer, it\'s important that you sign your code if you plan on distributing it to the general public.\n\nfor more information, read the code signing tutorial.\n\n\n# context isolation\n\ncontext isolation is a security measure in electron that ensures that your preload script cannot leak privileged electron or node.js apis to the web contents in your renderer process. with context isolation enabled, the only way to expose apis from your preload script is through the contextbridge api.\n\nfor more information, read the context isolation tutorial.\n\nsee also: preload script, renderer process\n\n\n# crt\n\nthe c runtime library (crt) is the part of the c++ standard library that incorporates the iso c99 standard library. 实现了 crt 的 visual c++ 库支持本机代码开发, 以及混合的本机和托管代码, 以及用于. net 开发的纯托管代码。\n\n\n# dmg\n\n是指在 macos 上使用的苹果系统的磁盘镜像打包格式。 dmg 文件通常被用来分发应用的 "installers"。\n\n\n# ime\n\n输入法编辑器. 是一个允许用户输入在键盘上找不到的字符和符号的程序。 例如，使用户可以用拉丁语键盘输入中文，日文，韩文和印度文字。\n\n\n# idl\n\n接口描述语言（interface description language）。 write function signatures and data types in a format that can be used to generate interfaces in java, c++, javascript, etc.\n\n\n# ipc\n\nipc stands for inter-process communication. electron uses ipc to send serialized json messages between the main and renderer processes.\n\n参见： main process, renderer process\n\n\n# main process\n\n主进程，通常是指 main.js 文件，是每个 electron 应用的入口文件。 控制着整个应用的生命周期，从打开到关闭。 它也管理着系统原生元素比如菜单，菜单栏，dock 栏，托盘等。 主进程负责创建 app 的每一个渲染进程。 包含了全功能的 node api。\n\n应用的主进程定义在 package.json 中的 main 属性中。 当您运行 electron . 时 electron 便会知道需要运行哪个文件。\n\n在chromium中，此进程被称为“浏览器进程”。 electron 中这样称呼是为了不与渲染进程混淆。\n\n参见: process, renderer process\n\n\n# mas\n\n这是苹果 mac app store 的缩写。 有关如何提交您的应用到 mas 上，请参见 mac app store submission guide。\n\n\n# mojo\n\nan ipc system for communicating intra- or inter-process, and that\'s important because chrome is keen on being able to split its work into separate processes or not, depending on memory pressures etc.\n\n可参考https://chromium.googlesource.com/chromium/src/+/master/mojo/readme.md\n\nsee also: ipc\n\n\n# msi\n\non windows, msi packages are used by the windows installer (also known as microsoft installer) service to install and configure applications.\n\nmore information can be found in microsoft\'s documentation.\n\n\n# native modules\n\n原生模块（在 node.js 中也称为 addon）是用c/c++写成的，可以在 node.js 中加载，或通过 require() 函数在 electron 中引入的模块。这些模块用起来与普通的node.js模块并无二致。 它主要用于桥接在 javascript 上运行 node.js 和 c/c++ 的库。\n\nelectron 支持原生的 node 模块，但是 electron 非常可能使用了和你系统中安装的node所不一样的 v8 版本，所以在构建原生模块的时候你需要手动指定 electron 所使用的头文件的位置。\n\nfor more information, read the [native node modules] tutorial.\n\n\n# notarization\n\nnotarization is a macos-specific process where a developer can send a code-signed app to apple servers to get verified for malicious components through an automated service.\n\nsee also: code signing\n\n\n# osr\n\nosr (offscreen rendering) can be used for loading heavy page in background and then displaying it after (it will be much faster). 这使您不必将页面显示到屏幕上也可以渲染它。\n\nfor more information, read the offscreen rendering[osr] tutorial.\n\n\n# preload script\n\npreload scripts contain code that executes in a renderer process before its web contents begin loading. these scripts run within the renderer context, but are granted more privileges by having access to node.js apis.\n\nsee also: renderer process, context isolation\n\n\n# process\n\n一个进程是计算机程序执行中的一个实例。 electron 应用同时使用了main 进程和一个或者多个 renderer 进程来运行多个程序。\n\n在 node.js 和 electron 里面，每个运行的进程包含一个 process 对象。 这个对象作为一个全局的提供当前进程的相关信息和操作方法。 作为一个全局变量，它在应用内能够不用 require() 来随时取到。\n\n参见： main process, renderer process\n\n\n# renderer process\n\n渲染进程是应用中的浏览器窗口。 与主进程不同，渲染进程可能同时存在多个，同时，每一个渲染进程都运行与独立的进程中。 渲染进程也可以隐藏。\n\n参见： process, main process\n\n\n# sandbox\n\nthe sandbox is a security feature inherited from chromium that restricts your renderer processes to a limited set of permissions.\n\nfor more information, read the process sandboxing tutorial.\n\nsee also: process\n\n\n# squirrel\n\nsquirrel 是一个开源框架, 能够让 electron 应用程序自动更新到最新发布的版本. 详见 autoupdater api 了解如何开始使用 squirrel。\n\n\n# userland\n\n"userland" 或者 "userspace" 术语起源于 unix 社区，当程序运行在操作系统内核之外。 最近这个术语被推广到 node 和 npm 社区，用于区分 "node 内核"功能与在 npm 上注册的"用户" 们所发布的包的功能。\n\n就像 node ，electron 致力于使用较小的api集来支持开发跨平台应用所必需的原语。 这个设计理念让 electron 能够保持灵活而不被过多的规定有关于如何应该被使用。 userland 让用户能够创造和分享一些工具来提额外的功能在这个能够使用的 "core（核心）"之上。\n\n\n# v8\n\nv8 是谷歌开源的 javascript 引擎。 它是用 c++ 编写的，用于谷歌的 chrome 浏览器。 v8 可以单独运行，也可以嵌入任何 c++ 应用程序。\n\nelectron将 v8 作为chromium的一个部分进行构建，然后在构建node时也指向那个 v8\n\nv8 的版本号与谷歌 chrome 的版本号对应。 chrome 59 的 v8 版本是 5.9，chrome 58 的v8 版本是 5.8，以此类推。\n\n * v8.dev\n * nodejs.org/api/v8.html\n * docs/development/v8-development.md\n\n\n# webview\n\nwebview 标签页用于在您的 electron 应用中嵌入“访客”内容（例如外部网页）。 其功能与 iframe 类似，但 webview 运行于独立的进程中。 作为页面它拥有不一样的权限并且所有的嵌入的内容和你应用之间的交互都将是异步的。 这将保证你的应用对于嵌入的内容的安全性。',charsets:{cjk:!0}},{title:"styleguide",frontmatter:{title:"styleguide",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/22c8c5/",categories:["《Electron中文文档》"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/styleguide.html",relativePath:"《Electron中文文档》/styleguide.md",key:"v-777d0d29",path:"/pages/22c8c5/",headers:[{level:2,title:"标题",slug:"标题",normalizedTitle:"标题",charIndex:47},{level:2,title:"Markdown 规则",slug:"markdown-规则",normalizedTitle:"markdown 规则",charIndex:375},{level:2,title:"用词选择",slug:"用词选择",normalizedTitle:"用词选择",charIndex:674},{level:2,title:"API 参考",slug:"api-参考",normalizedTitle:"api 参考",charIndex:352},{level:3,title:"标题和描述",slug:"标题和描述",normalizedTitle:"标题和描述",charIndex:784},{level:3,title:"模块方法和事件",slug:"模块方法和事件",normalizedTitle:"模块方法和事件",charIndex:1035},{level:3,title:"类",slug:"类",normalizedTitle:"类",charIndex:1047},{level:3,title:"方法及其参数",slug:"方法及其参数",normalizedTitle:"方法及其参数",charIndex:2119},{level:4,title:"标题级别",slug:"标题级别",normalizedTitle:"标题级别",charIndex:2329},{level:4,title:"函数签名",slug:"函数签名",normalizedTitle:"函数签名",charIndex:2378},{level:4,title:"参数描述",slug:"参数描述",normalizedTitle:"参数描述",charIndex:2553},{level:4,title:"平台特定功能",slug:"平台特定功能",normalizedTitle:"平台特定功能",charIndex:2899},{level:3,title:"事件",slug:"事件",normalizedTitle:"事件",charIndex:1040},{level:3,title:"属性",slug:"属性",normalizedTitle:"属性",charIndex:1535},{level:2,title:"文档翻译",slug:"文档翻译",normalizedTitle:"文档翻译",charIndex:3310}],headersStr:"标题 Markdown 规则 用词选择 API 参考 标题和描述 模块方法和事件 类 方法及其参数 标题级别 函数签名 参数描述 平台特定功能 事件 属性 文档翻译",content:"# Electron 文档风格指南\n\n这里是一些编写 Electron 文档的指南。\n\n\n# 标题\n\n * 每个页面顶部必须有一个 # 级标题。\n * 同一页面中的各章节必须有 ## 级标题。\n * 各小节需要根据其嵌套层级在头部增加 # 的数量。\n * 页面标题必须按照 APA 标题大小写。\n * 所有章节都必须遵循 APA语句大小写。\n\n举一个Quick Start的例子:\n\n# 快速入门\n\n...\n\n## 主进程\n\n## 渲染进程\n\n...\n\n## 运行应用程序\n\n...\n\n### 作为分发版本运行\n\n...\n\n### 手动下载二进制格式的 Electron\n\n...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n对于 API 参考, 可以例外于这些规则.\n\n\n# Markdown 规则\n\n这个仓库使用 markdownline 软件包来实行前后一致的 Markdown 风格。 有关确切规则，请参阅根文件夹中的 .markdownlint.json 文件。\n\n有几个样式准则不在 linter 规则范围之内：\n\n * 在代码块中使用bash而不是cmd（由于语法高亮问题）.\n * 为了可读性，如果可能，保持一行长度在80到100个字符之间。\n * 列表嵌套不超出2级 (由于 Markdown 渲染问题).\n * 所有的js 和javascript代码块均被标记为 standard-markdown.\n * 对于无序列表，请使用星号而不是破折号.\n\n\n# 用词选择\n\n * 在描述结果时，使用 “will” 而不是 “would”。\n * 首选 \"in the ___ process\" 而不是 \"on\".\n\n\n# API 参考\n\n以下规则仅适用于 API 的文档。\n\n\n# 标题和描述\n\n每个模块的API文档必须使用由 require('electron') 返回的实际对象名称作为标题。(例如BrowserWindow``autoUpdater 和 session)。\n\n直接在页面标题下方，添加一行模块描述作为Markdown 引用(以 > 开头)。\n\n以使用 session 模块作为例子:\n\n# session\n\n> Manage browser sessions, cookies, cache, proxy settings, etc.\n\n\n1\n2\n3\n\n\n\n# 模块方法和事件\n\n对于非类的模块，它们的方法和事件必须在 ## Methods 和 ## Events章节中列出\n\n举一个 autoUpdater 的例子:\n\n# autoUpdater\n\n## Events\n\n### Event: 'error'\n\n## Methods\n\n### `autoUpdater.setFeedURL(url[, requestHeaders])`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 类\n\n * API 类或作为模块一部分的类必须在 ## Class: TheClassName 章节中列出.\n * 一个页面可以有多个类.\n * 构造函数必须用 ### 级标题列出。\n * 静态方法 必须在 ### Static Methods 章节中列出。\n * 实例方法 必须在 ### Instance Methods 章节中列出。\n * 所有具有返回值的方法都必须以“Returns [TYPE] - [Return description]”开始\n   * 如果该方法返回一个 Object，其结构可以使用冒号后跟换行符的方式，然后使用与函数参数相同样式的无序属性列表。\n * 实例事件必须在 ### Instance Events 章节中列出.\n * 实例属性必须在 ### Instance Properties 章节中列出。\n   * 实例属性必须以 \"[属性类型] ...\" 开头。\n\n这里用 Session 和 Cookies 类作为例子:\n\n# session\n\n## Methods\n\n### session.fromPartition(partition)\n\n## Static Properties\n\n### session.defaultSession\n\n## Class: Session\n\n### Instance Events\n\n#### Event: 'will-download'\n\n### Instance Methods\n\n#### `ses.getCacheSize()`\n\n### Instance Properties\n\n#### `ses.cookies`\n\n## Class: Cookies\n\n### Instance Methods\n\n#### `cookies.get(filter, callback)`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 方法及其参数\n\n方法章节必须采用以下形式：\n\n### `objectName.methodName(required[, optional]))`\n\n* `required` String - A parameter description.\n* `optional` Integer (optional) - Another parameter description.\n\n...\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 标题级别\n\n标题可以是 ### 级别或 #### 级别，具体取决于该方法是属于模块还是类。\n\n# 函数签名\n\n对于模块， objectName 是模块的名称。 对于类，它必须是类实例的名称，而且不能与模块名称相同。\n\n例如，session 模块下的 Session 类的方法必须使用 ses 作为 objectName 。\n\n可选参数使用方括号 [] 表示，并且多个参数之间以逗号分隔：\n\nrequired[, optional]\n\n\n1\n\n\n# 参数描述\n\n关于每个参数的更详细信息将在方法下面的无序列表中列出。 参数类型是由 JavaScript 原始类型(例如: String, Promise, 或 Object)；自定义 API 结构，像Electron的 Cookie；或通配符 any 注明。\n\n如果参数是 Array 类型，请使用带有数组内值类型的 [] 缩写 (例如，any[] 或 String[])。\n\n如果参数类型为 Promise, 则将promise resolve时的类型作为参数(例如 Promise<void> 或 Promise<String>)。\n\n如果参数可以是多种类型，则将类型通过 |分开。\n\nFunction 类型参数的描述应该清楚描述它是如何被调用的，并列出将被传递给它的参数的类型.\n\n# 平台特定功能\n\n如果参数或方法对某些平台是唯一的，那么这些平台将使用数据类型后面的空格分隔的斜体列表来表示。 值可以是 macOS，Windows 或 Linux.\n\n* `animate` Boolean (optional) _macOS_ _Windows_ - 进行动画处理的事情.\n\n\n1\n\n\n\n# 事件\n\n事件章节必须采用以下形式:\n\n### Event: 'wake-up'\n\nReturns:\n\n* `time` String\n\n...\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n标题可以是 ### 级别或 #### 级别，具体取决于该事件是属于模块还是类。\n\n事件的参数遵循与方法相同的规则.\n\n\n# 属性\n\n属性章节必须采用以下形式:\n\n### session.defaultSession\n\n...\n\n\n1\n2\n3\n\n\n标题可以是 ### 级别或 #### 级别，具体取决于该属性属于模块还是类。\n\n\n# 文档翻译\n\n请参见 electron/i18n",normalizedContent:"# electron 文档风格指南\n\n这里是一些编写 electron 文档的指南。\n\n\n# 标题\n\n * 每个页面顶部必须有一个 # 级标题。\n * 同一页面中的各章节必须有 ## 级标题。\n * 各小节需要根据其嵌套层级在头部增加 # 的数量。\n * 页面标题必须按照 apa 标题大小写。\n * 所有章节都必须遵循 apa语句大小写。\n\n举一个quick start的例子:\n\n# 快速入门\n\n...\n\n## 主进程\n\n## 渲染进程\n\n...\n\n## 运行应用程序\n\n...\n\n### 作为分发版本运行\n\n...\n\n### 手动下载二进制格式的 electron\n\n...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n对于 api 参考, 可以例外于这些规则.\n\n\n# markdown 规则\n\n这个仓库使用 markdownline 软件包来实行前后一致的 markdown 风格。 有关确切规则，请参阅根文件夹中的 .markdownlint.json 文件。\n\n有几个样式准则不在 linter 规则范围之内：\n\n * 在代码块中使用bash而不是cmd（由于语法高亮问题）.\n * 为了可读性，如果可能，保持一行长度在80到100个字符之间。\n * 列表嵌套不超出2级 (由于 markdown 渲染问题).\n * 所有的js 和javascript代码块均被标记为 standard-markdown.\n * 对于无序列表，请使用星号而不是破折号.\n\n\n# 用词选择\n\n * 在描述结果时，使用 “will” 而不是 “would”。\n * 首选 \"in the ___ process\" 而不是 \"on\".\n\n\n# api 参考\n\n以下规则仅适用于 api 的文档。\n\n\n# 标题和描述\n\n每个模块的api文档必须使用由 require('electron') 返回的实际对象名称作为标题。(例如browserwindow``autoupdater 和 session)。\n\n直接在页面标题下方，添加一行模块描述作为markdown 引用(以 > 开头)。\n\n以使用 session 模块作为例子:\n\n# session\n\n> manage browser sessions, cookies, cache, proxy settings, etc.\n\n\n1\n2\n3\n\n\n\n# 模块方法和事件\n\n对于非类的模块，它们的方法和事件必须在 ## methods 和 ## events章节中列出\n\n举一个 autoupdater 的例子:\n\n# autoupdater\n\n## events\n\n### event: 'error'\n\n## methods\n\n### `autoupdater.setfeedurl(url[, requestheaders])`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 类\n\n * api 类或作为模块一部分的类必须在 ## class: theclassname 章节中列出.\n * 一个页面可以有多个类.\n * 构造函数必须用 ### 级标题列出。\n * 静态方法 必须在 ### static methods 章节中列出。\n * 实例方法 必须在 ### instance methods 章节中列出。\n * 所有具有返回值的方法都必须以“returns [type] - [return description]”开始\n   * 如果该方法返回一个 object，其结构可以使用冒号后跟换行符的方式，然后使用与函数参数相同样式的无序属性列表。\n * 实例事件必须在 ### instance events 章节中列出.\n * 实例属性必须在 ### instance properties 章节中列出。\n   * 实例属性必须以 \"[属性类型] ...\" 开头。\n\n这里用 session 和 cookies 类作为例子:\n\n# session\n\n## methods\n\n### session.frompartition(partition)\n\n## static properties\n\n### session.defaultsession\n\n## class: session\n\n### instance events\n\n#### event: 'will-download'\n\n### instance methods\n\n#### `ses.getcachesize()`\n\n### instance properties\n\n#### `ses.cookies`\n\n## class: cookies\n\n### instance methods\n\n#### `cookies.get(filter, callback)`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 方法及其参数\n\n方法章节必须采用以下形式：\n\n### `objectname.methodname(required[, optional]))`\n\n* `required` string - a parameter description.\n* `optional` integer (optional) - another parameter description.\n\n...\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 标题级别\n\n标题可以是 ### 级别或 #### 级别，具体取决于该方法是属于模块还是类。\n\n# 函数签名\n\n对于模块， objectname 是模块的名称。 对于类，它必须是类实例的名称，而且不能与模块名称相同。\n\n例如，session 模块下的 session 类的方法必须使用 ses 作为 objectname 。\n\n可选参数使用方括号 [] 表示，并且多个参数之间以逗号分隔：\n\nrequired[, optional]\n\n\n1\n\n\n# 参数描述\n\n关于每个参数的更详细信息将在方法下面的无序列表中列出。 参数类型是由 javascript 原始类型(例如: string, promise, 或 object)；自定义 api 结构，像electron的 cookie；或通配符 any 注明。\n\n如果参数是 array 类型，请使用带有数组内值类型的 [] 缩写 (例如，any[] 或 string[])。\n\n如果参数类型为 promise, 则将promise resolve时的类型作为参数(例如 promise<void> 或 promise<string>)。\n\n如果参数可以是多种类型，则将类型通过 |分开。\n\nfunction 类型参数的描述应该清楚描述它是如何被调用的，并列出将被传递给它的参数的类型.\n\n# 平台特定功能\n\n如果参数或方法对某些平台是唯一的，那么这些平台将使用数据类型后面的空格分隔的斜体列表来表示。 值可以是 macos，windows 或 linux.\n\n* `animate` boolean (optional) _macos_ _windows_ - 进行动画处理的事情.\n\n\n1\n\n\n\n# 事件\n\n事件章节必须采用以下形式:\n\n### event: 'wake-up'\n\nreturns:\n\n* `time` string\n\n...\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n标题可以是 ### 级别或 #### 级别，具体取决于该事件是属于模块还是类。\n\n事件的参数遵循与方法相同的规则.\n\n\n# 属性\n\n属性章节必须采用以下形式:\n\n### session.defaultsession\n\n...\n\n\n1\n2\n3\n\n\n标题可以是 ### 级别或 #### 级别，具体取决于该属性属于模块还是类。\n\n\n# 文档翻译\n\n请参见 electron/i18n",charsets:{cjk:!0}},{title:"《Electron中文文档》官方指南",frontmatter:{title:"《Electron中文文档》官方指南",date:"2022-04-11T14:50:29.000Z",permalink:"/pages/72d32c/",categories:["《Electron中文文档》"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/",relativePath:"《Electron中文文档》/index.md",key:"v-652a4738",path:"/pages/72d32c/",headers:[{level:2,title:"常见问题 (FAQ)",slug:"常见问题-faq",normalizedTitle:"常见问题 (faq)",charIndex:194},{level:2,title:"指南和教程",slug:"指南和教程",normalizedTitle:"指南和教程",charIndex:258},{level:3,title:"入门指南",slug:"入门指南",normalizedTitle:"入门指南",charIndex:268},{level:3,title:"Learning the basics",slug:"learning-the-basics",normalizedTitle:"learning the basics",charIndex:300},{level:3,title:"Advanced steps",slug:"advanced-steps",normalizedTitle:"advanced steps",charIndex:666},{level:2,title:"详细教程",slug:"详细教程",normalizedTitle:"详细教程",charIndex:1119},{level:2,title:"API 参考",slug:"api-参考",normalizedTitle:"api 参考",charIndex:1311},{level:3,title:"自定义 DOM 元素:",slug:"自定义-dom-元素",normalizedTitle:"自定义 dom 元素:",charIndex:1384},{level:3,title:"主进程可用的模块:",slug:"主进程可用的模块",normalizedTitle:"主进程可用的模块:",charIndex:1473},{level:3,title:"渲染进程（网页）可用的模块:",slug:"渲染进程-网页-可用的模块",normalizedTitle:"渲染进程（网页）可用的模块:",charIndex:1864},{level:3,title:"两种进程都可用的模块:",slug:"两种进程都可用的模块",normalizedTitle:"两种进程都可用的模块:",charIndex:1928},{level:2,title:"开发",slug:"开发",normalizedTitle:"开发",charIndex:66}],headersStr:"常见问题 (FAQ) 指南和教程 入门指南 Learning the basics Advanced steps 详细教程 API 参考 自定义 DOM 元素: 主进程可用的模块: 渲染进程（网页）可用的模块: 两种进程都可用的模块: 开发",content:"# 官方指南\n\n请确认你所使用的文档与你的 Electron 版本匹配。 版本号应该是页面URL的一部分。 如果没有，你可能正在使用开发版本分支里的文档，这个分支可能包含了一些与你的 Electron 版本不兼容的 API。 如果想要访问旧版本的文档，你可以浏览标签： 通过在 GitHub 中打开下拉菜单“Switch branches/tags”中选择与你的版本匹配的分支。\n\n\n# 常见问题 (FAQ)\n\n有些问题经常被问到。 在新建问题之前请先查看：\n\n * Electron 常见问题 (FAQ)\n\n\n# 指南和教程\n\n\n# 入门指南\n\n * 简介\n * 快速入门\n * 流程模型\n\n\n# Learning the basics\n\n * 为你的应用添加功能\n   * 通知（Notifications）\n   * 最近的文件\n   * 应用程序进程\n   * 自定义 Dock 菜单\n   * 自定义 Windows 任务栏\n   * 自定义 Linux 桌面动作\n   * 键盘快捷键\n   * 离线/在线 侦测\n   * 针对 macOS 系统 BrowserWindows 的展示文件\n   * 原生文件拖 & 放\n   * 离屏渲染\n   * Dark Mode\n   * 语言\n * 模板和命令行界面\n   * 模板与命令行界面\n   * electron-forge\n   * electron-builder\n   * electron-react-boilerplate\n   * 其它工具和模板\n\n\n# Advanced steps\n\n * 应用架构\n   * 使用原生 Node.js 模块\n   * 性能策略\n   * Security Strategies\n   * 进程沙盒化\n * 辅助功能\n   * Manually Enabling Accessibility Features\n * 测试和调试\n   * 调试主进程\n   * 使用Visual Studio Code调试\n   * 使用 Selenium 和 WebDriver\n   * 使用自动化持续集成系统 (CI) 进行测试 (Travis, Jenkins)\n   * 开发者工具扩展\n   * 使用自定义驱动程序进行自动化测试\n   * 交互式解释器 (REPL)\n * 分发\n   * 支持平台\n   * 代码签名\n   * Mac 应用程序商店\n   * Windows 应用商店\n   * Snapcraft\n * 更新\n   * 部署更新服务器\n   * 在你的应用中实施更新\n   * 应用更新\n * 获得支持\n\n\n# 详细教程\n\n这些独立教程扩展了上面指南中所讨论的主题。\n\n * 安装 Electron\n   * 代理\n   * 自定义镜像和缓存\n   * 故障排查\n * Electron发布 & 开发者反馈\n   * 版本规则\n   * 发布时间线\n * 测试 Widevine CDM\n\n----------------------------------------\n\n * 术语表\n\n\n# API 参考\n\n * 简介\n * 进程对象\n * 支持的命令行开关\n * 环境变量\n * Chrome 扩展支持\n * 重要的API变更\n\n\n# 自定义 DOM 元素:\n\n * File 对象\n * <webview>标签\n * window.open 函数\n * BrowserWindowProProxy 对象\n\n\n# 主进程可用的模块:\n\n * app\n * autoUpdater\n * BrowserView\n * BrowserWindow\n * contentTracing\n * dialog\n * globalShortcut\n * inAppPurchase\n * ipcMain\n * Menu\n * MenuItem\n * MessageChannelMain\n * MessagePortMain\n * net\n * netLog\n * nativeTheme\n * 通知\n * powerMonitor\n * powerSaveBlocker\n * protocol\n * screen\n * session\n * ShareMenu\n * systemPreferences\n * 触控板\n * Tray\n * webContents\n * webFrameMain\n\n\n# 渲染进程（网页）可用的模块:\n\n * contextBridge\n * ipcRenderer\n * webFrame\n\n\n# 两种进程都可用的模块:\n\n * clipboard\n * crashReporter\n * desktopCapturer\n * nativeImage\n * shell\n\n\n# 开发\n\n请查看development/README.md",normalizedContent:"# 官方指南\n\n请确认你所使用的文档与你的 electron 版本匹配。 版本号应该是页面url的一部分。 如果没有，你可能正在使用开发版本分支里的文档，这个分支可能包含了一些与你的 electron 版本不兼容的 api。 如果想要访问旧版本的文档，你可以浏览标签： 通过在 github 中打开下拉菜单“switch branches/tags”中选择与你的版本匹配的分支。\n\n\n# 常见问题 (faq)\n\n有些问题经常被问到。 在新建问题之前请先查看：\n\n * electron 常见问题 (faq)\n\n\n# 指南和教程\n\n\n# 入门指南\n\n * 简介\n * 快速入门\n * 流程模型\n\n\n# learning the basics\n\n * 为你的应用添加功能\n   * 通知（notifications）\n   * 最近的文件\n   * 应用程序进程\n   * 自定义 dock 菜单\n   * 自定义 windows 任务栏\n   * 自定义 linux 桌面动作\n   * 键盘快捷键\n   * 离线/在线 侦测\n   * 针对 macos 系统 browserwindows 的展示文件\n   * 原生文件拖 & 放\n   * 离屏渲染\n   * dark mode\n   * 语言\n * 模板和命令行界面\n   * 模板与命令行界面\n   * electron-forge\n   * electron-builder\n   * electron-react-boilerplate\n   * 其它工具和模板\n\n\n# advanced steps\n\n * 应用架构\n   * 使用原生 node.js 模块\n   * 性能策略\n   * security strategies\n   * 进程沙盒化\n * 辅助功能\n   * manually enabling accessibility features\n * 测试和调试\n   * 调试主进程\n   * 使用visual studio code调试\n   * 使用 selenium 和 webdriver\n   * 使用自动化持续集成系统 (ci) 进行测试 (travis, jenkins)\n   * 开发者工具扩展\n   * 使用自定义驱动程序进行自动化测试\n   * 交互式解释器 (repl)\n * 分发\n   * 支持平台\n   * 代码签名\n   * mac 应用程序商店\n   * windows 应用商店\n   * snapcraft\n * 更新\n   * 部署更新服务器\n   * 在你的应用中实施更新\n   * 应用更新\n * 获得支持\n\n\n# 详细教程\n\n这些独立教程扩展了上面指南中所讨论的主题。\n\n * 安装 electron\n   * 代理\n   * 自定义镜像和缓存\n   * 故障排查\n * electron发布 & 开发者反馈\n   * 版本规则\n   * 发布时间线\n * 测试 widevine cdm\n\n----------------------------------------\n\n * 术语表\n\n\n# api 参考\n\n * 简介\n * 进程对象\n * 支持的命令行开关\n * 环境变量\n * chrome 扩展支持\n * 重要的api变更\n\n\n# 自定义 dom 元素:\n\n * file 对象\n * <webview>标签\n * window.open 函数\n * browserwindowproproxy 对象\n\n\n# 主进程可用的模块:\n\n * app\n * autoupdater\n * browserview\n * browserwindow\n * contenttracing\n * dialog\n * globalshortcut\n * inapppurchase\n * ipcmain\n * menu\n * menuitem\n * messagechannelmain\n * messageportmain\n * net\n * netlog\n * nativetheme\n * 通知\n * powermonitor\n * powersaveblocker\n * protocol\n * screen\n * session\n * sharemenu\n * systempreferences\n * 触控板\n * tray\n * webcontents\n * webframemain\n\n\n# 渲染进程（网页）可用的模块:\n\n * contextbridge\n * ipcrenderer\n * webframe\n\n\n# 两种进程都可用的模块:\n\n * clipboard\n * crashreporter\n * desktopcapturer\n * nativeimage\n * shell\n\n\n# 开发\n\n请查看development/readme.md",charsets:{cjk:!0}},{title:"accessibility",frontmatter:{title:"accessibility",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/9d9546/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/accessibility.html",relativePath:"《Electron中文文档》/tutorial/accessibility.md",key:"v-ed50dac8",path:"/pages/9d9546/",headers:[{level:2,title:"Spectron",slug:"spectron",normalizedTitle:"spectron",charIndex:46},{level:2,title:"Devtron",slug:"devtron",normalizedTitle:"devtron",charIndex:38},{level:2,title:"Manually enabling accessibility features",slug:"manually-enabling-accessibility-features",normalizedTitle:"manually enabling accessibility features",charIndex:898},{level:3,title:"使用 Electron 的 API",slug:"使用-electron-的-api",normalizedTitle:"使用 electron 的 api",charIndex:1185},{level:3,title:"在第三方软件内",slug:"在第三方软件内",normalizedTitle:"在第三方软件内",charIndex:1319},{level:4,title:"macOS",slug:"macos",normalizedTitle:"macos",charIndex:993}],headersStr:"Spectron Devtron Manually enabling accessibility features 使用 Electron 的 API 在第三方软件内 macOS",content:'# 辅助功能\n\n为程序制作辅助功能是很重要的。在这里，我们很高兴地向你们介绍Devtron和Spectron。这两个新功能有机会使开发者们让他们的应用程序更加可用。\n\n----------------------------------------\n\nElectron 应用中有关辅助功能的开发和网站是相似的，因为两者最终使用的都是HTML. 然而, 对于Electron应用, 你不能使用在线的辅助功能审查者, 因为你的应用没有一个URL可以提供给审查者.\n\n这些功能将会提供一些审查工具给你的Electron 应用。 您可以选择使用 Spectron 将审查添加到你的测试环境中，或在开发者工具（DevTools）中使用Devtron。 详见各工具的文档.\n\n\n# Spectron\n\nIn the testing framework Spectron, you can now audit each window and <webview> tag in your application. 例如：\n\napp.client.auditAccessibility().then(function (audit) {\n  if (audit.failed) {\n    console.error(audit.message)\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\n你可以从这里Spectron文档阅读到更多有关于这个功能的信息。\n\n\n# Devtron\n\nIn Devtron, there is an accessibility tab which will allow you to audit a page in your app, sort and filter the results.\n\n\n\n这两种工具都使用了Google 为 Chrome 所构建的 辅助功能开发工具 库。 您可以在 repository\'s wiki 上了解到更加详细的辅助功能审核规则。\n\n如果你知道其他适用于Electron的辅助功能开发工具, 请通过pull request添加到本文档中.\n\n\n# Manually enabling accessibility features\n\n当辅助技术存在时，Electron 应用程序将自动启用辅助功能（例如 Windows 上的 JAWS 或 macOS 上的 VoiceOver）。 有关详细信息, 请参阅 Chrome 的 辅助功能文档 。\n\nYou can also manually toggle these features either within your Electron application or by setting flags in third-party native software.\n\n\n# 使用 Electron 的 API\n\n通过使用 app.setAccessibilitySupportEnabled(enabled) API，您可以在应用程序首选项中的手动向用户暴露Chrome的访问树。 请注意，用户的系统辅助工具优先于此设置并将覆盖它。\n\n\n# 在第三方软件内\n\n# macOS\n\nOn macOS, third-party assistive technology can toggle accessibility features inside Electron applications by setting the AXManualAccessibility attribute programmatically:\n\nCFStringRef kAXManualAccessibility = CFSTR("AXManualAccessibility");\n\n+ (void)enableAccessibility:(BOOL)enable inElectronApplication:(NSRunningApplication *)app\n{\n    AXUIElementRef appRef = AXUIElementCreateApplication(app.processIdentifier);\n    if (appRef == nil)\n        return;\n\n    CFBooleanRef value = enable ? kCFBooleanTrue : kCFBooleanFalse;\n    AXUIElementSetAttributeValue(appRef, kAXManualAccessibility, value);\n    CFRelease(appRef);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n',normalizedContent:'# 辅助功能\n\n为程序制作辅助功能是很重要的。在这里，我们很高兴地向你们介绍devtron和spectron。这两个新功能有机会使开发者们让他们的应用程序更加可用。\n\n----------------------------------------\n\nelectron 应用中有关辅助功能的开发和网站是相似的，因为两者最终使用的都是html. 然而, 对于electron应用, 你不能使用在线的辅助功能审查者, 因为你的应用没有一个url可以提供给审查者.\n\n这些功能将会提供一些审查工具给你的electron 应用。 您可以选择使用 spectron 将审查添加到你的测试环境中，或在开发者工具（devtools）中使用devtron。 详见各工具的文档.\n\n\n# spectron\n\nin the testing framework spectron, you can now audit each window and <webview> tag in your application. 例如：\n\napp.client.auditaccessibility().then(function (audit) {\n  if (audit.failed) {\n    console.error(audit.message)\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\n你可以从这里spectron文档阅读到更多有关于这个功能的信息。\n\n\n# devtron\n\nin devtron, there is an accessibility tab which will allow you to audit a page in your app, sort and filter the results.\n\n\n\n这两种工具都使用了google 为 chrome 所构建的 辅助功能开发工具 库。 您可以在 repository\'s wiki 上了解到更加详细的辅助功能审核规则。\n\n如果你知道其他适用于electron的辅助功能开发工具, 请通过pull request添加到本文档中.\n\n\n# manually enabling accessibility features\n\n当辅助技术存在时，electron 应用程序将自动启用辅助功能（例如 windows 上的 jaws 或 macos 上的 voiceover）。 有关详细信息, 请参阅 chrome 的 辅助功能文档 。\n\nyou can also manually toggle these features either within your electron application or by setting flags in third-party native software.\n\n\n# 使用 electron 的 api\n\n通过使用 app.setaccessibilitysupportenabled(enabled) api，您可以在应用程序首选项中的手动向用户暴露chrome的访问树。 请注意，用户的系统辅助工具优先于此设置并将覆盖它。\n\n\n# 在第三方软件内\n\n# macos\n\non macos, third-party assistive technology can toggle accessibility features inside electron applications by setting the axmanualaccessibility attribute programmatically:\n\ncfstringref kaxmanualaccessibility = cfstr("axmanualaccessibility");\n\n+ (void)enableaccessibility:(bool)enable inelectronapplication:(nsrunningapplication *)app\n{\n    axuielementref appref = axuielementcreateapplication(app.processidentifier);\n    if (appref == nil)\n        return;\n\n    cfbooleanref value = enable ? kcfbooleantrue : kcfbooleanfalse;\n    axuielementsetattributevalue(appref, kaxmanualaccessibility, value);\n    cfrelease(appref);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n',charsets:{cjk:!0}},{title:"application-distribution",frontmatter:{title:"application-distribution",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/e50d38/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/application-distribution.html",relativePath:"《Electron中文文档》/tutorial/application-distribution.md",key:"v-174c319c",path:"/pages/e50d38/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:11},{level:2,title:"专用工具",slug:"专用工具",normalizedTitle:"专用工具",charIndex:97},{level:2,title:"手动发布",slug:"手动发布",normalizedTitle:"手动发布",charIndex:295},{level:3,title:"With prebuilt binaries",slug:"with-prebuilt-binaries",normalizedTitle:"with prebuilt binaries",charIndex:304},{level:3,title:"With an app source code archive",slug:"with-an-app-source-code-archive",normalizedTitle:"with an app source code archive",charIndex:1e3},{level:3,title:"Rebranding with downloaded binaries",slug:"rebranding-with-downloaded-binaries",normalizedTitle:"rebranding with downloaded binaries",charIndex:1623},{level:4,title:"macOS",slug:"macos",normalizedTitle:"macos",charIndex:588},{level:4,title:"Windows",slug:"windows",normalizedTitle:"windows",charIndex:702},{level:4,title:"Linux",slug:"linux",normalizedTitle:"linux",charIndex:712},{level:3,title:"Rebranding by rebuilding Electron from source",slug:"rebranding-by-rebuilding-electron-from-source",normalizedTitle:"rebranding by rebuilding electron from source",charIndex:2360}],headersStr:"概览 专用工具 手动发布 With prebuilt binaries With an app source code archive Rebranding with downloaded binaries macOS Windows Linux Rebranding by rebuilding Electron from source",content:"# 应用部署\n\n\n# 概览\n\nTo distribute your app with Electron, you need to package and rebrand it. 为此，您可以使用专用工具或手动方法。\n\n\n# 专用工具\n\n您可以使用以下工具来分发您的应用程序：\n\n * electron-forge\n * electron-builder\n * electron-packager\n\n这些工具将自动进行所有的步骤，例如，打包您的应用程序，重组可执行文件，并设置正确的图标。\n\n您可以查看 快速上手指南 中如何用 electron-forge 打包您的应用程序的例子。\n\n\n# 手动发布\n\n\n# With prebuilt binaries\n\nTo distribute your app manually, you need to download Electron's prebuilt binaries. 接下来，你存放应用程序的文件夹需要叫做 app 并且需要放在 Electron 的 资源文件夹Resources下，如下面的示例所示。\n\n> NOTE: the location of Electron's prebuilt binaries is indicated with electron/ in the examples below.\n\n在 macOS 中:\n\nelectron/Electron.app/Contents/Resources/app/\n├── package.json\n├── main.js\n└── index.html\n\n\n1\n2\n3\n4\n\n\n在 Windows 和 Linux 中:\n\nelectron/resources/app\n├── package.json\n├── main.js\n└── index.html\n\n\n1\n2\n3\n4\n\n\nThen execute Electron.app on macOS, electron on Linux, or electron.exe on Windows, and Electron will start as your app. The electron directory will then be your distribution to deliver to users.\n\n\n# With an app source code archive\n\nInstead of from shipping your app by copying all of its source files, you can package your app into an asar archive to improve the performance of reading files on platforms like Windows, if you are not already using a bundler such as Parcel or Webpack.\n\n为了使用一个 asar 档案文件代替 app 文件夹，你需要修改这个档案文件的名字为 app.asar ， 然后将其放到 Electron 的资源文件夹下，然后 Electron 就会试图读取这个档案文件并从中启动。 如下所示：\n\n在 macOS 中:\n\nelectron/Electron.app/Contents/Resources/\n└── app.asar\n\n\n1\n2\n\n\n在 Windows 和 Linux 中:\n\nelectron/resources/\n└── app.asar\n\n\n1\n2\n\n\nYou can find more details on how to use asar in the electron/asar repository.\n\n\n# Rebranding with downloaded binaries\n\n将您的应用程序捆绑到Electron后，您可能需要在把应用分发给用户前将Electron进行重新定制\n\n# macOS\n\n你可以将 Electron.app 重命名为任意你喜欢的名字，然后你也需要将一些文件中的 CFBundleDisplayName， CFBundleIdentifier 以及 CFBundleName 字段一并修改掉。 这些文件如下：\n\n * Electron.app/Contents/Info.plist\n * Electron.app/Contents/Frameworks/Electron Helper.app/Contents/Info.plist\n\n你也可以重命名帮助程序以避免它在系统活动监视器中显示为Electron Helper， 但是请确保你已经修改了帮助应用的可执行文件的名字。\n\n一个重命名后的应用程序的结构可能是这样的\n\nMyApp.app/Contents\n├── Info.plist\n├── MacOS/\n│   └── MyApp\n└── Frameworks/\n    └── MyApp Helper.app\n        ├── Info.plist\n        └── MacOS/\n            └── MyApp Helper\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# Windows\n\n你可以将 electron.exe 重命名为任何你喜欢的名字，然后可以使用像 rcedit 那样的工具编辑它的 icon 和其他信息。\n\n# Linux\n\n你可以将 electron 重命名为任意你喜欢的名字。\n\n\n# Rebranding by rebuilding Electron from source\n\n你也可以通过改变产品名称后从源码构建来重塑Electron的形象。 你只需要在 args.gn 文件中将构建参数设置为对应产品的名称(electron_product_name = \"YourProductName\")，并进行重新构建。",normalizedContent:"# 应用部署\n\n\n# 概览\n\nto distribute your app with electron, you need to package and rebrand it. 为此，您可以使用专用工具或手动方法。\n\n\n# 专用工具\n\n您可以使用以下工具来分发您的应用程序：\n\n * electron-forge\n * electron-builder\n * electron-packager\n\n这些工具将自动进行所有的步骤，例如，打包您的应用程序，重组可执行文件，并设置正确的图标。\n\n您可以查看 快速上手指南 中如何用 electron-forge 打包您的应用程序的例子。\n\n\n# 手动发布\n\n\n# with prebuilt binaries\n\nto distribute your app manually, you need to download electron's prebuilt binaries. 接下来，你存放应用程序的文件夹需要叫做 app 并且需要放在 electron 的 资源文件夹resources下，如下面的示例所示。\n\n> note: the location of electron's prebuilt binaries is indicated with electron/ in the examples below.\n\n在 macos 中:\n\nelectron/electron.app/contents/resources/app/\n├── package.json\n├── main.js\n└── index.html\n\n\n1\n2\n3\n4\n\n\n在 windows 和 linux 中:\n\nelectron/resources/app\n├── package.json\n├── main.js\n└── index.html\n\n\n1\n2\n3\n4\n\n\nthen execute electron.app on macos, electron on linux, or electron.exe on windows, and electron will start as your app. the electron directory will then be your distribution to deliver to users.\n\n\n# with an app source code archive\n\ninstead of from shipping your app by copying all of its source files, you can package your app into an asar archive to improve the performance of reading files on platforms like windows, if you are not already using a bundler such as parcel or webpack.\n\n为了使用一个 asar 档案文件代替 app 文件夹，你需要修改这个档案文件的名字为 app.asar ， 然后将其放到 electron 的资源文件夹下，然后 electron 就会试图读取这个档案文件并从中启动。 如下所示：\n\n在 macos 中:\n\nelectron/electron.app/contents/resources/\n└── app.asar\n\n\n1\n2\n\n\n在 windows 和 linux 中:\n\nelectron/resources/\n└── app.asar\n\n\n1\n2\n\n\nyou can find more details on how to use asar in the electron/asar repository.\n\n\n# rebranding with downloaded binaries\n\n将您的应用程序捆绑到electron后，您可能需要在把应用分发给用户前将electron进行重新定制\n\n# macos\n\n你可以将 electron.app 重命名为任意你喜欢的名字，然后你也需要将一些文件中的 cfbundledisplayname， cfbundleidentifier 以及 cfbundlename 字段一并修改掉。 这些文件如下：\n\n * electron.app/contents/info.plist\n * electron.app/contents/frameworks/electron helper.app/contents/info.plist\n\n你也可以重命名帮助程序以避免它在系统活动监视器中显示为electron helper， 但是请确保你已经修改了帮助应用的可执行文件的名字。\n\n一个重命名后的应用程序的结构可能是这样的\n\nmyapp.app/contents\n├── info.plist\n├── macos/\n│   └── myapp\n└── frameworks/\n    └── myapp helper.app\n        ├── info.plist\n        └── macos/\n            └── myapp helper\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# windows\n\n你可以将 electron.exe 重命名为任何你喜欢的名字，然后可以使用像 rcedit 那样的工具编辑它的 icon 和其他信息。\n\n# linux\n\n你可以将 electron 重命名为任意你喜欢的名字。\n\n\n# rebranding by rebuilding electron from source\n\n你也可以通过改变产品名称后从源码构建来重塑electron的形象。 你只需要在 args.gn 文件中将构建参数设置为对应产品的名称(electron_product_name = \"yourproductname\")，并进行重新构建。",charsets:{cjk:!0}},{title:"application-debugging",frontmatter:{title:"application-debugging",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/afc8ea/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/application-debugging.html",relativePath:"《Electron中文文档》/tutorial/application-debugging.md",key:"v-5b5dc388",path:"/pages/afc8ea/",headers:[{level:2,title:"渲染进程",slug:"渲染进程",normalizedTitle:"渲染进程",charIndex:79},{level:2,title:"主进程",slug:"主进程",normalizedTitle:"主进程",charIndex:432},{level:2,title:"V8 Crashes",slug:"v8-crashes",normalizedTitle:"v8 crashes",charIndex:581}],headersStr:"渲染进程 主进程 V8 Crashes",content:"# 调试应用\n\n无论何时，您的Electron应用程序没有按照您设想的方式运行，一组调试工具也许可以帮助您找到代码的错误，性能瓶颈，或者优化的机会。\n\n\n# 渲染进程\n\n最广泛使用来调试指定渲染进程的工具是Chromium的开发者工具集。 它可以获取到所有的渲染进程，包括BrowserWindow的实例，BrowserView以及WebView。 您可以通过编程的方式在BrowserWindow的webContents中调用openDevTool()API来打开它们：\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow()\nwin.webContents.openDevTools()\n\n\n1\n2\n3\n4\n\n\n谷歌为他们的开发者工具提供了杰出的文档。 我们建议您熟悉它们，它们对于任何Electron开发者来说通常都是工具包中最强大的工具之一。\n\n\n# 主进程\n\n调试主进程有点棘手, 因为您不能简单地打开开发者工具来调试它们。 多亏了谷歌和Node.js的紧密合作，Chromium开发者工具可以被用来调试Electron的主进程，否则你也许会遇到许多怪事就像require不能再控制台中显示。\n\n如果想获取更多信息，可以看调试主进程的文档\n\n\n# V8 Crashes\n\n如果V8环境崩溃的话, DevTools 将显示以下信息\n\nDevTools was disconnected from the page. Once page is reloaded, DevTools will automatically reconnect.\n\nChromium日志可以通过ELECTRON_ENABLE_LOGGING环境变量启用。 有关更多信息，请参见环境变量文档。\n\n或者，可以传递命令行参数--enable-logging。 更多信息请查看命令行开关文档",normalizedContent:"# 调试应用\n\n无论何时，您的electron应用程序没有按照您设想的方式运行，一组调试工具也许可以帮助您找到代码的错误，性能瓶颈，或者优化的机会。\n\n\n# 渲染进程\n\n最广泛使用来调试指定渲染进程的工具是chromium的开发者工具集。 它可以获取到所有的渲染进程，包括browserwindow的实例，browserview以及webview。 您可以通过编程的方式在browserwindow的webcontents中调用opendevtool()api来打开它们：\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow()\nwin.webcontents.opendevtools()\n\n\n1\n2\n3\n4\n\n\n谷歌为他们的开发者工具提供了杰出的文档。 我们建议您熟悉它们，它们对于任何electron开发者来说通常都是工具包中最强大的工具之一。\n\n\n# 主进程\n\n调试主进程有点棘手, 因为您不能简单地打开开发者工具来调试它们。 多亏了谷歌和node.js的紧密合作，chromium开发者工具可以被用来调试electron的主进程，否则你也许会遇到许多怪事就像require不能再控制台中显示。\n\n如果想获取更多信息，可以看调试主进程的文档\n\n\n# v8 crashes\n\n如果v8环境崩溃的话, devtools 将显示以下信息\n\ndevtools was disconnected from the page. once page is reloaded, devtools will automatically reconnect.\n\nchromium日志可以通过electron_enable_logging环境变量启用。 有关更多信息，请参见环境变量文档。\n\n或者，可以传递命令行参数--enable-logging。 更多信息请查看命令行开关文档",charsets:{cjk:!0}},{title:"automated-testing-with-a-custom-driver",frontmatter:{title:"automated-testing-with-a-custom-driver",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/644b78/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/automated-testing-with-a-custom-driver.html",relativePath:"《Electron中文文档》/tutorial/automated-testing-with-a-custom-driver.md",key:"v-1ca8f3de",path:"/pages/644b78/",headersStr:null,content:"# 使用自定义驱动程序进行自动化测试\n\n为Electron应用编写自动测试, 你需要一种 \"驱动\" 应用程序的方法。 Spectron is a commonly-used solution which lets you emulate user actions via WebDriver. 当然，也可以使用node的内建IPC STDIO来编写自己的自定义驱动。 自定义驱动的优势在于，它往往比Spectron需要更少的开销，并允许你向测试套件公开自定义方法。\n\n我们将用 Node.js 的 child_process API 来创建一个自定义驱动。 测试套件将生成 Electron 子进程，然后建立一个简单的消息传递协议。\n\nconst childProcess = require('child_process')\nconst electronPath = require('electron')\n\n// spawn the process\nconst env = { /* ... */ }\nconst stdio = ['inherit', 'inherit', 'inherit', 'ipc']\nconst appProcess = childProcess.spawn(electronPath, ['./app'], { stdio, env })\n\n// listen for IPC messages from the app\nappProcess.on('message', (msg) => {\n  // ...\n})\n\n// 向应用发送IPC消息\nappProcess.send({ my: 'message' })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n在 Electron 应用程序中，您可以侦听消息或者使用 Node.js 的 process API 发送回复：\n\n// 从测试套件进程侦听IPC消息\nprocess.on('message', (msg) => {\n  // ...\n})\n\n// 向测试套件进程发送IPC消息\nprocess.send({ my: 'message' })\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n现在，我们可以使用appProcess 对象从测试套件到Electron应用进行通讯。\n\n为了方便起见，你可能需要封装appProcess到一个驱动对象，以便提供更多高级函数。 下面是一个如何这样做的示例：\n\nclass TestDriver {\n  constructor ({ path, args, env }) {\n    this.rpcCalls = []\n\n    // start child process\n    env.APP_TEST_DRIVER = 1 // let the app know it should listen for messages\n    this.process = childProcess.spawn(path, args, { stdio: ['inherit', 'inherit', 'inherit', 'ipc'], env })\n\n    // handle rpc responses\n    this.process.on('message', (message) => {\n      // pop the handler\n      const rpcCall = this.rpcCalls[message.msgId]\n      if (!rpcCall) return\n      this.rpcCalls[message.msgId] = null\n      // reject/resolve\n      if (message.reject) rpcCall.reject(message.reject)\n      else rpcCall.resolve(message.resolve)\n    })\n\n    // wait for ready\n    this.isReady = this.rpc('isReady').catch((err) => {\n      console.error('Application failed to start', err)\n      this.stop()\n      process.exit(1)\n    })\n  }\n\n  // simple RPC call\n  // to use: driver.rpc('method', 1, 2, 3).then(...)\n  async rpc (cmd, ...args) {\n    // send rpc request\n    const msgId = this.rpcCalls.length\n    this.process.send({ msgId, cmd, args })\n    return new Promise((resolve, reject) => this.rpcCalls.push({ resolve, reject }))\n  }\n\n  stop () {\n    this.process.kill()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n在应用中, 你需要为 RPC 回调编写一个简单的处理程序:\n\nif (process.env.APP_TEST_DRIVER) {\n  process.on('message', onMessage)\n}\n\nasync function onMessage ({ msgId, cmd, args }) {\n  let method = METHODS[cmd]\n  if (!method) method = () => new Error('Invalid method: ' + cmd)\n  try {\n    const resolve = await method(...args)\n    process.send({ msgId, resolve })\n  } catch (err) {\n    const reject = {\n      message: err.message,\n      stack: err.stack,\n      name: err.name\n    }\n    process.send({ msgId, reject })\n  }\n}\n\nconst METHODS = {\n  isReady () {\n    // do any setup needed\n    return true\n  }\n  // define your RPC-able methods here\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n然后, 在测试套件中, 可以按如下方式使用测试驱动程序:\n\nconst test = require('ava')\nconst electronPath = require('electron')\n\nconst app = new TestDriver({\n  path: electronPath,\n  args: ['./app'],\n  env: {\n    NODE_ENV: 'test'\n  }\n})\ntest.before(async t => {\n  await app.isReady\n})\ntest.after.always('cleanup', async t => {\n  await app.stop()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",normalizedContent:"# 使用自定义驱动程序进行自动化测试\n\n为electron应用编写自动测试, 你需要一种 \"驱动\" 应用程序的方法。 spectron is a commonly-used solution which lets you emulate user actions via webdriver. 当然，也可以使用node的内建ipc stdio来编写自己的自定义驱动。 自定义驱动的优势在于，它往往比spectron需要更少的开销，并允许你向测试套件公开自定义方法。\n\n我们将用 node.js 的 child_process api 来创建一个自定义驱动。 测试套件将生成 electron 子进程，然后建立一个简单的消息传递协议。\n\nconst childprocess = require('child_process')\nconst electronpath = require('electron')\n\n// spawn the process\nconst env = { /* ... */ }\nconst stdio = ['inherit', 'inherit', 'inherit', 'ipc']\nconst appprocess = childprocess.spawn(electronpath, ['./app'], { stdio, env })\n\n// listen for ipc messages from the app\nappprocess.on('message', (msg) => {\n  // ...\n})\n\n// 向应用发送ipc消息\nappprocess.send({ my: 'message' })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n在 electron 应用程序中，您可以侦听消息或者使用 node.js 的 process api 发送回复：\n\n// 从测试套件进程侦听ipc消息\nprocess.on('message', (msg) => {\n  // ...\n})\n\n// 向测试套件进程发送ipc消息\nprocess.send({ my: 'message' })\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n现在，我们可以使用appprocess 对象从测试套件到electron应用进行通讯。\n\n为了方便起见，你可能需要封装appprocess到一个驱动对象，以便提供更多高级函数。 下面是一个如何这样做的示例：\n\nclass testdriver {\n  constructor ({ path, args, env }) {\n    this.rpccalls = []\n\n    // start child process\n    env.app_test_driver = 1 // let the app know it should listen for messages\n    this.process = childprocess.spawn(path, args, { stdio: ['inherit', 'inherit', 'inherit', 'ipc'], env })\n\n    // handle rpc responses\n    this.process.on('message', (message) => {\n      // pop the handler\n      const rpccall = this.rpccalls[message.msgid]\n      if (!rpccall) return\n      this.rpccalls[message.msgid] = null\n      // reject/resolve\n      if (message.reject) rpccall.reject(message.reject)\n      else rpccall.resolve(message.resolve)\n    })\n\n    // wait for ready\n    this.isready = this.rpc('isready').catch((err) => {\n      console.error('application failed to start', err)\n      this.stop()\n      process.exit(1)\n    })\n  }\n\n  // simple rpc call\n  // to use: driver.rpc('method', 1, 2, 3).then(...)\n  async rpc (cmd, ...args) {\n    // send rpc request\n    const msgid = this.rpccalls.length\n    this.process.send({ msgid, cmd, args })\n    return new promise((resolve, reject) => this.rpccalls.push({ resolve, reject }))\n  }\n\n  stop () {\n    this.process.kill()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n在应用中, 你需要为 rpc 回调编写一个简单的处理程序:\n\nif (process.env.app_test_driver) {\n  process.on('message', onmessage)\n}\n\nasync function onmessage ({ msgid, cmd, args }) {\n  let method = methods[cmd]\n  if (!method) method = () => new error('invalid method: ' + cmd)\n  try {\n    const resolve = await method(...args)\n    process.send({ msgid, resolve })\n  } catch (err) {\n    const reject = {\n      message: err.message,\n      stack: err.stack,\n      name: err.name\n    }\n    process.send({ msgid, reject })\n  }\n}\n\nconst methods = {\n  isready () {\n    // do any setup needed\n    return true\n  }\n  // define your rpc-able methods here\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n然后, 在测试套件中, 可以按如下方式使用测试驱动程序:\n\nconst test = require('ava')\nconst electronpath = require('electron')\n\nconst app = new testdriver({\n  path: electronpath,\n  args: ['./app'],\n  env: {\n    node_env: 'test'\n  }\n})\ntest.before(async t => {\n  await app.isready\n})\ntest.after.always('cleanup', async t => {\n  await app.stop()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",charsets:{cjk:!0}},{title:"boilerplates-and-clis",frontmatter:{title:"boilerplates-and-clis",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/5f1055/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/boilerplates-and-clis.html",relativePath:"《Electron中文文档》/tutorial/boilerplates-and-clis.md",key:"v-42a2f4dc",path:"/pages/5f1055/",headers:[{level:2,title:"模板与命令行界面",slug:"模板与命令行界面",normalizedTitle:"模板与命令行界面",charIndex:298},{level:2,title:"electron-forge",slug:"electron-forge",normalizedTitle:"electron-forge",charIndex:462},{level:2,title:"electron-builder",slug:"electron-builder",normalizedTitle:"electron-builder",charIndex:863},{level:2,title:"electron-react-boilerplate",slug:"electron-react-boilerplate",normalizedTitle:"electron-react-boilerplate",charIndex:1151},{level:2,title:"其它工具和模板",slug:"其它工具和模板",normalizedTitle:"其它工具和模板",charIndex:1289}],headersStr:"模板与命令行界面 electron-forge electron-builder electron-react-boilerplate 其它工具和模板",content:'# 模板和命令行界面\n\nElectron 的开发并不那么死板. 也就是说, 开发, 编译, 打包, 与发布 Electron 应用程序的方法中, 没有一个是可以称为 "唯一标准" 的方法. Electron 的编译和运行时相关额外功能通常可以在 npm 的独立安装包中找到, 这样开发者就可以根据自己的需求同时编译应用和 build pipeline.\n\n得益于高度的模块化和扩展性，所有的开发团队，无论大小都可以在整个开发周期中无往不利、所向披靡。 与此同时，对于大多数开发者来说如果能有一款社区驱动的boilerplates或者命令行 工具，无疑会使应用的编译、打包、分发更加简单。\n\n\n# 模板与命令行界面\n\n一个模板就像是一张空白的画布，你可以以它为基础来搭建你的应用。 通常来说，你可以从一个代码仓库克隆一个模板，然后修改成你心仪的样子。\n\n命令行工具则是在整个开发和分发过程中从另一方面给你提供帮助。 他们更有用，但同时也对代码结构和构建项目有着硬性的要求。 特别是对于初学者来说，命令行工具十分有用。\n\n\n# electron-forge\n\nElectron Forge 是一个用来构建现代化Electron应用的完善的工具。 Electron Forge将多个现有的（ 且有稳定维护的 ）Electron构建工具整合为一个简单易用的工具包，所有人都可以用它来快速地搭建Electron开发环境。\n\nForge 始于一个使用了 Webpack 作为打包器的 a ready-to-use template 模板项目。 该项目包含有一个 typescript 配置的示例，并预置了两个便于定制化的配置文件。 Forge 的一些核心模块来自于上层的 Electron 社区（比如electron-packager），因而 Electron 主要维护人员（比如说 Slack）提交的 Electron 更新也会使 Forge 的用户受益。\n\n关于Forge的更多信息，请查阅electronforge.io。\n\n\n# electron-builder\n\nElectron Builder 是一个完备的Electron应用打包和分发解决方案，它致力于软件开发的集成体验。 electron-builder 出于简化的目的添加了一个依赖项，可以在内部管理所有更多的要求。\n\nelectron-builder 会将Electron维护者使用的模块和功能(例如: auto-updater) 替换为自定义的. Electron Builder打包的应用内组件的集成度会更高，同时与主流的Electron应用共同点也就更少了。\n\n关于Electron Builder的更多信息，请查阅代码仓库。\n\n\n# electron-react-boilerplate\n\n如果你不希望任何工具，而想要简单地从一个模板开始构建，CT Lin的 electron-react-boilerplate 可能值得一看。 它在社区中很受欢迎，并在内部使用了 electron-builder。\n\n\n# 其它工具和模板\n\n"Awesome Electron" 列表涵盖了众多可供选择的工具和模板。 如果您发现列表的长度令人畏惧，请不要忘记，您也可以在开发过程中逐渐添加工具。',normalizedContent:'# 模板和命令行界面\n\nelectron 的开发并不那么死板. 也就是说, 开发, 编译, 打包, 与发布 electron 应用程序的方法中, 没有一个是可以称为 "唯一标准" 的方法. electron 的编译和运行时相关额外功能通常可以在 npm 的独立安装包中找到, 这样开发者就可以根据自己的需求同时编译应用和 build pipeline.\n\n得益于高度的模块化和扩展性，所有的开发团队，无论大小都可以在整个开发周期中无往不利、所向披靡。 与此同时，对于大多数开发者来说如果能有一款社区驱动的boilerplates或者命令行 工具，无疑会使应用的编译、打包、分发更加简单。\n\n\n# 模板与命令行界面\n\n一个模板就像是一张空白的画布，你可以以它为基础来搭建你的应用。 通常来说，你可以从一个代码仓库克隆一个模板，然后修改成你心仪的样子。\n\n命令行工具则是在整个开发和分发过程中从另一方面给你提供帮助。 他们更有用，但同时也对代码结构和构建项目有着硬性的要求。 特别是对于初学者来说，命令行工具十分有用。\n\n\n# electron-forge\n\nelectron forge 是一个用来构建现代化electron应用的完善的工具。 electron forge将多个现有的（ 且有稳定维护的 ）electron构建工具整合为一个简单易用的工具包，所有人都可以用它来快速地搭建electron开发环境。\n\nforge 始于一个使用了 webpack 作为打包器的 a ready-to-use template 模板项目。 该项目包含有一个 typescript 配置的示例，并预置了两个便于定制化的配置文件。 forge 的一些核心模块来自于上层的 electron 社区（比如electron-packager），因而 electron 主要维护人员（比如说 slack）提交的 electron 更新也会使 forge 的用户受益。\n\n关于forge的更多信息，请查阅electronforge.io。\n\n\n# electron-builder\n\nelectron builder 是一个完备的electron应用打包和分发解决方案，它致力于软件开发的集成体验。 electron-builder 出于简化的目的添加了一个依赖项，可以在内部管理所有更多的要求。\n\nelectron-builder 会将electron维护者使用的模块和功能(例如: auto-updater) 替换为自定义的. electron builder打包的应用内组件的集成度会更高，同时与主流的electron应用共同点也就更少了。\n\n关于electron builder的更多信息，请查阅代码仓库。\n\n\n# electron-react-boilerplate\n\n如果你不希望任何工具，而想要简单地从一个模板开始构建，ct lin的 electron-react-boilerplate 可能值得一看。 它在社区中很受欢迎，并在内部使用了 electron-builder。\n\n\n# 其它工具和模板\n\n"awesome electron" 列表涵盖了众多可供选择的工具和模板。 如果您发现列表的长度令人畏惧，请不要忘记，您也可以在开发过程中逐渐添加工具。',charsets:{cjk:!0}},{title:"code-signing",frontmatter:{title:"code-signing",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/79a080/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/code-signing.html",relativePath:"《Electron中文文档》/tutorial/code-signing.md",key:"v-631469ac",path:"/pages/79a080/",headers:[{level:2,title:"electron-forge",slug:"electron-forge",normalizedTitle:"electron-forge",charIndex:1076},{level:2,title:"electron-builder",slug:"electron-builder",normalizedTitle:"electron-builder",charIndex:3151},{level:2,title:"electron-packager",slug:"electron-packager",normalizedTitle:"electron-packager",charIndex:1270},{level:2,title:"Mac 应用程序商店",slug:"mac-应用程序商店",normalizedTitle:"mac 应用程序商店",charIndex:4544},{level:2,title:"Windows 应用商店",slug:"windows-应用商店",normalizedTitle:"windows 应用商店",charIndex:5191}],headersStr:"electron-forge electron-builder electron-packager Mac 应用程序商店 Windows 应用商店",content:'# 代码签名\n\n代码签名是一种用来证明应用是由你创建的一种安全技术。\n\nmacOS 系统能通过代码签名检测对app的任何修改，包括意外修改和来自恶意代码的修改。\n\nOn Windows, the system assigns a trust level to your code signing certificate which if you don\'t have, or if your trust level is low, will cause security dialogs to appear when users start using your application. 信任级别随着时间的推移构建，因此最好尽早开始代码签名。\n\n即使开发者可以发布一个未签名的应用程序，但是我们并不建议这样做。 Both Windows and macOS will, by default, prevent either the download or the execution of unsigned applications. Starting with macOS Catalina (version 10.15), users have to go through multiple manual steps to open unsigned applications.\n\n\n\n如你所见，用户有两个选择：直接删除应用或者取消运行。 你不会想让用户看见该对话框。\n\n如果你正在开发一款Electron应用，并打算将其打包发布，那你就应该为其添加代码签名。\n\n\n# 签名 & 认证 macOS 版本\n\n正确准备 macOS 应用程序的发布需要两个步骤：首先，应用程序需要签名。 然后，应用程序需要上传到苹果，然后才能进行名为“公证”的过程， 自动化系统将会进一步验证您的应用没有做任何事情来危及其用户。\n\nTo start the process, ensure that you fulfill the requirements for signing and notarizing your app:\n\n 1. 加入 Apple Developer Program(需要缴纳年费)\n 2. 下载并安装 Xcode - 这需要一台运行 macOS 的计算机。\n 3. 生成，下载，然后安装签名证书（signing certificates）\n\nElectron 的生态系统有利于配置和自由，所以有多种方法让您的应用程序签名和公证。\n\n\n# electron-forge\n\nIf you\'re using Electron\'s favorite build tool, getting your application signed and notarized requires a few additions to your configuration. Forge 是官方的 Electron 工具的 集合，在hood下使用 electron-packager electron-osx-sign electron-notarize 。\n\nLet\'s take a look at an example configuration with all required fields. 并不是所有都是必需的：工具非常聪明足以自动找到合适的 identity, 例如，但我们建议你明白无误。\n\n{\n  "name": "my-app",\n  "version": "0.0.1",\n  "config": {\n    "forge": {\n      "packagerConfig": {\n        "osxSign": {\n          "identity": "Developer ID Application: Felix Rieseberg (LT94ZKYDCJ)",\n          "hardened-runtime": true,\n          "entitlements": "entitlements.plist",\n          "entitlements-inherit": "entitlements.plist",\n          "signature-flags": "library"\n        },\n        "osxNotarize": {\n          "appleId": "felix@felix.fun",\n          "appleIdPassword": "my-apple-id-password",\n        }\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n此处引用的 plist 文件需要以下的 macOS 特定权限来保证您的应用正在做这些事情的苹果安全机制并不意味着任何伤害：\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.cs.allow-jit</key>\n    <true/>\n    <key>com.apple.security.cs.debugger</key>\n    <true/>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nNote that up until Electron 12, the com.apple.security.cs.allow-unsigned-executable-memory entitlement was required as well. However, it should not be used anymore if it can be avoided.\n\n要查看所有这些都在操作中，请查看 Electron Fiddle 的源代码，尤其是其 electron-forge 配置文件。\n\n如果您打算在应用中使用 Electron 的 API 访问麦克风或摄像头，您还需要添加以下权限：\n\n<key>com.apple.security.device.audio-input</key>\n<true/>\n<key>com.apple.security.device.camera</key>\n<true/>\n\n\n1\n2\n3\n4\n\n\nIf these are not present in your app\'s entitlements when you invoke, for example:\n\nconst { systemPreferences } = require(\'electron\')\n\nconst microphone = systemPreferences.askForMediaAccess(\'microphone\')\n\n\n1\n2\n3\n\n\nYour app may crash. 在 Hardened Runtime 中查看资源访问部分以获取更多信息和您可能需要的权限。\n\n\n# electron-builder\n\nElectron Builder comes with a custom solution for signing your application. 你可以在这里找到 它的文档\n\n\n# electron-packager\n\nIf you\'re not using an integrated build pipeline like Forge or Builder, you are likely using electron-packager, which includes electron-osx-sign and electron-notarize.\n\n如果您正在使用Packager的 API，您可以通过配置 来签名并对您的应用程序进行公证\n\nconst packager = require(\'electron-packager\')\n\npackager({\n  dir: \'/path/to/my/app\',\n  osxSign: {\n    identity: \'Developer ID Application: Felix Rieseberg (LT94ZKYDCJ)\',\n    \'hardened-runtime\': true,\n    entitlements: \'entitlements.plist\',\n    \'entitlements-inherit\': \'entitlements.plist\',\n    \'signature-flags\': \'library\'\n  },\n  osxNotarize: {\n    appleId: \'felix@felix.fun\',\n    appleIdPassword: \'my-apple-id-password\'\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n此处引用的 plist 文件需要以下的 macOS 特定权限来保证您的应用正在做这些事情的苹果安全机制并不意味着任何伤害：\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.cs.allow-jit</key>\n    <true/>\n    <key>com.apple.security.cs.debugger</key>\n    <true/>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nUp until Electron 12, the com.apple.security.cs.allow-unsigned-executable-memory entitlement was required as well. However, it should not be used anymore if it can be avoided.\n\n\n# Mac 应用程序商店\n\nSee the Mac App Store Guide.\n\n\n# 签署windows应用程序\n\n在签署Windows应用程序前，你需要完成以下事项：\n\n 1. Get a Windows Authenticode code signing certificate (requires an annual fee)\n 2. 安装 Visual Studio 以获取签名工具 (免费 社区版 已足够)\n\nYou can get a code signing certificate from a lot of resellers. 价格各异，所以值得你花点时间去货比三家。 Popular resellers include:\n\n * digicert\n * Sectigo\n * 除其他外，请货比三家后选择适合你的那一款，Google 是您的朋友😄：\n\n你可以运用许多方式来签署你的应用：\n\n * electron-winstaller will generate an installer for windows and sign it for you\n * electron-forge can sign installers it generates through the Squirrel.Windows or MSI targets.\n * electron-builder can sign some of its windows targets\n\n\n# Windows 应用商店\n\nSee the Windows Store Guide.',normalizedContent:'# 代码签名\n\n代码签名是一种用来证明应用是由你创建的一种安全技术。\n\nmacos 系统能通过代码签名检测对app的任何修改，包括意外修改和来自恶意代码的修改。\n\non windows, the system assigns a trust level to your code signing certificate which if you don\'t have, or if your trust level is low, will cause security dialogs to appear when users start using your application. 信任级别随着时间的推移构建，因此最好尽早开始代码签名。\n\n即使开发者可以发布一个未签名的应用程序，但是我们并不建议这样做。 both windows and macos will, by default, prevent either the download or the execution of unsigned applications. starting with macos catalina (version 10.15), users have to go through multiple manual steps to open unsigned applications.\n\n\n\n如你所见，用户有两个选择：直接删除应用或者取消运行。 你不会想让用户看见该对话框。\n\n如果你正在开发一款electron应用，并打算将其打包发布，那你就应该为其添加代码签名。\n\n\n# 签名 & 认证 macos 版本\n\n正确准备 macos 应用程序的发布需要两个步骤：首先，应用程序需要签名。 然后，应用程序需要上传到苹果，然后才能进行名为“公证”的过程， 自动化系统将会进一步验证您的应用没有做任何事情来危及其用户。\n\nto start the process, ensure that you fulfill the requirements for signing and notarizing your app:\n\n 1. 加入 apple developer program(需要缴纳年费)\n 2. 下载并安装 xcode - 这需要一台运行 macos 的计算机。\n 3. 生成，下载，然后安装签名证书（signing certificates）\n\nelectron 的生态系统有利于配置和自由，所以有多种方法让您的应用程序签名和公证。\n\n\n# electron-forge\n\nif you\'re using electron\'s favorite build tool, getting your application signed and notarized requires a few additions to your configuration. forge 是官方的 electron 工具的 集合，在hood下使用 electron-packager electron-osx-sign electron-notarize 。\n\nlet\'s take a look at an example configuration with all required fields. 并不是所有都是必需的：工具非常聪明足以自动找到合适的 identity, 例如，但我们建议你明白无误。\n\n{\n  "name": "my-app",\n  "version": "0.0.1",\n  "config": {\n    "forge": {\n      "packagerconfig": {\n        "osxsign": {\n          "identity": "developer id application: felix rieseberg (lt94zkydcj)",\n          "hardened-runtime": true,\n          "entitlements": "entitlements.plist",\n          "entitlements-inherit": "entitlements.plist",\n          "signature-flags": "library"\n        },\n        "osxnotarize": {\n          "appleid": "felix@felix.fun",\n          "appleidpassword": "my-apple-id-password",\n        }\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n此处引用的 plist 文件需要以下的 macos 特定权限来保证您的应用正在做这些事情的苹果安全机制并不意味着任何伤害：\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype plist public "-//apple//dtd plist 1.0//en" "http://www.apple.com/dtds/propertylist-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.cs.allow-jit</key>\n    <true/>\n    <key>com.apple.security.cs.debugger</key>\n    <true/>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nnote that up until electron 12, the com.apple.security.cs.allow-unsigned-executable-memory entitlement was required as well. however, it should not be used anymore if it can be avoided.\n\n要查看所有这些都在操作中，请查看 electron fiddle 的源代码，尤其是其 electron-forge 配置文件。\n\n如果您打算在应用中使用 electron 的 api 访问麦克风或摄像头，您还需要添加以下权限：\n\n<key>com.apple.security.device.audio-input</key>\n<true/>\n<key>com.apple.security.device.camera</key>\n<true/>\n\n\n1\n2\n3\n4\n\n\nif these are not present in your app\'s entitlements when you invoke, for example:\n\nconst { systempreferences } = require(\'electron\')\n\nconst microphone = systempreferences.askformediaaccess(\'microphone\')\n\n\n1\n2\n3\n\n\nyour app may crash. 在 hardened runtime 中查看资源访问部分以获取更多信息和您可能需要的权限。\n\n\n# electron-builder\n\nelectron builder comes with a custom solution for signing your application. 你可以在这里找到 它的文档\n\n\n# electron-packager\n\nif you\'re not using an integrated build pipeline like forge or builder, you are likely using electron-packager, which includes electron-osx-sign and electron-notarize.\n\n如果您正在使用packager的 api，您可以通过配置 来签名并对您的应用程序进行公证\n\nconst packager = require(\'electron-packager\')\n\npackager({\n  dir: \'/path/to/my/app\',\n  osxsign: {\n    identity: \'developer id application: felix rieseberg (lt94zkydcj)\',\n    \'hardened-runtime\': true,\n    entitlements: \'entitlements.plist\',\n    \'entitlements-inherit\': \'entitlements.plist\',\n    \'signature-flags\': \'library\'\n  },\n  osxnotarize: {\n    appleid: \'felix@felix.fun\',\n    appleidpassword: \'my-apple-id-password\'\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n此处引用的 plist 文件需要以下的 macos 特定权限来保证您的应用正在做这些事情的苹果安全机制并不意味着任何伤害：\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype plist public "-//apple//dtd plist 1.0//en" "http://www.apple.com/dtds/propertylist-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.cs.allow-jit</key>\n    <true/>\n    <key>com.apple.security.cs.debugger</key>\n    <true/>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nup until electron 12, the com.apple.security.cs.allow-unsigned-executable-memory entitlement was required as well. however, it should not be used anymore if it can be avoided.\n\n\n# mac 应用程序商店\n\nsee the mac app store guide.\n\n\n# 签署windows应用程序\n\n在签署windows应用程序前，你需要完成以下事项：\n\n 1. get a windows authenticode code signing certificate (requires an annual fee)\n 2. 安装 visual studio 以获取签名工具 (免费 社区版 已足够)\n\nyou can get a code signing certificate from a lot of resellers. 价格各异，所以值得你花点时间去货比三家。 popular resellers include:\n\n * digicert\n * sectigo\n * 除其他外，请货比三家后选择适合你的那一款，google 是您的朋友😄：\n\n你可以运用许多方式来签署你的应用：\n\n * electron-winstaller will generate an installer for windows and sign it for you\n * electron-forge can sign installers it generates through the squirrel.windows or msi targets.\n * electron-builder can sign some of its windows targets\n\n\n# windows 应用商店\n\nsee the windows store guide.',charsets:{cjk:!0}},{title:"context-isolation",frontmatter:{title:"context-isolation",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/28e368/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/context-isolation.html",relativePath:"《Electron中文文档》/tutorial/context-isolation.md",key:"v-74a6f75c",path:"/pages/28e368/",headers:[{level:2,title:"上下文隔离是什么？",slug:"上下文隔离是什么",normalizedTitle:"上下文隔离是什么？",charIndex:12},{level:2,title:"迁移",slug:"迁移",normalizedTitle:"迁移",charIndex:504},{level:3,title:"Before: context isolation disabled",slug:"before-context-isolation-disabled",normalizedTitle:"before: context isolation disabled",charIndex:625},{level:3,title:"After: context isolation enabled",slug:"after-context-isolation-enabled",normalizedTitle:"after: context isolation enabled",charIndex:1191},{level:2,title:"Security considerations",slug:"security-considerations",normalizedTitle:"security considerations",charIndex:1900},{level:2,title:"Usage with TypeScript",slug:"usage-with-typescript",normalizedTitle:"usage with typescript",charIndex:2407}],headersStr:"上下文隔离是什么？ 迁移 Before: context isolation disabled After: context isolation enabled Security considerations Usage with TypeScript",content:"# 上下文隔离\n\n\n# 上下文隔离是什么？\n\n上下文隔离功能将确保您的 预加载脚本 和 Electron的内部逻辑 运行在所加载的 webcontent网页 之外的另一个独立的上下文环境里。 这对安全性很重要，因为它有助于阻止网站访问 Electron 的内部组件 和 您的预加载脚本可访问的高等级权限的API 。\n\n这意味着，实际上，您的预加载脚本访问的 window 对象并不是网站所能访问的对象。 For example, if you set window.hello = 'wave' in your preload script and context isolation is enabled, window.hello will be undefined if the website tries to access it.\n\nContext isolation has been enabled by default since Electron 12, and it is a recommended security setting for all applications.\n\n\n# 迁移\n\n> Without context isolation, I used to provide APIs from my preload script using window.X = apiObject. Now what?\n\n\n# Before: context isolation disabled\n\nExposing APIs from your preload script to a loaded website in the renderer process is a common use-case. With context isolation disabled, your preload script would share a common global window object with the renderer. You could then attach arbitrary properties to a preload script:\n\n// preload with contextIsolation disabled\nwindow.myAPI = {\n  doAThing: () => {}\n}\n\n\n1\n2\n3\n4\n\n\nThe doAThing() function could then be used directly in the renderer process:\n\n// use the exposed API in the renderer\nwindow.myAPI.doAThing()\n\n\n1\n2\n\n\n\n# After: context isolation enabled\n\nThere is a dedicated module in Electron to help you do this in a painless way. The contextBridge module can be used to safely expose APIs from your preload script's isolated context to the context the website is running in. API 还可以像以前一样，从 window.myAPI 网站上访问。\n\n// preload with contextIsolation enabled\nconst { contextBridge } = require('electron')\n\ncontextBridge.exposeInMainWorld('myAPI', {\n  doAThing: () => {}\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// use the exposed API in the renderer\nwindow.myAPI.doAThing()\n\n\n1\n2\n\n\nPlease read the contextBridge documentation linked above to fully understand its limitations. For instance, you can't send custom prototypes or symbols over the bridge.\n\n\n# Security considerations\n\n单单开启和使用 contextIsolation 并不直接意味着您所做的一切都是安全的。 For instance, this code is unsafe.\n\n// ❌ Bad code\ncontextBridge.exposeInMainWorld('myAPI', {\n  send: ipcRenderer.send\n})\n\n\n1\n2\n3\n4\n\n\n它直接暴露了一个没有任何参数过滤的高等级权限 API 。 This would allow any website to send arbitrary IPC messages, which you do not want to be possible. 相反，暴露进程间通信相关 API 的正确方法是为每一种通信消息提供一种实现方法。\n\n// ✅ Good code\ncontextBridge.exposeInMainWorld('myAPI', {\n  loadPreferences: () => ipcRenderer.invoke('load-prefs')\n})\n\n\n1\n2\n3\n4\n\n\n\n# Usage with TypeScript\n\nIf you're building your Electron app with TypeScript, you'll want to add types to your APIs exposed over the context bridge. The renderer's window object won't have the correct typings unless you extend the types with a declaration file.\n\nFor example, given this preload.ts script:\n\ncontextBridge.exposeInMainWorld('electronAPI', {\n  loadPreferences: () => ipcRenderer.invoke('load-prefs')\n})\n\n\n1\n2\n3\n\n\nYou can create a renderer.d.ts declaration file and globally augment the Window interface:\n\nexport interface IElectronAPI {\n  loadPreferences: () => Promise<void>,\n}\n\ndeclare global {\n  interface Window {\n    electronAPI: IElectronAPI\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nDoing so will ensure that the TypeScript compiler will know about the electronAPI property on your global window object when writing scripts in your renderer process:\n\nwindow.electronAPI.loadPreferences()\n\n\n1\n",normalizedContent:"# 上下文隔离\n\n\n# 上下文隔离是什么？\n\n上下文隔离功能将确保您的 预加载脚本 和 electron的内部逻辑 运行在所加载的 webcontent网页 之外的另一个独立的上下文环境里。 这对安全性很重要，因为它有助于阻止网站访问 electron 的内部组件 和 您的预加载脚本可访问的高等级权限的api 。\n\n这意味着，实际上，您的预加载脚本访问的 window 对象并不是网站所能访问的对象。 for example, if you set window.hello = 'wave' in your preload script and context isolation is enabled, window.hello will be undefined if the website tries to access it.\n\ncontext isolation has been enabled by default since electron 12, and it is a recommended security setting for all applications.\n\n\n# 迁移\n\n> without context isolation, i used to provide apis from my preload script using window.x = apiobject. now what?\n\n\n# before: context isolation disabled\n\nexposing apis from your preload script to a loaded website in the renderer process is a common use-case. with context isolation disabled, your preload script would share a common global window object with the renderer. you could then attach arbitrary properties to a preload script:\n\n// preload with contextisolation disabled\nwindow.myapi = {\n  doathing: () => {}\n}\n\n\n1\n2\n3\n4\n\n\nthe doathing() function could then be used directly in the renderer process:\n\n// use the exposed api in the renderer\nwindow.myapi.doathing()\n\n\n1\n2\n\n\n\n# after: context isolation enabled\n\nthere is a dedicated module in electron to help you do this in a painless way. the contextbridge module can be used to safely expose apis from your preload script's isolated context to the context the website is running in. api 还可以像以前一样，从 window.myapi 网站上访问。\n\n// preload with contextisolation enabled\nconst { contextbridge } = require('electron')\n\ncontextbridge.exposeinmainworld('myapi', {\n  doathing: () => {}\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// use the exposed api in the renderer\nwindow.myapi.doathing()\n\n\n1\n2\n\n\nplease read the contextbridge documentation linked above to fully understand its limitations. for instance, you can't send custom prototypes or symbols over the bridge.\n\n\n# security considerations\n\n单单开启和使用 contextisolation 并不直接意味着您所做的一切都是安全的。 for instance, this code is unsafe.\n\n// ❌ bad code\ncontextbridge.exposeinmainworld('myapi', {\n  send: ipcrenderer.send\n})\n\n\n1\n2\n3\n4\n\n\n它直接暴露了一个没有任何参数过滤的高等级权限 api 。 this would allow any website to send arbitrary ipc messages, which you do not want to be possible. 相反，暴露进程间通信相关 api 的正确方法是为每一种通信消息提供一种实现方法。\n\n// ✅ good code\ncontextbridge.exposeinmainworld('myapi', {\n  loadpreferences: () => ipcrenderer.invoke('load-prefs')\n})\n\n\n1\n2\n3\n4\n\n\n\n# usage with typescript\n\nif you're building your electron app with typescript, you'll want to add types to your apis exposed over the context bridge. the renderer's window object won't have the correct typings unless you extend the types with a declaration file.\n\nfor example, given this preload.ts script:\n\ncontextbridge.exposeinmainworld('electronapi', {\n  loadpreferences: () => ipcrenderer.invoke('load-prefs')\n})\n\n\n1\n2\n3\n\n\nyou can create a renderer.d.ts declaration file and globally augment the window interface:\n\nexport interface ielectronapi {\n  loadpreferences: () => promise<void>,\n}\n\ndeclare global {\n  interface window {\n    electronapi: ielectronapi\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\ndoing so will ensure that the typescript compiler will know about the electronapi property on your global window object when writing scripts in your renderer process:\n\nwindow.electronapi.loadpreferences()\n\n\n1\n",charsets:{cjk:!0}},{title:"dark-mode",frontmatter:{title:"dark-mode",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/6c268a/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/dark-mode.html",relativePath:"《Electron中文文档》/tutorial/dark-mode.md",key:"v-2e78cb1c",path:"/pages/6c268a/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:16},{level:3,title:"自动更新原生界面",slug:"自动更新原生界面",normalizedTitle:"自动更新原生界面",charIndex:23},{level:3,title:"自动更新您自己的界面",slug:"自动更新您自己的界面",normalizedTitle:"自动更新您自己的界面",charIndex:107},{level:3,title:"手动更新您自己的界面",slug:"手动更新您自己的界面",normalizedTitle:"手动更新您自己的界面",charIndex:203},{level:2,title:"macOS 设置",slug:"macos-设置",normalizedTitle:"macos 设置",charIndex:517},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:1258},{level:3,title:"它是如何工作的呢？",slug:"它是如何工作的呢",normalizedTitle:"它是如何工作的呢？",charIndex:1340}],headersStr:"概览 自动更新原生界面 自动更新您自己的界面 手动更新您自己的界面 macOS 设置 示例 它是如何工作的呢？",content:"# Dark Mode\n\n\n# 概览\n\n\n# 自动更新原生界面\n\n\"本地界面\"包括文件选择器、窗口边框、对话框、上下文 菜单等 - 任何UI来自操作系统而非应用的界面。 默认行为是从操作系统选择自动主题。\n\n\n# 自动更新您自己的界面\n\n如果您的应用有自己的黑暗模式，您应该在与系统黑暗模式设置同步时切换。 您可以通过使用[prefer-color-scheme] CSS 媒体查询来做到这一点。\n\n\n# 手动更新您自己的界面\n\nIf you want to manually switch between light/dark modes, you can do this by setting the desired mode in the themeSource property of the nativeTheme module. This property's value will be propagated to your Renderer process. Any CSS rules related to prefers-color-scheme will be updated accordingly.\n\n\n# macOS 设置\n\n在 macOS 10.14 Mojave中， Apple 为所有 macOS 电脑引入了一个全新的 系统级黑暗模式。 如果您的 Electron 应用具有深色模式，您可以 使用\"本机 api\" 应用 应用。\n\nIn macOS 10.15 Catalina, Apple introduced a new \"automatic\" dark mode option for all macOS computers. 为了让API isDarkMode 和 Tray 在这个模式中正常工作，你需要在 Info.plist 文件里把 NSRequiresAquaSystemAppearance 设置为 false ，或者使用 >=7.0.0 的Electron。 Both Electron Packager and Electron Forge have a darwinDarkModeSupport option to automate the Info.plist changes during app build time.\n\nIf you wish to opt-out while using Electron > 8.0.0, you must set the NSRequiresAquaSystemAppearance key in the Info.plist file to true. Please note that Electron 8.0.0 and above will not let you opt-out of this theming, due to the use of the macOS 10.14 SDK.\n\n\n# 示例\n\n此示例演示了Electron 应用程序从nativeTheme中获取主题颜色。 此外，它还使用 IPC 通道提供主题切换和重置控制。\n\n\n\n\n1\n\n\n\n# 它是如何工作的呢？\n\n从 index.html 文件开始：\n\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Hello World!</title>\n    <meta http-equiv=\"Content-Security-Policy\" content=\"script-src 'self' 'unsafe-inline';\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"./styles.css\">\n</head>\n<body>\n    <h1>Hello World!</h1>\n    <p>Current theme source: <strong id=\"theme-source\">System</strong></p>\n\n    <button id=\"toggle-dark-mode\">Toggle Dark Mode</button>\n    <button id=\"reset-to-system\">Reset to System Theme</button>\n\n    <script src=\"renderer.js\"><\/script>\n  </body>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n以及 styles.css 文件：\n\n@media (prefers-color-scheme: dark) {\n  body { background: #333; color: white; }\n}\n\n@media (prefers-color-scheme: light) {\n  body { background: #ddd; color: black; }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n该示例渲染一个包含几个元素的 HTML 页面。 <strong id=\"theme-source\"> 元素显示当前选中的主题，两个 <button> 元素是 控件。 CSS 文件使用 prefers-color-scheme 媒体查询 设置 <body> 元素背景和文本颜色。\n\npreload.js 脚本在 window对象中添加了一个新的 API叫做 深色模式。 此 API 暴露两个IPC 通道到渲染器进程，分别为 'dark-mode:toggle' 和 'dark-mode:system'。 它还分配了两个方法， toggle 和 system，它们将渲染器中的信息传递到 主进程。\n\nconst { contextBridge, ipcRenderer } = require('electron')\n\ncontextBridge.exposeInMainWorld('darkMode', {\n  toggle: () => ipcRenderer.invoke('dark-mode:toggle'),\n  system: () => ipcRenderer.invoke('dark-mode:system')\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n现在，渲染器进程可以安全地与主进程通信，并对nativeTheme 对象执行必要的变更。\n\nrenderer.js 文件负责控制 <button> 功能。\n\ndocument.getElementById('toggle-dark-mode').addEventListener('click', async () => {\n  const isDarkMode = await window.darkMode.toggle()\n  document.getElementById('theme-source').innerHTML = isDarkMode ? 'Dark' : 'Light'\n})\n\ndocument.getElementById('reset-to-system').addEventListener('click', async () => {\n  await window.darkMode.system()\n  document.getElementById('theme-source').innerHTML = 'System'\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n使用 addEventListener， renderer.js 文件将'click' 事件监听器添加到每个按钮元素上。 每个事件监听处理器都会调用到相关的 window.darkmode API 方法。\n\n最后， main.js 文件代表了主进程并包含实际的 nativeTheme API。\n\nconst { app, BrowserWindow, ipcMain, nativeTheme } = require('electron')\nconst path = require('path')\n\nfunction createWindow () {\n  const win = new BrowserWindow({\n    width: 800,\n    height: 600,\n    webPreferences: {\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n\n  win.loadFile('index.html')\n\n  ipcMain.handle('dark-mode:toggle', () => {\n    if (nativeTheme.shouldUseDarkColors) {\n      nativeTheme.themeSource = 'light'\n    } else {\n      nativeTheme.themeSource = 'dark'\n    }\n    return nativeTheme.shouldUseDarkColors\n  })\n\n  ipcMain.handle('dark-mode:system', () => {\n    nativeTheme.themeSource = 'system'\n  })\n}\n\napp.whenReady().then(() => {\n  createWindow()\n\n  app.on('activate', () => {\n    if (BrowserWindow.getAllWindows().length === 0) {\n      createWindow()\n    }\n  })\n})\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nipcMain.handle 方法表明主进程如何响应来自 HTML 页面上 按钮的点击事件。\n\n'dark-mode:toggle' IPC 通道处理器方法检查 shouldUseDarkColors boolean属性 设置对应的 themeSource, 然后返回当前的 shouldUseDarkColors 属性。 回顾此 IPC 通道的渲染器进程事件监听器，此处理器的返回值为 <strong id='theme-source'> 元素指定正确的文本。\n\n'dark-mode:system' IPC 通道处理器方法将字符串 'system' 赋值到 themeSource 同时无返回值。 这也对应于相应的渲染器进程事件监听器，因为方法正在等待，且不需要返回值。\n\n使用Electron Fiddle运行示例，然后点击“切换深色模式”按钮； 应用程序应该开始在亮色和黑色背景颜色之间交替。\n\n",normalizedContent:"# dark mode\n\n\n# 概览\n\n\n# 自动更新原生界面\n\n\"本地界面\"包括文件选择器、窗口边框、对话框、上下文 菜单等 - 任何ui来自操作系统而非应用的界面。 默认行为是从操作系统选择自动主题。\n\n\n# 自动更新您自己的界面\n\n如果您的应用有自己的黑暗模式，您应该在与系统黑暗模式设置同步时切换。 您可以通过使用[prefer-color-scheme] css 媒体查询来做到这一点。\n\n\n# 手动更新您自己的界面\n\nif you want to manually switch between light/dark modes, you can do this by setting the desired mode in the themesource property of the nativetheme module. this property's value will be propagated to your renderer process. any css rules related to prefers-color-scheme will be updated accordingly.\n\n\n# macos 设置\n\n在 macos 10.14 mojave中， apple 为所有 macos 电脑引入了一个全新的 系统级黑暗模式。 如果您的 electron 应用具有深色模式，您可以 使用\"本机 api\" 应用 应用。\n\nin macos 10.15 catalina, apple introduced a new \"automatic\" dark mode option for all macos computers. 为了让api isdarkmode 和 tray 在这个模式中正常工作，你需要在 info.plist 文件里把 nsrequiresaquasystemappearance 设置为 false ，或者使用 >=7.0.0 的electron。 both electron packager and electron forge have a darwindarkmodesupport option to automate the info.plist changes during app build time.\n\nif you wish to opt-out while using electron > 8.0.0, you must set the nsrequiresaquasystemappearance key in the info.plist file to true. please note that electron 8.0.0 and above will not let you opt-out of this theming, due to the use of the macos 10.14 sdk.\n\n\n# 示例\n\n此示例演示了electron 应用程序从nativetheme中获取主题颜色。 此外，它还使用 ipc 通道提供主题切换和重置控制。\n\n\n\n\n1\n\n\n\n# 它是如何工作的呢？\n\n从 index.html 文件开始：\n\n<!doctype html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <title>hello world!</title>\n    <meta http-equiv=\"content-security-policy\" content=\"script-src 'self' 'unsafe-inline';\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"./styles.css\">\n</head>\n<body>\n    <h1>hello world!</h1>\n    <p>current theme source: <strong id=\"theme-source\">system</strong></p>\n\n    <button id=\"toggle-dark-mode\">toggle dark mode</button>\n    <button id=\"reset-to-system\">reset to system theme</button>\n\n    <script src=\"renderer.js\"><\/script>\n  </body>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n以及 styles.css 文件：\n\n@media (prefers-color-scheme: dark) {\n  body { background: #333; color: white; }\n}\n\n@media (prefers-color-scheme: light) {\n  body { background: #ddd; color: black; }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n该示例渲染一个包含几个元素的 html 页面。 <strong id=\"theme-source\"> 元素显示当前选中的主题，两个 <button> 元素是 控件。 css 文件使用 prefers-color-scheme 媒体查询 设置 <body> 元素背景和文本颜色。\n\npreload.js 脚本在 window对象中添加了一个新的 api叫做 深色模式。 此 api 暴露两个ipc 通道到渲染器进程，分别为 'dark-mode:toggle' 和 'dark-mode:system'。 它还分配了两个方法， toggle 和 system，它们将渲染器中的信息传递到 主进程。\n\nconst { contextbridge, ipcrenderer } = require('electron')\n\ncontextbridge.exposeinmainworld('darkmode', {\n  toggle: () => ipcrenderer.invoke('dark-mode:toggle'),\n  system: () => ipcrenderer.invoke('dark-mode:system')\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n现在，渲染器进程可以安全地与主进程通信，并对nativetheme 对象执行必要的变更。\n\nrenderer.js 文件负责控制 <button> 功能。\n\ndocument.getelementbyid('toggle-dark-mode').addeventlistener('click', async () => {\n  const isdarkmode = await window.darkmode.toggle()\n  document.getelementbyid('theme-source').innerhtml = isdarkmode ? 'dark' : 'light'\n})\n\ndocument.getelementbyid('reset-to-system').addeventlistener('click', async () => {\n  await window.darkmode.system()\n  document.getelementbyid('theme-source').innerhtml = 'system'\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n使用 addeventlistener， renderer.js 文件将'click' 事件监听器添加到每个按钮元素上。 每个事件监听处理器都会调用到相关的 window.darkmode api 方法。\n\n最后， main.js 文件代表了主进程并包含实际的 nativetheme api。\n\nconst { app, browserwindow, ipcmain, nativetheme } = require('electron')\nconst path = require('path')\n\nfunction createwindow () {\n  const win = new browserwindow({\n    width: 800,\n    height: 600,\n    webpreferences: {\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n\n  win.loadfile('index.html')\n\n  ipcmain.handle('dark-mode:toggle', () => {\n    if (nativetheme.shouldusedarkcolors) {\n      nativetheme.themesource = 'light'\n    } else {\n      nativetheme.themesource = 'dark'\n    }\n    return nativetheme.shouldusedarkcolors\n  })\n\n  ipcmain.handle('dark-mode:system', () => {\n    nativetheme.themesource = 'system'\n  })\n}\n\napp.whenready().then(() => {\n  createwindow()\n\n  app.on('activate', () => {\n    if (browserwindow.getallwindows().length === 0) {\n      createwindow()\n    }\n  })\n})\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nipcmain.handle 方法表明主进程如何响应来自 html 页面上 按钮的点击事件。\n\n'dark-mode:toggle' ipc 通道处理器方法检查 shouldusedarkcolors boolean属性 设置对应的 themesource, 然后返回当前的 shouldusedarkcolors 属性。 回顾此 ipc 通道的渲染器进程事件监听器，此处理器的返回值为 <strong id='theme-source'> 元素指定正确的文本。\n\n'dark-mode:system' ipc 通道处理器方法将字符串 'system' 赋值到 themesource 同时无返回值。 这也对应于相应的渲染器进程事件监听器，因为方法正在等待，且不需要返回值。\n\n使用electron fiddle运行示例，然后点击“切换深色模式”按钮； 应用程序应该开始在亮色和黑色背景颜色之间交替。\n\n",charsets:{cjk:!0}},{title:"debugging-main-process",frontmatter:{title:"debugging-main-process",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/f9f8ff/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/debugging-main-process.html",relativePath:"《Electron中文文档》/tutorial/debugging-main-process.md",key:"v-97587600",path:"/pages/f9f8ff/",headers:[{level:2,title:"命令行开关",slug:"命令行开关",normalizedTitle:"命令行开关",charIndex:137},{level:3,title:"--inspect=[port]",slug:"inspect-port",normalizedTitle:"--inspect=[port]",charIndex:177},{level:3,title:"--inspect-brk=[port]",slug:"inspect-brk-port",normalizedTitle:"--inspect-brk=[port]",charIndex:399},{level:2,title:"外部调试器",slug:"外部调试器",normalizedTitle:"外部调试器",charIndex:468}],headersStr:"命令行开关 --inspect=[port] --inspect-brk=[port] 外部调试器",content:"# 调试主进程\n\nElectron 浏览器窗口中的 DevTools 只能调试 在该窗口中执行的 JavaScript (即 web 页面) 。 为了提供一个可以调试主进程的方法，Electron 提供了 --inspect 和 --inspect-brk 开关。\n\n\n# 命令行开关\n\n使用如下的命令行开关来调试 Electron 的主进程：\n\n\n# --inspect=[port]\n\nElectron will listen for V8 inspector protocol messages on the specified port, an external debugger will need to connect on this port. The default port is 5858.\n\nelectron --inspect=5858 your/app\n\n\n1\n\n\n\n# --inspect-brk=[port]\n\n和--inspector 一样，但是会在JavaScript 脚本的第一行暂停运行。\n\n\n# 外部调试器\n\n你需要使用一个支持 V8 调试协议的调试器\n\n * 通过访问 chrome://inspect 来连接 Chrome 并在那里选择需要检查的Electron 应用程序。\n * 使用 VsCode调试",normalizedContent:"# 调试主进程\n\nelectron 浏览器窗口中的 devtools 只能调试 在该窗口中执行的 javascript (即 web 页面) 。 为了提供一个可以调试主进程的方法，electron 提供了 --inspect 和 --inspect-brk 开关。\n\n\n# 命令行开关\n\n使用如下的命令行开关来调试 electron 的主进程：\n\n\n# --inspect=[port]\n\nelectron will listen for v8 inspector protocol messages on the specified port, an external debugger will need to connect on this port. the default port is 5858.\n\nelectron --inspect=5858 your/app\n\n\n1\n\n\n\n# --inspect-brk=[port]\n\n和--inspector 一样，但是会在javascript 脚本的第一行暂停运行。\n\n\n# 外部调试器\n\n你需要使用一个支持 v8 调试协议的调试器\n\n * 通过访问 chrome://inspect 来连接 chrome 并在那里选择需要检查的electron 应用程序。\n * 使用 vscode调试",charsets:{cjk:!0}},{title:"debugging-vscode",frontmatter:{title:"debugging-vscode",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/c25a19/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/debugging-vscode.html",relativePath:"《Electron中文文档》/tutorial/debugging-vscode.md",key:"v-2fb63222",path:"/pages/c25a19/",headers:[{level:2,title:"调试您的 Electron 应用",slug:"调试您的-electron-应用",normalizedTitle:"调试您的 electron 应用",charIndex:108},{level:3,title:"主进程",slug:"主进程",normalizedTitle:"主进程",charIndex:129},{level:4,title:"1. Open an Electron project in VSCode.",slug:"_1-open-an-electron-project-in-vscode",normalizedTitle:"1. open an electron project in vscode.",charIndex:136},{level:4,title:"2. 添加文件 .vscode/launch.json，内容为",slug:"_2-添加文件-vscode-launch-json-内容为",normalizedTitle:"2. 添加文件 .vscode/launch.json，内容为",charIndex:275},{level:4,title:"3. Debugging",slug:"_3-debugging",normalizedTitle:"3. debugging",charIndex:743},{level:2,title:"调试 Electron 代码库（Electron codebase）",slug:"调试-electron-代码库-electron-codebase",normalizedTitle:"调试 electron 代码库（electron codebase）",charIndex:922},{level:3,title:"Windows (C++)",slug:"windows-c",normalizedTitle:"windows (c++)",charIndex:1098},{level:4,title:"1. Open an Electron project in VSCode.",slug:"_1-open-an-electron-project-in-vscode-2",normalizedTitle:"1. open an electron project in vscode.",charIndex:136},{level:4,title:"2. 添加文件 .vscode/launch.json，内容为",slug:"_2-添加文件-vscode-launch-json-内容为-2",normalizedTitle:"2. 添加文件 .vscode/launch.json，内容为",charIndex:275},{level:4,title:"3. Debugging",slug:"_3-debugging-2",normalizedTitle:"3. debugging",charIndex:743}],headersStr:"调试您的 Electron 应用 主进程 1. Open an Electron project in VSCode. 2. 添加文件 .vscode/launch.json，内容为 3. Debugging 调试 Electron 代码库（Electron codebase） Windows (C++) 1. Open an Electron project in VSCode. 2. 添加文件 .vscode/launch.json，内容为 3. Debugging",content:'# 使用 VsCode调试\n\n本指南将介绍如何使用 VSCode debugging 为您自己的 Electron 项目和 native Electron 代码库（Electron codebase）调试。\n\n\n# 调试您的 Electron 应用\n\n\n# 主进程\n\n# 1. Open an Electron project in VSCode.\n\n$ git clone git@github.com:electron/electron-quick-start.git\n$ code electron-quick-start\n\n\n1\n2\n\n\n# 2. 添加文件 .vscode/launch.json，内容为\n\n{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "Debug Main Process",\n      "type": "node",\n      "request": "launch",\n      "cwd": "${workspaceFolder}",\n      "runtimeExecutable": "${workspaceFolder}/node_modules/.bin/electron",\n      "windows": {\n        "runtimeExecutable": "${workspaceFolder}/node_modules/.bin/electron.cmd"\n      },\n      "args" : ["."]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 3. Debugging\n\n在 main.js 中设置一些断点，并在 调试视图 中开始调试. 您应该能够点击断点。\n\n这是一个预先配置好了的项目，你可以下载并直接在 VSCode 中调试：https://github.com/octref/vscode-electron-debug/tree/master/electron-quick-start\n\n\n# 调试 Electron 代码库（Electron codebase）\n\n如果您想从源代码构建 Electron 并修改 native Electron 代码库，本节将帮助您测试您的修改。\n\n对于那些不确定在哪里获得代码或如何构建它， Electron 的构建工具 自动化并解释此过程的大部分。 如果你想手动设置环境，你可以使用这些 构建指令。\n\n\n# Windows (C++)\n\n# 1. Open an Electron project in VSCode.\n\n$ git clone git@github.com:electron/electron-quick-start.git\n$ code electron-quick-start\n\n\n1\n2\n\n\n# 2. 添加文件 .vscode/launch.json，内容为\n\n{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "(Windows) Launch",\n      "type": "cppvsdbg",\n      "request": "launch",\n      "program": "${workspaceFolder}\\\\out\\\\your-executable-location\\\\electron.exe",\n      "args": ["your-electron-project-path"],\n      "stopAtEntry": false,\n      "cwd": "${workspaceFolder}",\n      "environment": [\n          {"name": "ELECTRON_ENABLE_LOGGING", "value": "true"},\n          {"name": "ELECTRON_ENABLE_STACK_DUMPING", "value": "true"},\n          {"name": "ELECTRON_RUN_AS_NODE", "value": ""},\n      ],\n      "externalConsole": false,\n      "sourceFileMap": {\n          "o:\\\\": "${workspaceFolder}",\n      },\n    },\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n配置说明\n\n * cppvsdbg 需要启用 内置的 C/C++ 扩展。\n * ${workspaceFolder} 是 Chromium 的 源 的完整路径。\n * your-executable-location 将是以下几项之一：\n   * Testing：如果您使用的是默认的 Electron 构建工具 设置，或默认的 从源端构建 的设置。\n   * Release：如果你构建了一个发布版本，而不是测试版本。\n   * your-directory-name：如果你在构建过程中修改， 这将是你指定的。\n * args 数组字符串 "your electron-project-path" 应为您正在用于测试的 Electron 项目或 main.js 的绝对路径。 在本示例中，它应该是您的 electron-quick-start 的路径。\n\n# 3. Debugging\n\n在你选择的原始 Electron C++ 代码中的 .cc 文件中设置一些断点，并在 Debug View 中开始调试。',normalizedContent:'# 使用 vscode调试\n\n本指南将介绍如何使用 vscode debugging 为您自己的 electron 项目和 native electron 代码库（electron codebase）调试。\n\n\n# 调试您的 electron 应用\n\n\n# 主进程\n\n# 1. open an electron project in vscode.\n\n$ git clone git@github.com:electron/electron-quick-start.git\n$ code electron-quick-start\n\n\n1\n2\n\n\n# 2. 添加文件 .vscode/launch.json，内容为\n\n{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "debug main process",\n      "type": "node",\n      "request": "launch",\n      "cwd": "${workspacefolder}",\n      "runtimeexecutable": "${workspacefolder}/node_modules/.bin/electron",\n      "windows": {\n        "runtimeexecutable": "${workspacefolder}/node_modules/.bin/electron.cmd"\n      },\n      "args" : ["."]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 3. debugging\n\n在 main.js 中设置一些断点，并在 调试视图 中开始调试. 您应该能够点击断点。\n\n这是一个预先配置好了的项目，你可以下载并直接在 vscode 中调试：https://github.com/octref/vscode-electron-debug/tree/master/electron-quick-start\n\n\n# 调试 electron 代码库（electron codebase）\n\n如果您想从源代码构建 electron 并修改 native electron 代码库，本节将帮助您测试您的修改。\n\n对于那些不确定在哪里获得代码或如何构建它， electron 的构建工具 自动化并解释此过程的大部分。 如果你想手动设置环境，你可以使用这些 构建指令。\n\n\n# windows (c++)\n\n# 1. open an electron project in vscode.\n\n$ git clone git@github.com:electron/electron-quick-start.git\n$ code electron-quick-start\n\n\n1\n2\n\n\n# 2. 添加文件 .vscode/launch.json，内容为\n\n{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "(windows) launch",\n      "type": "cppvsdbg",\n      "request": "launch",\n      "program": "${workspacefolder}\\\\out\\\\your-executable-location\\\\electron.exe",\n      "args": ["your-electron-project-path"],\n      "stopatentry": false,\n      "cwd": "${workspacefolder}",\n      "environment": [\n          {"name": "electron_enable_logging", "value": "true"},\n          {"name": "electron_enable_stack_dumping", "value": "true"},\n          {"name": "electron_run_as_node", "value": ""},\n      ],\n      "externalconsole": false,\n      "sourcefilemap": {\n          "o:\\\\": "${workspacefolder}",\n      },\n    },\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n配置说明\n\n * cppvsdbg 需要启用 内置的 c/c++ 扩展。\n * ${workspacefolder} 是 chromium 的 源 的完整路径。\n * your-executable-location 将是以下几项之一：\n   * testing：如果您使用的是默认的 electron 构建工具 设置，或默认的 从源端构建 的设置。\n   * release：如果你构建了一个发布版本，而不是测试版本。\n   * your-directory-name：如果你在构建过程中修改， 这将是你指定的。\n * args 数组字符串 "your electron-project-path" 应为您正在用于测试的 electron 项目或 main.js 的绝对路径。 在本示例中，它应该是您的 electron-quick-start 的路径。\n\n# 3. debugging\n\n在你选择的原始 electron c++ 代码中的 .cc 文件中设置一些断点，并在 debug view 中开始调试。',charsets:{cjk:!0}},{title:"devices",frontmatter:{title:"devices",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/dbd08b/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/devices.html",relativePath:"《Electron中文文档》/tutorial/devices.md",key:"v-6c1f86fc",path:"/pages/dbd08b/",headers:[{level:2,title:"Web Bluetooth API",slug:"web-bluetooth-api",normalizedTitle:"web bluetooth api",charIndex:612},{level:3,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:866},{level:2,title:"WebHID API",slug:"webhid-api",normalizedTitle:"webhid api",charIndex:1038},{level:3,title:"Blocklist",slug:"blocklist",normalizedTitle:"blocklist",charIndex:2132},{level:3,title:"示例",slug:"示例-2",normalizedTitle:"示例",charIndex:866},{level:2,title:"Web Serial API",slug:"web-serial-api",normalizedTitle:"web serial api",charIndex:2611},{level:3,title:"示例",slug:"示例-3",normalizedTitle:"示例",charIndex:866}],headersStr:"Web Bluetooth API 示例 WebHID API Blocklist 示例 Web Serial API 示例",content:"# Device Access\n\nLike Chromium based browsers, Electron provides access to device hardware through web APIs. For the most part these APIs work like they do in a browser, but there are some differences that need to be taken into account. The primary difference between Electron and browsers is what happens when device access is requested. In a browser, users are presented with a popup where they can grant access to an individual device. In Electron APIs are provided which can be used by a developer to either automatically pick a device or prompt users to pick a device via a developer created interface.\n\n\n# Web Bluetooth API\n\nThe Web Bluetooth API can be used to communicate with bluetooth devices. In order to use this API in Electron, developers will need to handle the select-bluetooth-device event on the webContents associated with the device request.\n\n\n# 示例\n\nThis example demonstrates an Electron application that automatically selects the first available bluetooth device when the Test Bluetooth button is clicked.\n\n\n\n\n1\n\n\n\n# WebHID API\n\nThe WebHID API can be used to access HID devices such as keyboards and gamepads. Electron provides several APIs for working with the WebHID API:\n\n * The select-hid-device event on the Session can be used to select a HID device when a call to navigator.hid.requestDevice is made. Additionally the hid-device-added and hid-device-removed events on the Session can be used to handle devices being plugged in or unplugged during the navigator.hid.requestDevice process.\n * ses.setDevicePermissionHandler(handler) can be used to provide default permissioning to devices without first calling for permission to devices via navigator.hid.requestDevice. Additionally, the default behavior of Electron is to store granted device permision through the lifetime of the corresponding WebContents. If longer term storage is needed, a developer can store granted device permissions (eg when handling the select-hid-device event) and then read from that storage with setDevicePermissionHandler.\n * ses.setPermissionCheckHandler(handler) can be used to disable HID access for specific origins.\n\n\n# Blocklist\n\nBy default Electron employs the same blocklist used by Chromium. If you wish to override this behavior, you can do so by setting the disable-hid-blocklist flag:\n\napp.commandLine.appendSwitch('disable-hid-blocklist')\n\n\n1\n\n\n\n# 示例\n\nThis example demonstrates an Electron application that automatically selects HID devices through ses.setDevicePermissionHandler(handler) and through select-hid-device event on the Session when the Test WebHID button is clicked.\n\n\n\n\n1\n\n\n\n# Web Serial API\n\nThe Web Serial API can be used to access serial devices that are connected via serial port, USB, or Bluetooth. In order to use this API in Electron, developers will need to handle the select-serial-port event on the Session associated with the serial port request.\n\nThere are several additional APIs for working with the Web Serial API:\n\n * The serial-port-added and serial-port-removed events on the Session can be used to handle devices being plugged in or unplugged during the navigator.serial.requestPort process.\n * ses.setPermissionCheckHandler(handler) can be used to disable serial access for specific origins.\n\n\n# 示例\n\nThis example demonstrates an Electron application that automatically selects the first available Arduino Uno serial device (if connected) through select-serial-port event on the Session when the Test Web Serial button is clicked.\n\n\n\n\n1\n",normalizedContent:"# device access\n\nlike chromium based browsers, electron provides access to device hardware through web apis. for the most part these apis work like they do in a browser, but there are some differences that need to be taken into account. the primary difference between electron and browsers is what happens when device access is requested. in a browser, users are presented with a popup where they can grant access to an individual device. in electron apis are provided which can be used by a developer to either automatically pick a device or prompt users to pick a device via a developer created interface.\n\n\n# web bluetooth api\n\nthe web bluetooth api can be used to communicate with bluetooth devices. in order to use this api in electron, developers will need to handle the select-bluetooth-device event on the webcontents associated with the device request.\n\n\n# 示例\n\nthis example demonstrates an electron application that automatically selects the first available bluetooth device when the test bluetooth button is clicked.\n\n\n\n\n1\n\n\n\n# webhid api\n\nthe webhid api can be used to access hid devices such as keyboards and gamepads. electron provides several apis for working with the webhid api:\n\n * the select-hid-device event on the session can be used to select a hid device when a call to navigator.hid.requestdevice is made. additionally the hid-device-added and hid-device-removed events on the session can be used to handle devices being plugged in or unplugged during the navigator.hid.requestdevice process.\n * ses.setdevicepermissionhandler(handler) can be used to provide default permissioning to devices without first calling for permission to devices via navigator.hid.requestdevice. additionally, the default behavior of electron is to store granted device permision through the lifetime of the corresponding webcontents. if longer term storage is needed, a developer can store granted device permissions (eg when handling the select-hid-device event) and then read from that storage with setdevicepermissionhandler.\n * ses.setpermissioncheckhandler(handler) can be used to disable hid access for specific origins.\n\n\n# blocklist\n\nby default electron employs the same blocklist used by chromium. if you wish to override this behavior, you can do so by setting the disable-hid-blocklist flag:\n\napp.commandline.appendswitch('disable-hid-blocklist')\n\n\n1\n\n\n\n# 示例\n\nthis example demonstrates an electron application that automatically selects hid devices through ses.setdevicepermissionhandler(handler) and through select-hid-device event on the session when the test webhid button is clicked.\n\n\n\n\n1\n\n\n\n# web serial api\n\nthe web serial api can be used to access serial devices that are connected via serial port, usb, or bluetooth. in order to use this api in electron, developers will need to handle the select-serial-port event on the session associated with the serial port request.\n\nthere are several additional apis for working with the web serial api:\n\n * the serial-port-added and serial-port-removed events on the session can be used to handle devices being plugged in or unplugged during the navigator.serial.requestport process.\n * ses.setpermissioncheckhandler(handler) can be used to disable serial access for specific origins.\n\n\n# 示例\n\nthis example demonstrates an electron application that automatically selects the first available arduino uno serial device (if connected) through select-serial-port event on the session when the test web serial button is clicked.\n\n\n\n\n1\n",charsets:{cjk:!0}},{title:"electron-timelines",frontmatter:{title:"electron-timelines",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/375e96/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/electron-timelines.html",relativePath:"《Electron中文文档》/tutorial/electron-timelines.md",key:"v-2be4a934",path:"/pages/375e96/",headersStr:null,content:"# Electron 发布时间线\n\nSpecial notes:\n\n * -beta.1和稳定版日期是我们的具体的发布日期。\n * 这些是我们排定的测试版发布日程，但我们往往比预定的发布更多测试版本。\n * 我们致力于在这些日期发布版本，但可能因为诸如安全漏洞之类的理由调整这些排定的最后期限。\n * 查看 5.0.0 版本时间线博客文章 以了解我们有关发布日期的信息。\n * 从 Electron 6.0 以来，我们一直在针对每一个版本的 Chromium ，并且在同一天与 Chrome 稳定版一样放出我们的稳定版本。 您可以在这里参考 Chromium 的发布计划。 See Electron's new release cadence blog post for more details on our release schedule.\n * Electron 15.0 only will include a special Alpha release. Starting in Electron 16.0, we will release on an 8-week cadence. See Electron's new 8-week cadence blog post for more details.\n\nELECTRON   ALPHA         测试版           STABLE        CHROME   NODE\n2.0.0      --            2018-Feb-21   2018-May-01   M61      v8.9\n3.0.0      --            2018-Jun-21   2018-Sep-18   M66      v10.2\n4.0.0      --            2018-Oct-11   2018-Dec-20   M69      v10.11\n5.0.0      --            2019-Jan-22   2019-Apr-24   M73      v12.0\n6.0.0      --            2019-May-01   2019-Jul-30   M76      v12.4\n7.0.0      --            2019-Aug-01   2019-Oct-22   M78      v12.8\n8.0.0      --            2019-Oct-24   2020-Feb-04   M80      v12.13\n9.0.0      --            2020-Feb-06   2020-May-19   M83      v12.14\n10.0.0     --            2020-May-21   2020-Aug-25   M85      v12.16\n11.0.0     --            2020-Aug-27   2020-Nov-17   M87      v12.18\n12.0.0     --            2020-Nov-19   2021-Mar-02   M89      v14.16\n13.0.0     --            2021-Mar-04   2021-May-25   M91      v14.16\n14.0.0     --            2021-May-27   2021-Aug-31   M93      v14.17\n15.0.0     2021-Jul-20   2021-Sep-01   2021-Sep-21   M94      v16.5\n16.0.0     --            2021-Sep-23   2021-Nov-16   M96      待定",normalizedContent:"# electron 发布时间线\n\nspecial notes:\n\n * -beta.1和稳定版日期是我们的具体的发布日期。\n * 这些是我们排定的测试版发布日程，但我们往往比预定的发布更多测试版本。\n * 我们致力于在这些日期发布版本，但可能因为诸如安全漏洞之类的理由调整这些排定的最后期限。\n * 查看 5.0.0 版本时间线博客文章 以了解我们有关发布日期的信息。\n * 从 electron 6.0 以来，我们一直在针对每一个版本的 chromium ，并且在同一天与 chrome 稳定版一样放出我们的稳定版本。 您可以在这里参考 chromium 的发布计划。 see electron's new release cadence blog post for more details on our release schedule.\n * electron 15.0 only will include a special alpha release. starting in electron 16.0, we will release on an 8-week cadence. see electron's new 8-week cadence blog post for more details.\n\nelectron   alpha         测试版           stable        chrome   node\n2.0.0      --            2018-feb-21   2018-may-01   m61      v8.9\n3.0.0      --            2018-jun-21   2018-sep-18   m66      v10.2\n4.0.0      --            2018-oct-11   2018-dec-20   m69      v10.11\n5.0.0      --            2019-jan-22   2019-apr-24   m73      v12.0\n6.0.0      --            2019-may-01   2019-jul-30   m76      v12.4\n7.0.0      --            2019-aug-01   2019-oct-22   m78      v12.8\n8.0.0      --            2019-oct-24   2020-feb-04   m80      v12.13\n9.0.0      --            2020-feb-06   2020-may-19   m83      v12.14\n10.0.0     --            2020-may-21   2020-aug-25   m85      v12.16\n11.0.0     --            2020-aug-27   2020-nov-17   m87      v12.18\n12.0.0     --            2020-nov-19   2021-mar-02   m89      v14.16\n13.0.0     --            2021-mar-04   2021-may-25   m91      v14.16\n14.0.0     --            2021-may-27   2021-aug-31   m93      v14.17\n15.0.0     2021-jul-20   2021-sep-01   2021-sep-21   m94      v16.5\n16.0.0     --            2021-sep-23   2021-nov-16   m96      待定",charsets:{cjk:!0}},{title:"devtools-extension",frontmatter:{title:"devtools-extension",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/da9606/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/devtools-extension.html",relativePath:"《Electron中文文档》/tutorial/devtools-extension.md",key:"v-7d682484",path:"/pages/da9606/",headers:[{level:2,title:"使用工具加载 DevTools 扩展",slug:"使用工具加载-devtools-扩展",normalizedTitle:"使用工具加载 devtools 扩展",charIndex:167},{level:2,title:"手动加载 DevTools 扩展",slug:"手动加载-devtools-扩展",normalizedTitle:"手动加载 devtools 扩展",charIndex:275},{level:3,title:"删除 DevTools 扩展",slug:"删除-devtools-扩展",normalizedTitle:"删除 devtools 扩展",charIndex:1823},{level:2,title:"DevTools 扩展支持",slug:"devtools-扩展支持",normalizedTitle:"devtools 扩展支持",charIndex:1919},{level:3,title:"如果 DevTools 扩展不工作，我该怎么办？",slug:"如果-devtools-扩展不工作-我该怎么办",normalizedTitle:"如果 devtools 扩展不工作，我该怎么办？",charIndex:2248}],headersStr:"使用工具加载 DevTools 扩展 手动加载 DevTools 扩展 删除 DevTools 扩展 DevTools 扩展支持 如果 DevTools 扩展不工作，我该怎么办？",content:"# 开发者工具扩展\n\nElectron supports Chrome DevTools extensions, which can be used to extend the ability of Chrome's developer tools for debugging popular web frameworks.\n\n\n# 使用工具加载 DevTools 扩展\n\n加载 DevTools 扩展的最简单方法是使用第三方工具，来为您实现自动化过程。 electron-devtools-installer 是一个受欢迎的 NPM 包。\n\n\n# 手动加载 DevTools 扩展\n\n如果你不想使用工具加载，你也可以手动完成所有必需的操作。 要在 Electron 中加载扩展，您需要在 Chrome 下载它，找到其文件系统路径，然后通过调用[ses.loadExtension] API 将其加载到您的 Session 中。\n\n下面以React Developer Tools为例：\n\n 1. 在 Google Chrome 中安装扩展。\n\n 2. 打开chrome://extensions，找到扩展程序的ID，像 fmkadmapgofadopljbjfkapdkoienihi 一样的 hash 字符串。\n\n 3. 找到 Chrome 扩展程序的存放目录：\n    \n    * 在Ｗindows 下为 %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Extensions;\n    * 在 Linux下为：\n      * ~/.config/google-chrome/Default/Extensions/\n      * ~/.config/google-chrome-beta/Default/Extensions/\n      * ~/.config/google-chrome-canary/Default/Extensions/\n      * ~/.config/chromium/Default/Extensions/\n    * 在 macOS下为~/Library/Application Support/Google/Chrome/Default/Extensions。\n\n 4. 将扩展的位置传递给 ses.loadExtension API。 对于 React Developer Tools v4.9.0, 它看起来像：\n    \n     const { app, session } = require('electron')\n     const path = require('path')\n     const os = require('os')\n    \n     // on macOS\n     const reactDevToolsPath = path.join(\n       os.homedir(),\n       '/Library/Application Support/Google/Chrome/Default/Extensions/fmkadmapgofadopljbjfkapdkoienihi/4.9.0_0'\n     )\n    \n     app.whenReady().then(async () => {\n       await session.defaultSession.loadExtension(reactDevToolsPath)\n     })\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n说明：\n\n * loadExtension 返回一个包含 扩展对象 的 Promise，其中包含加载的扩展有关的元数据。 在加载页面前，此 Promise 需要被 resolve（例如使用 await 表达式）。 否则将无法保证扩展被加载。\n * loadExtension 无法在 app 模块 ready 之前调用，也不能被内存(非持久) 会话调用。\n * 如果您希望加载扩展，则必须在应用的每次启动时调用loadExtension 。\n\n\n# 删除 DevTools 扩展\n\n您可以将扩展的 ID 传递给 ses.removeExtension API，以将其从您的 Session 中删除。 每次应用重新启动，扩展不会持续。\n\n\n# DevTools 扩展支持\n\nElectron 仅支持 有限的 chrome.* APIs ，所以使用不支持的 chrome.* 扩展的 APIs 可能无法工作。\n\n以下 DevTools 扩展程序已经通过测试，可以在 Electron 中正常工作：\n\n * Ember Inspector\n * React Developer Tools\n * Backbone Debugger\n * jQuery Debugger\n * AngularJS Batarang\n * Vue.js devtools\n * Cerebral Debugger\n * Redux DevTools Extension\n * MobX Developer Tools\n\n\n# 如果 DevTools 扩展不工作，我该怎么办？\n\n首先，请确保扩展仍在维护中，并与最新版本的 Google Chrome 兼容。 我们不能为不受支持的扩展提供额外支持。\n\n如果扩展可以在 Chrome 上运行，但不能在 Electron 上运行， 在 Electron 的 issue Tracker 中提交一个错误，并描述扩展的哪个部分不能按预期工作。",normalizedContent:"# 开发者工具扩展\n\nelectron supports chrome devtools extensions, which can be used to extend the ability of chrome's developer tools for debugging popular web frameworks.\n\n\n# 使用工具加载 devtools 扩展\n\n加载 devtools 扩展的最简单方法是使用第三方工具，来为您实现自动化过程。 electron-devtools-installer 是一个受欢迎的 npm 包。\n\n\n# 手动加载 devtools 扩展\n\n如果你不想使用工具加载，你也可以手动完成所有必需的操作。 要在 electron 中加载扩展，您需要在 chrome 下载它，找到其文件系统路径，然后通过调用[ses.loadextension] api 将其加载到您的 session 中。\n\n下面以react developer tools为例：\n\n 1. 在 google chrome 中安装扩展。\n\n 2. 打开chrome://extensions，找到扩展程序的id，像 fmkadmapgofadopljbjfkapdkoienihi 一样的 hash 字符串。\n\n 3. 找到 chrome 扩展程序的存放目录：\n    \n    * 在ｗindows 下为 %localappdata%\\google\\chrome\\user data\\default\\extensions;\n    * 在 linux下为：\n      * ~/.config/google-chrome/default/extensions/\n      * ~/.config/google-chrome-beta/default/extensions/\n      * ~/.config/google-chrome-canary/default/extensions/\n      * ~/.config/chromium/default/extensions/\n    * 在 macos下为~/library/application support/google/chrome/default/extensions。\n\n 4. 将扩展的位置传递给 ses.loadextension api。 对于 react developer tools v4.9.0, 它看起来像：\n    \n     const { app, session } = require('electron')\n     const path = require('path')\n     const os = require('os')\n    \n     // on macos\n     const reactdevtoolspath = path.join(\n       os.homedir(),\n       '/library/application support/google/chrome/default/extensions/fmkadmapgofadopljbjfkapdkoienihi/4.9.0_0'\n     )\n    \n     app.whenready().then(async () => {\n       await session.defaultsession.loadextension(reactdevtoolspath)\n     })\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n说明：\n\n * loadextension 返回一个包含 扩展对象 的 promise，其中包含加载的扩展有关的元数据。 在加载页面前，此 promise 需要被 resolve（例如使用 await 表达式）。 否则将无法保证扩展被加载。\n * loadextension 无法在 app 模块 ready 之前调用，也不能被内存(非持久) 会话调用。\n * 如果您希望加载扩展，则必须在应用的每次启动时调用loadextension 。\n\n\n# 删除 devtools 扩展\n\n您可以将扩展的 id 传递给 ses.removeextension api，以将其从您的 session 中删除。 每次应用重新启动，扩展不会持续。\n\n\n# devtools 扩展支持\n\nelectron 仅支持 有限的 chrome.* apis ，所以使用不支持的 chrome.* 扩展的 apis 可能无法工作。\n\n以下 devtools 扩展程序已经通过测试，可以在 electron 中正常工作：\n\n * ember inspector\n * react developer tools\n * backbone debugger\n * jquery debugger\n * angularjs batarang\n * vue.js devtools\n * cerebral debugger\n * redux devtools extension\n * mobx developer tools\n\n\n# 如果 devtools 扩展不工作，我该怎么办？\n\n首先，请确保扩展仍在维护中，并与最新版本的 google chrome 兼容。 我们不能为不受支持的扩展提供额外支持。\n\n如果扩展可以在 chrome 上运行，但不能在 electron 上运行， 在 electron 的 issue tracker 中提交一个错误，并描述扩展的哪个部分不能按预期工作。",charsets:{cjk:!0}},{title:"electron-versioning",frontmatter:{title:"electron-versioning",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/09695e/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/electron-versioning.html",relativePath:"《Electron中文文档》/tutorial/electron-versioning.md",key:"v-be795108",path:"/pages/09695e/",headers:[{level:2,title:"版本1.x",slug:"版本1-x",normalizedTitle:"版本1.x",charIndex:198},{level:2,title:"版本 2.0 和之后版本",slug:"版本-2-0-和之后版本",normalizedTitle:"版本 2.0 和之后版本",charIndex:555}],headersStr:"版本1.x 版本 2.0 和之后版本",content:"# Electron 版本管理\n\n> 详细查看我们的版本控制策略和实现。\n\n自 2.0.0 版本起，Electron 遵循 SemVer。 以下命令将安装最新稳定版的 Electron：\n\nnpm install --save-dev electron\n\n\n1\n\n\n现有项目更新到最新的稳定版本:\n\nnpm install --save-dev electron@latest\n\n\n1\n\n\n\n# 版本1.x\n\n*小于 2.0 * 的 Electron 版本编号并不遵循 SemVer 规范: major 版本对应最终用户 API 的变更, minor 版本更新对应 Chromium 的主版本更新, patch 版本更新会带来新功能和 bug 修复。 虽然方便开发人员合并功能，但却为面向客户端应用程序的开发人员带来了麻烦。 像Slack，Stride，Teams，Skype，VS Code，Atom和Desktop等主要应用程序的QA测试周期可能很长，稳定性是一个非常理想的结果。 尝试吸收错误修复时，采用新功能的风险很高。\n\n以下是 1.x 策略的一个例子：\n\n\n\n使用 1.8.1开发的应用程序无法吸收 1.8.2 的功能，或者通过反向移植修复和维护新的发行版，无法采用 1.8.3错误修复。\n\n\n# 版本 2.0 和之后版本\n\nThere are several major changes from our 1.x strategy outlined below. Each change is intended to satisfy the needs and priorities of developers/maintainers and app developers.\n\n 1. 严格使用 SemVer\n 2. 引入符合 semver 的 -beta 标签\n 3. 引入常规提交消息\n 4. 明确定义的稳定分支\n 5. master分支没有版本信息，只有稳定分支会包含版本信息。\n\n我们将详细介绍 git 分支是如何工作的，npm 标记是如何工作的，开发人员应该看到什么，以及如何能够支持更改。\n\n\n# SemVer\n\n从 2.0 开始，Electron 将遵循 SemVer。\n\n下面是一个表格，明确地将变化的类型映射到它们对应的 SemVer 类别 (例如Major，Minor，Patch)。\n\nMAJOR 版本增量            MINOR 版本增量             PATCH 版本增量\nElectron 突破性 API 变更   Electron 无突破性 API 变更   Electron bug fixes\nNode.js 重大版本更新        Node.js 次要版本更新         Node.js patch 版本更新\nChromium 版本更新                                修复相关的 chromium 补丁\n\n请注意，大多数 Chromium 更新都将被认为是破坏性的。 Fixes that can be backported will likely be cherry-picked as patches.\n\n\n# 稳定分支\n\n稳定分支是与主控并行运行的分支，仅接受与安全性或稳定性有关的最优提交。 这些分支永远不会合并回 master 分支.\n\n\n\n自 Electron 8 以来，稳定分支始终为 marjar 版本，并且根据以下模板 $MAJOR-x-y 例如： 8-x-y。 在此之前，我们使用 minor 版本行，并将它们命名为 $MAJOR-$MINOR-x 例如： 2-0-x\n\n我们允许同时存在多个稳定分支，并且打算在任何时候至少支持两个并行支持安全修复。\n\nGitHub不支持旧线路，但是其他分组可以自行获取所有权和返回稳定性和安全修复。 我们不鼓励这样做，但是认识到它使得许多应用程序开发人员的生活更轻松。\n\n\n# 测试版和Bug修复\n\n开发人员想知道哪个版本可以 安全 使用。 即使是简单的功能也会使应用程序变得复杂。 同时，锁定到一个固定的版本是很危险的，因为你忽略了自你的版本以来可能出现的安全补丁和错误修复。 我们的目标是在 package.json 中允许以下标准的 semver 范围:\n\n * 使用 ~ 2.0. 0 只接受您的 2.0.0 版本的稳定性或安全性相关的修复程序。\n * 使用 ^ 2.0. 0 可允许不破坏性的 _ 合理稳定 _ 功能以及安全性和 bug 修复。\n\n第二点重要的是使用 ^ 的应用程序仍然能够期望合理的稳定性水平。 为了达到这个目的，SemVer允许使用一个 pre-release 标识 来表示一个特定的版本还不够 安全 或 稳定。\n\n无论你选择什么，你将定期不得不在 package.json 中打破版本，因为突破性变更是 Chromium 的一个常态。\n\n过程如下:\n\n 1. All new major and minor releases lines begin with a beta series indicated by SemVer prerelease tags of beta.N, e.g. 2.0.0-beta.1. After the first beta, subsequent beta releases must meet all of the following conditions:\n    1. 更改是落后的 API 兼容 (允许废弃)\n    2. 实现我们稳定的时间表的危险必须是低的。\n 2. 如果允许更改需要在释放测试版之后进行，则使用并增加预放标签，例如2.0.0-beta.2。\n 3. 如果特定的beta版本_通常被认为_是稳定的，那么它将作为稳定版本被重新发布，只改变版本信息。例如.0。 例如 2.0.0-beta.1. 在第一个稳定之后，所有的变化都必须落后兼容的 bug 或安全修复。\n 4. 如果未来错误修复或安全补丁一旦发布稳定，它们将被应用，并且 补丁 版本被增量 ，例如 2.0.1。\n\n特别地，上述步骤意味着：\n\n 1. 在测试周期的第 3 周前允许非破坏性的 API 更改，即使这些变化有可能造成适度的副影响。\n 2. Admitting feature-flagged changes, that do not otherwise alter existing code paths, at most points in the beta cycle is okay. Users can explicitly enable those flags in their apps.\n 3. Admitting features of any sort after Week 3 in the beta cycle is 👎 without a very good reason.\n\n对于每个主要和次要的颠覆，你都应该像以下示例一样进行操作：\n\n2.0.0-beta.1\n2.0.0-beta.2\n2.0.0-beta.3\n2.0.0\n2.0.1\n2.0.2\n\n\n1\n2\n3\n4\n5\n6\n\n\n图片中的生命周期示例:\n\n * A new release branch is created that includes the latest set of features. 它会被发布为 2.0.0-beta.1。\n * A bug fix comes into master that can be backported to the release branch. The patch is applied, and a new beta is published as 2.0.0-beta.2.\n * 测试版被认为是 _ 一般稳定 _ 的, 它在 2.0.0 下作为非 beta 版本再次被发布。\n * 之后有个 0day 漏洞被发现，然后对 master 采取了修复措施。 We backport the fix to the 2-0-x line and release 2.0.1.\n\n几个不同的 SemVer 范围将如何接收新版本的示例:\n\n\n\n\n# 缺失的特性: alpha版本\n\n我们的战略有几次权衡，我们现在认为这是适当的。 最重要的是, 新的主分支特性可能需要一段时间才能作为稳定版发布。 如果你想立即尝试一个新的特性, 你必须自己编译Electron 。\n\n作为未来的考虑, 我们可以介绍以下一种或两种情况:\n\n * 具有松散稳定性限制的 alpha 释放版; 例如, 当稳定通道在 _ alpha _ 中时, 允许接纳新特性\n\n\n# 功能标志\n\n功能标志是 Chromium 的一种常见的做法, 在网络开发生态系统中得到了很好的确立。 在 Electron 环境中, 功能标志或 ** 软分支 ** 必须具有以下属性:\n\n * 是在运行时或生成时启用/禁用的。我们不支持请求作用域功能标志的概念\n * 它完全细分新的和旧的代码路径; 重构旧代码以允许新功能 _ 违反 _ 功能标志内容\n * 在合并功能后, 功能标志最终将被删除\n\n\n# 提交语义\n\n我们力求在更新和发布过程的各个层面提高清晰度。 从 2.0.0 开始, 我们将要求遵循 常规提交 规范的拉请求, 可以概括如下:\n\n * 会导致 SemVer major 版本改变的提交必须以BREAKING CHANGE:开头。\n\n * 会导致 SemVer minor 版本改变的提交必须以 feat: 开头。\n\n * 会导致 SemVer ** patch ** 版本改变的提交必须以 fix: 开头。\n\n * 我们允许合并提交，只要合并提交的消息符合上述消息格式。\n\n * 只要pull request里包含有意义的总结性的版本语义消息，即使它其中的某些提交消息不包含版本语义前缀也是可以接受的\n\n\n# 打了版本的 主分支\n\n * The master 分支将始终在其 package.json 中包含 0.0.0-dev.\n * Release 分支永远不会合并回 master 分支\n * 发布分支 在 其package.json 中包含正确的版本\n * As soon as a release branch is cut for a major, master must be bumped to the next major. I.e. master is always versioned as the next theoretical release branch",normalizedContent:"# electron 版本管理\n\n> 详细查看我们的版本控制策略和实现。\n\n自 2.0.0 版本起，electron 遵循 semver。 以下命令将安装最新稳定版的 electron：\n\nnpm install --save-dev electron\n\n\n1\n\n\n现有项目更新到最新的稳定版本:\n\nnpm install --save-dev electron@latest\n\n\n1\n\n\n\n# 版本1.x\n\n*小于 2.0 * 的 electron 版本编号并不遵循 semver 规范: major 版本对应最终用户 api 的变更, minor 版本更新对应 chromium 的主版本更新, patch 版本更新会带来新功能和 bug 修复。 虽然方便开发人员合并功能，但却为面向客户端应用程序的开发人员带来了麻烦。 像slack，stride，teams，skype，vs code，atom和desktop等主要应用程序的qa测试周期可能很长，稳定性是一个非常理想的结果。 尝试吸收错误修复时，采用新功能的风险很高。\n\n以下是 1.x 策略的一个例子：\n\n\n\n使用 1.8.1开发的应用程序无法吸收 1.8.2 的功能，或者通过反向移植修复和维护新的发行版，无法采用 1.8.3错误修复。\n\n\n# 版本 2.0 和之后版本\n\nthere are several major changes from our 1.x strategy outlined below. each change is intended to satisfy the needs and priorities of developers/maintainers and app developers.\n\n 1. 严格使用 semver\n 2. 引入符合 semver 的 -beta 标签\n 3. 引入常规提交消息\n 4. 明确定义的稳定分支\n 5. master分支没有版本信息，只有稳定分支会包含版本信息。\n\n我们将详细介绍 git 分支是如何工作的，npm 标记是如何工作的，开发人员应该看到什么，以及如何能够支持更改。\n\n\n# semver\n\n从 2.0 开始，electron 将遵循 semver。\n\n下面是一个表格，明确地将变化的类型映射到它们对应的 semver 类别 (例如major，minor，patch)。\n\nmajor 版本增量            minor 版本增量             patch 版本增量\nelectron 突破性 api 变更   electron 无突破性 api 变更   electron bug fixes\nnode.js 重大版本更新        node.js 次要版本更新         node.js patch 版本更新\nchromium 版本更新                                修复相关的 chromium 补丁\n\n请注意，大多数 chromium 更新都将被认为是破坏性的。 fixes that can be backported will likely be cherry-picked as patches.\n\n\n# 稳定分支\n\n稳定分支是与主控并行运行的分支，仅接受与安全性或稳定性有关的最优提交。 这些分支永远不会合并回 master 分支.\n\n\n\n自 electron 8 以来，稳定分支始终为 marjar 版本，并且根据以下模板 $major-x-y 例如： 8-x-y。 在此之前，我们使用 minor 版本行，并将它们命名为 $major-$minor-x 例如： 2-0-x\n\n我们允许同时存在多个稳定分支，并且打算在任何时候至少支持两个并行支持安全修复。\n\ngithub不支持旧线路，但是其他分组可以自行获取所有权和返回稳定性和安全修复。 我们不鼓励这样做，但是认识到它使得许多应用程序开发人员的生活更轻松。\n\n\n# 测试版和bug修复\n\n开发人员想知道哪个版本可以 安全 使用。 即使是简单的功能也会使应用程序变得复杂。 同时，锁定到一个固定的版本是很危险的，因为你忽略了自你的版本以来可能出现的安全补丁和错误修复。 我们的目标是在 package.json 中允许以下标准的 semver 范围:\n\n * 使用 ~ 2.0. 0 只接受您的 2.0.0 版本的稳定性或安全性相关的修复程序。\n * 使用 ^ 2.0. 0 可允许不破坏性的 _ 合理稳定 _ 功能以及安全性和 bug 修复。\n\n第二点重要的是使用 ^ 的应用程序仍然能够期望合理的稳定性水平。 为了达到这个目的，semver允许使用一个 pre-release 标识 来表示一个特定的版本还不够 安全 或 稳定。\n\n无论你选择什么，你将定期不得不在 package.json 中打破版本，因为突破性变更是 chromium 的一个常态。\n\n过程如下:\n\n 1. all new major and minor releases lines begin with a beta series indicated by semver prerelease tags of beta.n, e.g. 2.0.0-beta.1. after the first beta, subsequent beta releases must meet all of the following conditions:\n    1. 更改是落后的 api 兼容 (允许废弃)\n    2. 实现我们稳定的时间表的危险必须是低的。\n 2. 如果允许更改需要在释放测试版之后进行，则使用并增加预放标签，例如2.0.0-beta.2。\n 3. 如果特定的beta版本_通常被认为_是稳定的，那么它将作为稳定版本被重新发布，只改变版本信息。例如.0。 例如 2.0.0-beta.1. 在第一个稳定之后，所有的变化都必须落后兼容的 bug 或安全修复。\n 4. 如果未来错误修复或安全补丁一旦发布稳定，它们将被应用，并且 补丁 版本被增量 ，例如 2.0.1。\n\n特别地，上述步骤意味着：\n\n 1. 在测试周期的第 3 周前允许非破坏性的 api 更改，即使这些变化有可能造成适度的副影响。\n 2. admitting feature-flagged changes, that do not otherwise alter existing code paths, at most points in the beta cycle is okay. users can explicitly enable those flags in their apps.\n 3. admitting features of any sort after week 3 in the beta cycle is 👎 without a very good reason.\n\n对于每个主要和次要的颠覆，你都应该像以下示例一样进行操作：\n\n2.0.0-beta.1\n2.0.0-beta.2\n2.0.0-beta.3\n2.0.0\n2.0.1\n2.0.2\n\n\n1\n2\n3\n4\n5\n6\n\n\n图片中的生命周期示例:\n\n * a new release branch is created that includes the latest set of features. 它会被发布为 2.0.0-beta.1。\n * a bug fix comes into master that can be backported to the release branch. the patch is applied, and a new beta is published as 2.0.0-beta.2.\n * 测试版被认为是 _ 一般稳定 _ 的, 它在 2.0.0 下作为非 beta 版本再次被发布。\n * 之后有个 0day 漏洞被发现，然后对 master 采取了修复措施。 we backport the fix to the 2-0-x line and release 2.0.1.\n\n几个不同的 semver 范围将如何接收新版本的示例:\n\n\n\n\n# 缺失的特性: alpha版本\n\n我们的战略有几次权衡，我们现在认为这是适当的。 最重要的是, 新的主分支特性可能需要一段时间才能作为稳定版发布。 如果你想立即尝试一个新的特性, 你必须自己编译electron 。\n\n作为未来的考虑, 我们可以介绍以下一种或两种情况:\n\n * 具有松散稳定性限制的 alpha 释放版; 例如, 当稳定通道在 _ alpha _ 中时, 允许接纳新特性\n\n\n# 功能标志\n\n功能标志是 chromium 的一种常见的做法, 在网络开发生态系统中得到了很好的确立。 在 electron 环境中, 功能标志或 ** 软分支 ** 必须具有以下属性:\n\n * 是在运行时或生成时启用/禁用的。我们不支持请求作用域功能标志的概念\n * 它完全细分新的和旧的代码路径; 重构旧代码以允许新功能 _ 违反 _ 功能标志内容\n * 在合并功能后, 功能标志最终将被删除\n\n\n# 提交语义\n\n我们力求在更新和发布过程的各个层面提高清晰度。 从 2.0.0 开始, 我们将要求遵循 常规提交 规范的拉请求, 可以概括如下:\n\n * 会导致 semver major 版本改变的提交必须以breaking change:开头。\n\n * 会导致 semver minor 版本改变的提交必须以 feat: 开头。\n\n * 会导致 semver ** patch ** 版本改变的提交必须以 fix: 开头。\n\n * 我们允许合并提交，只要合并提交的消息符合上述消息格式。\n\n * 只要pull request里包含有意义的总结性的版本语义消息，即使它其中的某些提交消息不包含版本语义前缀也是可以接受的\n\n\n# 打了版本的 主分支\n\n * the master 分支将始终在其 package.json 中包含 0.0.0-dev.\n * release 分支永远不会合并回 master 分支\n * 发布分支 在 其package.json 中包含正确的版本\n * as soon as a release branch is cut for a major, master must be bumped to the next major. i.e. master is always versioned as the next theoretical release branch",charsets:{cjk:!0}},{title:"fuses",frontmatter:{title:"fuses",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/aa75da/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/fuses.html",relativePath:"《Electron中文文档》/tutorial/fuses.md",key:"v-f6d3c3c8",path:"/pages/aa75da/",headers:[{level:2,title:"What are fuses?",slug:"what-are-fuses",normalizedTitle:"what are fuses?",charIndex:53},{level:2,title:"How do I flip the fuses?",slug:"how-do-i-flip-the-fuses",normalizedTitle:"how do i flip the fuses?",charIndex:913},{level:3,title:"The easy way",slug:"the-easy-way",normalizedTitle:"the easy way",charIndex:942},{level:3,title:"The hard way",slug:"the-hard-way",normalizedTitle:"the hard way",charIndex:1279},{level:4,title:"Quick Glossary",slug:"quick-glossary",normalizedTitle:"quick glossary",charIndex:1295}],headersStr:"What are fuses? How do I flip the fuses? The easy way The hard way Quick Glossary",content:'# Electron Fuses\n\n> Package time feature toggles\n\n\n# What are fuses?\n\nFor a subset of Electron functionality it makes sense to disable certain features for an entire application. For example, 99% of apps don\'t make use of ELECTRON_RUN_AS_NODE, these applications want to be able to ship a binary that is incapable of using that feature. We also don\'t want Electron consumers building Electron from source as that is both a massive technical challenge and has a high cost of both time and money.\n\nFuses are the solution to this problem, at a high level they are "magic bits" in the Electron binary that can be flipped when packaging your Electron app to enable / disable certain features / restrictions. Because they are flipped at package time before you code sign your app the OS becomes responsible for ensuring those bits aren\'t flipped back via OS level code signing validation (Gatekeeper / App Locker).\n\n\n# How do I flip the fuses?\n\n\n# The easy way\n\nWe\'ve made a handy module @electron/fuses to make flipping these fuses easy. Check out the README of that module for more details on usage and potential error cases.\n\nrequire(\'@electron/fuses\').flipFuses(\n  // Path to electron\n  require(\'electron\'),\n  // Fuses to flip\n  {\n    runAsNode: false\n  }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# The hard way\n\n# Quick Glossary\n\n * Fuse Wire: A sequence of bytes in the Electron binary used to control the fuses\n * Sentinel: A static known sequence of bytes you can use to locate the fuse wire\n * Fuse Schema: The format / allowed values for the fuse wire\n\nManually flipping fuses requires editing the Electron binary and modifying the fuse wire to be the sequence of bytes that represent the state of the fuses you want.\n\nSomewhere in the Electron binary there will be a sequence of bytes that look like this:\n\n| ...binary | sentinel_bytes | fuse_version | fuse_wire_length | fuse_wire | ...binary |\n\n\n1\n\n * sentinel_bytes is always this exact string dL7pKGdnNz796PbbjQWNKmHXBZaB9tsX\n * fuse_version is a single byte whose unsigned integer value represents the version of the fuse schema\n * fuse_wire_length is a single byte whose unsigned integer value represents the number of fuses in the following fuse wire\n * fuse_wire is a sequence of N bytes, each byte represents a single fuse and its state.\n   * "0" (0x30) indicates the fuse is disabled\n   * "1" (0x31) indicates the fuse is enabled\n   * "r" (0x72) indicates the fuse has been removed and changing the byte to either 1 or 0 will have no effect.\n\nTo flip a fuse you find its position in the fuse wire and change it to "0" or "1" depending on the state you\'d like.\n\n您可以在 这里查看当前schema。',normalizedContent:'# electron fuses\n\n> package time feature toggles\n\n\n# what are fuses?\n\nfor a subset of electron functionality it makes sense to disable certain features for an entire application. for example, 99% of apps don\'t make use of electron_run_as_node, these applications want to be able to ship a binary that is incapable of using that feature. we also don\'t want electron consumers building electron from source as that is both a massive technical challenge and has a high cost of both time and money.\n\nfuses are the solution to this problem, at a high level they are "magic bits" in the electron binary that can be flipped when packaging your electron app to enable / disable certain features / restrictions. because they are flipped at package time before you code sign your app the os becomes responsible for ensuring those bits aren\'t flipped back via os level code signing validation (gatekeeper / app locker).\n\n\n# how do i flip the fuses?\n\n\n# the easy way\n\nwe\'ve made a handy module @electron/fuses to make flipping these fuses easy. check out the readme of that module for more details on usage and potential error cases.\n\nrequire(\'@electron/fuses\').flipfuses(\n  // path to electron\n  require(\'electron\'),\n  // fuses to flip\n  {\n    runasnode: false\n  }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# the hard way\n\n# quick glossary\n\n * fuse wire: a sequence of bytes in the electron binary used to control the fuses\n * sentinel: a static known sequence of bytes you can use to locate the fuse wire\n * fuse schema: the format / allowed values for the fuse wire\n\nmanually flipping fuses requires editing the electron binary and modifying the fuse wire to be the sequence of bytes that represent the state of the fuses you want.\n\nsomewhere in the electron binary there will be a sequence of bytes that look like this:\n\n| ...binary | sentinel_bytes | fuse_version | fuse_wire_length | fuse_wire | ...binary |\n\n\n1\n\n * sentinel_bytes is always this exact string dl7pkgdnnz796pbbjqwnkmhxbzab9tsx\n * fuse_version is a single byte whose unsigned integer value represents the version of the fuse schema\n * fuse_wire_length is a single byte whose unsigned integer value represents the number of fuses in the following fuse wire\n * fuse_wire is a sequence of n bytes, each byte represents a single fuse and its state.\n   * "0" (0x30) indicates the fuse is disabled\n   * "1" (0x31) indicates the fuse is enabled\n   * "r" (0x72) indicates the fuse has been removed and changing the byte to either 1 or 0 will have no effect.\n\nto flip a fuse you find its position in the fuse wire and change it to "0" or "1" depending on the state you\'d like.\n\n您可以在 这里查看当前schema。',charsets:{cjk:!0}},{title:"in-app-purchases",frontmatter:{title:"in-app-purchases",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/4149a6/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/in-app-purchases.html",relativePath:"《Electron中文文档》/tutorial/in-app-purchases.md",key:"v-2c1a6138",path:"/pages/4149a6/",headers:[{level:2,title:"准备工作",slug:"准备工作",normalizedTitle:"准备工作",charIndex:31},{level:3,title:"付费应用协议",slug:"付费应用协议",normalizedTitle:"付费应用协议",charIndex:40},{level:3,title:"创建您的应用内购买",slug:"创建您的应用内购买",normalizedTitle:"创建您的应用内购买",charIndex:138},{level:3,title:"变更 CFBundleIdentifier",slug:"变更-cfbundleidentifier",normalizedTitle:"变更 cfbundleidentifier",charIndex:251},{level:2,title:"代码示例",slug:"代码示例",normalizedTitle:"代码示例",charIndex:535}],headersStr:"准备工作 付费应用协议 创建您的应用内购买 变更 CFBundleIdentifier 代码示例",content:"# In-App Purchases (macOS)\n\n\n# 准备工作\n\n\n# 付费应用协议\n\n如果你还没有，你需要在 iTunes Connect 签署付费应用协议, 并设置您的银行和税务信息。\n\niTunes Connect 开发人员帮助: 协议、税务和银行概述\n\n\n# 创建您的应用内购买\n\n然后，您需要在iTunes Connect中配置您的应用内购买，并包含名称，定价和说明等详细信息，以突出显示您的应用内购买的功能。\n\niTunes Connect开发人员帮助：创建应用程序内购买\n\n\n# 变更 CFBundleIdentifier\n\n若要在Electron开发阶段对应用内购买功能进行测试，您必须在node_modules/electron/dist/Electron.app/Contents/Info.plist路径下修改CFBundleIdentifier。 您必须使用通过ITunes Connect创建的应用的bundle indentifier来替换掉com.github.electron。\n\n<key>CFBundleIdentifier</key>\n<string>com.example.app</string>\n\n\n1\n2\n\n\n\n# 代码示例\n\n通过下面的例子来了解如何在Electron中使用应用内购买功能。 您必须使用通过ITunes Connect创建的产品的唯一标识 （ID）来替换掉下面示例中的PRODUCT_IDS。( com.example.app.product1 的ID是 product1)。 请注意，您必须尽可能早的在你的应用中监听transactions-updated事件。\n\n// Main process\nconst { inAppPurchase } = require('electron')\nconst PRODUCT_IDS = ['id1', 'id2']\n\n// Listen for transactions as soon as possible.\ninAppPurchase.on('transactions-updated', (event, transactions) => {\n  if (!Array.isArray(transactions)) {\n    return\n  }\n\n  // 检查每一笔交易.\n  transactions.forEach(function (transaction) {\n    const payment = transaction.payment\n\n    switch (transaction.transactionState) {\n      case 'purchasing':\n        console.log(`Purchasing ${payment.productIdentifier}...`)\n        break\n\n      case 'purchased': {\n        console.log(`${payment.productIdentifier} purchased.`)\n\n        // Get the receipt url.\n        const receiptURL = inAppPurchase.getReceiptURL()\n\n        console.log(`Receipt URL: ${receiptURL}`)\n\n        // Submit the receipt file to the server and check if it is valid.\n        // @see https://developer.apple.com/library/content/releasenotes/General/ValidateAppStoreReceipt/Chapters/ValidateRemotely.html\n        // ...\n        // 如果收据通过校验，说明产品已经被购买了\n        // ...\n\n        // 交易完成.\n        inAppPurchase.finishTransactionByDate(transaction.transactionDate)\n\n        break\n      }\n\n      case 'failed':\n\n        console.log(`Failed to purchase ${payment.productIdentifier}.`)\n\n        // Finish the transaction.\n        inAppPurchase.finishTransactionByDate(transaction.transactionDate)\n\n        break\n      case 'restored':\n\n        console.log(`The purchase of ${payment.productIdentifier} has been restored.`)\n\n        break\n      case 'deferred':\n\n        console.log(`The purchase of ${payment.productIdentifier} has been deferred.`)\n\n        break\n      default:\n        break\n    }\n  })\n})\n\n// 检查用户是否允许当前app启用应用内购买功能.\nif (!inAppPurchase.canMakePayments()) {\n  console.log('The user is not allowed to make in-app purchase.')\n}\n\n// Retrieve and display the product descriptions.\ninAppPurchase.getProducts(PRODUCT_IDS).then(products => {\n  // 检查参数.\n  if (!Array.isArray(products) || products.length <= 0) {\n    console.log('Unable to retrieve the product informations.')\n    return\n  }\n\n  // Display the name and price of each product.\n  products.forEach(product => {\n    console.log(`The price of ${product.localizedTitle} is ${product.formattedPrice}.`)\n  })\n\n  // 询问用户需要购买哪个产品.\n  const selectedProduct = products[0]\n  const selectedQuantity = 1\n\n  // Purchase the selected product.\n  inAppPurchase.purchaseProduct(selectedProduct.productIdentifier, selectedQuantity).then(isProductValid => {\n    if (!isProductValid) {\n      console.log('The product is not valid.')\n      return\n    }\n\n    console.log('The payment has been added to the payment queue.')\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n",normalizedContent:"# in-app purchases (macos)\n\n\n# 准备工作\n\n\n# 付费应用协议\n\n如果你还没有，你需要在 itunes connect 签署付费应用协议, 并设置您的银行和税务信息。\n\nitunes connect 开发人员帮助: 协议、税务和银行概述\n\n\n# 创建您的应用内购买\n\n然后，您需要在itunes connect中配置您的应用内购买，并包含名称，定价和说明等详细信息，以突出显示您的应用内购买的功能。\n\nitunes connect开发人员帮助：创建应用程序内购买\n\n\n# 变更 cfbundleidentifier\n\n若要在electron开发阶段对应用内购买功能进行测试，您必须在node_modules/electron/dist/electron.app/contents/info.plist路径下修改cfbundleidentifier。 您必须使用通过itunes connect创建的应用的bundle indentifier来替换掉com.github.electron。\n\n<key>cfbundleidentifier</key>\n<string>com.example.app</string>\n\n\n1\n2\n\n\n\n# 代码示例\n\n通过下面的例子来了解如何在electron中使用应用内购买功能。 您必须使用通过itunes connect创建的产品的唯一标识 （id）来替换掉下面示例中的product_ids。( com.example.app.product1 的id是 product1)。 请注意，您必须尽可能早的在你的应用中监听transactions-updated事件。\n\n// main process\nconst { inapppurchase } = require('electron')\nconst product_ids = ['id1', 'id2']\n\n// listen for transactions as soon as possible.\ninapppurchase.on('transactions-updated', (event, transactions) => {\n  if (!array.isarray(transactions)) {\n    return\n  }\n\n  // 检查每一笔交易.\n  transactions.foreach(function (transaction) {\n    const payment = transaction.payment\n\n    switch (transaction.transactionstate) {\n      case 'purchasing':\n        console.log(`purchasing ${payment.productidentifier}...`)\n        break\n\n      case 'purchased': {\n        console.log(`${payment.productidentifier} purchased.`)\n\n        // get the receipt url.\n        const receipturl = inapppurchase.getreceipturl()\n\n        console.log(`receipt url: ${receipturl}`)\n\n        // submit the receipt file to the server and check if it is valid.\n        // @see https://developer.apple.com/library/content/releasenotes/general/validateappstorereceipt/chapters/validateremotely.html\n        // ...\n        // 如果收据通过校验，说明产品已经被购买了\n        // ...\n\n        // 交易完成.\n        inapppurchase.finishtransactionbydate(transaction.transactiondate)\n\n        break\n      }\n\n      case 'failed':\n\n        console.log(`failed to purchase ${payment.productidentifier}.`)\n\n        // finish the transaction.\n        inapppurchase.finishtransactionbydate(transaction.transactiondate)\n\n        break\n      case 'restored':\n\n        console.log(`the purchase of ${payment.productidentifier} has been restored.`)\n\n        break\n      case 'deferred':\n\n        console.log(`the purchase of ${payment.productidentifier} has been deferred.`)\n\n        break\n      default:\n        break\n    }\n  })\n})\n\n// 检查用户是否允许当前app启用应用内购买功能.\nif (!inapppurchase.canmakepayments()) {\n  console.log('the user is not allowed to make in-app purchase.')\n}\n\n// retrieve and display the product descriptions.\ninapppurchase.getproducts(product_ids).then(products => {\n  // 检查参数.\n  if (!array.isarray(products) || products.length <= 0) {\n    console.log('unable to retrieve the product informations.')\n    return\n  }\n\n  // display the name and price of each product.\n  products.foreach(product => {\n    console.log(`the price of ${product.localizedtitle} is ${product.formattedprice}.`)\n  })\n\n  // 询问用户需要购买哪个产品.\n  const selectedproduct = products[0]\n  const selectedquantity = 1\n\n  // purchase the selected product.\n  inapppurchase.purchaseproduct(selectedproduct.productidentifier, selectedquantity).then(isproductvalid => {\n    if (!isproductvalid) {\n      console.log('the product is not valid.')\n      return\n    }\n\n    console.log('the payment has been added to the payment queue.')\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n",charsets:{cjk:!0}},{title:"introduction",frontmatter:{title:"introduction",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/ec4a95/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/introduction.html",relativePath:"《Electron中文文档》/tutorial/introduction.md",key:"v-dca5f300",path:"/pages/ec4a95/",headers:[{level:2,title:"Electron是什么？",slug:"electron是什么",normalizedTitle:"electron是什么？",charIndex:80},{level:2,title:"Prerequisites",slug:"prerequisites",normalizedTitle:"prerequisites",charIndex:256},{level:2,title:"Electron Fiddle运行实例",slug:"electron-fiddle运行实例",normalizedTitle:"electron fiddle运行实例",charIndex:641},{level:2,title:"寻求帮助",slug:"寻求帮助",normalizedTitle:"寻求帮助",charIndex:935}],headersStr:"Electron是什么？ Prerequisites Electron Fiddle运行实例 寻求帮助",content:'# 简介\n\n欢迎来到electron文档中心。 如果你第一次开发electron应用，可以阅读入门部分了解开发基础， 此外，你也可以直接浏览API文档\n\n\n# Electron是什么？\n\nElectron是一个使用 JavaScript、HTML 和 CSS 构建桌面应用程序的框架。 嵌入 Chromium 和 Node.js 到 二进制的 Electron 允许您保持一个 JavaScript 代码代码库并创建 在Windows上运行的跨平台应用 macOS和Linux——不需要本地开发 经验。\n\n\n# Prerequisites\n\n熟悉该文档之前，需要你有Node.js和web开发经验。 如果您需要了解这两个方面的开发知识，我们推荐您使用以下学习资源：\n\n * 来自Mozilla开发社区(Mozilla Developer Network)的web入门教程\n * NodeJS官方入门指南\n\n此外，如果您熟悉Chromium进程模型，您将更好了解 Electron 的工作原理。 You can get a brief overview of Chrome architecture with the Chrome comic, which was released alongside Chrome\'s launch back in 2008. 尽管Chrome发布十多年了，【Chrome comic】漫画中介绍的核心原理仍然有助于理解Electron。\n\n\n# Electron Fiddle运行实例\n\nElectron Fiddle是由Electron开发并由其维护者支持的沙盒程序。 我们强烈建议将其作为一个学习工具来安装，以便在开发过程中对Electron的api进行实验或对特性进行原型化。\n\nFiddle 已经完美的集成到我们的帮助文档之中。 当你浏览我们tutorial中的例子的时候，你会发现有个"Open In Electron Fiddler" 按钮在代码示例中。 如果你已经安装了Fiddle, “Open In Electron Fiddle" 按钮回打开一个fiddle.electronjs.org链接并加载示例。\n\n\n# 寻求帮助\n\n还是有疑问？ 请参考一下例子\n\n * 开发过程中如果你需要帮助，我们的 community Discord server将是绝佳讨论的地方。\n * 如果在开发过程中遇到 electron package里的疑难杂症，你可以去 GitHub issue tracker 查看是否有人已经遇到相同的问题。 如果你很幸运的找到bug，欢迎提交issue到github。',normalizedContent:'# 简介\n\n欢迎来到electron文档中心。 如果你第一次开发electron应用，可以阅读入门部分了解开发基础， 此外，你也可以直接浏览api文档\n\n\n# electron是什么？\n\nelectron是一个使用 javascript、html 和 css 构建桌面应用程序的框架。 嵌入 chromium 和 node.js 到 二进制的 electron 允许您保持一个 javascript 代码代码库并创建 在windows上运行的跨平台应用 macos和linux——不需要本地开发 经验。\n\n\n# prerequisites\n\n熟悉该文档之前，需要你有node.js和web开发经验。 如果您需要了解这两个方面的开发知识，我们推荐您使用以下学习资源：\n\n * 来自mozilla开发社区(mozilla developer network)的web入门教程\n * nodejs官方入门指南\n\n此外，如果您熟悉chromium进程模型，您将更好了解 electron 的工作原理。 you can get a brief overview of chrome architecture with the chrome comic, which was released alongside chrome\'s launch back in 2008. 尽管chrome发布十多年了，【chrome comic】漫画中介绍的核心原理仍然有助于理解electron。\n\n\n# electron fiddle运行实例\n\nelectron fiddle是由electron开发并由其维护者支持的沙盒程序。 我们强烈建议将其作为一个学习工具来安装，以便在开发过程中对electron的api进行实验或对特性进行原型化。\n\nfiddle 已经完美的集成到我们的帮助文档之中。 当你浏览我们tutorial中的例子的时候，你会发现有个"open in electron fiddler" 按钮在代码示例中。 如果你已经安装了fiddle, “open in electron fiddle" 按钮回打开一个fiddle.electronjs.org链接并加载示例。\n\n\n# 寻求帮助\n\n还是有疑问？ 请参考一下例子\n\n * 开发过程中如果你需要帮助，我们的 community discord server将是绝佳讨论的地方。\n * 如果在开发过程中遇到 electron package里的疑难杂症，你可以去 github issue tracker 查看是否有人已经遇到相同的问题。 如果你很幸运的找到bug，欢迎提交issue到github。',charsets:{cjk:!0}},{title:"installation",frontmatter:{title:"installation",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/de1dc9/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/installation.html",relativePath:"《Electron中文文档》/tutorial/installation.md",key:"v-ccf3fb80",path:"/pages/de1dc9/",headers:[{level:2,title:"运行 Electron ad-hoc",slug:"运行-electron-ad-hoc",normalizedTitle:"运行 electron ad-hoc",charIndex:189},{level:2,title:"自定义",slug:"自定义",normalizedTitle:"自定义",charIndex:365},{level:2,title:"代理",slug:"代理",normalizedTitle:"代理",charIndex:599},{level:2,title:"自定义镜像和缓存",slug:"自定义镜像和缓存",normalizedTitle:"自定义镜像和缓存",charIndex:713},{level:4,title:"镜像",slug:"镜像",normalizedTitle:"镜像",charIndex:716},{level:4,title:"缓存",slug:"缓存",normalizedTitle:"缓存",charIndex:719},{level:2,title:"跳过二进制包下载",slug:"跳过二进制包下载",normalizedTitle:"跳过二进制包下载",charIndex:3493},{level:2,title:"故障排查",slug:"故障排查",normalizedTitle:"故障排查",charIndex:4183}],headersStr:"运行 Electron ad-hoc 自定义 代理 自定义镜像和缓存 镜像 缓存 跳过二进制包下载 故障排查",content:'# Advanced Installation Instructions\n\n要安装预编译的 Electron 二进制文件，请使用 npm。 首选方法是在你的应用程序中安装 Electron 作为开发依赖：\n\nnpm install electron --save-dev\n\n\n1\n\n\n查看versioning doc获取如何在你的应用中管理Electron的相关信息。\n\n\n# 运行 Electron ad-hoc\n\n如果你不想在本地工程上使用 npm install 同时又没用其它选择时，你也可以使用 npm 捆绑的 npx 命令来运行 Electron ad-hoc：\n\nnpx electron .\n\n\n1\n\n\n上面的命令会在当前工作目录下运行Electron。 需要注意的是，你的应用中的任何依赖将不会被安装。\n\n\n# 自定义\n\n如果想修改下载安装的位版本(例如, 在x64机器上安装ia32位版本), 你可以使用npm install中的--arch标记，或者设置npm_config_arch 环境变量:\n\nnpm install --arch=ia32 electron\n\n\n1\n\n\n此外, 您还可以使用 --platform 来指定开发平台 (例如, win32、linux 等):\n\nnpm install --platform=win32 electron\n\n\n1\n\n\n\n# 代理\n\n如果您需要使用 HTTP 代理，您需要设置 ELECTRON_GET_USE_PROXY 变量为 任何值。 附加额外的环境变量，取决于您的主机系统Node版本：\n\n * Node10及以上\n * Node10前\n\n\n# 自定义镜像和缓存\n\n在安装过程中，electron 模块会通过 electron-download 为您的平台下载 Electron 的预编译二进制文件。 这将通过访问 GitHub 的发布下载页面来完成 (https://github.com/electron/electron/releases/tag/v$VERSION, 这里的 $VERSION 是 Electron 的确切版本).\n\n如果您无法访问GitHub，或者您需要提供自定义构建，则可以通过提供镜像或现有的缓存目录来实现。\n\n# 镜像\n\n您可以使用环境变量来覆盖基本 URL，查找 Electron 二进制文件的路径以及二进制文件名。 electron/get 使用的网址组成如下：\n\nurl = ELECTRON_MIRROR + ELECTRON_CUSTOM_DIR + \'/\' + ELECTRON_CUSTOM_FILENAME\n\n\n1\n\n\n例如，使用一个中国的镜像：\n\nELECTRON_MIRROR="https://cdn.npm.taobao.org/dist/electron/"\n\n\n1\n\n\n默认情况下，ELECTRON_CUSTTOM_DIR被设置为 v$VERSION。 要更改格式，请使用 {{ version }} 占位符。 例如，version-{{ version }} 被解析为 version-5.0.0, {{ version }} 被解析为 5.0.0， v{{ version }} 与默认值等价。 更具体的例子，使用中国非CDN镜像：\n\nELECTRON_MIRROR="https://npm.taobao.org/mirrors/electron/"\nELECTRON_CUSTOM_DIR="{{ version }}"\n\n\n1\n2\n\n\n上述配置将从URL下载，例如https://npm.taobao.org/mirrors/electron-v8.0.0-linux-x64.zip\n\nIf your mirror serves artifacts with different checksums to the official Electron release you may have to set ELECTRON_USE_REMOTE_CHECKSUMS=1 to force Electron to use the remote SHASUMS256.txt file to verify the checksum instead of the embedded checksums.\n\n# 缓存\n\n或者，您可以覆盖本地缓存。 electron-download 会将下载的二进制文件缓存在本地目录中，不会增加网络负担。 您可以使用该缓存文件夹来提供 Electron 的定制版本，或者避免进行网络连接。\n\n * Linux: $XDG_CACHE_HOME or ~/.cache/electron/\n * macOS: ~/Library/Caches/electron/\n * Windows: $LOCALAPPDATA/electron/Cache or ~/AppData/Local/electron/Cache/\n\n在使用旧版本 Electron 的环境中，您也可以在~/.electron中找到缓存。\n\n您也可以通过提供一个 electron_config_cache 环境变量来覆盖本地缓存位置。\n\n缓存中包含了以文本文件形式存储的带有校验和的版本官方zip文件。 典型的缓存可能看起来像这样：\n\n├── httpsgithub.comelectronelectronreleasesdownloadv1.7.9electron-v1.7.9-darwin-x64.zip\n│   └── electron-v1.7.9-darwin-x64.zip\n├── httpsgithub.comelectronelectronreleasesdownloadv1.7.9SHASUMS256.txt\n│   └── SHASUMS256.txt\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.1electron-v1.8.1-darwin-x64.zip\n│   └── electron-v1.8.1-darwin-x64.zip\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.1SHASUMS256.txt\n│   └── SHASUMS256.txt\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.1electron-v1.8.2-beta.1-darwin-x64.zip\n│   └── electron-v1.8.2-beta.1-darwin-x64.zip\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.1SHASUMS256.txt\n│   └── SHASUMS256.txt\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.2electron-v1.8.2-beta.2-darwin-x64.zip\n│   └── electron-v1.8.2-beta.2-darwin-x64.zip\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.2SHASUMS256.txt\n│   └── SHASUMS256.txt\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.3electron-v1.8.2-beta.3-darwin-x64.zip\n│   └── electron-v1.8.2-beta.3-darwin-x64.zip\n└── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.3SHASUMS256.txt\n    └── SHASUMS256.txt\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 跳过二进制包下载\n\nUnder the hood, Electron\'s JavaScript API binds to a binary that contains its implementations. Because this binary is crucial to the function of any Electron app, it is downloaded by default in the postinstall step every time you install electron from the npm registry.\n\nHowever, if you want to install your project\'s dependencies but don\'t need to use Electron functionality, you can set the ELECTRON_SKIP_BINARY_DOWNLOAD environment variable to prevent the binary from being downloaded. For instance, this feature can be useful in continuous integration environments when running unit tests that mock out the electron module.\n\nELECRON_SKIP_BINARY_DOWNOAD=1 npm install\n\n\n1\n\n\n\n# 故障排查\n\n在运行 npm install electron 时，有些用户会偶尔遇到安装问题。\n\n在大多数情况下，这些错误都是由网络问题导致，而不是因为 electron npm 包的问题。 如 ELIFECYCLE、EAI_AGAIN、ECONNRESET 和 ETIMEDOUT 等错误都是此类网络问题的标志。 最佳的解决方法是尝试切换网络，或是稍后再尝试安装。\n\nYou can also attempt to download Electron directly from electron/electron/releases if installing via npm is failing.\n\n如果安装失败并报错EACCESS，您可能需要修复npm权限。\n\n如果上述报错持续出现，unsafe-perm 标志可能需要被设置为 true:\n\nsudo npm install electron --unsafe-perm=true\n\n\n1\n\n\n在较慢的网络上, 最好使用 --verbose 标志来显示下载进度:\n\nnpm install --verbose electron\n\n\n1\n\n\n如果需要强制重新下载文件, 并且 SHASUM 文件将 force_no_cache 环境变量设置为 true。',normalizedContent:'# advanced installation instructions\n\n要安装预编译的 electron 二进制文件，请使用 npm。 首选方法是在你的应用程序中安装 electron 作为开发依赖：\n\nnpm install electron --save-dev\n\n\n1\n\n\n查看versioning doc获取如何在你的应用中管理electron的相关信息。\n\n\n# 运行 electron ad-hoc\n\n如果你不想在本地工程上使用 npm install 同时又没用其它选择时，你也可以使用 npm 捆绑的 npx 命令来运行 electron ad-hoc：\n\nnpx electron .\n\n\n1\n\n\n上面的命令会在当前工作目录下运行electron。 需要注意的是，你的应用中的任何依赖将不会被安装。\n\n\n# 自定义\n\n如果想修改下载安装的位版本(例如, 在x64机器上安装ia32位版本), 你可以使用npm install中的--arch标记，或者设置npm_config_arch 环境变量:\n\nnpm install --arch=ia32 electron\n\n\n1\n\n\n此外, 您还可以使用 --platform 来指定开发平台 (例如, win32、linux 等):\n\nnpm install --platform=win32 electron\n\n\n1\n\n\n\n# 代理\n\n如果您需要使用 http 代理，您需要设置 electron_get_use_proxy 变量为 任何值。 附加额外的环境变量，取决于您的主机系统node版本：\n\n * node10及以上\n * node10前\n\n\n# 自定义镜像和缓存\n\n在安装过程中，electron 模块会通过 electron-download 为您的平台下载 electron 的预编译二进制文件。 这将通过访问 github 的发布下载页面来完成 (https://github.com/electron/electron/releases/tag/v$version, 这里的 $version 是 electron 的确切版本).\n\n如果您无法访问github，或者您需要提供自定义构建，则可以通过提供镜像或现有的缓存目录来实现。\n\n# 镜像\n\n您可以使用环境变量来覆盖基本 url，查找 electron 二进制文件的路径以及二进制文件名。 electron/get 使用的网址组成如下：\n\nurl = electron_mirror + electron_custom_dir + \'/\' + electron_custom_filename\n\n\n1\n\n\n例如，使用一个中国的镜像：\n\nelectron_mirror="https://cdn.npm.taobao.org/dist/electron/"\n\n\n1\n\n\n默认情况下，electron_custtom_dir被设置为 v$version。 要更改格式，请使用 {{ version }} 占位符。 例如，version-{{ version }} 被解析为 version-5.0.0, {{ version }} 被解析为 5.0.0， v{{ version }} 与默认值等价。 更具体的例子，使用中国非cdn镜像：\n\nelectron_mirror="https://npm.taobao.org/mirrors/electron/"\nelectron_custom_dir="{{ version }}"\n\n\n1\n2\n\n\n上述配置将从url下载，例如https://npm.taobao.org/mirrors/electron-v8.0.0-linux-x64.zip\n\nif your mirror serves artifacts with different checksums to the official electron release you may have to set electron_use_remote_checksums=1 to force electron to use the remote shasums256.txt file to verify the checksum instead of the embedded checksums.\n\n# 缓存\n\n或者，您可以覆盖本地缓存。 electron-download 会将下载的二进制文件缓存在本地目录中，不会增加网络负担。 您可以使用该缓存文件夹来提供 electron 的定制版本，或者避免进行网络连接。\n\n * linux: $xdg_cache_home or ~/.cache/electron/\n * macos: ~/library/caches/electron/\n * windows: $localappdata/electron/cache or ~/appdata/local/electron/cache/\n\n在使用旧版本 electron 的环境中，您也可以在~/.electron中找到缓存。\n\n您也可以通过提供一个 electron_config_cache 环境变量来覆盖本地缓存位置。\n\n缓存中包含了以文本文件形式存储的带有校验和的版本官方zip文件。 典型的缓存可能看起来像这样：\n\n├── httpsgithub.comelectronelectronreleasesdownloadv1.7.9electron-v1.7.9-darwin-x64.zip\n│   └── electron-v1.7.9-darwin-x64.zip\n├── httpsgithub.comelectronelectronreleasesdownloadv1.7.9shasums256.txt\n│   └── shasums256.txt\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.1electron-v1.8.1-darwin-x64.zip\n│   └── electron-v1.8.1-darwin-x64.zip\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.1shasums256.txt\n│   └── shasums256.txt\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.1electron-v1.8.2-beta.1-darwin-x64.zip\n│   └── electron-v1.8.2-beta.1-darwin-x64.zip\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.1shasums256.txt\n│   └── shasums256.txt\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.2electron-v1.8.2-beta.2-darwin-x64.zip\n│   └── electron-v1.8.2-beta.2-darwin-x64.zip\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.2shasums256.txt\n│   └── shasums256.txt\n├── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.3electron-v1.8.2-beta.3-darwin-x64.zip\n│   └── electron-v1.8.2-beta.3-darwin-x64.zip\n└── httpsgithub.comelectronelectronreleasesdownloadv1.8.2-beta.3shasums256.txt\n    └── shasums256.txt\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 跳过二进制包下载\n\nunder the hood, electron\'s javascript api binds to a binary that contains its implementations. because this binary is crucial to the function of any electron app, it is downloaded by default in the postinstall step every time you install electron from the npm registry.\n\nhowever, if you want to install your project\'s dependencies but don\'t need to use electron functionality, you can set the electron_skip_binary_download environment variable to prevent the binary from being downloaded. for instance, this feature can be useful in continuous integration environments when running unit tests that mock out the electron module.\n\nelecron_skip_binary_downoad=1 npm install\n\n\n1\n\n\n\n# 故障排查\n\n在运行 npm install electron 时，有些用户会偶尔遇到安装问题。\n\n在大多数情况下，这些错误都是由网络问题导致，而不是因为 electron npm 包的问题。 如 elifecycle、eai_again、econnreset 和 etimedout 等错误都是此类网络问题的标志。 最佳的解决方法是尝试切换网络，或是稍后再尝试安装。\n\nyou can also attempt to download electron directly from electron/electron/releases if installing via npm is failing.\n\n如果安装失败并报错eaccess，您可能需要修复npm权限。\n\n如果上述报错持续出现，unsafe-perm 标志可能需要被设置为 true:\n\nsudo npm install electron --unsafe-perm=true\n\n\n1\n\n\n在较慢的网络上, 最好使用 --verbose 标志来显示下载进度:\n\nnpm install --verbose electron\n\n\n1\n\n\n如果需要强制重新下载文件, 并且 shasum 文件将 force_no_cache 环境变量设置为 true。',charsets:{cjk:!0}},{title:"keyboard-shortcuts",frontmatter:{title:"keyboard-shortcuts",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/bac63f/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/keyboard-shortcuts.html",relativePath:"《Electron中文文档》/tutorial/keyboard-shortcuts.md",key:"v-3dd7a2a6",path:"/pages/bac63f/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:12},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:55},{level:3,title:"本地快捷键",slug:"本地快捷键",normalizedTitle:"本地快捷键",charIndex:62},{level:3,title:"全局快捷键",slug:"全局快捷键",normalizedTitle:"全局快捷键",charIndex:923},{level:3,title:"在浏览器窗口内的快捷方式",slug:"在浏览器窗口内的快捷方式",normalizedTitle:"在浏览器窗口内的快捷方式",charIndex:1594},{level:4,title:"使用 web APIs",slug:"使用-web-apis",normalizedTitle:"使用 web apis",charIndex:1610},{level:4,title:"拦截主进程中的事件",slug:"拦截主进程中的事件",normalizedTitle:"拦截主进程中的事件",charIndex:2033},{level:4,title:"使用第三方库",slug:"使用第三方库",normalizedTitle:"使用第三方库",charIndex:2656}],headersStr:"概览 示例 本地快捷键 全局快捷键 在浏览器窗口内的快捷方式 使用 web APIs 拦截主进程中的事件 使用第三方库",content:"# 键盘快捷键\n\n\n# 概览\n\n该功能允许你为 Electron 应用程序配置应用和全局键盘快捷键。\n\n\n# 示例\n\n\n# 本地快捷键\n\n应用键盘快捷键仅在应用程序被聚焦时触发。 为了配置本地快捷键，你需要在创建Menu模块中的MenuItem时指定`accelerator<0>属性。\n\n\n\n从 Quick Start Guide 中的应用开始，将以下内容更新到 main.js`。\n\nconst { Menu, MenuItem } = require('electron')\n\nconst menu = new Menu()\nmenu.append(new MenuItem({\n  label: 'Electron',\n  submenu: [{\n    role: 'help',\n    accelerator: process.platform === 'darwin' ? 'Alt+Cmd+I' : 'Alt+Shift+I',\n    click: () => { console.log('Electron rocks!') }\n  }]\n}))\n\nMenu.setApplicationMenu(menu)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n> 注意：在上面的代码中，您可以看到基于用户的操作系统的 accelerator 差异。 对于MacOS，是 Alt+Cmd+I，而对于Linux 和 Windows，则是 Alt+Shift+I.\n\n启动 Electron 应用程序后，你应该看到应用程序菜单以及您刚刚定义的本地快捷方式：\n\n\n\nIf you click Help or press the defined accelerator and then open the terminal that you ran your Electron application from, you will see the message that was generated after triggering the click event: \"Electron rocks!\".\n\n\n# 全局快捷键\n\n要配置全局键盘快捷键， 您需要使用 globalShortcon 模块来检测键盘事件，即使应用程序没有获得键盘焦点。\n\n从 Quick Start Guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { app, globalShortcut } = require('electron')\n\napp.whenReady().then(() => {\n  globalShortcut.register('Alt+CommandOrControl+I', () => {\n    console.log('Electron loves global shortcuts!')\n  })\n}).then(createWindow)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> NOTE: In the code above, the CommandOrControl combination uses Command on macOS and Control on Windows/Linux.\n\nAfter launching the Electron application, if you press the defined key combination then open the terminal that you ran your Electron application from, you will see that Electron loves global shortcuts!\n\n\n# 在浏览器窗口内的快捷方式\n\n# 使用 web APIs\n\n如果您想要在 BrowserWindow 中处理键盘快捷键，你可以在渲染进程中使用 addEventListener() API来监听 kepup 和 keydown DOM事件。\n\nfunction handleKeyPress(event) {\n  // 你可以把处理按键按下事件的代码放在这里。\n  document.getElementById(\"last-keypress\").innerText = event.key;\n  console.log(`你按下了 ${event.key}`);\n}\n\nwindow.addEventListener('keyup', handleKeyPress, true);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> 注意：第三个参数 true 表明了当前监听器会持续在其它监听器之前接收按键按下事件，因此无法在其它监听器中调用 stopPropagation()。\n\n# 拦截主进程中的事件\n\n在调度页面中的keydown和keyup事件之前，会发出before-input-event事件。 它可以用于捕获和处理在菜单中不可见的自定义快捷方式。\n\n从 Quick Start Guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { app, BrowserWindow } = require('electron')\n\napp.whenReady().then(() => {\n  const win = new BrowserWindow({ width: 800, height: 600 })\n\n  win.loadFile('index.html')\n  win.webContents.on('before-input-event', (event, input) => {\n    if (input.control && input.key.toLowerCase() === 'i') {\n      console.log('Pressed Control+I')\n      event.preventDefault()\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n在运行Electron应用程序之后，如果你打开你运行Electron应用的终端并按下 Ctrl+I 组合键，你会发现刚才按下的组合键被成功拦截了。\n\n# 使用第三方库\n\n如果您不想手动进行快捷键解析，可以使用一些库来进行高级的按键检测。例如 mousetrap. 以下是在渲染进程中 mousetrap 的使用示例：\n\nMousetrap.bind('4', () => { console.log('4') })\nMousetrap.bind('?', () => { console.log('show shortcuts!') })\nMousetrap.bind('esc', () => { console.log('escape') }, 'keyup')\n\n// combinations\nMousetrap.bind('command+shift+k', () => { console.log('command shift k') })\n\n// map multiple combinations to the same callback\nMousetrap.bind(['command+k', 'ctrl+k'], () => {\n  console.log('command k or control k')\n\n  // return false to prevent default behavior and stop event from bubbling\n  return false\n})\n\n// gmail style sequences\nMousetrap.bind('g i', () => { console.log('go to inbox') })\nMousetrap.bind('* a', () => { console.log('select all') })\n\n// konami code!\nMousetrap.bind('up up down down left right left right b a enter', () => {\n  console.log('konami code')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n",normalizedContent:"# 键盘快捷键\n\n\n# 概览\n\n该功能允许你为 electron 应用程序配置应用和全局键盘快捷键。\n\n\n# 示例\n\n\n# 本地快捷键\n\n应用键盘快捷键仅在应用程序被聚焦时触发。 为了配置本地快捷键，你需要在创建menu模块中的menuitem时指定`accelerator<0>属性。\n\n\n\n从 quick start guide 中的应用开始，将以下内容更新到 main.js`。\n\nconst { menu, menuitem } = require('electron')\n\nconst menu = new menu()\nmenu.append(new menuitem({\n  label: 'electron',\n  submenu: [{\n    role: 'help',\n    accelerator: process.platform === 'darwin' ? 'alt+cmd+i' : 'alt+shift+i',\n    click: () => { console.log('electron rocks!') }\n  }]\n}))\n\nmenu.setapplicationmenu(menu)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n> 注意：在上面的代码中，您可以看到基于用户的操作系统的 accelerator 差异。 对于macos，是 alt+cmd+i，而对于linux 和 windows，则是 alt+shift+i.\n\n启动 electron 应用程序后，你应该看到应用程序菜单以及您刚刚定义的本地快捷方式：\n\n\n\nif you click help or press the defined accelerator and then open the terminal that you ran your electron application from, you will see the message that was generated after triggering the click event: \"electron rocks!\".\n\n\n# 全局快捷键\n\n要配置全局键盘快捷键， 您需要使用 globalshortcon 模块来检测键盘事件，即使应用程序没有获得键盘焦点。\n\n从 quick start guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { app, globalshortcut } = require('electron')\n\napp.whenready().then(() => {\n  globalshortcut.register('alt+commandorcontrol+i', () => {\n    console.log('electron loves global shortcuts!')\n  })\n}).then(createwindow)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> note: in the code above, the commandorcontrol combination uses command on macos and control on windows/linux.\n\nafter launching the electron application, if you press the defined key combination then open the terminal that you ran your electron application from, you will see that electron loves global shortcuts!\n\n\n# 在浏览器窗口内的快捷方式\n\n# 使用 web apis\n\n如果您想要在 browserwindow 中处理键盘快捷键，你可以在渲染进程中使用 addeventlistener() api来监听 kepup 和 keydown dom事件。\n\nfunction handlekeypress(event) {\n  // 你可以把处理按键按下事件的代码放在这里。\n  document.getelementbyid(\"last-keypress\").innertext = event.key;\n  console.log(`你按下了 ${event.key}`);\n}\n\nwindow.addeventlistener('keyup', handlekeypress, true);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> 注意：第三个参数 true 表明了当前监听器会持续在其它监听器之前接收按键按下事件，因此无法在其它监听器中调用 stoppropagation()。\n\n# 拦截主进程中的事件\n\n在调度页面中的keydown和keyup事件之前，会发出before-input-event事件。 它可以用于捕获和处理在菜单中不可见的自定义快捷方式。\n\n从 quick start guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { app, browserwindow } = require('electron')\n\napp.whenready().then(() => {\n  const win = new browserwindow({ width: 800, height: 600 })\n\n  win.loadfile('index.html')\n  win.webcontents.on('before-input-event', (event, input) => {\n    if (input.control && input.key.tolowercase() === 'i') {\n      console.log('pressed control+i')\n      event.preventdefault()\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n在运行electron应用程序之后，如果你打开你运行electron应用的终端并按下 ctrl+i 组合键，你会发现刚才按下的组合键被成功拦截了。\n\n# 使用第三方库\n\n如果您不想手动进行快捷键解析，可以使用一些库来进行高级的按键检测。例如 mousetrap. 以下是在渲染进程中 mousetrap 的使用示例：\n\nmousetrap.bind('4', () => { console.log('4') })\nmousetrap.bind('?', () => { console.log('show shortcuts!') })\nmousetrap.bind('esc', () => { console.log('escape') }, 'keyup')\n\n// combinations\nmousetrap.bind('command+shift+k', () => { console.log('command shift k') })\n\n// map multiple combinations to the same callback\nmousetrap.bind(['command+k', 'ctrl+k'], () => {\n  console.log('command k or control k')\n\n  // return false to prevent default behavior and stop event from bubbling\n  return false\n})\n\n// gmail style sequences\nmousetrap.bind('g i', () => { console.log('go to inbox') })\nmousetrap.bind('* a', () => { console.log('select all') })\n\n// konami code!\nmousetrap.bind('up up down down left right left right b a enter', () => {\n  console.log('konami code')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n",charsets:{cjk:!0}},{title:"Launching Your Electron App From a URL In Another App",frontmatter:{title:"Launching Your Electron App From a URL In Another App",description:"本指南将会指导您配置 Electron 应用为特定协议的默认处理器。",slug:"从其他应用中的URL启动应用",hide_title:!0,date:"2022-04-11T14:50:30.000Z",permalink:"/pages/0a7ba5/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/launch-app-from-url-in-another-app.html",relativePath:"《Electron中文文档》/tutorial/launch-app-from-url-in-another-app.md",key:"v-3850bac0",path:"/pages/0a7ba5/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:25},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:235},{level:3,title:"主进程（main.js）",slug:"主进程-main-js",normalizedTitle:"主进程（main.js）",charIndex:242},{level:4,title:"Windows 下代码：",slug:"windows-下代码",normalizedTitle:"windows 下代码：",charIndex:1380},{level:4,title:"MacOS 与 Linux 下代码：",slug:"macos-与-linux-下代码",normalizedTitle:"macos 与 linux 下代码：",charIndex:2005},{level:2,title:"Important notes",slug:"important-notes",normalizedTitle:"important notes",charIndex:2661},{level:3,title:"打包",slug:"打包",normalizedTitle:"打包",charIndex:2681},{level:4,title:"Electron Forge",slug:"electron-forge",normalizedTitle:"electron forge",charIndex:3088},{level:4,title:"Electron Packager",slug:"electron-packager",normalizedTitle:"electron packager",charIndex:3853},{level:2,title:"结论",slug:"结论",normalizedTitle:"结论",charIndex:4634}],headersStr:"概览 示例 主进程（main.js） Windows 下代码： MacOS 与 Linux 下代码： Important notes 打包 Electron Forge Electron Packager 结论",content:"# 从其他应用中的 URL 启动您的应用\n\n\n# 概览\n\nThis guide will take you through the process of setting your Electron app as the default handler for a specific protocol.\n\n通过此教程，您会掌握如何设置您的应用以拦截并处理任意特定协议的URL的点击事件。 在本指南中，我们假定这个协议名为“electron-fiddle://”。\n\n\n# 示例\n\n\n# 主进程（main.js）\n\nFirst, we will import the required modules from electron. These modules help control our application lifecycle and create a native browser window.\n\nconst { app, BrowserWindow, shell } = require('electron')\nconst path = require('path')\n\n\n1\n2\n\n\n其次，我们将应用注册为“electron-fiddle://”协议的处理器。\n\nif (process.defaultApp) {\n  if (process.argv.length >= 2) {\n    app.setAsDefaultProtocolClient('electron-fiddle', process.execPath, [path.resolve(process.argv[1])])\n  }\n} else {\n  app.setAsDefaultProtocolClient('electron-fiddle')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n现在我们定义负责创建浏览器窗口的函数，并加载应用的 index.html 文件。\n\nconst createWindow = () => {\n  // Create the browser window.\n  mainWindow = new BrowserWindow({\n    width: 800,\n    height: 600,\n    webPreferences: {\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n\n  mainWindow.loadFile('index.html')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n紧接着，我们将创建 BrowserWindow 并在应用中定义如何处理此外部协议被点击的事件。\n\nThis code will be different in Windows compared to MacOS and Linux. This is due to Windows requiring additional code in order to open the contents of the protocol link within the same Electron instance. 请点击 此处 了解更多\n\n# Windows 下代码：\n\nconst gotTheLock = app.requestSingleInstanceLock()\n\nif (!gotTheLock) {\n  app.quit()\n} else {\n  app.on('second-instance', (event, commandLine, workingDirectory) => {\n    // 用户正在尝试运行第二个实例，我们需要让焦点指向我们的窗口\n    if (mainWindow) {\n      if (mainWindow.isMinimized()) mainWindow.restore()\n      mainWindow.focus()\n    }\n  })\n\n  // 创建 mainWindow，加载其他资源，等等……\n  app.whenReady().then(() => {\n    createWindow()\n  })\n\n  // Handle the protocol. 在本例中，我们选择显示一个错误提示对话框。\n  app.on('open-url', (event, url) => {\n    dialog.showErrorBox('欢迎回来', `导向自: ${url}`)\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# MacOS 与 Linux 下代码：\n\n// Electron 在完成初始化，并准备创建浏览器窗口时，\n// 会调用这个方法。\n// 部分 API 在 ready 事件触发后才能使用。\napp.whenReady().then(() => {\n  createWindow()\n})\n\n// Handle the protocol. 在本例中，我们选择显示一个错误提示对话框。\napp.on('open-url', (event, url) => {\n  dialog.showErrorBox('欢迎回来', `导向自: ${url}`)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nFinally, we will add some additional code to handle when someone closes our application.\n\n// 在除 MacOS 的其他平台上，当所有窗口关闭后，退出当前应用。 There, it's common\n// for applications and their menu bar to stay active until the user quits\n// explicitly with Cmd + Q.\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') app.quit()\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# Important notes\n\n\n# 打包\n\nOn macOS and Linux, this feature will only work when your app is packaged. It will not work when you're launching it in development from the command-line. When you package your app you'll need to make sure the macOS Info.plist and the Linux .desktop files for the app are updated to include the new protocol handler. Some of the Electron tools for bundling and distributing apps handle this for you.\n\n# Electron Forge\n\nIf you're using Electron Forge, adjust packagerConfig for macOS support, and the configuration for the appropriate Linux makers for Linux support, in your Forge configuration (please note the following example only shows the bare minimum needed to add the configuration changes):\n\n{\n  \"config\": {\n    \"forge\": {\n      \"packagerConfig\": {\n        \"protocols\": [\n          {\n            \"name\": \"Electron Fiddle\",\n            \"schemes\": [\"electron-fiddle\"]\n          }\n        ]\n      },\n      \"makers\": [\n        {\n          \"name\": \"@electron-forge/maker-deb\",\n          \"config\": {\n            \"mimeType\": [\"x-scheme-handler/electron-fiddle\"]\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# Electron Packager\n\nFor macOS support:\n\nIf you're using Electron Packager's API, adding support for protocol handlers is similar to how Electron Forge is handled, except protocols is part of the Packager options passed to the packager function.\n\nconst packager = require('electron-packager')\n\npackager({\n  // ...other options...\n  protocols: [\n    {\n      name: 'Electron Fiddle',\n      schemes: ['electron-fiddle']\n    }\n  ]\n\n}).then(paths => console.log(`SUCCESS: Created ${paths.join(', ')}`))\n  .catch(err => console.error(`ERROR: ${err.message}`))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nIf you're using Electron Packager's CLI, use the --protocol and --protocol-name flags. For example:\n\nnpx electron-packager . --protocol=electron-fiddle --protocol-name=\"Electron Fiddle\"\n\n\n1\n\n\n\n# 结论\n\nAfter you start your Electron app, you can enter in a URL in your browser that contains the custom protocol, for example \"electron-fiddle://open\" and observe that the application will respond and show an error dialog box.\n\n\n\n\n1\n",normalizedContent:"# 从其他应用中的 url 启动您的应用\n\n\n# 概览\n\nthis guide will take you through the process of setting your electron app as the default handler for a specific protocol.\n\n通过此教程，您会掌握如何设置您的应用以拦截并处理任意特定协议的url的点击事件。 在本指南中，我们假定这个协议名为“electron-fiddle://”。\n\n\n# 示例\n\n\n# 主进程（main.js）\n\nfirst, we will import the required modules from electron. these modules help control our application lifecycle and create a native browser window.\n\nconst { app, browserwindow, shell } = require('electron')\nconst path = require('path')\n\n\n1\n2\n\n\n其次，我们将应用注册为“electron-fiddle://”协议的处理器。\n\nif (process.defaultapp) {\n  if (process.argv.length >= 2) {\n    app.setasdefaultprotocolclient('electron-fiddle', process.execpath, [path.resolve(process.argv[1])])\n  }\n} else {\n  app.setasdefaultprotocolclient('electron-fiddle')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n现在我们定义负责创建浏览器窗口的函数，并加载应用的 index.html 文件。\n\nconst createwindow = () => {\n  // create the browser window.\n  mainwindow = new browserwindow({\n    width: 800,\n    height: 600,\n    webpreferences: {\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n\n  mainwindow.loadfile('index.html')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n紧接着，我们将创建 browserwindow 并在应用中定义如何处理此外部协议被点击的事件。\n\nthis code will be different in windows compared to macos and linux. this is due to windows requiring additional code in order to open the contents of the protocol link within the same electron instance. 请点击 此处 了解更多\n\n# windows 下代码：\n\nconst gotthelock = app.requestsingleinstancelock()\n\nif (!gotthelock) {\n  app.quit()\n} else {\n  app.on('second-instance', (event, commandline, workingdirectory) => {\n    // 用户正在尝试运行第二个实例，我们需要让焦点指向我们的窗口\n    if (mainwindow) {\n      if (mainwindow.isminimized()) mainwindow.restore()\n      mainwindow.focus()\n    }\n  })\n\n  // 创建 mainwindow，加载其他资源，等等……\n  app.whenready().then(() => {\n    createwindow()\n  })\n\n  // handle the protocol. 在本例中，我们选择显示一个错误提示对话框。\n  app.on('open-url', (event, url) => {\n    dialog.showerrorbox('欢迎回来', `导向自: ${url}`)\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# macos 与 linux 下代码：\n\n// electron 在完成初始化，并准备创建浏览器窗口时，\n// 会调用这个方法。\n// 部分 api 在 ready 事件触发后才能使用。\napp.whenready().then(() => {\n  createwindow()\n})\n\n// handle the protocol. 在本例中，我们选择显示一个错误提示对话框。\napp.on('open-url', (event, url) => {\n  dialog.showerrorbox('欢迎回来', `导向自: ${url}`)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nfinally, we will add some additional code to handle when someone closes our application.\n\n// 在除 macos 的其他平台上，当所有窗口关闭后，退出当前应用。 there, it's common\n// for applications and their menu bar to stay active until the user quits\n// explicitly with cmd + q.\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') app.quit()\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# important notes\n\n\n# 打包\n\non macos and linux, this feature will only work when your app is packaged. it will not work when you're launching it in development from the command-line. when you package your app you'll need to make sure the macos info.plist and the linux .desktop files for the app are updated to include the new protocol handler. some of the electron tools for bundling and distributing apps handle this for you.\n\n# electron forge\n\nif you're using electron forge, adjust packagerconfig for macos support, and the configuration for the appropriate linux makers for linux support, in your forge configuration (please note the following example only shows the bare minimum needed to add the configuration changes):\n\n{\n  \"config\": {\n    \"forge\": {\n      \"packagerconfig\": {\n        \"protocols\": [\n          {\n            \"name\": \"electron fiddle\",\n            \"schemes\": [\"electron-fiddle\"]\n          }\n        ]\n      },\n      \"makers\": [\n        {\n          \"name\": \"@electron-forge/maker-deb\",\n          \"config\": {\n            \"mimetype\": [\"x-scheme-handler/electron-fiddle\"]\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# electron packager\n\nfor macos support:\n\nif you're using electron packager's api, adding support for protocol handlers is similar to how electron forge is handled, except protocols is part of the packager options passed to the packager function.\n\nconst packager = require('electron-packager')\n\npackager({\n  // ...other options...\n  protocols: [\n    {\n      name: 'electron fiddle',\n      schemes: ['electron-fiddle']\n    }\n  ]\n\n}).then(paths => console.log(`success: created ${paths.join(', ')}`))\n  .catch(err => console.error(`error: ${err.message}`))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nif you're using electron packager's cli, use the --protocol and --protocol-name flags. for example:\n\nnpx electron-packager . --protocol=electron-fiddle --protocol-name=\"electron fiddle\"\n\n\n1\n\n\n\n# 结论\n\nafter you start your electron app, you can enter in a url in your browser that contains the custom protocol, for example \"electron-fiddle://open\" and observe that the application will respond and show an error dialog box.\n\n\n\n\n1\n",charsets:{cjk:!0}},{title:"linux-desktop-actions",frontmatter:{title:"linux-desktop-actions",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/ba795b/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/linux-desktop-actions.html",relativePath:"《Electron中文文档》/tutorial/linux-desktop-actions.md",key:"v-460e5408",path:"/pages/ba795b/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:39}],headersStr:"概览",content:"# Desktop Launcher Actions (Linux)\n\n\n# 概览\n\nOn many Linux environments, you can add custom entries to the system launcher by modifying the .desktop file. 关于 Canonical 的 Unity 启动器文档， 参考 Adding Shortcuts to a Launcher。 详细的参考信息请见 freedesktop.org Specification。\n\n\n\n> 注：上面的截图是 Audacious 音频播放器中启动器快捷方式的一个例子\n\n若要创建快捷方式，你需要为添加到快捷菜单的条目提供 Name 和 Exec 属性。 Unity 将在用户点击快捷菜单项后执行 Exec 字段定义的命令。 .desktop 文件的示例如下：\n\nActions=PlayPause;Next;Previous\n\n[Desktop Action PlayPause]\nName=Play-Pause\nExec=audacious -t\n\n\n[Desktop Action Next]\nName=Next\nExec=audacious -f\n\n\n[Desktop Action Previous]\nName=Previous\nExec=audacious -r\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nUnity 推荐应用程序操作的首选方式是使用参数。 您可以在应用的全局变量 process.argv 中找到它们。",normalizedContent:"# desktop launcher actions (linux)\n\n\n# 概览\n\non many linux environments, you can add custom entries to the system launcher by modifying the .desktop file. 关于 canonical 的 unity 启动器文档， 参考 adding shortcuts to a launcher。 详细的参考信息请见 freedesktop.org specification。\n\n\n\n> 注：上面的截图是 audacious 音频播放器中启动器快捷方式的一个例子\n\n若要创建快捷方式，你需要为添加到快捷菜单的条目提供 name 和 exec 属性。 unity 将在用户点击快捷菜单项后执行 exec 字段定义的命令。 .desktop 文件的示例如下：\n\nactions=playpause;next;previous\n\n[desktop action playpause]\nname=play-pause\nexec=audacious -t\n\n\n[desktop action next]\nname=next\nexec=audacious -f\n\n\n[desktop action previous]\nname=previous\nexec=audacious -r\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nunity 推荐应用程序操作的首选方式是使用参数。 您可以在应用的全局变量 process.argv 中找到它们。",charsets:{cjk:!0}},{title:"mac-app-store-submission-guide",frontmatter:{title:"mac-app-store-submission-guide",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/e8cdfc/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/mac-app-store-submission-guide.html",relativePath:"《Electron中文文档》/tutorial/mac-app-store-submission-guide.md",key:"v-10482bdc",path:"/pages/e8cdfc/",headers:[{level:2,title:"要求",slug:"要求",normalizedTitle:"要求",charIndex:139},{level:2,title:"为 Electron 应用签名",slug:"为-electron-应用签名",normalizedTitle:"为 electron 应用签名",charIndex:54},{level:3,title:"获取证书",slug:"获取证书",normalizedTitle:"获取证书",charIndex:413},{level:4,title:"其它证书",slug:"其它证书",normalizedTitle:"其它证书",charIndex:853},{level:4,title:"传统证书名称",slug:"传统证书名称",normalizedTitle:"传统证书名称",charIndex:1270},{level:3,title:"准备配置配置文件",slug:"准备配置配置文件",normalizedTitle:"准备配置配置文件",charIndex:1487},{level:3,title:"启用Apple的应用沙箱",slug:"启用apple的应用沙箱",normalizedTitle:"启用apple的应用沙箱",charIndex:1809},{level:4,title:"不使用 electron-osx-sign的额外步骤",slug:"不使用-electron-osx-sign的额外步骤",normalizedTitle:"不使用 electron-osx-sign的额外步骤",charIndex:2331},{level:3,title:"Sign apps for development",slug:"sign-apps-for-development",normalizedTitle:"sign apps for development",charIndex:3542},{level:3,title:"Sign apps for submitting to the Mac App Store",slug:"sign-apps-for-submitting-to-the-mac-app-store",normalizedTitle:"sign apps for submitting to the mac app store",charIndex:4180},{level:3,title:"Sign apps for distribution outside the Mac App Store",slug:"sign-apps-for-distribution-outside-the-mac-app-store",normalizedTitle:"sign apps for distribution outside the mac app store",charIndex:4526},{level:2,title:"Submit Apps to the Mac App Store",slug:"submit-apps-to-the-mac-app-store",normalizedTitle:"submit apps to the mac app store",charIndex:5238},{level:3,title:"Upload",slug:"upload",normalizedTitle:"upload",charIndex:5564},{level:3,title:"Submit for review",slug:"submit-for-review",normalizedTitle:"submit for review",charIndex:5843},{level:2,title:"MAS 构建限制",slug:"mas-构建限制",normalizedTitle:"mas 构建限制",charIndex:5922},{level:3,title:"Additional entitlements",slug:"additional-entitlements",normalizedTitle:"additional entitlements",charIndex:6124},{level:4,title:"Network access",slug:"network-access",normalizedTitle:"network access",charIndex:6337},{level:4,title:"dialog.showOpenDialog",slug:"dialog-showopendialog",normalizedTitle:"dialog.showopendialog",charIndex:6562},{level:4,title:"dialog.showSaveDialog",slug:"dialog-showsavedialog",normalizedTitle:"dialog.showsavedialog",charIndex:6693},{level:2,title:"Electron 使用的加密算法",slug:"electron-使用的加密算法",normalizedTitle:"electron 使用的加密算法",charIndex:6826}],headersStr:"要求 为 Electron 应用签名 获取证书 其它证书 传统证书名称 准备配置配置文件 启用Apple的应用沙箱 不使用 electron-osx-sign的额外步骤 Sign apps for development Sign apps for submitting to the Mac App Store Sign apps for distribution outside the Mac App Store Submit Apps to the Mac App Store Upload Submit for review MAS 构建限制 Additional entitlements Network access dialog.showOpenDialog dialog.showSaveDialog Electron 使用的加密算法",content:'# Mac App Store 应用程序提交指南\n\n本指南提供以下相关资讯：\n\n * 如何在 macOS 上为 Electron 应用签名；\n * 如何在 Mac App Store (MAS) 上提交 Electron 应用；\n * 对于 MAS 构建版本的局限性。\n\n\n# 要求\n\n要为 Electron 应用签名，则必须首先安装下列应用：\n\n * Xcode 11 或更高版本。\n * electron-osx-sign npm 模块.\n\n您还必须注册一个苹果开发者帐户，并加入 苹果开发者计划。\n\n\n# 为 Electron 应用签名\n\nElectron应用可以通过 Mac 应用商店或其外部进行发布。 每种方式都需要不同的签名和测试方法。 本指南侧重于通过 Mac 应用商店进行发布，也会提及其他方法。\n\n以下步骤描述了如何从 Apple 获得证书，如何对Electron应用程序进行签名以及如何测试它们。\n\n\n# 获取证书\n\n获得签名证书的最简单方法是使用 Xcode：\n\n 1. 打开Xcode并打开“帐户”首选项；\n 2. 使用您的 Apple 帐户登录;\n 3. 选择一个团队并单击"管理证书";\n 4. 在签名证书表的左下角，单击添加按钮 (+)，并添加以下证书：\n    * "Apple Development"\n    * "Apple Distribution"\n\n“Apple Development”证书用于在Apple Developer网站上注册的计算机上签署用于开发和测试的应用程序。 注册方法会在准备配置文件中描述。\n\n带有"Apple Development"证书签名的应用无法提交到Mac 应用商店。 为此，应用程序必须使用"Apple Distribution"证书进行签名。 但请注意，使用"Apple Distribution"证书签名的应用程序不能直接运行，它们必须由 Apple 重新签名才能运行，也就是只有从 Mac 应用商店下载后才能运行。\n\n# 其它证书\n\n您可以注意到还有其他类型的证书。\n\n"Developer ID Application"证书用于将应用发布到Mac 应用商店以外的地方之前签名。\n\n"Deceloper ID Installer"和"Mac Installer Distribution"证书用于签署 Mac 安装程序包，而不是应用程序本身。 大多数Electron应用不使用Mac Installer Package，因此通常不需要它们。\n\n完整的证书类型列表可以在这里找到。\n\n使用 "Apple Development" 和 "Apple Distribution" 证书签名的应用程序只能在 App Sandbox下运行， 所以他们必须使用Electron 的 MAS 构建。 然而，“Developer ID Application”证书没有这个限制，因此，用其签名的应用既可以使用普通构建也可以使用 Electron 的 MAS 构建。\n\n# 传统证书名称\n\nApple在过去几年中一直在更改证书的名称，您可能会在阅读旧文档时遇到这些证书，并且一些工具仍然在使用旧名称。\n\n * “Apple Distribution”证书也叫做“3rd Party Mac Developer Application”和“Mac App Distribution”。\n * “Apple Development”证书也叫做“Mac Developer”和“Development”。\n\n\n# 准备配置配置文件\n\n如果您想在将应用提交给Mac App Store之前在本地机器上测试您的应用， 您必须使用"Apple Development"证书签名该应用，并在程序包中嵌入配置文件。\n\n要 创建一个配置文件，您可以按照以下步骤：\n\n 1. 在 Apple Developer 网站上打开"证书、标识符 & 配置文件"页面。\n 2. 在“标识符”页面为您的应用添加一个新的App ID。\n 3. 在"设备"页面中注册本地计算机。 您可以在"系统信息"应用的"硬件"页面中找到机器的"设备 ID"。\n 4. 在“Profiles”页面注册一个新的配置文件，然后下载到 /path/to/yourapp.provisionfile。\n\n\n# 启用Apple的应用沙箱\n\n提交到 Mac App Store 的应用程序必须在 Apple App Sandbox下运行， 并且只有Electron的 MAS 构建可以使用App Sandbox 运行。 在 App Sandbox 下运行时，Electron 的标准 darwin 构建将无法启动。\n\n使用 electron-osx-signe签名时，它将会自动将必要的权限添加到您应用的所需权利中， 但如果您正在使用自定义所需权利，您必须确保App Sandbox capacity已经添加：\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.app-sandbox</key>\n    <true/>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 不使用 electron-osx-sign的额外步骤\n\n如果您的应用没有使用 electron-osx-signe 进行签名，您必须确保应用包的权限至少有以下键：\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.app-sandbox</key>\n    <true/>\n    <key>com.apple.security.application-groups</key>\n    <array>\n      <string>TEAM_ID.your.bundle.id</string>\n    </array>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nTEAM_ID 应替换为 Apple 开发者帐户的Team ID，your.bundle.id 应替换为应用的App ID。\n\n以下权限必须添加到应用程序包的二进制程序和助手中：\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.app-sandbox</key>\n    <true/>\n    <key>com.apple.security.inherit</key>\n    <true/>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n应用程序包的 Info.plist 必须包含 ElectronTeamID 键，其值为你的 Apple 开发者团队ID：\n\n<plist version="1.0">\n<dict>\n  ...\n  <key>ElectronTeamID</key>\n  <string>TEAM_ID</string>\n</dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n当使用 electron-osx-signing 时， ElectronTeamID 键将通过从证书名称提取团队 ID 自动添加。 如果electron-osx-sign找不到正确的团队 ID，则可能需要你手动添加此键 。\n\n\n# Sign apps for development\n\nTo sign an app that can run on your development machine, you must sign it with the "Apple Development" certificate and pass the provisioning profile to electron-osx-sign.\n\nelectron-osx-sign YourApp.app --identity=\'Apple Development\' --provisioning-profile=/path/to/yourapp.provisionprofile\n\n\n1\n\n\nIf you are signing without electron-osx-sign, you must place the provisioning profile to YourApp.app/Contents/embedded.provisionprofile.\n\nThe signed app can only run on the machines that registered by the provisioning profile, and this is the only way to test the signed app before submitting to Mac App Store.\n\n\n# Sign apps for submitting to the Mac App Store\n\nTo sign an app that will be submitted to Mac App Store, you must sign it with the "Apple Distribution" certificate. Note that apps signed with this certificate will not run anywhere, unless it is downloaded from Mac App Store.\n\nelectron-osx-sign YourApp.app --identity=\'Apple Distribution\'\n\n\n1\n\n\n\n# Sign apps for distribution outside the Mac App Store\n\nIf you don\'t plan to submit the app to Mac App Store, you can sign it the "Developer ID Application" certificate. In this way there is no requirement on App Sandbox, and you should use the normal darwin build of Electron if you don\'t use App Sandbox.\n\nelectron-osx-sign YourApp.app --identity=\'Developer ID Application\' --no-gatekeeper-assess\n\n\n1\n\n\nBy passing --no-gatekeeper-assess, the electron-osx-sign will skip the macOS GateKeeper check as your app usually has not been notarized yet by this step.\n\nThis guide does not cover App Notarization, but you might want to do it otherwise Apple may prevent users from using your app outside Mac App Store.\n\n\n# Submit Apps to the Mac App Store\n\nAfter signing the app with the "Apple Distribution" certificate, you can continue to submit it to Mac App Store.\n\nHowever, this guide do not ensure your app will be approved by Apple; you still need to read Apple\'s Submitting Your App guide on how to meet the Mac App Store requirements.\n\n\n# Upload\n\nThe Application Loader should be used to upload the signed app to iTunes Connect for processing, making sure you have created a record before uploading.\n\nIf you are seeing errors like private APIs uses, you should check if the app is using the MAS build of Electron.\n\n\n# Submit for review\n\nAfter uploading, you should submit your app for review.\n\n\n# MAS 构建限制\n\n为了让你的应用满足沙箱的所有条件，在 MAS 构建的时候，下面的模块已被禁用：\n\n * crashReporter\n * autoUpdater\n\n并且下面的行为也改变了:\n\n * 一些视频采集功能无效。\n * 某些辅助功能无法访问。\n * 应用无法检测 DNS 变化。\n\n此外，由于应用沙盒的使用，应用程序可以访问的资源受到严格限制；您可以阅读 应用沙盒 ，了解更多信息。\n\n\n# Additional entitlements\n\nDepending on which Electron APIs your app uses, you may need to add additional entitlements to your app\'s entitlements file. Otherwise, the App Sandbox may prevent you from using them.\n\n# Network access\n\n启用传出的网络连接，允许你的应用程序连接到服务器：\n\n<key>com.apple.security.network.client</key>\n<true/>\n\n\n1\n2\n\n\n启用传入的网络连接，让你的应用程序打开网络 socket 监听：\n\n<key>com.apple.security.network.server</key>\n<true/>\n\n\n1\n2\n\n\n有关更多 详细信息，请参阅启用网络访问文档。\n\n# dialog.showOpenDialog\n\n<key>com.apple.security.files.user-selected.read-only</key>\n<true/>\n\n\n1\n2\n\n\n有关更多详细信息，请参阅"启用访问用户选择的文件"文档。\n\n# dialog.showSaveDialog\n\n<key>com.apple.security.files.user-selected.read-write</key>\n<true/>\n\n\n1\n2\n\n\n有关更多详细信息，请参阅"启用访问用户选择的文件"文档。\n\n\n# Electron 使用的加密算法\n\n根据你发布应用所在的国家或地区，你可能需要提供您软件使用的加密算法的信息。 更多信息，请参阅 加密导出合规性文档 。\n\nElectron 使用下列加密算法：\n\n * AES - NIST SP 800-38A, NIST SP 800-38D, RFC 3394\n * HMAC - FIPS 198-1\n * ECDSA - ANS X9.62–2005\n * ECDH - ANS X9.63–2001\n * HKDF - NIST SP 800-56C\n * PBKDF2 - RFC 2898\n * RSA - RFC 3447\n * SHA - FIPS 180-4\n * Blowfish - https://www.schneier.com/cryptography/blowfish/\n * CAST - RFC 2144, RFC 2612\n * DES - FIPS 46-3\n * DH - RFC 2631\n * DSA - ANSI X9.30\n * EC - SEC 1\n * IDEA - "On the Design and Security of Block Ciphers" book by X. Lai\n * MD2 - RFC 1319\n * MD4 - RFC 6150\n * MD5 - RFC 1321\n * MDC2 - ISO/IEC 10118-2\n * RC2 - RFC 2268\n * RC4 - RFC 4345\n * RC5 - https://people.csail.mit.edu/rivest/Rivest-rc5rev.pdf\n * RIPEMD - ISO/IEC 10118-3',normalizedContent:'# mac app store 应用程序提交指南\n\n本指南提供以下相关资讯：\n\n * 如何在 macos 上为 electron 应用签名；\n * 如何在 mac app store (mas) 上提交 electron 应用；\n * 对于 mas 构建版本的局限性。\n\n\n# 要求\n\n要为 electron 应用签名，则必须首先安装下列应用：\n\n * xcode 11 或更高版本。\n * electron-osx-sign npm 模块.\n\n您还必须注册一个苹果开发者帐户，并加入 苹果开发者计划。\n\n\n# 为 electron 应用签名\n\nelectron应用可以通过 mac 应用商店或其外部进行发布。 每种方式都需要不同的签名和测试方法。 本指南侧重于通过 mac 应用商店进行发布，也会提及其他方法。\n\n以下步骤描述了如何从 apple 获得证书，如何对electron应用程序进行签名以及如何测试它们。\n\n\n# 获取证书\n\n获得签名证书的最简单方法是使用 xcode：\n\n 1. 打开xcode并打开“帐户”首选项；\n 2. 使用您的 apple 帐户登录;\n 3. 选择一个团队并单击"管理证书";\n 4. 在签名证书表的左下角，单击添加按钮 (+)，并添加以下证书：\n    * "apple development"\n    * "apple distribution"\n\n“apple development”证书用于在apple developer网站上注册的计算机上签署用于开发和测试的应用程序。 注册方法会在准备配置文件中描述。\n\n带有"apple development"证书签名的应用无法提交到mac 应用商店。 为此，应用程序必须使用"apple distribution"证书进行签名。 但请注意，使用"apple distribution"证书签名的应用程序不能直接运行，它们必须由 apple 重新签名才能运行，也就是只有从 mac 应用商店下载后才能运行。\n\n# 其它证书\n\n您可以注意到还有其他类型的证书。\n\n"developer id application"证书用于将应用发布到mac 应用商店以外的地方之前签名。\n\n"deceloper id installer"和"mac installer distribution"证书用于签署 mac 安装程序包，而不是应用程序本身。 大多数electron应用不使用mac installer package，因此通常不需要它们。\n\n完整的证书类型列表可以在这里找到。\n\n使用 "apple development" 和 "apple distribution" 证书签名的应用程序只能在 app sandbox下运行， 所以他们必须使用electron 的 mas 构建。 然而，“developer id application”证书没有这个限制，因此，用其签名的应用既可以使用普通构建也可以使用 electron 的 mas 构建。\n\n# 传统证书名称\n\napple在过去几年中一直在更改证书的名称，您可能会在阅读旧文档时遇到这些证书，并且一些工具仍然在使用旧名称。\n\n * “apple distribution”证书也叫做“3rd party mac developer application”和“mac app distribution”。\n * “apple development”证书也叫做“mac developer”和“development”。\n\n\n# 准备配置配置文件\n\n如果您想在将应用提交给mac app store之前在本地机器上测试您的应用， 您必须使用"apple development"证书签名该应用，并在程序包中嵌入配置文件。\n\n要 创建一个配置文件，您可以按照以下步骤：\n\n 1. 在 apple developer 网站上打开"证书、标识符 & 配置文件"页面。\n 2. 在“标识符”页面为您的应用添加一个新的app id。\n 3. 在"设备"页面中注册本地计算机。 您可以在"系统信息"应用的"硬件"页面中找到机器的"设备 id"。\n 4. 在“profiles”页面注册一个新的配置文件，然后下载到 /path/to/yourapp.provisionfile。\n\n\n# 启用apple的应用沙箱\n\n提交到 mac app store 的应用程序必须在 apple app sandbox下运行， 并且只有electron的 mas 构建可以使用app sandbox 运行。 在 app sandbox 下运行时，electron 的标准 darwin 构建将无法启动。\n\n使用 electron-osx-signe签名时，它将会自动将必要的权限添加到您应用的所需权利中， 但如果您正在使用自定义所需权利，您必须确保app sandbox capacity已经添加：\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype plist public "-//apple//dtd plist 1.0//en" "http://www.apple.com/dtds/propertylist-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.app-sandbox</key>\n    <true/>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 不使用 electron-osx-sign的额外步骤\n\n如果您的应用没有使用 electron-osx-signe 进行签名，您必须确保应用包的权限至少有以下键：\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype plist public "-//apple//dtd plist 1.0//en" "http://www.apple.com/dtds/propertylist-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.app-sandbox</key>\n    <true/>\n    <key>com.apple.security.application-groups</key>\n    <array>\n      <string>team_id.your.bundle.id</string>\n    </array>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nteam_id 应替换为 apple 开发者帐户的team id，your.bundle.id 应替换为应用的app id。\n\n以下权限必须添加到应用程序包的二进制程序和助手中：\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype plist public "-//apple//dtd plist 1.0//en" "http://www.apple.com/dtds/propertylist-1.0.dtd">\n<plist version="1.0">\n  <dict>\n    <key>com.apple.security.app-sandbox</key>\n    <true/>\n    <key>com.apple.security.inherit</key>\n    <true/>\n  </dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n应用程序包的 info.plist 必须包含 electronteamid 键，其值为你的 apple 开发者团队id：\n\n<plist version="1.0">\n<dict>\n  ...\n  <key>electronteamid</key>\n  <string>team_id</string>\n</dict>\n</plist>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n当使用 electron-osx-signing 时， electronteamid 键将通过从证书名称提取团队 id 自动添加。 如果electron-osx-sign找不到正确的团队 id，则可能需要你手动添加此键 。\n\n\n# sign apps for development\n\nto sign an app that can run on your development machine, you must sign it with the "apple development" certificate and pass the provisioning profile to electron-osx-sign.\n\nelectron-osx-sign yourapp.app --identity=\'apple development\' --provisioning-profile=/path/to/yourapp.provisionprofile\n\n\n1\n\n\nif you are signing without electron-osx-sign, you must place the provisioning profile to yourapp.app/contents/embedded.provisionprofile.\n\nthe signed app can only run on the machines that registered by the provisioning profile, and this is the only way to test the signed app before submitting to mac app store.\n\n\n# sign apps for submitting to the mac app store\n\nto sign an app that will be submitted to mac app store, you must sign it with the "apple distribution" certificate. note that apps signed with this certificate will not run anywhere, unless it is downloaded from mac app store.\n\nelectron-osx-sign yourapp.app --identity=\'apple distribution\'\n\n\n1\n\n\n\n# sign apps for distribution outside the mac app store\n\nif you don\'t plan to submit the app to mac app store, you can sign it the "developer id application" certificate. in this way there is no requirement on app sandbox, and you should use the normal darwin build of electron if you don\'t use app sandbox.\n\nelectron-osx-sign yourapp.app --identity=\'developer id application\' --no-gatekeeper-assess\n\n\n1\n\n\nby passing --no-gatekeeper-assess, the electron-osx-sign will skip the macos gatekeeper check as your app usually has not been notarized yet by this step.\n\nthis guide does not cover app notarization, but you might want to do it otherwise apple may prevent users from using your app outside mac app store.\n\n\n# submit apps to the mac app store\n\nafter signing the app with the "apple distribution" certificate, you can continue to submit it to mac app store.\n\nhowever, this guide do not ensure your app will be approved by apple; you still need to read apple\'s submitting your app guide on how to meet the mac app store requirements.\n\n\n# upload\n\nthe application loader should be used to upload the signed app to itunes connect for processing, making sure you have created a record before uploading.\n\nif you are seeing errors like private apis uses, you should check if the app is using the mas build of electron.\n\n\n# submit for review\n\nafter uploading, you should submit your app for review.\n\n\n# mas 构建限制\n\n为了让你的应用满足沙箱的所有条件，在 mas 构建的时候，下面的模块已被禁用：\n\n * crashreporter\n * autoupdater\n\n并且下面的行为也改变了:\n\n * 一些视频采集功能无效。\n * 某些辅助功能无法访问。\n * 应用无法检测 dns 变化。\n\n此外，由于应用沙盒的使用，应用程序可以访问的资源受到严格限制；您可以阅读 应用沙盒 ，了解更多信息。\n\n\n# additional entitlements\n\ndepending on which electron apis your app uses, you may need to add additional entitlements to your app\'s entitlements file. otherwise, the app sandbox may prevent you from using them.\n\n# network access\n\n启用传出的网络连接，允许你的应用程序连接到服务器：\n\n<key>com.apple.security.network.client</key>\n<true/>\n\n\n1\n2\n\n\n启用传入的网络连接，让你的应用程序打开网络 socket 监听：\n\n<key>com.apple.security.network.server</key>\n<true/>\n\n\n1\n2\n\n\n有关更多 详细信息，请参阅启用网络访问文档。\n\n# dialog.showopendialog\n\n<key>com.apple.security.files.user-selected.read-only</key>\n<true/>\n\n\n1\n2\n\n\n有关更多详细信息，请参阅"启用访问用户选择的文件"文档。\n\n# dialog.showsavedialog\n\n<key>com.apple.security.files.user-selected.read-write</key>\n<true/>\n\n\n1\n2\n\n\n有关更多详细信息，请参阅"启用访问用户选择的文件"文档。\n\n\n# electron 使用的加密算法\n\n根据你发布应用所在的国家或地区，你可能需要提供您软件使用的加密算法的信息。 更多信息，请参阅 加密导出合规性文档 。\n\nelectron 使用下列加密算法：\n\n * aes - nist sp 800-38a, nist sp 800-38d, rfc 3394\n * hmac - fips 198-1\n * ecdsa - ans x9.62–2005\n * ecdh - ans x9.63–2001\n * hkdf - nist sp 800-56c\n * pbkdf2 - rfc 2898\n * rsa - rfc 3447\n * sha - fips 180-4\n * blowfish - https://www.schneier.com/cryptography/blowfish/\n * cast - rfc 2144, rfc 2612\n * des - fips 46-3\n * dh - rfc 2631\n * dsa - ansi x9.30\n * ec - sec 1\n * idea - "on the design and security of block ciphers" book by x. lai\n * md2 - rfc 1319\n * md4 - rfc 6150\n * md5 - rfc 1321\n * mdc2 - iso/iec 10118-2\n * rc2 - rfc 2268\n * rc4 - rfc 4345\n * rc5 - https://people.csail.mit.edu/rivest/rivest-rc5rev.pdf\n * ripemd - iso/iec 10118-3',charsets:{cjk:!0}},{title:"macos-dock",frontmatter:{title:"macos-dock",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/eb53d4/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/macos-dock.html",relativePath:"《Electron中文文档》/tutorial/macos-dock.md",key:"v-79119bcc",path:"/pages/eb53d4/",headers:[{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:378}],headersStr:"示例",content:"# Dock (macOS)\n\nElectron有API来配置macOS Dock中的应用程序图标。 A macOS-only API exists to create a custom dock menu, but Electron also uses the app dock icon as the entry point for cross-platform features like recent documents and application progress.\n\n一个自定义的Dock项也普遍用于为那些用户不愿意为之打开整个应用窗口的任务添加快捷方式。\n\nTerminal.app 的 Dock 菜单:\n\n\n\n要设置您的自定义 dock 菜单，您需要使用 app.dock.setmenu API，它仅在 macOS 上可用。\n\n\n# 示例\n\n从 Quick Start Guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { app, BrowserWindow, Menu } = require('electron')\n\nfunction createWindow () {\n  const win = new BrowserWindow({\n    width: 800,\n    height: 600,\n  })\n\n  win.loadFile('index.html')\n}\n\nconst dockMenu = Menu.buildFromTemplate([\n  {\n    label: 'New Window',\n    click () { console.log('New Window') }\n  }, {\n    label: 'New Window with Settings',\n    submenu: [\n      { label: 'Basic' },\n      { label: 'Pro' }\n    ]\n  },\n  { label: 'New Command...' }\n])\n\napp.whenReady().then(() => {\n  if (process.platform === 'darwin') {\n    app.dock.setMenu(dockMenu)\n  }\n}).then(createWindow)\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\napp.on('activate', () => {\n  if (BrowserWindow.getAllWindows().length === 0) {\n    createWindow()\n  }\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nAfter launching the Electron application, right click the application icon. 您应该可以看到您刚刚设置的自定义菜单：\n\n",normalizedContent:"# dock (macos)\n\nelectron有api来配置macos dock中的应用程序图标。 a macos-only api exists to create a custom dock menu, but electron also uses the app dock icon as the entry point for cross-platform features like recent documents and application progress.\n\n一个自定义的dock项也普遍用于为那些用户不愿意为之打开整个应用窗口的任务添加快捷方式。\n\nterminal.app 的 dock 菜单:\n\n\n\n要设置您的自定义 dock 菜单，您需要使用 app.dock.setmenu api，它仅在 macos 上可用。\n\n\n# 示例\n\n从 quick start guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { app, browserwindow, menu } = require('electron')\n\nfunction createwindow () {\n  const win = new browserwindow({\n    width: 800,\n    height: 600,\n  })\n\n  win.loadfile('index.html')\n}\n\nconst dockmenu = menu.buildfromtemplate([\n  {\n    label: 'new window',\n    click () { console.log('new window') }\n  }, {\n    label: 'new window with settings',\n    submenu: [\n      { label: 'basic' },\n      { label: 'pro' }\n    ]\n  },\n  { label: 'new command...' }\n])\n\napp.whenready().then(() => {\n  if (process.platform === 'darwin') {\n    app.dock.setmenu(dockmenu)\n  }\n}).then(createwindow)\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\napp.on('activate', () => {\n  if (browserwindow.getallwindows().length === 0) {\n    createwindow()\n  }\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nafter launching the electron application, right click the application icon. 您应该可以看到您刚刚设置的自定义菜单：\n\n",charsets:{cjk:!0}},{title:"message-ports",frontmatter:{title:"message-ports",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/6c7d5c/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/message-ports.html",relativePath:"《Electron中文文档》/tutorial/message-ports.md",key:"v-1e7c9e48",path:"/pages/6c7d5c/",headers:[{level:2,title:"MessagePorts in the main process",slug:"messageports-in-the-main-process",normalizedTitle:"messageports in the main process",charIndex:2028},{level:2,title:"Extension: close event",slug:"extension-close-event",normalizedTitle:"extension: close event",charIndex:2977},{level:2,title:"Example use cases",slug:"example-use-cases",normalizedTitle:"example use cases",charIndex:3501},{level:3,title:"Worker process",slug:"worker-process",normalizedTitle:"worker process",charIndex:3523},{level:3,title:"Reply streams",slug:"reply-streams",normalizedTitle:"reply streams",charIndex:6753},{level:3,title:"Communicating directly between the main process and the main world of a context-isolated page",slug:"communicating-directly-between-the-main-process-and-the-main-world-of-a-context-isolated-page",normalizedTitle:"communicating directly between the main process and the main world of a context-isolated page",charIndex:8772}],headersStr:"MessagePorts in the main process Extension: close event Example use cases Worker process Reply streams Communicating directly between the main process and the main world of a context-isolated page",content:"# MessagePorts in Electron\n\nMessagePorts are a web feature that allow passing messages between different contexts. It's like window.postMessage, but on different channels. The goal of this document is to describe how Electron extends the Channel Messaging model, and to give some examples of how you might use MessagePorts in your app.\n\nHere is a very brief example of what a MessagePort is and how it works:\n\n// renderer.js ///////////////////////////////////////////////////////////////\n// MessagePorts are created in pairs. A connected pair of message ports is\n// called a channel.\nconst channel = new MessageChannel()\n\n// The only difference between port1 and port2 is in how you use them. Messages\n// sent to port1 will be received by port2 and vice-versa.\nconst port1 = channel.port1\nconst port2 = channel.port2\n\n// It's OK to send a message on the channel before the other end has registered\n// a listener. Messages will be queued until a listener is registered.\nport2.postMessage({ answer: 42 })\n\n// Here we send the other end of the channel, port1, to the main process. It's\n// also possible to send MessagePorts to other frames, or to Web Workers, etc.\nipcRenderer.postMessage('port', null, [port1])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n// main.js ///////////////////////////////////////////////////////////////////\n// In the main process, we receive the port.\nipcMain.on('port', (event) => {\n  // When we receive a MessagePort in the main process, it becomes a\n  // MessagePortMain.\n  const port = event.ports[0]\n\n  // MessagePortMain uses the Node.js-style events API, rather than the\n  // web-style events API. So .on('message', ...) instead of .onmessage = ...\n  port.on('message', (event) => {\n    // data is { answer: 42 }\n    const data = event.data\n  })\n\n  // MessagePortMain queues messages until the .start() method has been called.\n  port.start()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nThe Channel Messaging API documentation is a great way to learn more about how MessagePorts work.\n\n\n# MessagePorts in the main process\n\nIn the renderer, the MessagePort class behaves exactly as it does on the web. The main process is not a web page, though—it has no Blink integration—and so it does not have the MessagePort or MessageChannel classes. In order to handle and interact with MessagePorts in the main process, Electron adds two new classes: MessagePortMain and MessageChannelMain. These behave similarly to the analogous classes in the renderer.\n\nMessagePort objects can be created in either the renderer or the main process, and passed back and forth using the ipcRenderer.postMessage and WebContents.postMessage methods. Note that the usual IPC methods like send and invoke cannot be used to transfer MessagePorts, only the postMessage methods can transfer MessagePorts.\n\nBy passing MessagePorts via the main process, you can connect two pages that might not otherwise be able to communicate (e.g. due to same-origin restrictions).\n\n\n# Extension: close event\n\nElectron adds one feature to MessagePort that isn't present on the web, in order to make MessagePorts more useful. That is the close event, which is emitted when the other end of the channel is closed. Ports can also be implicitly closed by being garbage-collected.\n\nIn the renderer, you can listen for the close event either by assigning to port.onclose or by calling port.addEventListener('close', ...). In the main process, you can listen for the close event by calling port.on('close', ...).\n\n\n# Example use cases\n\n\n# Worker process\n\nIn this example, your app has a worker process implemented as a hidden window. You want the app page to be able to communicate directly with the worker process, without the performance overhead of relaying via the main process.\n\n// main.js ///////////////////////////////////////////////////////////////////\nconst { BrowserWindow, app, ipcMain, MessageChannelMain } = require('electron')\n\napp.whenReady().then(async () => {\n  // The worker process is a hidden BrowserWindow, so that it will have access\n  // to a full Blink context (including e.g. <canvas>, audio, fetch(), etc.)\n  const worker = new BrowserWindow({\n    show: false,\n    webPreferences: { nodeIntegration: true }\n  })\n  await worker.loadFile('worker.html')\n\n  // The main window will send work to the worker process and receive results\n  // over a MessagePort.\n  const mainWindow = new BrowserWindow({\n    webPreferences: { nodeIntegration: true }\n  })\n  mainWindow.loadFile('app.html')\n\n  // We can't use ipcMain.handle() here, because the reply needs to transfer a\n  // MessagePort.\n  ipcMain.on('request-worker-channel', (event) => {\n    // For security reasons, let's make sure only the frames we expect can\n    // access the worker.\n    if (event.senderFrame === mainWindow.webContents.mainFrame) {\n      // Create a new channel ...\n      const { port1, port2 } = new MessageChannelMain()\n      // ... send one end to the worker ...\n      worker.webContents.postMessage('new-client', null, [port1])\n      // ... and the other end to the main window.\n      event.senderFrame.postMessage('provide-worker-channel', null, [port2])\n      // Now the main window and the worker can communicate with each other\n      // without going through the main process!\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\x3c!-- worker.html ------------------------------------------------------------\x3e\n<script>\nconst { ipcRenderer } = require('electron')\n\nfunction doWork(input) {\n  // Something cpu-intensive.\n  return input * 2\n}\n\n// We might get multiple clients, for instance if there are multiple windows,\n// or if the main window reloads.\nipcRenderer.on('new-client', (event) => {\n  const [ port ] = event.ports\n  port.onmessage = (event) => {\n    // The event data can be any serializable object (and the event could even\n    // carry other MessagePorts with it!)\n    const result = doWork(event.data)\n    port.postMessage(result)\n  }\n})\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\x3c!-- app.html ---------------------------------------------------------------\x3e\n<script>\nconst { ipcRenderer } = require('electron')\n\n// We request that the main process sends us a channel we can use to\n// communicate with the worker.\nipcRenderer.send('request-worker-channel')\n\nipcRenderer.once('provide-worker-channel', (event) => {\n  // Once we receive the reply, we can take the port...\n  const [ port ] = event.ports\n  // ... register a handler to receive results ...\n  port.onmessage = (event) => {\n    console.log('received result:', event.data)\n  }\n  // ... and start sending it work!\n  port.postMessage(21)\n})\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# Reply streams\n\nElectron's built-in IPC methods only support two modes: fire-and-forget (e.g. send), or request-response (e.g. invoke). Using MessageChannels, you can implement a \"response stream\", where a single request responds with a stream of data.\n\n// renderer.js ///////////////////////////////////////////////////////////////\n\nfunction makeStreamingRequest (element, callback) {\n  // MessageChannels are lightweight--it's cheap to create a new one for each\n  // request.\n  const { port1, port2 } = new MessageChannel()\n\n  // We send one end of the port to the main process ...\n  ipcRenderer.postMessage(\n    'give-me-a-stream',\n    { element, count: 10 },\n    [port2]\n  )\n\n  // ... and we hang on to the other end. The main process will send messages\n  // to its end of the port, and close it when it's finished.\n  port1.onmessage = (event) => {\n    callback(event.data)\n  }\n  port1.onclose = () => {\n    console.log('stream ended')\n  }\n}\n\nmakeStreamingRequest(42, (data) => {\n  console.log('got response data:', event.data)\n})\n// We will see \"got response data: 42\" 10 times.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n// main.js ///////////////////////////////////////////////////////////////////\n\nipcMain.on('give-me-a-stream', (event, msg) => {\n  // The renderer has sent us a MessagePort that it wants us to send our\n  // response over.\n  const [replyPort] = event.ports\n\n  // Here we send the messages synchronously, but we could just as easily store\n  // the port somewhere and send messages asynchronously.\n  for (let i = 0; i < msg.count; i++) {\n    replyPort.postMessage(msg.element)\n  }\n\n  // We close the port when we're done to indicate to the other end that we\n  // won't be sending any more messages. This isn't strictly necessary--if we\n  // didn't explicitly close the port, it would eventually be garbage\n  // collected, which would also trigger the 'close' event in the renderer.\n  replyPort.close()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# Communicating directly between the main process and the main world of a context-isolated page\n\nWhen context isolation is enabled, IPC messages from the main process to the renderer are delivered to the isolated world, rather than to the main world. Sometimes you want to deliver messages to the main world directly, without having to step through the isolated world.\n\n// main.js ///////////////////////////////////////////////////////////////////\nconst { BrowserWindow, app, MessageChannelMain } = require('electron')\nconst path = require('path')\n\napp.whenReady().then(async () => {\n  // Create a BrowserWindow with contextIsolation enabled.\n  const bw = new BrowserWindow({\n    webPreferences: {\n      contextIsolation: true,\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n  bw.loadURL('index.html')\n\n  // We'll be sending one end of this channel to the main world of the\n  // context-isolated page.\n  const { port1, port2 } = new MessageChannelMain()\n\n  // It's OK to send a message on the channel before the other end has\n  // registered a listener. Messages will be queued until a listener is\n  // registered.\n  port2.postMessage({ test: 21 })\n\n  // We can also receive messages from the main world of the renderer.\n  port2.on('message', (event) => {\n    console.log('from renderer main world:', event.data)\n  })\n  port2.start()\n\n  // The preload script will receive this IPC message and transfer the port\n  // over to the main world.\n  bw.webContents.postMessage('main-world-port', null, [port1])\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n// preload.js ////////////////////////////////////////////////////////////////\nconst { ipcRenderer } = require('electron')\n\n// We need to wait until the main world is ready to receive the message before\n// sending the port. We create this promise in the preload so it's guaranteed\n// to register the onload listener before the load event is fired.\nconst windowLoaded = new Promise(resolve => {\n  window.onload = resolve\n})\n\nipcRenderer.on('main-world-port', async (event) => {\n  await windowLoaded\n  // We use regular window.postMessage to transfer the port from the isolated\n  // world to the main world.\n  window.postMessage('main-world-port', '*', event.ports)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\x3c!-- index.html -------------------------------------------------------------\x3e\n<script>\nwindow.onmessage = (event) => {\n  // event.source === window means the message is coming from the preload\n  // script, as opposed to from an <iframe> or other source.\n  if (event.source === window && event.data === 'main-world-port') {\n    const [ port ] = event.ports\n    // Once we have the port, we can communicate directly with the main\n    // process.\n    port.onmessage = (event) => {\n      console.log('from main process:', event.data)\n      port.postMessage(event.data * 2)\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",normalizedContent:"# messageports in electron\n\nmessageports are a web feature that allow passing messages between different contexts. it's like window.postmessage, but on different channels. the goal of this document is to describe how electron extends the channel messaging model, and to give some examples of how you might use messageports in your app.\n\nhere is a very brief example of what a messageport is and how it works:\n\n// renderer.js ///////////////////////////////////////////////////////////////\n// messageports are created in pairs. a connected pair of message ports is\n// called a channel.\nconst channel = new messagechannel()\n\n// the only difference between port1 and port2 is in how you use them. messages\n// sent to port1 will be received by port2 and vice-versa.\nconst port1 = channel.port1\nconst port2 = channel.port2\n\n// it's ok to send a message on the channel before the other end has registered\n// a listener. messages will be queued until a listener is registered.\nport2.postmessage({ answer: 42 })\n\n// here we send the other end of the channel, port1, to the main process. it's\n// also possible to send messageports to other frames, or to web workers, etc.\nipcrenderer.postmessage('port', null, [port1])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n// main.js ///////////////////////////////////////////////////////////////////\n// in the main process, we receive the port.\nipcmain.on('port', (event) => {\n  // when we receive a messageport in the main process, it becomes a\n  // messageportmain.\n  const port = event.ports[0]\n\n  // messageportmain uses the node.js-style events api, rather than the\n  // web-style events api. so .on('message', ...) instead of .onmessage = ...\n  port.on('message', (event) => {\n    // data is { answer: 42 }\n    const data = event.data\n  })\n\n  // messageportmain queues messages until the .start() method has been called.\n  port.start()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nthe channel messaging api documentation is a great way to learn more about how messageports work.\n\n\n# messageports in the main process\n\nin the renderer, the messageport class behaves exactly as it does on the web. the main process is not a web page, though—it has no blink integration—and so it does not have the messageport or messagechannel classes. in order to handle and interact with messageports in the main process, electron adds two new classes: messageportmain and messagechannelmain. these behave similarly to the analogous classes in the renderer.\n\nmessageport objects can be created in either the renderer or the main process, and passed back and forth using the ipcrenderer.postmessage and webcontents.postmessage methods. note that the usual ipc methods like send and invoke cannot be used to transfer messageports, only the postmessage methods can transfer messageports.\n\nby passing messageports via the main process, you can connect two pages that might not otherwise be able to communicate (e.g. due to same-origin restrictions).\n\n\n# extension: close event\n\nelectron adds one feature to messageport that isn't present on the web, in order to make messageports more useful. that is the close event, which is emitted when the other end of the channel is closed. ports can also be implicitly closed by being garbage-collected.\n\nin the renderer, you can listen for the close event either by assigning to port.onclose or by calling port.addeventlistener('close', ...). in the main process, you can listen for the close event by calling port.on('close', ...).\n\n\n# example use cases\n\n\n# worker process\n\nin this example, your app has a worker process implemented as a hidden window. you want the app page to be able to communicate directly with the worker process, without the performance overhead of relaying via the main process.\n\n// main.js ///////////////////////////////////////////////////////////////////\nconst { browserwindow, app, ipcmain, messagechannelmain } = require('electron')\n\napp.whenready().then(async () => {\n  // the worker process is a hidden browserwindow, so that it will have access\n  // to a full blink context (including e.g. <canvas>, audio, fetch(), etc.)\n  const worker = new browserwindow({\n    show: false,\n    webpreferences: { nodeintegration: true }\n  })\n  await worker.loadfile('worker.html')\n\n  // the main window will send work to the worker process and receive results\n  // over a messageport.\n  const mainwindow = new browserwindow({\n    webpreferences: { nodeintegration: true }\n  })\n  mainwindow.loadfile('app.html')\n\n  // we can't use ipcmain.handle() here, because the reply needs to transfer a\n  // messageport.\n  ipcmain.on('request-worker-channel', (event) => {\n    // for security reasons, let's make sure only the frames we expect can\n    // access the worker.\n    if (event.senderframe === mainwindow.webcontents.mainframe) {\n      // create a new channel ...\n      const { port1, port2 } = new messagechannelmain()\n      // ... send one end to the worker ...\n      worker.webcontents.postmessage('new-client', null, [port1])\n      // ... and the other end to the main window.\n      event.senderframe.postmessage('provide-worker-channel', null, [port2])\n      // now the main window and the worker can communicate with each other\n      // without going through the main process!\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\x3c!-- worker.html ------------------------------------------------------------\x3e\n<script>\nconst { ipcrenderer } = require('electron')\n\nfunction dowork(input) {\n  // something cpu-intensive.\n  return input * 2\n}\n\n// we might get multiple clients, for instance if there are multiple windows,\n// or if the main window reloads.\nipcrenderer.on('new-client', (event) => {\n  const [ port ] = event.ports\n  port.onmessage = (event) => {\n    // the event data can be any serializable object (and the event could even\n    // carry other messageports with it!)\n    const result = dowork(event.data)\n    port.postmessage(result)\n  }\n})\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\x3c!-- app.html ---------------------------------------------------------------\x3e\n<script>\nconst { ipcrenderer } = require('electron')\n\n// we request that the main process sends us a channel we can use to\n// communicate with the worker.\nipcrenderer.send('request-worker-channel')\n\nipcrenderer.once('provide-worker-channel', (event) => {\n  // once we receive the reply, we can take the port...\n  const [ port ] = event.ports\n  // ... register a handler to receive results ...\n  port.onmessage = (event) => {\n    console.log('received result:', event.data)\n  }\n  // ... and start sending it work!\n  port.postmessage(21)\n})\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# reply streams\n\nelectron's built-in ipc methods only support two modes: fire-and-forget (e.g. send), or request-response (e.g. invoke). using messagechannels, you can implement a \"response stream\", where a single request responds with a stream of data.\n\n// renderer.js ///////////////////////////////////////////////////////////////\n\nfunction makestreamingrequest (element, callback) {\n  // messagechannels are lightweight--it's cheap to create a new one for each\n  // request.\n  const { port1, port2 } = new messagechannel()\n\n  // we send one end of the port to the main process ...\n  ipcrenderer.postmessage(\n    'give-me-a-stream',\n    { element, count: 10 },\n    [port2]\n  )\n\n  // ... and we hang on to the other end. the main process will send messages\n  // to its end of the port, and close it when it's finished.\n  port1.onmessage = (event) => {\n    callback(event.data)\n  }\n  port1.onclose = () => {\n    console.log('stream ended')\n  }\n}\n\nmakestreamingrequest(42, (data) => {\n  console.log('got response data:', event.data)\n})\n// we will see \"got response data: 42\" 10 times.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n// main.js ///////////////////////////////////////////////////////////////////\n\nipcmain.on('give-me-a-stream', (event, msg) => {\n  // the renderer has sent us a messageport that it wants us to send our\n  // response over.\n  const [replyport] = event.ports\n\n  // here we send the messages synchronously, but we could just as easily store\n  // the port somewhere and send messages asynchronously.\n  for (let i = 0; i < msg.count; i++) {\n    replyport.postmessage(msg.element)\n  }\n\n  // we close the port when we're done to indicate to the other end that we\n  // won't be sending any more messages. this isn't strictly necessary--if we\n  // didn't explicitly close the port, it would eventually be garbage\n  // collected, which would also trigger the 'close' event in the renderer.\n  replyport.close()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# communicating directly between the main process and the main world of a context-isolated page\n\nwhen context isolation is enabled, ipc messages from the main process to the renderer are delivered to the isolated world, rather than to the main world. sometimes you want to deliver messages to the main world directly, without having to step through the isolated world.\n\n// main.js ///////////////////////////////////////////////////////////////////\nconst { browserwindow, app, messagechannelmain } = require('electron')\nconst path = require('path')\n\napp.whenready().then(async () => {\n  // create a browserwindow with contextisolation enabled.\n  const bw = new browserwindow({\n    webpreferences: {\n      contextisolation: true,\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n  bw.loadurl('index.html')\n\n  // we'll be sending one end of this channel to the main world of the\n  // context-isolated page.\n  const { port1, port2 } = new messagechannelmain()\n\n  // it's ok to send a message on the channel before the other end has\n  // registered a listener. messages will be queued until a listener is\n  // registered.\n  port2.postmessage({ test: 21 })\n\n  // we can also receive messages from the main world of the renderer.\n  port2.on('message', (event) => {\n    console.log('from renderer main world:', event.data)\n  })\n  port2.start()\n\n  // the preload script will receive this ipc message and transfer the port\n  // over to the main world.\n  bw.webcontents.postmessage('main-world-port', null, [port1])\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n// preload.js ////////////////////////////////////////////////////////////////\nconst { ipcrenderer } = require('electron')\n\n// we need to wait until the main world is ready to receive the message before\n// sending the port. we create this promise in the preload so it's guaranteed\n// to register the onload listener before the load event is fired.\nconst windowloaded = new promise(resolve => {\n  window.onload = resolve\n})\n\nipcrenderer.on('main-world-port', async (event) => {\n  await windowloaded\n  // we use regular window.postmessage to transfer the port from the isolated\n  // world to the main world.\n  window.postmessage('main-world-port', '*', event.ports)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\x3c!-- index.html -------------------------------------------------------------\x3e\n<script>\nwindow.onmessage = (event) => {\n  // event.source === window means the message is coming from the preload\n  // script, as opposed to from an <iframe> or other source.\n  if (event.source === window && event.data === 'main-world-port') {\n    const [ port ] = event.ports\n    // once we have the port, we can communicate directly with the main\n    // process.\n    port.onmessage = (event) => {\n      console.log('from main process:', event.data)\n      port.postmessage(event.data * 2)\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",charsets:{}},{title:"multithreading",frontmatter:{title:"multithreading",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/286d06/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/multithreading.html",relativePath:"《Electron中文文档》/tutorial/multithreading.md",key:"v-2fc3d436",path:"/pages/286d06/",headers:[{level:2,title:"多线程的Node.js",slug:"多线程的node-js",normalizedTitle:"多线程的node.js",charIndex:52},{level:2,title:"可用的API",slug:"可用的api",normalizedTitle:"可用的api",charIndex:337},{level:2,title:"原生Node.js模块",slug:"原生node-js模块",normalizedTitle:"原生node.js模块",charIndex:435}],headersStr:"多线程的Node.js 可用的API 原生Node.js模块",content:"# 多线程\n\n通过Web Workers，可以实现用操作系统级别的线程来跑JavaScript\n\n\n# 多线程的Node.js\n\n可以在Electron的Web Workers里使用Node.js的特性。要用的话，需把webPreferences中的nodeIntegrationInWorker选项设置为true\n\nconst win = new BrowserWindow({\n  webPreferences: {\n    nodeIntegrationInWorker: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\nnodeIntegrationInWorker 可以独立于nodeIntegration使用，但sandbox必须不能设置为true\n\n\n# 可用的API\n\nWeb Workers支持Node.js的所有内置模块，而且asar档案也仍通过Node.js的API来读取。 不过所有的Electron内置模块不可以用在多线程环境中。\n\n\n# 原生Node.js模块\n\n在Web Workers里可以直接加载任何原生Node.js模块，但不推荐这样做。 大多数现存的原生模块是在假设单线程环境的情况下编写的，如果把它们用在Web Workers里会导致崩溃和内存损坏。\n\n请注意, 即使原生Node.js模块如果考虑到了线程安全问题， 但在 Web Worker中加载它仍然不安全, 因为 process.dlopen 函数并没有考虑线程安全。\n\n现在安全顺利地加载原生模块的唯一办法，就是确保在Web Workers启动后app不加载原生模块。\n\nprocess.dlopen = () => {\n  throw new Error('Load native module is not safe')\n}\nconst worker = new Worker('script.js')\n\n\n1\n2\n3\n4\n",normalizedContent:"# 多线程\n\n通过web workers，可以实现用操作系统级别的线程来跑javascript\n\n\n# 多线程的node.js\n\n可以在electron的web workers里使用node.js的特性。要用的话，需把webpreferences中的nodeintegrationinworker选项设置为true\n\nconst win = new browserwindow({\n  webpreferences: {\n    nodeintegrationinworker: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\nnodeintegrationinworker 可以独立于nodeintegration使用，但sandbox必须不能设置为true\n\n\n# 可用的api\n\nweb workers支持node.js的所有内置模块，而且asar档案也仍通过node.js的api来读取。 不过所有的electron内置模块不可以用在多线程环境中。\n\n\n# 原生node.js模块\n\n在web workers里可以直接加载任何原生node.js模块，但不推荐这样做。 大多数现存的原生模块是在假设单线程环境的情况下编写的，如果把它们用在web workers里会导致崩溃和内存损坏。\n\n请注意, 即使原生node.js模块如果考虑到了线程安全问题， 但在 web worker中加载它仍然不安全, 因为 process.dlopen 函数并没有考虑线程安全。\n\n现在安全顺利地加载原生模块的唯一办法，就是确保在web workers启动后app不加载原生模块。\n\nprocess.dlopen = () => {\n  throw new error('load native module is not safe')\n}\nconst worker = new worker('script.js')\n\n\n1\n2\n3\n4\n",charsets:{cjk:!0}},{title:"native-file-drag-drop",frontmatter:{title:"native-file-drag-drop",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/860cdb/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/native-file-drag-drop.html",relativePath:"《Electron中文文档》/tutorial/native-file-drag-drop.md",key:"v-67e4aa88",path:"/pages/860cdb/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:16},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:160},{level:3,title:"Preload.js",slug:"preload-js",normalizedTitle:"preload.js",charIndex:193},{level:3,title:"Index.html",slug:"index-html",normalizedTitle:"index.html",charIndex:553},{level:3,title:"Renderer.js",slug:"renderer-js",normalizedTitle:"renderer.js",charIndex:772},{level:3,title:"Main.js",slug:"main-js",normalizedTitle:"main.js",charIndex:993}],headersStr:"概览 示例 Preload.js Index.html Renderer.js Main.js",content:"# 原生文件拖 & 放\n\n\n# 概览\n\n作为桌面程序，当然希望能够实现操作系统的 drag & drop 功能。 很多网站已经支持拖拽文件， Electron 当然也支持\n\n要在您的应用中实现此功能，您需要调用 webContent.startDrag(item) API 响应 ondragstart 事件。\n\n\n# 示例\n\n一个演示如何动态创建要从窗口中拖出的文件的示例。\n\n\n# Preload.js\n\n在 preload.js 中使用 contextBridge 注入方法 window.electron.startDrag(...) 将向主进程发送IPC消息。\n\nconst { contextBridge, ipcRenderer } = require('electron')\nconst path = require('path')\n\ncontextBridge.exposeInMainWorld('electron', {\n  startDrag: (fileName) => {\n    ipcRenderer.send('ondragstart', path.join(process.cwd(), fileName))\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# Index.html\n\n添加一个可拖动元素到 index.html, 并引用你的渲染器脚本：\n\n<div style=\"border:2px solid black;border-radius:3px;padding:5px;display:inline-block\" draggable=\"true\" id=\"drag\">拖动我</div>\n<script src=\"renderer.js\"><\/script>\n\n\n1\n2\n\n\n\n# Renderer.js\n\n在 renderer.js 通过调用通过上述 contextBridge 添加的方法来设置渲染器进程处理拖动事件。\n\ndocument.getElementById('drag').ondragstart = (event) => {\n  event.preventDefault()\n  window.electron.startDrag('drag-and-drop.md')\n}\n\n\n1\n2\n3\n4\n\n\n\n# Main.js\n\n在主进程中(main.js 文件)，将收到的事件带上文件路径和图标扩展到正在拖动的文件：\n\nconst { ipcMain } = require('electron')\n\nipcMain.on('ondragstart', (event, filePath) => {\n  event.sender.startDrag({\n    file: filePath,\n    icon: '/path/to/icon.png'\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n启动 Electron 应用程序后，尝试将该项从 BrowserWindow 拖放到桌面上。 在本指南中，本项是位于项目根目录下的 Markdown 文件：\n\n",normalizedContent:"# 原生文件拖 & 放\n\n\n# 概览\n\n作为桌面程序，当然希望能够实现操作系统的 drag & drop 功能。 很多网站已经支持拖拽文件， electron 当然也支持\n\n要在您的应用中实现此功能，您需要调用 webcontent.startdrag(item) api 响应 ondragstart 事件。\n\n\n# 示例\n\n一个演示如何动态创建要从窗口中拖出的文件的示例。\n\n\n# preload.js\n\n在 preload.js 中使用 contextbridge 注入方法 window.electron.startdrag(...) 将向主进程发送ipc消息。\n\nconst { contextbridge, ipcrenderer } = require('electron')\nconst path = require('path')\n\ncontextbridge.exposeinmainworld('electron', {\n  startdrag: (filename) => {\n    ipcrenderer.send('ondragstart', path.join(process.cwd(), filename))\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# index.html\n\n添加一个可拖动元素到 index.html, 并引用你的渲染器脚本：\n\n<div style=\"border:2px solid black;border-radius:3px;padding:5px;display:inline-block\" draggable=\"true\" id=\"drag\">拖动我</div>\n<script src=\"renderer.js\"><\/script>\n\n\n1\n2\n\n\n\n# renderer.js\n\n在 renderer.js 通过调用通过上述 contextbridge 添加的方法来设置渲染器进程处理拖动事件。\n\ndocument.getelementbyid('drag').ondragstart = (event) => {\n  event.preventdefault()\n  window.electron.startdrag('drag-and-drop.md')\n}\n\n\n1\n2\n3\n4\n\n\n\n# main.js\n\n在主进程中(main.js 文件)，将收到的事件带上文件路径和图标扩展到正在拖动的文件：\n\nconst { ipcmain } = require('electron')\n\nipcmain.on('ondragstart', (event, filepath) => {\n  event.sender.startdrag({\n    file: filepath,\n    icon: '/path/to/icon.png'\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n启动 electron 应用程序后，尝试将该项从 browserwindow 拖放到桌面上。 在本指南中，本项是位于项目根目录下的 markdown 文件：\n\n",charsets:{cjk:!0}},{title:"notifications",frontmatter:{title:"notifications",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/8e4b6f/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/notifications.html",relativePath:"《Electron中文文档》/tutorial/notifications.md",key:"v-28a5295c",path:"/pages/8e4b6f/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:24},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:192},{level:3,title:"在渲染进程中显示通知",slug:"在渲染进程中显示通知",normalizedTitle:"在渲染进程中显示通知",charIndex:199},{level:3,title:"Show notifications in the Main process",slug:"show-notifications-in-the-main-process",normalizedTitle:"show notifications in the main process",charIndex:704},{level:2,title:"Additional information",slug:"additional-information",normalizedTitle:"additional information",charIndex:1183},{level:3,title:"Windows",slug:"windows",normalizedTitle:"windows",charIndex:1240},{level:4,title:"高级通知",slug:"高级通知",normalizedTitle:"高级通知",charIndex:2082},{level:4,title:"免打扰模式 / 演示模式",slug:"免打扰模式-演示模式",normalizedTitle:"免打扰模式 / 演示模式",charIndex:2383},{level:3,title:"macOS",slug:"macos",normalizedTitle:"macos",charIndex:2481},{level:4,title:"勿扰 / 会话状态",slug:"勿扰-会话状态",normalizedTitle:"勿扰 / 会话状态",charIndex:2622},{level:3,title:"Linux",slug:"linux",normalizedTitle:"linux",charIndex:2704}],headersStr:"概览 示例 在渲染进程中显示通知 Show notifications in the Main process Additional information Windows 高级通知 免打扰模式 / 演示模式 macOS 勿扰 / 会话状态 Linux",content:"# 通知（Notifications）\n\n\n# 概览\n\n这三个操作系统都为应用程序向用户发送通知提供了手段。 在主进程和渲染进程中，显示通知的技术不同的。\n\n对于渲染进程，Electron 方便地允许开发者使用 HTML5 通知 API 发送通知，然后使用当前运行中的系统的原生通知 API 来进行显示。\n\n要在主进程中显示通知，您需要使用 Notification 模块。\n\n\n# 示例\n\n\n# 在渲染进程中显示通知\n\n从 Quick Start Guide 示例的应用程序开始，将以下行添加到 index.html 文件：\n\n<script src=\"renderer.js\"><\/script>\n\n\n1\n\n\n并添加 renderer.js 文件：\n\nconst NOTIFICATION_TITLE = 'Title'\nconst NOTIFICATION_BODY = 'Notification from the Renderer process. Click to log to console.'\nconst CLICK_MESSAGE = 'Notification clicked'\n\nnew Notification(NOTIFICATION_TITLE, { body: NOTIFICATION_BODY }).onclick = () => console.log(CLICK_MESSAGE)\n\n\n1\n2\n3\n4\n5\n\n\n启动 Electron 应用程序后，您应该能看到通知：\n\n\n\n此外，如果您点击通知，DOM将更新以显示“Notification clicked!”\n\n\n# Show notifications in the Main process\n\n从 Quick Start Guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { Notification } = require('electron')\n\nconst NOTIFICATION_TITLE = 'Basic Notification'\nconst NOTIFICATION_BODY = 'Notification from the Main process'\n\nfunction showNotification () {\n  new Notification({ title: NOTIFICATION_TITLE, body: NOTIFICATION_BODY }).show()\n}\n\napp.whenReady().then(createWindow).then(showNotification)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n启动 Electron 应用程序后，您应该能看到系统通知：\n\n\n\n\n# Additional information\n\n虽然操作系统的代码和用户体验相似，但依然存在微妙的差异。\n\n\n# Windows\n\n * 在 Windows 10 上，您的应用程序的快捷方式必须安装到启动菜单中，包含一个 Application User Model ID. This can be overkill during development, so adding node_modules\\electron\\dist\\electron.exe to your Start Menu also does the trick. Navigate to the file in Explorer, right-click and 'Pin to Start Menu'. 然后您需要添加 app.setAppUserModelId(process.execPath) 到主进程才能看到通知。\n * 在 Windows 8.1 和 Windows 8 上，带有 应用程序用户模型ID（Application User Model ID） 的应用程序快捷方式必须被添加到开始屏幕上。 但是请注意，它不需要被固定到开始屏幕。\n * 在 Windows 7 上, 通知通过视觉上类似于较新系统原生的一个自定义的实现来工作。\n\nElectron尝试将应用程序用户模型 ID 的相关工作自动化。 Electron在和安装和更新框架 Squirrel 协同使用的时候，快捷方式将被自动正确的配置好。 更棒的是，Electron 会自动检测 Squirrel 的存在，并且使用正确的值来自动调用app.setAppUserModelId()。 在开发的过程中, 你可能需要自己调用app.setAppUserModelld()\n\n此外，在Windows 8中，通知正文的最大长度为250个字符，Windows团队建议将通知保留为200个字符。 然而，Windows 10中已经删除了这个限制，但是Windows团队要求开发人员合理使用。 尝试将大量文本发送到API(数千个字符) 可能会导致不稳定。\n\n# 高级通知\n\nWindows 的更高版本允许高级通知，自定义模板，图像和其他灵活元素。 要发送这些通知(来自主进程或渲染器进程)，请使用用户区模块 electron-windows-notifications 来用原生节点附件发送 ToastNotification 和 TileNotification 对象。\n\n当包括按钮在内的通知使用 electron-windows-notifications 时，处理回复需要使用 electron-windows-interactive-notifications 帮助注册所需的 COM 组件并调用您的 Electron 应用程序和输入的用户数据。\n\n# 免打扰模式 / 演示模式\n\n如果要检测是否允许发送通知，请使用 electron-notification-state 模块。\n\n这样，您可以提前确定 Windows 是否会将通知忽略。\n\n\n# macOS\n\nMacOS上的通知是最直接的，但你应该注意苹果关于通知的人机接口指南（Apple's Human Interface guidelines regarding notifications）.\n\n请注意，通知的大小限制为256个字节，如果超过该限制，则会被截断。\n\n# 勿扰 / 会话状态\n\n要检测是否允许发送通知，请使用用户区模块 electron-notification-state。\n\n这样可以提前检测是否显示通知。\n\n\n# Linux\n\n通知是通过libnotify发送的，libnotify可以在任何实现了桌面通知规范（Desktop Notifications Specification）的桌面环境中发送通知，包括Cinnamon、Enlightenment、Unity、GNOME、KDE",normalizedContent:"# 通知（notifications）\n\n\n# 概览\n\n这三个操作系统都为应用程序向用户发送通知提供了手段。 在主进程和渲染进程中，显示通知的技术不同的。\n\n对于渲染进程，electron 方便地允许开发者使用 html5 通知 api 发送通知，然后使用当前运行中的系统的原生通知 api 来进行显示。\n\n要在主进程中显示通知，您需要使用 notification 模块。\n\n\n# 示例\n\n\n# 在渲染进程中显示通知\n\n从 quick start guide 示例的应用程序开始，将以下行添加到 index.html 文件：\n\n<script src=\"renderer.js\"><\/script>\n\n\n1\n\n\n并添加 renderer.js 文件：\n\nconst notification_title = 'title'\nconst notification_body = 'notification from the renderer process. click to log to console.'\nconst click_message = 'notification clicked'\n\nnew notification(notification_title, { body: notification_body }).onclick = () => console.log(click_message)\n\n\n1\n2\n3\n4\n5\n\n\n启动 electron 应用程序后，您应该能看到通知：\n\n\n\n此外，如果您点击通知，dom将更新以显示“notification clicked!”\n\n\n# show notifications in the main process\n\n从 quick start guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { notification } = require('electron')\n\nconst notification_title = 'basic notification'\nconst notification_body = 'notification from the main process'\n\nfunction shownotification () {\n  new notification({ title: notification_title, body: notification_body }).show()\n}\n\napp.whenready().then(createwindow).then(shownotification)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n启动 electron 应用程序后，您应该能看到系统通知：\n\n\n\n\n# additional information\n\n虽然操作系统的代码和用户体验相似，但依然存在微妙的差异。\n\n\n# windows\n\n * 在 windows 10 上，您的应用程序的快捷方式必须安装到启动菜单中，包含一个 application user model id. this can be overkill during development, so adding node_modules\\electron\\dist\\electron.exe to your start menu also does the trick. navigate to the file in explorer, right-click and 'pin to start menu'. 然后您需要添加 app.setappusermodelid(process.execpath) 到主进程才能看到通知。\n * 在 windows 8.1 和 windows 8 上，带有 应用程序用户模型id（application user model id） 的应用程序快捷方式必须被添加到开始屏幕上。 但是请注意，它不需要被固定到开始屏幕。\n * 在 windows 7 上, 通知通过视觉上类似于较新系统原生的一个自定义的实现来工作。\n\nelectron尝试将应用程序用户模型 id 的相关工作自动化。 electron在和安装和更新框架 squirrel 协同使用的时候，快捷方式将被自动正确的配置好。 更棒的是，electron 会自动检测 squirrel 的存在，并且使用正确的值来自动调用app.setappusermodelid()。 在开发的过程中, 你可能需要自己调用app.setappusermodelld()\n\n此外，在windows 8中，通知正文的最大长度为250个字符，windows团队建议将通知保留为200个字符。 然而，windows 10中已经删除了这个限制，但是windows团队要求开发人员合理使用。 尝试将大量文本发送到api(数千个字符) 可能会导致不稳定。\n\n# 高级通知\n\nwindows 的更高版本允许高级通知，自定义模板，图像和其他灵活元素。 要发送这些通知(来自主进程或渲染器进程)，请使用用户区模块 electron-windows-notifications 来用原生节点附件发送 toastnotification 和 tilenotification 对象。\n\n当包括按钮在内的通知使用 electron-windows-notifications 时，处理回复需要使用 electron-windows-interactive-notifications 帮助注册所需的 com 组件并调用您的 electron 应用程序和输入的用户数据。\n\n# 免打扰模式 / 演示模式\n\n如果要检测是否允许发送通知，请使用 electron-notification-state 模块。\n\n这样，您可以提前确定 windows 是否会将通知忽略。\n\n\n# macos\n\nmacos上的通知是最直接的，但你应该注意苹果关于通知的人机接口指南（apple's human interface guidelines regarding notifications）.\n\n请注意，通知的大小限制为256个字节，如果超过该限制，则会被截断。\n\n# 勿扰 / 会话状态\n\n要检测是否允许发送通知，请使用用户区模块 electron-notification-state。\n\n这样可以提前检测是否显示通知。\n\n\n# linux\n\n通知是通过libnotify发送的，libnotify可以在任何实现了桌面通知规范（desktop notifications specification）的桌面环境中发送通知，包括cinnamon、enlightenment、unity、gnome、kde",charsets:{cjk:!0}},{title:"offscreen-rendering",frontmatter:{title:"offscreen-rendering",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/48fe5f/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/offscreen-rendering.html",relativePath:"《Electron中文文档》/tutorial/offscreen-rendering.md",key:"v-34cc2c1c",path:"/pages/48fe5f/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:11},{level:3,title:"渲染模式",slug:"渲染模式",normalizedTitle:"渲染模式",charIndex:145},{level:4,title:"GPU加速",slug:"gpu加速",normalizedTitle:"gpu加速",charIndex:298},{level:4,title:"软件输出设备",slug:"软件输出设备",normalizedTitle:"软件输出设备",charIndex:359},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:529}],headersStr:"概览 渲染模式 GPU加速 软件输出设备 示例",content:"# 离屏渲染\n\n\n# 概览\n\n离屏渲染允许你以位图的方式来获取 BrowserWindow 中的内容，所以它可以在任何地方被渲染，例如在3D场景中的纹理。 Electron中的离屏渲染使用与 Chromium Embedded Framework 项目类似的方法。\n\n注意：\n\n * 有两种渲染模式可以使用（见下），只有未渲染区域传递到 绘图 事件才能提高效率。\n * 您可以停止/继续渲染并设置帧速率。\n * 最高帧速率为 240，因为更高的值只会带来性能上的损失而没有任何收益。\n * 当网页上没有发生任何情况时，不会生成帧。\n * 屏幕窗口始终创建为 无边框窗口.\n\n\n# 渲染模式\n\n# GPU加速\n\nGPU加速渲染意味着使用GPU用于合成。 这也就意味着帧必须从GPU拷贝过来，从而需求更多的资源，因此这会比软件输出设备更慢。 这种模式的优点是支持WebGL和3D CSS动画.\n\n# 软件输出设备\n\n此模式使用软件输出设备在 CPU 中渲染，因此帧 生成的速度要快得多。 因此，此模式优先于 GPU 加速模式。\n\n要启用此模式，必须通过调用 app.disableHardwareAcceleration() API 来禁用GPU加速。\n\n\n# 示例\n\nconst { app, BrowserWindow } = require('electron')\nconst fs = require('fs')\n\napp.disableHardwareAcceleration()\n\nlet win\n\napp.whenReady().then(() => {\n  win = new BrowserWindow({ webPreferences: { offscreen: true } })\n\n  win.loadURL('https://github.com')\n  win.webContents.on('paint', (event, dirty, image) => {\n    fs.writeFileSync('ex.png', image.toPNG())\n  })\n  win.webContents.setFrameRate(60)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n在运行Electron应用后，进入你的应用的工作目录，你会在里面找到渲染的图片。",normalizedContent:"# 离屏渲染\n\n\n# 概览\n\n离屏渲染允许你以位图的方式来获取 browserwindow 中的内容，所以它可以在任何地方被渲染，例如在3d场景中的纹理。 electron中的离屏渲染使用与 chromium embedded framework 项目类似的方法。\n\n注意：\n\n * 有两种渲染模式可以使用（见下），只有未渲染区域传递到 绘图 事件才能提高效率。\n * 您可以停止/继续渲染并设置帧速率。\n * 最高帧速率为 240，因为更高的值只会带来性能上的损失而没有任何收益。\n * 当网页上没有发生任何情况时，不会生成帧。\n * 屏幕窗口始终创建为 无边框窗口.\n\n\n# 渲染模式\n\n# gpu加速\n\ngpu加速渲染意味着使用gpu用于合成。 这也就意味着帧必须从gpu拷贝过来，从而需求更多的资源，因此这会比软件输出设备更慢。 这种模式的优点是支持webgl和3d css动画.\n\n# 软件输出设备\n\n此模式使用软件输出设备在 cpu 中渲染，因此帧 生成的速度要快得多。 因此，此模式优先于 gpu 加速模式。\n\n要启用此模式，必须通过调用 app.disablehardwareacceleration() api 来禁用gpu加速。\n\n\n# 示例\n\nconst { app, browserwindow } = require('electron')\nconst fs = require('fs')\n\napp.disablehardwareacceleration()\n\nlet win\n\napp.whenready().then(() => {\n  win = new browserwindow({ webpreferences: { offscreen: true } })\n\n  win.loadurl('https://github.com')\n  win.webcontents.on('paint', (event, dirty, image) => {\n    fs.writefilesync('ex.png', image.topng())\n  })\n  win.webcontents.setframerate(60)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n在运行electron应用后，进入你的应用的工作目录，你会在里面找到渲染的图片。",charsets:{cjk:!0}},{title:"online-offline-events",frontmatter:{title:"online-offline-events",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/f11f86/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/online-offline-events.html",relativePath:"《Electron中文文档》/tutorial/online-offline-events.md",key:"v-321cf4bc",path:"/pages/f11f86/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:16},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:333}],headersStr:"概览 示例",content:"# 在线/离线事件探测\n\n\n# 概览\n\n在渲染进程中，在线/离线事件 的探测，是通过标准 HTML5 API 中 navigator.onLine 属性来实现的。\n\nnavigator.onLine 属性返回值：\n\n * false：如果所有网络请求都失败(例如，断开网络)。\n * true: 在其他情况下都返回 true\n\n由于许多情况都会返回 true，你应该小心对待误报的情况， 因为我们不能总是假设 true 值意味着 Electron 可以访问互联网。 例如，当计算机运行的虚拟化软件时，虚拟以太网适配器处于 \"always connected\" 状态。 因此，如果您想要确定 Electron 的互联网访问状态，您应该为此检查进行额外的开发。\n\n\n# 示例\n\n从HTML文件 index.html 开始，这个例子会演示 navigator.onLine API 是如何被用来构建一个连接状态指示器的。\n\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Hello World!</title>\n    <meta http-equiv=\"Content-Security-Policy\" content=\"script-src 'self' 'unsafe-inline';\" />\n</head>\n<body>\n    <h1>Connection status: <strong id='status'></strong></h1>\n    <script src=\"renderer.js\"><\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n为了操作DOM，创建一个 renderer.js 文件，添加事件监听器到 'online' 和 'offline' 窗口 中. 事件处理器设置基于 navigator.onLine 的结果到 <strong id='status'> element 的内容中。\n\nfunction updateOnlineStatus () {\n  document.getElementById('status').innerHTML = navigator.onLine ? 'online' : 'offline'\n}\n\nwindow.addEventListener('online', updateOnlineStatus)\nwindow.addEventListener('offline', updateOnlineStatus)\n\nupdateOnlineStatus()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n最后，创建一个 main.js 文件用来给主进程创建窗口。\n\nconst { app, BrowserWindow } = require('electron')\n\nfunction createWindow () {\n  const onlineStatusWindow = new BrowserWindow({\n    width: 400,\n    height: 100\n  })\n\n  onlineStatusWindow.loadFile('index.html')\n}\n\napp.whenReady().then(() => {\n  createWindow()\n\n  app.on('activate', () => {\n    if (BrowserWindow.getAllWindows().length === 0) {\n      createWindow()\n    }\n  })\n})\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n启动 Electron 应用程序后，您应该能看到通知：\n\n\n\n> 注意：如果你需要将连接状态发送给主流程，请使用 IPC 渲染器 API。",normalizedContent:"# 在线/离线事件探测\n\n\n# 概览\n\n在渲染进程中，在线/离线事件 的探测，是通过标准 html5 api 中 navigator.online 属性来实现的。\n\nnavigator.online 属性返回值：\n\n * false：如果所有网络请求都失败(例如，断开网络)。\n * true: 在其他情况下都返回 true\n\n由于许多情况都会返回 true，你应该小心对待误报的情况， 因为我们不能总是假设 true 值意味着 electron 可以访问互联网。 例如，当计算机运行的虚拟化软件时，虚拟以太网适配器处于 \"always connected\" 状态。 因此，如果您想要确定 electron 的互联网访问状态，您应该为此检查进行额外的开发。\n\n\n# 示例\n\n从html文件 index.html 开始，这个例子会演示 navigator.online api 是如何被用来构建一个连接状态指示器的。\n\n<!doctype html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <title>hello world!</title>\n    <meta http-equiv=\"content-security-policy\" content=\"script-src 'self' 'unsafe-inline';\" />\n</head>\n<body>\n    <h1>connection status: <strong id='status'></strong></h1>\n    <script src=\"renderer.js\"><\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n为了操作dom，创建一个 renderer.js 文件，添加事件监听器到 'online' 和 'offline' 窗口 中. 事件处理器设置基于 navigator.online 的结果到 <strong id='status'> element 的内容中。\n\nfunction updateonlinestatus () {\n  document.getelementbyid('status').innerhtml = navigator.online ? 'online' : 'offline'\n}\n\nwindow.addeventlistener('online', updateonlinestatus)\nwindow.addeventlistener('offline', updateonlinestatus)\n\nupdateonlinestatus()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n最后，创建一个 main.js 文件用来给主进程创建窗口。\n\nconst { app, browserwindow } = require('electron')\n\nfunction createwindow () {\n  const onlinestatuswindow = new browserwindow({\n    width: 400,\n    height: 100\n  })\n\n  onlinestatuswindow.loadfile('index.html')\n}\n\napp.whenready().then(() => {\n  createwindow()\n\n  app.on('activate', () => {\n    if (browserwindow.getallwindows().length === 0) {\n      createwindow()\n    }\n  })\n})\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n启动 electron 应用程序后，您应该能看到通知：\n\n\n\n> 注意：如果你需要将连接状态发送给主流程，请使用 ipc 渲染器 api。",charsets:{cjk:!0}},{title:"performance",frontmatter:{title:"performance",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/40e830/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/performance.html",relativePath:"《Electron中文文档》/tutorial/performance.md",key:"v-61b1b0dc",path:"/pages/40e830/",headers:[{level:2,title:"再三权衡",slug:"再三权衡",normalizedTitle:"再三权衡",charIndex:464},{level:3,title:"推荐阅读",slug:"推荐阅读",normalizedTitle:"推荐阅读",charIndex:849},{level:2,title:"检查列表",slug:"检查列表",normalizedTitle:"检查列表",charIndex:331},{level:2,title:"1) 谨慎地加载模块",slug:"_1-谨慎地加载模块",normalizedTitle:"1) 谨慎地加载模块",charIndex:1058},{level:3,title:"为什么？",slug:"为什么",normalizedTitle:"为什么？",charIndex:1206},{level:3,title:"怎么做？",slug:"怎么做",normalizedTitle:"怎么做？",charIndex:1809},{level:2,title:"2) 过早的加载和执行代码",slug:"_2-过早的加载和执行代码",normalizedTitle:"2) 过早的加载和执行代码",charIndex:2221},{level:3,title:"为什么？",slug:"为什么-2",normalizedTitle:"为什么？",charIndex:1206},{level:3,title:"怎么做？",slug:"怎么做-2",normalizedTitle:"怎么做？",charIndex:1809},{level:2,title:"3) 阻塞主进程",slug:"_3-阻塞主进程",normalizedTitle:"3) 阻塞主进程",charIndex:4285},{level:3,title:"为什么？",slug:"为什么-3",normalizedTitle:"为什么？",charIndex:1206},{level:3,title:"怎么做？",slug:"怎么做-3",normalizedTitle:"怎么做？",charIndex:1809},{level:2,title:"4) 阻塞渲染进程",slug:"_4-阻塞渲染进程",normalizedTitle:"4) 阻塞渲染进程",charIndex:5269},{level:3,title:"为什么？",slug:"为什么-4",normalizedTitle:"为什么？",charIndex:1206},{level:3,title:"怎么做？",slug:"怎么做-4",normalizedTitle:"怎么做？",charIndex:1809},{level:2,title:"5) 不必要的polyfills",slug:"_5-不必要的polyfills",normalizedTitle:"5) 不必要的polyfills",charIndex:5851},{level:3,title:"为什么？",slug:"为什么-5",normalizedTitle:"为什么？",charIndex:1206},{level:3,title:"怎么做？",slug:"怎么做-5",normalizedTitle:"怎么做？",charIndex:1809},{level:2,title:"6) 不必要或阻塞的网络请求",slug:"_6-不必要或阻塞的网络请求",normalizedTitle:"6) 不必要或阻塞的网络请求",charIndex:6552},{level:3,title:"为什么？",slug:"为什么-6",normalizedTitle:"为什么？",charIndex:1206},{level:3,title:"怎么做？",slug:"怎么做-6",normalizedTitle:"怎么做？",charIndex:1809},{level:2,title:"7) 打包你的代码",slug:"_7-打包你的代码",normalizedTitle:"7) 打包你的代码",charIndex:7526},{level:3,title:"为什么？",slug:"为什么-7",normalizedTitle:"为什么？",charIndex:1206},{level:3,title:"怎么做？",slug:"怎么做-7",normalizedTitle:"怎么做？",charIndex:1809}],headersStr:"再三权衡 推荐阅读 检查列表 1) 谨慎地加载模块 为什么？ 怎么做？ 2) 过早的加载和执行代码 为什么？ 怎么做？ 3) 阻塞主进程 为什么？ 怎么做？ 4) 阻塞渲染进程 为什么？ 怎么做？ 5) 不必要的polyfills 为什么？ 怎么做？ 6) 不必要或阻塞的网络请求 为什么？ 怎么做？ 7) 打包你的代码 为什么？ 怎么做？",content:"# 性能\n\n开发者经常询问优化 Electron 应用程序性能的策略。 软件工程师、用户和框架开发者并不总是就“性能”的含义达成单一定义。 此文档概述了Electron 维护者最喜欢的减少内存使用、 CPU 负载以及磁盘资源使用的方式。以确保您的应用程序能够响应用户输入并尽快完成操作。 此外，我们希望所有的性能策略都能保持您应用的高标准安全。\n\n关于如何使用 JavaScript构建高性能网站的技巧和方法通常也适用于Electron 应用程序。 在某种程度上，讨论如何构建高性能 Node.js 应用的方法同样也适用。但是小心理解“性能”一词的含义对于 Node.js 后端和客户端程序并不相同。\n\n文中的列表提供了一些方便，同时也需要注意，它和我们的安全性检查列表类似，并不详尽。 即使你参照了下面提到的所有步骤，依然有可能构建出来一个性能低的Electron应用。 Electron是一个强大的开发平台，可以让开发人员按照自己所想，做更多的或更少的事情。 而这种自由的代价就是开发者需要承担大部分性能上的责任。\n\n\n# 再三权衡\n\n以下列举了一些直截了当、易于实现的方式。 但是，如果你想构建性能最优秀的应用，仅仅这些是不够的。 你需要仔细检查应用中运行的所有代码，认真地进行分析和衡量。 瓶颈在哪里？ 当用户点击按钮时，哪些操作的执行占用了最多的时间？ 当应用程序被挂起时，哪些对象占用了最多的内存？\n\n通过多次的尝试，我们发现，构建高性能的Electron应用程序，最成功的策略是分析正在运行的代码，查找其中最耗资源的部分，然后对其进行优化。 一遍又一遍地重复这个“搬砖”的过程，将极大地提高应用程序的性能。 在大型应用程序（例如Visual Studio Code、Slack）中的实践经验证明了这是目前最可靠的性能提升策略。\n\n要了解更多关于如何分析应用程序代码的信息，请熟悉Chrome开发者工具。 若要高级分析查看多个进程，请使用 Chrome Tracing 工具。\n\n\n# 推荐阅读\n\n * 从分析运行时性能开始\n * 谈：“Visual Studio Code - 第一个一秒”\n\n\n# 检查列表\n\n如果你尝试这些步骤，你的应用可能会略微简洁、快速，而且一般来说会更少出现资源不足的情况。\n\n 1. 谨慎地加载模块\n 2. 过早的加载和执行代码\n 3. 阻塞主进程\n 4. 阻塞渲染进程\n 5. 不必要的polyfills\n 6. 不必要的或者阻塞的网络请求\n 7. 打包你的代码\n\n\n# 1) 谨慎地加载模块\n\n在向你的应用程序添加一个 Node.js 模块之前，请检查这个模块。 这个模块包含了多少依赖？ 简单的一个a require()声明中包含了什么种类的资源？ 你可能发现NPM包注册的最多的或者Github上Star最多的模块实际上并不是最简单或者最小可用的模块。\n\n\n# 为什么？\n\n这一建议背后的理由最好用一个真实的例子来说明。 在Electron最开始的那些日子，可靠的检查网络连接是一个问题，导致很多应用公开的使用了一个简单的isOnline()方法。\n\n该模块通过尝试访问多个众所周知的端点，检测到您的网络连接。 至于这些资源的列表，它取决于一个完全不同的模块，这个模块也包含一个众所周知的端口。 这个依赖本身又依赖一个包含超过 100 000行端口信息的JSON文件的模块。 每当模块加载时(通常用 require('module'))，它会加载所有依赖关系并最终读取并解析此 JSON 文件。 解析几千行的JSON是一个非常繁重的操作。 在性能差的机器上，它会占用整整几秒的时间。\n\n在许多服务器环境中，启动时间几乎无关紧要。 一个Node.js 服务器要求所有端口的信息可能实际上是“性能更好” 如果服务器在启动时将所有需要的信息加载到内存，这样就能更快地为响应请求。 此示例中讨论的模块不是一个“坏”模块。 然而，Electron 应用不应该将实际上不需要的信息加载、解析和存储在内存中。\n\n简而言之，一个主要为运行在Linux系统上的Node.js 服务器编写的模块，虽然看起来很好，但是对你的应用性能来说可能是个坏消息。 在这个特殊的示例中，正确的解决方案是根本不需要加载模块， 而是使用了一 个包含在以后版本的 Chromium 中的连接性检查。\n\n\n# 怎么做？\n\n当考虑一个模块时，我们建议你做以下检查：\n\n 1. 包含的依赖项的大小\n 2. 需要加载的(require()) 资源\n 3. 你所加载的资源能够执行你关心的操作\n\n可以使用命令行上的单个命令生成用于加载模块的 CPU 配置文件和堆内存配置文件 在下面的示例中，我们看一下受欢迎的模块 request。\n\nnode --cpu-prof --heap-prof -e \"require('request')\"\n\n\n1\n\n\n执行此命令将在您执行的目录下生成一个.cpuprofile和一个.heapprofile 文件。 这两个文件都可以使用 Chrome 开发者工具进行分析，分别使用 Performance 和 Memory 标签 进行分析。\n\n\n\n\n\n在这个例子里，我们看到在作者的机器上加载request 大概用了半秒钟，其中 node-fetch明显占用了极少的内存并且加载用时少于 50ms。\n\n\n# 2) 过早的加载和执行代码\n\n如果你有非常繁重的初始化操作，请考虑推迟进行。 程序启动立刻查看应用执行的全部工作。 考虑按照用户操作的顺序将它们错开执行，而不是立刻执行所有的操作。\n\n在传统的Node.js开发中，我们习惯将所有的require()语句放在代码顶部。 如果你目前正在使用相同的策略_and_并且使用你不需要立即加载的大型模块编写你的 Electron 应用程序，使用相同的策略并推迟到更适当的时机加载。\n\n\n# 为什么？\n\n加载模块是令人吃惊的繁重的操作，尤其是在Windows上。 当你的应用开始，不应该让用户等待当时不需要的操作。\n\n这似乎是显而易见的， 但许多应用程序在程序启动后可能会马上完成大量的 工作 - 如检查更新，正在下载稍后流程中使用的内容，或执行大型的磁盘I/O 操作。\n\n让我们把Visual Studio 代码作为一个例子。 当你打开一个文件，它会立刻展示没有高亮任何代码的内容，优先实现和文本交互的功能。 一旦它完成了这项工作，它将继续让代码高亮。\n\n\n# 怎么做？\n\n让我们考虑一个示例，并假定您的应用程序正在以架空的.foo形式解析文件 。 为了做到这一点，它依赖同样架空的foo-parserver 模块。 在传统的 Node.js 开发中，你可以写代码热加载依赖：\n\nconst fs = require('fs')\nconst fooParser = require('foo-parser')\n\nclass Parser {\n  constructor () {\n    this.files = fs.readdirSync('.')\n  }\n\n  getParsedFiles () {\n    return fooParser.parse(this.files)\n  }\n}\n\nconst parser = new Parser()\n\nmodule.exports = { parser }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n在上面的例子中，我们做了很多工作，一旦文件加载，我们就会立即执行。 我们需要立即获取解析的文件吗？ 或许我们可以晚一点再做这件事，当getParsedFiles() 真正的执行到的时候？\n\n// \"fs\" is likely already being loaded, so the `require()` call is cheap\nconst fs = require('fs')\n\nclass Parser {\n  async getFiles () {\n    // Touch the disk as soon as `getFiles` is called, not sooner.\n    // Also, ensure that we're not blocking other operations by using\n    // the asynchronous version.\n    this.files = this.files || await fs.readdir('.')\n\n    return this.files\n  }\n\n  async getParsedFiles () {\n    // Our fictitious foo-parser is a big and expensive module to load, so\n    // defer that work until we actually need to parse files.\n    // Since `require()` comes with a module cache, the `require()` call\n    // will only be expensive once - subsequent calls of `getParsedFiles()`\n    // will be faster.\n    const fooParser = require('foo-parser')\n    const files = await this.getFiles()\n\n    return fooParser.parse(files)\n  }\n}\n\n// This operation is now a lot cheaper than in our previous example\nconst parser = new Parser()\n\nmodule.exports = { parser }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n简而言之，只有当需要的时候才分配资源，而不是在你的应用启动时分配所有。\n\n\n# 3) 阻塞主进程\n\nElectron的主要进程(有时称为“浏览器进程”) 非常特殊：它是与你应用的所有其他进程的父进程，也是和操作系统交互的关键进程。 It handles windows, interactions, and the communication between various components inside your app. It also houses the UI thread.\n\n在任何情况下你都不应阻塞此进程或者运行时间长的用户界面线程。 阻塞UI线程意味着您的整个应用程序将冻结直到主进程准备好继续处理。\n\n\n# 为什么？\n\nThe main process and its UI thread are essentially the control tower for major operations inside your app. When the operating system tells your app about a mouse click, it'll go through the main process before it reaches your window. 如果您的窗口呈现黄色平滑动画， 它需要和 GPU 进程进行通信——再次穿越主进程。\n\nElectron 和 Chromium 谨慎地将大型的磁盘I/O 和 CPU绑定的操作放入新线程，以避免阻塞UI 线程。 你也应该这样做。\n\n\n# 怎么做？\n\nElectron强大的多进程架构随时准备帮助你完成你的长期任务，但其中也包含少量性能陷阱。\n\n 1. 对于需要长期占用CPU繁重任务，使用 worker threads， 考虑将它们移动到 BrowserWindow, 或 (作为最后手段) 生成一个专用进程。\n\n 2. 尽可能避免使用同步IPC 和 remote 模块。 虽然有合法的使用案例，但使用remote模块的时候非常容易不知情地阻塞 UI线程。\n\n 3. Avoid using blocking I/O operations in the main process. 简而言之，每当Node.js的核心模块 (如fs 或 child_process) 提供一个同步版本或 异步版本，你更应该使用异步和非阻塞式的变量。\n\n\n# 4) 阻塞渲染进程\n\n自从 Electron 使用了当前版本的 Chrome，你可以使用Web 平台提供的最新和最优秀的功能来推迟或卸载繁重的操作，以使你的应用保持流畅和迅速的反应。\n\n\n# 为什么？\n\n你的应用可能有很多JavaScript在渲染过程中运行。 有个技巧是尽快执行操作，而不占用保持滚动平滑、响应用户输入或60帧/秒动画所需的资源。\n\n如果有用户抱怨你的应用“口吃”的时候在渲染的代码中编排操作流就显得尤其重要。\n\n\n# 怎么做？\n\n一般来说，所有用于构建现代浏览器的性能网络应用程序的建议，对于Electron 的渲染器也同样适用。 现在处理你的应用的主要两个方法是对于小的操作使用requestIdleCallback() 而长时间运行的操作使用 Web Workers。\n\n*requestIdleCallback()*允许开发者将函数排队为在进程进入空闲期后立刻执行。 它使你能够在不影响用户体验的情况下执行低优先级或后台执行的工作。 想要了解如何使用它的更多信息，请查看MDN上的文档。\n\nWeb Workers是在单独线程上运行代码的一个好方式。 有一些注意事项需要考虑 - 请查阅 Electron 的 多线程文档 和 MDN 的 Web Workers文档。 对于长时间并且大量使用CPU的操作来说它们是一个理想的解析器。\n\n\n# 5) 不必要的polyfills\n\nElectron的一大好处是，你准确地知道哪个引擎将解析你的 JavaScript, HTML和CSS。 如果你重新设计的代码是为整个网页编写的，请确保不会polyfill包含在Electron 中的特性。\n\n\n# 为什么？\n\n现在互联网构建网页应用程序时，最老的环境决定了你能够和不能使用的功能。 尽管Electron支持性能良好的 CSS 选择器和动画，但是较早的浏览器可能不支持。 在你可以使用WebGL的场合，你的开发者可能选择了一个资源更加匮乏的解决方案来支持旧机器。\n\n当它遇到JavaScript时， 你可能已经包含了工具包库，如DOM选择器 jQuery 或是 如regenerator-runtime支持async/await 的polyfills。\n\n基于 JavaScript 的polyfill速度比Electron 中的原生特征要快一些。 不要通过发布你自己的网络平台标准来减慢你的 Electron 应用速度。\n\n\n# 怎么做？\n\n假定当前版本的 Electron不需要使用polyfills。 如果你有所疑虑，检查 caniuse.com 以确认 是否在你的Electron版本中使用的Chromium版本 已经支持了你需要的特性.\n\n此外，仔细检查您使用的三方库。 它们是否真的必要？ 例如，jQuery非常成功，它的许多功能现在都是 标准JavaScript功能设置的 的一部分。\n\n如果您正在使用 TypeScript 这样的编译器，检查它的配置并确保你的目标是Electron 支持的最新 ECMAScript 版本。\n\n\n# 6) 不必要或阻塞的网络请求\n\n避免从互联网中获取几乎不变化的资源，如果它可以轻松地与你的应用程序捆绑起来。\n\n\n# 为什么？\n\n许多开始使用基于Web的应用程序的Electron用户后来都使用了桌面应用。 作为网页开发者，我们习惯了从各种内容交付网站加载资源。 Now that you are shipping a proper desktop application, attempt to \"cut the cord\" where possible and avoid letting your users wait for resources that never change and could easily be included in your app.\n\n一个典型的例子是谷歌字体。 许多开发者使用谷歌令人印象深刻的免费字体集，这些字体通过内容交付网络获取。 方法显而易见：包括几行CSS 和谷歌将处理其余部分。\n\n构建Electron应用程序时，如果你下载字体并将其包含在应用包中，你的用户将会得到更好的服务。\n\n\n# 怎么做？\n\n在理想情况下，你的应用程序不需要网络就可以运行。 要达到这个目标，你必须了解你的应用正在下载哪些资源以及这些资源的大小。\n\n要做到这一点，请打开开发者工具。 导航到 Network 选项卡，然后检查 Disable cache 选项。 然后重新加载你的页面。 除非你的应用禁止重新加载， 你通常可以在使用开发者工具时点击Cmd + R 或Ctrl + R触发重新加载。\n\n开发者工具将仔细记录所有网络请求。 第一步，评估正在下载的所有资源，首先侧重于较大的文件。 其中是否有任何图像、字体或媒体文件不会改变并且可以包含在你的包中？ 如果可以，把它们打包。\n\n下一步，启用 Network Throttling。 查找当前读取Online的下拉列表，并选择较慢的速度，例如Fast 3G。 重新加载你的页面并查看你的应用程序是否有等待任何不必要的资源。 在大多数情况下，尽管实际上不需要相关的资源，应用还是会等待网络请求完成。\n\n作为一个提示, 从互联网上加载你可能想要更改的而不发送应用程序更新是一个强有力的策略。 为了进一步控制如何加载资源，请考虑使用Service Worker。\n\n\n# 7) 打包你的代码\n\n正如中已经指出的那样，\"加载和运行代码太早\", 调用 require() 是一项繁重的操作。 如果你能够这样做，将你的应用程序的代码打包到单个文件中。\n\n\n# 为什么？\n\n现代JavaScript开发通常涉及许多文件和模块。 对于使用Electron开发的人来说这是非常好的事情，我们强烈建议你将你的代码打包到单个文件中以确保调用require() 时只在你的应用加载花费一次开销。\n\n\n# 怎么做？\n\n有许多JavaScript打包的方法可供使用，我们知道我们最好不要通过推荐一种工具来导致社区不满。 然而，我们的确建议您使用一个能够处理Electron独特的环境的打包程序，它需要处理Node.js 和浏览器两种环境。\n\n在撰写这篇文章时，受欢迎的选择包括Webpack, Parcel和rollup.js。",normalizedContent:"# 性能\n\n开发者经常询问优化 electron 应用程序性能的策略。 软件工程师、用户和框架开发者并不总是就“性能”的含义达成单一定义。 此文档概述了electron 维护者最喜欢的减少内存使用、 cpu 负载以及磁盘资源使用的方式。以确保您的应用程序能够响应用户输入并尽快完成操作。 此外，我们希望所有的性能策略都能保持您应用的高标准安全。\n\n关于如何使用 javascript构建高性能网站的技巧和方法通常也适用于electron 应用程序。 在某种程度上，讨论如何构建高性能 node.js 应用的方法同样也适用。但是小心理解“性能”一词的含义对于 node.js 后端和客户端程序并不相同。\n\n文中的列表提供了一些方便，同时也需要注意，它和我们的安全性检查列表类似，并不详尽。 即使你参照了下面提到的所有步骤，依然有可能构建出来一个性能低的electron应用。 electron是一个强大的开发平台，可以让开发人员按照自己所想，做更多的或更少的事情。 而这种自由的代价就是开发者需要承担大部分性能上的责任。\n\n\n# 再三权衡\n\n以下列举了一些直截了当、易于实现的方式。 但是，如果你想构建性能最优秀的应用，仅仅这些是不够的。 你需要仔细检查应用中运行的所有代码，认真地进行分析和衡量。 瓶颈在哪里？ 当用户点击按钮时，哪些操作的执行占用了最多的时间？ 当应用程序被挂起时，哪些对象占用了最多的内存？\n\n通过多次的尝试，我们发现，构建高性能的electron应用程序，最成功的策略是分析正在运行的代码，查找其中最耗资源的部分，然后对其进行优化。 一遍又一遍地重复这个“搬砖”的过程，将极大地提高应用程序的性能。 在大型应用程序（例如visual studio code、slack）中的实践经验证明了这是目前最可靠的性能提升策略。\n\n要了解更多关于如何分析应用程序代码的信息，请熟悉chrome开发者工具。 若要高级分析查看多个进程，请使用 chrome tracing 工具。\n\n\n# 推荐阅读\n\n * 从分析运行时性能开始\n * 谈：“visual studio code - 第一个一秒”\n\n\n# 检查列表\n\n如果你尝试这些步骤，你的应用可能会略微简洁、快速，而且一般来说会更少出现资源不足的情况。\n\n 1. 谨慎地加载模块\n 2. 过早的加载和执行代码\n 3. 阻塞主进程\n 4. 阻塞渲染进程\n 5. 不必要的polyfills\n 6. 不必要的或者阻塞的网络请求\n 7. 打包你的代码\n\n\n# 1) 谨慎地加载模块\n\n在向你的应用程序添加一个 node.js 模块之前，请检查这个模块。 这个模块包含了多少依赖？ 简单的一个a require()声明中包含了什么种类的资源？ 你可能发现npm包注册的最多的或者github上star最多的模块实际上并不是最简单或者最小可用的模块。\n\n\n# 为什么？\n\n这一建议背后的理由最好用一个真实的例子来说明。 在electron最开始的那些日子，可靠的检查网络连接是一个问题，导致很多应用公开的使用了一个简单的isonline()方法。\n\n该模块通过尝试访问多个众所周知的端点，检测到您的网络连接。 至于这些资源的列表，它取决于一个完全不同的模块，这个模块也包含一个众所周知的端口。 这个依赖本身又依赖一个包含超过 100 000行端口信息的json文件的模块。 每当模块加载时(通常用 require('module'))，它会加载所有依赖关系并最终读取并解析此 json 文件。 解析几千行的json是一个非常繁重的操作。 在性能差的机器上，它会占用整整几秒的时间。\n\n在许多服务器环境中，启动时间几乎无关紧要。 一个node.js 服务器要求所有端口的信息可能实际上是“性能更好” 如果服务器在启动时将所有需要的信息加载到内存，这样就能更快地为响应请求。 此示例中讨论的模块不是一个“坏”模块。 然而，electron 应用不应该将实际上不需要的信息加载、解析和存储在内存中。\n\n简而言之，一个主要为运行在linux系统上的node.js 服务器编写的模块，虽然看起来很好，但是对你的应用性能来说可能是个坏消息。 在这个特殊的示例中，正确的解决方案是根本不需要加载模块， 而是使用了一 个包含在以后版本的 chromium 中的连接性检查。\n\n\n# 怎么做？\n\n当考虑一个模块时，我们建议你做以下检查：\n\n 1. 包含的依赖项的大小\n 2. 需要加载的(require()) 资源\n 3. 你所加载的资源能够执行你关心的操作\n\n可以使用命令行上的单个命令生成用于加载模块的 cpu 配置文件和堆内存配置文件 在下面的示例中，我们看一下受欢迎的模块 request。\n\nnode --cpu-prof --heap-prof -e \"require('request')\"\n\n\n1\n\n\n执行此命令将在您执行的目录下生成一个.cpuprofile和一个.heapprofile 文件。 这两个文件都可以使用 chrome 开发者工具进行分析，分别使用 performance 和 memory 标签 进行分析。\n\n\n\n\n\n在这个例子里，我们看到在作者的机器上加载request 大概用了半秒钟，其中 node-fetch明显占用了极少的内存并且加载用时少于 50ms。\n\n\n# 2) 过早的加载和执行代码\n\n如果你有非常繁重的初始化操作，请考虑推迟进行。 程序启动立刻查看应用执行的全部工作。 考虑按照用户操作的顺序将它们错开执行，而不是立刻执行所有的操作。\n\n在传统的node.js开发中，我们习惯将所有的require()语句放在代码顶部。 如果你目前正在使用相同的策略_and_并且使用你不需要立即加载的大型模块编写你的 electron 应用程序，使用相同的策略并推迟到更适当的时机加载。\n\n\n# 为什么？\n\n加载模块是令人吃惊的繁重的操作，尤其是在windows上。 当你的应用开始，不应该让用户等待当时不需要的操作。\n\n这似乎是显而易见的， 但许多应用程序在程序启动后可能会马上完成大量的 工作 - 如检查更新，正在下载稍后流程中使用的内容，或执行大型的磁盘i/o 操作。\n\n让我们把visual studio 代码作为一个例子。 当你打开一个文件，它会立刻展示没有高亮任何代码的内容，优先实现和文本交互的功能。 一旦它完成了这项工作，它将继续让代码高亮。\n\n\n# 怎么做？\n\n让我们考虑一个示例，并假定您的应用程序正在以架空的.foo形式解析文件 。 为了做到这一点，它依赖同样架空的foo-parserver 模块。 在传统的 node.js 开发中，你可以写代码热加载依赖：\n\nconst fs = require('fs')\nconst fooparser = require('foo-parser')\n\nclass parser {\n  constructor () {\n    this.files = fs.readdirsync('.')\n  }\n\n  getparsedfiles () {\n    return fooparser.parse(this.files)\n  }\n}\n\nconst parser = new parser()\n\nmodule.exports = { parser }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n在上面的例子中，我们做了很多工作，一旦文件加载，我们就会立即执行。 我们需要立即获取解析的文件吗？ 或许我们可以晚一点再做这件事，当getparsedfiles() 真正的执行到的时候？\n\n// \"fs\" is likely already being loaded, so the `require()` call is cheap\nconst fs = require('fs')\n\nclass parser {\n  async getfiles () {\n    // touch the disk as soon as `getfiles` is called, not sooner.\n    // also, ensure that we're not blocking other operations by using\n    // the asynchronous version.\n    this.files = this.files || await fs.readdir('.')\n\n    return this.files\n  }\n\n  async getparsedfiles () {\n    // our fictitious foo-parser is a big and expensive module to load, so\n    // defer that work until we actually need to parse files.\n    // since `require()` comes with a module cache, the `require()` call\n    // will only be expensive once - subsequent calls of `getparsedfiles()`\n    // will be faster.\n    const fooparser = require('foo-parser')\n    const files = await this.getfiles()\n\n    return fooparser.parse(files)\n  }\n}\n\n// this operation is now a lot cheaper than in our previous example\nconst parser = new parser()\n\nmodule.exports = { parser }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n简而言之，只有当需要的时候才分配资源，而不是在你的应用启动时分配所有。\n\n\n# 3) 阻塞主进程\n\nelectron的主要进程(有时称为“浏览器进程”) 非常特殊：它是与你应用的所有其他进程的父进程，也是和操作系统交互的关键进程。 it handles windows, interactions, and the communication between various components inside your app. it also houses the ui thread.\n\n在任何情况下你都不应阻塞此进程或者运行时间长的用户界面线程。 阻塞ui线程意味着您的整个应用程序将冻结直到主进程准备好继续处理。\n\n\n# 为什么？\n\nthe main process and its ui thread are essentially the control tower for major operations inside your app. when the operating system tells your app about a mouse click, it'll go through the main process before it reaches your window. 如果您的窗口呈现黄色平滑动画， 它需要和 gpu 进程进行通信——再次穿越主进程。\n\nelectron 和 chromium 谨慎地将大型的磁盘i/o 和 cpu绑定的操作放入新线程，以避免阻塞ui 线程。 你也应该这样做。\n\n\n# 怎么做？\n\nelectron强大的多进程架构随时准备帮助你完成你的长期任务，但其中也包含少量性能陷阱。\n\n 1. 对于需要长期占用cpu繁重任务，使用 worker threads， 考虑将它们移动到 browserwindow, 或 (作为最后手段) 生成一个专用进程。\n\n 2. 尽可能避免使用同步ipc 和 remote 模块。 虽然有合法的使用案例，但使用remote模块的时候非常容易不知情地阻塞 ui线程。\n\n 3. avoid using blocking i/o operations in the main process. 简而言之，每当node.js的核心模块 (如fs 或 child_process) 提供一个同步版本或 异步版本，你更应该使用异步和非阻塞式的变量。\n\n\n# 4) 阻塞渲染进程\n\n自从 electron 使用了当前版本的 chrome，你可以使用web 平台提供的最新和最优秀的功能来推迟或卸载繁重的操作，以使你的应用保持流畅和迅速的反应。\n\n\n# 为什么？\n\n你的应用可能有很多javascript在渲染过程中运行。 有个技巧是尽快执行操作，而不占用保持滚动平滑、响应用户输入或60帧/秒动画所需的资源。\n\n如果有用户抱怨你的应用“口吃”的时候在渲染的代码中编排操作流就显得尤其重要。\n\n\n# 怎么做？\n\n一般来说，所有用于构建现代浏览器的性能网络应用程序的建议，对于electron 的渲染器也同样适用。 现在处理你的应用的主要两个方法是对于小的操作使用requestidlecallback() 而长时间运行的操作使用 web workers。\n\n*requestidlecallback()*允许开发者将函数排队为在进程进入空闲期后立刻执行。 它使你能够在不影响用户体验的情况下执行低优先级或后台执行的工作。 想要了解如何使用它的更多信息，请查看mdn上的文档。\n\nweb workers是在单独线程上运行代码的一个好方式。 有一些注意事项需要考虑 - 请查阅 electron 的 多线程文档 和 mdn 的 web workers文档。 对于长时间并且大量使用cpu的操作来说它们是一个理想的解析器。\n\n\n# 5) 不必要的polyfills\n\nelectron的一大好处是，你准确地知道哪个引擎将解析你的 javascript, html和css。 如果你重新设计的代码是为整个网页编写的，请确保不会polyfill包含在electron 中的特性。\n\n\n# 为什么？\n\n现在互联网构建网页应用程序时，最老的环境决定了你能够和不能使用的功能。 尽管electron支持性能良好的 css 选择器和动画，但是较早的浏览器可能不支持。 在你可以使用webgl的场合，你的开发者可能选择了一个资源更加匮乏的解决方案来支持旧机器。\n\n当它遇到javascript时， 你可能已经包含了工具包库，如dom选择器 jquery 或是 如regenerator-runtime支持async/await 的polyfills。\n\n基于 javascript 的polyfill速度比electron 中的原生特征要快一些。 不要通过发布你自己的网络平台标准来减慢你的 electron 应用速度。\n\n\n# 怎么做？\n\n假定当前版本的 electron不需要使用polyfills。 如果你有所疑虑，检查 caniuse.com 以确认 是否在你的electron版本中使用的chromium版本 已经支持了你需要的特性.\n\n此外，仔细检查您使用的三方库。 它们是否真的必要？ 例如，jquery非常成功，它的许多功能现在都是 标准javascript功能设置的 的一部分。\n\n如果您正在使用 typescript 这样的编译器，检查它的配置并确保你的目标是electron 支持的最新 ecmascript 版本。\n\n\n# 6) 不必要或阻塞的网络请求\n\n避免从互联网中获取几乎不变化的资源，如果它可以轻松地与你的应用程序捆绑起来。\n\n\n# 为什么？\n\n许多开始使用基于web的应用程序的electron用户后来都使用了桌面应用。 作为网页开发者，我们习惯了从各种内容交付网站加载资源。 now that you are shipping a proper desktop application, attempt to \"cut the cord\" where possible and avoid letting your users wait for resources that never change and could easily be included in your app.\n\n一个典型的例子是谷歌字体。 许多开发者使用谷歌令人印象深刻的免费字体集，这些字体通过内容交付网络获取。 方法显而易见：包括几行css 和谷歌将处理其余部分。\n\n构建electron应用程序时，如果你下载字体并将其包含在应用包中，你的用户将会得到更好的服务。\n\n\n# 怎么做？\n\n在理想情况下，你的应用程序不需要网络就可以运行。 要达到这个目标，你必须了解你的应用正在下载哪些资源以及这些资源的大小。\n\n要做到这一点，请打开开发者工具。 导航到 network 选项卡，然后检查 disable cache 选项。 然后重新加载你的页面。 除非你的应用禁止重新加载， 你通常可以在使用开发者工具时点击cmd + r 或ctrl + r触发重新加载。\n\n开发者工具将仔细记录所有网络请求。 第一步，评估正在下载的所有资源，首先侧重于较大的文件。 其中是否有任何图像、字体或媒体文件不会改变并且可以包含在你的包中？ 如果可以，把它们打包。\n\n下一步，启用 network throttling。 查找当前读取online的下拉列表，并选择较慢的速度，例如fast 3g。 重新加载你的页面并查看你的应用程序是否有等待任何不必要的资源。 在大多数情况下，尽管实际上不需要相关的资源，应用还是会等待网络请求完成。\n\n作为一个提示, 从互联网上加载你可能想要更改的而不发送应用程序更新是一个强有力的策略。 为了进一步控制如何加载资源，请考虑使用service worker。\n\n\n# 7) 打包你的代码\n\n正如中已经指出的那样，\"加载和运行代码太早\", 调用 require() 是一项繁重的操作。 如果你能够这样做，将你的应用程序的代码打包到单个文件中。\n\n\n# 为什么？\n\n现代javascript开发通常涉及许多文件和模块。 对于使用electron开发的人来说这是非常好的事情，我们强烈建议你将你的代码打包到单个文件中以确保调用require() 时只在你的应用加载花费一次开销。\n\n\n# 怎么做？\n\n有许多javascript打包的方法可供使用，我们知道我们最好不要通过推荐一种工具来导致社区不满。 然而，我们的确建议您使用一个能够处理electron独特的环境的打包程序，它需要处理node.js 和浏览器两种环境。\n\n在撰写这篇文章时，受欢迎的选择包括webpack, parcel和rollup.js。",charsets:{cjk:!0}},{title:"process-model",frontmatter:{title:"process-model",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/a4b14a/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/process-model.html",relativePath:"《Electron中文文档》/tutorial/process-model.md",key:"v-6527a7fc",path:"/pages/a4b14a/",headers:[{level:2,title:"为什么不是一个单一的进程？",slug:"为什么不是一个单一的进程",normalizedTitle:"为什么不是一个单一的进程？",charIndex:123},{level:2,title:"多进程模型",slug:"多进程模型",normalizedTitle:"多进程模型",charIndex:297},{level:2,title:"主进程",slug:"主进程",normalizedTitle:"主进程",charIndex:485},{level:3,title:"窗口管理",slug:"窗口管理",normalizedTitle:"窗口管理",charIndex:637},{level:3,title:"应用程序生命周期",slug:"应用程序生命周期",normalizedTitle:"应用程序生命周期",charIndex:1198},{level:3,title:"原生 API",slug:"原生-api",normalizedTitle:"原生 api",charIndex:1549},{level:2,title:"渲染器进程",slug:"渲染器进程",normalizedTitle:"渲染器进程",charIndex:520},{level:2,title:"预加载脚本",slug:"预加载脚本",normalizedTitle:"预加载脚本",charIndex:2344}],headersStr:"为什么不是一个单一的进程？ 多进程模型 主进程 窗口管理 应用程序生命周期 原生 API 渲染器进程 预加载脚本",content:"# 流程模型\n\nElectron 继承了来自 Chromium 的多进程架构，这使得此框架在架构上非常相似于一个现代的网页浏览器。 在本指南中，我们将会阐述那些我们运用于 最小的 快速启动应用 中的关于 Electron 的概念性知识。\n\n\n# 为什么不是一个单一的进程？\n\n网页浏览器是个极其复杂的应用程序。 除了显示网页内容的主要能力之外，他们还有许多次要的职责，例如：管理众多窗口 ( 或 标签页 ) 和加载第三方扩展。\n\n在早期，浏览器通常使用单个进程来处理所有这些功能。 虽然这种模式意味着您打开每个标签页的开销较少，但也同时意味着一个网站的崩溃或无响应会影响到整个浏览器。\n\n\n# 多进程模型\n\n为了解决这个问题，Chrome 团队决定让每个标签页在自己的进程中渲染， 从而限制了一个网页上的有误或恶意代码可能导致的对整个应用程序造成的伤害。 然后用单个浏览器进程控制这些標籤頁进程，以及整个应用程序的生命周期。 下方来自 Chrome 漫画 的图表可视化了此模型：\n\n\n\nElectron 应用程序的结构非常相似。 作为应用开发者，您控制着两种类型的进程：主进程和渲染器。 这些类似于上面概述的 Chrome 自己的浏览器和其渲染器进程。\n\n\n# 主进程\n\n每个 Electron 应用都有一个单一的主进程，作为应用程序的入口点。 主进程在 Node.js 环境中运行，这意味着它具有 require 模块和使用所有 Node.js API 的能力。\n\n\n# 窗口管理\n\n主进程的主要目的是使用 BrowserWindow 模块创建和管理应用程序窗口。\n\nBrowserWindow 类的每个实例创建一个应用程序窗口，且在单独的渲染器进程中加载一个网页。 您可从主进程用 window 的 webContent 对象与网页内容进行交互。\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow({ width: 800, height: 1500 })\nwin.loadURL('https://github.com')\n\nconst contents = win.webContents\nconsole.log(contents)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> 注意：渲染器进程也是为 web embeds 而被创建的，例如 BrowserView 模块。 嵌入式网页内容也可访问 webContents 对象。\n\n由于 BrowserWindow 模块是一个 EventEmitter， 所以您也可以为各种用户事件 ( 例如，最小化 或 最大化您的窗口 ) 添加处理程序。\n\n当一个 BrowserWindow 实例被销毁时，与其相应的渲染器进程也会被终止。\n\n\n# 应用程序生命周期\n\n主进程还能通过 Electron 的 app 模块来控制您应用程序的生命周期。 该模块提供了一整套的事件和方法，可以使你添加自定义的应用程序行为 ( 例如：以编程方式退出您的应用程序、修改程序坞或显示关于面板 ) 。\n\n这是一个实际的例子，这个app来源于快速入门指南，用 app API 创建了一个更原生的应用程序窗口体验。\n\n// quitting the app when no windows are open on non-macOS platforms\napp.on('window-all-closed', function () {\n  if (process.platform !== 'darwin') app.quit()\n})\n\n\n1\n2\n3\n4\n\n\n\n# 原生 API\n\n为了使 Electron 的功能不仅仅限于对网页内容的封装，主进程也添加了自定义的 API 来与用户的作业系统进行交互。 Electron 有着多种控制原生桌面功能的模块，例如菜单、对话框以及托盘图标。\n\n关于 Electron 主进程模块的完整列表，请参阅我们的 API 文档。\n\n\n# 渲染器进程\n\n每个 Electron 应用都会为每个打开的 BrowserWindow ( 与每个网页嵌入 ) 生成一个单独的渲染器进程。 洽如其名，渲染器负责 渲染 网页内容。 所以实际上，运行于渲染器进程中的代码是须遵照网页标准的 (至少就目前使用的 Chromium 而言是如此) 。\n\n因此，一个浏览器窗口中的所有的用户界面和应用功能，都应与您在网页开发上使用相同的工具和规范来进行攥写。\n\n虽然解释每一个网页规范超出了本指南的范围，但您最起码要知道的是：\n\n * 以一个 HTML 文件作为渲染器进程的入口点。\n * 使用层叠样式表 (Cascading Style Sheets, CSS) 对 UI 添加样式。\n * 通过 <script> 元素可添加可执行的 JavaScript 代码。\n\n此外，这也意味着渲染器无权直接访问 require 或其他 Node.js API。 为了在渲染器中直接包含 NPM 模块，您必须使用与在 web 开发時相同的打包工具 (例如 webpack 或 parcel)\n\n> 注意：渲染器进程可以生成一个完整的 Node.js 环境以便于开发。 在过去这是默认的，但如今此功能考虑到安全问题已经被禁用。\n\n此刻，您也许会好奇，您在渲染器进程中的用户介面该如何与 Node.js 和 Electron 的原生桌面功能进行交互，如果这些功能都仅适用于主进程的话。 而事实上，确实没有直接导入 Electron 內容脚本的方法。\n\n\n# 预加载脚本\n\n预加载（preload）脚本包含了那些执行于渲染器进程中，且先于网页内容开始加载的代码 。 These scripts run within the renderer context, but are granted more privileges by having access to Node.js APIs.\n\n预加载脚本可以在 BrowserWindow 构造方法中的 webPreferences 选项里被附加到主进程。\n\nconst { BrowserWindow } = require('electron')\n//...\nconst win = new BrowserWindow({\n  webPreferences: {\n    preload: 'path/to/preload.js'\n  }\n})\n//...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n由于预加载脚本与渲染器共享同一个全局 Window 接口，并且可以访问 Node.js API，因此它通过在 window 全局中暴露任意您的网络内容可以随后使用的 API 来增强渲染器。\n\n虽然预加载脚本与其所附加的渲染器在全局共享着一个 window 变数，但您并不能从中直接附加任何变数到 window 之中，因为 contextIsolation 是默认的。\n\nwindow.myAPI = {\n  desktop: true\n}\n\n\n1\n2\n3\n\n\nconsole.log(window.myAPI)\n// => undefined\n\n\n1\n2\n\n\n语境隔离（Context Isolation）意味着预加载脚本与渲染器的主要运行环境是隔离开来的，以避免泄漏任何具特权的 API 到您的网页内容代码中。\n\n取而代之，我们將使用 contextBridge 模块来安全地实现交互：\n\nconst { contextBridge } = require('electron')\n\ncontextBridge.exposeInMainWorld('myAPI', {\n  desktop: true\n})\n\n\n1\n2\n3\n4\n5\n\n\nconsole.log(window.myAPI)\n// => { desktop: true }\n\n\n1\n2\n\n\n此功能对两个主要目的來說非常有用：\n\n * 通过暴露 ipcRenderer 帮手模块于渲染器中，您可以使用 进程间通讯 ( inter-process communication, IPC ) 来从渲染器触发主进程任务 ( 反之亦然 ) 。\n * 如果您正在为远程 URL 上托管的现有 web 应用开发 Electron 封裝，则您可在渲染器的 window 全局变量上添加自定义的属性，好在 web 客户端用上仅适用于桌面应用的设计逻辑 。",normalizedContent:"# 流程模型\n\nelectron 继承了来自 chromium 的多进程架构，这使得此框架在架构上非常相似于一个现代的网页浏览器。 在本指南中，我们将会阐述那些我们运用于 最小的 快速启动应用 中的关于 electron 的概念性知识。\n\n\n# 为什么不是一个单一的进程？\n\n网页浏览器是个极其复杂的应用程序。 除了显示网页内容的主要能力之外，他们还有许多次要的职责，例如：管理众多窗口 ( 或 标签页 ) 和加载第三方扩展。\n\n在早期，浏览器通常使用单个进程来处理所有这些功能。 虽然这种模式意味着您打开每个标签页的开销较少，但也同时意味着一个网站的崩溃或无响应会影响到整个浏览器。\n\n\n# 多进程模型\n\n为了解决这个问题，chrome 团队决定让每个标签页在自己的进程中渲染， 从而限制了一个网页上的有误或恶意代码可能导致的对整个应用程序造成的伤害。 然后用单个浏览器进程控制这些標籤頁进程，以及整个应用程序的生命周期。 下方来自 chrome 漫画 的图表可视化了此模型：\n\n\n\nelectron 应用程序的结构非常相似。 作为应用开发者，您控制着两种类型的进程：主进程和渲染器。 这些类似于上面概述的 chrome 自己的浏览器和其渲染器进程。\n\n\n# 主进程\n\n每个 electron 应用都有一个单一的主进程，作为应用程序的入口点。 主进程在 node.js 环境中运行，这意味着它具有 require 模块和使用所有 node.js api 的能力。\n\n\n# 窗口管理\n\n主进程的主要目的是使用 browserwindow 模块创建和管理应用程序窗口。\n\nbrowserwindow 类的每个实例创建一个应用程序窗口，且在单独的渲染器进程中加载一个网页。 您可从主进程用 window 的 webcontent 对象与网页内容进行交互。\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow({ width: 800, height: 1500 })\nwin.loadurl('https://github.com')\n\nconst contents = win.webcontents\nconsole.log(contents)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> 注意：渲染器进程也是为 web embeds 而被创建的，例如 browserview 模块。 嵌入式网页内容也可访问 webcontents 对象。\n\n由于 browserwindow 模块是一个 eventemitter， 所以您也可以为各种用户事件 ( 例如，最小化 或 最大化您的窗口 ) 添加处理程序。\n\n当一个 browserwindow 实例被销毁时，与其相应的渲染器进程也会被终止。\n\n\n# 应用程序生命周期\n\n主进程还能通过 electron 的 app 模块来控制您应用程序的生命周期。 该模块提供了一整套的事件和方法，可以使你添加自定义的应用程序行为 ( 例如：以编程方式退出您的应用程序、修改程序坞或显示关于面板 ) 。\n\n这是一个实际的例子，这个app来源于快速入门指南，用 app api 创建了一个更原生的应用程序窗口体验。\n\n// quitting the app when no windows are open on non-macos platforms\napp.on('window-all-closed', function () {\n  if (process.platform !== 'darwin') app.quit()\n})\n\n\n1\n2\n3\n4\n\n\n\n# 原生 api\n\n为了使 electron 的功能不仅仅限于对网页内容的封装，主进程也添加了自定义的 api 来与用户的作业系统进行交互。 electron 有着多种控制原生桌面功能的模块，例如菜单、对话框以及托盘图标。\n\n关于 electron 主进程模块的完整列表，请参阅我们的 api 文档。\n\n\n# 渲染器进程\n\n每个 electron 应用都会为每个打开的 browserwindow ( 与每个网页嵌入 ) 生成一个单独的渲染器进程。 洽如其名，渲染器负责 渲染 网页内容。 所以实际上，运行于渲染器进程中的代码是须遵照网页标准的 (至少就目前使用的 chromium 而言是如此) 。\n\n因此，一个浏览器窗口中的所有的用户界面和应用功能，都应与您在网页开发上使用相同的工具和规范来进行攥写。\n\n虽然解释每一个网页规范超出了本指南的范围，但您最起码要知道的是：\n\n * 以一个 html 文件作为渲染器进程的入口点。\n * 使用层叠样式表 (cascading style sheets, css) 对 ui 添加样式。\n * 通过 <script> 元素可添加可执行的 javascript 代码。\n\n此外，这也意味着渲染器无权直接访问 require 或其他 node.js api。 为了在渲染器中直接包含 npm 模块，您必须使用与在 web 开发時相同的打包工具 (例如 webpack 或 parcel)\n\n> 注意：渲染器进程可以生成一个完整的 node.js 环境以便于开发。 在过去这是默认的，但如今此功能考虑到安全问题已经被禁用。\n\n此刻，您也许会好奇，您在渲染器进程中的用户介面该如何与 node.js 和 electron 的原生桌面功能进行交互，如果这些功能都仅适用于主进程的话。 而事实上，确实没有直接导入 electron 內容脚本的方法。\n\n\n# 预加载脚本\n\n预加载（preload）脚本包含了那些执行于渲染器进程中，且先于网页内容开始加载的代码 。 these scripts run within the renderer context, but are granted more privileges by having access to node.js apis.\n\n预加载脚本可以在 browserwindow 构造方法中的 webpreferences 选项里被附加到主进程。\n\nconst { browserwindow } = require('electron')\n//...\nconst win = new browserwindow({\n  webpreferences: {\n    preload: 'path/to/preload.js'\n  }\n})\n//...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n由于预加载脚本与渲染器共享同一个全局 window 接口，并且可以访问 node.js api，因此它通过在 window 全局中暴露任意您的网络内容可以随后使用的 api 来增强渲染器。\n\n虽然预加载脚本与其所附加的渲染器在全局共享着一个 window 变数，但您并不能从中直接附加任何变数到 window 之中，因为 contextisolation 是默认的。\n\nwindow.myapi = {\n  desktop: true\n}\n\n\n1\n2\n3\n\n\nconsole.log(window.myapi)\n// => undefined\n\n\n1\n2\n\n\n语境隔离（context isolation）意味着预加载脚本与渲染器的主要运行环境是隔离开来的，以避免泄漏任何具特权的 api 到您的网页内容代码中。\n\n取而代之，我们將使用 contextbridge 模块来安全地实现交互：\n\nconst { contextbridge } = require('electron')\n\ncontextbridge.exposeinmainworld('myapi', {\n  desktop: true\n})\n\n\n1\n2\n3\n4\n5\n\n\nconsole.log(window.myapi)\n// => { desktop: true }\n\n\n1\n2\n\n\n此功能对两个主要目的來說非常有用：\n\n * 通过暴露 ipcrenderer 帮手模块于渲染器中，您可以使用 进程间通讯 ( inter-process communication, ipc ) 来从渲染器触发主进程任务 ( 反之亦然 ) 。\n * 如果您正在为远程 url 上托管的现有 web 应用开发 electron 封裝，则您可在渲染器的 window 全局变量上添加自定义的属性，好在 web 客户端用上仅适用于桌面应用的设计逻辑 。",charsets:{cjk:!0}},{title:"progress-bar",frontmatter:{title:"progress-bar",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/4700e9/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/progress-bar.html",relativePath:"《Electron中文文档》/tutorial/progress-bar.md",key:"v-672e500e",path:"/pages/4700e9/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:45},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:783}],headersStr:"概览 示例",content:"# Taskbar Progress Bar (Windows & macOS)\n\n\n# 概览\n\n进度条使窗口能够向用户提供其进度信息，而无需被切换到前台。\n\n在Windows环境下，进度条被显示在任务栏按钮上。\n\n![Windows Progress Bar][https://cloud.githubusercontent.com/assets/639601/5081682/16691fda-6f0e-11e4-9676-49b6418f1264.png]\n\n在MacOS环境下，进度条将被显示在dock栏图标上\n\n\n\n在Linux系统中，Unity桌面也有相似的特性，能在Launcher上显示进度条。\n\n\n\n> 注意：在 Windows 上，每个窗口都可以有自己的进度条，而在 macOS 和 Linux（unity桌面）上，同一个应用程序只能有一个进度条。\n\n----------------------------------------\n\n这三种环境中的进度条功能由同一个API实现：BrowserWindow实例下的setProgressBar()方法。 此方法以介于 0 和 1 之间的小数表示进度。 例如，如果有一个耗时很长的任务，它当前的进度是63%，那么你可以用setProgressBar(0.63)来显示这一进度。\n\n将参数设置为负值 (例如， -1) 将删除progress bar。 设定值大于 1 在 Windows 中将表示一个不确定的进度条 ，或在其他操作系统中显示为 100%。 一个不确定的progress bar 仍然处于活动状态，但不显示实际百分比， 并且用于当 您不知道一个操作需要多长时间才能完成的情况。\n\n参见 API documentation for more options and modes。\n\n\n# 示例\n\n在此示例中，我们将进度栏添加到main window中，该窗口会使用node.js的计时器实现随着时间的推移而进度增长。\n\nconst { app, BrowserWindow } = require('electron')\n\nlet progressInterval\n\nfunction createWindow () {\n  const win = new BrowserWindow({\n    width: 800,\n    height: 600\n  })\n\n  win.loadFile('index.html')\n\n  const INCREMENT = 0.03\n  const INTERVAL_DELAY = 100 // ms\n\n  let c = 0\n  progressInterval = setInterval(() => {\n    // update progress bar to next value\n    // values between 0 and 1 will show progress, >1 will show indeterminate or stick at 100%\n    win.setProgressBar(c)\n\n    // increment or reset progress bar\n    if (c < 2) c += INCREMENT\n    else c = 0\n  }, INTERVAL_DELAY)\n}\n\napp.whenReady().then(createWindow)\n\n// before the app is terminated, clear both timers\napp.on('before-quit', () => {\n  clearInterval(progressInterval)\n})\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\napp.on('activate', () => {\n  if (BrowserWindow.getAllWindows().length === 0) {\n    createWindow()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n启动 Electron 应用程序后，Dock (macOS) 或 taskbar (Windows, Unity) 应该显示一个进度条, 从零开始, 到100%到完成。 应该显示不确定的 (Windows) 或短暂的固定到100% (其他操作系统) 并然后循环。\n\n\n\n对于macOS，当使用 Mission Control 时，应用程序也会显示进度条\n\n",normalizedContent:"# taskbar progress bar (windows & macos)\n\n\n# 概览\n\n进度条使窗口能够向用户提供其进度信息，而无需被切换到前台。\n\n在windows环境下，进度条被显示在任务栏按钮上。\n\n![windows progress bar][https://cloud.githubusercontent.com/assets/639601/5081682/16691fda-6f0e-11e4-9676-49b6418f1264.png]\n\n在macos环境下，进度条将被显示在dock栏图标上\n\n\n\n在linux系统中，unity桌面也有相似的特性，能在launcher上显示进度条。\n\n\n\n> 注意：在 windows 上，每个窗口都可以有自己的进度条，而在 macos 和 linux（unity桌面）上，同一个应用程序只能有一个进度条。\n\n----------------------------------------\n\n这三种环境中的进度条功能由同一个api实现：browserwindow实例下的setprogressbar()方法。 此方法以介于 0 和 1 之间的小数表示进度。 例如，如果有一个耗时很长的任务，它当前的进度是63%，那么你可以用setprogressbar(0.63)来显示这一进度。\n\n将参数设置为负值 (例如， -1) 将删除progress bar。 设定值大于 1 在 windows 中将表示一个不确定的进度条 ，或在其他操作系统中显示为 100%。 一个不确定的progress bar 仍然处于活动状态，但不显示实际百分比， 并且用于当 您不知道一个操作需要多长时间才能完成的情况。\n\n参见 api documentation for more options and modes。\n\n\n# 示例\n\n在此示例中，我们将进度栏添加到main window中，该窗口会使用node.js的计时器实现随着时间的推移而进度增长。\n\nconst { app, browserwindow } = require('electron')\n\nlet progressinterval\n\nfunction createwindow () {\n  const win = new browserwindow({\n    width: 800,\n    height: 600\n  })\n\n  win.loadfile('index.html')\n\n  const increment = 0.03\n  const interval_delay = 100 // ms\n\n  let c = 0\n  progressinterval = setinterval(() => {\n    // update progress bar to next value\n    // values between 0 and 1 will show progress, >1 will show indeterminate or stick at 100%\n    win.setprogressbar(c)\n\n    // increment or reset progress bar\n    if (c < 2) c += increment\n    else c = 0\n  }, interval_delay)\n}\n\napp.whenready().then(createwindow)\n\n// before the app is terminated, clear both timers\napp.on('before-quit', () => {\n  clearinterval(progressinterval)\n})\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\napp.on('activate', () => {\n  if (browserwindow.getallwindows().length === 0) {\n    createwindow()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n启动 electron 应用程序后，dock (macos) 或 taskbar (windows, unity) 应该显示一个进度条, 从零开始, 到100%到完成。 应该显示不确定的 (windows) 或短暂的固定到100% (其他操作系统) 并然后循环。\n\n\n\n对于macos，当使用 mission control 时，应用程序也会显示进度条\n\n",charsets:{cjk:!0}},{title:"quick-start",frontmatter:{title:"quick-start",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/92691e/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/quick-start.html",relativePath:"《Electron中文文档》/tutorial/quick-start.md",key:"v-3cebb51c",path:"/pages/92691e/",headers:[{level:2,title:"Prerequisites",slug:"prerequisites",normalizedTitle:"prerequisites",charIndex:177},{level:2,title:"创建你的应用程序",slug:"创建你的应用程序",normalizedTitle:"创建你的应用程序",charIndex:470},{level:3,title:"使用脚手架创建",slug:"使用脚手架创建",normalizedTitle:"使用脚手架创建",charIndex:483},{level:3,title:"运行主进程",slug:"运行主进程",normalizedTitle:"运行主进程",charIndex:1281},{level:3,title:"创建页面",slug:"创建页面",normalizedTitle:"创建页面",charIndex:1585},{level:3,title:"在窗口中打开您的页面",slug:"在窗口中打开您的页面",normalizedTitle:"在窗口中打开您的页面",charIndex:2406},{level:3,title:"管理窗口的生命周期",slug:"管理窗口的生命周期",normalizedTitle:"管理窗口的生命周期",charIndex:3079},{level:4,title:"关闭所有窗口时退出应用 (Windows & Linux)",slug:"关闭所有窗口时退出应用-windows-linux",normalizedTitle:"关闭所有窗口时退出应用 (windows &amp; linux)",charIndex:null},{level:4,title:"如果没有窗口打开则打开一个窗口 (macOS)",slug:"如果没有窗口打开则打开一个窗口-macos",normalizedTitle:"如果没有窗口打开则打开一个窗口 (macos)",charIndex:3543},{level:3,title:"通过预加载脚本从渲染器访问Node.js。",slug:"通过预加载脚本从渲染器访问node-js。",normalizedTitle:"通过预加载脚本从渲染器访问node.js。",charIndex:4099},{level:3,title:"额外：将功能添加到您的网页内容",slug:"额外-将功能添加到您的网页内容",normalizedTitle:"额外：将功能添加到您的网页内容",charIndex:5667},{level:3,title:"回顾",slug:"回顾",normalizedTitle:"回顾",charIndex:6100},{level:2,title:"打包并分发您的应用程序",slug:"打包并分发您的应用程序",normalizedTitle:"打包并分发您的应用程序",charIndex:9184}],headersStr:"Prerequisites 创建你的应用程序 使用脚手架创建 运行主进程 创建页面 在窗口中打开您的页面 管理窗口的生命周期 关闭所有窗口时退出应用 (Windows & Linux) 如果没有窗口打开则打开一个窗口 (macOS) 通过预加载脚本从渲染器访问Node.js。 额外：将功能添加到您的网页内容 回顾 打包并分发您的应用程序",content:"# 快速入门\n\n本指南将会通过使用Electron创建一个极简的 Hello World 应用一步步的带你了解，该应用与electron/electron-quick-start类似。\n\n通过这个教程，你的app将会打开一个浏览器窗口，来展示包含当前正在运行的 Chromium, Node.js与 Electronweb等版本信息的web界面\n\n\n# Prerequisites\n\n在使用Electron进行开发之前，您需要安装 Node.js。 我们建议您使用最新的LTS版本。\n\n> 请使用为你平台预构建的 Node.js 安装器来进行安装， 否则，您可能会遇到与不同开发工具不兼容的问题。\n\n要检查 Node.js 是否正确安装，请在您的终端输入以下命令：\n\nnode -v\nnpm -v\n\n\n1\n2\n\n\n这两个命令应输出了 Node.js 和 npm 的版本信息。\n\n注意 因为 Electron 将 Node.js 嵌入到其二进制文件中，你应用运行时的 Node.js 版本与你系统中运行的 Node.js 版本无关。\n\n\n# 创建你的应用程序\n\n\n# 使用脚手架创建\n\nElectron 应用程序遵循与其他 Node.js 项目相同的结构。 首先创建一个文件夹并初始化 npm 包。\n\nmkdir my-electron-app && cd my-electron-app\nnpm init\n\n\n1\n2\n\n\ninit初始化命令会提示您在项目初始化配置中设置一些值 为本教程的目的，有几条规则需要遵循：\n\n * entry point 应为 main.js.\n * author 与 description 可为任意值，但对于应用打包是必填项。\n\n你的 package.json 文件应该像这样：\n\n{\n  \"name\": \"my-electron-app\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Hello World!\",\n  \"main\": \"main.js\",\n  \"author\": \"Jane Doe\",\n  \"license\": \"MIT\"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n然后，将 electron 包安装到应用的开发依赖中。\n\n$ npm install --save-dev electron\n\n\n1\n\n\n> 注意：如果您在安装 Electron 时遇到任何问题，请 参见 高级安装 指南。\n\n最后，您希望能够执行 Electron 如下所示，在您的 package.json配置文件中的scripts字段下增加一条start命令：\n\n{\n  \"scripts\": {\n    \"start\": \"electron .\"\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\nstart命令能让您在开发模式下打开您的应用\n\nnpm start\n\n\n1\n\n\n> 注意：此脚本将告诉 Electron 在您项目根目录运行 此时，您的应用将立即抛出一个错误提示您它无法找到要运行的应用\n\n\n# 运行主进程\n\n任何 Electron 应用程序的入口都是 main 文件。 这个文件控制了主进程，它运行在一个完整的Node.js环境中，负责控制您应用的生命周期，显示原生界面，执行特殊操作并管理渲染器进程(稍后详细介绍)。\n\n执行期间，Electron 将依据应用中 package.json配置下main字段中配置的值查找此文件，您应该已在应用脚手架步骤中配置。\n\n要初始化这个main文件，需要在您项目的根目录下创建一个名为main.js的空文件。\n\n> 注意：如果您此时再次运行start命令，您的应用将不再抛出任何错误！ 然而，它不会做任何事因为我们还没有在main.js中添加任何代码。\n\n\n# 创建页面\n\n在可以为我们的应用创建窗口前，我们需要先创建加载进该窗口的内容。 在 Electron 中，每个窗口中无论是本地的HTML文件还是远程URL都可以被加载显示。\n\n此教程中，您将采用本地HTML的方式。 在您的项目根目录下创建一个名为index.html的文件：\n\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\">\n    \x3c!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --\x3e\n    <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self'; script-src 'self'\">\n    <meta http-equiv=\"X-Content-Security-Policy\" content=\"default-src 'self'; script-src 'self'\">\n    <title>Hello World!</title>\n  </head>\n  <body>\n    <h1>Hello World!</h1>\n    We are using Node.js <span id=\"node-version\"></span>,\n    Chromium <span id=\"chrome-version\"></span>,\n    and Electron <span id=\"electron-version\"></span>.\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n> 注意：在这个HTML文本中，您会发现主体文本中丢失了版本编号。 稍后我们将使用 JavaScript 动态插入它们。\n\n\n# 在窗口中打开您的页面\n\n现在您有了一个页面，将它加载进应用窗口中。 要做到这一点，你需要 两个Electron模块：\n\n * app 模块，它控制应用程序的事件生命周期。\n * BrowserWindow 模块，它创建和管理应用程序 窗口。\n\n因为主进程运行着Node.js，您可以在文件头部将他们导入作为公共JS模块：\n\nconst { app, BrowserWindow } = require('electron')\n\n\n1\n\n\n然后，添加一个createWindow()方法来将index.html加载进一个新的BrowserWindow实例。\n\nfunction createWindow () {\n  const win = new BrowserWindow({\n    width: 800,\n    height: 600\n  })\n\n  win.loadFile('index.html')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n接着，调用createWindow()函数来打开您的窗口。\n\n在 Electron 中，只有在 app 模块的 ready 事件被激发后才能创建浏览器窗口。 您可以通过使用 app.whenReady() API来监听此事件。 在whenReady()成功后调用createWindow()。\n\napp.whenReady().then(() => {\n  createWindow()\n})\n\n\n1\n2\n3\n\n\n> 注意：此时，您的电子应用程序应当成功 打开显示您页面的窗口！\n\n\n# 管理窗口的生命周期\n\n虽然你现在可以打开一个浏览器窗口，但你还需要一些额外的模板代码使其看起来更像是各平台原生的。 应用程序窗口在每个OS下有不同的行为，Electron将在app中实现这些约定的责任交给开发者们。\n\n一般而言，你可以使用 进程 全局的 platform 属性来专门为某些操作系统运行代码。\n\n# 关闭所有窗口时退出应用 (Windows & Linux)\n\n在Windows和Linux上，关闭所有窗口通常会完全退出一个应用程序。\n\nTo implement this, listen for the app module's 'window-all-closed' event, and call app.quit() if the user is not on macOS (darwin).\n\napp.on('window-all-closed', function () {\n  if (process.platform !== 'darwin') app.quit()\n})\n\n\n1\n2\n3\n\n\n# 如果没有窗口打开则打开一个窗口 (macOS)\n\n当 Linux 和 Windows 应用在没有窗口打开时退出了，macOS 应用通常即使在没有打开任何窗口的情况下也继续运行，并且在没有窗口可用的情况下激活应用时会打开新的窗口。\n\nTo implement this feature, listen for the app module's activate event, and call your existing createWindow() method if no browser windows are open.\n\n因为窗口无法在 ready 事件前创建，你应当在你的应用初始化后仅监听 activate 事件。 通过在您现有的 whenReady() 回调中附上您的事件监听器来完成这个操作。\n\napp.whenReady().then(() => {\n  createWindow()\n\n  app.on('activate', function () {\n    if (BrowserWindow.getAllWindows().length === 0) createWindow()\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> 注意：此时，您的窗口控件应功能齐全！\n\n\n# 通过预加载脚本从渲染器访问Node.js。\n\n现在，最后要做的是输出Electron的版本号和它的依赖项到你的web页面上。\n\n在主进程通过Node的全局 process 对象访问这个信息是微不足道的。 然而，你不能直接在主进程中编辑DOM，因为它无法访问渲染器 文档 上下文。 它们存在于完全不同的进程！\n\n> Note: If you need a more in-depth look at Electron processes, see the Process Model document.\n\n这是将 预加载 脚本连接到渲染器时派上用场的地方。 预加载脚本在渲染器进程加载之前加载，并有权访问两个 渲染器全局 (例如 window 和 document) 和 Node.js 环境。\n\n创建一个名为 preload.js 的新脚本如下：\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const replaceText = (selector, text) => {\n    const element = document.getElementById(selector)\n    if (element) element.innerText = text\n  }\n\n  for (const dependency of ['chrome', 'node', 'electron']) {\n    replaceText(`${dependency}-version`, process.versions[dependency])\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n上面的代码访问 Node.js process.versions 对象，并运行一个基本的 replaceText 辅助函数将版本号插入到 HTML 文档中。\n\n要将此脚本附加到渲染器流程，请在你现有的 BrowserWindow 构造器中将路径中的预加载脚本传入 webPreferences.preload 选项。\n\n// 在文件头部引入 Node.js 中的 path 模块\nconst path = require('path')\n\n// 修改现有的 createWindow() 函数\nfunction createWindow () {\n  const win = new BrowserWindow({\n    width: 800,\n    height: 600,\n    webPreferences: {\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n\n  win.loadFile('index.html')\n}\n// ...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n这里使用了两个Node.js概念：\n\n * The __dirname string points to the path of the currently executing script (in this case, your project's root folder).\n * The path.join API joins multiple path segments together, creating a combined path string that works across all platforms.\n\n我们使用一个相对当前正在执行JavaScript文件的路径，这样您的相对路径将在开发模式和打包模式中都将有效。\n\n\n# 额外：将功能添加到您的网页内容\n\n此刻，您可能想知道如何为您的应用程序添加更多功能。\n\n对于与您的网页内容的任何交互，您想要将脚本添加到您的渲染器进程中。 由于渲染器运行在正常的 Web 环境中，因此您可以在 index.html 文件关闭 </body> 标签之前添加一个 <script> 标签，来包括您想要的任意脚本：\n\n<script src=\"./renderer.js\"><\/script>\n\n\n1\n\n\nThe code contained in renderer.js can then use the same JavaScript APIs and tooling you use for typical front-end development, such as using webpack to bundle and minify your code or React to manage your user interfaces.\n\n\n# 回顾\n\n完成上述步骤后，您应该有一个功能齐全的Electron程序，如下所示：\n\n\n\n完整代码如下：\n\n// main.js\n\n// Modules to control application life and create native browser window\nconst { app, BrowserWindow } = require('electron')\nconst path = require('path')\n\nfunction createWindow () {\n  // Create the browser window.\n  const mainWindow = new BrowserWindow({\n    width: 800,\n    height: 600,\n    webPreferences: {\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n\n  // and load the index.html of the app.\n  mainWindow.loadFile('index.html')\n\n  // Open the DevTools.\n  // mainWindow.webContents.openDevTools()\n}\n\n// This method will be called when Electron has finished\n// initialization and is ready to create browser windows.\n// 部分 API 在 ready 事件触发后才能使用。\napp.whenReady().then(() => {\n  createWindow()\n\n  app.on('activate', function () {\n    // On macOS it's common to re-create a window in the app when the\n    // dock icon is clicked and there are no other windows open.\n    if (BrowserWindow.getAllWindows().length === 0) createWindow()\n  })\n})\n\n// Quit when all windows are closed, except on macOS. There, it's common\n// for applications and their menu bar to stay active until the user quits\n// explicitly with Cmd + Q.\napp.on('window-all-closed', function () {\n  if (process.platform !== 'darwin') app.quit()\n})\n\n// In this file you can include the rest of your app's specific main process\n// code. 也可以拆分成几个文件，然后用 require 导入。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n// preload.js\n\n// All of the Node.js APIs are available in the preload process.\n// 它拥有与Chrome扩展一样的沙盒。\nwindow.addEventListener('DOMContentLoaded', () => {\n  const replaceText = (selector, text) => {\n    const element = document.getElementById(selector)\n    if (element) element.innerText = text\n  }\n\n  for (const dependency of ['chrome', 'node', 'electron']) {\n    replaceText(`${dependency}-version`, process.versions[dependency])\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\x3c!--index.html--\x3e\n\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\">\n    \x3c!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --\x3e\n    <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self'; script-src 'self'\">\n    <meta http-equiv=\"X-Content-Security-Policy\" content=\"default-src 'self'; script-src 'self'\">\n    <title>Hello World!</title>\n  </head>\n  <body>\n    <h1>Hello World!</h1>\n    We are using Node.js <span id=\"node-version\"></span>,\n    Chromium <span id=\"chrome-version\"></span>,\n    and Electron <span id=\"electron-version\"></span>.\n\n    \x3c!-- You can also require other files to run in this process --\x3e\n    <script src=\"./renderer.js\"><\/script>\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n\n总结我们所做的所有步骤：\n\n*我们启动了一个Node.js程序，并将Electron添加为依赖。\n\n * We created a main.js script that runs our main process, which controls our app and runs in a Node.js environment. 在此脚本中， 我们使用 Electron 的 app 和 BrowserWindow 模块来创建一个浏览器窗口，在一个单独的进程(渲染器)中显示网页内容。\n\n * 为了访问渲染器中的Node.js的某些功能，我们在 BrowserWindow 的构造函数上附加了一个预加载脚本。\n\n\n# 打包并分发您的应用程序\n\n最快捷的打包方式是使用 Electron Forge。\n\n 1. 将 Electron Forge 添加到您应用的开发依赖中，并使用其\"import\"命令设置 Forge 的脚手架：\n    \n    npm install --save-dev @electron-forge/cli\n    npx electron-forge import\n    \n    ✔ Checking your system\n    ✔ Initializing Git Repository\n    ✔ Writing modified package.json file\n    ✔ Installing dependencies\n    ✔ Writing modified package.json file\n    ✔ Fixing .gitignore\n    \n    We have ATTEMPTED to convert your app to be in a format that electron-forge understands.\n    \n    Thanks for using \"electron-forge\"!!!\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 2. 使用 Forge 的 make 命令来创建可分发的应用程序：\n    \n    npm run make\n    \n    > my-electron-app@1.0.0 make /my-electron-app\n    > electron-forge make\n    \n    ✔ Checking your system\n    ✔ Resolving Forge Config\n    We need to package your application before we can make it\n    ✔ Preparing to Package Application for arch: x64\n    ✔ Preparing native dependencies\n    ✔ Packaging Application\n    Making for the following targets: zip\n    ✔ Making for target: zip - On platform: darwin - For arch: x64\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n    \n    Electron Forge creates the out folder where your package will be located:\n    \n    // Example for macOS\n    out/\n    ├── out/make/zip/darwin/x64/my-electron-app-darwin-x64-1.0.0.zip\n    ├── ...\n    └── out/my-electron-app-darwin-x64/my-electron-app.app/Contents/MacOS/my-electron-app\n    \n    \n    1\n    2\n    3\n    4\n    5\n    ",normalizedContent:"# 快速入门\n\n本指南将会通过使用electron创建一个极简的 hello world 应用一步步的带你了解，该应用与electron/electron-quick-start类似。\n\n通过这个教程，你的app将会打开一个浏览器窗口，来展示包含当前正在运行的 chromium, node.js与 electronweb等版本信息的web界面\n\n\n# prerequisites\n\n在使用electron进行开发之前，您需要安装 node.js。 我们建议您使用最新的lts版本。\n\n> 请使用为你平台预构建的 node.js 安装器来进行安装， 否则，您可能会遇到与不同开发工具不兼容的问题。\n\n要检查 node.js 是否正确安装，请在您的终端输入以下命令：\n\nnode -v\nnpm -v\n\n\n1\n2\n\n\n这两个命令应输出了 node.js 和 npm 的版本信息。\n\n注意 因为 electron 将 node.js 嵌入到其二进制文件中，你应用运行时的 node.js 版本与你系统中运行的 node.js 版本无关。\n\n\n# 创建你的应用程序\n\n\n# 使用脚手架创建\n\nelectron 应用程序遵循与其他 node.js 项目相同的结构。 首先创建一个文件夹并初始化 npm 包。\n\nmkdir my-electron-app && cd my-electron-app\nnpm init\n\n\n1\n2\n\n\ninit初始化命令会提示您在项目初始化配置中设置一些值 为本教程的目的，有几条规则需要遵循：\n\n * entry point 应为 main.js.\n * author 与 description 可为任意值，但对于应用打包是必填项。\n\n你的 package.json 文件应该像这样：\n\n{\n  \"name\": \"my-electron-app\",\n  \"version\": \"1.0.0\",\n  \"description\": \"hello world!\",\n  \"main\": \"main.js\",\n  \"author\": \"jane doe\",\n  \"license\": \"mit\"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n然后，将 electron 包安装到应用的开发依赖中。\n\n$ npm install --save-dev electron\n\n\n1\n\n\n> 注意：如果您在安装 electron 时遇到任何问题，请 参见 高级安装 指南。\n\n最后，您希望能够执行 electron 如下所示，在您的 package.json配置文件中的scripts字段下增加一条start命令：\n\n{\n  \"scripts\": {\n    \"start\": \"electron .\"\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\nstart命令能让您在开发模式下打开您的应用\n\nnpm start\n\n\n1\n\n\n> 注意：此脚本将告诉 electron 在您项目根目录运行 此时，您的应用将立即抛出一个错误提示您它无法找到要运行的应用\n\n\n# 运行主进程\n\n任何 electron 应用程序的入口都是 main 文件。 这个文件控制了主进程，它运行在一个完整的node.js环境中，负责控制您应用的生命周期，显示原生界面，执行特殊操作并管理渲染器进程(稍后详细介绍)。\n\n执行期间，electron 将依据应用中 package.json配置下main字段中配置的值查找此文件，您应该已在应用脚手架步骤中配置。\n\n要初始化这个main文件，需要在您项目的根目录下创建一个名为main.js的空文件。\n\n> 注意：如果您此时再次运行start命令，您的应用将不再抛出任何错误！ 然而，它不会做任何事因为我们还没有在main.js中添加任何代码。\n\n\n# 创建页面\n\n在可以为我们的应用创建窗口前，我们需要先创建加载进该窗口的内容。 在 electron 中，每个窗口中无论是本地的html文件还是远程url都可以被加载显示。\n\n此教程中，您将采用本地html的方式。 在您的项目根目录下创建一个名为index.html的文件：\n\n<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    \x3c!-- https://developer.mozilla.org/en-us/docs/web/http/csp --\x3e\n    <meta http-equiv=\"content-security-policy\" content=\"default-src 'self'; script-src 'self'\">\n    <meta http-equiv=\"x-content-security-policy\" content=\"default-src 'self'; script-src 'self'\">\n    <title>hello world!</title>\n  </head>\n  <body>\n    <h1>hello world!</h1>\n    we are using node.js <span id=\"node-version\"></span>,\n    chromium <span id=\"chrome-version\"></span>,\n    and electron <span id=\"electron-version\"></span>.\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n> 注意：在这个html文本中，您会发现主体文本中丢失了版本编号。 稍后我们将使用 javascript 动态插入它们。\n\n\n# 在窗口中打开您的页面\n\n现在您有了一个页面，将它加载进应用窗口中。 要做到这一点，你需要 两个electron模块：\n\n * app 模块，它控制应用程序的事件生命周期。\n * browserwindow 模块，它创建和管理应用程序 窗口。\n\n因为主进程运行着node.js，您可以在文件头部将他们导入作为公共js模块：\n\nconst { app, browserwindow } = require('electron')\n\n\n1\n\n\n然后，添加一个createwindow()方法来将index.html加载进一个新的browserwindow实例。\n\nfunction createwindow () {\n  const win = new browserwindow({\n    width: 800,\n    height: 600\n  })\n\n  win.loadfile('index.html')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n接着，调用createwindow()函数来打开您的窗口。\n\n在 electron 中，只有在 app 模块的 ready 事件被激发后才能创建浏览器窗口。 您可以通过使用 app.whenready() api来监听此事件。 在whenready()成功后调用createwindow()。\n\napp.whenready().then(() => {\n  createwindow()\n})\n\n\n1\n2\n3\n\n\n> 注意：此时，您的电子应用程序应当成功 打开显示您页面的窗口！\n\n\n# 管理窗口的生命周期\n\n虽然你现在可以打开一个浏览器窗口，但你还需要一些额外的模板代码使其看起来更像是各平台原生的。 应用程序窗口在每个os下有不同的行为，electron将在app中实现这些约定的责任交给开发者们。\n\n一般而言，你可以使用 进程 全局的 platform 属性来专门为某些操作系统运行代码。\n\n# 关闭所有窗口时退出应用 (windows & linux)\n\n在windows和linux上，关闭所有窗口通常会完全退出一个应用程序。\n\nto implement this, listen for the app module's 'window-all-closed' event, and call app.quit() if the user is not on macos (darwin).\n\napp.on('window-all-closed', function () {\n  if (process.platform !== 'darwin') app.quit()\n})\n\n\n1\n2\n3\n\n\n# 如果没有窗口打开则打开一个窗口 (macos)\n\n当 linux 和 windows 应用在没有窗口打开时退出了，macos 应用通常即使在没有打开任何窗口的情况下也继续运行，并且在没有窗口可用的情况下激活应用时会打开新的窗口。\n\nto implement this feature, listen for the app module's activate event, and call your existing createwindow() method if no browser windows are open.\n\n因为窗口无法在 ready 事件前创建，你应当在你的应用初始化后仅监听 activate 事件。 通过在您现有的 whenready() 回调中附上您的事件监听器来完成这个操作。\n\napp.whenready().then(() => {\n  createwindow()\n\n  app.on('activate', function () {\n    if (browserwindow.getallwindows().length === 0) createwindow()\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> 注意：此时，您的窗口控件应功能齐全！\n\n\n# 通过预加载脚本从渲染器访问node.js。\n\n现在，最后要做的是输出electron的版本号和它的依赖项到你的web页面上。\n\n在主进程通过node的全局 process 对象访问这个信息是微不足道的。 然而，你不能直接在主进程中编辑dom，因为它无法访问渲染器 文档 上下文。 它们存在于完全不同的进程！\n\n> note: if you need a more in-depth look at electron processes, see the process model document.\n\n这是将 预加载 脚本连接到渲染器时派上用场的地方。 预加载脚本在渲染器进程加载之前加载，并有权访问两个 渲染器全局 (例如 window 和 document) 和 node.js 环境。\n\n创建一个名为 preload.js 的新脚本如下：\n\nwindow.addeventlistener('domcontentloaded', () => {\n  const replacetext = (selector, text) => {\n    const element = document.getelementbyid(selector)\n    if (element) element.innertext = text\n  }\n\n  for (const dependency of ['chrome', 'node', 'electron']) {\n    replacetext(`${dependency}-version`, process.versions[dependency])\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n上面的代码访问 node.js process.versions 对象，并运行一个基本的 replacetext 辅助函数将版本号插入到 html 文档中。\n\n要将此脚本附加到渲染器流程，请在你现有的 browserwindow 构造器中将路径中的预加载脚本传入 webpreferences.preload 选项。\n\n// 在文件头部引入 node.js 中的 path 模块\nconst path = require('path')\n\n// 修改现有的 createwindow() 函数\nfunction createwindow () {\n  const win = new browserwindow({\n    width: 800,\n    height: 600,\n    webpreferences: {\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n\n  win.loadfile('index.html')\n}\n// ...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n这里使用了两个node.js概念：\n\n * the __dirname string points to the path of the currently executing script (in this case, your project's root folder).\n * the path.join api joins multiple path segments together, creating a combined path string that works across all platforms.\n\n我们使用一个相对当前正在执行javascript文件的路径，这样您的相对路径将在开发模式和打包模式中都将有效。\n\n\n# 额外：将功能添加到您的网页内容\n\n此刻，您可能想知道如何为您的应用程序添加更多功能。\n\n对于与您的网页内容的任何交互，您想要将脚本添加到您的渲染器进程中。 由于渲染器运行在正常的 web 环境中，因此您可以在 index.html 文件关闭 </body> 标签之前添加一个 <script> 标签，来包括您想要的任意脚本：\n\n<script src=\"./renderer.js\"><\/script>\n\n\n1\n\n\nthe code contained in renderer.js can then use the same javascript apis and tooling you use for typical front-end development, such as using webpack to bundle and minify your code or react to manage your user interfaces.\n\n\n# 回顾\n\n完成上述步骤后，您应该有一个功能齐全的electron程序，如下所示：\n\n\n\n完整代码如下：\n\n// main.js\n\n// modules to control application life and create native browser window\nconst { app, browserwindow } = require('electron')\nconst path = require('path')\n\nfunction createwindow () {\n  // create the browser window.\n  const mainwindow = new browserwindow({\n    width: 800,\n    height: 600,\n    webpreferences: {\n      preload: path.join(__dirname, 'preload.js')\n    }\n  })\n\n  // and load the index.html of the app.\n  mainwindow.loadfile('index.html')\n\n  // open the devtools.\n  // mainwindow.webcontents.opendevtools()\n}\n\n// this method will be called when electron has finished\n// initialization and is ready to create browser windows.\n// 部分 api 在 ready 事件触发后才能使用。\napp.whenready().then(() => {\n  createwindow()\n\n  app.on('activate', function () {\n    // on macos it's common to re-create a window in the app when the\n    // dock icon is clicked and there are no other windows open.\n    if (browserwindow.getallwindows().length === 0) createwindow()\n  })\n})\n\n// quit when all windows are closed, except on macos. there, it's common\n// for applications and their menu bar to stay active until the user quits\n// explicitly with cmd + q.\napp.on('window-all-closed', function () {\n  if (process.platform !== 'darwin') app.quit()\n})\n\n// in this file you can include the rest of your app's specific main process\n// code. 也可以拆分成几个文件，然后用 require 导入。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n// preload.js\n\n// all of the node.js apis are available in the preload process.\n// 它拥有与chrome扩展一样的沙盒。\nwindow.addeventlistener('domcontentloaded', () => {\n  const replacetext = (selector, text) => {\n    const element = document.getelementbyid(selector)\n    if (element) element.innertext = text\n  }\n\n  for (const dependency of ['chrome', 'node', 'electron']) {\n    replacetext(`${dependency}-version`, process.versions[dependency])\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\x3c!--index.html--\x3e\n\n<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    \x3c!-- https://developer.mozilla.org/en-us/docs/web/http/csp --\x3e\n    <meta http-equiv=\"content-security-policy\" content=\"default-src 'self'; script-src 'self'\">\n    <meta http-equiv=\"x-content-security-policy\" content=\"default-src 'self'; script-src 'self'\">\n    <title>hello world!</title>\n  </head>\n  <body>\n    <h1>hello world!</h1>\n    we are using node.js <span id=\"node-version\"></span>,\n    chromium <span id=\"chrome-version\"></span>,\n    and electron <span id=\"electron-version\"></span>.\n\n    \x3c!-- you can also require other files to run in this process --\x3e\n    <script src=\"./renderer.js\"><\/script>\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n\n总结我们所做的所有步骤：\n\n*我们启动了一个node.js程序，并将electron添加为依赖。\n\n * we created a main.js script that runs our main process, which controls our app and runs in a node.js environment. 在此脚本中， 我们使用 electron 的 app 和 browserwindow 模块来创建一个浏览器窗口，在一个单独的进程(渲染器)中显示网页内容。\n\n * 为了访问渲染器中的node.js的某些功能，我们在 browserwindow 的构造函数上附加了一个预加载脚本。\n\n\n# 打包并分发您的应用程序\n\n最快捷的打包方式是使用 electron forge。\n\n 1. 将 electron forge 添加到您应用的开发依赖中，并使用其\"import\"命令设置 forge 的脚手架：\n    \n    npm install --save-dev @electron-forge/cli\n    npx electron-forge import\n    \n    ✔ checking your system\n    ✔ initializing git repository\n    ✔ writing modified package.json file\n    ✔ installing dependencies\n    ✔ writing modified package.json file\n    ✔ fixing .gitignore\n    \n    we have attempted to convert your app to be in a format that electron-forge understands.\n    \n    thanks for using \"electron-forge\"!!!\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n 2. 使用 forge 的 make 命令来创建可分发的应用程序：\n    \n    npm run make\n    \n    > my-electron-app@1.0.0 make /my-electron-app\n    > electron-forge make\n    \n    ✔ checking your system\n    ✔ resolving forge config\n    we need to package your application before we can make it\n    ✔ preparing to package application for arch: x64\n    ✔ preparing native dependencies\n    ✔ packaging application\n    making for the following targets: zip\n    ✔ making for target: zip - on platform: darwin - for arch: x64\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n    \n    electron forge creates the out folder where your package will be located:\n    \n    // example for macos\n    out/\n    ├── out/make/zip/darwin/x64/my-electron-app-darwin-x64-1.0.0.zip\n    ├── ...\n    └── out/my-electron-app-darwin-x64/my-electron-app.app/contents/macos/my-electron-app\n    \n    \n    1\n    2\n    3\n    4\n    5\n    ",charsets:{cjk:!0}},{title:"recent-documents",frontmatter:{title:"recent-documents",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/42ce1a/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/recent-documents.html",relativePath:"《Electron中文文档》/tutorial/recent-documents.md",key:"v-3618d428",path:"/pages/42ce1a/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:29},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:120},{level:3,title:"管理最近的文档",slug:"管理最近的文档",normalizedTitle:"管理最近的文档",charIndex:127},{level:4,title:"添加最近的文档",slug:"添加最近的文档",normalizedTitle:"添加最近的文档",charIndex:562},{level:4,title:"清除最近文档列表",slug:"清除最近文档列表",normalizedTitle:"清除最近文档列表",charIndex:771},{level:2,title:"Additional information",slug:"additional-information",normalizedTitle:"additional information",charIndex:858},{level:3,title:"Windows 注意事项",slug:"windows-注意事项",normalizedTitle:"windows 注意事项",charIndex:885},{level:3,title:"macOS 注意事项",slug:"macos-注意事项",normalizedTitle:"macos 注意事项",charIndex:1071},{level:4,title:'将"最近文档列表"添加到应用程序菜单',slug:"将-最近文档列表-添加到应用程序菜单",normalizedTitle:"将&quot;最近文档列表&quot;添加到应用程序菜单",charIndex:null}],headersStr:'概览 示例 管理最近的文档 添加最近的文档 清除最近文档列表 Additional information Windows 注意事项 macOS 注意事项 将"最近文档列表"添加到应用程序菜单',content:'# 最近文档 (Windows & macOS)\n\n\n# 概览\n\nWindows 和 macOS 分别通过打开跳转列表和dock菜单使应用程序能够快速的访问最近打开的文档列表。\n\nJumpList:\n\n\n\n应用 dock 菜单\n\n\n\n\n# 示例\n\n\n# 管理最近的文档\n\nconst { app, BrowserWindow } = require(\'electron\')\nconst fs = require(\'fs\')\nconst path = require(\'path\')\n\nfunction createWindow () {\n  const win = new BrowserWindow({\n    width: 800,\n    height: 600\n  })\n\n  win.loadFile(\'index.html\')\n}\n\nconst fileName = \'recently-used.md\'\nfs.writeFile(fileName, \'Lorem Ipsum\', () => {\n  app.addRecentDocument(path.join(__dirname, fileName))\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 添加最近的文档\n\n若要增加一个文件到最近文件列表，你可以使用app.addRecentDocument API.\n\nAfter launching the Electron application, right click the application icon. 在本指南中，本项是位于项目根目录下的 Markdown 文件： 您应该可以看到添加到最近文件列表中的 recently-used.md ：\n\n\n\n# 清除最近文档列表\n\n若要清空最近文件列表，你可以使用app.clearRecentDocuments API. 在此指南中，一旦所有窗口都关闭，文件列表就会被清除。\n\n\n# Additional information\n\n\n# Windows 注意事项\n\n若要在 Windows 上使用此功能，您的应用程序必须注册为这类文件的处理程序。 否则，文件将不会在跳转列表中出现。 你可以在 Application Registration 里找到所有关于注册事宜的说明。\n\n当用户点击“跳转列表”上的一个文件时，系统会启动一个新的应用程序的实例 ，而文件的路径将作为一个命令行参数被传入这个实例。\n\n\n# macOS 注意事项\n\n# 将"最近文档列表"添加到应用程序菜单\n\n您可以添加菜单项以访问和清除最近的文档，方法是在菜单模板中添加以下代码片段：\n\n{\n  "submenu":[\n    {\n      "label":"Open Recent",\n      "role":"recentdocuments",\n      "submenu":[\n        {\n          "label":"Clear Recent",\n          "role":"clearrecentdocuments"\n        }\n      ]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n请确保在 \'ready\'事件后添加应用菜单而不是之前，否则菜单项将被禁用：\n\nconst { app, Menu } = require(\'electron\')\n\nconst template = [\n  // 这里是菜单模版\n]\nconst menu = Menu.buildFromTemplate(template)\n\napp.whenReady().then(() => {\n  Menu.setApplicationMenu(menu)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\n从 "最近文档" 菜单中请求文件时, 将为其发出 app 模块的 open-file 事件。',normalizedContent:'# 最近文档 (windows & macos)\n\n\n# 概览\n\nwindows 和 macos 分别通过打开跳转列表和dock菜单使应用程序能够快速的访问最近打开的文档列表。\n\njumplist:\n\n\n\n应用 dock 菜单\n\n\n\n\n# 示例\n\n\n# 管理最近的文档\n\nconst { app, browserwindow } = require(\'electron\')\nconst fs = require(\'fs\')\nconst path = require(\'path\')\n\nfunction createwindow () {\n  const win = new browserwindow({\n    width: 800,\n    height: 600\n  })\n\n  win.loadfile(\'index.html\')\n}\n\nconst filename = \'recently-used.md\'\nfs.writefile(filename, \'lorem ipsum\', () => {\n  app.addrecentdocument(path.join(__dirname, filename))\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 添加最近的文档\n\n若要增加一个文件到最近文件列表，你可以使用app.addrecentdocument api.\n\nafter launching the electron application, right click the application icon. 在本指南中，本项是位于项目根目录下的 markdown 文件： 您应该可以看到添加到最近文件列表中的 recently-used.md ：\n\n\n\n# 清除最近文档列表\n\n若要清空最近文件列表，你可以使用app.clearrecentdocuments api. 在此指南中，一旦所有窗口都关闭，文件列表就会被清除。\n\n\n# additional information\n\n\n# windows 注意事项\n\n若要在 windows 上使用此功能，您的应用程序必须注册为这类文件的处理程序。 否则，文件将不会在跳转列表中出现。 你可以在 application registration 里找到所有关于注册事宜的说明。\n\n当用户点击“跳转列表”上的一个文件时，系统会启动一个新的应用程序的实例 ，而文件的路径将作为一个命令行参数被传入这个实例。\n\n\n# macos 注意事项\n\n# 将"最近文档列表"添加到应用程序菜单\n\n您可以添加菜单项以访问和清除最近的文档，方法是在菜单模板中添加以下代码片段：\n\n{\n  "submenu":[\n    {\n      "label":"open recent",\n      "role":"recentdocuments",\n      "submenu":[\n        {\n          "label":"clear recent",\n          "role":"clearrecentdocuments"\n        }\n      ]\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n请确保在 \'ready\'事件后添加应用菜单而不是之前，否则菜单项将被禁用：\n\nconst { app, menu } = require(\'electron\')\n\nconst template = [\n  // 这里是菜单模版\n]\nconst menu = menu.buildfromtemplate(template)\n\napp.whenready().then(() => {\n  menu.setapplicationmenu(menu)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\n从 "最近文档" 菜单中请求文件时, 将为其发出 app 模块的 open-file 事件。',charsets:{cjk:!0}},{title:"repl",frontmatter:{title:"repl",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/eb2daa/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/repl.html",relativePath:"《Electron中文文档》/tutorial/repl.md",key:"v-2a0a47d4",path:"/pages/eb2daa/",headers:[{level:2,title:"主进程",slug:"主进程",normalizedTitle:"主进程",charIndex:115},{level:2,title:"渲染器进程",slug:"渲染器进程",normalizedTitle:"渲染器进程",charIndex:345}],headersStr:"主进程 渲染器进程",content:"# 交互式解释器 (REPL)\n\n读取(Read)-运算(Eval)-输出(Print)-循环(Loop) (REPL) 是一个简单的, 交互式的计算机编程环境，它采用单个用户输入(即单个表达式)，运算并返回结果给用户。\n\n\n# 主进程\n\nElectron 通过 --interactive 命令行参数将 Node.js repl 模块暴露出去。 假设你已将 electron 安装为本地项目依赖，则应能够使用下面的命令访问 REPL：\n\n./node_modules/.bin/electron --interactive\n\n\n1\n\n\n注意： electron --interactive 在 Windows 上不可用(详情请参阅electron/electron#5776)。\n\n\n# 渲染器进程\n\n你可以使用开发者工具Console选项卡获取任意渲染器进程的REPL。 要了解更多，请阅读 Chrome 文档。",normalizedContent:"# 交互式解释器 (repl)\n\n读取(read)-运算(eval)-输出(print)-循环(loop) (repl) 是一个简单的, 交互式的计算机编程环境，它采用单个用户输入(即单个表达式)，运算并返回结果给用户。\n\n\n# 主进程\n\nelectron 通过 --interactive 命令行参数将 node.js repl 模块暴露出去。 假设你已将 electron 安装为本地项目依赖，则应能够使用下面的命令访问 repl：\n\n./node_modules/.bin/electron --interactive\n\n\n1\n\n\n注意： electron --interactive 在 windows 上不可用(详情请参阅electron/electron#5776)。\n\n\n# 渲染器进程\n\n你可以使用开发者工具console选项卡获取任意渲染器进程的repl。 要了解更多，请阅读 chrome 文档。",charsets:{cjk:!0}},{title:"represented-file",frontmatter:{title:"represented-file",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/f37a5f/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/represented-file.html",relativePath:"《Electron中文文档》/tutorial/represented-file.md",key:"v-167d1130",path:"/pages/f37a5f/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:52},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:171}],headersStr:"概览 示例",content:"# Representing Files in a BrowserWindow (macOS)\n\n\n# 概览\n\n在 macOS 上，您可以为应用程序中的任何窗口设置一个代表文件。 代表文件的图标将显示在标题栏中，当用户 Command-单击 或 Control-单击，一个带有文件路径的弹出窗口将会显示。\n\n\n\n> 注意：上面的屏幕截图是一个示例，其中此功能用于指示 Atom 文本编辑器中当前打开的文件。\n\n您还可以设置窗口的编辑状态，以便文件图标可以指示该窗口中的文档是否已修改。\n\n要设置窗口的代表文件，您可以使用 BrowserWindow.setRepresentedFilename 和 BrowserWindow.setDocumentEdited API。\n\n\n# 示例\n\nconst { app, BrowserWindow } = require('electron')\nconst os = require('os');\n\nfunction createWindow () {\n  const win = new BrowserWindow({\n    width: 800,\n    height: 600\n  })\n}\n\napp.whenReady().then(() => {\n  const win = new BrowserWindow()\n\n  win.setRepresentedFilename(os.homedir())\n  win.setDocumentEdited(true)\n})\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\napp.on('activate', () => {\n  if (BrowserWindow.getAllWindows().length === 0) {\n    createWindow()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n启动 Electron 应用程序后，在按下 Command 或 Control 键时单击标题。 You should see a popup with the represented file at the top. In this guide, this is the current user's home directory:\n\n",normalizedContent:"# representing files in a browserwindow (macos)\n\n\n# 概览\n\n在 macos 上，您可以为应用程序中的任何窗口设置一个代表文件。 代表文件的图标将显示在标题栏中，当用户 command-单击 或 control-单击，一个带有文件路径的弹出窗口将会显示。\n\n\n\n> 注意：上面的屏幕截图是一个示例，其中此功能用于指示 atom 文本编辑器中当前打开的文件。\n\n您还可以设置窗口的编辑状态，以便文件图标可以指示该窗口中的文档是否已修改。\n\n要设置窗口的代表文件，您可以使用 browserwindow.setrepresentedfilename 和 browserwindow.setdocumentedited api。\n\n\n# 示例\n\nconst { app, browserwindow } = require('electron')\nconst os = require('os');\n\nfunction createwindow () {\n  const win = new browserwindow({\n    width: 800,\n    height: 600\n  })\n}\n\napp.whenready().then(() => {\n  const win = new browserwindow()\n\n  win.setrepresentedfilename(os.homedir())\n  win.setdocumentedited(true)\n})\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n\napp.on('activate', () => {\n  if (browserwindow.getallwindows().length === 0) {\n    createwindow()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n启动 electron 应用程序后，在按下 command 或 control 键时单击标题。 you should see a popup with the represented file at the top. in this guide, this is the current user's home directory:\n\n",charsets:{cjk:!0}},{title:"sandbox",frontmatter:{title:"sandbox",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/becd5c/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/sandbox.html",relativePath:"《Electron中文文档》/tutorial/sandbox.md",key:"v-bf418988",path:"/pages/becd5c/",headers:[{level:2,title:"Electron沙盒化策略",slug:"electron沙盒化策略",normalizedTitle:"electron沙盒化策略",charIndex:239},{level:2,title:"Electron 中的沙盒行为",slug:"electron-中的沙盒行为",normalizedTitle:"electron 中的沙盒行为",charIndex:778},{level:3,title:"渲染器进程",slug:"渲染器进程",normalizedTitle:"渲染器进程",charIndex:174},{level:3,title:"预加载脚本",slug:"预加载脚本",normalizedTitle:"预加载脚本",charIndex:1083},{level:2,title:"配置沙盒",slug:"配置沙盒",normalizedTitle:"配置沙盒",charIndex:2142},{level:3,title:"Enabling the sandbox for a single process",slug:"enabling-the-sandbox-for-a-single-process",normalizedTitle:"enabling the sandbox for a single process",charIndex:2151},{level:3,title:"全局启用沙盒",slug:"全局启用沙盒",normalizedTitle:"全局启用沙盒",charIndex:2525},{level:3,title:"禁用 Chromium 的沙盒（仅测试）",slug:"禁用-chromium-的沙盒-仅测试",normalizedTitle:"禁用 chromium 的沙盒（仅测试）",charIndex:2926},{level:2,title:"A note on rendering untrusted content",slug:"a-note-on-rendering-untrusted-content",normalizedTitle:"a note on rendering untrusted content",charIndex:3299}],headersStr:"Electron沙盒化策略 Electron 中的沙盒行为 渲染器进程 预加载脚本 配置沙盒 Enabling the sandbox for a single process 全局启用沙盒 禁用 Chromium 的沙盒（仅测试） A note on rendering untrusted content",content:"# 进程沙盒化\n\nChromium的一个关键安全特性是，进程可以在沙盒中执行。 沙盒通过限制对大多数系统资源的访问来减少恶意代码可能造成的伤害 — 沙盒化的进程只能自由使用CPU周期和内存。 为了执行需要额外权限的操作，沙盒处的进程通过专用通信渠道将任务下放给更大权限的进程。\n\n在Chromium中，沙盒化应用于主进程以外的大多数进程。 其中包括渲染器进程，以及功能性进程，如音频服务、GPU 服务和网络服务。\n\n查阅Chromium的 沙箱设计文档 了解更多信息。\n\n\n# Electron沙盒化策略\n\nElectron带有一个混合的沙盒环境，意味着沙盒化进程可以和有权限的进程一起运行。 默认情况下，渲染器进程未被沙盒化，但功能性进程是被沙盒化的。 注意，就像在Chromium中一样，主 (浏览器) 进程是有特权的且无法被沙盒化。\n\n从历史上看，这种混合沙盒方法之所以成立，是因为在渲染器中提供Node.js对于应用开发人员来说是一个非常强大的工具。 不幸的是，这一特性同时也是一个巨大的安全漏洞。\n\n从理论上讲，对于只显示可信代码的桌面应用程序来说，未沙盒化的渲染器不是问题，但它们使 Electron 在显示不受信任的 Web 内容时的安全性低于 Chromium。 然而，即使据称可信的代码也可能是危险的 — 在远程加载的网站上有无数恶意行为者可以使用的攻击途径。稍微举几个例子：从跨站脚本到内容注入再到中间人攻击。 因此，我们建议在大多数非常谨慎的情况下启用渲染器沙盒化。\n\nNote that there is an active discussion in the issue tracker to enable renderer sandboxing by default. See #28466) for details.\n\n\n# Electron 中的沙盒行为\n\n在 Electron 中沙盒进程 大部分地 表现都与 Chromium 差不多， 但因为介面是 Node.js 的关系 Electron 有一些额外的概念需要考虑。\n\n\n# 渲染器进程\n\n当 Electron 中的渲染器进程被沙盒化时，它们的行为与常规 Chrome 渲染器一样。 一个沙盒化的渲染器不会有一个 Node.js 环境。\n\n因此，在沙盒中，渲染器进程只能透过 进程间通讯 ( inter-process communication, IPC ) 委派任务给主进程的方式， 来执行需权限的任务 ( 例如：操作档案系统，改变作业系统 或 生成子进程 ) 。\n\n\n# 预加载脚本\n\nIn order to allow renderer processes to communicate with the main process, preload scripts attached to sandboxed renderers will still have a polyfilled subset of Node.js APIs available. A require function similar to Node's require module is exposed, but can only import a subset of Electron and Node's built-in modules:\n\n * electron (only renderer process modules)\n * 事件\n * timers\n * url\n\nIn addition, the preload script also polyfills certain Node.js primitives as globals:\n\n * Buffer\n * process\n * clearImmediate\n * setImmediate\n\nBecause the require function is a polyfill with limited functionality, you will not be able to use CommonJS modules to separate your preload script into multiple files. If you need to split your preload code, use a bundler such as webpack or Parcel.\n\nNote that because the environment presented to the preload script is substantially more privileged than that of a sandboxed renderer, it is still possible to leak privileged APIs to untrusted code running in the renderer process unless contextIsolation is enabled.\n\n\n# 配置沙盒\n\n\n# Enabling the sandbox for a single process\n\nIn Electron, renderer sandboxing can be enabled on a per-process basis with the sandbox: true preference in the BrowserWindow constructor.\n\n// main.js\napp.whenReady().then(() => {\n  const win = new BrowserWindow({\n    webPreferences: {\n      sandbox: true\n    }\n  })\n  win.loadURL('https://google.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 全局启用沙盒\n\nIf you want to force sandboxing for all renderers, you can also use the app.enableSandbox API. Note that this API has to be called before the app's ready event.\n\n// main.js\napp.enableSandbox()\napp.whenReady().then(() => {\n  // no need to pass `sandbox: true` since `app.enableSandbox()` was called.\n  const win = new BrowserWindow()\n  win.loadURL('https://google.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 禁用 Chromium 的沙盒（仅测试）\n\nYou can also disable Chromium's sandbox entirely with the --no-sandbox CLI flag, which will disable the sandbox for all processes (including utility processes). We highly recommend that you only use this flag for testing purposes, and never in production.\n\nNote that the sandbox: true option will still disable the renderer's Node.js environment.\n\n\n# A note on rendering untrusted content\n\nRendering untrusted content in Electron is still somewhat uncharted territory, though some apps are finding success (e.g. Beaker Browser). Our goal is to get as close to Chrome as we can in terms of the security of sandboxed content, but ultimately we will always be behind due to a few fundamental issues:\n\n 1. We do not have the dedicated resources or expertise that Chromium has to apply to the security of its product. We do our best to make use of what we have, to inherit everything we can from Chromium, and to respond quickly to security issues, but Electron cannot be as secure as Chromium without the resources that Chromium is able to dedicate.\n 2. Some security features in Chrome (such as Safe Browsing and Certificate Transparency) require a centralized authority and dedicated servers, both of which run counter to the goals of the Electron project. As such, we disable those features in Electron, at the cost of the associated security they would otherwise bring.\n 3. There is only one Chromium, whereas there are many thousands of apps built on Electron, all of which behave slightly differently. Accounting for those differences can yield a huge possibility space, and make it challenging to ensure the security of the platform in unusual use cases.\n 4. We can't push security updates to users directly, so we rely on app vendors to upgrade the version of Electron underlying their app in order for security updates to reach users.\n\nWhile we make our best effort to backport Chromium security fixes to older versions of Electron, we do not make a guarantee that every fix will be backported. Your best chance at staying secure is to be on the latest stable version of Electron.",normalizedContent:"# 进程沙盒化\n\nchromium的一个关键安全特性是，进程可以在沙盒中执行。 沙盒通过限制对大多数系统资源的访问来减少恶意代码可能造成的伤害 — 沙盒化的进程只能自由使用cpu周期和内存。 为了执行需要额外权限的操作，沙盒处的进程通过专用通信渠道将任务下放给更大权限的进程。\n\n在chromium中，沙盒化应用于主进程以外的大多数进程。 其中包括渲染器进程，以及功能性进程，如音频服务、gpu 服务和网络服务。\n\n查阅chromium的 沙箱设计文档 了解更多信息。\n\n\n# electron沙盒化策略\n\nelectron带有一个混合的沙盒环境，意味着沙盒化进程可以和有权限的进程一起运行。 默认情况下，渲染器进程未被沙盒化，但功能性进程是被沙盒化的。 注意，就像在chromium中一样，主 (浏览器) 进程是有特权的且无法被沙盒化。\n\n从历史上看，这种混合沙盒方法之所以成立，是因为在渲染器中提供node.js对于应用开发人员来说是一个非常强大的工具。 不幸的是，这一特性同时也是一个巨大的安全漏洞。\n\n从理论上讲，对于只显示可信代码的桌面应用程序来说，未沙盒化的渲染器不是问题，但它们使 electron 在显示不受信任的 web 内容时的安全性低于 chromium。 然而，即使据称可信的代码也可能是危险的 — 在远程加载的网站上有无数恶意行为者可以使用的攻击途径。稍微举几个例子：从跨站脚本到内容注入再到中间人攻击。 因此，我们建议在大多数非常谨慎的情况下启用渲染器沙盒化。\n\nnote that there is an active discussion in the issue tracker to enable renderer sandboxing by default. see #28466) for details.\n\n\n# electron 中的沙盒行为\n\n在 electron 中沙盒进程 大部分地 表现都与 chromium 差不多， 但因为介面是 node.js 的关系 electron 有一些额外的概念需要考虑。\n\n\n# 渲染器进程\n\n当 electron 中的渲染器进程被沙盒化时，它们的行为与常规 chrome 渲染器一样。 一个沙盒化的渲染器不会有一个 node.js 环境。\n\n因此，在沙盒中，渲染器进程只能透过 进程间通讯 ( inter-process communication, ipc ) 委派任务给主进程的方式， 来执行需权限的任务 ( 例如：操作档案系统，改变作业系统 或 生成子进程 ) 。\n\n\n# 预加载脚本\n\nin order to allow renderer processes to communicate with the main process, preload scripts attached to sandboxed renderers will still have a polyfilled subset of node.js apis available. a require function similar to node's require module is exposed, but can only import a subset of electron and node's built-in modules:\n\n * electron (only renderer process modules)\n * 事件\n * timers\n * url\n\nin addition, the preload script also polyfills certain node.js primitives as globals:\n\n * buffer\n * process\n * clearimmediate\n * setimmediate\n\nbecause the require function is a polyfill with limited functionality, you will not be able to use commonjs modules to separate your preload script into multiple files. if you need to split your preload code, use a bundler such as webpack or parcel.\n\nnote that because the environment presented to the preload script is substantially more privileged than that of a sandboxed renderer, it is still possible to leak privileged apis to untrusted code running in the renderer process unless contextisolation is enabled.\n\n\n# 配置沙盒\n\n\n# enabling the sandbox for a single process\n\nin electron, renderer sandboxing can be enabled on a per-process basis with the sandbox: true preference in the browserwindow constructor.\n\n// main.js\napp.whenready().then(() => {\n  const win = new browserwindow({\n    webpreferences: {\n      sandbox: true\n    }\n  })\n  win.loadurl('https://google.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 全局启用沙盒\n\nif you want to force sandboxing for all renderers, you can also use the app.enablesandbox api. note that this api has to be called before the app's ready event.\n\n// main.js\napp.enablesandbox()\napp.whenready().then(() => {\n  // no need to pass `sandbox: true` since `app.enablesandbox()` was called.\n  const win = new browserwindow()\n  win.loadurl('https://google.com')\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 禁用 chromium 的沙盒（仅测试）\n\nyou can also disable chromium's sandbox entirely with the --no-sandbox cli flag, which will disable the sandbox for all processes (including utility processes). we highly recommend that you only use this flag for testing purposes, and never in production.\n\nnote that the sandbox: true option will still disable the renderer's node.js environment.\n\n\n# a note on rendering untrusted content\n\nrendering untrusted content in electron is still somewhat uncharted territory, though some apps are finding success (e.g. beaker browser). our goal is to get as close to chrome as we can in terms of the security of sandboxed content, but ultimately we will always be behind due to a few fundamental issues:\n\n 1. we do not have the dedicated resources or expertise that chromium has to apply to the security of its product. we do our best to make use of what we have, to inherit everything we can from chromium, and to respond quickly to security issues, but electron cannot be as secure as chromium without the resources that chromium is able to dedicate.\n 2. some security features in chrome (such as safe browsing and certificate transparency) require a centralized authority and dedicated servers, both of which run counter to the goals of the electron project. as such, we disable those features in electron, at the cost of the associated security they would otherwise bring.\n 3. there is only one chromium, whereas there are many thousands of apps built on electron, all of which behave slightly differently. accounting for those differences can yield a huge possibility space, and make it challenging to ensure the security of the platform in unusual use cases.\n 4. we can't push security updates to users directly, so we rely on app vendors to upgrade the version of electron underlying their app in order for security updates to reach users.\n\nwhile we make our best effort to backport chromium security fixes to older versions of electron, we do not make a guarantee that every fix will be backported. your best chance at staying secure is to be on the latest stable version of electron.",charsets:{cjk:!0}},{title:"security",frontmatter:{title:"security",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/d330c8/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/security.html",relativePath:"《Electron中文文档》/tutorial/security.md",key:"v-f9d90298",path:"/pages/d330c8/",headers:[{level:2,title:"报告安全问题",slug:"报告安全问题",normalizedTitle:"报告安全问题",charIndex:492},{level:2,title:"Chromium 安全问题和升级",slug:"chromium-安全问题和升级",normalizedTitle:"chromium 安全问题和升级",charIndex:543},{level:2,title:"安全是所有人的共同责任",slug:"安全是所有人的共同责任",normalizedTitle:"安全是所有人的共同责任",charIndex:675},{level:2,title:"隔离不信任的内容",slug:"隔离不信任的内容",normalizedTitle:"隔离不信任的内容",charIndex:1227},{level:2,title:"Electron 安全警告",slug:"electron-安全警告",normalizedTitle:"electron 安全警告",charIndex:1549},{level:2,title:"清单：安全建议",slug:"清单-安全建议",normalizedTitle:"清单：安全建议",charIndex:1759},{level:2,title:"1) 仅加载安全内容",slug:"_1-仅加载安全内容",normalizedTitle:"1) 仅加载安全内容",charIndex:2355},{level:3,title:"为什么？",slug:"为什么",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"2) 不要为远程内容启用 Node.js 集成",slug:"_2-不要为远程内容启用-node-js-集成",normalizedTitle:"2) 不要为远程内容启用 node.js 集成",charIndex:3050},{level:3,title:"为什么？",slug:"为什么-2",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-2",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"3) 为远程内容开启上下文隔离",slug:"_3-为远程内容开启上下文隔离",normalizedTitle:"3) 为远程内容开启上下文隔离",charIndex:4376},{level:3,title:"为什么?",slug:"为什么-3",normalizedTitle:"为什么?",charIndex:4670},{level:2,title:"4) Enable Sandboxing",slug:"_4-enable-sandboxing",normalizedTitle:"4) enable sandboxing",charIndex:4803},{level:3,title:"怎么做？",slug:"怎么做-3",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"5) 处理来自远程内容的会话许可请求",slug:"_5-处理来自远程内容的会话许可请求",normalizedTitle:"5) 处理来自远程内容的会话许可请求",charIndex:5302},{level:3,title:"为什么？",slug:"为什么-4",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-4",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"6) 不要禁用WebSecurity",slug:"_6-不要禁用websecurity",normalizedTitle:"6) 不要禁用websecurity",charIndex:5975},{level:3,title:"为什么？",slug:"为什么-5",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-5",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"7) 定义一个内容安全策略",slug:"_7-定义一个内容安全策略",normalizedTitle:"7) 定义一个内容安全策略",charIndex:6527},{level:3,title:"为什么？",slug:"为什么-6",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"CSP HTTP头",slug:"csp-http头",normalizedTitle:"csp http头",charIndex:6943},{level:3,title:"CSP元标签",slug:"csp元标签",normalizedTitle:"csp元标签",charIndex:7329},{level:2,title:"8) 不要设置allowRunningInsecureContent为true",slug:"_8-不要设置allowrunninginsecurecontent为true",normalizedTitle:"8) 不要设置allowrunninginsecurecontent为true",charIndex:7519},{level:3,title:"为什么？",slug:"为什么-7",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-6",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"9) 不要开启实验室特性",slug:"_9-不要开启实验室特性",normalizedTitle:"9) 不要开启实验室特性",charIndex:7990},{level:3,title:"为什么？",slug:"为什么-8",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-7",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"10) 不要使用enableBlinkFeatures",slug:"_10-不要使用enableblinkfeatures",normalizedTitle:"10) 不要使用enableblinkfeatures",charIndex:8396},{level:3,title:"为什么？",slug:"为什么-9",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-8",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"11) 不要使用allowpopups",slug:"_11-不要使用allowpopups",normalizedTitle:"11) 不要使用allowpopups",charIndex:8854},{level:3,title:"为什么？",slug:"为什么-10",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-9",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"12) 创建WebView前确认其选项",slug:"_12-创建webview前确认其选项",normalizedTitle:"12) 创建webview前确认其选项",charIndex:9249},{level:3,title:"为什么？",slug:"为什么-11",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-10",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"13) Disable or limit navigation",slug:"_13-disable-or-limit-navigation",normalizedTitle:"13) disable or limit navigation",charIndex:10277},{level:3,title:"为什么？",slug:"为什么-12",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-11",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"14) 禁用或限制新窗口的创建",slug:"_14-禁用或限制新窗口的创建",normalizedTitle:"14) 禁用或限制新窗口的创建",charIndex:11843},{level:3,title:"为什么？",slug:"为什么-13",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-12",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"15) 不要使用 openExternal 打开含有不可信任内容",slug:"_15-不要使用-openexternal-打开含有不可信任内容",normalizedTitle:"15) 不要使用 openexternal 打开含有不可信任内容",charIndex:13444},{level:3,title:"为什么？",slug:"为什么-14",normalizedTitle:"为什么？",charIndex:2481},{level:3,title:"怎么做？",slug:"怎么做-13",normalizedTitle:"怎么做？",charIndex:2630},{level:2,title:"16) 使用当前版本的 Electron",slug:"_16-使用当前版本的-electron",normalizedTitle:"16) 使用当前版本的 electron",charIndex:13883},{level:3,title:"为什么？",slug:"为什么-15",normalizedTitle:"为什么？",charIndex:2481}],headersStr:"报告安全问题 Chromium 安全问题和升级 安全是所有人的共同责任 隔离不信任的内容 Electron 安全警告 清单：安全建议 1) 仅加载安全内容 为什么？ 怎么做？ 2) 不要为远程内容启用 Node.js 集成 为什么？ 怎么做？ 3) 为远程内容开启上下文隔离 为什么? 4) Enable Sandboxing 怎么做？ 5) 处理来自远程内容的会话许可请求 为什么？ 怎么做？ 6) 不要禁用WebSecurity 为什么？ 怎么做？ 7) 定义一个内容安全策略 为什么？ CSP HTTP头 CSP元标签 8) 不要设置allowRunningInsecureContent为true 为什么？ 怎么做？ 9) 不要开启实验室特性 为什么？ 怎么做？ 10) 不要使用enableBlinkFeatures 为什么？ 怎么做？ 11) 不要使用allowpopups 为什么？ 怎么做？ 12) 创建WebView前确认其选项 为什么？ 怎么做？ 13) Disable or limit navigation 为什么？ 怎么做？ 14) 禁用或限制新窗口的创建 为什么？ 怎么做？ 15) 不要使用 openExternal 打开含有不可信任内容 为什么？ 怎么做？ 16) 使用当前版本的 Electron 为什么？",content:"# 安全性，原生能力和你的责任\n\nWeb开发人员通畅享有浏览器强大的网络安全特性，而自己的代码风险相对较小。 我们的网站在沙盒中被赋予了有限的权力，我们相信我们的用户享受到的是一个由大型工程师团队打造的浏览器，它能够快速应对新发现的安全威胁。\n\n当使用 Electron 时，很重要的一点是要理解 Electron 不是一个 Web 浏览器。 它允许您使用熟悉的 Web 技术构建功能丰富的桌面应用程序，但是您的代码具有更强大的功能。 JavaScript 可以访问文件系统，用户 shell 等。 这允许您构建更高质量的本机应用程序，但是内在的安全风险会随着授予您的代码的额外权力而增加。\n\n考虑到这一点，请注意，展示任意来自不受信任源的内容都将会带来严重的安全风险，而这种风险Electron也没打算处理。 事实上，最流行的 Electron 应用程序(Atom，Slack，Visual Studio Code 等) 主要显示本地内容(即使有远程内容也是无 Node 的、受信任的、安全的内容) - 如果您的应用程序要运行在线的源代码，那么您需要确保源代码不是恶意的。\n\n\n# 报告安全问题\n\n有关如何正确上报 Electron 漏洞的信息，参阅 SECURITY.md\n\n\n# Chromium 安全问题和升级\n\nElectron keeps up to date with alternating Chromium releases. 欲了解更多信息，请查看 Electron Release Cadence blog post。\n\n\n# 安全是所有人的共同责任\n\n需要牢记的是，你的 Electron 程序安全性除了依赖于整个框架基础（Chromium、Node.js）、Electron 本身和所有相关 NPM 库的安全性，还依赖于你自己的代码安全性。 因此，你有责任遵循下列安全守则：\n\n * **使用最新版的 Electron 框架搭建你的程序。**你最终发行的产品中会包含 Electron、Chromium 共享库和 Node.js 的组件。 这些组件存在的安全问题也可能影响你的程序安全性。 你可以通过更新Electron到最新版本来确保像是nodeIntegration绕过攻击一类的严重漏洞已经被修复因而不会影响到你的程序。 请参阅“使用当前版本的Electron”以获取更多信息。\n\n * 评估你的依赖项目NPM提供了五百万可重用的软件包，而你应当承担起选择可信任的第三方库。 如果你使用了受已知漏洞的过时的库，或是依赖于维护的很糟糕的代码，你的程序安全就可能面临威胁。\n\n * 遵循安全编码实践你的代码是你的程序安全的第一道防线。 一般的网络漏洞，例如跨站脚本攻击(Cross-Site Scripting, XSS)，对Electron将造成更大的影响，因此非常建议你遵循安全软件开发最佳实践并进行安全性测试。\n\n\n# 隔离不信任的内容\n\n每当你从不被信任的来源(如一个远程服务器)获取代码并在本地执行，其中就存在安全性问题。 例如在默认的 BrowserWindow中显示一个远程网站. 如果攻击者以某种方式设法改变所述内容 (通过直接攻击源或者通过在应用和实际目的地之间进行攻击) ，他们将能够在用户的机器上执行本地代码。\n\n> ⚠️无论如何，在启用Node.js集成的情况下，你都不该加载并执行远程代码。 相反，只使用本地文件（和您的应用打包在一起）来执行Node.js代码 如果你想要显示远程内容，请使用 <webview> Tag或者 BrowserView，并确保禁用 nodeIntegration 并启用 contextIsolation\n\n\n# Electron 安全警告\n\n从Electron 2.0版本开始，开发者将会在开发者控制台看到打印的警告和建议。 这些警告仅在可执行文件名为 Electron 时才会为开发者显示。\n\n你可以通过在process.env 或 window对象上配置ELECTRON_ENABLE_SECURITY_WARNINGS 或ELECTRON_DISABLE_SECURITY_WARNINGS来强制开启或关闭这些警告。\n\n\n# 清单：安全建议\n\n为加强程序安全性，你至少应当遵循下列规则：\n\n 1.  只加载安全的内容\n 2.  禁止在所有渲染器中使用Node.js集成显示远程内容\n 3.  在所有显示远程内容的渲染器中启用上下文隔离。\n 4.  Enable sandboxing\n 5.  在所有加载远程内容的会话中使用 ses.setPermissionRequestHandler().\n 6.  不要禁用 webSecurity\n 7.  定义一个Content-Security-Policy并设置限制规则(如：script-src 'self')\n 8.  不要设置 allowRunningInsecureContent 为 true.\n 9.  不要开启实验性功能\n 10. 不要使用enableBlinkFeatures\n 11. <webview>：不要使用 allowpopups\n 12. <webview>：验证选项与参数\n 13. 禁用或限制网页跳转\n 14. 禁用或限制新窗口创建\n 15. 不要对不可信的内容使用 openExternal\n 16. 使用当前版本的 Electron\n\n如果你想要自动检测错误的配置或是不安全的模式，可以使用electronegativity 关于在使用Electron进行应用程序开发中的潜在薄弱点或者bug，您可以参考开发者与审核人员指南\n\n\n# 1) 仅加载安全内容\n\n任何不属于你的应用的资源都应该使用像HTTPS这样的安全协议来加载。 换言之， 不要使用不安全的协议 （如 HTTP）。 同理，我们建议使用WSS，避免使用WS，建议使用FTPS ，避免使用FTP，等等诸如此类的协议。\n\n\n# 为什么？\n\nHTTPS 有三个主要好处：\n\n 1. 它对远程服务器进行身份验证, 确保您的应用程序连接到正确的主机而不是模仿器。 2) 确保数据完整性, 断言数据在应用程序和主机之间传输时未被修改。 3) 它对用户和目标主机之间的通信进行加密, 从而更难窃听应用程序和主机之间发送的信息。\n\n\n# 怎么做？\n\n// 不推荐\nbrowserWindow.loadURL ('http://example.com')\n// 推荐 \nbrowserWindow.loadURL ('https://example.com')\n\n\n1\n2\n3\n4\n\n\n\x3c!-- 不推荐 --\x3e\n<script crossorigin src=\"http://example.com/react.js\"><\/script>\n<link rel=\"stylesheet\" href=\"http://example.com/style.css\">\n\n\x3c!-- 推荐 --\x3e\n<script crossorigin src=\"https://example.com/react.js\"><\/script>\n<link rel=\"stylesheet\" href=\"https://example.com/style.css\">\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 2) 不要为远程内容启用 Node.js 集成\n\nThis recommendation is the default behavior in Electron since 5.0.0.\n\n加载远程内容时，不论使用的是哪一种渲染器（BrowserWindow，BrowserView 或者 <webview>），最重要的就是绝对不要启用 Node.js 集成。 其目的是限制您授予远程内容的权限, 从而使攻击者在您的网站上执行 JavaScript 时更难伤害您的用户。\n\n在此之后，你可以为指定的主机授予附加权限。 举例来说，如果你正在打开一个指向 https://example.com/ 的 BrowserWindow，那么你可以给他刚刚好足够的权限，但是绝对不要超出这个范围。\n\n\n# 为什么？\n\n如果攻击者跳过渲染进程并在用户电脑上执行恶意代码，那么这种跨站脚本(XSS) 攻击的危害是非常大的。 跨站脚本攻击很常见，通常情况下，威力仅限于执行代码的网站。 禁用Node.js集成有助于防止XSS攻击升级为“远程代码执行” (RCE) 攻击。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainWindow = new BrowserWindow({\n  webPreferences: {\n    nodeIntegration: true,\n    nodeIntegrationInWorker: true\n  }\n})\n\nmainWindow.loadURL('https://example.com')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n// 推荐\nconst mainWindow = new BrowserWindow({\n  webPreferences: {\n    preload: path.join(app.getAppPath(), 'preload.js')\n  }\n})\n\nmainWindow.loadURL('https://example.com')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\x3c!-- 不推荐 --\x3e\n<webview nodeIntegration src=\"page.html\"></webview>\n\n\x3c!-- 推荐 --\x3e\n<webview src=\"page.html\"></webview>\n\n\n1\n2\n3\n4\n5\n\n\n当禁用Node.js集成时，你依然可以暴露API给你的站点以使用Node.js的模块功能或特性。 预加载脚本依然可以使用require等Node.js特性， 以使开发者可以暴露自定义API给远程加载内容。\n\n在下面的预加载脚本例子中，后加载的网站内容可以使用window.readConfig()方法，但不能使用Node.js特性。\n\nconst { readFileSync } = require('fs')\n\nwindow.readConfig = function () {\n  const data = readFileSync('./config.json')\n  return data\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3) 为远程内容开启上下文隔离\n\n上下文隔离是Electron的一个特性，它允许开发者在预加载脚本里运行代码，里面包含Electron API和专用的JavaScript上下文。 实际上，这意味全局对象如 Array.prototype.push 或 JSON.parse等无法被渲染进程里的运行脚本修改。\n\nElectron使用了和Chromium相同的Content Scripts技术来开启这个行为。\n\n即便使用了 nodeIntegration: false, 要实现真正的强隔离并且防止使用 Node.js 的功能， contextIsolation 也 必须 开启.\n\n\n# 为什么?\n\nFor more information on what contextIsolation is and how to enable it please see our dedicated Context Isolation document.\n\n\n# 4) Enable Sandboxing\n\nSandboxing is a Chromium feature that uses the operating system to significantly limit what renderer processes have access to. You should enable the sandbox in all renderers. Loading, reading or processing any untrusted content in an unsandboxed process, including the main process, is not advised.\n\n\n# 怎么做？\n\nWhen creating a window, pass the sandbox: true option in webPreferences:\n\nconst win = new BrowserWindow({\n  webPreferences: {\n    sandbox: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# 5) 处理来自远程内容的会话许可请求\n\n当你使用Chromes时，也许见过这种许可请求：每当网站尝试使用某个特性时，就会弹出让用户手动确认(如网站通知)\n\n此API基于Chromium permissions API，并已实现对应的许可类型。\n\n\n# 为什么？\n\n默认情况下，Electron将自动批准所有的许可请求，除非开发者手动配置一个自定义处理函数。 尽管默认如此，有安全意识的开发者可能希望默认反着来。\n\n\n# 怎么做？\n\nconst { session } = require('electron')\n\nsession\n  .fromPartition('some-partition')\n  .setPermissionRequestHandler((webContents, permission, callback) => {\n    const url = webContents.getURL()\n\n    if (permission === 'notifications') {\n      // 通过许可请求\n      callback(true)\n    }\n\n    // Verify URL\n    if (!url.startsWith('https://example.com/')) {\n      // 拒绝许可请求\n      return callback(false)\n    }\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 6) 不要禁用WebSecurity\n\nElectron的默认值即是建议值。\n\n在渲染进程（BrowserWindow、BrowserView 和 <webview>）中禁用 webSecurity 将导致至关重要的安全性功能被关闭。\n\n不要在生产环境中禁用webSecurity。\n\n\n# 为什么？\n\n禁用 webSecurity 将会禁止同源策略并且将 allowRunningInsecureContent 属性置 true。 换句话说，这将使得来自其他站点的非安全代码被执行。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainWindow = new BrowserWindow({\n  webPreferences: {\n    webSecurity: false\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// 推荐\nconst mainWindow = new BrowserWindow()\n\n\n1\n2\n\n\n\x3c!-- 不推荐 --\x3e\n<webview disablewebsecurity src=\"page.html\"></webview>\n\n\x3c!-- 推荐 --\x3e\n<webview src=\"page.html\"></webview>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 7) 定义一个内容安全策略\n\n内容安全策略(CSP) 是应对跨站脚本攻击和数据注入攻击的又一层保护措施。 我们建议任何载入到Electron的站点都要开启。\n\n\n# 为什么？\n\nCSP允许Electron通过服务端内容对指定页面的资源加载进行约束与控制。 如果你定义https://example.com这个源，所属这个源的脚本都允许被加载，反之https://evil.attacker.com不会被允许加载运行。 对于提升你的应用安全性，设置CSP是个很方便的办法。\n\n下面的CSP设置使得Electron只能执行自身站点和来自apis.example.com的脚本。\n\n// 不推荐\nContent-Security-Policy: '*'\n\n// 推荐\nContent-Security-Policy: script-src 'self' https://apis.example.com\n\n\n1\n2\n3\n4\n5\n\n\n\n# CSP HTTP头\n\nElectron 会处理 Content-Security-Policy HTTP 标头，它可以在 webRequest.onHeadersReceived 中进行设置：\n\nconst { session } = require('electron')\n\nsession.defaultSession.webRequest.onHeadersReceived((details, callback) => {\n  callback({\n    responseHeaders: {\n      ...details.responseHeaders,\n      'Content-Security-Policy': ['default-src \\'none\\'']\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# CSP元标签\n\nCSP的首选传递机制是HTTP报头，但是在使用file://协议加载资源时，不可能使用此方法。 在某些用例下, 例如使用file://协议时, 在页面的<meta>的标签中设置CSP是非常有用的.\n\n<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'\">\n\n\n1\n\n\n\n# 8) 不要设置allowRunningInsecureContent为true\n\nElectron的默认值即是建议值。\n\n默认情况下，Electron不允许网站在HTTPS中加载或执行非安全源(HTTP) 中的脚本代码、CSS或插件。 将allowRunningInsecureContent属性设为true将禁用这种保护。\n\n当网站的初始内容通过HTTPS加载并尝试在子请求中加载HTTP的资源时，这被称为\"混合内容\"。\n\n\n# 为什么？\n\n通过HTTPS加载会将该资源进行加密传输，以保证其真实性和完整性。 参看只显示安全内容这节以获得更多信息。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainWindow = new BrowserWindow({\n  webPreferences: {\n    allowRunningInsecureContent: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// 推荐\nconst mainWindow = new BrowserWindow({})\n\n\n1\n2\n\n\n\n# 9) 不要开启实验室特性\n\nElectron的默认值即是建议值。\n\nElectron 的熟练用户可以通过 experimentalFeatures 属性来启用 Chromium 实验性功能。\n\n\n# 为什么？\n\n如名称所示，实验性功能是实验性的，尚未对所有 Chromium 用户启用。 此外，它们对整个 Electron 的影响很可能没有经过测试。\n\n尽管存在合理的使用场景，但是除非你知道你自己在干什么，否则你不应该开启这个属性。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainWindow = new BrowserWindow({\n  webPreferences: {\n    experimentalFeatures: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// 推荐\nconst mainWindow = new BrowserWindow({})\n\n\n1\n2\n\n\n\n# 10) 不要使用enableBlinkFeatures\n\nElectron的默认值即是建议值。\n\nBlink是Chromium里的渲染引擎名称。 就像experimentalFeatures一样，enableBlinkFeatures属性将使开发者启用被默认禁用的特性。\n\n\n# 为什么？\n\n通常来说，某个特性默认不被开启肯定有其合理的原因。 针对特定特性的合理使用场景是存在的。 作为开发者，你应该非常明白你为何要开启它，有什么后果，以及对你应用安全性的影响。 在任何情况下都不应该推测性的开启特性。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainWindow = new BrowserWindow({\n  webPreferences: {\n    enableBlinkFeatures: 'ExecCommandInJavaScript'\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// 推荐\nconst mainWindow = new BrowserWindow()\n\n\n1\n2\n\n\n\n# 11) 不要使用allowpopups\n\nElectron的默认值即是建议值。\n\n如果您正在使用 <webview> ，您可能需要页面和脚本加载进您的 <webview> 标签以打开新窗口。 开启allowpopups属性将使得BrowserWindows可以通过window.open()方法创建。 否则， <webview> 标签内不允许创建新窗口。\n\n\n# 为什么？\n\n如果你不需要弹窗，最好使用默认值以关闭新BrowserWindows的创建。 以下是最低的权限要求原则：若非必要，不要再网站中创建新窗口。\n\n\n# 怎么做？\n\n\x3c!-- 不推荐 --\x3e\n<webview allowpopups src=\"page.html\"></webview>\n\n\x3c!-- 推荐 --\x3e\n<webview src=\"page.html\"></webview>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 12) 创建WebView前确认其选项\n\n通过渲染进程创建的WebView是不开启Node.js集成的，且也不能由自身开启。 但是，WebView可以通过其webPreferences属性创建一个独立的渲染进程。\n\n通过控制主进程中创建新的<webview>，并确认其webPreferences没有禁用安全相关特性是个不错的办法。\n\n\n# 为什么？\n\n由于 <webview> 存在在DOM中，因此即使Node继承被禁用，它也可以通过运行在您的 网站上的脚本创建它们。\n\nElectron 可以让开发者关闭各种控制渲染进程的安全特性。 通常情况下，开发者并不需要关闭他们中的任何一种 - 因此你不应该允许创建不同配置的<webview>标签\n\n\n# 怎么做？\n\n在 <webview>标签生效前，Electron将产生一个will-attach-webview事件到webContents中。 利用这个事件来阻止可能含有不安全选项的 webViews 创建。\n\napp.on('web-contents-created', (event, contents) => {\n  contents.on('will-attach-webview', (event, webPreferences, params) => {\n    // Strip away preload scripts if unused or verify their location is legitimate\n    delete webPreferences.preload\n    delete webPreferences.preloadURL\n\n    // Disable Node.js integration\n    webPreferences.nodeIntegration = false\n\n    // Verify URL being loaded\n    if (!params.src.startsWith('https://example.com/')) {\n      event.preventDefault()\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n不过，这个清单只是将风险降低到最低限度，但没有将其消除。 如果您的目标是展示一个网站，浏览器将是一个更安全的选择。\n\n\n# 13) Disable or limit navigation\n\nIf your app has no need to navigate or only needs to navigate to known pages, it is a good idea to limit navigation outright to that known scope, disallowing any other kinds of navigation.\n\n\n# 为什么？\n\nNavigation is a common attack vector. If an attacker can convince your app to navigate away from its current page, they can possibly force your app to open web sites on the Internet. Even if your webContents are configured to be more secure (like having nodeIntegration disabled or contextIsolation enabled), getting your app to open a random web site will make the work of exploiting your app a lot easier.\n\nA common attack pattern is that the attacker convinces your app's users to interact with the app in such a way that it navigates to one of the attacker's pages. This is usually done via links, plugins, or other user-generated content.\n\n\n# 怎么做？\n\n如果您的应用不需要导航，您可以在 will-navigate 处理器中调用 event.preventDefault()。 If you know which pages your app might navigate to, check the URL in the event handler and only let navigation occur if it matches the URLs you're expecting.\n\nWe recommend that you use Node's parser for URLs. 简单的字符串比较有时会出错 - startsWith('https://example.com')测试会让https://example.com.attacker.com通过.\n\nconst URL = require('url').URL\n\napp.on('web-contents-created', (event, contents) => {\n  contents.on('will-navigate', (event, navigationUrl) => {\n    const parsedUrl = new URL(navigationUrl)\n\n    if (parsedUrl.origin !== 'https://example.com') {\n      event.preventDefault()\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 14) 禁用或限制新窗口的创建\n\nIf you have a known set of windows, it's a good idea to limit the creation of additional windows in your app.\n\n\n# 为什么？\n\nMuch like navigation, the creation of new webContents is a common attack vector. Attackers attempt to convince your app to create new windows, frames, or other renderer processes with more privileges than they had before; or with pages opened that they couldn't open before.\n\nIf you have no need to create windows in addition to the ones you know you'll need to create, disabling the creation buys you a little bit of extra security at no cost. This is commonly the case for apps that open one BrowserWindow and do not need to open an arbitrary number of additional windows at runtime.\n\n\n# 怎么做？\n\nwebContents将会在新窗口创建前传递给 打开窗口的处理函数。 The handler will receive, amongst other parameters, the url the window was requested to open and the options used to create it. We recommend that you register a handler to monitor the creation of windows, and deny any unexpected window creation.\n\nconst { shell } = require('electron')\n\napp.on('web-contents-created', (event, contents) => {\n  contents.setWindowOpenHandler(({ url }) => {\n    // In this example, we'll ask the operating system\n    // to open this event's url in the default browser.\n    //\n    // See the following item for considerations regarding what\n    // URLs should be allowed through to shell.openExternal.\n    if (isSafeForExternalOpen(url)) {\n      setImmediate(() => {\n        shell.openExternal(url)\n      })\n    }\n\n    return { action: 'deny' }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 15) 不要使用 openExternal 打开含有不可信任内容\n\nShell 的 openExternal 允许使用桌面的原生工具打开指定的协议 URI。 例如，在 macOS 上，此功能与 open 终端命令实用程序类似，将基于 URI 和文件类型关联打开特定的应用程序。\n\n\n# 为什么？\n\n错误使用 openExternal 会危害用户的主机 当 openExternal 使用内容不受信任时，它可以用来执行任意命令。\n\n\n# 怎么做？\n\n//  Bad\nconst { shell } = require('electron')\nshell.openExternal(USER_CONTROLLED_DATA_HERE)\n\n\n1\n2\n3\n\n\n//  Good\nconst { shell } = require('electron')\nshell.openExternal('https://example.com/index.html')\n\n\n1\n2\n3\n\n\n\n# 16) 使用当前版本的 Electron\n\n你应该尽可能使用最新版本的 Electron。 每当发布新的主要版本时，你应该尝试尽快更新您的应用。\n\n\n# 为什么？\n\n一个使用 Electron、Chromium 和 Node.js 的旧版本构建的应用程序比使用这些组件的最新版本的应用程序更容易成为目标。 Generally speaking, security issues and exploits for older versions of Chromium and Node.js are more widely available.\n\nChromium 和 Node.js 都是数千名有才华的开发者建造的令人印象深刻的工程。 鉴于他们受欢迎的程度，他们的安全性都经过专业的安全研究人员仔细的测试和分析。 其中许多研究人员负责任地披露漏洞，这通常意味着研究人员会给 Chromium 和 Node.js 一些时间来修复问题，然后再发布它们。 如果你的应用程序运行的是 Electron 的最新版本 (包括 Chromium 和 Node.js)，你的应用程序将更加安全，因为潜在的安全问题并不广为人知。",normalizedContent:"# 安全性，原生能力和你的责任\n\nweb开发人员通畅享有浏览器强大的网络安全特性，而自己的代码风险相对较小。 我们的网站在沙盒中被赋予了有限的权力，我们相信我们的用户享受到的是一个由大型工程师团队打造的浏览器，它能够快速应对新发现的安全威胁。\n\n当使用 electron 时，很重要的一点是要理解 electron 不是一个 web 浏览器。 它允许您使用熟悉的 web 技术构建功能丰富的桌面应用程序，但是您的代码具有更强大的功能。 javascript 可以访问文件系统，用户 shell 等。 这允许您构建更高质量的本机应用程序，但是内在的安全风险会随着授予您的代码的额外权力而增加。\n\n考虑到这一点，请注意，展示任意来自不受信任源的内容都将会带来严重的安全风险，而这种风险electron也没打算处理。 事实上，最流行的 electron 应用程序(atom，slack，visual studio code 等) 主要显示本地内容(即使有远程内容也是无 node 的、受信任的、安全的内容) - 如果您的应用程序要运行在线的源代码，那么您需要确保源代码不是恶意的。\n\n\n# 报告安全问题\n\n有关如何正确上报 electron 漏洞的信息，参阅 security.md\n\n\n# chromium 安全问题和升级\n\nelectron keeps up to date with alternating chromium releases. 欲了解更多信息，请查看 electron release cadence blog post。\n\n\n# 安全是所有人的共同责任\n\n需要牢记的是，你的 electron 程序安全性除了依赖于整个框架基础（chromium、node.js）、electron 本身和所有相关 npm 库的安全性，还依赖于你自己的代码安全性。 因此，你有责任遵循下列安全守则：\n\n * **使用最新版的 electron 框架搭建你的程序。**你最终发行的产品中会包含 electron、chromium 共享库和 node.js 的组件。 这些组件存在的安全问题也可能影响你的程序安全性。 你可以通过更新electron到最新版本来确保像是nodeintegration绕过攻击一类的严重漏洞已经被修复因而不会影响到你的程序。 请参阅“使用当前版本的electron”以获取更多信息。\n\n * 评估你的依赖项目npm提供了五百万可重用的软件包，而你应当承担起选择可信任的第三方库。 如果你使用了受已知漏洞的过时的库，或是依赖于维护的很糟糕的代码，你的程序安全就可能面临威胁。\n\n * 遵循安全编码实践你的代码是你的程序安全的第一道防线。 一般的网络漏洞，例如跨站脚本攻击(cross-site scripting, xss)，对electron将造成更大的影响，因此非常建议你遵循安全软件开发最佳实践并进行安全性测试。\n\n\n# 隔离不信任的内容\n\n每当你从不被信任的来源(如一个远程服务器)获取代码并在本地执行，其中就存在安全性问题。 例如在默认的 browserwindow中显示一个远程网站. 如果攻击者以某种方式设法改变所述内容 (通过直接攻击源或者通过在应用和实际目的地之间进行攻击) ，他们将能够在用户的机器上执行本地代码。\n\n> ⚠️无论如何，在启用node.js集成的情况下，你都不该加载并执行远程代码。 相反，只使用本地文件（和您的应用打包在一起）来执行node.js代码 如果你想要显示远程内容，请使用 <webview> tag或者 browserview，并确保禁用 nodeintegration 并启用 contextisolation\n\n\n# electron 安全警告\n\n从electron 2.0版本开始，开发者将会在开发者控制台看到打印的警告和建议。 这些警告仅在可执行文件名为 electron 时才会为开发者显示。\n\n你可以通过在process.env 或 window对象上配置electron_enable_security_warnings 或electron_disable_security_warnings来强制开启或关闭这些警告。\n\n\n# 清单：安全建议\n\n为加强程序安全性，你至少应当遵循下列规则：\n\n 1.  只加载安全的内容\n 2.  禁止在所有渲染器中使用node.js集成显示远程内容\n 3.  在所有显示远程内容的渲染器中启用上下文隔离。\n 4.  enable sandboxing\n 5.  在所有加载远程内容的会话中使用 ses.setpermissionrequesthandler().\n 6.  不要禁用 websecurity\n 7.  定义一个content-security-policy并设置限制规则(如：script-src 'self')\n 8.  不要设置 allowrunninginsecurecontent 为 true.\n 9.  不要开启实验性功能\n 10. 不要使用enableblinkfeatures\n 11. <webview>：不要使用 allowpopups\n 12. <webview>：验证选项与参数\n 13. 禁用或限制网页跳转\n 14. 禁用或限制新窗口创建\n 15. 不要对不可信的内容使用 openexternal\n 16. 使用当前版本的 electron\n\n如果你想要自动检测错误的配置或是不安全的模式，可以使用electronegativity 关于在使用electron进行应用程序开发中的潜在薄弱点或者bug，您可以参考开发者与审核人员指南\n\n\n# 1) 仅加载安全内容\n\n任何不属于你的应用的资源都应该使用像https这样的安全协议来加载。 换言之， 不要使用不安全的协议 （如 http）。 同理，我们建议使用wss，避免使用ws，建议使用ftps ，避免使用ftp，等等诸如此类的协议。\n\n\n# 为什么？\n\nhttps 有三个主要好处：\n\n 1. 它对远程服务器进行身份验证, 确保您的应用程序连接到正确的主机而不是模仿器。 2) 确保数据完整性, 断言数据在应用程序和主机之间传输时未被修改。 3) 它对用户和目标主机之间的通信进行加密, 从而更难窃听应用程序和主机之间发送的信息。\n\n\n# 怎么做？\n\n// 不推荐\nbrowserwindow.loadurl ('http://example.com')\n// 推荐 \nbrowserwindow.loadurl ('https://example.com')\n\n\n1\n2\n3\n4\n\n\n\x3c!-- 不推荐 --\x3e\n<script crossorigin src=\"http://example.com/react.js\"><\/script>\n<link rel=\"stylesheet\" href=\"http://example.com/style.css\">\n\n\x3c!-- 推荐 --\x3e\n<script crossorigin src=\"https://example.com/react.js\"><\/script>\n<link rel=\"stylesheet\" href=\"https://example.com/style.css\">\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 2) 不要为远程内容启用 node.js 集成\n\nthis recommendation is the default behavior in electron since 5.0.0.\n\n加载远程内容时，不论使用的是哪一种渲染器（browserwindow，browserview 或者 <webview>），最重要的就是绝对不要启用 node.js 集成。 其目的是限制您授予远程内容的权限, 从而使攻击者在您的网站上执行 javascript 时更难伤害您的用户。\n\n在此之后，你可以为指定的主机授予附加权限。 举例来说，如果你正在打开一个指向 https://example.com/ 的 browserwindow，那么你可以给他刚刚好足够的权限，但是绝对不要超出这个范围。\n\n\n# 为什么？\n\n如果攻击者跳过渲染进程并在用户电脑上执行恶意代码，那么这种跨站脚本(xss) 攻击的危害是非常大的。 跨站脚本攻击很常见，通常情况下，威力仅限于执行代码的网站。 禁用node.js集成有助于防止xss攻击升级为“远程代码执行” (rce) 攻击。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainwindow = new browserwindow({\n  webpreferences: {\n    nodeintegration: true,\n    nodeintegrationinworker: true\n  }\n})\n\nmainwindow.loadurl('https://example.com')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n// 推荐\nconst mainwindow = new browserwindow({\n  webpreferences: {\n    preload: path.join(app.getapppath(), 'preload.js')\n  }\n})\n\nmainwindow.loadurl('https://example.com')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\x3c!-- 不推荐 --\x3e\n<webview nodeintegration src=\"page.html\"></webview>\n\n\x3c!-- 推荐 --\x3e\n<webview src=\"page.html\"></webview>\n\n\n1\n2\n3\n4\n5\n\n\n当禁用node.js集成时，你依然可以暴露api给你的站点以使用node.js的模块功能或特性。 预加载脚本依然可以使用require等node.js特性， 以使开发者可以暴露自定义api给远程加载内容。\n\n在下面的预加载脚本例子中，后加载的网站内容可以使用window.readconfig()方法，但不能使用node.js特性。\n\nconst { readfilesync } = require('fs')\n\nwindow.readconfig = function () {\n  const data = readfilesync('./config.json')\n  return data\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3) 为远程内容开启上下文隔离\n\n上下文隔离是electron的一个特性，它允许开发者在预加载脚本里运行代码，里面包含electron api和专用的javascript上下文。 实际上，这意味全局对象如 array.prototype.push 或 json.parse等无法被渲染进程里的运行脚本修改。\n\nelectron使用了和chromium相同的content scripts技术来开启这个行为。\n\n即便使用了 nodeintegration: false, 要实现真正的强隔离并且防止使用 node.js 的功能， contextisolation 也 必须 开启.\n\n\n# 为什么?\n\nfor more information on what contextisolation is and how to enable it please see our dedicated context isolation document.\n\n\n# 4) enable sandboxing\n\nsandboxing is a chromium feature that uses the operating system to significantly limit what renderer processes have access to. you should enable the sandbox in all renderers. loading, reading or processing any untrusted content in an unsandboxed process, including the main process, is not advised.\n\n\n# 怎么做？\n\nwhen creating a window, pass the sandbox: true option in webpreferences:\n\nconst win = new browserwindow({\n  webpreferences: {\n    sandbox: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# 5) 处理来自远程内容的会话许可请求\n\n当你使用chromes时，也许见过这种许可请求：每当网站尝试使用某个特性时，就会弹出让用户手动确认(如网站通知)\n\n此api基于chromium permissions api，并已实现对应的许可类型。\n\n\n# 为什么？\n\n默认情况下，electron将自动批准所有的许可请求，除非开发者手动配置一个自定义处理函数。 尽管默认如此，有安全意识的开发者可能希望默认反着来。\n\n\n# 怎么做？\n\nconst { session } = require('electron')\n\nsession\n  .frompartition('some-partition')\n  .setpermissionrequesthandler((webcontents, permission, callback) => {\n    const url = webcontents.geturl()\n\n    if (permission === 'notifications') {\n      // 通过许可请求\n      callback(true)\n    }\n\n    // verify url\n    if (!url.startswith('https://example.com/')) {\n      // 拒绝许可请求\n      return callback(false)\n    }\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 6) 不要禁用websecurity\n\nelectron的默认值即是建议值。\n\n在渲染进程（browserwindow、browserview 和 <webview>）中禁用 websecurity 将导致至关重要的安全性功能被关闭。\n\n不要在生产环境中禁用websecurity。\n\n\n# 为什么？\n\n禁用 websecurity 将会禁止同源策略并且将 allowrunninginsecurecontent 属性置 true。 换句话说，这将使得来自其他站点的非安全代码被执行。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainwindow = new browserwindow({\n  webpreferences: {\n    websecurity: false\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// 推荐\nconst mainwindow = new browserwindow()\n\n\n1\n2\n\n\n\x3c!-- 不推荐 --\x3e\n<webview disablewebsecurity src=\"page.html\"></webview>\n\n\x3c!-- 推荐 --\x3e\n<webview src=\"page.html\"></webview>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 7) 定义一个内容安全策略\n\n内容安全策略(csp) 是应对跨站脚本攻击和数据注入攻击的又一层保护措施。 我们建议任何载入到electron的站点都要开启。\n\n\n# 为什么？\n\ncsp允许electron通过服务端内容对指定页面的资源加载进行约束与控制。 如果你定义https://example.com这个源，所属这个源的脚本都允许被加载，反之https://evil.attacker.com不会被允许加载运行。 对于提升你的应用安全性，设置csp是个很方便的办法。\n\n下面的csp设置使得electron只能执行自身站点和来自apis.example.com的脚本。\n\n// 不推荐\ncontent-security-policy: '*'\n\n// 推荐\ncontent-security-policy: script-src 'self' https://apis.example.com\n\n\n1\n2\n3\n4\n5\n\n\n\n# csp http头\n\nelectron 会处理 content-security-policy http 标头，它可以在 webrequest.onheadersreceived 中进行设置：\n\nconst { session } = require('electron')\n\nsession.defaultsession.webrequest.onheadersreceived((details, callback) => {\n  callback({\n    responseheaders: {\n      ...details.responseheaders,\n      'content-security-policy': ['default-src \\'none\\'']\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# csp元标签\n\ncsp的首选传递机制是http报头，但是在使用file://协议加载资源时，不可能使用此方法。 在某些用例下, 例如使用file://协议时, 在页面的<meta>的标签中设置csp是非常有用的.\n\n<meta http-equiv=\"content-security-policy\" content=\"default-src 'none'\">\n\n\n1\n\n\n\n# 8) 不要设置allowrunninginsecurecontent为true\n\nelectron的默认值即是建议值。\n\n默认情况下，electron不允许网站在https中加载或执行非安全源(http) 中的脚本代码、css或插件。 将allowrunninginsecurecontent属性设为true将禁用这种保护。\n\n当网站的初始内容通过https加载并尝试在子请求中加载http的资源时，这被称为\"混合内容\"。\n\n\n# 为什么？\n\n通过https加载会将该资源进行加密传输，以保证其真实性和完整性。 参看只显示安全内容这节以获得更多信息。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainwindow = new browserwindow({\n  webpreferences: {\n    allowrunninginsecurecontent: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// 推荐\nconst mainwindow = new browserwindow({})\n\n\n1\n2\n\n\n\n# 9) 不要开启实验室特性\n\nelectron的默认值即是建议值。\n\nelectron 的熟练用户可以通过 experimentalfeatures 属性来启用 chromium 实验性功能。\n\n\n# 为什么？\n\n如名称所示，实验性功能是实验性的，尚未对所有 chromium 用户启用。 此外，它们对整个 electron 的影响很可能没有经过测试。\n\n尽管存在合理的使用场景，但是除非你知道你自己在干什么，否则你不应该开启这个属性。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainwindow = new browserwindow({\n  webpreferences: {\n    experimentalfeatures: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// 推荐\nconst mainwindow = new browserwindow({})\n\n\n1\n2\n\n\n\n# 10) 不要使用enableblinkfeatures\n\nelectron的默认值即是建议值。\n\nblink是chromium里的渲染引擎名称。 就像experimentalfeatures一样，enableblinkfeatures属性将使开发者启用被默认禁用的特性。\n\n\n# 为什么？\n\n通常来说，某个特性默认不被开启肯定有其合理的原因。 针对特定特性的合理使用场景是存在的。 作为开发者，你应该非常明白你为何要开启它，有什么后果，以及对你应用安全性的影响。 在任何情况下都不应该推测性的开启特性。\n\n\n# 怎么做？\n\n// 不推荐\nconst mainwindow = new browserwindow({\n  webpreferences: {\n    enableblinkfeatures: 'execcommandinjavascript'\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n// 推荐\nconst mainwindow = new browserwindow()\n\n\n1\n2\n\n\n\n# 11) 不要使用allowpopups\n\nelectron的默认值即是建议值。\n\n如果您正在使用 <webview> ，您可能需要页面和脚本加载进您的 <webview> 标签以打开新窗口。 开启allowpopups属性将使得browserwindows可以通过window.open()方法创建。 否则， <webview> 标签内不允许创建新窗口。\n\n\n# 为什么？\n\n如果你不需要弹窗，最好使用默认值以关闭新browserwindows的创建。 以下是最低的权限要求原则：若非必要，不要再网站中创建新窗口。\n\n\n# 怎么做？\n\n\x3c!-- 不推荐 --\x3e\n<webview allowpopups src=\"page.html\"></webview>\n\n\x3c!-- 推荐 --\x3e\n<webview src=\"page.html\"></webview>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 12) 创建webview前确认其选项\n\n通过渲染进程创建的webview是不开启node.js集成的，且也不能由自身开启。 但是，webview可以通过其webpreferences属性创建一个独立的渲染进程。\n\n通过控制主进程中创建新的<webview>，并确认其webpreferences没有禁用安全相关特性是个不错的办法。\n\n\n# 为什么？\n\n由于 <webview> 存在在dom中，因此即使node继承被禁用，它也可以通过运行在您的 网站上的脚本创建它们。\n\nelectron 可以让开发者关闭各种控制渲染进程的安全特性。 通常情况下，开发者并不需要关闭他们中的任何一种 - 因此你不应该允许创建不同配置的<webview>标签\n\n\n# 怎么做？\n\n在 <webview>标签生效前，electron将产生一个will-attach-webview事件到webcontents中。 利用这个事件来阻止可能含有不安全选项的 webviews 创建。\n\napp.on('web-contents-created', (event, contents) => {\n  contents.on('will-attach-webview', (event, webpreferences, params) => {\n    // strip away preload scripts if unused or verify their location is legitimate\n    delete webpreferences.preload\n    delete webpreferences.preloadurl\n\n    // disable node.js integration\n    webpreferences.nodeintegration = false\n\n    // verify url being loaded\n    if (!params.src.startswith('https://example.com/')) {\n      event.preventdefault()\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n不过，这个清单只是将风险降低到最低限度，但没有将其消除。 如果您的目标是展示一个网站，浏览器将是一个更安全的选择。\n\n\n# 13) disable or limit navigation\n\nif your app has no need to navigate or only needs to navigate to known pages, it is a good idea to limit navigation outright to that known scope, disallowing any other kinds of navigation.\n\n\n# 为什么？\n\nnavigation is a common attack vector. if an attacker can convince your app to navigate away from its current page, they can possibly force your app to open web sites on the internet. even if your webcontents are configured to be more secure (like having nodeintegration disabled or contextisolation enabled), getting your app to open a random web site will make the work of exploiting your app a lot easier.\n\na common attack pattern is that the attacker convinces your app's users to interact with the app in such a way that it navigates to one of the attacker's pages. this is usually done via links, plugins, or other user-generated content.\n\n\n# 怎么做？\n\n如果您的应用不需要导航，您可以在 will-navigate 处理器中调用 event.preventdefault()。 if you know which pages your app might navigate to, check the url in the event handler and only let navigation occur if it matches the urls you're expecting.\n\nwe recommend that you use node's parser for urls. 简单的字符串比较有时会出错 - startswith('https://example.com')测试会让https://example.com.attacker.com通过.\n\nconst url = require('url').url\n\napp.on('web-contents-created', (event, contents) => {\n  contents.on('will-navigate', (event, navigationurl) => {\n    const parsedurl = new url(navigationurl)\n\n    if (parsedurl.origin !== 'https://example.com') {\n      event.preventdefault()\n    }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 14) 禁用或限制新窗口的创建\n\nif you have a known set of windows, it's a good idea to limit the creation of additional windows in your app.\n\n\n# 为什么？\n\nmuch like navigation, the creation of new webcontents is a common attack vector. attackers attempt to convince your app to create new windows, frames, or other renderer processes with more privileges than they had before; or with pages opened that they couldn't open before.\n\nif you have no need to create windows in addition to the ones you know you'll need to create, disabling the creation buys you a little bit of extra security at no cost. this is commonly the case for apps that open one browserwindow and do not need to open an arbitrary number of additional windows at runtime.\n\n\n# 怎么做？\n\nwebcontents将会在新窗口创建前传递给 打开窗口的处理函数。 the handler will receive, amongst other parameters, the url the window was requested to open and the options used to create it. we recommend that you register a handler to monitor the creation of windows, and deny any unexpected window creation.\n\nconst { shell } = require('electron')\n\napp.on('web-contents-created', (event, contents) => {\n  contents.setwindowopenhandler(({ url }) => {\n    // in this example, we'll ask the operating system\n    // to open this event's url in the default browser.\n    //\n    // see the following item for considerations regarding what\n    // urls should be allowed through to shell.openexternal.\n    if (issafeforexternalopen(url)) {\n      setimmediate(() => {\n        shell.openexternal(url)\n      })\n    }\n\n    return { action: 'deny' }\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 15) 不要使用 openexternal 打开含有不可信任内容\n\nshell 的 openexternal 允许使用桌面的原生工具打开指定的协议 uri。 例如，在 macos 上，此功能与 open 终端命令实用程序类似，将基于 uri 和文件类型关联打开特定的应用程序。\n\n\n# 为什么？\n\n错误使用 openexternal 会危害用户的主机 当 openexternal 使用内容不受信任时，它可以用来执行任意命令。\n\n\n# 怎么做？\n\n//  bad\nconst { shell } = require('electron')\nshell.openexternal(user_controlled_data_here)\n\n\n1\n2\n3\n\n\n//  good\nconst { shell } = require('electron')\nshell.openexternal('https://example.com/index.html')\n\n\n1\n2\n3\n\n\n\n# 16) 使用当前版本的 electron\n\n你应该尽可能使用最新版本的 electron。 每当发布新的主要版本时，你应该尝试尽快更新您的应用。\n\n\n# 为什么？\n\n一个使用 electron、chromium 和 node.js 的旧版本构建的应用程序比使用这些组件的最新版本的应用程序更容易成为目标。 generally speaking, security issues and exploits for older versions of chromium and node.js are more widely available.\n\nchromium 和 node.js 都是数千名有才华的开发者建造的令人印象深刻的工程。 鉴于他们受欢迎的程度，他们的安全性都经过专业的安全研究人员仔细的测试和分析。 其中许多研究人员负责任地披露漏洞，这通常意味着研究人员会给 chromium 和 node.js 一些时间来修复问题，然后再发布它们。 如果你的应用程序运行的是 electron 的最新版本 (包括 chromium 和 node.js)，你的应用程序将更加安全，因为潜在的安全问题并不广为人知。",charsets:{cjk:!0}},{title:"snapcraft",frontmatter:{title:"snapcraft",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/a0f3c3/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/snapcraft.html",relativePath:"《Electron中文文档》/tutorial/snapcraft.md",key:"v-2d3f34c8",path:"/pages/a0f3c3/",headers:[{level:2,title:"背景和要求",slug:"背景和要求",normalizedTitle:"背景和要求",charIndex:96},{level:2,title:"使用 electron-installer-snap",slug:"使用-electron-installer-snap",normalizedTitle:"使用 electron-installer-snap",charIndex:313},{level:3,title:"步骤 1: 打包你的 Electron 应用程序",slug:"步骤-1-打包你的-electron-应用程序",normalizedTitle:"步骤 1: 打包你的 electron 应用程序",charIndex:590},{level:3,title:"步骤 2: 运行 electron-installer-snap",slug:"步骤-2-运行-electron-installer-snap",normalizedTitle:"步骤 2: 运行 electron-installer-snap",charIndex:1176},{level:2,title:"Using snapcraft with electron-packager",slug:"using-snapcraft-with-electron-packager",normalizedTitle:"using snapcraft with electron-packager",charIndex:1766},{level:3,title:"第 1 步：创建示例 Snapcraft 项目",slug:"第-1-步-创建示例-snapcraft-项目",normalizedTitle:"第 1 步：创建示例 snapcraft 项目",charIndex:1809},{level:3,title:"第 2 步：构建 snap",slug:"第-2-步-构建-snap",normalizedTitle:"第 2 步：构建 snap",charIndex:3189},{level:3,title:"第 3 步：安装 snap",slug:"第-3-步-安装-snap",normalizedTitle:"第 3 步：安装 snap",charIndex:3302},{level:3,title:"第 4 步：运行 snap",slug:"第-4-步-运行-snap",normalizedTitle:"第 4 步：运行 snap",charIndex:3401},{level:2,title:"使用一个现有的 Debian 包",slug:"使用一个现有的-debian-包",normalizedTitle:"使用一个现有的 debian 包",charIndex:3455},{level:3,title:"步骤 1: 创建一个 Debian 包",slug:"步骤-1-创建一个-debian-包",normalizedTitle:"步骤 1: 创建一个 debian 包",charIndex:3716},{level:3,title:"步骤 2: 创建一个 snapcraft.yaml",slug:"步骤-2-创建一个-snapcraft-yaml",normalizedTitle:"步骤 2: 创建一个 snapcraft.yaml",charIndex:4e3}],headersStr:"背景和要求 使用 electron-installer-snap 步骤 1: 打包你的 Electron 应用程序 步骤 2: 运行 electron-installer-snap Using snapcraft with electron-packager 第 1 步：创建示例 Snapcraft 项目 第 2 步：构建 snap 第 3 步：安装 snap 第 4 步：运行 snap 使用一个现有的 Debian 包 步骤 1: 创建一个 Debian 包 步骤 2: 创建一个 snapcraft.yaml",content:"# Snapcraft Guide (Linux)\n\n本指南提供了有关如何包装你的 Electron 应用程序的任何 Snapcraft 环境, 包括 Ubuntu 软件中心的信息。\n\n\n# 背景和要求\n\n与更广泛的 Linux 社区一起, 规范旨在解决 snapcraft 项目中的许多常见的软件安装问题。 Snaps 是容器化的软件包, 包括所需的依赖项、自动更新和对所有主要 Linux 发行版的工作, 而无需进行系统修改。\n\n创建 .snap 文件有三种方法:\n\n 1. 使用 electron-forge 或 electron-builder, 与 snap 支持的两个工具都不在该框中。 这是最简单的选择。 2) 使用 electron-installer-snap, 它采用 electron-packager 的输出。 3) 使用已经创建的 .deb 包。\n\n在某些情况下，您需要安装 snapcraft 工具。 安装特定发行版的 snapcraft 的指南在这里能看到。\n\n\n# 使用 electron-installer-snap\n\n该模块的工作原理与electron-winstaller类似 因为它的范围仅限于构建捕捉包。 你可以这样安装:\n\nnpm install --save-dev electron-installer-snap\n\n\n1\n\n\n\n# 步骤 1: 打包你的 Electron 应用程序\n\n打包应用程序使用 electron-packager (或类似工具)。 Make sure to remove node_modules that you don't need in your final application, since any module you don't actually need will increase your application's size.\n\n结构输出应该看起来大致像这样:\n\n.\n└── dist\n    └── app-linux-x64\n        ├── LICENSE\n        ├── LICENSES.chromium.html\n        ├── content_shell.pak\n        ├── app\n        ├── icudtl.dat\n        ├── libgcrypt.so.11\n        ├── libnode.so\n        ├── locales\n        ├── resources\n        ├── v8_context_snapshot.bin\n        └── version\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 步骤 2: 运行 electron-installer-snap\n\nFrom a terminal that has snapcraft in its PATH, run electron-installer-snap with the only required parameter --src, which is the location of your packaged Electron application created in the first step.\n\nnpx electron-installer-snap --src=out/myappname-linux-x64\n\n\n1\n\n\nIf you have an existing build pipeline, you can use electron-installer-snap programmatically. For more information, see the Snapcraft API docs.\n\nconst snap = require('electron-installer-snap')\n\nsnap(options)\n  .then(snapPath => console.log(`Created snap at ${snapPath}!`))\n\n\n1\n2\n3\n4\n\n\n\n# Using snapcraft with electron-packager\n\n\n# 第 1 步：创建示例 Snapcraft 项目\n\n创建你的项目目录并将以下内容添加到 snap/snapcraft.yaml：\n\nname: electron-packager-hello-world\nversion: '0.1'\nsummary: Hello World Electron app\ndescription: |\n  Simple Hello World Electron app as an example\nbase: core18\nconfinement: strict\ngrade: stable\n\napps:\n  electron-packager-hello-world:\n    command: electron-quick-start/electron-quick-start --no-sandbox\n    extensions: [gnome-3-34]\n    plugs:\n    - browser-support\n    - network\n    - network-bind\n    environment:\n      # Correct the TMPDIR path for Chromium Framework/Electron to ensure\n      # libappindicator has readable resources.\n      TMPDIR: $XDG_RUNTIME_DIR\n\nparts:\n  electron-quick-start:\n    plugin: nil\n    source: https://github.com/electron/electron-quick-start.git\n    override-build: |\n        npm install electron electron-packager\n        npx electron-packager . --overwrite --platform=linux --output=release-build --prune=true\n        cp -rv ./electron-quick-start-linux-* $SNAPCRAFT_PART_INSTALL/electron-quick-start\n    build-snaps:\n    - node/14/stable\n    build-packages:\n    - unzip\n    stage-packages:\n    - libnss3\n    - libnspr4\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n如果要将此示例应用于现有项目：\n\n * 替代 source: https://github.com/electron/electron-quick-start.git</0 > 为 <code>source: ...\n * 替代所有的 electron-quick-start 为你的项目名称。\n\n\n# 第 2 步：构建 snap\n\n$ snapcraft\n\n<output snipped>\nSnapped electron-packager-hello-world_0.1_amd64.snap\n\n\n1\n2\n3\n4\n\n\n\n# 第 3 步：安装 snap\n\nsudo snap install electron-packager-hello-world_0.1_amd64.snap --dangerous\n\n\n1\n\n\n\n# 第 4 步：运行 snap\n\nelectron-packager-hello-world\n\n\n1\n\n\n\n# 使用一个现有的 Debian 包\n\nSnapcraft is capable of taking an existing .deb file and turning it into a .snap file. The creation of a snap is configured using a snapcraft.yaml file that describes the sources, dependencies, description, and other core building blocks.\n\n\n# 步骤 1: 创建一个 Debian 包\n\nIf you do not already have a .deb package, using electron-installer-snap might be an easier path to create snap packages. However, multiple solutions for creating Debian packages exist, including electron-forge, electron-builder or electron-installer-debian.\n\n\n# 步骤 2: 创建一个 snapcraft.yaml\n\nFor more information on the available configuration options, see the documentation on the snapcraft syntax. Let's look at an example:\n\nname: myApp\nversion: '2.0.0'\nsummary: A little description for the app.\ndescription: |\n You know what? This app is amazing! It does all the things\n for you. Some say it keeps you young, maybe even happy.\n\ngrade: stable\nconfinement: classic\n\nparts:\n  slack:\n    plugin: dump\n    source: my-deb.deb\n    source-type: deb\n    after:\n      - desktop-gtk3\n    stage-packages:\n      - libasound2\n      - libnotify4\n      - libnspr4\n      - libnss3\n      - libpcre3\n      - libpulse0\n      - libxss1\n      - libxtst6\n  electron-launch:\n    plugin: dump\n    source: files/\n    prepare: |\n      chmod +x bin/electron-launch\n\napps:\n  myApp:\n    command: bin/electron-launch $SNAP/usr/lib/myApp/myApp\n    desktop: usr/share/applications/myApp.desktop\n    # Correct the TMPDIR path for Chromium Framework/Electron to ensure\n    # libappindicator has readable resources.\n    environment:\n      TMPDIR: $XDG_RUNTIME_DIR\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nAs you can see, the snapcraft.yaml instructs the system to launch a file called electron-launch. In this example, it passes information on to the app's binary:\n\n#!/bin/sh\n\nexec \"$@\" --executed-from=\"$(pwd)\" --pid=$$ > /dev/null 2>&1 &\n\n\n1\n2\n3\n\n\nAlternatively, if you're building your snap with strict confinement, you can use the desktop-launch command:\n\napps:\n  myApp:\n    # Correct the TMPDIR path for Chromium Framework/Electron to ensure\n    # libappindicator has readable resources.\n    command: env TMPDIR=$XDG_RUNTIME_DIR PATH=/usr/local/bin:${PATH} ${SNAP}/bin/desktop-launch $SNAP/myApp/desktop\n    desktop: usr/share/applications/desktop.desktop\n\n\n1\n2\n3\n4\n5\n6\n",normalizedContent:"# snapcraft guide (linux)\n\n本指南提供了有关如何包装你的 electron 应用程序的任何 snapcraft 环境, 包括 ubuntu 软件中心的信息。\n\n\n# 背景和要求\n\n与更广泛的 linux 社区一起, 规范旨在解决 snapcraft 项目中的许多常见的软件安装问题。 snaps 是容器化的软件包, 包括所需的依赖项、自动更新和对所有主要 linux 发行版的工作, 而无需进行系统修改。\n\n创建 .snap 文件有三种方法:\n\n 1. 使用 electron-forge 或 electron-builder, 与 snap 支持的两个工具都不在该框中。 这是最简单的选择。 2) 使用 electron-installer-snap, 它采用 electron-packager 的输出。 3) 使用已经创建的 .deb 包。\n\n在某些情况下，您需要安装 snapcraft 工具。 安装特定发行版的 snapcraft 的指南在这里能看到。\n\n\n# 使用 electron-installer-snap\n\n该模块的工作原理与electron-winstaller类似 因为它的范围仅限于构建捕捉包。 你可以这样安装:\n\nnpm install --save-dev electron-installer-snap\n\n\n1\n\n\n\n# 步骤 1: 打包你的 electron 应用程序\n\n打包应用程序使用 electron-packager (或类似工具)。 make sure to remove node_modules that you don't need in your final application, since any module you don't actually need will increase your application's size.\n\n结构输出应该看起来大致像这样:\n\n.\n└── dist\n    └── app-linux-x64\n        ├── license\n        ├── licenses.chromium.html\n        ├── content_shell.pak\n        ├── app\n        ├── icudtl.dat\n        ├── libgcrypt.so.11\n        ├── libnode.so\n        ├── locales\n        ├── resources\n        ├── v8_context_snapshot.bin\n        └── version\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 步骤 2: 运行 electron-installer-snap\n\nfrom a terminal that has snapcraft in its path, run electron-installer-snap with the only required parameter --src, which is the location of your packaged electron application created in the first step.\n\nnpx electron-installer-snap --src=out/myappname-linux-x64\n\n\n1\n\n\nif you have an existing build pipeline, you can use electron-installer-snap programmatically. for more information, see the snapcraft api docs.\n\nconst snap = require('electron-installer-snap')\n\nsnap(options)\n  .then(snappath => console.log(`created snap at ${snappath}!`))\n\n\n1\n2\n3\n4\n\n\n\n# using snapcraft with electron-packager\n\n\n# 第 1 步：创建示例 snapcraft 项目\n\n创建你的项目目录并将以下内容添加到 snap/snapcraft.yaml：\n\nname: electron-packager-hello-world\nversion: '0.1'\nsummary: hello world electron app\ndescription: |\n  simple hello world electron app as an example\nbase: core18\nconfinement: strict\ngrade: stable\n\napps:\n  electron-packager-hello-world:\n    command: electron-quick-start/electron-quick-start --no-sandbox\n    extensions: [gnome-3-34]\n    plugs:\n    - browser-support\n    - network\n    - network-bind\n    environment:\n      # correct the tmpdir path for chromium framework/electron to ensure\n      # libappindicator has readable resources.\n      tmpdir: $xdg_runtime_dir\n\nparts:\n  electron-quick-start:\n    plugin: nil\n    source: https://github.com/electron/electron-quick-start.git\n    override-build: |\n        npm install electron electron-packager\n        npx electron-packager . --overwrite --platform=linux --output=release-build --prune=true\n        cp -rv ./electron-quick-start-linux-* $snapcraft_part_install/electron-quick-start\n    build-snaps:\n    - node/14/stable\n    build-packages:\n    - unzip\n    stage-packages:\n    - libnss3\n    - libnspr4\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n如果要将此示例应用于现有项目：\n\n * 替代 source: https://github.com/electron/electron-quick-start.git</0 > 为 <code>source: ...\n * 替代所有的 electron-quick-start 为你的项目名称。\n\n\n# 第 2 步：构建 snap\n\n$ snapcraft\n\n<output snipped>\nsnapped electron-packager-hello-world_0.1_amd64.snap\n\n\n1\n2\n3\n4\n\n\n\n# 第 3 步：安装 snap\n\nsudo snap install electron-packager-hello-world_0.1_amd64.snap --dangerous\n\n\n1\n\n\n\n# 第 4 步：运行 snap\n\nelectron-packager-hello-world\n\n\n1\n\n\n\n# 使用一个现有的 debian 包\n\nsnapcraft is capable of taking an existing .deb file and turning it into a .snap file. the creation of a snap is configured using a snapcraft.yaml file that describes the sources, dependencies, description, and other core building blocks.\n\n\n# 步骤 1: 创建一个 debian 包\n\nif you do not already have a .deb package, using electron-installer-snap might be an easier path to create snap packages. however, multiple solutions for creating debian packages exist, including electron-forge, electron-builder or electron-installer-debian.\n\n\n# 步骤 2: 创建一个 snapcraft.yaml\n\nfor more information on the available configuration options, see the documentation on the snapcraft syntax. let's look at an example:\n\nname: myapp\nversion: '2.0.0'\nsummary: a little description for the app.\ndescription: |\n you know what? this app is amazing! it does all the things\n for you. some say it keeps you young, maybe even happy.\n\ngrade: stable\nconfinement: classic\n\nparts:\n  slack:\n    plugin: dump\n    source: my-deb.deb\n    source-type: deb\n    after:\n      - desktop-gtk3\n    stage-packages:\n      - libasound2\n      - libnotify4\n      - libnspr4\n      - libnss3\n      - libpcre3\n      - libpulse0\n      - libxss1\n      - libxtst6\n  electron-launch:\n    plugin: dump\n    source: files/\n    prepare: |\n      chmod +x bin/electron-launch\n\napps:\n  myapp:\n    command: bin/electron-launch $snap/usr/lib/myapp/myapp\n    desktop: usr/share/applications/myapp.desktop\n    # correct the tmpdir path for chromium framework/electron to ensure\n    # libappindicator has readable resources.\n    environment:\n      tmpdir: $xdg_runtime_dir\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nas you can see, the snapcraft.yaml instructs the system to launch a file called electron-launch. in this example, it passes information on to the app's binary:\n\n#!/bin/sh\n\nexec \"$@\" --executed-from=\"$(pwd)\" --pid=$$ > /dev/null 2>&1 &\n\n\n1\n2\n3\n\n\nalternatively, if you're building your snap with strict confinement, you can use the desktop-launch command:\n\napps:\n  myapp:\n    # correct the tmpdir path for chromium framework/electron to ensure\n    # libappindicator has readable resources.\n    command: env tmpdir=$xdg_runtime_dir path=/usr/local/bin:${path} ${snap}/bin/desktop-launch $snap/myapp/desktop\n    desktop: usr/share/applications/desktop.desktop\n\n\n1\n2\n3\n4\n5\n6\n",charsets:{cjk:!0}},{title:"spellchecker",frontmatter:{title:"spellchecker",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/8be765/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/spellchecker.html",relativePath:"《Electron中文文档》/tutorial/spellchecker.md",key:"v-a52dd74c",path:"/pages/8be765/",headers:[{level:2,title:"How to enable the spellchecker?",slug:"how-to-enable-the-spellchecker",normalizedTitle:"how to enable the spellchecker?",charIndex:172},{level:2,title:"How to set the languages the spellchecker uses?",slug:"how-to-set-the-languages-the-spellchecker-uses",normalizedTitle:"how to set the languages the spellchecker uses?",charIndex:393},{level:2,title:"How do I put the results of the spellchecker in my context menu?",slug:"how-do-i-put-the-results-of-the-spellchecker-in-my-context-menu",normalizedTitle:"how do i put the results of the spellchecker in my context menu?",charIndex:965},{level:2,title:"Does the spellchecker use any Google services?",slug:"does-the-spellchecker-use-any-google-services",normalizedTitle:"does the spellchecker use any google services?",charIndex:1939}],headersStr:"How to enable the spellchecker? How to set the languages the spellchecker uses? How do I put the results of the spellchecker in my context menu? Does the spellchecker use any Google services?",content:"# 拼写检查器\n\n自 Electron 8 以来已内置支持 Chromium 拼写检查器。 On Windows and Linux this is powered by Hunspell dictionaries, and on macOS it makes use of the native spellchecker APIs.\n\n\n# How to enable the spellchecker?\n\n对于 Electron 9 及以上，默认启用拼写检查器。 For Electron 8 you need to enable it in webPreferences.\n\nconst myWindow = new BrowserWindow({\n  webPreferences: {\n    spellcheck: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# How to set the languages the spellchecker uses?\n\nOn macOS as we use the native APIs there is no way to set the language that the spellchecker uses. 默认情况下，macOS 本机拼写检查器会自动检测您使用的语言。\n\n对于 Windows 和 Linux，你应该使用一些 Electron API 来设置拼写检查器的语言。\n\n// Sets the spellchecker to check English US and French\nmyWindow.session.setSpellCheckerLanguages(['en-US', 'fr'])\n\n// An array of all available language codes\nconst possibleLanguages = myWindow.session.availableSpellCheckerLanguages\n\n\n1\n2\n3\n4\n5\n\n\nBy default the spellchecker will enable the language matching the current OS locale.\n\n\n# How do I put the results of the spellchecker in my context menu?\n\nAll the required information to generate a context menu is provided in the context-menu event on each webContents instance. 下面提供了一个小的示例，如何用此信息制作上下文菜单。\n\nconst { Menu, MenuItem } = require('electron')\n\nmyWindow.webContents.on('context-menu', (event, params) => {\n  const menu = new Menu()\n\n  // Add each spelling suggestion\n  for (const suggestion of params.dictionarySuggestions) {\n    menu.append(new MenuItem({\n      label: suggestion,\n      click: () => mainWindow.webContents.replaceMisspelling(suggestion)\n    }))\n  }\n\n  // Allow users to add the misspelled word to the dictionary\n  if (params.misspelledWord) {\n    menu.append(\n      new MenuItem({\n        label: 'Add to dictionary',\n        click: () => mainWindow.webContents.session.addWordToSpellCheckerDictionary(params.misspelledWord)\n      })\n    )\n  }\n\n  menu.popup()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# Does the spellchecker use any Google services?\n\n虽然拼写检查器本身没有发送任何输入， 单词或用户输入到谷歌服务中，hunspell 字典文件默认从谷歌 CDN 下载。 如果你想要避免这种情况，你可以提供一个替代 URL 来下载字典。\n\nmyWindow.session.setSpellCheckerDictionaryDownloadURL('https://example.com/dictionaries/')\n\n\n1\n\n\nCheck out the docs for session.setSpellCheckerDictionaryDownloadURL for more information on where to get the dictionary files from and how you need to host them.",normalizedContent:"# 拼写检查器\n\n自 electron 8 以来已内置支持 chromium 拼写检查器。 on windows and linux this is powered by hunspell dictionaries, and on macos it makes use of the native spellchecker apis.\n\n\n# how to enable the spellchecker?\n\n对于 electron 9 及以上，默认启用拼写检查器。 for electron 8 you need to enable it in webpreferences.\n\nconst mywindow = new browserwindow({\n  webpreferences: {\n    spellcheck: true\n  }\n})\n\n\n1\n2\n3\n4\n5\n\n\n\n# how to set the languages the spellchecker uses?\n\non macos as we use the native apis there is no way to set the language that the spellchecker uses. 默认情况下，macos 本机拼写检查器会自动检测您使用的语言。\n\n对于 windows 和 linux，你应该使用一些 electron api 来设置拼写检查器的语言。\n\n// sets the spellchecker to check english us and french\nmywindow.session.setspellcheckerlanguages(['en-us', 'fr'])\n\n// an array of all available language codes\nconst possiblelanguages = mywindow.session.availablespellcheckerlanguages\n\n\n1\n2\n3\n4\n5\n\n\nby default the spellchecker will enable the language matching the current os locale.\n\n\n# how do i put the results of the spellchecker in my context menu?\n\nall the required information to generate a context menu is provided in the context-menu event on each webcontents instance. 下面提供了一个小的示例，如何用此信息制作上下文菜单。\n\nconst { menu, menuitem } = require('electron')\n\nmywindow.webcontents.on('context-menu', (event, params) => {\n  const menu = new menu()\n\n  // add each spelling suggestion\n  for (const suggestion of params.dictionarysuggestions) {\n    menu.append(new menuitem({\n      label: suggestion,\n      click: () => mainwindow.webcontents.replacemisspelling(suggestion)\n    }))\n  }\n\n  // allow users to add the misspelled word to the dictionary\n  if (params.misspelledword) {\n    menu.append(\n      new menuitem({\n        label: 'add to dictionary',\n        click: () => mainwindow.webcontents.session.addwordtospellcheckerdictionary(params.misspelledword)\n      })\n    )\n  }\n\n  menu.popup()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# does the spellchecker use any google services?\n\n虽然拼写检查器本身没有发送任何输入， 单词或用户输入到谷歌服务中，hunspell 字典文件默认从谷歌 cdn 下载。 如果你想要避免这种情况，你可以提供一个替代 url 来下载字典。\n\nmywindow.session.setspellcheckerdictionarydownloadurl('https://example.com/dictionaries/')\n\n\n1\n\n\ncheck out the docs for session.setspellcheckerdictionarydownloadurl for more information on where to get the dictionary files from and how you need to host them.",charsets:{cjk:!0}},{title:"support",frontmatter:{title:"support",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/d8fa9d/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/support.html",relativePath:"《Electron中文文档》/tutorial/support.md",key:"v-0c59c83c",path:"/pages/d8fa9d/",headers:[{level:2,title:"寻找技术支持",slug:"寻找技术支持",normalizedTitle:"寻找技术支持",charIndex:19},{level:2,title:"支持版",slug:"支持版",normalizedTitle:"支持版",charIndex:527},{level:3,title:"当前支持的版本",slug:"当前支持的版本",normalizedTitle:"当前支持的版本",charIndex:2069},{level:3,title:"服务终止",slug:"服务终止",normalizedTitle:"服务终止",charIndex:2118},{level:2,title:"支持平台",slug:"支持平台",normalizedTitle:"支持平台",charIndex:2554},{level:3,title:"macOS",slug:"macos",normalizedTitle:"macos",charIndex:2584},{level:3,title:"Windows",slug:"windows",normalizedTitle:"windows",charIndex:2700},{level:3,title:"Linux",slug:"linux",normalizedTitle:"linux",charIndex:2930}],headersStr:"寻找技术支持 支持版 当前支持的版本 服务终止 支持平台 macOS Windows Linux",content:"# Electron技术支持\n\n\n# 寻找技术支持\n\n如果您有安全方面的问题，请参阅 安全文档\n\n如果你想获得编程方面的帮助、问题的答案亦或是想要加入Electron的开发者大家庭，您可以参考以下链接：\n\n * Electron's Discord has channels for:\n   * 寻求帮助\n   * Ecosystem apps like Electron Forge and Electron Fiddle\n   * Sharing ideas with other Electron app developers\n   * 以及更多！\n * electron 各种 Atom 论坛\n * #electron Atom's Slack上的频道\n * electron-ru (俄语版)\n * electron-br (巴西葡语版)\n * electron-kr (韩语版)\n * electron-jp (日语版)\n * electron-tr (土耳其语版)\n * electron-id (印尼语版)\n * electron-pl (波兰语版)\n\n如果你有意为加入Electron的开发，可参阅贡献文档\n\n如果你在Electron的支持版中发现漏洞，请在问题追踪中提交你发现的漏洞。\n\nawesome-electron是一个社区维护的示例程序列表。\n\n\n# 支持版\n\nNote: Beginning in September 2021 with Electron 15, the Electron team will temporarily support the latest four stable major versions. This extended support is intended to help Electron developers transition to the new eight week release cadence, and will continue until May 2022, with the release of Electron 19. At that time, the Electron team will drop support back to the latest three stable major versions.\n\n最新的 3 个稳定的的版本受 Electron 团队支持。 例如，如果最新版本是 6.1.x，则包括 5.0.x和 4.2.x系列的同样会被支持 We only support the latest minor release for each stable release series. This means that in the case of a security fix 6.1.x will receive the fix, but we will not release a new version of 6.0.x.\n\nThe latest stable release unilaterally receives all fixes from main, and the version prior to that receives the vast majority of those fixes as time and bandwidth warrants. The oldest supported release line will receive only security fixes directly.\n\nAll supported release lines will accept external pull requests to backport fixes previously merged to main, though this may be on a case-by-case basis for some older supported lines. All contested decisions around release line backports will be resolved by the Releases Working Group as an agenda item at their weekly meeting the week the backport PR is raised.\n\n当一个API的改动或移除会导致某个现有功能被破坏时，这个现有功能在被移除之前，仍然会在至少两个主要版本号内得到尽可能的支持。 比如，某个函数需要三个参数，而在主要版本10中，它被修改为需要两个参数，那么这个函数的三参数版本仍然会被支持，至少持续到主要版本12。 经过两个主要版本后，我们仍会尝试支持后向兼容，直到维护成本高得难以承受而无法继续支持。\n\n\n# 当前支持的版本\n\n * 15.x.y\n * 14.x.y\n * 13.x.y\n * 12\n\n\n# 服务终止\n\n当一个发行分支达到了其支持周期的末尾，该序列将会在NPM中弃用，且会发布一个最终的“结束支持”版本。 这个版本将会添加一个警告以通知正在使用一个不受支持的Electron版本。\n\n这些步骤是用于帮助应用开发者了解他们使用的分支不受支持，而不会过分打扰最终用户。\n\n如果一个应用有特殊情况并需要保持使用一个不受支持的Electron版本，开发者可以通过忽略来自应用的package.json devDependencies的最终版本以关闭结束支持警告。 For example, since the 1-6-x series ended with an end-of-support 1.6.18 release, developers could choose to stay in the 1-6-x series without warnings with devDependency of \"electron\": 1.6.0 - 1.6.17.\n\n\n# 支持平台\n\n目前 Electron 支持以下平台：\n\n\n# macOS\n\n对 macOS 仅提供64位版本，并且只支持 macOS 10.11 (El Capitan) 以及更高版本。\n\nElectron 11.0.0 已原生支持 Apple Silicon (arm64) 设备。\n\n\n# Windows\n\n仅支持 Windows 7 或更高版本, 旧版操作系统已不再支持(并且无法运行).\n\n为Windows系统提供ia32 (x86) 和 x64 (amd64) 两种二进制版本。 Electron 6.0.8 已原生支持 Windows on Arm (arm64) 设备。 Running apps packaged with previous versions is possible using the ia32 binary.\n\n\n# Linux\n\n在 Ubuntu 18.04 上预构建的二进制文件。\n\n预编译版本是否能够正常运行，取决于其中是否包含了编译平台的链接库。所以只有 Ubuntu 18.04 是可以保证能正常运行的，并且以下平台也被证实可以正常运行 Electron 的预编译版本：\n\n * Ubuntu 14.04 或更高版本\n * Fedora 24 或更高版本\n * Debian 8 或更高版本",normalizedContent:"# electron技术支持\n\n\n# 寻找技术支持\n\n如果您有安全方面的问题，请参阅 安全文档\n\n如果你想获得编程方面的帮助、问题的答案亦或是想要加入electron的开发者大家庭，您可以参考以下链接：\n\n * electron's discord has channels for:\n   * 寻求帮助\n   * ecosystem apps like electron forge and electron fiddle\n   * sharing ideas with other electron app developers\n   * 以及更多！\n * electron 各种 atom 论坛\n * #electron atom's slack上的频道\n * electron-ru (俄语版)\n * electron-br (巴西葡语版)\n * electron-kr (韩语版)\n * electron-jp (日语版)\n * electron-tr (土耳其语版)\n * electron-id (印尼语版)\n * electron-pl (波兰语版)\n\n如果你有意为加入electron的开发，可参阅贡献文档\n\n如果你在electron的支持版中发现漏洞，请在问题追踪中提交你发现的漏洞。\n\nawesome-electron是一个社区维护的示例程序列表。\n\n\n# 支持版\n\nnote: beginning in september 2021 with electron 15, the electron team will temporarily support the latest four stable major versions. this extended support is intended to help electron developers transition to the new eight week release cadence, and will continue until may 2022, with the release of electron 19. at that time, the electron team will drop support back to the latest three stable major versions.\n\n最新的 3 个稳定的的版本受 electron 团队支持。 例如，如果最新版本是 6.1.x，则包括 5.0.x和 4.2.x系列的同样会被支持 we only support the latest minor release for each stable release series. this means that in the case of a security fix 6.1.x will receive the fix, but we will not release a new version of 6.0.x.\n\nthe latest stable release unilaterally receives all fixes from main, and the version prior to that receives the vast majority of those fixes as time and bandwidth warrants. the oldest supported release line will receive only security fixes directly.\n\nall supported release lines will accept external pull requests to backport fixes previously merged to main, though this may be on a case-by-case basis for some older supported lines. all contested decisions around release line backports will be resolved by the releases working group as an agenda item at their weekly meeting the week the backport pr is raised.\n\n当一个api的改动或移除会导致某个现有功能被破坏时，这个现有功能在被移除之前，仍然会在至少两个主要版本号内得到尽可能的支持。 比如，某个函数需要三个参数，而在主要版本10中，它被修改为需要两个参数，那么这个函数的三参数版本仍然会被支持，至少持续到主要版本12。 经过两个主要版本后，我们仍会尝试支持后向兼容，直到维护成本高得难以承受而无法继续支持。\n\n\n# 当前支持的版本\n\n * 15.x.y\n * 14.x.y\n * 13.x.y\n * 12\n\n\n# 服务终止\n\n当一个发行分支达到了其支持周期的末尾，该序列将会在npm中弃用，且会发布一个最终的“结束支持”版本。 这个版本将会添加一个警告以通知正在使用一个不受支持的electron版本。\n\n这些步骤是用于帮助应用开发者了解他们使用的分支不受支持，而不会过分打扰最终用户。\n\n如果一个应用有特殊情况并需要保持使用一个不受支持的electron版本，开发者可以通过忽略来自应用的package.json devdependencies的最终版本以关闭结束支持警告。 for example, since the 1-6-x series ended with an end-of-support 1.6.18 release, developers could choose to stay in the 1-6-x series without warnings with devdependency of \"electron\": 1.6.0 - 1.6.17.\n\n\n# 支持平台\n\n目前 electron 支持以下平台：\n\n\n# macos\n\n对 macos 仅提供64位版本，并且只支持 macos 10.11 (el capitan) 以及更高版本。\n\nelectron 11.0.0 已原生支持 apple silicon (arm64) 设备。\n\n\n# windows\n\n仅支持 windows 7 或更高版本, 旧版操作系统已不再支持(并且无法运行).\n\n为windows系统提供ia32 (x86) 和 x64 (amd64) 两种二进制版本。 electron 6.0.8 已原生支持 windows on arm (arm64) 设备。 running apps packaged with previous versions is possible using the ia32 binary.\n\n\n# linux\n\n在 ubuntu 18.04 上预构建的二进制文件。\n\n预编译版本是否能够正常运行，取决于其中是否包含了编译平台的链接库。所以只有 ubuntu 18.04 是可以保证能正常运行的，并且以下平台也被证实可以正常运行 electron 的预编译版本：\n\n * ubuntu 14.04 或更高版本\n * fedora 24 或更高版本\n * debian 8 或更高版本",charsets:{cjk:!0}},{title:"testing-on-headless-ci",frontmatter:{title:"testing-on-headless-ci",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/a66921/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/testing-on-headless-ci.html",relativePath:"《Electron中文文档》/tutorial/testing-on-headless-ci.md",key:"v-060fb43c",path:"/pages/a66921/",headers:[{level:2,title:"配置虚拟显示服务器",slug:"配置虚拟显示服务器",normalizedTitle:"配置虚拟显示服务器",charIndex:242},{level:3,title:"Travis CI",slug:"travis-ci",normalizedTitle:"travis ci",charIndex:26},{level:3,title:"Jenkins",slug:"jenkins",normalizedTitle:"jenkins",charIndex:37},{level:3,title:"Circle CI",slug:"circle-ci",normalizedTitle:"circle ci",charIndex:977},{level:3,title:"AppVeyor",slug:"appveyor",normalizedTitle:"appveyor",charIndex:1096}],headersStr:"配置虚拟显示服务器 Travis CI Jenkins Circle CI AppVeyor",content:"# Headless CI Systems 测试 (Travis CI, Jenkins)\n\nElectron 基于 Chromium，所以需要一个显示驱动使其运转。 如果 Chromium 无法找到一个显示驱动， Electron 会启动失败，因此无论你如何去运行它，Electron 不会执行你的任何测试。 在 Travis，Circle， Jenkins 或者类似的系统上测试基于Electron的应用时，需要进行一些配置。 本质上，我们需要使用一个 虚拟的显示驱动。\n\n\n# 配置虚拟显示服务器\n\n首先安装 Xvfb. 这是一个虚拟的帧缓冲，实现了X11显示服务协议，所有的图形操作都在内存中表现，而不需要显示在 任何屏幕输出设备上。这正是我们所需要的。\n\n然后创建一个虚拟屏幕实例(Xvfb), 并导出 DISPLAY 变量, 该变量存储虚拟屏幕的引用. Electron 中的 Chromium 会自动的去寻找 $DISPLAY，所以你的应用不需要再去进行配置 这一步可以通过 Paul Betts 的 xvfb-maybe 实现自动化：如果系统需要，在xvfb-maybe前加上你的测试命令 然后这个小工具会自动的设置 xvfb。 在 Windows 或 macOS ，它不会执行任何东西。\n\n## 在 Windows 或者 macOS，这只是调用 electron-mocha\n## 在 Linux， 如果我们在一个 headless 环境，这将是等同于\n## 执行 xvfb-run electron-mocha ./test/*.js\nxvfb-maybe electron-mocha ./test/*.js\n\n\n1\n2\n3\n4\n\n\n\n# Travis CI\n\n在 Travis 上, 你的 .travis.yml 应该和下面的代码相似:\n\naddons:\n  apt:\n    packages:\n      - xvfb\n\ninstall:\n  - export DISPLAY=':99.0'\n  - Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# Jenkins\n\nJenkins下, 有一个可用的 Xvfb 插件。\n\n\n# Circle CI\n\nCircle CI is awesome and has Xvfb and $DISPLAY already set up, so no further configuration is required.\n\n\n# AppVeyor\n\nAppVeyor 运行于 Windows 上，支持 Selenium，Chromium，Electron 以及一些类似的工具，开箱即用，无需配置",normalizedContent:"# headless ci systems 测试 (travis ci, jenkins)\n\nelectron 基于 chromium，所以需要一个显示驱动使其运转。 如果 chromium 无法找到一个显示驱动， electron 会启动失败，因此无论你如何去运行它，electron 不会执行你的任何测试。 在 travis，circle， jenkins 或者类似的系统上测试基于electron的应用时，需要进行一些配置。 本质上，我们需要使用一个 虚拟的显示驱动。\n\n\n# 配置虚拟显示服务器\n\n首先安装 xvfb. 这是一个虚拟的帧缓冲，实现了x11显示服务协议，所有的图形操作都在内存中表现，而不需要显示在 任何屏幕输出设备上。这正是我们所需要的。\n\n然后创建一个虚拟屏幕实例(xvfb), 并导出 display 变量, 该变量存储虚拟屏幕的引用. electron 中的 chromium 会自动的去寻找 $display，所以你的应用不需要再去进行配置 这一步可以通过 paul betts 的 xvfb-maybe 实现自动化：如果系统需要，在xvfb-maybe前加上你的测试命令 然后这个小工具会自动的设置 xvfb。 在 windows 或 macos ，它不会执行任何东西。\n\n## 在 windows 或者 macos，这只是调用 electron-mocha\n## 在 linux， 如果我们在一个 headless 环境，这将是等同于\n## 执行 xvfb-run electron-mocha ./test/*.js\nxvfb-maybe electron-mocha ./test/*.js\n\n\n1\n2\n3\n4\n\n\n\n# travis ci\n\n在 travis 上, 你的 .travis.yml 应该和下面的代码相似:\n\naddons:\n  apt:\n    packages:\n      - xvfb\n\ninstall:\n  - export display=':99.0'\n  - xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# jenkins\n\njenkins下, 有一个可用的 xvfb 插件。\n\n\n# circle ci\n\ncircle ci is awesome and has xvfb and $display already set up, so no further configuration is required.\n\n\n# appveyor\n\nappveyor 运行于 windows 上，支持 selenium，chromium，electron 以及一些类似的工具，开箱即用，无需配置",charsets:{cjk:!0}},{title:"testing-widevine-cdm",frontmatter:{title:"testing-widevine-cdm",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/20036a/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/testing-widevine-cdm.html",relativePath:"《Electron中文文档》/tutorial/testing-widevine-cdm.md",key:"v-5b0b0cfc",path:"/pages/20036a/",headers:[{level:4,title:"Note on VMP",slug:"note-on-vmp",normalizedTitle:"note on vmp",charIndex:607},{level:2,title:"Getting the library",slug:"getting-the-library",normalizedTitle:"getting the library",charIndex:1633},{level:3,title:"On Windows",slug:"on-windows",normalizedTitle:"on windows",charIndex:1843},{level:3,title:"在 macOS 中",slug:"在-macos-中",normalizedTitle:"在 macos 中",charIndex:2023},{level:2,title:"Using the library",slug:"using-the-library",normalizedTitle:"using the library",charIndex:2483},{level:2,title:"Verifying Widevine CDM support",slug:"verifying-widevine-cdm-support",normalizedTitle:"verifying widevine cdm support",charIndex:3338}],headersStr:"Note on VMP Getting the library On Windows 在 macOS 中 Using the library Verifying Widevine CDM support",content:"# 测试 Widevine CDM\n\n在 Electron 中，你可以使用 Widevine CDM 库装载 Chrome 浏览器。\n\nWidevine Content Decryption Modules (CDMs) are how streaming services protect content using HTML5 video to web browsers without relying on an NPAPI plugin like Flash or Silverlight. Widevine support is an alternative solution for streaming services that currently rely on Silverlight for playback of DRM-protected video content. It will allow websites to show DRM-protected video content in Firefox without the use of NPAPI plugins. The Widevine CDM runs in an open-source CDM sandbox providing better user security than NPAPI plugins.\n\n# Note on VMP\n\nAs of Electron v1.8.0 (Chrome v59), the below steps are may only be some of the necessary steps to enable Widevine; any app on or after that version intending to use the Widevine CDM may need to be signed using a license obtained from Widevine itself.\n\nPer Widevine:\n\n> Chrome 59 (and later) includes support for Verified Media Path (VMP). VMP provides a method to verify the authenticity of a device platform. For browser deployments, this will provide an additional signal to determine if a browser-based implementation is reliable and secure.\n> \n> The proxy integration guide has been updated with information about VMP and how to issue licenses.\n> \n> Widevine recommends our browser-based integrations (vendors and browser-based applications) add support for VMP.\n\nTo enable video playback with this new restriction, castLabs has created a fork that has implemented the necessary changes to enable Widevine to be played in an Electron application if one has obtained the necessary licenses from widevine.\n\n\n# Getting the library\n\nOpen chrome://components/ in Chrome browser, find Widevine Content Decryption Module and make sure it is up to date, then you can find the library files from the application directory.\n\n\n# On Windows\n\nThe library file widevinecdm.dll will be under Program Files(x86)/Google/Chrome/Application/CHROME_VERSION/WidevineCdm/_platform_specific/win_(x86|x64)/ directory.\n\n\n# 在 macOS 中\n\nThe library file libwidevinecdm.dylib will be under /Applications/Google Chrome.app/Contents/Versions/CHROME_VERSION/Google Chrome Framework.framework/Versions/A/Libraries/WidevineCdm/_platform_specific/mac_(x86|x64)/ directory.\n\nNote: Make sure that chrome version used by Electron is greater than or equal to the min_chrome_version value of Chrome's widevine cdm component. The value can be found in manifest.json under WidevineCdm directory.\n\n\n# Using the library\n\nAfter getting the library files, you should pass the path to the file with --widevine-cdm-path command line switch, and the library's version with --widevine-cdm-version switch. The command line switches have to be passed before the ready event of app module gets emitted.\n\n示例代码：\n\nconst { app, BrowserWindow } = require('electron')\n\n// You have to pass the directory that contains widevine library here, it is\n// * `libwidevinecdm.dylib` on macOS,\n// * `widevinecdm.dll` on Windows.\napp.commandLine.appendSwitch('widevine-cdm-path', '/path/to/widevine_library')\n// The version of plugin can be got from `chrome://components` page in Chrome.\napp.commandLine.appendSwitch('widevine-cdm-version', '1.4.8.866')\n\nlet win = null\napp.whenReady().then(() => {\n  win = new BrowserWindow()\n  win.show()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# Verifying Widevine CDM support\n\nTo verify whether widevine works, you can use following ways:\n\n * 打开 https://shaka-player-demo.appspot.com/ 加载一个使用 Widevine 的 manifest。\n * 打开 http://www.dash-player.com/demo/drm-test-area/，检查是否界面输出 bitdash uses Widevine in your browser，然后播放 video。",normalizedContent:"# 测试 widevine cdm\n\n在 electron 中，你可以使用 widevine cdm 库装载 chrome 浏览器。\n\nwidevine content decryption modules (cdms) are how streaming services protect content using html5 video to web browsers without relying on an npapi plugin like flash or silverlight. widevine support is an alternative solution for streaming services that currently rely on silverlight for playback of drm-protected video content. it will allow websites to show drm-protected video content in firefox without the use of npapi plugins. the widevine cdm runs in an open-source cdm sandbox providing better user security than npapi plugins.\n\n# note on vmp\n\nas of electron v1.8.0 (chrome v59), the below steps are may only be some of the necessary steps to enable widevine; any app on or after that version intending to use the widevine cdm may need to be signed using a license obtained from widevine itself.\n\nper widevine:\n\n> chrome 59 (and later) includes support for verified media path (vmp). vmp provides a method to verify the authenticity of a device platform. for browser deployments, this will provide an additional signal to determine if a browser-based implementation is reliable and secure.\n> \n> the proxy integration guide has been updated with information about vmp and how to issue licenses.\n> \n> widevine recommends our browser-based integrations (vendors and browser-based applications) add support for vmp.\n\nto enable video playback with this new restriction, castlabs has created a fork that has implemented the necessary changes to enable widevine to be played in an electron application if one has obtained the necessary licenses from widevine.\n\n\n# getting the library\n\nopen chrome://components/ in chrome browser, find widevine content decryption module and make sure it is up to date, then you can find the library files from the application directory.\n\n\n# on windows\n\nthe library file widevinecdm.dll will be under program files(x86)/google/chrome/application/chrome_version/widevinecdm/_platform_specific/win_(x86|x64)/ directory.\n\n\n# 在 macos 中\n\nthe library file libwidevinecdm.dylib will be under /applications/google chrome.app/contents/versions/chrome_version/google chrome framework.framework/versions/a/libraries/widevinecdm/_platform_specific/mac_(x86|x64)/ directory.\n\nnote: make sure that chrome version used by electron is greater than or equal to the min_chrome_version value of chrome's widevine cdm component. the value can be found in manifest.json under widevinecdm directory.\n\n\n# using the library\n\nafter getting the library files, you should pass the path to the file with --widevine-cdm-path command line switch, and the library's version with --widevine-cdm-version switch. the command line switches have to be passed before the ready event of app module gets emitted.\n\n示例代码：\n\nconst { app, browserwindow } = require('electron')\n\n// you have to pass the directory that contains widevine library here, it is\n// * `libwidevinecdm.dylib` on macos,\n// * `widevinecdm.dll` on windows.\napp.commandline.appendswitch('widevine-cdm-path', '/path/to/widevine_library')\n// the version of plugin can be got from `chrome://components` page in chrome.\napp.commandline.appendswitch('widevine-cdm-version', '1.4.8.866')\n\nlet win = null\napp.whenready().then(() => {\n  win = new browserwindow()\n  win.show()\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# verifying widevine cdm support\n\nto verify whether widevine works, you can use following ways:\n\n * 打开 https://shaka-player-demo.appspot.com/ 加载一个使用 widevine 的 manifest。\n * 打开 http://www.dash-player.com/demo/drm-test-area/，检查是否界面输出 bitdash uses widevine in your browser，然后播放 video。",charsets:{cjk:!0}},{title:"updates",frontmatter:{title:"updates",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/8ac520/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/updates.html",relativePath:"《Electron中文文档》/tutorial/updates.md",key:"v-0ee4541c",path:"/pages/8ac520/",headers:[{level:2,title:"使用 update.electronjs.org",slug:"使用-update-electronjs-org",normalizedTitle:"使用 update.electronjs.org",charIndex:90},{level:2,title:"部署更新服务器",slug:"部署更新服务器",normalizedTitle:"部署更新服务器",charIndex:652},{level:2,title:"在你的应用中实施更新",slug:"在你的应用中实施更新",normalizedTitle:"在你的应用中实施更新",charIndex:1103},{level:2,title:"应用更新",slug:"应用更新",normalizedTitle:"应用更新",charIndex:1714},{level:2,title:"Handling Updates Manually",slug:"handling-updates-manually",normalizedTitle:"handling updates manually",charIndex:2525}],headersStr:"使用 update.electronjs.org 部署更新服务器 在你的应用中实施更新 应用更新 Handling Updates Manually",content:"# 更新应用程序\n\n有多种方法可以更新Electron应用. 最简单并且获得官方支持的方法是利用内置的Squirrel框架和Electron的autoUpdater模块。\n\n\n# 使用 update.electronjs.org\n\nElectron 团队维护 update.electronjs.org，一个免费开源的网络服务，可以让 Electron 应用使用自动更新。 这个服务是设计给那些满足以下标准的 Electron 应用：\n\n * 应用运行在 macOS 或者 Windows\n * 应用有公开的 GitHub 仓库\n * 编译的版本发布在 GitHub Releases\n * 编译的版本已代码签名\n\n使用这个服务最简单的方法是安装 update-electron-app，一个预配置好的 Node.js 模块来使用 update.electronjs.org。\n\n安装模块\n\nnpm install update-electron-app\n\n\n1\n\n\n从你的应用的 main process 文件调用这个更新：\n\nrequire('update-electron-app')()\n\n\n1\n\n\n默认情况下，这个模块会在应用启动的时候检查更新，然后每隔十分钟再检查一次。 当发现了一个更新，它会自动在后台下载。 当下载完成后，会显示一个对话框以允许用户重启应用。\n\n如果你需要定制化你的配置，你可以 将配置设置传递给 update-electron-app 或者 直接使用更新服务。\n\n\n# 部署更新服务器\n\n如果你开发的是一个私有的 Electron 应用程序，或者你没有在 GitHub Releases 中公开发布，你可能需要运行自己的更新服务器。\n\n根据你的需要，你可以从下方选择：\n\n * Hazel – Update server for private or open-source apps which can be deployed for free on Vercel. 它从GitHub Releases中拉取更新文件，并且利用 GitHub CDN 的强大性能。\n * Nuts－同样使用GitHub Releases, 但得在磁盘上缓存应用程序更新并支持私有存储库.\n * electron-release-server – 提供一个用于处理发布的仪表板，并且不需要在GitHub上发布发布。\n * Nucleus – 一个由Atlassian维护的 Electron 应用程序的完整更新服务器。 支持多种应用程序和渠道; 使用静态文件存储来降低服务器成本.\n\n\n# 在你的应用中实施更新\n\n一旦你部署了更新服务器, 继续导入你所需要的代码模块. 下列代码可能因不同的服务器软件而变化，但它的工作原理就像使用Hazel所描述的那样。\n\n重要: 请确保下面的代码只在打包的应用程序, 而不是开发中. 你可以使用electron-is-dev检查当前环境.\n\nconst { app, autoUpdater, dialog } = require('electron')\n\n\n1\n\n\n下一步, 构建更新服务器的URL并且通知autoUpdater:\n\nconst server = 'https://your-deployment-url.com'\nconst url = `${server}/update/${process.platform}/${app.getVersion()}`\n\nautoUpdater.setFeedURL({ url })\n\n\n1\n2\n3\n4\n\n\nAs the final step, check for updates. The example below will check every minute:\n\nsetInterval(() => {\n  autoUpdater.checkForUpdates()\n}, 60000)\n\n\n1\n2\n3\n\n\n应用程序被packaged后, 它将接收你每次发布在GitHub Release上的的更新。\n\n\n# 应用更新\n\n现在您已经为应用程序配置了基本的更新机制, 您需要确保在更新时通知用户. 这可以使用autoUpdater API events来实现:\n\nautoUpdater.on('update-downloaded', (event, releaseNotes, releaseName) => {\n  const dialogOpts = {\n    type: 'info',\n    buttons: ['Restart', 'Later'],\n    title: 'Application Update',\n    message: process.platform === 'win32' ? releaseNotes : releaseName,\n    detail: 'A new version has been downloaded. Restart the application to apply the updates.'\n  }\n\n  dialog.showMessageBox(dialogOpts).then((returnValue) => {\n    if (returnValue.response === 0) autoUpdater.quitAndInstall()\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nAlso make sure that errors are being handled. 下面是将错误日志输出到标准输出的例子。\n\nautoUpdater.on('error', message => {\n  console.error('There was a problem updating the application')\n  console.error(message)\n})\n\n\n1\n2\n3\n4\n\n\n\n# Handling Updates Manually\n\nBecause the requests made by Auto Update aren't under your direct control, you may find situations that are difficult to handle (such as if the update server is behind authentication). The url field does support files, which means that with some effort, you can sidestep the server-communication aspect of the process. Here's an example of how this could work.",normalizedContent:"# 更新应用程序\n\n有多种方法可以更新electron应用. 最简单并且获得官方支持的方法是利用内置的squirrel框架和electron的autoupdater模块。\n\n\n# 使用 update.electronjs.org\n\nelectron 团队维护 update.electronjs.org，一个免费开源的网络服务，可以让 electron 应用使用自动更新。 这个服务是设计给那些满足以下标准的 electron 应用：\n\n * 应用运行在 macos 或者 windows\n * 应用有公开的 github 仓库\n * 编译的版本发布在 github releases\n * 编译的版本已代码签名\n\n使用这个服务最简单的方法是安装 update-electron-app，一个预配置好的 node.js 模块来使用 update.electronjs.org。\n\n安装模块\n\nnpm install update-electron-app\n\n\n1\n\n\n从你的应用的 main process 文件调用这个更新：\n\nrequire('update-electron-app')()\n\n\n1\n\n\n默认情况下，这个模块会在应用启动的时候检查更新，然后每隔十分钟再检查一次。 当发现了一个更新，它会自动在后台下载。 当下载完成后，会显示一个对话框以允许用户重启应用。\n\n如果你需要定制化你的配置，你可以 将配置设置传递给 update-electron-app 或者 直接使用更新服务。\n\n\n# 部署更新服务器\n\n如果你开发的是一个私有的 electron 应用程序，或者你没有在 github releases 中公开发布，你可能需要运行自己的更新服务器。\n\n根据你的需要，你可以从下方选择：\n\n * hazel – update server for private or open-source apps which can be deployed for free on vercel. 它从github releases中拉取更新文件，并且利用 github cdn 的强大性能。\n * nuts－同样使用github releases, 但得在磁盘上缓存应用程序更新并支持私有存储库.\n * electron-release-server – 提供一个用于处理发布的仪表板，并且不需要在github上发布发布。\n * nucleus – 一个由atlassian维护的 electron 应用程序的完整更新服务器。 支持多种应用程序和渠道; 使用静态文件存储来降低服务器成本.\n\n\n# 在你的应用中实施更新\n\n一旦你部署了更新服务器, 继续导入你所需要的代码模块. 下列代码可能因不同的服务器软件而变化，但它的工作原理就像使用hazel所描述的那样。\n\n重要: 请确保下面的代码只在打包的应用程序, 而不是开发中. 你可以使用electron-is-dev检查当前环境.\n\nconst { app, autoupdater, dialog } = require('electron')\n\n\n1\n\n\n下一步, 构建更新服务器的url并且通知autoupdater:\n\nconst server = 'https://your-deployment-url.com'\nconst url = `${server}/update/${process.platform}/${app.getversion()}`\n\nautoupdater.setfeedurl({ url })\n\n\n1\n2\n3\n4\n\n\nas the final step, check for updates. the example below will check every minute:\n\nsetinterval(() => {\n  autoupdater.checkforupdates()\n}, 60000)\n\n\n1\n2\n3\n\n\n应用程序被packaged后, 它将接收你每次发布在github release上的的更新。\n\n\n# 应用更新\n\n现在您已经为应用程序配置了基本的更新机制, 您需要确保在更新时通知用户. 这可以使用autoupdater api events来实现:\n\nautoupdater.on('update-downloaded', (event, releasenotes, releasename) => {\n  const dialogopts = {\n    type: 'info',\n    buttons: ['restart', 'later'],\n    title: 'application update',\n    message: process.platform === 'win32' ? releasenotes : releasename,\n    detail: 'a new version has been downloaded. restart the application to apply the updates.'\n  }\n\n  dialog.showmessagebox(dialogopts).then((returnvalue) => {\n    if (returnvalue.response === 0) autoupdater.quitandinstall()\n  })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nalso make sure that errors are being handled. 下面是将错误日志输出到标准输出的例子。\n\nautoupdater.on('error', message => {\n  console.error('there was a problem updating the application')\n  console.error(message)\n})\n\n\n1\n2\n3\n4\n\n\n\n# handling updates manually\n\nbecause the requests made by auto update aren't under your direct control, you may find situations that are difficult to handle (such as if the update server is behind authentication). the url field does support files, which means that with some effort, you can sidestep the server-communication aspect of the process. here's an example of how this could work.",charsets:{cjk:!0}},{title:"Tray",frontmatter:{title:"Tray",description:"This guide will take you through the process of creating a Tray icon with its own context menu to the system's notification area.",slug:"tray",hide_title:!0,date:"2022-04-11T14:50:30.000Z",permalink:"/pages/b4c243/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/tray.html",relativePath:"《Electron中文文档》/tutorial/tray.md",key:"v-369a9b48",path:"/pages/b4c243/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:11},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:350},{level:3,title:"main.js",slug:"main-js",normalizedTitle:"main.js",charIndex:357},{level:2,title:"结论",slug:"结论",normalizedTitle:"结论",charIndex:1588}],headersStr:"概览 示例 main.js 结论",content:"# Tray\n\n\n# 概览\n\nThis guide will take you through the process of creating a Tray icon with its own context menu to the system's notification area.\n\nOn MacOS and Ubuntu, the Tray will be located on the top right corner of your screen, adjacent to your battery and wifi icons. On Windows, the Tray will usually be located in the bottom right corner.\n\n\n# 示例\n\n\n# main.js\n\nFirst we must import app, Tray, Menu, nativeImage from electron.\n\nconst { app, Tray, Menu, nativeImage } = require('electron')\n\n\n1\n\n\nNext we will create our Tray. To do this, we will use a NativeImage icon, which can be created through any one of these methods. Note that we wrap our Tray creation code within an app.whenReady as we will need to wait for our electron app to finish initializing.\n\nlet tray\n\napp.whenReady().then(() => {\n  const icon = nativeImage.createFromPath('path/to/asset.png')\n  tray = new Tray(icon)\n\n  // note: your contextMenu, Tooltip and Title code will go here!\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n太好了！ Now we can start attaching a context menu to our Tray, like so:\n\nconst contextMenu = Menu.buildFromTemplate([\n  { label: 'Item1', type: 'radio' },\n  { label: 'Item2', type: 'radio' },\n  { label: 'Item3', type: 'radio', checked: true },\n  { label: 'Item4', type: 'radio' }\n])\n\ntray.setContextMenu(contextMenu)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nThe code above will create 4 separate radio-type items in the context menu. To read more about constructing native menus, click here.\n\nFinally, let's give our tray a tooltip and a title.\n\ntray.setToolTip('This is my application')\ntray.setTitle('This is my title')\n\n\n1\n2\n\n\n\n# 结论\n\nAfter you start your electron app, you should see the Tray residing in either the top or bottom right of your screen, depending on your operating system. fiddle docs/fiddles/native-ui/tray",normalizedContent:"# tray\n\n\n# 概览\n\nthis guide will take you through the process of creating a tray icon with its own context menu to the system's notification area.\n\non macos and ubuntu, the tray will be located on the top right corner of your screen, adjacent to your battery and wifi icons. on windows, the tray will usually be located in the bottom right corner.\n\n\n# 示例\n\n\n# main.js\n\nfirst we must import app, tray, menu, nativeimage from electron.\n\nconst { app, tray, menu, nativeimage } = require('electron')\n\n\n1\n\n\nnext we will create our tray. to do this, we will use a nativeimage icon, which can be created through any one of these methods. note that we wrap our tray creation code within an app.whenready as we will need to wait for our electron app to finish initializing.\n\nlet tray\n\napp.whenready().then(() => {\n  const icon = nativeimage.createfrompath('path/to/asset.png')\n  tray = new tray(icon)\n\n  // note: your contextmenu, tooltip and title code will go here!\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n太好了！ now we can start attaching a context menu to our tray, like so:\n\nconst contextmenu = menu.buildfromtemplate([\n  { label: 'item1', type: 'radio' },\n  { label: 'item2', type: 'radio' },\n  { label: 'item3', type: 'radio', checked: true },\n  { label: 'item4', type: 'radio' }\n])\n\ntray.setcontextmenu(contextmenu)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nthe code above will create 4 separate radio-type items in the context menu. to read more about constructing native menus, click here.\n\nfinally, let's give our tray a tooltip and a title.\n\ntray.settooltip('this is my application')\ntray.settitle('this is my title')\n\n\n1\n2\n\n\n\n# 结论\n\nafter you start your electron app, you should see the tray residing in either the top or bottom right of your screen, depending on your operating system. fiddle docs/fiddles/native-ui/tray",charsets:{cjk:!0}},{title:"using-native-node-modules",frontmatter:{title:"using-native-node-modules",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/0023b3/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/using-native-node-modules.html",relativePath:"《Electron中文文档》/tutorial/using-native-node-modules.md",key:"v-053ffc88",path:"/pages/0023b3/",headers:[{level:2,title:"如何安装原生模块",slug:"如何安装原生模块",normalizedTitle:"如何安装原生模块",charIndex:495},{level:3,title:"为 Electron 安装并重新编译模块",slug:"为-electron-安装并重新编译模块",normalizedTitle:"为 electron 安装并重新编译模块",charIndex:526},{level:3,title:"通过 npm 安装",slug:"通过-npm-安装",normalizedTitle:"通过 npm 安装",charIndex:1177},{level:3,title:"为 Electron 手动编译",slug:"为-electron-手动编译",normalizedTitle:"为 electron 手动编译",charIndex:1777},{level:3,title:"为Electron的自定义编译手动编译",slug:"为electron的自定义编译手动编译",normalizedTitle:"为electron的自定义编译手动编译",charIndex:2162},{level:2,title:"故障排查",slug:"故障排查",normalizedTitle:"故障排查",charIndex:2332},{level:3,title:"关于win_delay_load_hook的说明",slug:"关于win-delay-load-hook的说明",normalizedTitle:"关于win_delay_load_hook的说明",charIndex:2530},{level:2,title:"依赖于 prebuild 的模块",slug:"依赖于-prebuild-的模块",normalizedTitle:"依赖于 prebuild 的模块",charIndex:4346},{level:2,title:"依赖于 node-pre-gyp 的模块",slug:"依赖于-node-pre-gyp-的模块",normalizedTitle:"依赖于 node-pre-gyp 的模块",charIndex:4720}],headersStr:"如何安装原生模块 为 Electron 安装并重新编译模块 通过 npm 安装 为 Electron 手动编译 为Electron的自定义编译手动编译 故障排查 关于win_delay_load_hook的说明 依赖于 prebuild 的模块 依赖于 node-pre-gyp 的模块",content:"# Native Node Modules\n\n原生Node.js模块由Electron支持，但由于Electron具有与给定Node.js不同的 应用二进制接口 (ABI)(由于使用Chromium的 BoringSL 而不是 OpenSSL 等 差异)，您使用的原生 模块需要为Electron重新编译。 否则，当您尝试运行您的应用程序时， 将会遇到以下的错误：\n\nError: The module '/path/to/native/module.node'\nwas compiled against a different Node.js version using\nNODE_MODULE_VERSION $XYZ. This version of Node.js requires\nNODE_MODULE_VERSION $ABC. Please try re-compiling or re-installing\nthe module (for instance, using `npm rebuild` or `npm install`).\n\n\n1\n2\n3\n4\n5\n\n\n\n# 如何安装原生模块\n\n有多种不同的方法来安装原生模块：\n\n\n# 为 Electron 安装并重新编译模块\n\n您可以像其他 Node 项目一样安装模块，然后用 electron-rebuild 包重建这些模块以适配 Electron 。 这个包可以自动识别当前 Electron 版本，为你的应用自动完成下载 headers、重新编译原生模块等步骤。 如果您正在使用 Electron Forge，这个工具将在开发模式和发布时自动使用。\n\nFor example, to install the standalone electron-rebuild tool and then rebuild modules with it via the command line:\n\nnpm install --save-dev electron-rebuild\n\n# Every time you run \"npm install\", run this:\n./node_modules/.bin/electron-rebuild\n\n# If you have trouble on Windows, try:\n.\\node_modules\\.bin\\electron-rebuild.cmd\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nFor more information on usage and integration with other tools such as Electron Packager, consult the project's README.\n\n\n# 通过 npm 安装\n\n只要设置一些系统环境变量，你就可以通过 npm 直接安装原生模块。\n\n例如，要安装所有Electron的依赖：\n\n# Electron 的版本。\nexport npm_config_target=1.2.3\n# Electron的目标架构, 可用的架构列表请参见\n# https://electronjs.org/docs/tutorial/support#supported-platforms\nexport npm_config_arch=x64\nexport npm_config_target_arch=x64\n# 下载 Electron 的 headers。\nexport npm_config_disturl=https://electronjs.org/headers\n# 告诉 node-pre-gyp 我们是在为 Electron 生成模块。\nexport npm_config_runtime=electron\n# 告诉 node-pre-gyp 从源代码构建模块。\nexport npm_config_build_from_source=true\n# 安装所有依赖，并缓存到 ~/.electron-gyp。\nHOME=~/.electron-gyp npm install\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 为 Electron 手动编译\n\n如果你是一个原生模块的开发人员，想在 Electron 中进行测试， 你可能要手动编译 Electron 模块。 你可以 使用 node-gyp 直接编译：\n\ncd /path-to-module/\nHOME=~/.electron-gyp node-gyp rebuild --target=1.2.3 --arch=x64 --dist-url=https://electronjs.org/headers\n\n\n1\n2\n\n * HOME=~/.electron-gyp 设置去哪找头文件\n * --target=1.2.3 设置了 Electron 的版本。\n * --dist-url=...设置了 Electron 的 headers 的下载地址。\n * --arch=x64 设置了该模块为适配64位操作系统而编译。\n\n\n# 为Electron的自定义编译手动编译\n\n如果是为一个与公共发行版不匹配的Electron自定义版本编译原生Node模块，需要让npm使用你的Electron自定义版本所对应的Node版本。\n\nnpm rebuild --nodedir=/path/to/src/out/Default/gen/node_headers\n\n\n1\n\n\n\n# 故障排查\n\n如果您安装了本机模块并发现它无法正常工作，则需要检查以下内容：\n\n * 当有疑问时，请先执行 electron-rebuild。\n * 确保原生模块与Electron应用程序的目标平台和体系结构兼容。\n * 确保在该模块的binding.gyp中win_delay_load_hook没有被设置为false。\n * 如果升级了 Electron，你通常需要重新编译这些模块。\n\n\n# 关于win_delay_load_hook的说明\n\n在Windows上，默认情况下，node-gyp将原生模块与node.dll链接。 然而，在Electron 4.x和更高的版本中，原生模块需要的symbols由electron.exe导出，并且没有node.dll。 In order to load native modules on Windows, node-gyp installs a delay-load hook that triggers when the native module is loaded, and redirects the node.dll reference to use the loading executable instead of looking for node.dll in the library search path (which would turn up nothing). As such, on Electron 4.x and higher, 'win_delay_load_hook': 'true' is required to load native modules.\n\nIf you get an error like Module did not self-register, or The specified procedure could not be found, it may mean that the module you're trying to use did not correctly include the delay-load hook. If the module is built with node-gyp, ensure that the win_delay_load_hook variable is set to true in the binding.gyp file, and isn't getting overridden anywhere. If the module is built with another system, you'll need to ensure that you build with a delay-load hook installed in the main .node file. Your link.exe invocation should look like this:\n\n link.exe /OUT:\"foo.node\" \"...\\node.lib\" delayimp.lib /DELAYLOAD:node.exe /DLL\n     \"my_addon.obj\" \"win_delay_load_hook.obj\"\n\n\n1\n2\n\n\nIn particular, it's important that:\n\n * you link against node.lib from Electron and not Node. If you link against the wrong node.lib you will get load-time errors when you require the module in Electron.\n * you include the flag /DELAYLOAD:node.exe. If the node.exe link is not delayed, then the delay-load hook won't get a chance to fire and the node symbols won't be correctly resolved.\n * win_delay_load_hook.obj is linked directly into the final DLL. If the hook is set up in a dependent DLL, it won't fire at the right time.\n\nSee node-gyp for an example delay-load hook if you're implementing your own.\n\n\n# 依赖于 prebuild 的模块\n\nprebuild provides a way to publish native Node modules with prebuilt binaries for multiple versions of Node and Electron.\n\nIf the prebuild-powered module provide binaries for the usage in Electron, make sure to omit --build-from-source and the npm_config_build_from_source environment variable in order to take full advantage of the prebuilt binaries.\n\n\n# 依赖于 node-pre-gyp 的模块\n\nnode-pre-gyp 工具 提供一种部署原生 Node 预编译二进制模块的方法， 许多流行的模块都是使用它。\n\nSometimes those modules work fine under Electron, but when there are no Electron-specific binaries available, you'll need to build from source. Because of this, it is recommended to use electron-rebuild for these modules.\n\nIf you are following the npm way of installing modules, you'll need to pass --build-from-source to npm, or set the npm_config_build_from_source environment variable.",normalizedContent:"# native node modules\n\n原生node.js模块由electron支持，但由于electron具有与给定node.js不同的 应用二进制接口 (abi)(由于使用chromium的 boringsl 而不是 openssl 等 差异)，您使用的原生 模块需要为electron重新编译。 否则，当您尝试运行您的应用程序时， 将会遇到以下的错误：\n\nerror: the module '/path/to/native/module.node'\nwas compiled against a different node.js version using\nnode_module_version $xyz. this version of node.js requires\nnode_module_version $abc. please try re-compiling or re-installing\nthe module (for instance, using `npm rebuild` or `npm install`).\n\n\n1\n2\n3\n4\n5\n\n\n\n# 如何安装原生模块\n\n有多种不同的方法来安装原生模块：\n\n\n# 为 electron 安装并重新编译模块\n\n您可以像其他 node 项目一样安装模块，然后用 electron-rebuild 包重建这些模块以适配 electron 。 这个包可以自动识别当前 electron 版本，为你的应用自动完成下载 headers、重新编译原生模块等步骤。 如果您正在使用 electron forge，这个工具将在开发模式和发布时自动使用。\n\nfor example, to install the standalone electron-rebuild tool and then rebuild modules with it via the command line:\n\nnpm install --save-dev electron-rebuild\n\n# every time you run \"npm install\", run this:\n./node_modules/.bin/electron-rebuild\n\n# if you have trouble on windows, try:\n.\\node_modules\\.bin\\electron-rebuild.cmd\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nfor more information on usage and integration with other tools such as electron packager, consult the project's readme.\n\n\n# 通过 npm 安装\n\n只要设置一些系统环境变量，你就可以通过 npm 直接安装原生模块。\n\n例如，要安装所有electron的依赖：\n\n# electron 的版本。\nexport npm_config_target=1.2.3\n# electron的目标架构, 可用的架构列表请参见\n# https://electronjs.org/docs/tutorial/support#supported-platforms\nexport npm_config_arch=x64\nexport npm_config_target_arch=x64\n# 下载 electron 的 headers。\nexport npm_config_disturl=https://electronjs.org/headers\n# 告诉 node-pre-gyp 我们是在为 electron 生成模块。\nexport npm_config_runtime=electron\n# 告诉 node-pre-gyp 从源代码构建模块。\nexport npm_config_build_from_source=true\n# 安装所有依赖，并缓存到 ~/.electron-gyp。\nhome=~/.electron-gyp npm install\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 为 electron 手动编译\n\n如果你是一个原生模块的开发人员，想在 electron 中进行测试， 你可能要手动编译 electron 模块。 你可以 使用 node-gyp 直接编译：\n\ncd /path-to-module/\nhome=~/.electron-gyp node-gyp rebuild --target=1.2.3 --arch=x64 --dist-url=https://electronjs.org/headers\n\n\n1\n2\n\n * home=~/.electron-gyp 设置去哪找头文件\n * --target=1.2.3 设置了 electron 的版本。\n * --dist-url=...设置了 electron 的 headers 的下载地址。\n * --arch=x64 设置了该模块为适配64位操作系统而编译。\n\n\n# 为electron的自定义编译手动编译\n\n如果是为一个与公共发行版不匹配的electron自定义版本编译原生node模块，需要让npm使用你的electron自定义版本所对应的node版本。\n\nnpm rebuild --nodedir=/path/to/src/out/default/gen/node_headers\n\n\n1\n\n\n\n# 故障排查\n\n如果您安装了本机模块并发现它无法正常工作，则需要检查以下内容：\n\n * 当有疑问时，请先执行 electron-rebuild。\n * 确保原生模块与electron应用程序的目标平台和体系结构兼容。\n * 确保在该模块的binding.gyp中win_delay_load_hook没有被设置为false。\n * 如果升级了 electron，你通常需要重新编译这些模块。\n\n\n# 关于win_delay_load_hook的说明\n\n在windows上，默认情况下，node-gyp将原生模块与node.dll链接。 然而，在electron 4.x和更高的版本中，原生模块需要的symbols由electron.exe导出，并且没有node.dll。 in order to load native modules on windows, node-gyp installs a delay-load hook that triggers when the native module is loaded, and redirects the node.dll reference to use the loading executable instead of looking for node.dll in the library search path (which would turn up nothing). as such, on electron 4.x and higher, 'win_delay_load_hook': 'true' is required to load native modules.\n\nif you get an error like module did not self-register, or the specified procedure could not be found, it may mean that the module you're trying to use did not correctly include the delay-load hook. if the module is built with node-gyp, ensure that the win_delay_load_hook variable is set to true in the binding.gyp file, and isn't getting overridden anywhere. if the module is built with another system, you'll need to ensure that you build with a delay-load hook installed in the main .node file. your link.exe invocation should look like this:\n\n link.exe /out:\"foo.node\" \"...\\node.lib\" delayimp.lib /delayload:node.exe /dll\n     \"my_addon.obj\" \"win_delay_load_hook.obj\"\n\n\n1\n2\n\n\nin particular, it's important that:\n\n * you link against node.lib from electron and not node. if you link against the wrong node.lib you will get load-time errors when you require the module in electron.\n * you include the flag /delayload:node.exe. if the node.exe link is not delayed, then the delay-load hook won't get a chance to fire and the node symbols won't be correctly resolved.\n * win_delay_load_hook.obj is linked directly into the final dll. if the hook is set up in a dependent dll, it won't fire at the right time.\n\nsee node-gyp for an example delay-load hook if you're implementing your own.\n\n\n# 依赖于 prebuild 的模块\n\nprebuild provides a way to publish native node modules with prebuilt binaries for multiple versions of node and electron.\n\nif the prebuild-powered module provide binaries for the usage in electron, make sure to omit --build-from-source and the npm_config_build_from_source environment variable in order to take full advantage of the prebuilt binaries.\n\n\n# 依赖于 node-pre-gyp 的模块\n\nnode-pre-gyp 工具 提供一种部署原生 node 预编译二进制模块的方法， 许多流行的模块都是使用它。\n\nsometimes those modules work fine under electron, but when there are no electron-specific binaries available, you'll need to build from source. because of this, it is recommended to use electron-rebuild for these modules.\n\nif you are following the npm way of installing modules, you'll need to pass --build-from-source to npm, or set the npm_config_build_from_source environment variable.",charsets:{cjk:!0}},{title:"using-pepper-flash-plugin",frontmatter:{title:"using-pepper-flash-plugin",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/79d4df/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/using-pepper-flash-plugin.html",relativePath:"《Electron中文文档》/tutorial/using-pepper-flash-plugin.md",key:"v-d6e377c8",path:"/pages/79d4df/",headersStr:null,content:"# Pepper Flash Plugin\n\nElectron 不再支持 Pepper Flash 插件，因为 Chrome 已经移除了支持。\n\n更多详细信息，请参阅 Chromium's Flash Roadmap",normalizedContent:"# pepper flash plugin\n\nelectron 不再支持 pepper flash 插件，因为 chrome 已经移除了支持。\n\n更多详细信息，请参阅 chromium's flash roadmap",charsets:{cjk:!0}},{title:"using-selenium-and-webdriver",frontmatter:{title:"using-selenium-and-webdriver",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/798c49/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/using-selenium-and-webdriver.html",relativePath:"《Electron中文文档》/tutorial/using-selenium-and-webdriver.md",key:"v-2e2015b4",path:"/pages/798c49/",headers:[{level:2,title:"配置 Spectron",slug:"配置-spectron",normalizedTitle:"配置 spectron",charIndex:226},{level:2,title:"通过 WebDriverJs 配置",slug:"通过-webdriverjs-配置",normalizedTitle:"通过 webdriverjs 配置",charIndex:1158},{level:3,title:"1. Start ChromeDriver",slug:"_1-start-chromedriver",normalizedTitle:"1. start chromedriver",charIndex:1236},{level:3,title:"2. 安装 WebDriverJS",slug:"_2-安装-webdriverjs",normalizedTitle:"2. 安装 webdriverjs",charIndex:1486},{level:3,title:"3. Connect to ChromeDriver",slug:"_3-connect-to-chromedriver",normalizedTitle:"3. connect to chromedriver",charIndex:1547},{level:2,title:"通过 WebdriverIO 配置",slug:"通过-webdriverio-配置",normalizedTitle:"通过 webdriverio 配置",charIndex:2450},{level:3,title:"1. Start ChromeDriver",slug:"_1-start-chromedriver-2",normalizedTitle:"1. start chromedriver",charIndex:1236},{level:3,title:"2. Install WebdriverIO",slug:"_2-install-webdriverio",normalizedTitle:"2. install webdriverio",charIndex:2797},{level:3,title:"3. 连接到 chrome 驱动",slug:"_3-连接到-chrome-驱动",normalizedTitle:"3. 连接到 chrome 驱动",charIndex:2856},{level:2,title:"工作流",slug:"工作流",normalizedTitle:"工作流",charIndex:3606}],headersStr:"配置 Spectron 通过 WebDriverJs 配置 1. Start ChromeDriver 2. 安装 WebDriverJS 3. Connect to ChromeDriver 通过 WebdriverIO 配置 1. Start ChromeDriver 2. Install WebdriverIO 3. 连接到 chrome 驱动 工作流",content:"# Selenium and WebDriver\n\n引自 ChromeDriver - WebDriver for Chrome:\n\n> WebDriver 是一款开源的支持多浏览器的自动化测试工具。 它提供了操作网页、用户输入、JavaScript 执行等能力。 ChromeDriver 是一个实现了 WebDriver 与 Chromium 联接协议的独立服务。 它也是由开发了 Chromium 和 WebDriver 的团队开发的。\n\n\n# 配置 Spectron\n\nSpectron 是 Electron 官方支持的 ChromeDriver 测试框架。 它是建立在 WebdriverIO 的顶层，并且 帮助你在测试中访问 Electron API 和绑定 ChromeDriver。\n\n$ npm install --save-dev spectron\n\n\n1\n\n\n// 一个简单的验证测试和一个带标题的可视窗口\nconst Application = require('spectron').Application\nconst assert = require('assert')\n\nconst myApp = new Application({\n  path: '/Applications/MyApp.app/Contents/MacOS/MyApp'\n})\n\nconst verifyWindowIsVisibleWithTitle = async (app) => {\n  await app.start()\n  try {\n    // 检查窗口是否可见\n    const isVisible = await app.browserWindow.isVisible()\n    // 验证窗口是否可见\n    assert.strictEqual(isVisible, true)\n    // 获取窗口标题\n    const title = await app.client.getTitle()\n    // 验证窗口标题\n    assert.strictEqual(title, 'My App')\n  } catch (error) {\n    // 记录任何故障\n    console.error('Test failed', error.message)\n  }\n  // 停止应用\n  await app.stop()\n}\n\nverifyWindowIsVisibleWithTitle(myApp)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 通过 WebDriverJs 配置\n\nWebDriverJs 是一个可以配合 WebDriver 做测试的 node 模块，我们会用它来做个演示。\n\n\n# 1. Start ChromeDriver\n\n首先，你要下载 chromedriver，然后运行以下命令：\n\n$ npm install electron-chromedriver\n$ ./node_modules/.bin/chromedriver\nStarting ChromeDriver (v2.10.291558) on port 9515\nOnly local connections are allowed.\n\n\n1\n2\n3\n4\n\n\n记住 9515 这个端口号，我们后面会用到\n\n\n# 2. 安装 WebDriverJS\n\n$ npm install selenium-webdriver\n\n\n1\n\n\n\n# 3. Connect to ChromeDriver\n\n在 Electron 下使用 selenium-webdriver 和其平时的用法并没有大的差异，只是你需要手动设置连接 ChromeDriver，以及 Electron 的路径：\n\nconst webdriver = require('selenium-webdriver')\n\nconst driver = new webdriver.Builder()\n  // \"9515\" 是ChromeDriver使用的端口\n  .usingServer('http://localhost:9515')\n  .withCapabilities({\n    'goog:chromeOptions': {\n      // 这里填您的Electron二进制文件路径。\n      binary: '/Path-to-Your-App.app/Contents/MacOS/Electron'\n    }\n  })\n  .forBrowser('chrome') // 注意: 使用 .forBrowser('electron') for selenium-webdriver <= 3.6.0\n  .build()\n\ndriver.get('http://www.google.com')\ndriver.findElement(webdriver.By.name('q')).sendKeys('webdriver')\ndriver.findElement(webdriver.By.name('btnG')).click()\ndriver.wait(() => {\n  return driver.getTitle().then((title) => {\n    return title === 'webdriver - Google Search'\n  })\n}, 1000)\n\ndriver.quit()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 通过 WebdriverIO 配置\n\nWebdriverIO 也是一个配合 WebDriver 用来测试的 node 模块.\n\n\n# 1. Start ChromeDriver\n\n首先，你要下载 chromedriver，然后运行以下命令：\n\n$ npm install electron-chromedriver\n$ ./node_modules/.bin/chromedriver --url-base=wd/hub --port=9515\nStarting ChromeDriver (v2.10.291558) on port 9515\nOnly local connections are allowed.\n\n\n1\n2\n3\n4\n\n\n记住 9515 这个端口号，我们后面会用到\n\n\n# 2. Install WebdriverIO\n\n$ npm install webdriverio\n\n\n1\n\n\n\n# 3. 连接到 chrome 驱动\n\nconst webdriverio = require('webdriverio')\nconst options = {\n  host: 'localhost', // Use localhost as chrome driver server\n  port: 9515, // \"9515\" is the port opened by chrome driver.\n  desiredCapabilities: {\n    browserName: 'chrome',\n    'goog:chromeOptions': {\n      binary: '/Path-to-Your-App/electron', // Path to your Electron binary.\n      args: [/* cli arguments */] // Optional, perhaps 'app=' + /path/to/your/app/\n    }\n  }\n}\n\nconst client = webdriverio.remote(options)\n\nclient\n  .init()\n  .url('http://google.com')\n  .setValue('#q', 'webdriverio')\n  .click('#btnG')\n  .getTitle().then((title) => {\n    console.log('Title was: ' + title)\n  })\n  .end()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 工作流\n\n无需重新编译 Electron，只要把 app 的源码放到 Electron的资源目录 里就可直接开始测试了。\n\nAlternatively, pass an argument to run with your Electron binary that points to your app's folder. 这就消除了将您的应用复制粘贴到 Electron 资源目录的必要性。",normalizedContent:"# selenium and webdriver\n\n引自 chromedriver - webdriver for chrome:\n\n> webdriver 是一款开源的支持多浏览器的自动化测试工具。 它提供了操作网页、用户输入、javascript 执行等能力。 chromedriver 是一个实现了 webdriver 与 chromium 联接协议的独立服务。 它也是由开发了 chromium 和 webdriver 的团队开发的。\n\n\n# 配置 spectron\n\nspectron 是 electron 官方支持的 chromedriver 测试框架。 它是建立在 webdriverio 的顶层，并且 帮助你在测试中访问 electron api 和绑定 chromedriver。\n\n$ npm install --save-dev spectron\n\n\n1\n\n\n// 一个简单的验证测试和一个带标题的可视窗口\nconst application = require('spectron').application\nconst assert = require('assert')\n\nconst myapp = new application({\n  path: '/applications/myapp.app/contents/macos/myapp'\n})\n\nconst verifywindowisvisiblewithtitle = async (app) => {\n  await app.start()\n  try {\n    // 检查窗口是否可见\n    const isvisible = await app.browserwindow.isvisible()\n    // 验证窗口是否可见\n    assert.strictequal(isvisible, true)\n    // 获取窗口标题\n    const title = await app.client.gettitle()\n    // 验证窗口标题\n    assert.strictequal(title, 'my app')\n  } catch (error) {\n    // 记录任何故障\n    console.error('test failed', error.message)\n  }\n  // 停止应用\n  await app.stop()\n}\n\nverifywindowisvisiblewithtitle(myapp)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 通过 webdriverjs 配置\n\nwebdriverjs 是一个可以配合 webdriver 做测试的 node 模块，我们会用它来做个演示。\n\n\n# 1. start chromedriver\n\n首先，你要下载 chromedriver，然后运行以下命令：\n\n$ npm install electron-chromedriver\n$ ./node_modules/.bin/chromedriver\nstarting chromedriver (v2.10.291558) on port 9515\nonly local connections are allowed.\n\n\n1\n2\n3\n4\n\n\n记住 9515 这个端口号，我们后面会用到\n\n\n# 2. 安装 webdriverjs\n\n$ npm install selenium-webdriver\n\n\n1\n\n\n\n# 3. connect to chromedriver\n\n在 electron 下使用 selenium-webdriver 和其平时的用法并没有大的差异，只是你需要手动设置连接 chromedriver，以及 electron 的路径：\n\nconst webdriver = require('selenium-webdriver')\n\nconst driver = new webdriver.builder()\n  // \"9515\" 是chromedriver使用的端口\n  .usingserver('http://localhost:9515')\n  .withcapabilities({\n    'goog:chromeoptions': {\n      // 这里填您的electron二进制文件路径。\n      binary: '/path-to-your-app.app/contents/macos/electron'\n    }\n  })\n  .forbrowser('chrome') // 注意: 使用 .forbrowser('electron') for selenium-webdriver <= 3.6.0\n  .build()\n\ndriver.get('http://www.google.com')\ndriver.findelement(webdriver.by.name('q')).sendkeys('webdriver')\ndriver.findelement(webdriver.by.name('btng')).click()\ndriver.wait(() => {\n  return driver.gettitle().then((title) => {\n    return title === 'webdriver - google search'\n  })\n}, 1000)\n\ndriver.quit()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 通过 webdriverio 配置\n\nwebdriverio 也是一个配合 webdriver 用来测试的 node 模块.\n\n\n# 1. start chromedriver\n\n首先，你要下载 chromedriver，然后运行以下命令：\n\n$ npm install electron-chromedriver\n$ ./node_modules/.bin/chromedriver --url-base=wd/hub --port=9515\nstarting chromedriver (v2.10.291558) on port 9515\nonly local connections are allowed.\n\n\n1\n2\n3\n4\n\n\n记住 9515 这个端口号，我们后面会用到\n\n\n# 2. install webdriverio\n\n$ npm install webdriverio\n\n\n1\n\n\n\n# 3. 连接到 chrome 驱动\n\nconst webdriverio = require('webdriverio')\nconst options = {\n  host: 'localhost', // use localhost as chrome driver server\n  port: 9515, // \"9515\" is the port opened by chrome driver.\n  desiredcapabilities: {\n    browsername: 'chrome',\n    'goog:chromeoptions': {\n      binary: '/path-to-your-app/electron', // path to your electron binary.\n      args: [/* cli arguments */] // optional, perhaps 'app=' + /path/to/your/app/\n    }\n  }\n}\n\nconst client = webdriverio.remote(options)\n\nclient\n  .init()\n  .url('http://google.com')\n  .setvalue('#q', 'webdriverio')\n  .click('#btng')\n  .gettitle().then((title) => {\n    console.log('title was: ' + title)\n  })\n  .end()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 工作流\n\n无需重新编译 electron，只要把 app 的源码放到 electron的资源目录 里就可直接开始测试了。\n\nalternatively, pass an argument to run with your electron binary that points to your app's folder. 这就消除了将您的应用复制粘贴到 electron 资源目录的必要性。",charsets:{cjk:!0}},{title:"windows-taskbar",frontmatter:{title:"windows-taskbar",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/878fb7/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/windows-taskbar.html",relativePath:"《Electron中文文档》/tutorial/windows-taskbar.md",key:"v-2182af48",path:"/pages/878fb7/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:38},{level:2,title:"弹出列表",slug:"弹出列表",normalizedTitle:"弹出列表",charIndex:183},{level:4,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:718},{level:5,title:"Set user tasks",slug:"set-user-tasks",normalizedTitle:"set user tasks",charIndex:873},{level:5,title:"Clear tasks list",slug:"clear-tasks-list",normalizedTitle:"clear tasks list",charIndex:1211},{level:3,title:"缩略图工具栏",slug:"缩略图工具栏",normalizedTitle:"缩略图工具栏",charIndex:1460},{level:4,title:"示例",slug:"示例-2",normalizedTitle:"示例",charIndex:718},{level:5,title:"设置缩略图工具栏",slug:"设置缩略图工具栏",normalizedTitle:"设置缩略图工具栏",charIndex:1868},{level:5,title:"Clear thumbnail toolbar",slug:"clear-thumbnail-toolbar",normalizedTitle:"clear thumbnail toolbar",charIndex:2404},{level:3,title:"任务栏中的图标叠加",slug:"任务栏中的图标叠加",normalizedTitle:"任务栏中的图标叠加",charIndex:2620},{level:4,title:"示例",slug:"示例-3",normalizedTitle:"示例",charIndex:718},{level:3,title:"闪烁框",slug:"闪烁框",normalizedTitle:"闪烁框",charIndex:3231},{level:4,title:"示例",slug:"示例-4",normalizedTitle:"示例",charIndex:718}],headersStr:"概览 弹出列表 示例 Set user tasks Clear tasks list 缩略图工具栏 示例 设置缩略图工具栏 Clear thumbnail toolbar 任务栏中的图标叠加 示例 闪烁框 示例",content:"# Taskbar Customization (Windows)\n\n\n# 概览\n\nElectron有API来配置Windows任务栏中的应用程序图标。 此API 支持windows 专用的功能有： 创建 JumpList, 自定义缩略图和工具栏, 图标覆盖, 和 \"Flash Frame\" 效果, 和跨平台的功能 有：最近打开的文档 和 应用程序进度.\n\n\n# 弹出列表\n\nWindows 允许应用程序自定义一个菜单栏，当用户右键单击任务栏中的应用图标及可显示该列表。 该上下文菜单被成为 弹出列表. You specify custom actions in the Tasks category of JumpList, as quoted from MSDN:\n\n> 应用程序的“任务”列表的制定是基于程序的功能，用户能用它做一些快捷操作。 任务应当是与上下文无关的，因为它不需要程序运行就可以工作。 而且据统计，它们应该是用户在这个应用上使用最多的操作，例如: 撰写一封邮件或者在邮件程序里打开日历，word处理程序新建一个文档，以某一种模式启动应用程序，或者是启动应用程序的某些子命令。 一个应用程序不应当定义一些用户不需要的高级功能的或者只会使用一次的操作的菜单，以防止将菜单弄得杂乱无章，例如注册。 不要将“任务”功能用于广告操作，例如升级应用或者推广特价产品等等。\n> \n> 强烈推荐“任务”列表内容是静态的。 不管什么情形，也不管应用程序是什么状态，它都应该是保持不变的。 尽管这个列表是动态可变的，你应该注意，那些没想过这个列表会变的用户会被这个行为搞糊涂。\n\n\n\n> 注：上面的屏幕截图是 IE 浏览器的任务栏示例\n\nMacOS里的docker menu是菜单项，然而windows里的user tasks只是一个快捷方式。 举个栗子，当用户点击task的时候，程序将会执行特定的参数。\n\n你可以方便在你的application里用app.setUserTasks API 去设置user task。\n\n# 示例\n\n# Set user tasks\n\n从 Quick Start Guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { app } = require('electron')\n\napp.setUserTasks([\n  {\n    program: process.execPath,\n    arguments: '--new-window',\n    iconPath: process.execPath,\n    iconIndex: 0,\n    title: 'New Window',\n    description: 'Create a new window'\n  }\n])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# Clear tasks list\n\nTo clear your tasks list, you need to call app.setUserTasks with an empty array in the main.js file.\n\nconst { app } = require('electron')\n\napp.setUserTasks([])\n\n\n1\n2\n3\n\n\n> 注意：即使你的应用关闭，用户任务仍然会被显示，因此在你的应用被卸载之前，任务的图标和程序的路径必须是存在的。\n\n\n# 缩略图工具栏\n\n在 Windows，你可以在任务栏上添加一个按钮来当作应用的缩略图工具栏。 它为用户提供了一种访问特定窗口命令的方式, 而无需还原或激活该窗口。\n\nAs quoted from MSDN:\n\n> 此工具栏只是常见的标准工具栏控件。 它最多拥有七个按钮。 每个按钮的 ID、图像、工具提示和状态都定义在结构中, 然后传递给任务栏。 应用程序可以根据其当前状态的要求, 显示、启用、禁用或隐藏缩略图工具栏中的按钮。\n> \n> 例如, Windows 媒体播放机可能提供标准的媒体传输控制, 如播放、暂停、静音和停止。\n\n\n\n> 注：上面的屏幕截图是 Windows 媒体播放器的缩略图工具栏示例\n\nTo set thumbnail toolbar in your application, you need to use BrowserWindow.setThumbarButtons\n\n# 示例\n\n# 设置缩略图工具栏\n\n从 Quick Start Guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { BrowserWindow } = require('electron')\nconst path = require('path')\n\nconst win = new BrowserWindow()\n\nwin.setThumbarButtons([\n  {\n    tooltip: 'button1',\n    icon: path.join(__dirname, 'button1.png'),\n    click () { console.log('button1 clicked') }\n  }, {\n    tooltip: 'button2',\n    icon: path.join(__dirname, 'button2.png'),\n    flags: ['enabled', 'dismissonclick'],\n    click () { console.log('button2 clicked.') }\n  }\n])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# Clear thumbnail toolbar\n\n要清除缩略图工具栏按钮，您需要在 main.js 文件调用 BrowserWindow.setThumbaritons 函数设置为空数组。\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow()\nwin.setThumbarButtons([])\n\n\n1\n2\n3\n4\n\n\n\n# 任务栏中的图标叠加\n\n在 Windows，任务栏按钮可以使用小型叠加层显示应用程序状态。\n\nAs quoted from MSDN:\n\n> 图标叠加作为状态的上下文通知, 旨在否定需要一个单独的通知区域状态图标来将该信息传达给用户。 例如, 当前在通知区域中显示的 Microsoft Outlook 中的新邮件状态现在可以通过任务栏按钮上的叠加来表示。 同样, 您必须在开发周期中决定哪个方法最适合您的应用程序。 叠加图标用于提供重要的、长期的状态或通知, 如网络状态、messenger 状态或新邮件。 不应向用户显示不断变化的叠加或动画。\n\n\n\n> 注：上面的屏幕截图是任务栏按钮叠加的示例\n\nTo set the overlay icon for a window, you need to use the BrowserWindow.setOverlayIcon API.\n\n# 示例\n\n从 Quick Start Guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow()\n\nwin.setOverlayIcon('path/to/overlay.png', 'Description for overlay')\n\n\n1\n2\n3\n4\n5\n\n\n\n# 闪烁框\n\n在Windows上，你可以突出显示任务栏按钮以获得用户的关注。 这与在 macOS 上 dock 弹跳图标相似。\n\nAs quoted from MSDN:\n\n> 通常, 会闪现一个窗口, 通知用户该窗口需要注意, 但是该窗口当前没有键盘焦点。\n\nTo flash the BrowserWindow taskbar button, you need to use the BrowserWindow.flashFrame API.\n\n# 示例\n\n从 Quick Start Guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { BrowserWindow } = require('electron')\n\nconst win = new BrowserWindow()\n\nwin.once('focus', () => win.flashFrame(false))\nwin.flashFrame(true)\n\n\n1\n2\n3\n4\n5\n6\n\n\n> 注意：别忘了调用 win.flashFramework(false) 来关闭闪烁。 在上面的示例中, 当窗口进入焦点时会调用它, 但您可能会使用超时或其他一些事件来禁用它。",normalizedContent:"# taskbar customization (windows)\n\n\n# 概览\n\nelectron有api来配置windows任务栏中的应用程序图标。 此api 支持windows 专用的功能有： 创建 jumplist, 自定义缩略图和工具栏, 图标覆盖, 和 \"flash frame\" 效果, 和跨平台的功能 有：最近打开的文档 和 应用程序进度.\n\n\n# 弹出列表\n\nwindows 允许应用程序自定义一个菜单栏，当用户右键单击任务栏中的应用图标及可显示该列表。 该上下文菜单被成为 弹出列表. you specify custom actions in the tasks category of jumplist, as quoted from msdn:\n\n> 应用程序的“任务”列表的制定是基于程序的功能，用户能用它做一些快捷操作。 任务应当是与上下文无关的，因为它不需要程序运行就可以工作。 而且据统计，它们应该是用户在这个应用上使用最多的操作，例如: 撰写一封邮件或者在邮件程序里打开日历，word处理程序新建一个文档，以某一种模式启动应用程序，或者是启动应用程序的某些子命令。 一个应用程序不应当定义一些用户不需要的高级功能的或者只会使用一次的操作的菜单，以防止将菜单弄得杂乱无章，例如注册。 不要将“任务”功能用于广告操作，例如升级应用或者推广特价产品等等。\n> \n> 强烈推荐“任务”列表内容是静态的。 不管什么情形，也不管应用程序是什么状态，它都应该是保持不变的。 尽管这个列表是动态可变的，你应该注意，那些没想过这个列表会变的用户会被这个行为搞糊涂。\n\n\n\n> 注：上面的屏幕截图是 ie 浏览器的任务栏示例\n\nmacos里的docker menu是菜单项，然而windows里的user tasks只是一个快捷方式。 举个栗子，当用户点击task的时候，程序将会执行特定的参数。\n\n你可以方便在你的application里用app.setusertasks api 去设置user task。\n\n# 示例\n\n# set user tasks\n\n从 quick start guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { app } = require('electron')\n\napp.setusertasks([\n  {\n    program: process.execpath,\n    arguments: '--new-window',\n    iconpath: process.execpath,\n    iconindex: 0,\n    title: 'new window',\n    description: 'create a new window'\n  }\n])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# clear tasks list\n\nto clear your tasks list, you need to call app.setusertasks with an empty array in the main.js file.\n\nconst { app } = require('electron')\n\napp.setusertasks([])\n\n\n1\n2\n3\n\n\n> 注意：即使你的应用关闭，用户任务仍然会被显示，因此在你的应用被卸载之前，任务的图标和程序的路径必须是存在的。\n\n\n# 缩略图工具栏\n\n在 windows，你可以在任务栏上添加一个按钮来当作应用的缩略图工具栏。 它为用户提供了一种访问特定窗口命令的方式, 而无需还原或激活该窗口。\n\nas quoted from msdn:\n\n> 此工具栏只是常见的标准工具栏控件。 它最多拥有七个按钮。 每个按钮的 id、图像、工具提示和状态都定义在结构中, 然后传递给任务栏。 应用程序可以根据其当前状态的要求, 显示、启用、禁用或隐藏缩略图工具栏中的按钮。\n> \n> 例如, windows 媒体播放机可能提供标准的媒体传输控制, 如播放、暂停、静音和停止。\n\n\n\n> 注：上面的屏幕截图是 windows 媒体播放器的缩略图工具栏示例\n\nto set thumbnail toolbar in your application, you need to use browserwindow.setthumbarbuttons\n\n# 示例\n\n# 设置缩略图工具栏\n\n从 quick start guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { browserwindow } = require('electron')\nconst path = require('path')\n\nconst win = new browserwindow()\n\nwin.setthumbarbuttons([\n  {\n    tooltip: 'button1',\n    icon: path.join(__dirname, 'button1.png'),\n    click () { console.log('button1 clicked') }\n  }, {\n    tooltip: 'button2',\n    icon: path.join(__dirname, 'button2.png'),\n    flags: ['enabled', 'dismissonclick'],\n    click () { console.log('button2 clicked.') }\n  }\n])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# clear thumbnail toolbar\n\n要清除缩略图工具栏按钮，您需要在 main.js 文件调用 browserwindow.setthumbaritons 函数设置为空数组。\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow()\nwin.setthumbarbuttons([])\n\n\n1\n2\n3\n4\n\n\n\n# 任务栏中的图标叠加\n\n在 windows，任务栏按钮可以使用小型叠加层显示应用程序状态。\n\nas quoted from msdn:\n\n> 图标叠加作为状态的上下文通知, 旨在否定需要一个单独的通知区域状态图标来将该信息传达给用户。 例如, 当前在通知区域中显示的 microsoft outlook 中的新邮件状态现在可以通过任务栏按钮上的叠加来表示。 同样, 您必须在开发周期中决定哪个方法最适合您的应用程序。 叠加图标用于提供重要的、长期的状态或通知, 如网络状态、messenger 状态或新邮件。 不应向用户显示不断变化的叠加或动画。\n\n\n\n> 注：上面的屏幕截图是任务栏按钮叠加的示例\n\nto set the overlay icon for a window, you need to use the browserwindow.setoverlayicon api.\n\n# 示例\n\n从 quick start guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow()\n\nwin.setoverlayicon('path/to/overlay.png', 'description for overlay')\n\n\n1\n2\n3\n4\n5\n\n\n\n# 闪烁框\n\n在windows上，你可以突出显示任务栏按钮以获得用户的关注。 这与在 macos 上 dock 弹跳图标相似。\n\nas quoted from msdn:\n\n> 通常, 会闪现一个窗口, 通知用户该窗口需要注意, 但是该窗口当前没有键盘焦点。\n\nto flash the browserwindow taskbar button, you need to use the browserwindow.flashframe api.\n\n# 示例\n\n从 quick start guide 中的应用开始，将以下内容更新到 main.js。\n\nconst { browserwindow } = require('electron')\n\nconst win = new browserwindow()\n\nwin.once('focus', () => win.flashframe(false))\nwin.flashframe(true)\n\n\n1\n2\n3\n4\n5\n6\n\n\n> 注意：别忘了调用 win.flashframework(false) 来关闭闪烁。 在上面的示例中, 当窗口进入焦点时会调用它, 但您可能会使用超时或其他一些事件来禁用它。",charsets:{cjk:!0}},{title:"JavaScript 中搜索数组元素",frontmatter:{title:"JavaScript 中搜索数组元素",date:"2022-04-15T20:51:16.000Z",permalink:"/pages/c77e3b/",categories:["《JavaScript教程》笔记"],tags:[null]},regularPath:"/%E3%80%8AJavaScript%E6%95%99%E7%A8%8B%E3%80%8B%E7%AC%94%E8%AE%B0/JavaScript%20%E4%B8%AD%E6%90%9C%E7%B4%A2%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0.html",relativePath:"《JavaScript教程》笔记/JavaScript 中搜索数组元素.md",key:"v-07ee08cf",path:"/pages/c77e3b/",headers:[{level:2,title:"// filter",slug:"filter",normalizedTitle:"// filter",charIndex:2},{level:2,title:"// find",slug:"find",normalizedTitle:"// find",charIndex:151},{level:2,title:"// includes",slug:"includes",normalizedTitle:"// includes",charIndex:293},{level:2,title:"// indexOf",slug:"indexof",normalizedTitle:"// indexof",charIndex:434}],headersStr:"// filter // find // includes // indexOf",content:"# // filter\n\nconst array = [10, 11, 3, 20, 5];\nconst greaterThanTen = array.filter(el => el > 10);\nconsole.log(greaterThanTen) //[11, 20]\n\n\n1\n2\n3\n\n\n\n# // find\n\nconst array2 = [10, 11, 3, 20, 5];\nconst greaterThanTen2 = array2.find(el => el > 10);\nconsole.log(greaterThanTen2)//11\n\n\n1\n2\n3\n\n\n\n# // includes\n\nconst array3 = [10, 11, 3, 20, 5];\nconst includesTwenty3 = array3.includes(20);\nconsole.log(includesTwenty3)//true\n\n\n1\n2\n3\n\n\n\n# // indexOf\n\nconst array4 = [10, 11, 3, 20, 5];\nconst indexOfThree4 = array4.indexOf(3);\nconsole.log(indexOfThree4)//2\n\n\n1\n2\n3\n",normalizedContent:"# // filter\n\nconst array = [10, 11, 3, 20, 5];\nconst greaterthanten = array.filter(el => el > 10);\nconsole.log(greaterthanten) //[11, 20]\n\n\n1\n2\n3\n\n\n\n# // find\n\nconst array2 = [10, 11, 3, 20, 5];\nconst greaterthanten2 = array2.find(el => el > 10);\nconsole.log(greaterthanten2)//11\n\n\n1\n2\n3\n\n\n\n# // includes\n\nconst array3 = [10, 11, 3, 20, 5];\nconst includestwenty3 = array3.includes(20);\nconsole.log(includestwenty3)//true\n\n\n1\n2\n3\n\n\n\n# // indexof\n\nconst array4 = [10, 11, 3, 20, 5];\nconst indexofthree4 = array4.indexof(3);\nconsole.log(indexofthree4)//2\n\n\n1\n2\n3\n",charsets:{}},{title:"js事件",frontmatter:{title:"js事件",date:"2022-04-11T17:14:26.000Z",permalink:"/pages/2bebc1/",categories:["《JavaScript教程》笔记"],tags:[null]},regularPath:"/%E3%80%8AJavaScript%E6%95%99%E7%A8%8B%E3%80%8B%E7%AC%94%E8%AE%B0/js%E4%BA%8B%E4%BB%B6.html",relativePath:"《JavaScript教程》笔记/js事件.md",key:"v-47760738",path:"/pages/2bebc1/",headers:[{level:2,title:"常见的js默认事件",slug:"常见的js默认事件",normalizedTitle:"常见的js默认事件",charIndex:2},{level:2,title:"监听事件",slug:"监听事件",normalizedTitle:"监听事件",charIndex:81},{level:3,title:"拖动",slug:"拖动",normalizedTitle:"拖动",charIndex:90}],headersStr:"常见的js默认事件 监听事件 拖动",content:"# 常见的js默认事件\n\ne.preventDefault(); // 取消默认\ne.stopPropagation(); // 阻止冒泡\n\n\n1\n2\n\n\n\n# 监听事件\n\n\n# 拖动\n\nholder.addEventListener('drop', (e) => {\n    e.preventDefault();//取消默认\n    e.stopPropagation();//阻止冒泡\n    console.log(e)\n    console.log(e.dataTransfer.files) // dataTransfer对象可以用来保存被拖动的数据\n})\nholder.addEventListener('dragover', (e) => {\n    e.preventDefault();//取消默认\n    e.stopPropagation();//阻止冒泡\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n",normalizedContent:"# 常见的js默认事件\n\ne.preventdefault(); // 取消默认\ne.stoppropagation(); // 阻止冒泡\n\n\n1\n2\n\n\n\n# 监听事件\n\n\n# 拖动\n\nholder.addeventlistener('drop', (e) => {\n    e.preventdefault();//取消默认\n    e.stoppropagation();//阻止冒泡\n    console.log(e)\n    console.log(e.datatransfer.files) // datatransfer对象可以用来保存被拖动的数据\n})\nholder.addeventlistener('dragover', (e) => {\n    e.preventdefault();//取消默认\n    e.stoppropagation();//阻止冒泡\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n",charsets:{cjk:!0}},{title:"js读取文件",frontmatter:{title:"js读取文件",date:"2022-04-14T22:02:08.000Z",permalink:"/pages/8f7083/",categories:["《JavaScript教程》笔记"],tags:["JavaScrip"]},regularPath:"/%E3%80%8AJavaScript%E6%95%99%E7%A8%8B%E3%80%8B%E7%AC%94%E8%AE%B0/js%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6.html",relativePath:"《JavaScript教程》笔记/js读取文件.md",key:"v-d7c389aa",path:"/pages/8f7083/",headersStr:null,content:"1.0 读取服务器上的文件 （get请求）\nfunction readAjaxFile(url) {\n\t// 创建xhr\n\tvar xhr = new XMLHttpRequest()\n\t// 监听状态\n\txhr.onreadystatechange = function() {\n\t\t// 监听状态值为4\n\t\tif（xhr.readyState === 4 && xhr.status === 200）{\n\t\t\tconsole.log(xhr.responseText)\n\t\t}\n\t}\n\t// 打开请求\n\txhr.open('GET',url,true)\n\t// 发送数据\n\txhr.send(null)\n}\n\n2.0 读取本地文件\nfunction readInputFile() {\n\tvar file = document.getElementById('box').files[0]\n\t// 实例化FileReader\n\tvar reader = new FileReader();\n\t// 读取文件\n\treader.readAsText(file)\n\t// 监听返回\n\treader.onload = function(data) {\n\t\tconsole.log(data, this.result)\n\t}\n}\n",normalizedContent:"1.0 读取服务器上的文件 （get请求）\nfunction readajaxfile(url) {\n\t// 创建xhr\n\tvar xhr = new xmlhttprequest()\n\t// 监听状态\n\txhr.onreadystatechange = function() {\n\t\t// 监听状态值为4\n\t\tif（xhr.readystate === 4 && xhr.status === 200）{\n\t\t\tconsole.log(xhr.responsetext)\n\t\t}\n\t}\n\t// 打开请求\n\txhr.open('get',url,true)\n\t// 发送数据\n\txhr.send(null)\n}\n\n2.0 读取本地文件\nfunction readinputfile() {\n\tvar file = document.getelementbyid('box').files[0]\n\t// 实例化filereader\n\tvar reader = new filereader();\n\t// 读取文件\n\treader.readastext(file)\n\t// 监听返回\n\treader.onload = function(data) {\n\t\tconsole.log(data, this.result)\n\t}\n}\n",charsets:{cjk:!0}},{title:"windows-arm",frontmatter:{title:"windows-arm",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/5b55e4/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/windows-arm.html",relativePath:"《Electron中文文档》/tutorial/windows-arm.md",key:"v-62f711c8",path:"/pages/5b55e4/",headers:[{level:2,title:"Running a basic app",slug:"running-a-basic-app",normalizedTitle:"running a basic app",charIndex:255},{level:2,title:"General considerations",slug:"general-considerations",normalizedTitle:"general considerations",charIndex:724},{level:3,title:"Architecture-specific code",slug:"architecture-specific-code",normalizedTitle:"architecture-specific code",charIndex:751},{level:3,title:"Native modules",slug:"native-modules",normalizedTitle:"native modules",charIndex:1333},{level:3,title:"测试应用程序",slug:"测试应用程序",normalizedTitle:"测试应用程序",charIndex:1549},{level:2,title:"Development prerequisites",slug:"development-prerequisites",normalizedTitle:"development prerequisites",charIndex:1825},{level:3,title:"Node.js/node-gyp",slug:"node-js-node-gyp",normalizedTitle:"node.js/node-gyp",charIndex:1855},{level:3,title:"Visual Studio 2017",slug:"visual-studio-2017",normalizedTitle:"visual studio 2017",charIndex:1460},{level:4,title:"Creating a cross-compilation command prompt",slug:"creating-a-cross-compilation-command-prompt",normalizedTitle:"creating a cross-compilation command prompt",charIndex:2707},{level:3,title:"Linking against the correct node.lib",slug:"linking-against-the-correct-node-lib",normalizedTitle:"linking against the correct node.lib",charIndex:3894},{level:2,title:"Cross-compiling native modules",slug:"cross-compiling-native-modules",normalizedTitle:"cross-compiling native modules",charIndex:4385},{level:2,title:"Debugging native modules",slug:"debugging-native-modules",normalizedTitle:"debugging native modules",charIndex:4761},{level:2,title:"Getting additional help",slug:"getting-additional-help",normalizedTitle:"getting additional help",charIndex:5609}],headersStr:"Running a basic app General considerations Architecture-specific code Native modules 测试应用程序 Development prerequisites Node.js/node-gyp Visual Studio 2017 Creating a cross-compilation command prompt Linking against the correct node.lib Cross-compiling native modules Debugging native modules Getting additional help",content:"# Windows on ARM\n\n如果您的应用使用Electron 6.0.8及之后的版本，您现在可以在基于ARM的Windows10上构建它。 This considerably improves performance, but requires recompilation of any native modules used in your app. It may also require small fixups to your build and packaging scripts.\n\n\n# Running a basic app\n\nIf your app doesn't use any native modules, then it's really easy to create an Arm version of your app.\n\n 1. Make sure that your app's node_modules directory is empty.\n 2. Using a Command Prompt, run set npm_config_arch=arm64 before running npm install/yarn install as usual.\n 3. If you have Electron installed as a development dependency, npm will download and unpack the arm64 version. You can then package and distribute your app as normal.\n\n\n# General considerations\n\n\n# Architecture-specific code\n\nLots of Windows-specific code contains if... else logic that selects between either the x64 or x86 architectures.\n\nif (process.arch === 'x64') {\n  // Do 64-bit thing...\n} else {\n  // Do 32-bit thing...\n}\n\n\n1\n2\n3\n4\n5\n\n\nIf you want to target arm64, logic like this will typically select the wrong architecture, so carefully check your application and build scripts for conditions like this. In custom build and packaging scripts, you should always check the value of npm_config_arch in the environment, rather than relying on the current process arch.\n\n\n# Native modules\n\nIf you use native modules, you must make sure that they compile against v142 of the MSVC compiler (provided in Visual Studio 2017). 您还必须检查 native module 提供或引用的 .dll 或 .lib 文件是否可用于 Arm 上的 Windows。\n\n\n# 测试应用程序\n\nTo test your app, use a Windows on Arm device running Windows 10 (version 1903 or later). Make sure that you copy your application over to the target device - Chromium's sandbox will not work correctly when loading your application assets from a network location.\n\n\n# Development prerequisites\n\n\n# Node.js/node-gyp\n\nNode.js v12.9.0 or later is recommended. If updating to a new version of Node is undesirable, you can instead update npm's copy of node-gyp manually to version 5.0.2 or later, which contains the required changes to compile native modules for Arm.\n\n\n# Visual Studio 2017\n\nVisual Studio 2017 (any edition) is required for cross-compiling native modules. You can download Visual Studio Community 2017 via Microsoft's Visual Studio Dev Essentials program. After installation, you can add the Arm-specific components by running the following from a Command Prompt:\n\nvs_installer.exe ^\n--add Microsoft.VisualStudio.Workload.NativeDesktop ^\n--add Microsoft.VisualStudio.Component.VC.ATLMFC ^\n--add Microsoft.VisualStudio.Component.VC.Tools.ARM64 ^\n--add Microsoft.VisualStudio.Component.VC.MFC.ARM64 ^\n--includeRecommended\n\n\n1\n2\n3\n4\n5\n6\n\n\n# Creating a cross-compilation command prompt\n\nSetting npm_config_arch=arm64 in the environment creates the correct arm64 .obj files, but the standard Developer Command Prompt for VS 2017 will use the x64 linker. To fix this:\n\n 1. Duplicate the x64_x86 Cross Tools Command Prompt for VS 2017 shortcut (e.g. by locating it in the start menu, right clicking, selecting Open File Location, copying and pasting) to somewhere convenient.\n 2. Right click the new shortcut and choose Properties.\n 3. Change the Target field to read vcvarsamd64_arm64.bat at the end instead of vcvarsamd64_x86.bat.\n\nIf done successfully, the command prompt should print something similar to this on startup:\n\n**********************************************************************\n** Visual Studio 2017 Developer Command Prompt v15.9.15\n** Copyright (c) 2017 Microsoft Corporation\n**********************************************************************\n[vcvarsall.bat] Environment initialized for: 'x64_arm64'\n\n\n1\n2\n3\n4\n5\n\n\nIf you want to develop your application directly on a Windows on Arm device, substitute vcvarsx86_arm64.bat in Target so that cross-compilation can happen with the device's x86 emulation.\n\n\n# Linking against the correct node.lib\n\nBy default, node-gyp unpacks Electron's node headers and downloads the x86 and x64 versions of node.lib into %APPDATA%\\..\\Local\\node-gyp\\Cache, but it does not download the arm64 version (a fix for this is in development.) To fix this:\n\n 1. Download the arm64 node.lib from https://electronjs.org/headers/v6.0.9/win-arm64/node.lib\n 2. Move it to %APPDATA%\\..\\Local\\node-gyp\\Cache\\6.0.9\\arm64\\node.lib\n\nSubstitute 6.0.9 for the version you're using.\n\n\n# Cross-compiling native modules\n\nAfter completing all of the above, open your cross-compilation command prompt and run set npm_config_arch=arm64. Then use npm install to build your project as normal. As with cross-compiling x86 modules, you may need to remove node_modules to force recompilation of native modules if they were previously compiled for another architecture.\n\n\n# Debugging native modules\n\nDebugging native modules can be done with Visual Studio 2017 (running on your development machine) and corresponding Visual Studio Remote Debugger running on the target device. To debug:\n\n 1. 在目标设备上通过_命令提示符_启动 .exe 应用(传递 --inspect-brk 参数可以在加载任何 native modules 之前暂停应用)。\n 2. Launch Visual Studio 2017 on your development machine.\n 3. 通过选择 _调试 > _ 访问并输入设备的 IP 地址和 Visual Studio 远程调试器工具显示的端口号，连接到目标设备。\n 4. Click Refresh and select the appropriate Electron process to attach.\n 5. You may need to make sure that any symbols for native modules in your app are loaded correctly. 要配置此内容，请进入 Visual Studio 2017_Debug > Options..._，and add the folders containing your .pdb symbols under Debugging > Symbols.\n 6. Once attached, set any appropriate breakpoints and resume JavaScript execution using Chrome's remote tools for Node.\n\n\n# Getting additional help\n\nIf you encounter a problem with this documentation, or if your app works when compiled for x86 but not for arm64, please file an issue with \"Windows on Arm\" in the title.",normalizedContent:"# windows on arm\n\n如果您的应用使用electron 6.0.8及之后的版本，您现在可以在基于arm的windows10上构建它。 this considerably improves performance, but requires recompilation of any native modules used in your app. it may also require small fixups to your build and packaging scripts.\n\n\n# running a basic app\n\nif your app doesn't use any native modules, then it's really easy to create an arm version of your app.\n\n 1. make sure that your app's node_modules directory is empty.\n 2. using a command prompt, run set npm_config_arch=arm64 before running npm install/yarn install as usual.\n 3. if you have electron installed as a development dependency, npm will download and unpack the arm64 version. you can then package and distribute your app as normal.\n\n\n# general considerations\n\n\n# architecture-specific code\n\nlots of windows-specific code contains if... else logic that selects between either the x64 or x86 architectures.\n\nif (process.arch === 'x64') {\n  // do 64-bit thing...\n} else {\n  // do 32-bit thing...\n}\n\n\n1\n2\n3\n4\n5\n\n\nif you want to target arm64, logic like this will typically select the wrong architecture, so carefully check your application and build scripts for conditions like this. in custom build and packaging scripts, you should always check the value of npm_config_arch in the environment, rather than relying on the current process arch.\n\n\n# native modules\n\nif you use native modules, you must make sure that they compile against v142 of the msvc compiler (provided in visual studio 2017). 您还必须检查 native module 提供或引用的 .dll 或 .lib 文件是否可用于 arm 上的 windows。\n\n\n# 测试应用程序\n\nto test your app, use a windows on arm device running windows 10 (version 1903 or later). make sure that you copy your application over to the target device - chromium's sandbox will not work correctly when loading your application assets from a network location.\n\n\n# development prerequisites\n\n\n# node.js/node-gyp\n\nnode.js v12.9.0 or later is recommended. if updating to a new version of node is undesirable, you can instead update npm's copy of node-gyp manually to version 5.0.2 or later, which contains the required changes to compile native modules for arm.\n\n\n# visual studio 2017\n\nvisual studio 2017 (any edition) is required for cross-compiling native modules. you can download visual studio community 2017 via microsoft's visual studio dev essentials program. after installation, you can add the arm-specific components by running the following from a command prompt:\n\nvs_installer.exe ^\n--add microsoft.visualstudio.workload.nativedesktop ^\n--add microsoft.visualstudio.component.vc.atlmfc ^\n--add microsoft.visualstudio.component.vc.tools.arm64 ^\n--add microsoft.visualstudio.component.vc.mfc.arm64 ^\n--includerecommended\n\n\n1\n2\n3\n4\n5\n6\n\n\n# creating a cross-compilation command prompt\n\nsetting npm_config_arch=arm64 in the environment creates the correct arm64 .obj files, but the standard developer command prompt for vs 2017 will use the x64 linker. to fix this:\n\n 1. duplicate the x64_x86 cross tools command prompt for vs 2017 shortcut (e.g. by locating it in the start menu, right clicking, selecting open file location, copying and pasting) to somewhere convenient.\n 2. right click the new shortcut and choose properties.\n 3. change the target field to read vcvarsamd64_arm64.bat at the end instead of vcvarsamd64_x86.bat.\n\nif done successfully, the command prompt should print something similar to this on startup:\n\n**********************************************************************\n** visual studio 2017 developer command prompt v15.9.15\n** copyright (c) 2017 microsoft corporation\n**********************************************************************\n[vcvarsall.bat] environment initialized for: 'x64_arm64'\n\n\n1\n2\n3\n4\n5\n\n\nif you want to develop your application directly on a windows on arm device, substitute vcvarsx86_arm64.bat in target so that cross-compilation can happen with the device's x86 emulation.\n\n\n# linking against the correct node.lib\n\nby default, node-gyp unpacks electron's node headers and downloads the x86 and x64 versions of node.lib into %appdata%\\..\\local\\node-gyp\\cache, but it does not download the arm64 version (a fix for this is in development.) to fix this:\n\n 1. download the arm64 node.lib from https://electronjs.org/headers/v6.0.9/win-arm64/node.lib\n 2. move it to %appdata%\\..\\local\\node-gyp\\cache\\6.0.9\\arm64\\node.lib\n\nsubstitute 6.0.9 for the version you're using.\n\n\n# cross-compiling native modules\n\nafter completing all of the above, open your cross-compilation command prompt and run set npm_config_arch=arm64. then use npm install to build your project as normal. as with cross-compiling x86 modules, you may need to remove node_modules to force recompilation of native modules if they were previously compiled for another architecture.\n\n\n# debugging native modules\n\ndebugging native modules can be done with visual studio 2017 (running on your development machine) and corresponding visual studio remote debugger running on the target device. to debug:\n\n 1. 在目标设备上通过_命令提示符_启动 .exe 应用(传递 --inspect-brk 参数可以在加载任何 native modules 之前暂停应用)。\n 2. launch visual studio 2017 on your development machine.\n 3. 通过选择 _调试 > _ 访问并输入设备的 ip 地址和 visual studio 远程调试器工具显示的端口号，连接到目标设备。\n 4. click refresh and select the appropriate electron process to attach.\n 5. you may need to make sure that any symbols for native modules in your app are loaded correctly. 要配置此内容，请进入 visual studio 2017_debug > options..._，and add the folders containing your .pdb symbols under debugging > symbols.\n 6. once attached, set any appropriate breakpoints and resume javascript execution using chrome's remote tools for node.\n\n\n# getting additional help\n\nif you encounter a problem with this documentation, or if your app works when compiled for x86 but not for arm64, please file an issue with \"windows on arm\" in the title.",charsets:{cjk:!0}},{title:"nodejs的基本用法",frontmatter:{title:"nodejs的基本用法",date:"2022-03-22T16:57:09.000Z",permalink:"/pages/b7708e/",categories:["《JavaScript教程》笔记"],tags:[null]},regularPath:"/%E3%80%8AJavaScript%E6%95%99%E7%A8%8B%E3%80%8B%E7%AC%94%E8%AE%B0/nodejs%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95.html",relativePath:"《JavaScript教程》笔记/nodejs的基本用法.md",key:"v-271d449a",path:"/pages/b7708e/",headers:[{level:2,title:"核心库",slug:"核心库",normalizedTitle:"核心库",charIndex:2},{level:3,title:"操作文件流——fs",slug:"操作文件流-fs",normalizedTitle:"操作文件流——fs",charIndex:10},{level:3,title:"NodeJS异步读取文件的",slug:"nodejs异步读取文件的",normalizedTitle:"nodejs异步读取文件的",charIndex:4473},{level:4,title:"将base64转为图片、图片转base64",slug:"将base64转为图片、图片转base64",normalizedTitle:"将base64转为图片、图片转base64",charIndex:5716},{level:3,title:"path",slug:"path",normalizedTitle:"path",charIndex:782},{level:2,title:"第三方库",slug:"第三方库",normalizedTitle:"第三方库",charIndex:11566},{level:3,title:"request",slug:"request",normalizedTitle:"request",charIndex:11575},{level:4,title:"request使用代理下载图片",slug:"request使用代理下载图片",normalizedTitle:"request使用代理下载图片",charIndex:11654},{level:3,title:"request-promise-native",slug:"request-promise-native",normalizedTitle:"request-promise-native",charIndex:12734}],headersStr:"核心库 操作文件流——fs NodeJS异步读取文件的 将base64转为图片、图片转base64 path 第三方库 request request使用代理下载图片 request-promise-native",content:"# 核心库\n\n\n# 操作文件流——fs\n\n/* \n1. fs.stat  检测是文件还是目录(目录 文件是否存在) \n1.1 fs.existsSync 检测文件是否存在\n1. fs.mkdir  创建目录 （创建之前先判断是否存在）\n2. 2.1 递归创建目录 \n3. fs.writeFile  写入文件(文件不存在就创建,但不能创建目录) \n4. fs.appendFile 写入追加文件 \n5.fs.readFile 读取文件 \n6.fs.readdir 读取目录 \n7.fs.rename 重命名 \n1. fs.rmdir  删除目录 \n2. fs.unlink 删除文件 \n*/\nconst fs = require('fs');//fs是node.js的核心模块，不用下载安装，可以直接引入  \n//1. fs.stat  检测是文件还是目录  fs.statSync()同步获取stats对象,通过返回值接收。\nfs.stat('html',function(error,stats){\n    if(error){\n        console.log(error);\n        return false;\n    }\n    console.log('文件：'+stats.isFile());\n    console.log('目录：'+stats.isDirectory());\n})\n1.1 fs.existsSync 检测文件是否存在\n\n\n\n//2. fs.mkdir 创建目录\nfs.mkdir('css',function(error){ if(error){ console.log(error); return false; } console.log('创建目录成功'); })\n//2.1 递归创建目录 const path = require('path'); const fs = require('fs'); function myMkdirSync(dirname) { if (fs.existsSync(dirname)) { return true; } else { //如果父级目录已经创建，然后才能创建子级目录 if (myMkdirSync(path.dirname(dirname))) { fs.mkdirSync(dirname); return true; } } }\n\n\n\n //3. fs.writeFile  写入文件（会覆盖之前的内容）（文件不存在就创建）  utf8参数可以省略  \n    fs.writeFile('123.txt','你好nodejs 覆盖','utf8',function(error){\n        if(error){\n            console.log(error);\n            return false;\n        }\n        console.log('写入成功');\n    })\n\n\n    \n    //4. fs.appendFile 追加文件  \n    fs.appendFile('123.txt','这是写入的内容\\n',function(error){\n        if(error){\n            console.log(error);\n            return false;\n        }\n        console.log('写入成功');\n    })\n\n\n​    \n​    //5.fs.readFile 读取文件  \n​    fs.readFile('123.txt',function(error,data){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        //console.log(data);  //data是读取的十六进制的数据。  也可以在参数中加入编码格式\"utf8\"来解决十六进制的问题;\n​        console.log(data.toString());  //读取出所有行的信息  \n​    })\n\n\n​    \n​    //6.fs.readdir 读取目录下第一级内容  把目录下面的文件和文件夹都获取到。  \n​    fs.readdir('html',function(error,data){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        console.log(data);  //data是数组类型，包含文件夹以及文件的名字(只有第一级目录内容)。拿到一个文件夹下面的所有目录  \n​    })\n\n\n​    \n​    //7.fs.rename 重命名  1.改名  2.剪切文件(移动)  \n​    fs.rename('html/index.html','html/news.html',function(error){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        console.log('修改名字成功');\n​    })\n\n\n​    \n​    //8. fs.rmdir  删除目录   rmdir 这个方法只能删除目录，不能删除文件  \n​    fs.rmdir('abc目录',function(error){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        console.log('删除目录成功');\n​    })\n\n\n​    \n​    //9. fs.unlink删除文件  \n​    fs.unlink('index.txt',function(error){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        console.log('删除文件成功');\n​    })\n\n\n​    \n​    //10. fs.createReadStream  从文件流中读取数据，读取的文件比较大时建议用流的方式读取，文件比较大会多次读取。  \n​    var fileReadStream = fs.createReadStream( 'data1.json');\n​    var str = '';\n​    fileReadStream.on('data', (data) => {\n​        console.log(\"接收到\" + data.length);   //文件比较大时，会多次读取，多次执行该回调函数  \n​    str += data;\n​    })\n​    fileReadStream.on('end', () => {\n​        console.log(\" --- 结束 ---\");\n​    console.log( str );\n​    })\n​    fileReadStream.on('error', (error) => {\n​        console.log(error)\n​    })\n\n\n​    \n​    //11. fs.createWriteStream  写入文件流  \n​    var fs = require(\"fs\");\n​    var data  = \"我是从数据库获取的数据，我要保存起来\";\n​    var writerStream = fs.createWriteStream('output.txt');\n​    writerStream.write( data , 'UTF8' );\n​    writerStream.end();  //标记文件末尾  结束写入流，释放资源  \n​    writerStream.on( 'finish',  function() {\n​        console.log(\"写入完成。\");\n​    });\n​    writerStream.on( 'error',  function(error){\n​        console.log(error.stack);\n​    });\n​    console.log(\"程序执行完毕\");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n\n 12. pipe 管道流\n\nconst fs = require(\"fs\"); \nconst readerStream = fs.createReadStream( 'input.txt'); \nconst writerStream = fs.createWriteStream( 'output.txt'); \nreaderStream.pipe( writerStream ); \nconsole.log(\"程序执行完毕\");\n\n\n1\n2\n3\n4\n5\n\n 13. fs.access 判断目录、文件是否存在(读写权限)\n\nconst  fs = require('fs');\nfs.access('package.json',(err)=>{\nconsole.log(err ?  '目录/文件不存在': '文件存在,可以进行读写');\n});\n\n\n1\n2\n3\n4\n\n\n\n# NodeJS异步读取文件的\n\n//引入fs模块\nconst { writeFile, readFile } = require('fs');\n//引入path模块\nconst { resolve } = require('path');\nmodule.exports = {\n    writeFileAsync (data, fileName) {\n        //将对象转化json字符串\n        data = JSON.stringify(data);\n        const filePath = resolve(__dirname, fileName);\n        return new Promise((resolve, reject) => {\n            writeFile(filePath, data, err => {\n                if (!err) {\n                    console.log('文件保存成功~');\n                    resolve();\n                } else {\n                    reject('writeFileAsync方法出了问题：' + err);\n                }\n            })\n        })\n    },\n    readFileAsync (fileName) {\n        const filePath = resolve(__dirname, fileName);\n        return new Promise((resolve, reject) => {\n            readFile(filePath, (err, data) => {\n                if (!err) {\n                    console.log('文件读取成功~');\n                    //将json字符串转化js对象\n                    data = JSON.parse(data);\n                    resolve(data);\n                } else {\n                    reject('readFileAsync方法出了问题：' + err);\n                }\n            })\n        })\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n# 将base64转为图片、图片转base64\n\n// 参考\n    [js怎么把base64的数据转换成图片？ 在网上找了好久只会把图片转成base64~~？](https://www.zhihu.com/question/60593079/answer/247418738)\n    [请使用 Buffer.from()/Buffer.alloc()](https://nodejs.org/zh-cn/docs/guides/buffer-constructor-deprecation/)\n    [理解一下Buffer.from(), Buffer.alloc()](https://www.cnblogs.com/onesea/p/15268029.html)\n    [使用Node.js实现base64和png文件相互转换的方法](https://www.jb51.net/article/182413.htm)\n    [浅入深出，原生API实现SVG 转 BASE64](https://juejin.cn/post/6844903802202832903)\n//将base64转为图片\n    const fs = require(\"fs\");  // 引入fs模块\n    const base_64_url = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALEAAAA4CAMAAACFSOnnAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAALrUExURQAAAP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wlL9MAAAAD4dFJOUwABYP4wwPAgcJCg/QIHA9AIGPr7UAWwMRIeeBBLs8gcRRFU6yTL/MQUFQrfhFyIJrLuZ3QtCbz5PMeq8QSFoeO2eg6+TD0p9GNGw/YN79b3KPh8gPJPM7EjlJF7utJALIyBE13Z81uiNs2t6KlqH4d9j6avMvVHmclJfsyoFrvKbCUP5q5p7do5UiLYK05ItXkqjVPUXzRmiUEMYd2fBmTn6Tur202ng6TPWER10QvF5W2jbhpCL9dVgpxRubSsxj43hurgmL2/3l6Vjhe3ZcE1bxvOOuHkaGs/cZ4hpcIui2JKlxmdk1pWOHd/01e41ZabcuxzQ3bcFWuYTAAABrZJREFUaN7VmlVYW0kUgE8IIZAQGhII7lbcXVvcHYpLFei2BdpC0Sp1d3f3duvusrWtbdfd3c/jziQB0jaBPrT73XsemJk7c4c/M2eOTAKgENum4h2hXo7AFjGulKwFaG9e52HADuCArdOXmJDSzKH+vBvzcTnHVpZzSBlhMlFktbvlYDvTgScN5ffoRslvWMDbtDGCNdoMe30x18YBHQTbtVlCPAQxFgKGIfqIWUI8C5FHlGOBLYclwJ8WIoaxR4chjmgDYj17gO25FLhmImuAAzMI76DyAH3WEBulY/QSYJMUY9sVU1YRB+FKHVYBQyhuRwtWEVuh3+ZVHDYR56K7DN1D3XUyBFEX2RFShCNmu9R3bNtErNxc84EsQDazLBAbzSS4sbZ8Pp8dKj2llHq9I/9T3qQ1WmNXfNCrLZihL2Im1ogUrYFv9W1aBsjFr99ZHX11FLLshQ49zcZUC/mvRDyILHAMvq9oLLD51r+vwZjIozJCcy4WMljxyU8LBJ3oIxBcfv3E6wnxBVSG8tHp875J7os4qr9jgYd76rqoJqV5DcSehFiIbysaOjha1GHTB7Ggpyoen6C045wKVwCDgPGBpM5H3ReJBz5QgrhqG8qJqwvsFA9stA8owrEVWZweYvH4eYqwTH+xyQb1+1hLkA8ldxM76A8p1HwIcWR37ehwxIxc7hTIu9aM74DRNMThfmBND7G5KvGaXUJEF7IIhgupQbLR08mRovM4gJizDYiJJwlZSyqi+0QFMWcfmTc6n979XEV0mCFcOxQXkFZRngqFmxPpGquo5yGugDOLNBNPoGpMzrQntu6Ja0TChFynH1fEC8OGPCzC5HJ/bNCao0rsk7fH9OKTR5yI3ZKqL6qi5+lx192yH4ZZwBO6LN3YpSOCSGywHPGTdJac2Bwb4/a0CvdCQva0Gbb1zqhrKD0PsMG3VhXDlSCvle+EGIWbiR34zEQjcTY1FZ12sKwujWwPjxJvI2am1D2CLNZTq5e0QhvfJbVb+DgfWxR6jPEAlugJvGyiSzlYMVByjqpO+HVKfCDxBtGPtDonaEIKEUmmqw22g/kY9xyHuA0/kVu3MTigkuypcZS4H60IxPW0eEaJqWqHpxbKZFYS95eI38P9MpmsDGfsxAAFsZCsjSNqAW83zYBQexIOpc+nB1PiLSi3rgIUtc6kFRMyXTJ5NnraC5pq8DHGUKt0Cb/0yyVlhVc/J0+sMBqTKbEe1f+uYj0i+9QQl9IOPRMPogg9toJPiXk0oeglzqTEj3EybYxEkZOceDyZTv+m9eDMl4AMmnBuOcBE1NohV2Kv1f3Yipo/SQhicKGbOGgTPfVmlMX/OeICLCG1qYMJW4t6YlPJXVJpz+ugxG6JLkQr7K5YQxHOkiccutRjeKG3mgy1Dnl6VhgbfJy20prVO0w8oUvFCCbhv/ueHczuJt6LnbMvXcMtYIpO+R+pnrxSZ4+Q2TdTIGK/cMn8cdEJLxFDFTbaJw2TjJKfPH+MObm8THgMxviGR95rSKXE7RKuizoYO68uapmV7mx5m1piIcqlBmB7BnLvmpN/mF5FO34m1m0CvdMdiVipHJzkPIUs7w7yzqMHxLpZkaw9xWbnIdLzlXQpWC2kJszZGzjmJH6cSzbVXkrs9VESNKyzpBevN7i4315+cMPwc/VbbhwfhZOVSR/H2lNtEMKXi3yQRSD80+ul9L0XK0ITfoXo+Xcsjivdkyn1IOpEtHiOCkWCo9IzuVlACNIV3JW4RpPxCuFunG1sSF5whVnpD/vylAlGdMqyq28sfZm6kloHgfMYgOrUDzUOs5N4ZOXfGQQFpWQrtvY1oQ8GlUTO5J55Y1HpD/hrZM59XAVzBllzTTSPO7ELBFDoWvY3mDlK+gqJqovdUZpi++biaGP/Zc7cjLc4xLsO/6CPcaddYPSQJKcO2NDVdps4M+bfzt57Ch6RptKdhjM6c8Zmlow5xXjiEK44rAxi/WEcBp8qSg1i/tdmd9BPGgoyEj2SuMFMymN+lqovxPC/oPYgWNIr8PvBU5iPPAF/iYCkCeAtWQ1pmShjPLA3SqtJQbzkdG5hvnUKmjCd2Ce4tTszKdL5Q6CFWxkOPHuhR2Vvy/yyK9chi9HAaT5rrFSyk9zfwfqJOaOJV5lB3eDeZs5mu5KzZkwGXjoKvFNU78HQOmQRk4EdiYVYPk71ybn0JGMGAwfOJ3+aRqk+cmO0SnA86Y2FC0t+y0LlMM1oTJtZw2swVq4O34WyBZjztfxiAyy537OEeGqMTDD29hHZ9cYtjGX8D43PR1fWmVfHAAAAAElFTkSuQmCC\"\n    const path = 'favicon.ico'\n    const base64 = base_64_url.replace(/^data:image\\/\\w+;base64,/, \"\"); //去掉图片base64码前面部分data:image/png;base64\n    // Buffer 已弃用用Buffer.from和Buffer.alloc代替.\n    // Buffer.from(), Buffer.alloc() 都是创建一个buffer， Buffer.from()从字符串或者数组创建一个buffer, Buffer.alloc()是创建一个指定大小的buffer。\n    const dataBuffer = new Buffer.from(base64, 'base64'); //把base64码转成buffer对象，\n    console.log('dataBuffer是否是Buffer对象：' + Buffer.isBuffer(dataBuffer)); // 输出是否是buffer对象\n    fs.writeFile(path, dataBuffer, function (err) {//用fs写入文件\n        if (err) {\n            console.log(err);\n        } else {\n            console.log('写入成功！');\n        }\n    });\n\n//NodeJs将任意文件转换为base64格式\n    const path = require('path');\n    const mineType = require('mime-types');\n    function img_to_base64(filePath){\n        let data = fs.readFileSync(filePath);\n        data = new Buffer.from(data).toString('base64');\n        let base64 = 'data:' + mineType.lookup(filePath) + ';base64,' + data;\n        return base64.length>30?base64:''\n    }\n    console.log(img_to_base64('favicon.svg'))\n    \n//将图片文件转换成base64\n    const fs = require(\"fs\");\n    const util = require(\"util\");\n    const imageData = await util.promisify(fs.readFileSync(fileUrl)); // 例：xxx/xx/xx.png\n    const imageBase64 = imageData.toString(\"base64\");\n    const imagePrefix = \"data:image/png;base64,\";\n    console.log(imagePrefix + imageBase64);\n\n\n\n# path\n\n/*\npath.dirname \npath.resolve\n*/\nconst path = require('path');\npath.dirname(dirname)\n\n\n\n# 第三方库\n\n\n# request\n\n/*\n1.下载图片\n*/\n[github-request](https://github.com/request/request)\n\n\n# request使用代理下载图片\n\nconst request = require('request');//也是请求网址模块，只不过下载图片的函数比较简单，所以用这个\nconst fs = require('fs');//用于操作文件流\nconst path = require('path');\nconst console = require('console');\n\nconst img_url = \"https://www.baidu.com/favicon.ico\"\n// const img_url = \"https://www.google.com/favicon.ico\"\nconst proxy = \"http://127.0.0.1:7890/\"\nconst { host } = new URL(\"\", img_url);\nconst img_path = `images/${host}/favicon.ico`\n\n//2. fs.mkdir  创建目录  \n// fs.mkdir(img_path,error=>{})\nmyMkdirSync(path.dirname(img_path));\nconsole.log(fs.existsSync(path.dirname(img_path)))\ndownload_img(img_url, img_path, proxy)\n\n// 异步执行函数，用于下载图片，接收图片地址，文件名、代理节点。\nasync function download_img(img_url, img_path, proxy = '') {\nawait request({\n    url: img_url,\n    proxy: proxy,\n}).pipe(fs.createWriteStream(img_path)).on('close', function () {\n    console.log('pic saved!')\n})\n}\n\n//递归创建目录\nfunction myMkdirSync(dirname) {\nif (fs.existsSync(dirname)) {\n    return true;\n} else {\n    //如果父级目录已经创建，然后才能创建子级目录\n    if (myMkdirSync(path.dirname(dirname))) {\n    fs.mkdirSync(dirname);\n    return true;\n    }\n}\n}\n\n\n\n# request-promise-native\n\nconst rpn = require('request-promise-native');\nconst url = \"https://www.baidu.com/\";\nasync function useRequestPromiseNative(){\nlet options = {\nmethod: 'POST',\nuri: url,\nbody: { // 这里定义你的body参数\n},\njson: true, // 这个看你的参数而定\n};\n\nawait rpn(image_url, function (error, response, body) {\n    console.log(response && response.statusCode && response.statusCode === 200)\n    return response && response.statusCode && response.statusCode === 200\n})\n//  let rpnbody = await rpn(options);  \n//  console.log(\"rpnbody\" , rpnbody );\n\n}\nuseRequestPromiseNative();",normalizedContent:"# 核心库\n\n\n# 操作文件流——fs\n\n/* \n1. fs.stat  检测是文件还是目录(目录 文件是否存在) \n1.1 fs.existssync 检测文件是否存在\n1. fs.mkdir  创建目录 （创建之前先判断是否存在）\n2. 2.1 递归创建目录 \n3. fs.writefile  写入文件(文件不存在就创建,但不能创建目录) \n4. fs.appendfile 写入追加文件 \n5.fs.readfile 读取文件 \n6.fs.readdir 读取目录 \n7.fs.rename 重命名 \n1. fs.rmdir  删除目录 \n2. fs.unlink 删除文件 \n*/\nconst fs = require('fs');//fs是node.js的核心模块，不用下载安装，可以直接引入  \n//1. fs.stat  检测是文件还是目录  fs.statsync()同步获取stats对象,通过返回值接收。\nfs.stat('html',function(error,stats){\n    if(error){\n        console.log(error);\n        return false;\n    }\n    console.log('文件：'+stats.isfile());\n    console.log('目录：'+stats.isdirectory());\n})\n1.1 fs.existssync 检测文件是否存在\n\n\n\n//2. fs.mkdir 创建目录\nfs.mkdir('css',function(error){ if(error){ console.log(error); return false; } console.log('创建目录成功'); })\n//2.1 递归创建目录 const path = require('path'); const fs = require('fs'); function mymkdirsync(dirname) { if (fs.existssync(dirname)) { return true; } else { //如果父级目录已经创建，然后才能创建子级目录 if (mymkdirsync(path.dirname(dirname))) { fs.mkdirsync(dirname); return true; } } }\n\n\n\n //3. fs.writefile  写入文件（会覆盖之前的内容）（文件不存在就创建）  utf8参数可以省略  \n    fs.writefile('123.txt','你好nodejs 覆盖','utf8',function(error){\n        if(error){\n            console.log(error);\n            return false;\n        }\n        console.log('写入成功');\n    })\n\n\n    \n    //4. fs.appendfile 追加文件  \n    fs.appendfile('123.txt','这是写入的内容\\n',function(error){\n        if(error){\n            console.log(error);\n            return false;\n        }\n        console.log('写入成功');\n    })\n\n\n​    \n​    //5.fs.readfile 读取文件  \n​    fs.readfile('123.txt',function(error,data){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        //console.log(data);  //data是读取的十六进制的数据。  也可以在参数中加入编码格式\"utf8\"来解决十六进制的问题;\n​        console.log(data.tostring());  //读取出所有行的信息  \n​    })\n\n\n​    \n​    //6.fs.readdir 读取目录下第一级内容  把目录下面的文件和文件夹都获取到。  \n​    fs.readdir('html',function(error,data){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        console.log(data);  //data是数组类型，包含文件夹以及文件的名字(只有第一级目录内容)。拿到一个文件夹下面的所有目录  \n​    })\n\n\n​    \n​    //7.fs.rename 重命名  1.改名  2.剪切文件(移动)  \n​    fs.rename('html/index.html','html/news.html',function(error){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        console.log('修改名字成功');\n​    })\n\n\n​    \n​    //8. fs.rmdir  删除目录   rmdir 这个方法只能删除目录，不能删除文件  \n​    fs.rmdir('abc目录',function(error){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        console.log('删除目录成功');\n​    })\n\n\n​    \n​    //9. fs.unlink删除文件  \n​    fs.unlink('index.txt',function(error){\n​        if(error){\n​            console.log(error);\n​            return false;\n​        }\n​        console.log('删除文件成功');\n​    })\n\n\n​    \n​    //10. fs.createreadstream  从文件流中读取数据，读取的文件比较大时建议用流的方式读取，文件比较大会多次读取。  \n​    var filereadstream = fs.createreadstream( 'data1.json');\n​    var str = '';\n​    filereadstream.on('data', (data) => {\n​        console.log(\"接收到\" + data.length);   //文件比较大时，会多次读取，多次执行该回调函数  \n​    str += data;\n​    })\n​    filereadstream.on('end', () => {\n​        console.log(\" --- 结束 ---\");\n​    console.log( str );\n​    })\n​    filereadstream.on('error', (error) => {\n​        console.log(error)\n​    })\n\n\n​    \n​    //11. fs.createwritestream  写入文件流  \n​    var fs = require(\"fs\");\n​    var data  = \"我是从数据库获取的数据，我要保存起来\";\n​    var writerstream = fs.createwritestream('output.txt');\n​    writerstream.write( data , 'utf8' );\n​    writerstream.end();  //标记文件末尾  结束写入流，释放资源  \n​    writerstream.on( 'finish',  function() {\n​        console.log(\"写入完成。\");\n​    });\n​    writerstream.on( 'error',  function(error){\n​        console.log(error.stack);\n​    });\n​    console.log(\"程序执行完毕\");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n\n 12. pipe 管道流\n\nconst fs = require(\"fs\"); \nconst readerstream = fs.createreadstream( 'input.txt'); \nconst writerstream = fs.createwritestream( 'output.txt'); \nreaderstream.pipe( writerstream ); \nconsole.log(\"程序执行完毕\");\n\n\n1\n2\n3\n4\n5\n\n 13. fs.access 判断目录、文件是否存在(读写权限)\n\nconst  fs = require('fs');\nfs.access('package.json',(err)=>{\nconsole.log(err ?  '目录/文件不存在': '文件存在,可以进行读写');\n});\n\n\n1\n2\n3\n4\n\n\n\n# nodejs异步读取文件的\n\n//引入fs模块\nconst { writefile, readfile } = require('fs');\n//引入path模块\nconst { resolve } = require('path');\nmodule.exports = {\n    writefileasync (data, filename) {\n        //将对象转化json字符串\n        data = json.stringify(data);\n        const filepath = resolve(__dirname, filename);\n        return new promise((resolve, reject) => {\n            writefile(filepath, data, err => {\n                if (!err) {\n                    console.log('文件保存成功~');\n                    resolve();\n                } else {\n                    reject('writefileasync方法出了问题：' + err);\n                }\n            })\n        })\n    },\n    readfileasync (filename) {\n        const filepath = resolve(__dirname, filename);\n        return new promise((resolve, reject) => {\n            readfile(filepath, (err, data) => {\n                if (!err) {\n                    console.log('文件读取成功~');\n                    //将json字符串转化js对象\n                    data = json.parse(data);\n                    resolve(data);\n                } else {\n                    reject('readfileasync方法出了问题：' + err);\n                }\n            })\n        })\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n# 将base64转为图片、图片转base64\n\n// 参考\n    [js怎么把base64的数据转换成图片？ 在网上找了好久只会把图片转成base64~~？](https://www.zhihu.com/question/60593079/answer/247418738)\n    [请使用 buffer.from()/buffer.alloc()](https://nodejs.org/zh-cn/docs/guides/buffer-constructor-deprecation/)\n    [理解一下buffer.from(), buffer.alloc()](https://www.cnblogs.com/onesea/p/15268029.html)\n    [使用node.js实现base64和png文件相互转换的方法](https://www.jb51.net/article/182413.htm)\n    [浅入深出，原生api实现svg 转 base64](https://juejin.cn/post/6844903802202832903)\n//将base64转为图片\n    const fs = require(\"fs\");  // 引入fs模块\n    const base_64_url = \"data:image/png;base64,ivborw0kggoaaaansuheugaaaleaaaa4camaaacfsonnaaaabgdbtueaalgpc/xhbqaaaafzukdcak7ohokaaalruexurqaaap///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wll9maaaad4dfjouwabyp4wwpagcjcg/qiha9aigpr7uawwmrieebbls8gcrrfu6ytl/mqufqrfhfyijrluz3qtcbz5pmeq8qsfoeo2eg6+td0p9gngw/yn79b3kph8gpjpm7ejljf7utjaliybe13z81uins2t6klqh4d9j6avmvvhmcljfsyofrvkbcup5q5p7do5uilyk05itxkqjvpuxzrmiuemyd2fbmtn6tur202ng6tpwer10qvf5w2jbhpcl9dvgpxrubssxj43hurgml2/3l6vjhe3zce1bxvoouhkags/cz4hpciui2jklxmdk1pwohd/01e41zabcuxzq3bcfwuytaaabrzjrefuan7vmlvyw0kuge8iizaqghii7lbcxvvchyplfei2bdpc0sp1d3f3duvusrwtbdfd3c/jziqb0jabprt73xsemjk7c4c/m2eotakgenum4h2hxo7afjgulkwfag9e52haducardoxmjdszkh+vbvzctnhvpzzsblhmlfktbvlydvtgscn5fforslvwmdbtdgcndome30x18ybhqtbtvlcpaqxfgkgifqiwui8c5fhlgoblyclwj8wioaxr4chjmgdyj17go25flhmimuaazmi76dyah3webuly/qsyjmuy9svu1yrb+fkhvybqyhurwtwevuh3+zvhdyr56k7dn1d3xuybfex2rfshcnmu9r3bnternxc84esqdazlbabzss4sbz8pp8dkj2llhq9i/9t3qq1wmnxfncrlzihl2im1oguryfv9w1absjfr99zhx11fllshq49zczuc/mvrdyilhamvq9olld51r+vwzjiozjccy4wmljxyu8lbj3oixbcfv3e6wnxbvsg8thp875j7os4qr9jgyd76rqojqv5dcsehfiibysaojha1ghtb7ggpyoen6c045wkvwcdgpgbpm5h3rejbz5qgrhqg8qjqwvsfa9sta8owrevwzweyvh4eyqwth+xyqb1+1hlka8ldxm76a8p1hwicwr37ehwxixc7htiu9am74drnmthfmbnd7g5kvgaxujef7iihgupqblr08mrovm4gjizdyijjwlzsyqi+0qfmwcfmtc6n979xev0mcfcoxqxkfzrngqfmxppgquo5ygugdolnbnpogpmzrqntu6ja0tchfynh1fec8ogpczc5hj/bncao0rsk7fh9oktr5yi3zkql6qi5+lx192yh4zzwbo6ln3ypsocsgywhpgtdjac2bwb4/a0cvdcqva0gbb1zqhrkd0psmg3vhxdlscvle+egiwbir34zeqjcty1fz12skwujwwpjxjvi2am1d2clnztq5e0qhvfjbvb+dgfwxr6jpealugjvgyiszlymvbyjqpo+hvkfcdxbtgptdonaeikeummqw22g/ky9xyhua0/kvu3mtigkuypczs4h60ixpw0eeajqwqhpxbkzfys95ei38p9mpmsdgfsxaafszcsjsnqaw83zybqexiopc+nb1pilsi3rgiutc6kfrmyxtj5nnrac5pq8dhgukt0cb/0yyvlhvc/j0+smbqtkbee1f+uyj0i+9qql9ioprmpogg9tojpixk0oeglzqtej3eybyxekzocedyztv+m9edml4ammnbuocbe1nohv2kv1f3yipo/sqhickgboggtpfvmlmx/oeiclcg1qymjw4t6ylpjxvjpz+ugxg6jlkqr7k5yqxhokiccutrjekg3mgy1dnl6vhgbfjy20prvo0w8ouvfccbhv/uehczujt6lnbmvxcmtyipo+r+pnrxsz4+q2tdtigk/cmn8cdejlxfdftbajw2tjjkfph+mobm8thgmxvigr95rskxe7rkuizoyo68uapmv7mx5m1piicqlbmb7bnlvmpn/mf5fo34m1m0cvdmdiviphjzkpius7w7yzqmhxlpzkaw9xwbnidlzlxqpwc2kjszzgzjmjh6cszbvxkrs9vesnkyzpbevn7i4315+cmpwc/vbbhwfhzovsr/h2lntemkxi3yqrsd80+ul9l0xk0itfoxo+xcsjivdkyn1iopethiockwco9izuvlacniv3jw4rppxcufung1ssf5whvnpd/vylalgdmqyq28sfzm6klohgfmygorudzuos5n4zoxfgqqfpwqrtvy1oq8gluto5j55y1hpd/hrzm59xavzbllzttspo7elbfdowvy3mdlk+gqjqovduzpi++biagp/zc7cjlc4xlso/6cpcaddypsqjkco2ndvdps4m+bfzt57ch6rptkdhjm6c8zmlow5xxjiek44raxi/wecbp8qsg1i/tdmd9bpggoyej2sumfmymn+lqovxpc/opygwnir8pvbu5ippaf/iyckceatwq1pmshjpla3sqtjqbzkdg5hvnukmjcd2ce4ttszkdl5q6cfwxkophuhr2vvy/yyk9chi9haat5rrfsyk9zfwfqjoaojv5lb3edezs5mu5kzzkwgxjokvfnu78hqomqrk4ediyvypk71ybn0jgmgawfoj3+arqk+cmo0sna86y2fc0t+y0llmm1otjtzw2swvq4o34wybzjztfxiayy537oeegqmtdd29hhz9cytjgx8d43pr1fwmvfhaaaaaelftksuqmcc\"\n    const path = 'favicon.ico'\n    const base64 = base_64_url.replace(/^data:image\\/\\w+;base64,/, \"\"); //去掉图片base64码前面部分data:image/png;base64\n    // buffer 已弃用用buffer.from和buffer.alloc代替.\n    // buffer.from(), buffer.alloc() 都是创建一个buffer， buffer.from()从字符串或者数组创建一个buffer, buffer.alloc()是创建一个指定大小的buffer。\n    const databuffer = new buffer.from(base64, 'base64'); //把base64码转成buffer对象，\n    console.log('databuffer是否是buffer对象：' + buffer.isbuffer(databuffer)); // 输出是否是buffer对象\n    fs.writefile(path, databuffer, function (err) {//用fs写入文件\n        if (err) {\n            console.log(err);\n        } else {\n            console.log('写入成功！');\n        }\n    });\n\n//nodejs将任意文件转换为base64格式\n    const path = require('path');\n    const minetype = require('mime-types');\n    function img_to_base64(filepath){\n        let data = fs.readfilesync(filepath);\n        data = new buffer.from(data).tostring('base64');\n        let base64 = 'data:' + minetype.lookup(filepath) + ';base64,' + data;\n        return base64.length>30?base64:''\n    }\n    console.log(img_to_base64('favicon.svg'))\n    \n//将图片文件转换成base64\n    const fs = require(\"fs\");\n    const util = require(\"util\");\n    const imagedata = await util.promisify(fs.readfilesync(fileurl)); // 例：xxx/xx/xx.png\n    const imagebase64 = imagedata.tostring(\"base64\");\n    const imageprefix = \"data:image/png;base64,\";\n    console.log(imageprefix + imagebase64);\n\n\n\n# path\n\n/*\npath.dirname \npath.resolve\n*/\nconst path = require('path');\npath.dirname(dirname)\n\n\n\n# 第三方库\n\n\n# request\n\n/*\n1.下载图片\n*/\n[github-request](https://github.com/request/request)\n\n\n# request使用代理下载图片\n\nconst request = require('request');//也是请求网址模块，只不过下载图片的函数比较简单，所以用这个\nconst fs = require('fs');//用于操作文件流\nconst path = require('path');\nconst console = require('console');\n\nconst img_url = \"https://www.baidu.com/favicon.ico\"\n// const img_url = \"https://www.google.com/favicon.ico\"\nconst proxy = \"http://127.0.0.1:7890/\"\nconst { host } = new url(\"\", img_url);\nconst img_path = `images/${host}/favicon.ico`\n\n//2. fs.mkdir  创建目录  \n// fs.mkdir(img_path,error=>{})\nmymkdirsync(path.dirname(img_path));\nconsole.log(fs.existssync(path.dirname(img_path)))\ndownload_img(img_url, img_path, proxy)\n\n// 异步执行函数，用于下载图片，接收图片地址，文件名、代理节点。\nasync function download_img(img_url, img_path, proxy = '') {\nawait request({\n    url: img_url,\n    proxy: proxy,\n}).pipe(fs.createwritestream(img_path)).on('close', function () {\n    console.log('pic saved!')\n})\n}\n\n//递归创建目录\nfunction mymkdirsync(dirname) {\nif (fs.existssync(dirname)) {\n    return true;\n} else {\n    //如果父级目录已经创建，然后才能创建子级目录\n    if (mymkdirsync(path.dirname(dirname))) {\n    fs.mkdirsync(dirname);\n    return true;\n    }\n}\n}\n\n\n\n# request-promise-native\n\nconst rpn = require('request-promise-native');\nconst url = \"https://www.baidu.com/\";\nasync function userequestpromisenative(){\nlet options = {\nmethod: 'post',\nuri: url,\nbody: { // 这里定义你的body参数\n},\njson: true, // 这个看你的参数而定\n};\n\nawait rpn(image_url, function (error, response, body) {\n    console.log(response && response.statuscode && response.statuscode === 200)\n    return response && response.statuscode && response.statuscode === 200\n})\n//  let rpnbody = await rpn(options);  \n//  console.log(\"rpnbody\" , rpnbody );\n\n}\nuserequestpromisenative();",charsets:{cjk:!0}},{title:"TypeScript 的基本使用",frontmatter:{title:"TypeScript 的基本使用",date:"2022-04-15T07:26:40.000Z",permalink:"/pages/170433/",categories:["《TypeScript 》笔记"],tags:[null]},regularPath:"/%E3%80%8ATypeScript%20%E3%80%8B%E7%AC%94%E8%AE%B0/TypeScript%20%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"《TypeScript 》笔记/TypeScript 的基本使用.md",key:"v-fb044f08",path:"/pages/170433/",headersStr:null,content:'npm install typescript -g\nmkdir TypeScriptDemo\ncd TypeScriptDemo\ncode .\nnew-item  hello.ts\n\n\n1\n2\n3\n4\n5\n\n\nhello.ts\n\nfunction hello() {\n  let web: string = "Hello World";\n  console.log(web);\n}\nhello();\n\n\n1\n2\n3\n4\n5\n\n\n转换为js\n\ntsc hello.ts\nnode hello.js\n\n\n1\n2\n\n\nts-node 的安装和使用\n\nnpm install -g ts-node\nts-node hello.ts\n\n\n1\n2\n\n\nnpm i ts-node -D\nnode --loader ts-node/esm hello.ts\n\n\n1\n2\n',normalizedContent:'npm install typescript -g\nmkdir typescriptdemo\ncd typescriptdemo\ncode .\nnew-item  hello.ts\n\n\n1\n2\n3\n4\n5\n\n\nhello.ts\n\nfunction hello() {\n  let web: string = "hello world";\n  console.log(web);\n}\nhello();\n\n\n1\n2\n3\n4\n5\n\n\n转换为js\n\ntsc hello.ts\nnode hello.js\n\n\n1\n2\n\n\nts-node 的安装和使用\n\nnpm install -g ts-node\nts-node hello.ts\n\n\n1\n2\n\n\nnpm i ts-node -d\nnode --loader ts-node/esm hello.ts\n\n\n1\n2\n',charsets:{cjk:!0}},{title:"electron-vue的基本使用",frontmatter:{title:"electron-vue的基本使用",date:"2022-04-11T20:18:57.000Z",permalink:"/pages/2289bc/",categories:["《Vue》笔记","其他"],tags:[null]},regularPath:"/%E3%80%8AVue%E3%80%8B%E7%AC%94%E8%AE%B0/99.%E5%85%B6%E4%BB%96/electron-vue%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"《Vue》笔记/99.其他/electron-vue的基本使用.md",key:"v-2ba1ace4",path:"/pages/2289bc/",headersStr:null,content:"# 参考\n\nelectron-vue\n\n\n# electron-vue的环境搭建\n\ncd ../\n# npm list -g --depth 0 查看npm全局安装的包\n# npm install -g vue-cli\nvue init simulatedgreg/electron-vue my-project\n\n\n1\n2\n3\n4\n\n\n? Application Name my-project\n? Application Id com.example.yourapp\n? Application Version 0.0.1\n? Project description An electron-vue project\n? Use Sass / Scss? No\n? Select which Vue plugins to install (Press <space> to select, <a> to toggle all, <i> to invert selection)axios, vue-el\nectron, vue-router, vuex, vuex-electron\n? Use linting with ESLint? No\n? Set up unit testing with Karma + Mocha? No\n? Set up end-to-end testing with Spectron + Mocha? No\n? What build tool would you like to use? builder\n? author wenxuli2 <1031553051@qq,com>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n",normalizedContent:"# 参考\n\nelectron-vue\n\n\n# electron-vue的环境搭建\n\ncd ../\n# npm list -g --depth 0 查看npm全局安装的包\n# npm install -g vue-cli\nvue init simulatedgreg/electron-vue my-project\n\n\n1\n2\n3\n4\n\n\n? application name my-project\n? application id com.example.yourapp\n? application version 0.0.1\n? project description an electron-vue project\n? use sass / scss? no\n? select which vue plugins to install (press <space> to select, <a> to toggle all, <i> to invert selection)axios, vue-el\nectron, vue-router, vuex, vuex-electron\n? use linting with eslint? no\n? set up unit testing with karma + mocha? no\n? set up end-to-end testing with spectron + mocha? no\n? what build tool would you like to use? builder\n? author wenxuli2 <1031553051@qq,com>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n",charsets:{cjk:!0}},{title:"windows-store-guide",frontmatter:{title:"windows-store-guide",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/814555/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/windows-store-guide.html",relativePath:"《Electron中文文档》/tutorial/windows-store-guide.md",key:"v-433d799c",path:"/pages/814555/",headers:[{level:2,title:"背景和要求",slug:"背景和要求",normalizedTitle:"背景和要求",charIndex:262},{level:2,title:"步骤 1: 打包你的 Electron 应用程序",slug:"步骤-1-打包你的-electron-应用程序",normalizedTitle:"步骤 1: 打包你的 electron 应用程序",charIndex:806},{level:2,title:"步骤 2: 运行 electron-windows-store",slug:"步骤-2-运行-electron-windows-store",normalizedTitle:"步骤 2: 运行 electron-windows-store",charIndex:1350},{level:2,title:"步骤 3: 使用 AppX 包",slug:"步骤-3-使用-appx-包",normalizedTitle:"步骤 3: 使用 appx 包",charIndex:2020},{level:2,title:"可选: 使用 BackgroundTask 添加 UWP 功能",slug:"可选-使用-backgroundtask-添加-uwp-功能",normalizedTitle:"可选: 使用 backgroundtask 添加 uwp 功能",charIndex:2350},{level:2,title:"可选: 使用容器虚拟化进行转换",slug:"可选-使用容器虚拟化进行转换",normalizedTitle:"可选: 使用容器虚拟化进行转换",charIndex:2520}],headersStr:"背景和要求 步骤 1: 打包你的 Electron 应用程序 步骤 2: 运行 electron-windows-store 步骤 3: 使用 AppX 包 可选: 使用 BackgroundTask 添加 UWP 功能 可选: 使用容器虚拟化进行转换",content:'# Windows 商店指南\n\n在 Windows 10 中，一些不错的旧 win32 程序迎来了一个新朋友：通用 Windows 平台。 新的 .appx 格式不仅启用了许多新的强大的 API，如 Cortana 或推送通知，而且通过 Windows 应用商店，也同时简化了安装和更新。\n\nMicrosoft 开发了一个工具，将 Electron 应用程序编译为 .appx 软件包，使开发人员能够使用新应用程序模型中的一些好东西。 本指南解释了如何使用它 - 以及 Electron AppX 包的功能和限制。\n\n\n# 背景和要求\n\nWindows 10 的 "周年更新" 能够运行 win32 .exe 程序并且它们的虚拟化文件系统和注册表跟随一起启动。 两者都是通过在 Windows 容器中运行应用程序和安装器编译后创建的，允许 Windows 在安装过程中正确识别操作系统进行了哪些修改。 将可执行文件和虚拟文件系统与虚拟注册表配对, 允许 Windows 启用一键安装和卸载。\n\n此外，exe 在 appx 模型内启动 - 这意味着它可以使用通用 Windows 平台可用的许多 API。 为了获得更多的功能，Electron 应用程序可以与一个看不见的 UWP 后台任务配合使用，它与 exe 一起启动，作为后台运行任务的接收器，接收推送通知或与其他 UWP 应用程序通信 。\n\n要编译任何现有的 Electron 应用程序，请确保满足以下要求:\n\n * Windows 10及周年更新 (2016年8月2日发布的)\n * Windows 10 SDK, 这里下载\n * 最新的 Node 4 (运行 node -v 来确认)\n\n然后, 安装 electron-windows-store CLI:\n\nnpm install -g electron-windows-store\n\n\n1\n\n\n\n# 步骤 1: 打包你的 Electron 应用程序\n\n打包应用程序使用 electron-packager (或类似工具). 确保在最终的应用程序中删除不需要的 node_modules, 因为这些你不需要模块只会额外增加你的应用程序的大小.\n\n结构输出应该看起来大致像这样:\n\n├── Ghost.exe\n├── LICENSE\n├── content_resources_200_percent.pak\n├── content_shell.pak\n├── d3dcompiler_47.dll\n├── ffmpeg.dll\n├── icudtl.dat\n├── libEGL.dll\n├── libGLESv2.dll\n├── locales\n│   ├── am.pak\n│   ├── ar.pak\n│   ├── [...]\n├── node.dll\n├── resources\n│   └── app.asar\n├── v8_context_snapshot.bin\n├── squirrel.exe\n└── ui_resources_200_percent.pak\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 步骤 2: 运行 electron-windows-store\n\n从提权的 PowerShell(用管理员身份运行它) 中, 以所需的参数运行 electron-windows-store，传递输入和输出目录，应用程序的名称和版本，以及确认 node_modules 应该是扁平的。\n\nelectron-windows-store `\n    --input-directory C:\\myelectronapp `\n    --output-directory C:\\output\\myelectronapp `\n    --package-version 1.0.0.0 `\n    --package-name myelectronapp\n\n\n1\n2\n3\n4\n5\n\n\n一旦执行，工具就开始工作：它接受您的 Electron 应用程序作为输入，展平 node_modules。 然后，它将应用程序归档为 app.zip。 使用安装程序和 Windows 容器，该工具创建一个“扩展的” AppX 包 - 包括 Windows 应用程序清单 (AppXManifest.xml)以及虚拟文件系统和输出文件夹中的虚拟注册表。\n\n当创建扩展的 AppX 文件后，该工具使用 Windows App Packager(MakeAppx.exe)将磁盘上的这些文件创建为单文件 AppX 包。 最后，该工具可用于在计算机上创建可信证书，以签署新的 AppX 包。 使用签名的 AppX 软件包，CLI也可以自动在您的计算机上安装软件包。\n\n\n# 步骤 3: 使用 AppX 包\n\n为了运行您的软件包，您的用户将需要将 Windows 10 安装“周年纪念更新” - 有关如何更新Windows的详细信息可以在这里找到\n\n与传统的UWP应用程序不同，打包应用程序目前需要进行手动验证过程，您可以在这里申请. 在此期间，所有用户都能够通过双击安装包来安装您的程序，所以如果您只是寻找一个更简单的安装方法，可能不需要提交到商店。 在受管理的环境中(通常是企业), Add-AppxPackage PowerShell Cmdlet 可用于以自动方式安装它。\n\n另一个重要的限制是编译的 AppX 包仍然包含一个 win32 可执行文件，因此不会在 Xbox，HoloLens 或 Phones 中运行。\n\n\n# 可选: 使用 BackgroundTask 添加 UWP 功能\n\n您可以将 Electron 应用程序与不可见的 UWP 后台任务配对，以充分利用 Windows 10 功能，如推送通知，Cortana 集成或活动磁贴。\n\n如何使用 Electron 应用程序通过后台任务发送 Toast 通知和活动磁贴, 请查看微软提供的案例.\n\n\n# 可选: 使用容器虚拟化进行转换\n\n要生成 AppX 包，electron-windows-store CLI 使用的模板应该适用于大多数 Electron 应用程序。 但是，如果您使用自定义安装程序，或者您遇到生成的包的任何问题，您可以尝试使用 Windows 容器编译创建包 - 在该模式下，CLI 将在空 Windows 容器中安装和运行应用程序，以确定应用程序正在对操作系统进行哪些修改。\n\n在第一次运行 CLI 之前，您必须安装 “Windows Desktop App Converter” 。 这将需要几分钟，但不要担心 - 你只需要这样做一次。 从这里下载 Desktop App Converter 您将得到两个文件： DesktopAppConverter.zip 和 BaseImage-14316.wim.\n\n 1. 解压 DesktopAppConverter.zip. 打开提权的 PowerShell (用"以管理员权限运行"打开, 确保您的系统执行策略允许我们通过调用 Set-ExecutionPolicy bypass 来运行我们想要运行的一切).\n 2. 然后, 通过调用 .\\DesktopAppConverter.ps1 -Setup -BaseImage .\\BaseImage-14316.wim, 运行 Desktop App Converter 安装，并传递 Windows 基本映像的位置 (下载的 BaseImage-14316.wim).\n 3. 如果运行以上命令提示您重新启动，请重新启动计算机，并在成功重新启动后再次运行上述命令。\n\n当安装成功后，您可以继续编译你的 Electron 应用程序。',normalizedContent:'# windows 商店指南\n\n在 windows 10 中，一些不错的旧 win32 程序迎来了一个新朋友：通用 windows 平台。 新的 .appx 格式不仅启用了许多新的强大的 api，如 cortana 或推送通知，而且通过 windows 应用商店，也同时简化了安装和更新。\n\nmicrosoft 开发了一个工具，将 electron 应用程序编译为 .appx 软件包，使开发人员能够使用新应用程序模型中的一些好东西。 本指南解释了如何使用它 - 以及 electron appx 包的功能和限制。\n\n\n# 背景和要求\n\nwindows 10 的 "周年更新" 能够运行 win32 .exe 程序并且它们的虚拟化文件系统和注册表跟随一起启动。 两者都是通过在 windows 容器中运行应用程序和安装器编译后创建的，允许 windows 在安装过程中正确识别操作系统进行了哪些修改。 将可执行文件和虚拟文件系统与虚拟注册表配对, 允许 windows 启用一键安装和卸载。\n\n此外，exe 在 appx 模型内启动 - 这意味着它可以使用通用 windows 平台可用的许多 api。 为了获得更多的功能，electron 应用程序可以与一个看不见的 uwp 后台任务配合使用，它与 exe 一起启动，作为后台运行任务的接收器，接收推送通知或与其他 uwp 应用程序通信 。\n\n要编译任何现有的 electron 应用程序，请确保满足以下要求:\n\n * windows 10及周年更新 (2016年8月2日发布的)\n * windows 10 sdk, 这里下载\n * 最新的 node 4 (运行 node -v 来确认)\n\n然后, 安装 electron-windows-store cli:\n\nnpm install -g electron-windows-store\n\n\n1\n\n\n\n# 步骤 1: 打包你的 electron 应用程序\n\n打包应用程序使用 electron-packager (或类似工具). 确保在最终的应用程序中删除不需要的 node_modules, 因为这些你不需要模块只会额外增加你的应用程序的大小.\n\n结构输出应该看起来大致像这样:\n\n├── ghost.exe\n├── license\n├── content_resources_200_percent.pak\n├── content_shell.pak\n├── d3dcompiler_47.dll\n├── ffmpeg.dll\n├── icudtl.dat\n├── libegl.dll\n├── libglesv2.dll\n├── locales\n│   ├── am.pak\n│   ├── ar.pak\n│   ├── [...]\n├── node.dll\n├── resources\n│   └── app.asar\n├── v8_context_snapshot.bin\n├── squirrel.exe\n└── ui_resources_200_percent.pak\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 步骤 2: 运行 electron-windows-store\n\n从提权的 powershell(用管理员身份运行它) 中, 以所需的参数运行 electron-windows-store，传递输入和输出目录，应用程序的名称和版本，以及确认 node_modules 应该是扁平的。\n\nelectron-windows-store `\n    --input-directory c:\\myelectronapp `\n    --output-directory c:\\output\\myelectronapp `\n    --package-version 1.0.0.0 `\n    --package-name myelectronapp\n\n\n1\n2\n3\n4\n5\n\n\n一旦执行，工具就开始工作：它接受您的 electron 应用程序作为输入，展平 node_modules。 然后，它将应用程序归档为 app.zip。 使用安装程序和 windows 容器，该工具创建一个“扩展的” appx 包 - 包括 windows 应用程序清单 (appxmanifest.xml)以及虚拟文件系统和输出文件夹中的虚拟注册表。\n\n当创建扩展的 appx 文件后，该工具使用 windows app packager(makeappx.exe)将磁盘上的这些文件创建为单文件 appx 包。 最后，该工具可用于在计算机上创建可信证书，以签署新的 appx 包。 使用签名的 appx 软件包，cli也可以自动在您的计算机上安装软件包。\n\n\n# 步骤 3: 使用 appx 包\n\n为了运行您的软件包，您的用户将需要将 windows 10 安装“周年纪念更新” - 有关如何更新windows的详细信息可以在这里找到\n\n与传统的uwp应用程序不同，打包应用程序目前需要进行手动验证过程，您可以在这里申请. 在此期间，所有用户都能够通过双击安装包来安装您的程序，所以如果您只是寻找一个更简单的安装方法，可能不需要提交到商店。 在受管理的环境中(通常是企业), add-appxpackage powershell cmdlet 可用于以自动方式安装它。\n\n另一个重要的限制是编译的 appx 包仍然包含一个 win32 可执行文件，因此不会在 xbox，hololens 或 phones 中运行。\n\n\n# 可选: 使用 backgroundtask 添加 uwp 功能\n\n您可以将 electron 应用程序与不可见的 uwp 后台任务配对，以充分利用 windows 10 功能，如推送通知，cortana 集成或活动磁贴。\n\n如何使用 electron 应用程序通过后台任务发送 toast 通知和活动磁贴, 请查看微软提供的案例.\n\n\n# 可选: 使用容器虚拟化进行转换\n\n要生成 appx 包，electron-windows-store cli 使用的模板应该适用于大多数 electron 应用程序。 但是，如果您使用自定义安装程序，或者您遇到生成的包的任何问题，您可以尝试使用 windows 容器编译创建包 - 在该模式下，cli 将在空 windows 容器中安装和运行应用程序，以确定应用程序正在对操作系统进行哪些修改。\n\n在第一次运行 cli 之前，您必须安装 “windows desktop app converter” 。 这将需要几分钟，但不要担心 - 你只需要这样做一次。 从这里下载 desktop app converter 您将得到两个文件： desktopappconverter.zip 和 baseimage-14316.wim.\n\n 1. 解压 desktopappconverter.zip. 打开提权的 powershell (用"以管理员权限运行"打开, 确保您的系统执行策略允许我们通过调用 set-executionpolicy bypass 来运行我们想要运行的一切).\n 2. 然后, 通过调用 .\\desktopappconverter.ps1 -setup -baseimage .\\baseimage-14316.wim, 运行 desktop app converter 安装，并传递 windows 基本映像的位置 (下载的 baseimage-14316.wim).\n 3. 如果运行以上命令提示您重新启动，请重新启动计算机，并在成功重新启动后再次运行上述命令。\n\n当安装成功后，您可以继续编译你的 electron 应用程序。',charsets:{cjk:!0}},{title:"Ant Design Vue的基本使用",frontmatter:{title:"Ant Design Vue的基本使用",date:"2022-04-11T21:59:18.000Z",permalink:"/pages/8e4f2e/",categories:["《Vue》笔记","其他"],tags:["Ant Design Vue"]},regularPath:"/%E3%80%8AVue%E3%80%8B%E7%AC%94%E8%AE%B0/99.%E5%85%B6%E4%BB%96/Ant%20Design%20Vue%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html",relativePath:"《Vue》笔记/99.其他/Ant Design Vue的基本使用.md",key:"v-d056ec78",path:"/pages/8e4f2e/",headers:[{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:2},{level:2,title:"初始化项目",slug:"初始化项目",normalizedTitle:"初始化项目",charIndex:140}],headersStr:"参考 初始化项目",content:"# 参考\n\n[Ant Design Vue中文文档]https://www.antnpdv.com/docs/vue/introduce-cn/ Ant Design Vue-Github\n\nAnt Design Vue 使用-引入 ant-design-vue并且使用\n\n\n# 初始化项目\n\nyarn global add @vue/cli\n# npm install -g @vue/cli\n\nvue create antd-demo\n\n $ cd antd-demo\n $ yarn serve\n \nyarn install\n# npm install \n\nyarn add ant-design-vue\n# npm i --save ant-design-vue\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n全局完整注册\n\n// src\\main.js\nimport { createApp } from 'vue'\nimport App from './App.vue'\n\n// createApp(App).mount('#app')\n\n// import { createApp } from 'vue';\nimport Antd from 'ant-design-vue';\n// import App from './App';\nimport 'ant-design-vue/dist/antd.css';\n\nconst app = createApp(App);\n\napp.use(Antd).mount('#app');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n// src\\components\\HelloWorld.vue\n<template>\n  <div id=\"wrapper\">\n    <a-button type=\"primary\">\n      Primary\n    </a-button>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n全局部分注册\n\n// src\\main.js\nimport { createApp } from 'vue'\nimport App from './App.vue'\n\n// createApp(App).mount('#app')\n\n// import { createApp } from 'vue';\n// import Antd from 'ant-design-vue';\nimport { Button, message } from 'ant-design-vue';\n// import App from './App';\nimport 'ant-design-vue/dist/antd.css';\n\nconst app = createApp(App);\n\n// app.use(Antd).mount('#app');\n/* 会自动注册 Button 下的子组件, 例如 Button.Group */\napp.use(Button).mount('#app');\napp.config.globalProperties.$message = message;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n// src\\components\\HelloWorld.vue\n// 同上\n\n\n1\n2\n\n\n局部注册组件\n\n此种方式需要分别注册组件子组件，如 Button、ButtonGroup，并且注册后仅在当前组件中有效。所以我们推荐使用上述两种方式。\n略\n\n\n1\n2\n\n\n按需加载\n\nyarn add babel-plugin-import --save-dev\n# npm install babel-plugin-import --save-dev\n\n\n1\n2\n\n\n// 配置 babel.config.js 文件\nmodule.exports = {\n    presets: [\n        '@vue/cli-plugin-babel/preset'\n    ],\n    plugins: [\n        [\n            \"import\",\n            { libraryName: \"ant-design-vue\", libraryDirectory: \"es\", style: \"css\" },\n        ], // `style: true` 会加载 less 文件\n    ],\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n/main.js\nimport { createApp } from 'vue'\nimport App from './App.vue'\nimport { Button } from \"ant-design-vue\";\ncreateApp(App).use(Button).mount('#app')\n\n\n1\n2\n3\n4\n5\n\n\n// src\\components\\HelloWorld.vue\n// 同上\n\n\n1\n2\n\n\n再简化\n\nmd src/ant-design-vue\nnew-item src/ant-design-vue/index.ts\ntsc src/ant-design-vue/index.ts\n\n\n1\n2\n3\n\n\n// src\\ant-design-vue\\index.ts\nimport { Button } from \"ant-design-vue\";\n\nconst components = [Button]\n// eslint-disable-next-line\nexport default function setupAtnd(app: any) {\n  components.forEach((component) => {\n    app.use(component)\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nvite按需加载\n\nhttps://blog.csdn.net/CSND7997/article/details/118083608",normalizedContent:"# 参考\n\n[ant design vue中文文档]https://www.antnpdv.com/docs/vue/introduce-cn/ ant design vue-github\n\nant design vue 使用-引入 ant-design-vue并且使用\n\n\n# 初始化项目\n\nyarn global add @vue/cli\n# npm install -g @vue/cli\n\nvue create antd-demo\n\n $ cd antd-demo\n $ yarn serve\n \nyarn install\n# npm install \n\nyarn add ant-design-vue\n# npm i --save ant-design-vue\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n全局完整注册\n\n// src\\main.js\nimport { createapp } from 'vue'\nimport app from './app.vue'\n\n// createapp(app).mount('#app')\n\n// import { createapp } from 'vue';\nimport antd from 'ant-design-vue';\n// import app from './app';\nimport 'ant-design-vue/dist/antd.css';\n\nconst app = createapp(app);\n\napp.use(antd).mount('#app');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n// src\\components\\helloworld.vue\n<template>\n  <div id=\"wrapper\">\n    <a-button type=\"primary\">\n      primary\n    </a-button>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n全局部分注册\n\n// src\\main.js\nimport { createapp } from 'vue'\nimport app from './app.vue'\n\n// createapp(app).mount('#app')\n\n// import { createapp } from 'vue';\n// import antd from 'ant-design-vue';\nimport { button, message } from 'ant-design-vue';\n// import app from './app';\nimport 'ant-design-vue/dist/antd.css';\n\nconst app = createapp(app);\n\n// app.use(antd).mount('#app');\n/* 会自动注册 button 下的子组件, 例如 button.group */\napp.use(button).mount('#app');\napp.config.globalproperties.$message = message;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n// src\\components\\helloworld.vue\n// 同上\n\n\n1\n2\n\n\n局部注册组件\n\n此种方式需要分别注册组件子组件，如 button、buttongroup，并且注册后仅在当前组件中有效。所以我们推荐使用上述两种方式。\n略\n\n\n1\n2\n\n\n按需加载\n\nyarn add babel-plugin-import --save-dev\n# npm install babel-plugin-import --save-dev\n\n\n1\n2\n\n\n// 配置 babel.config.js 文件\nmodule.exports = {\n    presets: [\n        '@vue/cli-plugin-babel/preset'\n    ],\n    plugins: [\n        [\n            \"import\",\n            { libraryname: \"ant-design-vue\", librarydirectory: \"es\", style: \"css\" },\n        ], // `style: true` 会加载 less 文件\n    ],\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n/main.js\nimport { createapp } from 'vue'\nimport app from './app.vue'\nimport { button } from \"ant-design-vue\";\ncreateapp(app).use(button).mount('#app')\n\n\n1\n2\n3\n4\n5\n\n\n// src\\components\\helloworld.vue\n// 同上\n\n\n1\n2\n\n\n再简化\n\nmd src/ant-design-vue\nnew-item src/ant-design-vue/index.ts\ntsc src/ant-design-vue/index.ts\n\n\n1\n2\n3\n\n\n// src\\ant-design-vue\\index.ts\nimport { button } from \"ant-design-vue\";\n\nconst components = [button]\n// eslint-disable-next-line\nexport default function setupatnd(app: any) {\n  components.foreach((component) => {\n    app.use(component)\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nvite按需加载\n\nhttps://blog.csdn.net/csnd7997/article/details/118083608",charsets:{cjk:!0}},{title:"《Electron免费视频教程-从基础到实战》[技术胖]",frontmatter:{title:"《Electron免费视频教程-从基础到实战》[技术胖]",date:"2022-04-11T15:50:11.000Z",permalink:"/pages/017a70/",categories:["课堂笔记"],tags:["Electron"]},regularPath:"/%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/%E3%80%8AElectron%E5%85%8D%E8%B4%B9%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B-%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E5%AE%9E%E6%88%98%E3%80%8B%5B%E6%8A%80%E6%9C%AF%E8%83%96%5D.html",relativePath:"课堂笔记/《Electron免费视频教程-从基础到实战》[技术胖].md",key:"v-cdd00072",path:"/pages/017a70/",headers:[{level:3,title:"1.课程介绍和Electron简介",slug:"_1-课程介绍和electron简介",normalizedTitle:"1.课程介绍和electron简介",charIndex:2},{level:3,title:"2.Electron开发环境搭建",slug:"_2-electron开发环境搭建",normalizedTitle:"2.electron开发环境搭建",charIndex:245},{level:3,title:"3.Electron编写一个HelloWorld",slug:"_3-electron编写一个helloworld",normalizedTitle:"3.electron编写一个helloworld",charIndex:385},{level:3,title:"4.Electron编写邀请小姐姐程序",slug:"_4-electron编写邀请小姐姐程序",normalizedTitle:"4.electron编写邀请小姐姐程序",charIndex:414},{level:3,title:"5.Electron中Remote模块讲解",slug:"_5-electron中remote模块讲解",normalizedTitle:"5.electron中remote模块讲解",charIndex:638},{level:3,title:"6.Electron中菜单的创建和绑定事件",slug:"_6-electron中菜单的创建和绑定事件",normalizedTitle:"6.electron中菜单的创建和绑定事件",charIndex:721},{level:3,title:"7.Electron中右键菜单的制作",slug:"_7-electron中右键菜单的制作",normalizedTitle:"7.electron中右键菜单的制作",charIndex:788},{level:3,title:"8.Electron中通过链接打开浏览器",slug:"_8-electron中通过链接打开浏览器",normalizedTitle:"8.electron中通过链接打开浏览器",charIndex:811},{level:3,title:"9.Electron中嵌入网页和打开子窗口",slug:"_9-electron中嵌入网页和打开子窗口",normalizedTitle:"9.electron中嵌入网页和打开子窗口",charIndex:869},{level:3,title:"10.Electron子窗口向父窗口传递信息",slug:"_10-electron子窗口向父窗口传递信息",normalizedTitle:"10.electron子窗口向父窗口传递信息",charIndex:895},{level:3,title:"11.Electron选择文件对话框使用",slug:"_11-electron选择文件对话框使用",normalizedTitle:"11.electron选择文件对话框使用",charIndex:953},{level:3,title:"12.Electron保存文件对话框使用",slug:"_12-electron保存文件对话框使用",normalizedTitle:"12.electron保存文件对话框使用",charIndex:1004},{level:3,title:"13.Electron消息对话框操作",slug:"_13-electron消息对话框操作",normalizedTitle:"13.electron消息对话框操作",charIndex:1029},{level:3,title:"14.Electron断网提醒功能制作",slug:"_14-electron断网提醒功能制作",normalizedTitle:"14.electron断网提醒功能制作",charIndex:1052},{level:3,title:"15.Electron底部通知消息制作",slug:"_15-electron底部通知消息制作",normalizedTitle:"15.electron底部通知消息制作",charIndex:1102},{level:3,title:"16.Electron注册全局快捷键",slug:"_16-electron注册全局快捷键",normalizedTitle:"16.electron注册全局快捷键",charIndex:1255},{level:3,title:"17.剪切板功能的使用",slug:"_17-剪切板功能的使用",normalizedTitle:"17.剪切板功能的使用",charIndex:1278},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:1320},{level:3,title:"遇到的问题",slug:"遇到的问题",normalizedTitle:"遇到的问题",charIndex:1356}],headersStr:"1.课程介绍和Electron简介 2.Electron开发环境搭建 3.Electron编写一个HelloWorld 4.Electron编写邀请小姐姐程序 5.Electron中Remote模块讲解 6.Electron中菜单的创建和绑定事件 7.Electron中右键菜单的制作 8.Electron中通过链接打开浏览器 9.Electron中嵌入网页和打开子窗口 10.Electron子窗口向父窗口传递信息 11.Electron选择文件对话框使用 12.Electron保存文件对话框使用 13.Electron消息对话框操作 14.Electron断网提醒功能制作 15.Electron底部通知消息制作 16.Electron注册全局快捷键 17.剪切板功能的使用 参考 遇到的问题",content:"# 1.课程介绍和Electron简介\n\nmkdir Z:/test/electronDemo \ncd Z:/test/electronDemo && Z:\nnpm init -y\nnpm i electron --save-dev\n// yarn add electron --save-dev\nnpx electron -v\nnode_modules\\.bin\\electron -v\nnode_modules\\.bin\\electron\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2.Electron开发环境搭建\n\n:: 全局安装\nnpm i -g electron\ncd Z:/test/electronDemo && Z:\ncode .\nnew-Item index.html,main.js\nnpm init -y\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3.Electron编写一个HelloWorld\n\n\n# 4.Electron编写邀请小姐姐程序\n\nElectron的运行流程\n\n\n\n * 1.读取package.json的中的入口文件,这里我们是main.js\n * 2.main.js 主进程中创建渲染进程\n * 3.读取应用页面的布局和样式\n * 4.使用IPC在主进程执行任务并获取信息\n\nnew-Item xiaojiejie.txt\nmkdir renderer\nnew-Item renderer/index.js\n\n\n1\n2\n3\n\n\n\n# 5.Electron中Remote模块讲解\n\nnew-Item remotePage.html,renderer/remotePage.js\n\n\n\n1\n2\n\n\n\n# 6.Electron中菜单的创建和绑定事件\n\nmkdir main\nnew-Item main/menu.js\n\n\n1\n2\n\n\n\n# 7.Electron中右键菜单的制作\n\n\n# 8.Electron中通过链接打开浏览器\n\nnew-Item renderer/demo3.js\n\n\n1\n\n\n\n# 9.Electron中嵌入网页和打开子窗口\n\n\n# 10.Electron子窗口向父窗口传递信息\n\nnew-Item popup_page.html\n\n\n1\n\n\n\n# 11.Electron选择文件对话框使用\n\nnew-Item demo4.html\n\n\n1\n\n\n\n# 12.Electron保存文件对话框使用\n\n\n# 13.Electron消息对话框操作\n\n\n# 14.Electron断网提醒功能制作\n\nnew-Item demo5.html\n\n\n1\n\n\n\n# 15.Electron底部通知消息制作\n\nwindow.Notification的属性参数\n\n * title: 通知的标题，可以显示在通知栏上\n * option: 消息通知的各种属性配置，以对象的形式进行配置。\n\n其实如果你想详细学习，完全可以看H5的NotificationAPI进行学习。\n\n\n# 16.Electron注册全局快捷键\n\n\n# 17.剪切板功能的使用\n\nnew-Item demo7.html\n\n\n1\n\n\n\n# 参考\n\nElectron 免费视频教程-用前端技术开发桌面应用\n\n\n# 遇到的问题",normalizedContent:"# 1.课程介绍和electron简介\n\nmkdir z:/test/electrondemo \ncd z:/test/electrondemo && z:\nnpm init -y\nnpm i electron --save-dev\n// yarn add electron --save-dev\nnpx electron -v\nnode_modules\\.bin\\electron -v\nnode_modules\\.bin\\electron\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2.electron开发环境搭建\n\n:: 全局安装\nnpm i -g electron\ncd z:/test/electrondemo && z:\ncode .\nnew-item index.html,main.js\nnpm init -y\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3.electron编写一个helloworld\n\n\n# 4.electron编写邀请小姐姐程序\n\nelectron的运行流程\n\n\n\n * 1.读取package.json的中的入口文件,这里我们是main.js\n * 2.main.js 主进程中创建渲染进程\n * 3.读取应用页面的布局和样式\n * 4.使用ipc在主进程执行任务并获取信息\n\nnew-item xiaojiejie.txt\nmkdir renderer\nnew-item renderer/index.js\n\n\n1\n2\n3\n\n\n\n# 5.electron中remote模块讲解\n\nnew-item remotepage.html,renderer/remotepage.js\n\n\n\n1\n2\n\n\n\n# 6.electron中菜单的创建和绑定事件\n\nmkdir main\nnew-item main/menu.js\n\n\n1\n2\n\n\n\n# 7.electron中右键菜单的制作\n\n\n# 8.electron中通过链接打开浏览器\n\nnew-item renderer/demo3.js\n\n\n1\n\n\n\n# 9.electron中嵌入网页和打开子窗口\n\n\n# 10.electron子窗口向父窗口传递信息\n\nnew-item popup_page.html\n\n\n1\n\n\n\n# 11.electron选择文件对话框使用\n\nnew-item demo4.html\n\n\n1\n\n\n\n# 12.electron保存文件对话框使用\n\n\n# 13.electron消息对话框操作\n\n\n# 14.electron断网提醒功能制作\n\nnew-item demo5.html\n\n\n1\n\n\n\n# 15.electron底部通知消息制作\n\nwindow.notification的属性参数\n\n * title: 通知的标题，可以显示在通知栏上\n * option: 消息通知的各种属性配置，以对象的形式进行配置。\n\n其实如果你想详细学习，完全可以看h5的notificationapi进行学习。\n\n\n# 16.electron注册全局快捷键\n\n\n# 17.剪切板功能的使用\n\nnew-item demo7.html\n\n\n1\n\n\n\n# 参考\n\nelectron 免费视频教程-用前端技术开发桌面应用\n\n\n# 遇到的问题",charsets:{cjk:!0}},{title:"《Electron超详细实战开发教程》[老陈打码]",frontmatter:{title:"《Electron超详细实战开发教程》[老陈打码]",date:"2022-04-11T16:30:49.000Z",permalink:"/pages/18ce1e/",categories:["课堂笔记"],tags:["Electron"]},regularPath:"/%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/%E3%80%8AElectron%E8%B6%85%E8%AF%A6%E7%BB%86%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B%E3%80%8B%5B%E8%80%81%E9%99%88%E6%89%93%E7%A0%81%5D.html",relativePath:"课堂笔记/《Electron超详细实战开发教程》[老陈打码].md",key:"v-0cd45fa4",path:"/pages/18ce1e/",headers:[{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:98},{level:2,title:"1.最新Electron课程介绍",slug:"_1-最新electron课程介绍",normalizedTitle:"1.最新electron课程介绍",charIndex:177},{level:2,title:"2.electron介绍与第一个应用",slug:"_2-electron介绍与第一个应用",normalizedTitle:"2.electron介绍与第一个应用",charIndex:198},{level:3,title:"目录结构",slug:"目录结构",normalizedTitle:"目录结构",charIndex:392},{level:2,title:"3.使用yarn快速创建electron项目",slug:"_3-使用yarn快速创建electron项目",normalizedTitle:"3.使用yarn快速创建electron项目",charIndex:785},{level:3,title:"electronforge",slug:"electronforge",normalizedTitle:"electronforge",charIndex:812},{level:3,title:"main.js 添加webPreferences配置,使浏览器的js可以支持node接口",slug:"main-js-添加webpreferences配置-使浏览器的js可以支持node接口",normalizedTitle:"main.js 添加webpreferences配置,使浏览器的js可以支持node接口",charIndex:916},{level:2,title:"4.渲染进程的node环境调用",slug:"_4-渲染进程的node环境调用",normalizedTitle:"4.渲染进程的node环境调用",charIndex:1323},{level:2,title:"5.实现拖动文件渲染在页面中",slug:"_5-实现拖动文件渲染在页面中",normalizedTitle:"5.实现拖动文件渲染在页面中",charIndex:1748},{level:2,title:"6.webview的操控和使用",slug:"_6-webview的操控和使用",normalizedTitle:"6.webview的操控和使用",charIndex:3015},{level:2,title:"7.主进程和渲染进程的通讯",slug:"_7-主进程和渲染进程的通讯",normalizedTitle:"7.主进程和渲染进程的通讯",charIndex:3915},{level:2,title:"8.dialog窗口的配置",slug:"_8-dialog窗口的配置",normalizedTitle:"8.dialog窗口的配置",charIndex:4674},{level:2,title:"9.原生自带网络请求的库",slug:"_9-原生自带网络请求的库",normalizedTitle:"9.原生自带网络请求的库",charIndex:6754},{level:2,title:"10.electron-vue的环境搭建",slug:"_10-electron-vue的环境搭建",normalizedTitle:"10.electron-vue的环境搭建",charIndex:7167},{level:2,title:"11.项目的基本结构和使用",slug:"_11-项目的基本结构和使用",normalizedTitle:"11.项目的基本结构和使用",charIndex:7574},{level:2,title:"12.electron使用AntdUI组件",slug:"_12-electron使用antdui组件",normalizedTitle:"12.electron使用antdui组件",charIndex:7868},{level:2,title:"13.实现查找书籍功能",slug:"_13-实现查找书籍功能",normalizedTitle:"13.实现查找书籍功能",charIndex:8842},{level:2,title:"14.解决rowKey报错和获取下载链接地址",slug:"_14-解决rowkey报错和获取下载链接地址",normalizedTitle:"14.解决rowkey报错和获取下载链接地址",charIndex:12562},{level:2,title:"15.修改Axios实现后端请求",slug:"_15-修改axios实现后端请求",normalizedTitle:"15.修改axios实现后端请求",charIndex:13202},{level:2,title:"16.优化页面和功能",slug:"_16-优化页面和功能",normalizedTitle:"16.优化页面和功能",charIndex:13223},{level:2,title:"17.创建books页面和路由",slug:"_17-创建books页面和路由",normalizedTitle:"17.创建books页面和路由",charIndex:13238},{level:2,title:"18.解析EPUB文件",slug:"_18-解析epub文件",normalizedTitle:"18.解析epub文件",charIndex:13465},{level:2,title:"19.根据磁盘电子书生成书库列表",slug:"_19-根据磁盘电子书生成书库列表",normalizedTitle:"19.根据磁盘电子书生成书库列表",charIndex:14193},{level:2,title:"20.通过路由传参将书籍内容传递过去",slug:"_20-通过路由传参将书籍内容传递过去",normalizedTitle:"20.通过路由传参将书籍内容传递过去",charIndex:14214},{level:2,title:"21.电子生成书章节列表",slug:"_21-电子生成书章节列表",normalizedTitle:"21.电子生成书章节列表",charIndex:14291},{level:2,title:"22.获取图片解析到书籍里",slug:"_22-获取图片解析到书籍里",normalizedTitle:"22.获取图片解析到书籍里",charIndex:14308},{level:2,title:"23.解析epub的css内容渲染到书籍里",slug:"_23-解析epub的css内容渲染到书籍里",normalizedTitle:"23.解析epub的css内容渲染到书籍里",charIndex:14359},{level:2,title:"24.修改中文不能搜索bug和打包成软件",slug:"_24-修改中文不能搜索bug和打包成软件",normalizedTitle:"24.修改中文不能搜索bug和打包成软件",charIndex:14385},{level:2,title:"遇到的问题",slug:"遇到的问题",normalizedTitle:"遇到的问题",charIndex:15063},{level:3,title:"1.Uncaught ReferenceError: require is not defined",slug:"_1-uncaught-referenceerror-require-is-not-defined",normalizedTitle:"1.uncaught referenceerror: require is not defined",charIndex:15073},{level:3,title:"2.Electron Security Warning (Insecure Content-Security-Policy)",slug:"_2-electron-security-warning-insecure-content-security-policy",normalizedTitle:"2.electron security warning (insecure content-security-policy)",charIndex:15440},{level:4,title:"3.高版本 require(electron).remote.BrowserWindow 报错 undefined，是因为从V14开始移除了remote，要使用的话需用通过npm引入",slug:"_3-高版本-require-electron-remote-browserwindow-报错-undefined-是因为从v14开始移除了remote-要使用的话需用通过npm引入",normalizedTitle:"3.高版本 require(electron).remote.browserwindow 报错 undefined，是因为从v14开始移除了remote，要使用的话需用通过npm引入",charIndex:15856},{level:3,title:"4.使用electron-vue创建项目卡顿的问题",slug:"_4-使用electron-vue创建项目卡顿的问题",normalizedTitle:"4.使用electron-vue创建项目卡顿的问题",charIndex:16237},{level:3,title:"5.http://localhost:9080/_webpackhmr net::ERR_ABORTED解决方案",slug:"_5-http-localhost-9080-webpack-hmr-net-err-aborted解决方案",normalizedTitle:"5.http://localhost:9080/_webpackhmr net::err_aborted解决方案",charIndex:null}],headersStr:"参考 1.最新Electron课程介绍 2.electron介绍与第一个应用 目录结构 3.使用yarn快速创建electron项目 electronforge main.js 添加webPreferences配置,使浏览器的js可以支持node接口 4.渲染进程的node环境调用 5.实现拖动文件渲染在页面中 6.webview的操控和使用 7.主进程和渲染进程的通讯 8.dialog窗口的配置 9.原生自带网络请求的库 10.electron-vue的环境搭建 11.项目的基本结构和使用 12.electron使用AntdUI组件 13.实现查找书籍功能 14.解决rowKey报错和获取下载链接地址 15.修改Axios实现后端请求 16.优化页面和功能 17.创建books页面和路由 18.解析EPUB文件 19.根据磁盘电子书生成书库列表 20.通过路由传参将书籍内容传递过去 21.电子生成书章节列表 22.获取图片解析到书籍里 23.解析epub的css内容渲染到书籍里 24.修改中文不能搜索bug和打包成软件 遇到的问题 1.Uncaught ReferenceError: require is not defined 2.Electron Security Warning (Insecure Content-Security-Policy) 3.高版本 require(electron).remote.BrowserWindow 报错 undefined，是因为从V14开始移除了remote，要使用的话需用通过npm引入 4.使用electron-vue创建项目卡顿的问题 5.http://localhost:9080/_webpackhmr net::ERR_ABORTED解决方案",content:'> 说明：本章内容为博主在原教程基础上添加自己的学习笔记，来源B站老陈打码:https://www.bilibili.com/video/BV1QB4y1F722，教程版权归原作者所有。\n\n\n# 参考\n\n《Electron官方指南》 electron-官网 electron-github electron-中文文档 Electron 中文文档\n\n\n# 1.最新Electron课程介绍\n\n\n# 2.electron介绍与第一个应用\n\ngit clone https://github.com/electron/electron-quick-start.git\ncd electron-quick-start\ncode .\ntree  /f . > dir_tree.md #Powershell环境下执行就不会中文乱码了\nyarn install\n\n\n1\n2\n3\n4\n5\n\n\n\n# 目录结构\n\n│  ELECTRON-QUICK-START\n    │  .gitignore\n    │  directoryList.md\n    │  dir_tree.md\n    │  dir_tree.txt\n    │  index.html         # 第一个页面\n    │  LICENSE.md\n    │  main.js\n    │  package-lock.json\n    │  package.json\n    │  preload.js\n    │  README.md\n    │  renderer.js\n    │  styles.css\n    │  \n    └─.github\n            dependabot.yml\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 3.使用yarn快速创建electron项目\n\n\n# electronforge\n\nyarn create electron-app my-app\ncd my-app\nyarn start\nyarn make # 编译为exe文件\n\n\n1\n2\n3\n4\n\n\n\n# main.js 添加webPreferences配置,使浏览器的js可以支持node接口\n\napp.on(\'ready\',()=>{\n    mainWindow = new BrowserWindow({\n        webPreferences: {\n            // 开启node\n            nodeIntegration: true,\n            contextIsolation: false,\n            // 开启remote\n            // enableRemoteModule:true\n        }\n    }) // 设置打开窗口大小\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n// main.js\nconst fs = require(\'fs\');\nconsole.log(fs)\n\n\n1\n2\n3\n\n\n\n# 4.渲染进程的node环境调用\n\n\x3c!-- src\\index.html添加 --\x3e\n<button class="btn">写入内容</button>\n\n\n1\n2\n\n\n// src\\js\\render.js 添加\nlet btn = document.querySelector(\'.btn\')\nlet i = 0;\n\nconsole.log(btn)\nbtn.onclick = function () {\n    i++;\n    fs.writeFile(`input${i}.txt`, \'内容\', (err) => {\n        if (err) {\n            console.log(err)\n        } else {\n            console.log(\'写入成功\')\n        }\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 5.实现拖动文件渲染在页面中\n\n\x3c!-- src\\index.html添加 --\x3e\n <div id="holder">\n     <h1>将你的文件拖动到此处！</h1>\n</div>\n<div id="readList">\n    <h1>读取的文件内容</h1>\n</div>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n// src\\js\\render.js 添加\nholder.addEventListener(\'drop\', (e) => {\n    e.preventDefault();//取消默认\n    e.stopPropagation();//阻止冒泡\n    console.log(e)\n    // dataTransfer对象可以用来保存被拖动的数据\n    for (const file of e.dataTransfer.files) {\n        console.log(file)\n        console.log(\'文件路径：\', file.path)\n        fs.readFile(file.path, (err, data) => {\n            if (err) {\n                console.log(err)\n            } else {\n                let newDiv = document.createElement(\'div\')\n                newDiv.className = "readFile"\n                newDiv.innerHTML = `\n                    <h3>${file.name}</h3>\n                    <pre>${data}</pre>\n                    \n                `\n                readList.appendChild(newDiv)\n            }\n        })\n    }\n})\nholder.addEventListener(\'dragover\', (e) => {\n    e.preventDefault();//取消默认\n    e.stopPropagation();//阻止冒泡\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n/* src\\index.css 添加 */\n#holder {\n    width: 400px;\n    height: 100px;\n    background: gray;\n}\n\n#holder h1 {\n    font-size: 30px;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 6.webview的操控和使用\n\n// main.js(或index.js)添加\nwebPreferences: {\n            // 开启 webviewTag\n            webviewTag: true\n}\n\n\n1\n2\n3\n4\n5\n\n\n\x3c!-- src\\index.html添加 --\x3e\n<webview id="wv" src="https://www.baidu.com" style="width: 640px;height: 480px;"></webview>\n\n\n1\n2\n\n\n// src\\js\\render.js 添加\nconst webview = document.querySelector(\'webview\')\n\nwebview.addEventListener(\'did-start-loading\', () => {\n    console.log(\'正在加载中。。。。\')\n})\n\nwebview.addEventListener(\'did-stop-loading\', () => {\n    console.log(\'加载完毕。。。。\')\n    console.log([webview])\n\n    webview.insertCSS(`#su{background:red!important;}`)\n\n    webview.executeJavaScript(`\n        setTimeout(() => {\n            let input = document.querySelector(\'#kw\')\n            let btn = document.querySelector(\'#su\')\n            input.value = "老陈打码"\n            btn.click()\n        }, 2000);\n    `)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 7.主进程和渲染进程的通讯\n\n\x3c!-- src\\index.html添加 --\x3e\n<button id="btn">点击开启新窗口</button>\n<script>\n    let {ipcRenderer} = require(\'electron\');\n    ipcRenderer.on(\'lc-active\',(event,arg)=>{\n        console.log(event)\n        console.log(arg)\n    })\n    // 主动发送消息给主进程\n    ipcRenderer.send(\'lc-message\',"子进程给主进程发送数据")\n    ipcRenderer.on(\'lc-reply\',(event,arg)=>{\n        console.log(event)\n        console.log(arg)\n    })\n    var btn = document.querySelector(\'#btn\')\n    btn.onclick = function(){\n        // 主动发送消息给主进程\n        ipcRenderer.send(\'openNewWindow\')\n    }\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n// index.js或者main.js 添加\n// const { app, BrowserWindow } = require(\'electron\');\nconst { app, BrowserWindow, ipcMain } = require(\'electron\');\n\n// 8.dialog窗口的配置\n// 监听渲染进程发送过来的lc-message事件\nipcMain.on(\'lc-message\', (event, arg) => {\n    event.reply(\'lc-reply\', "这是主进程的答复")\n    console.log(arg)\n})\n\n// 监听渲染进程发送过来要求打开新窗口\nipcMain.on(\'openNewWindow\', (event, arg) => {\n    cWindow(\'https://www.taobao.com\')\n    cWindow(\'https://www.baidu.com\')\n})\n// 新窗口配置\nconst cWindow = (url) => {\n    // Create the browser window.\n    const mainWindow = new BrowserWindow({\n        width: 800,\n        height: 600,\n        webPreferences: {\n            nodeIntegration: true\n        }\n    });\n    // and load the index.html of the app.\n    mainWindow.loadURL(url)\n};\n// 主窗口配置\nconst createWindow = () => {\n    // 创建窗口之后,主动的发消息给渲染进程\n    setTimeout(() => {\n        mainWindow.webContents.send(\'lc-active\', "创建窗口之后，主进程主动发送数据给到渲染进程")\n    }, 2000);\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\npackage.json添加：（原因：终端中文乱码）\n\n "scripts": {\n        "start": "chcp 65001 && electron-forge start",  \n    },\n\n\n1\n2\n3\n\n\n\n# 8.dialog窗口的配置\n\n// main.js(或index.js)添加\nconst { app, BrowserWindow, ipcMain, dialog } = require(\'electron\');\n// 主窗口配置\nconst createWindow = () => {\n    // 8.dialog窗口的配置\n    // 2s后自动打开dialog窗口,选择文件\n    setTimeout(() => {\n        // openFile允许选择文件\n        // openDirectory允许选择文件夹\n        // multiSelection允许多选\n        // showHiddenFiles显示隐藏文件\n        // createDirectory允许创建文件夹\n        dialog.showOpenDialog({\n            properties: [\'openFile\', \'multiSelections\']\n        }).then((result) => {\n            console.log(result.filePaths)\n            console.log(result.canceled)\n        })\n    }, 2000);\n\n    // 是否关闭主窗口？\n    mainWindow.on(\'close\', (e) => {\n        e.preventDefault()\n        dialog.showMessageBox(mainWindow, {\n            type: \'warning\',\n            title: "关闭",\n            message: "是否要关闭窗口？",\n            buttons: ["取消", "残酷关闭"]\n        }).then((index) => {\n            if (index.response == 1) {\n                app.exit()\n            }\n        })\n    })\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 9.原生自带网络请求的库\n\n// main.js(或index.js)添加\nconst createWindow = () => {\n    \n  // 原生自带网络请求的库\n  let request = net.request(\'https://taobao.com\')\n  request.on(\'response\',(response)=>{\n    console.log(response.statusCode)\n    console.log(JSON.stringify(response.headers) )\n    response.on(\'data\',(chunk)=>{\n      console.log(chunk.toString())\n    })\n  })\n  request.end()\n    \n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 10.electron-vue的环境搭建\n\nelectron-vue\n\nelectron-vue\n\ncd ../\n# npm list -g --depth 0 查看npm全局安装的包\nnpm install -g vue-cli\n# vue init simulatedgreg/electron-vue my-project\n# 使用electron-vue创建项目卡顿的问题\n# 1.1、将electron-vue项目先下载下来\ngit clone https://gitee.com/mirrors/electron-vue.git\n# 1.2安装样板代码\nvue init Z:\\source_code\\electron-vue my-project\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\ncd my-project\nyarn install\nyarn run dev \n\n\n1\n2\n3\n\n\n\n# 11.项目的基本结构和使用\n\n<template>\n  <div id="wrapper">\n   <h1>hello</h1>\n  </div>\n</template>\n\n<script>\n  import SystemInformation from \'./LandingPage/SystemInformation\'\n\n  export default {\n    name: \'landing-page\',\n    \n  }\n<\/script>\n\n<style>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 12.electron使用AntdUI组件\n\nAnt Design Vue\n\n# 使用组件\n# npm i --save ant-design-vue\nyarn add ant-design-vue --save\nyarn add ant-design-vue@1.6.4 --save\n\n\n1\n2\n3\n4\n\n\n// main.js添加\n// 全局完整注册\nimport { createApp } from \'vue\';\nimport Antd from \'ant-design-vue\';\nimport App from \'./App\';\nimport \'ant-design-vue/dist/antd.css\';\n\nconst app = createApp(App);\n\napp.use(Antd).mount(\'#app\');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n<a-button type="primary">Primary Button</a-button>\n\n\n\n\n\n1\n2\n3\n4\n\n\n1、全局导入(尝试失败)\n\n// src\\renderer\\main.js添加\n// 全局导入\nimport Antd from \'ant-design-vue\';\nimport \'ant-design-vue/dist/antd.css\';\nVue.use(Antd);\n\n\n1\n2\n3\n4\n5\n\n\n// src\\renderer\\components\\LandingPage.vue添加\n<template>\n  <div id="wrapper">\n    <a-button type="primary">\n      Primary\n    </a-button>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n2、导入部分组件\n\n// src\\renderer\\main.js添加\n// 导入部分组件\nimport { Button } from "ant-design-vue";\nimport \'ant-design-vue/lib/button/style/css\'\nVue.component(Button.name, Button)\n\n\n1\n2\n3\n4\n5\n\n\n\n# 13.实现查找书籍功能\n\n// 时宜搜书崩了，弄点假数据糊弄一些先\nnpm install -g json-server\njson-server -v\nmd src/mock\nnew-item src/mock/db.json\njson-server --watch db.json --port 4000\n// 假数据 url：http://localhost:4000/data\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nsrc\\mock\\db.json\n\n{\n    "data": {\n        "data": {\n            "content": [\n                {\n                    "id": 123,\n                    "title": "《总有人想打扰我修仙》",\n                    "bookPic": "https://www.zxcs.info/upload/202203/fad085fab3b96a839ab2ed9d5662a7d6.jpg",\n                    "description": "赵紫玥在渡最后一道飞升雷劫时，被天外飞来的石头砸成农家女，种地，经商，做粉条，通通不会……",\n                    "downloadInfos": [\n                        {\n                            "lllll": "0000"\n                        }\n                    ]\n                },\n                {\n                    "id": 124,\n                    "title": "《大流寇》",\n                    "bookPic": "https://www.zxcs.info/upload/202203/e8290f829a173db3417199eaf6d1bcab.jpg",\n                    "description": "崇祯十六年，明社稷将倾，是降清还是抗清？",\n                    "downloadInfos": [\n                        {\n                            "lllll": "0000"\n                        }\n                    ]\n                }\n            ]\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n// src\\renderer\\components\\LandingPage.vue\n<template>\n  <div id="wrapper">\n    <a-input-search v-model:value="value" placeholder="input search text" style="width: 200px" @search="onSearch" />\n    </br>\n    <a-table :columns="columns" :data-source="searchList">\n      \x3c!-- <img slot="bookPic" slot-scope="bookPic" :src="bookPic" /> --\x3e\n      <img slot="bookPic" style="width:200px" slot-scope="bookPic" :src="bookPic" />\n      <div slot="downloadInfos" class="btnlist">\n        <a-button type="primary" icon="download" :size="size">epub</a-button>\n        <a-button type="primary" icon="download" :size="size">mobi</a-button>\n        <a-button type="primary" icon="download" :size="size">azw3</a-button>\n      </div>\n      <a slot="name" slot-scope="text">{{ text }}</a>\n    </a-table>\n  </div>\n</template>\n\n<script>\nconst columns = [\n  {\n    dataIndex: \'ID\',\n    key: \'id\',\n    dataIndex: \'id\',\n  },\n  {\n    title: \'书名\',\n    key: \'title\',\n  },\n  {\n    title: \'bookPic\',\n    key: \'bookPic\',\n    dataIndex: \'bookPic\',\n    slots: { title: \'bookPic\' },\n    scopedSlots: { customRender: \'bookPic\' },\n  },\n  {\n    title: \'description\',\n    key: \'description\',\n    dataIndex: \'description\',\n  },\n  {\n    title: \'downloadInfos\',\n    dataIndex: \'downloadInfos\',\n    key: \'downloadInfos\',\n    slots: { title: \'downloadInfos\' },\n    scopedSlots: { customRender: \'downloadInfos\' },\n    width: 400,\n  },\n];\nimport SystemInformation from \'./LandingPage/SystemInformation\'\n// import { Button } from \'ant-design-vue\';\nexport default {\n  name: \'landing-page\',\n  data: function () {\n    return {\n      searchList: [],\n      columns\n    }\n  },\n  components: {\n    // Button\n  },\n  methods: {\n    open (link) {\n      this.$electron.shell.openExternal(link)\n    },\n    onSearch: async function (value) {\n      let res = await this.$http.get(`http://localhost:4000/data`)\n      this.searchList = res.data.data.content\n      console.log(res.data.data.content)\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n\n\n// src\\main\\index.js 添加 webSecurity: false解决跨域问题\nfunction createWindow () {\n    mainWindow = new BrowserWindow({\n        webPreferences: {\n            nodeIntegration: true,\n            webSecurity: false\n        }\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 14.解决rowKey报错和获取下载链接地址\n\n<div slot="downloadInfos" class="btnlist" slot-scope="downloadInfos">\n        <a-button type="primary" icon="download" :size="size" @click="download(downloadInfos[0].url)">epub</a-button>\n        \x3c!-- <a-button type="primary" icon="download" :size="size">mobi</a-button>\n        <a-button type="primary" icon="download" :size="size">azw3</a-button> --\x3e\n</div>\n\n methods: {\n    download: function (url) {\n      console.log(url)\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n用node_modules\\axios\\lib\\adapters\\http.js将node_modules\\axios\\lib\\adapters\\xhr.js覆盖掉\n\nelectron-vue 引入async函数报错\n\nCommonJS 模块输出的是值的拷贝，你试一下用es6的导出，即,ok\n\n\n# 15.修改Axios实现后端请求\n\n\n# 16.优化页面和功能\n\n\n# 17.创建books页面和路由\n\nnew-item  src\\renderer\\components\\Books.vue\n\n\n1\n\n\n// src\\renderer\\components\\LandingPage.vue 添加\n<a-button type="primary" icon="appstore" size="large" @click="$router.push(\'/books\')">已下载书籍</a-button>\n\n\n1\n2\n\n\n\n# 18.解析EPUB文件\n\nnpm-epub\n\nnpm i epub --save\n\n\n1\n\n\n// src\\renderer\\components\\Books.vue添加\n<script>\nimport fs from \'fs\'\nconst EPub = require("epub");\nexport default {\n  mounted () {\n    let files = fs.readdirSync(\'books\')\n    // console.log(files)\n    files.forEach((item, index) => {\n      let epub = new EPub(\'books/\' + item);\n      epub.on(\'end\', () => {\n        console.log(epub)\n        epub.flow.forEach((chapter) => {\n          console.log("目录：" + chapter.id)\n          epub.getChapter(chapter.id, (error, text) => {\n            console.log(error)\n            console.log(text)\n          })\n        })\n      })\n      epub.parse()\n    })\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 19.根据磁盘电子书生成书库列表\n\n\n# 20.通过路由传参将书籍内容传递过去\n\nnew-item src\\renderer\\components\\BookDetail.vue\n\n\n1\n\n\n\n# 21.电子生成书章节列表\n\n\n# 22.获取图片解析到书籍里\n\nnpm install cheerio --save\n\n\n1\n\n\n\n# 23.解析epub的css内容渲染到书籍里\n\n\n# 24.修改中文不能搜索bug和打包成软件\n\n// 将中文转为url编码\nencodeURI(value)\n\n\n1\n2\n\n\n// src\\main\\index.js\nfunction createWindow () {\n    mainWindow = new BrowserWindow({\n        // 设置桌面图标\n        icon:\'../../build/icons/icon.jpg\',\n    })\n\n\n1\n2\n3\n4\n5\n6\n\n\n// src\\index.ejs 设置标题\n<title>老陈电子书阅读器</title>\n\n\n1\n2\n\n\n// package.json 设置标题、图标\n\n"build": {\n        "productName": "老陈电子书阅读器",\n        "win": {\n                "icon": "build/icons/favicon.ico"\n            },\n }\n\n\n1\n2\n3\n4\n5\n6\n\n\nyarn run build\n\n\n1\n\n\n// main.js(或index.js)添加\n\n\n\n1\n2\n\n\n\x3c!-- src\\index.html添加 --\x3e\n\n\n\n1\n2\n\n\n// src\\js\\render.js 添加\n\n\n\n1\n2\n\n\n/* src\\index.css 添加 */\n\n\n\n1\n2\n\n\n// index.js或者main.js 添加\n\n\n\n1\n2\n\n\npackage.json\n\n{\n    \n}\n\n\n1\n2\n3\n\n\n\n# 遇到的问题\n\n\n# 1.Uncaught ReferenceError: require is not defined\n\nmainWindow = new BrowserWindow({\n        width:400,\n        height:400,\n        // webPreferences:{ nodeIntegration: true}\n        // webPreferences:{ nodeIntegration:true}\n        webPreferences: {\n            nodeIntegration: true,\n            contextIsolation: false,\n        }\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 2.Electron Security Warning (Insecure Content-Security-Policy)\n\n// 是安全策略的设置告警，意思是内容安全策略没有设置，或者使用了[unsafe](https://so.csdn.net/so/search?q=unsafe&spm=1001.2101.3001.7020)-eval的安全设置。如果想要不出现上述告警，有两种方式。\n// 方式一：index.html文件里设置安全策略\n<meta http-equiv="Content-Security-Policy" content="default-src \'self\' \'unsafe-inline\';">\n// 方式二：main.js文件里屏蔽安全告警\nprocess.env[\'ELECTRON_DISABLE_SECURITY_WARNINGS\'] = \'true\';\n\n\n1\n2\n3\n4\n5\n\n\n# 3.高版本 require(electron).remote.BrowserWindow 报错 undefined，是因为从V14开始移除了remote，要使用的话需用通过npm引入\n\n// 1、通过 npm 方式引入 remote\nnpm install --save @electron/remote\n// 2、在主进程 mian.js 中添加引用代码\nrequire("@electron/remote/main").initialize();\nrequire("@electron/remote/main").enable(mainWindow.webContents);\n// 3、在渲染进程中引用\nconst { BrowserWindow } = require("@electron/remote");\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 4.使用electron-vue创建项目卡顿的问题\n\n1.执行vue init simulatedgreg/electron-vue xxx(project)命令太慢。\n\n# 1.1、将electron-vue项目先下载下来\ngit clone https://gitee.com/mirrors/electron-vue.git\n# 1.2安装样板代码\nvue init Z:\\source_code\\electron-vue my-project\n\n\n1\n2\n3\n4\n\n\n5.Unable to install vue-devtools:\n\nnpm install vue-devtools --save-dev\n\n\n1\n\n\n\n# 5.http://localhost:9080/__webpack_hmr net::ERR_ABORTED解决方案\n\n将项目下的 .electron-vue/dev-runner.js 文件打开\n定位到第二个 WebpackDevServer\n将第 69 行的注释打开\n# app.use(hotMiddleware)\n\n\n1\n2\n3\n4\n\n 6. 打包-SyntaxError: Identifier \'tasks\' has already been declared\n\n  // .electron-vue\\build.js\n  // 共四个tasks,将前面一对改成tasks1\n  const tasks1 = [\'main\', \'renderer\']\n  const m = new Multispinner(tasks1, {\n    preText: \'building\',\n    postText: \'process\'\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n还报错 ReferenceError: Multispinner is not defined\n\n// .electron-vue\\build.js\nconst Multispinner = require(\'multispinner\')\n\n\n1\n2\n\n 7. \n\n原文链接(http://www.dagoogle.cn/n/1082.html###)\n\n查看官方文档后发现：\n\n1.在Electron10中，enableRemoteModule默认值改为了false，若使用remote模块需改为true\n\n2.remote模块在Electron12废弃，在Electron14被移除，由@electron/remote模块替代\n\n@electron/remote模块正确使用方法 \n1.首先在项目中通过npm安装它\n#npm install --save @electron/remote\nyarn add @electron/remote --save\n2.在主进程中初始化@electron/remote模块，然后才能从渲染器中使用\nrequire(\'@electron/remote/main\').initialize()\n3.在主进程中开启remote，也就是webPreferences中添加enableRemoteModule:true\n4.将代码require(\'electron\').remote替换为require(\'@electron/remote\')\n在渲染进程中：\n// 之前\nconst { BrowserWindow } = require(\'electron\').remote\n// 14+版本\nconst { BrowserWindow } = require(\'@electron/remote\')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',normalizedContent:'> 说明：本章内容为博主在原教程基础上添加自己的学习笔记，来源b站老陈打码:https://www.bilibili.com/video/bv1qb4y1f722，教程版权归原作者所有。\n\n\n# 参考\n\n《electron官方指南》 electron-官网 electron-github electron-中文文档 electron 中文文档\n\n\n# 1.最新electron课程介绍\n\n\n# 2.electron介绍与第一个应用\n\ngit clone https://github.com/electron/electron-quick-start.git\ncd electron-quick-start\ncode .\ntree  /f . > dir_tree.md #powershell环境下执行就不会中文乱码了\nyarn install\n\n\n1\n2\n3\n4\n5\n\n\n\n# 目录结构\n\n│  electron-quick-start\n    │  .gitignore\n    │  directorylist.md\n    │  dir_tree.md\n    │  dir_tree.txt\n    │  index.html         # 第一个页面\n    │  license.md\n    │  main.js\n    │  package-lock.json\n    │  package.json\n    │  preload.js\n    │  readme.md\n    │  renderer.js\n    │  styles.css\n    │  \n    └─.github\n            dependabot.yml\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 3.使用yarn快速创建electron项目\n\n\n# electronforge\n\nyarn create electron-app my-app\ncd my-app\nyarn start\nyarn make # 编译为exe文件\n\n\n1\n2\n3\n4\n\n\n\n# main.js 添加webpreferences配置,使浏览器的js可以支持node接口\n\napp.on(\'ready\',()=>{\n    mainwindow = new browserwindow({\n        webpreferences: {\n            // 开启node\n            nodeintegration: true,\n            contextisolation: false,\n            // 开启remote\n            // enableremotemodule:true\n        }\n    }) // 设置打开窗口大小\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n// main.js\nconst fs = require(\'fs\');\nconsole.log(fs)\n\n\n1\n2\n3\n\n\n\n# 4.渲染进程的node环境调用\n\n\x3c!-- src\\index.html添加 --\x3e\n<button class="btn">写入内容</button>\n\n\n1\n2\n\n\n// src\\js\\render.js 添加\nlet btn = document.queryselector(\'.btn\')\nlet i = 0;\n\nconsole.log(btn)\nbtn.onclick = function () {\n    i++;\n    fs.writefile(`input${i}.txt`, \'内容\', (err) => {\n        if (err) {\n            console.log(err)\n        } else {\n            console.log(\'写入成功\')\n        }\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 5.实现拖动文件渲染在页面中\n\n\x3c!-- src\\index.html添加 --\x3e\n <div id="holder">\n     <h1>将你的文件拖动到此处！</h1>\n</div>\n<div id="readlist">\n    <h1>读取的文件内容</h1>\n</div>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n// src\\js\\render.js 添加\nholder.addeventlistener(\'drop\', (e) => {\n    e.preventdefault();//取消默认\n    e.stoppropagation();//阻止冒泡\n    console.log(e)\n    // datatransfer对象可以用来保存被拖动的数据\n    for (const file of e.datatransfer.files) {\n        console.log(file)\n        console.log(\'文件路径：\', file.path)\n        fs.readfile(file.path, (err, data) => {\n            if (err) {\n                console.log(err)\n            } else {\n                let newdiv = document.createelement(\'div\')\n                newdiv.classname = "readfile"\n                newdiv.innerhtml = `\n                    <h3>${file.name}</h3>\n                    <pre>${data}</pre>\n                    \n                `\n                readlist.appendchild(newdiv)\n            }\n        })\n    }\n})\nholder.addeventlistener(\'dragover\', (e) => {\n    e.preventdefault();//取消默认\n    e.stoppropagation();//阻止冒泡\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n/* src\\index.css 添加 */\n#holder {\n    width: 400px;\n    height: 100px;\n    background: gray;\n}\n\n#holder h1 {\n    font-size: 30px;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 6.webview的操控和使用\n\n// main.js(或index.js)添加\nwebpreferences: {\n            // 开启 webviewtag\n            webviewtag: true\n}\n\n\n1\n2\n3\n4\n5\n\n\n\x3c!-- src\\index.html添加 --\x3e\n<webview id="wv" src="https://www.baidu.com" style="width: 640px;height: 480px;"></webview>\n\n\n1\n2\n\n\n// src\\js\\render.js 添加\nconst webview = document.queryselector(\'webview\')\n\nwebview.addeventlistener(\'did-start-loading\', () => {\n    console.log(\'正在加载中。。。。\')\n})\n\nwebview.addeventlistener(\'did-stop-loading\', () => {\n    console.log(\'加载完毕。。。。\')\n    console.log([webview])\n\n    webview.insertcss(`#su{background:red!important;}`)\n\n    webview.executejavascript(`\n        settimeout(() => {\n            let input = document.queryselector(\'#kw\')\n            let btn = document.queryselector(\'#su\')\n            input.value = "老陈打码"\n            btn.click()\n        }, 2000);\n    `)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 7.主进程和渲染进程的通讯\n\n\x3c!-- src\\index.html添加 --\x3e\n<button id="btn">点击开启新窗口</button>\n<script>\n    let {ipcrenderer} = require(\'electron\');\n    ipcrenderer.on(\'lc-active\',(event,arg)=>{\n        console.log(event)\n        console.log(arg)\n    })\n    // 主动发送消息给主进程\n    ipcrenderer.send(\'lc-message\',"子进程给主进程发送数据")\n    ipcrenderer.on(\'lc-reply\',(event,arg)=>{\n        console.log(event)\n        console.log(arg)\n    })\n    var btn = document.queryselector(\'#btn\')\n    btn.onclick = function(){\n        // 主动发送消息给主进程\n        ipcrenderer.send(\'opennewwindow\')\n    }\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n// index.js或者main.js 添加\n// const { app, browserwindow } = require(\'electron\');\nconst { app, browserwindow, ipcmain } = require(\'electron\');\n\n// 8.dialog窗口的配置\n// 监听渲染进程发送过来的lc-message事件\nipcmain.on(\'lc-message\', (event, arg) => {\n    event.reply(\'lc-reply\', "这是主进程的答复")\n    console.log(arg)\n})\n\n// 监听渲染进程发送过来要求打开新窗口\nipcmain.on(\'opennewwindow\', (event, arg) => {\n    cwindow(\'https://www.taobao.com\')\n    cwindow(\'https://www.baidu.com\')\n})\n// 新窗口配置\nconst cwindow = (url) => {\n    // create the browser window.\n    const mainwindow = new browserwindow({\n        width: 800,\n        height: 600,\n        webpreferences: {\n            nodeintegration: true\n        }\n    });\n    // and load the index.html of the app.\n    mainwindow.loadurl(url)\n};\n// 主窗口配置\nconst createwindow = () => {\n    // 创建窗口之后,主动的发消息给渲染进程\n    settimeout(() => {\n        mainwindow.webcontents.send(\'lc-active\', "创建窗口之后，主进程主动发送数据给到渲染进程")\n    }, 2000);\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\npackage.json添加：（原因：终端中文乱码）\n\n "scripts": {\n        "start": "chcp 65001 && electron-forge start",  \n    },\n\n\n1\n2\n3\n\n\n\n# 8.dialog窗口的配置\n\n// main.js(或index.js)添加\nconst { app, browserwindow, ipcmain, dialog } = require(\'electron\');\n// 主窗口配置\nconst createwindow = () => {\n    // 8.dialog窗口的配置\n    // 2s后自动打开dialog窗口,选择文件\n    settimeout(() => {\n        // openfile允许选择文件\n        // opendirectory允许选择文件夹\n        // multiselection允许多选\n        // showhiddenfiles显示隐藏文件\n        // createdirectory允许创建文件夹\n        dialog.showopendialog({\n            properties: [\'openfile\', \'multiselections\']\n        }).then((result) => {\n            console.log(result.filepaths)\n            console.log(result.canceled)\n        })\n    }, 2000);\n\n    // 是否关闭主窗口？\n    mainwindow.on(\'close\', (e) => {\n        e.preventdefault()\n        dialog.showmessagebox(mainwindow, {\n            type: \'warning\',\n            title: "关闭",\n            message: "是否要关闭窗口？",\n            buttons: ["取消", "残酷关闭"]\n        }).then((index) => {\n            if (index.response == 1) {\n                app.exit()\n            }\n        })\n    })\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 9.原生自带网络请求的库\n\n// main.js(或index.js)添加\nconst createwindow = () => {\n    \n  // 原生自带网络请求的库\n  let request = net.request(\'https://taobao.com\')\n  request.on(\'response\',(response)=>{\n    console.log(response.statuscode)\n    console.log(json.stringify(response.headers) )\n    response.on(\'data\',(chunk)=>{\n      console.log(chunk.tostring())\n    })\n  })\n  request.end()\n    \n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 10.electron-vue的环境搭建\n\nelectron-vue\n\nelectron-vue\n\ncd ../\n# npm list -g --depth 0 查看npm全局安装的包\nnpm install -g vue-cli\n# vue init simulatedgreg/electron-vue my-project\n# 使用electron-vue创建项目卡顿的问题\n# 1.1、将electron-vue项目先下载下来\ngit clone https://gitee.com/mirrors/electron-vue.git\n# 1.2安装样板代码\nvue init z:\\source_code\\electron-vue my-project\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\ncd my-project\nyarn install\nyarn run dev \n\n\n1\n2\n3\n\n\n\n# 11.项目的基本结构和使用\n\n<template>\n  <div id="wrapper">\n   <h1>hello</h1>\n  </div>\n</template>\n\n<script>\n  import systeminformation from \'./landingpage/systeminformation\'\n\n  export default {\n    name: \'landing-page\',\n    \n  }\n<\/script>\n\n<style>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 12.electron使用antdui组件\n\nant design vue\n\n# 使用组件\n# npm i --save ant-design-vue\nyarn add ant-design-vue --save\nyarn add ant-design-vue@1.6.4 --save\n\n\n1\n2\n3\n4\n\n\n// main.js添加\n// 全局完整注册\nimport { createapp } from \'vue\';\nimport antd from \'ant-design-vue\';\nimport app from \'./app\';\nimport \'ant-design-vue/dist/antd.css\';\n\nconst app = createapp(app);\n\napp.use(antd).mount(\'#app\');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n<a-button type="primary">primary button</a-button>\n\n\n\n\n\n1\n2\n3\n4\n\n\n1、全局导入(尝试失败)\n\n// src\\renderer\\main.js添加\n// 全局导入\nimport antd from \'ant-design-vue\';\nimport \'ant-design-vue/dist/antd.css\';\nvue.use(antd);\n\n\n1\n2\n3\n4\n5\n\n\n// src\\renderer\\components\\landingpage.vue添加\n<template>\n  <div id="wrapper">\n    <a-button type="primary">\n      primary\n    </a-button>\n  </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n2、导入部分组件\n\n// src\\renderer\\main.js添加\n// 导入部分组件\nimport { button } from "ant-design-vue";\nimport \'ant-design-vue/lib/button/style/css\'\nvue.component(button.name, button)\n\n\n1\n2\n3\n4\n5\n\n\n\n# 13.实现查找书籍功能\n\n// 时宜搜书崩了，弄点假数据糊弄一些先\nnpm install -g json-server\njson-server -v\nmd src/mock\nnew-item src/mock/db.json\njson-server --watch db.json --port 4000\n// 假数据 url：http://localhost:4000/data\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nsrc\\mock\\db.json\n\n{\n    "data": {\n        "data": {\n            "content": [\n                {\n                    "id": 123,\n                    "title": "《总有人想打扰我修仙》",\n                    "bookpic": "https://www.zxcs.info/upload/202203/fad085fab3b96a839ab2ed9d5662a7d6.jpg",\n                    "description": "赵紫玥在渡最后一道飞升雷劫时，被天外飞来的石头砸成农家女，种地，经商，做粉条，通通不会……",\n                    "downloadinfos": [\n                        {\n                            "lllll": "0000"\n                        }\n                    ]\n                },\n                {\n                    "id": 124,\n                    "title": "《大流寇》",\n                    "bookpic": "https://www.zxcs.info/upload/202203/e8290f829a173db3417199eaf6d1bcab.jpg",\n                    "description": "崇祯十六年，明社稷将倾，是降清还是抗清？",\n                    "downloadinfos": [\n                        {\n                            "lllll": "0000"\n                        }\n                    ]\n                }\n            ]\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n// src\\renderer\\components\\landingpage.vue\n<template>\n  <div id="wrapper">\n    <a-input-search v-model:value="value" placeholder="input search text" style="width: 200px" @search="onsearch" />\n    </br>\n    <a-table :columns="columns" :data-source="searchlist">\n      \x3c!-- <img slot="bookpic" slot-scope="bookpic" :src="bookpic" /> --\x3e\n      <img slot="bookpic" style="width:200px" slot-scope="bookpic" :src="bookpic" />\n      <div slot="downloadinfos" class="btnlist">\n        <a-button type="primary" icon="download" :size="size">epub</a-button>\n        <a-button type="primary" icon="download" :size="size">mobi</a-button>\n        <a-button type="primary" icon="download" :size="size">azw3</a-button>\n      </div>\n      <a slot="name" slot-scope="text">{{ text }}</a>\n    </a-table>\n  </div>\n</template>\n\n<script>\nconst columns = [\n  {\n    dataindex: \'id\',\n    key: \'id\',\n    dataindex: \'id\',\n  },\n  {\n    title: \'书名\',\n    key: \'title\',\n  },\n  {\n    title: \'bookpic\',\n    key: \'bookpic\',\n    dataindex: \'bookpic\',\n    slots: { title: \'bookpic\' },\n    scopedslots: { customrender: \'bookpic\' },\n  },\n  {\n    title: \'description\',\n    key: \'description\',\n    dataindex: \'description\',\n  },\n  {\n    title: \'downloadinfos\',\n    dataindex: \'downloadinfos\',\n    key: \'downloadinfos\',\n    slots: { title: \'downloadinfos\' },\n    scopedslots: { customrender: \'downloadinfos\' },\n    width: 400,\n  },\n];\nimport systeminformation from \'./landingpage/systeminformation\'\n// import { button } from \'ant-design-vue\';\nexport default {\n  name: \'landing-page\',\n  data: function () {\n    return {\n      searchlist: [],\n      columns\n    }\n  },\n  components: {\n    // button\n  },\n  methods: {\n    open (link) {\n      this.$electron.shell.openexternal(link)\n    },\n    onsearch: async function (value) {\n      let res = await this.$http.get(`http://localhost:4000/data`)\n      this.searchlist = res.data.data.content\n      console.log(res.data.data.content)\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n\n\n// src\\main\\index.js 添加 websecurity: false解决跨域问题\nfunction createwindow () {\n    mainwindow = new browserwindow({\n        webpreferences: {\n            nodeintegration: true,\n            websecurity: false\n        }\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 14.解决rowkey报错和获取下载链接地址\n\n<div slot="downloadinfos" class="btnlist" slot-scope="downloadinfos">\n        <a-button type="primary" icon="download" :size="size" @click="download(downloadinfos[0].url)">epub</a-button>\n        \x3c!-- <a-button type="primary" icon="download" :size="size">mobi</a-button>\n        <a-button type="primary" icon="download" :size="size">azw3</a-button> --\x3e\n</div>\n\n methods: {\n    download: function (url) {\n      console.log(url)\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n用node_modules\\axios\\lib\\adapters\\http.js将node_modules\\axios\\lib\\adapters\\xhr.js覆盖掉\n\nelectron-vue 引入async函数报错\n\ncommonjs 模块输出的是值的拷贝，你试一下用es6的导出，即,ok\n\n\n# 15.修改axios实现后端请求\n\n\n# 16.优化页面和功能\n\n\n# 17.创建books页面和路由\n\nnew-item  src\\renderer\\components\\books.vue\n\n\n1\n\n\n// src\\renderer\\components\\landingpage.vue 添加\n<a-button type="primary" icon="appstore" size="large" @click="$router.push(\'/books\')">已下载书籍</a-button>\n\n\n1\n2\n\n\n\n# 18.解析epub文件\n\nnpm-epub\n\nnpm i epub --save\n\n\n1\n\n\n// src\\renderer\\components\\books.vue添加\n<script>\nimport fs from \'fs\'\nconst epub = require("epub");\nexport default {\n  mounted () {\n    let files = fs.readdirsync(\'books\')\n    // console.log(files)\n    files.foreach((item, index) => {\n      let epub = new epub(\'books/\' + item);\n      epub.on(\'end\', () => {\n        console.log(epub)\n        epub.flow.foreach((chapter) => {\n          console.log("目录：" + chapter.id)\n          epub.getchapter(chapter.id, (error, text) => {\n            console.log(error)\n            console.log(text)\n          })\n        })\n      })\n      epub.parse()\n    })\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 19.根据磁盘电子书生成书库列表\n\n\n# 20.通过路由传参将书籍内容传递过去\n\nnew-item src\\renderer\\components\\bookdetail.vue\n\n\n1\n\n\n\n# 21.电子生成书章节列表\n\n\n# 22.获取图片解析到书籍里\n\nnpm install cheerio --save\n\n\n1\n\n\n\n# 23.解析epub的css内容渲染到书籍里\n\n\n# 24.修改中文不能搜索bug和打包成软件\n\n// 将中文转为url编码\nencodeuri(value)\n\n\n1\n2\n\n\n// src\\main\\index.js\nfunction createwindow () {\n    mainwindow = new browserwindow({\n        // 设置桌面图标\n        icon:\'../../build/icons/icon.jpg\',\n    })\n\n\n1\n2\n3\n4\n5\n6\n\n\n// src\\index.ejs 设置标题\n<title>老陈电子书阅读器</title>\n\n\n1\n2\n\n\n// package.json 设置标题、图标\n\n"build": {\n        "productname": "老陈电子书阅读器",\n        "win": {\n                "icon": "build/icons/favicon.ico"\n            },\n }\n\n\n1\n2\n3\n4\n5\n6\n\n\nyarn run build\n\n\n1\n\n\n// main.js(或index.js)添加\n\n\n\n1\n2\n\n\n\x3c!-- src\\index.html添加 --\x3e\n\n\n\n1\n2\n\n\n// src\\js\\render.js 添加\n\n\n\n1\n2\n\n\n/* src\\index.css 添加 */\n\n\n\n1\n2\n\n\n// index.js或者main.js 添加\n\n\n\n1\n2\n\n\npackage.json\n\n{\n    \n}\n\n\n1\n2\n3\n\n\n\n# 遇到的问题\n\n\n# 1.uncaught referenceerror: require is not defined\n\nmainwindow = new browserwindow({\n        width:400,\n        height:400,\n        // webpreferences:{ nodeintegration: true}\n        // webpreferences:{ nodeintegration:true}\n        webpreferences: {\n            nodeintegration: true,\n            contextisolation: false,\n        }\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 2.electron security warning (insecure content-security-policy)\n\n// 是安全策略的设置告警，意思是内容安全策略没有设置，或者使用了[unsafe](https://so.csdn.net/so/search?q=unsafe&spm=1001.2101.3001.7020)-eval的安全设置。如果想要不出现上述告警，有两种方式。\n// 方式一：index.html文件里设置安全策略\n<meta http-equiv="content-security-policy" content="default-src \'self\' \'unsafe-inline\';">\n// 方式二：main.js文件里屏蔽安全告警\nprocess.env[\'electron_disable_security_warnings\'] = \'true\';\n\n\n1\n2\n3\n4\n5\n\n\n# 3.高版本 require(electron).remote.browserwindow 报错 undefined，是因为从v14开始移除了remote，要使用的话需用通过npm引入\n\n// 1、通过 npm 方式引入 remote\nnpm install --save @electron/remote\n// 2、在主进程 mian.js 中添加引用代码\nrequire("@electron/remote/main").initialize();\nrequire("@electron/remote/main").enable(mainwindow.webcontents);\n// 3、在渲染进程中引用\nconst { browserwindow } = require("@electron/remote");\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 4.使用electron-vue创建项目卡顿的问题\n\n1.执行vue init simulatedgreg/electron-vue xxx(project)命令太慢。\n\n# 1.1、将electron-vue项目先下载下来\ngit clone https://gitee.com/mirrors/electron-vue.git\n# 1.2安装样板代码\nvue init z:\\source_code\\electron-vue my-project\n\n\n1\n2\n3\n4\n\n\n5.unable to install vue-devtools:\n\nnpm install vue-devtools --save-dev\n\n\n1\n\n\n\n# 5.http://localhost:9080/__webpack_hmr net::err_aborted解决方案\n\n将项目下的 .electron-vue/dev-runner.js 文件打开\n定位到第二个 webpackdevserver\n将第 69 行的注释打开\n# app.use(hotmiddleware)\n\n\n1\n2\n3\n4\n\n 6. 打包-syntaxerror: identifier \'tasks\' has already been declared\n\n  // .electron-vue\\build.js\n  // 共四个tasks,将前面一对改成tasks1\n  const tasks1 = [\'main\', \'renderer\']\n  const m = new multispinner(tasks1, {\n    pretext: \'building\',\n    posttext: \'process\'\n  })\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n还报错 referenceerror: multispinner is not defined\n\n// .electron-vue\\build.js\nconst multispinner = require(\'multispinner\')\n\n\n1\n2\n\n 7. \n\n原文链接(http://www.dagoogle.cn/n/1082.html###)\n\n查看官方文档后发现：\n\n1.在electron10中，enableremotemodule默认值改为了false，若使用remote模块需改为true\n\n2.remote模块在electron12废弃，在electron14被移除，由@electron/remote模块替代\n\n@electron/remote模块正确使用方法 \n1.首先在项目中通过npm安装它\n#npm install --save @electron/remote\nyarn add @electron/remote --save\n2.在主进程中初始化@electron/remote模块，然后才能从渲染器中使用\nrequire(\'@electron/remote/main\').initialize()\n3.在主进程中开启remote，也就是webpreferences中添加enableremotemodule:true\n4.将代码require(\'electron\').remote替换为require(\'@electron/remote\')\n在渲染进程中：\n// 之前\nconst { browserwindow } = require(\'electron\').remote\n// 14+版本\nconst { browserwindow } = require(\'@electron/remote\')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',charsets:{cjk:!0}},{title:"web-embeds",frontmatter:{title:"web-embeds",date:"2022-04-11T14:50:30.000Z",permalink:"/pages/eabf78/",categories:["《Electron中文文档》","tutorial"],tags:[null]},regularPath:"/%E3%80%8AElectron%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E3%80%8B/tutorial/web-embeds.html",relativePath:"《Electron中文文档》/tutorial/web-embeds.md",key:"v-958b6fe4",path:"/pages/eabf78/",headers:[{level:2,title:"概览",slug:"概览",normalizedTitle:"概览",charIndex:17},{level:3,title:"Iframes",slug:"iframes",normalizedTitle:"iframes",charIndex:163},{level:3,title:"WebView",slug:"webview",normalizedTitle:"webview",charIndex:329},{level:3,title:"BrowserView",slug:"browserview",normalizedTitle:"browserview",charIndex:91}],headersStr:"概览 Iframes WebView BrowserView",content:'# Web Embeds\n\n\n# 概览\n\n有三种方式可以让你在Electron的BrowserWindow里集成（第三方）web内容，<iframe> 和, <webview> 和 BrowserViews 每个功能都略有不同，适用于不同的情况。 为了帮助您在这些选择之间进行选择，本指南将解释他们之间的差异和功能。\n\n\n# Iframes\n\nIframe 在 Electron 中的行为与普通浏览器中类似。 在宿主页面的 Content Security Policy 允许范围内，一个 <iframe> 元素能在页面上显示外部网页。 要限制 <iframe> 标签中站点的功能数量，建议 使用 sandbox 属性 并且只允许您想要支持的功能。\n\n\n# WebView\n\n> 重要提示： 我们不建议您使用 WebView，因为这个标签会发生剧烈的结构变化，可能会影响您应用程序的稳定性。 考虑切换到其他选择，如 iframe 和Electron的 BrowserView，或避免嵌入式内容 设计的架构。\n\nWebViews基于 Chromium 的 WebView，不被 Electron 明确支持。 我们不能保证WebView API 在未来版本的 Electron 中仍然可用。 这就是为什么如果您想要使用<webview>标签，您需要在BrowserWindow 的 webPreferences 中设置 webviewTag 为 true。\n\nWebView是一个自定义元素 (<webview>)，仅在 Electron 内工作。 它们以 "进程外 iframe" 实现。 这意味着所有与 <webview> 的通信都是异步使用 IPC 进行的。 <webview>元素有许多自定义方法和事件，类似于webContents，使您能够更多地控制内容。\n\n与 <iframe>，<webview> 相比往往稍慢，但在加载和与第三方内容通信以及处理各种事件方面提供了更大的控制。\n\n\n# BrowserView\n\nBrowserViews 不是 DOM 的一部分，而是由主进程创建和控制。 它们只是现有窗口之上的另一层 Web 内容。 这意味着它们与您自己的 BrowserWindow 内容完全分离，并且它们的位置不受 DOM 或 CSS 的控制，而是通过在主进程中设置边界来控制其位置。 相反，它通过在主进程中设置界面来控制 。\n\nBrowserViews 提供对其内容的最大控制，因为它们实现 webContents 的方式与 BrowserWindow 实现内容的方式类似。 但是，由于 BrowserViews 不是 DOM 的一部分，而是覆盖在它们之上，因此您必须手动管理它们的位置。',normalizedContent:'# web embeds\n\n\n# 概览\n\n有三种方式可以让你在electron的browserwindow里集成（第三方）web内容，<iframe> 和, <webview> 和 browserviews 每个功能都略有不同，适用于不同的情况。 为了帮助您在这些选择之间进行选择，本指南将解释他们之间的差异和功能。\n\n\n# iframes\n\niframe 在 electron 中的行为与普通浏览器中类似。 在宿主页面的 content security policy 允许范围内，一个 <iframe> 元素能在页面上显示外部网页。 要限制 <iframe> 标签中站点的功能数量，建议 使用 sandbox 属性 并且只允许您想要支持的功能。\n\n\n# webview\n\n> 重要提示： 我们不建议您使用 webview，因为这个标签会发生剧烈的结构变化，可能会影响您应用程序的稳定性。 考虑切换到其他选择，如 iframe 和electron的 browserview，或避免嵌入式内容 设计的架构。\n\nwebviews基于 chromium 的 webview，不被 electron 明确支持。 我们不能保证webview api 在未来版本的 electron 中仍然可用。 这就是为什么如果您想要使用<webview>标签，您需要在browserwindow 的 webpreferences 中设置 webviewtag 为 true。\n\nwebview是一个自定义元素 (<webview>)，仅在 electron 内工作。 它们以 "进程外 iframe" 实现。 这意味着所有与 <webview> 的通信都是异步使用 ipc 进行的。 <webview>元素有许多自定义方法和事件，类似于webcontents，使您能够更多地控制内容。\n\n与 <iframe>，<webview> 相比往往稍慢，但在加载和与第三方内容通信以及处理各种事件方面提供了更大的控制。\n\n\n# browserview\n\nbrowserviews 不是 dom 的一部分，而是由主进程创建和控制。 它们只是现有窗口之上的另一层 web 内容。 这意味着它们与您自己的 browserwindow 内容完全分离，并且它们的位置不受 dom 或 css 的控制，而是通过在主进程中设置边界来控制其位置。 相反，它通过在主进程中设置界面来控制 。\n\nbrowserviews 提供对其内容的最大控制，因为它们实现 webcontents 的方式与 browserwindow 实现内容的方式类似。 但是，由于 browserviews 不是 dom 的一部分，而是覆盖在它们之上，因此您必须手动管理它们的位置。',charsets:{cjk:!0}}],themeConfig:{nav:[{text:"首页",link:"/"},{text:"前端",link:"/web/",items:[{text:"前端文章",items:[]},{text:"学习笔记",items:[]}]},{text:"页面",link:"/ui/",items:[{text:"HTML",link:"/pages/8309a5b876fc95e3/"},{text:"CSS",link:"/pages/0a83b083bdf257cb/"}]},{text:"技术",link:"/technology/",items:[{text:"技术文档",link:"/pages/9a7ee40fc232253e/"},{text:"GitHub技巧",link:"/pages/4c778760be26d8b3/"},{text:"Nodejs",link:"/pages/117708e0af7f0bd9/"},{text:"博客搭建",link:"/pages/41f87d890d0a02af/"}]},{text:"更多",link:"/more/",items:[{text:"学习",link:"/pages/f2a556/"},{text:"面试",link:"/pages/aea6571b7a8bae86/"},{text:"心情杂货",link:"/pages/2d615df9a36a98ed/"},{text:"实用技巧",link:"/pages/baaa02/"},{text:"友情链接",link:"/friends/"}]},{text:"关于",link:"/about/"},{text:"收藏",link:"/pages/beb6c0bd8a66cea6/"},{text:"索引",link:"/archives/",items:[{text:"分类",link:"/categories/"},{text:"标签",link:"/tags/"},{text:"归档",link:"/archives/"}]}],sidebarDepth:2,logo:"/img/logo.png",repo:"wenxuli/vuepress-theme-vdoing",searchMaxSuggestions:10,lastUpdated:"上次更新",docsDir:"docs",editLinks:!0,editLinkText:"编辑",sidebar:{"/01.前端/":[{title:"JavaScript文章",collapsable:!0,children:[{title:"三级目录",collapsable:!0,children:[]}]},{title:"学习笔记",collapsable:!0,children:[]}],catalogue:{},"/02.页面/":[{title:"HTML",collapsable:!0,children:[]},{title:"CSS",collapsable:!0,children:[]}],"/03.技术/":[{title:"技术文档",collapsable:!0,children:[]},{title:"GitHub技巧",collapsable:!0,children:[]},{title:"Nodejs",collapsable:!0,children:[]},{title:"博客搭建",collapsable:!0,children:[]}],"/04.更多/":[{title:"学习",collapsable:!0,children:[]},{title:"面试",collapsable:!0,children:[]},{title:"心情杂货",collapsable:!0,children:[]},{title:"实用技巧",collapsable:!0,children:[]}],"/《Git》学习笔记/":[{title:"手册",collapsable:!0,children:[]},{title:"文档笔记",collapsable:!0,children:[]}],"/《React》笔记/":[{title:"核心概念",collapsable:!0,children:[]},{title:"高级指引",collapsable:!0,children:[]},{title:"Hook",collapsable:!0,children:[]},{title:"案例演示",collapsable:!0,children:[]}],"/《Vue》笔记/":[{title:"基础",collapsable:!0,children:[]},{title:"组件",collapsable:!0,children:[]},{title:"过渡&动画",collapsable:!0,children:[]},{title:"可复用性&组合",collapsable:!0,children:[]},{title:"工具",collapsable:!0,children:[]},{title:"规模化",collapsable:!0,children:[]},{title:"Vuex",collapsable:!0,children:[]},{title:"其他",collapsable:!0,children:[]}]},author:{name:"Xuli",link:"https://github.com/wenxuli2"},blogger:{avatar:"/images/character.png",name:"Xuli",slogan:"前端界的小白"},social:{icons:[{iconClass:"icon-youjian",title:"发邮件",link:"mailto:1031553051@qq.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/wenxuli2"},{iconClass:"icon-erji",title:"听音乐",link:"https://music.163.com/#"}]},footer:{createYear:2022,copyrightInfo:'Xuli | <a href="#" target="_blank">MIT License</a> | <a href="https://beian.miit.gov.cn/#/Integrated/recordQuery">粤ICP备2022033241号</a>'},htmlModules:{}},locales:{"/":{lang:"zh-CN",title:"Xuli's blog",description:"web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。",path:"/"}}},ll=(t(155),t(212),t(143),t(222)),cl=t(223),dl=(t(374),t(236),t(43));var pl={computed:{$filterPosts:function(){return this.$site.pages.filter((function(e){var n=e.frontmatter,t=n.pageComponent,o=n.article,r=n.home;return!(t||!1===o||!0===r)}))},$sortPosts:function(){return(e=this.$filterPosts).sort((function(e,n){var t=e.frontmatter.sticky,o=n.frontmatter.sticky;return t&&o?t==o?Object(dl.a)(e,n):t-o:t&&!o?-1:!t&&o?1:Object(dl.a)(e,n)})),e;var e},$sortPostsByDate:function(){return(e=this.$filterPosts).sort((function(e,n){return Object(dl.a)(e,n)})),e;var e},$groupPosts:function(){return function(e){for(var n={},t={},o=function(o,r){var i=e[o].frontmatter,a=i.categories,s=i.tags;"array"===Object(dl.n)(a)&&a.forEach((function(t){t&&(n[t]||(n[t]=[]),n[t].push(e[o]))})),"array"===Object(dl.n)(s)&&s.forEach((function(n){n&&(t[n]||(t[n]=[]),t[n].push(e[o]))}))},r=0,i=e.length;r<i;r++)o(r);return{categories:n,tags:t}}(this.$sortPosts)},$categoriesAndTags:function(){return function(e){var n=[],t=[];for(var o in e.categories)n.push({key:o,length:e.categories[o].length});for(var r in e.tags)t.push({key:r,length:e.tags[r].length});return{categories:n,tags:t}}(this.$groupPosts)}}};Or.component(ll.default),Or.component(cl.default);function ul(e){return e.toString().padStart(2,"0")}t(378);Or.component("CodeBlock",(function(){return Promise.resolve().then(t.bind(null,222))})),Or.component("Badge",(function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,755))})),Or.component("CodeGroup",(function(){return Promise.resolve().then(t.bind(null,223))}));t(379);var hl,ml,gl=t(50),fl=(t(382),t(137),t(221)),wl=t.n(fl),bl=t(102);"valine"===(ml="gitalk")?t.e(279).then(t.t.bind(null,478,7)).then((function(e){return e.default})):"gitalk"===ml&&Promise.all([t.e(0),t.e(278)]).then(t.t.bind(null,479,7)).then((function(){return t.e(277).then(t.t.bind(null,480,7))})).then((function(e){return hl=e.default}));function vl(e,n){var t={};return Reflect.ownKeys(e).forEach((function(o){if("string"==typeof e[o])try{t[o]=wl.a.render(e[o],n)}catch(n){console.warn('Comment config option error at key named "'.concat(o,'"')),console.warn("More info: ".concat(n.message)),t[o]=e[o]}else t[o]=e[o]})),t}console.log('How to use "'.concat("gitalk",'" in ').concat(bl.name,"@v").concat(bl.version,":"),bl.homepage);var yl={render:function(e,n){var t=document.createElement("div");t.id=n,document.querySelector("main.page").appendChild(t),new hl(vl({clientID:"a6e1355287947096b88b",clientSecret:"f0e77d070fabfcd5af95bebb82b2d574d7248d71",repo:"blog-gitalk-comment",owner:"wenxuli",admin:["wenxuli"],pagerDirection:"last",id:"<%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %>",title:"「评论」<%- frontmatter.title %>",labels:["Gitalk","Comment"],body:"页面：<%- window.location.origin + (frontmatter.to.path || window.location.pathname) %>"},{frontmatter:e})).render(n)},clear:function(e){var n=document.querySelector("#".concat(e));return n&&n.remove(),!0}},xl=null;function kl(e){return yl.clear("vuepress-plugin-comment")}function El(e){return!1!==e.comment&&!1!==e.comments}function Il(e){if(clearTimeout(xl),document.querySelector("main.page"))return yl.render(e,"vuepress-plugin-comment");xl=setTimeout((function(){return Il(e)}),200)}var Sl={mounted:function(){var e=this;xl=setTimeout((function(){var n=Object(gl.a)({to:{},from:{}},e.$frontmatter);kl()&&El(n)&&Il(n)}),1e3),this.$router.afterEach((function(n,t){if(!n||!t||n.path!==t.path){var o=Object(gl.a)({to:n,from:t},e.$frontmatter);kl()&&El(o)&&Il(o)}}))}},Tl=Object(rl.a)(Sl,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports,zl=[function(e){e.Vue,e.options,e.router,e.siteData},function(e){var n=e.Vue,t=(e.options,e.router,e.siteData);t.pages.map((function(e){var n=e.frontmatter,o=n.date,r=n.author;"string"==typeof o&&"Z"===o.charAt(o.length-1)&&(e.frontmatter.date=function(e){e instanceof Date||(e=new Date(e));return"".concat(e.getUTCFullYear(),"-").concat(ul(e.getUTCMonth()+1),"-").concat(ul(e.getUTCDate())," ").concat(ul(e.getUTCHours()),":").concat(ul(e.getUTCMinutes()),":").concat(ul(e.getUTCSeconds()))}(o)),r?e.author=r:t.themeConfig.author&&(e.author=t.themeConfig.author)})),n.mixin(pl)},{},function(e){e.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},{},function(e){e.router;"undefined"!=typeof window&&function(){var e=document.createElement("script"),n=window.location.protocol.split(":")[0];e.src="https"===n?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},function(e){var n=e.router;"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?503f098e7e5b3a5b5d8c5fc2938af002";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}(),n.afterEach((function(e){_hmt.push(["_trackPageview",e.fullPath])})))},function(e){e.Vue.component("Comment",Tl)}],Al=["Comment"];t(215);function jl(e,n){return(jl=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t(216);function Pl(e){return(Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cl(e,n){if(n&&("object"===Ta(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _l(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Pl(e);if(n){var r=Pl(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Cl(this,t)}}var Bl=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&jl(e,n)}(t,e);var n=_l(t);function t(){return cs(this,t),n.apply(this,arguments)}return ps(t)}(function(){function e(){cs(this,e),this.store=new Or({data:{state:{}}})}return ps(e,[{key:"$get",value:function(e){return this.store.state[e]}},{key:"$set",value:function(e,n){Or.set(this.store.state,e,n)}},{key:"$emit",value:function(){var e;(e=this.store).$emit.apply(e,arguments)}},{key:"$on",value:function(){var e;(e=this.store).$on.apply(e,arguments)}}]),e}());Object.assign(Bl.prototype,{getPageAsyncComponent:Fa,getLayoutAsyncComponent:Ua,getAsyncComponent:Ha,getVueComponent:$a});var Ol={install:function(e){var n=new Bl;e.$vuepress=n,e.prototype.$vuepress=n}};function ql(e){e.beforeEach((function(n,t,o){if(Dl(e,n.path))o();else if(/(\/|\.html)$/.test(n.path))if(/\/$/.test(n.path)){var r=n.path.replace(/\/$/,"")+".html";Dl(e,r)?o(r):o()}else o();else{var i=n.path+"/",a=n.path+".html";Dl(e,a)?o(a):Dl(e,i)?o(i):o()}}))}function Dl(e,n){var t=n.toLowerCase();return e.options.routes.some((function(e){return e.path.toLowerCase()===t}))}var Wl={props:{pageKey:String,slotKey:{type:String,default:"default"}},render:function(e){var n=this.pageKey||this.$parent.$page.key;return Ga("pageKey",n),Or.component(n)||Or.component(n,Fa(n)),Or.component(n)?e(n):e("")}},Rl={functional:!0,props:{slotKey:String,required:!0},render:function(e,n){var t=n.props,o=n.slots;return e("div",{class:["content__".concat(t.slotKey)]},o()[t.slotKey])}},Ll={computed:{openInNewWindowTitle:function(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Ml=(t(387),t(388),Object(rl.a)(Ll,(function(){var e=this.$createElement,n=this._self._c||e;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports);function Nl(){return(Nl=Object(o.a)(regeneratorRuntime.mark((function e(n){var t,o,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:sl.routerBase||sl.base,ql(o=new Ia({base:t,mode:"history",fallback:!1,routes:al,scrollBehavior:function(e,n,t){return t||(e.hash?!Or.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(e.hash)}:{x:0,y:0})}})),r={},e.prev=4,e.next=7,Promise.all(zl.filter((function(e){return"function"==typeof e})).map((function(e){return e({Vue:Or,options:r,router:o,siteData:sl,isServer:n})})));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.error(e.t0);case 12:return i=new Or(Object.assign(r,{router:o,render:function(e){return e("div",{attrs:{id:"app"}},[e("RouterView",{ref:"layout"}),e("div",{class:"global-ui"},Al.map((function(n){return e(n)})))])}})),e.abrupt("return",{app:i,router:o});case 14:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}Or.config.productionTip=!1,Or.use(Ia),Or.use(Ol),Or.mixin(function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Or;Sa(n),t.$vuepress.$set("siteData",n);var o=e(t.$vuepress.$get("siteData")),r=new o,i=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),a={};return Object.keys(i).reduce((function(e,n){return n.startsWith("$")&&(e[n]=i[n].get),e}),a),{computed:a}}((function(e){return function(){function n(){cs(this,n)}return ps(n,[{key:"setPage",value:function(e){this.__page=e}},{key:"$site",get:function(){return e}},{key:"$themeConfig",get:function(){return this.$site.themeConfig}},{key:"$frontmatter",get:function(){return this.$page.frontmatter}},{key:"$localeConfig",get:function(){var e,n,t=this.$site.locales,o=void 0===t?{}:t;for(var r in o)"/"===r?n=o[r]:0===this.$page.path.indexOf(r)&&(e=o[r]);return e||n||{}}},{key:"$siteTitle",get:function(){return this.$localeConfig.title||this.$site.title||""}},{key:"$canonicalUrl",get:function(){var e=this.$page.frontmatter.canonicalUrl;return"string"==typeof e&&e}},{key:"$title",get:function(){var e=this.$page,n=this.$page.frontmatter.metaTitle;if("string"==typeof n)return n;var t=this.$siteTitle,o=e.frontmatter.home?null:e.frontmatter.title||e.title;return t?o?o+" | "+t:t:o||"VuePress"}},{key:"$description",get:function(){var e=function(e){if(e){var n=e.filter((function(e){return"description"===e.name}))[0];if(n)return n.content}}(this.$page.frontmatter.meta);return e||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}},{key:"$lang",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}},{key:"$localePath",get:function(){return this.$localeConfig.path||"/"}},{key:"$themeLocaleConfig",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:"$page",get:function(){return this.__page?this.__page:function(e,n){for(var t=0;t<e.length;t++){var o=e[t];if(o.path.toLowerCase()===n.toLowerCase())return o}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),n}()}),sl)),Or.component("Content",Wl),Or.component("ContentSlotsDistributor",Rl),Or.component("OutboundLink",Ml),Or.component("ClientOnly",{functional:!0,render:function(e,n){var t=n.parent,o=n.children;if(t._isMounted)return o;t.$once("hook:mounted",(function(){t.$forceUpdate()}))}}),Or.component("Layout",Ua("Layout")),Or.component("NotFound",Ua("NotFound")),Or.prototype.$withBase=function(e){var n=this.$site.base;return"/"===e.charAt(0)?n+e.slice(1):e},window.__VUEPRESS__={version:"1.9.5",hash:"748c080"},function(e){return Nl.apply(this,arguments)}(!1).then((function(e){var n=e.app;e.router.onReady((function(){n.$mount("#app")}))}))}]);