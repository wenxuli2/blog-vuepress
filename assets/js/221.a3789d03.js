(window.webpackJsonp=window.webpackJsonp||[]).push([[221],{699:function(t,s,a){"use strict";a.r(s);var e=a(20),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ä»£ç ç­¾å"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç ç­¾å"}},[t._v("#")]),t._v(" ä»£ç ç­¾å")]),t._v(" "),a("p",[t._v("ä»£ç ç­¾åæ˜¯ä¸€ç§ç”¨æ¥è¯æ˜åº”ç”¨æ˜¯ç”±ä½ åˆ›å»ºçš„ä¸€ç§å®‰å…¨æŠ€æœ¯ã€‚")]),t._v(" "),a("p",[t._v("macOS ç³»ç»Ÿèƒ½é€šè¿‡ä»£ç ç­¾åæ£€æµ‹å¯¹appçš„ä»»ä½•ä¿®æ”¹ï¼ŒåŒ…æ‹¬æ„å¤–ä¿®æ”¹å’Œæ¥è‡ªæ¶æ„ä»£ç çš„ä¿®æ”¹ã€‚")]),t._v(" "),a("p",[t._v("On Windows, the system assigns a trust level to your code signing certificate which if you don't have, or if your trust level is low, will cause security dialogs to appear when users start using your application.  ä¿¡ä»»çº§åˆ«éšç€æ—¶é—´çš„æ¨ç§»æ„å»ºï¼Œå› æ­¤æœ€å¥½å°½æ—©å¼€å§‹ä»£ç ç­¾åã€‚")]),t._v(" "),a("p",[t._v("å³ä½¿å¼€å‘è€…å¯ä»¥å‘å¸ƒä¸€ä¸ªæœªç­¾åçš„åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸å»ºè®®è¿™æ ·åšã€‚ Both Windows and macOS will, by default, prevent either the download or the execution of unsigned applications. Starting with macOS Catalina (version 10.15), users have to go through multiple manual steps to open unsigned applications.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/gatekeeper.png",alt:"macOS Catalina Gatekeeper è­¦å‘Šï¼šæ— æ³•æ‰“å¼€åº”ç”¨ç¨‹åºï¼Œå› ä¸ºå¼€å‘è€…æ— æ³•éªŒè¯"}})]),t._v(" "),a("p",[t._v("å¦‚ä½ æ‰€è§ï¼Œç”¨æˆ·æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼šç›´æ¥åˆ é™¤åº”ç”¨æˆ–è€…å–æ¶ˆè¿è¡Œã€‚ ä½ ä¸ä¼šæƒ³è®©ç”¨æˆ·çœ‹è§è¯¥å¯¹è¯æ¡†ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾Electronåº”ç”¨ï¼Œå¹¶æ‰“ç®—å°†å…¶æ‰“åŒ…å‘å¸ƒï¼Œé‚£ä½ å°±åº”è¯¥ä¸ºå…¶æ·»åŠ ä»£ç ç­¾åã€‚")]),t._v(" "),a("h1",{attrs:{id:"ç­¾å-è®¤è¯-macos-ç‰ˆæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç­¾å-è®¤è¯-macos-ç‰ˆæœ¬"}},[t._v("#")]),t._v(" ç­¾å & è®¤è¯ macOS ç‰ˆæœ¬")]),t._v(" "),a("p",[t._v("æ­£ç¡®å‡†å¤‡ macOS åº”ç”¨ç¨‹åºçš„å‘å¸ƒéœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼šé¦–å…ˆï¼Œåº”ç”¨ç¨‹åºéœ€è¦ç­¾åã€‚ ç„¶åï¼Œåº”ç”¨ç¨‹åºéœ€è¦ä¸Šä¼ åˆ°è‹¹æœï¼Œç„¶åæ‰èƒ½è¿›è¡Œåä¸ºâ€œå…¬è¯â€çš„è¿‡ç¨‹ï¼Œ è‡ªåŠ¨åŒ–ç³»ç»Ÿå°†ä¼šè¿›ä¸€æ­¥éªŒè¯æ‚¨çš„åº”ç”¨æ²¡æœ‰åšä»»ä½•äº‹æƒ…æ¥å±åŠå…¶ç”¨æˆ·ã€‚")]),t._v(" "),a("p",[t._v("To start the process, ensure that you fulfill the requirements for signing and notarizing your app:")]),t._v(" "),a("ol",[a("li",[t._v("åŠ å…¥ "),a("a",{attrs:{href:"https://developer.apple.com/programs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apple Developer Program"),a("OutboundLink")],1),t._v("(éœ€è¦ç¼´çº³å¹´è´¹)")]),t._v(" "),a("li",[t._v("ä¸‹è½½å¹¶å®‰è£… "),a("a",{attrs:{href:"https://developer.apple.com/xcode",target:"_blank",rel:"noopener noreferrer"}},[t._v("Xcode"),a("OutboundLink")],1),t._v(" - è¿™éœ€è¦ä¸€å°è¿è¡Œ macOS çš„è®¡ç®—æœºã€‚")]),t._v(" "),a("li",[t._v("ç”Ÿæˆï¼Œä¸‹è½½ï¼Œç„¶åå®‰è£…"),a("a",{attrs:{href:"https://github.com/electron/electron-osx-sign/wiki/1.-Getting-Started#certificates",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç­¾åè¯ä¹¦ï¼ˆsigning certificatesï¼‰"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Electron çš„ç”Ÿæ€ç³»ç»Ÿæœ‰åˆ©äºé…ç½®å’Œè‡ªç”±ï¼Œæ‰€ä»¥æœ‰å¤šç§æ–¹æ³•è®©æ‚¨çš„åº”ç”¨ç¨‹åºç­¾åå’Œå…¬è¯ã€‚")]),t._v(" "),a("h2",{attrs:{id:"electron-forge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#electron-forge"}},[t._v("#")]),t._v(" "),a("code",[t._v("electron-forge")])]),t._v(" "),a("p",[t._v("If you're using Electron's favorite build tool, getting your application signed and notarized requires a few additions to your configuration. "),a("a",{attrs:{href:"https://electronforge.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Forge"),a("OutboundLink")],1),t._v(" æ˜¯å®˜æ–¹çš„ Electron å·¥å…·çš„ é›†åˆï¼Œåœ¨hoodä¸‹ä½¿ç”¨ "),a("a",{attrs:{href:"https://github.com/electron/electron-packager",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("electron-packager")]),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/electron-userland/electron-osx-sign",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("electron-osx-sign")]),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/electron/electron-notarize",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("electron-notarize")]),a("OutboundLink")],1),t._v(" ã€‚")]),t._v(" "),a("p",[t._v("Let's take a look at an example configuration with all required fields. å¹¶ä¸æ˜¯æ‰€æœ‰éƒ½æ˜¯å¿…éœ€çš„ï¼šå·¥å…·éå¸¸èªæ˜è¶³ä»¥è‡ªåŠ¨æ‰¾åˆ°åˆé€‚çš„ "),a("code",[t._v("identity")]),t._v(", ä¾‹å¦‚ï¼Œä½†æˆ‘ä»¬å»ºè®®ä½ æ˜ç™½æ— è¯¯ã€‚")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-app"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"config"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"forge"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"packagerConfig"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"osxSign"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"identity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Developer ID Application: Felix Rieseberg (LT94ZKYDCJ)"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hardened-runtime"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"entitlements"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"entitlements.plist"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"entitlements-inherit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"entitlements.plist"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"signature-flags"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"library"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"osxNotarize"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"appleId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"felix@felix.fun"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"appleIdPassword"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-apple-id-password"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("p",[t._v("æ­¤å¤„å¼•ç”¨çš„ "),a("code",[t._v("plist")]),t._v(" æ–‡ä»¶éœ€è¦ä»¥ä¸‹çš„ macOS ç‰¹å®šæƒé™æ¥ä¿è¯æ‚¨çš„åº”ç”¨æ­£åœ¨åšè¿™äº›äº‹æƒ…çš„è‹¹æœå®‰å…¨æœºåˆ¶å¹¶ä¸æ„å‘³ç€ä»»ä½•ä¼¤å®³ï¼š")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("plist")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("PUBLIC")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-//Apple//DTD PLIST 1.0//EN"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.apple.com/DTDs/PropertyList-1.0.dtd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plist")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dict")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.apple.security.cs.allow-jit"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.apple.security.cs.debugger"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dict")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("Note that up until Electron 12, the "),a("code",[t._v("com.apple.security.cs.allow-unsigned-executable-memory")]),t._v(" entitlement was required as well. However, it should not be used anymore if it can be avoided.")]),t._v(" "),a("p",[t._v("è¦æŸ¥çœ‹æ‰€æœ‰è¿™äº›éƒ½åœ¨æ“ä½œä¸­ï¼Œè¯·æŸ¥çœ‹ Electron Fiddle çš„æºä»£ç ï¼Œ"),a("a",{attrs:{href:"https://github.com/electron/fiddle/blob/master/forge.config.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("å°¤å…¶æ˜¯å…¶ "),a("code",[t._v("electron-forge")]),t._v(" é…ç½®æ–‡ä»¶"),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœæ‚¨æ‰“ç®—åœ¨åº”ç”¨ä¸­ä½¿ç”¨ Electron çš„ API è®¿é—®éº¦å…‹é£æˆ–æ‘„åƒå¤´ï¼Œæ‚¨è¿˜éœ€è¦æ·»åŠ ä»¥ä¸‹æƒé™ï¼š")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.apple.security.device.audio-input"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.apple.security.device.camera"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("If these are not present in your app's entitlements when you invoke, for example:")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" systemPreferences "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" microphone "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" systemPreferences"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("askForMediaAccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'microphone'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("Your app may crash. åœ¨ "),a("a",{attrs:{href:"https://developer.apple.com/documentation/security/hardened_runtime",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hardened Runtime"),a("OutboundLink")],1),t._v(" ä¸­æŸ¥çœ‹èµ„æºè®¿é—®éƒ¨åˆ†ä»¥è·å–æ›´å¤šä¿¡æ¯å’Œæ‚¨å¯èƒ½éœ€è¦çš„æƒé™ã€‚")]),t._v(" "),a("h2",{attrs:{id:"electron-builder"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#electron-builder"}},[t._v("#")]),t._v(" "),a("code",[t._v("electron-builder")])]),t._v(" "),a("p",[t._v("Electron Builder comes with a custom solution for signing your application. ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ° "),a("a",{attrs:{href:"https://www.electron.build/code-signing",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®ƒçš„æ–‡æ¡£"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"electron-packager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#electron-packager"}},[t._v("#")]),t._v(" "),a("code",[t._v("electron-packager")])]),t._v(" "),a("p",[t._v("If you're not using an integrated build pipeline like Forge or Builder, you are likely using "),a("a",{attrs:{href:"https://github.com/electron/electron-packager",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("electron-packager")]),a("OutboundLink")],1),t._v(", which includes "),a("a",{attrs:{href:"https://github.com/electron-userland/electron-osx-sign",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("electron-osx-sign")]),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://github.com/electron/electron-notarize",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("electron-notarize")]),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨Packagerçš„ APIï¼Œæ‚¨å¯ä»¥é€šè¿‡é…ç½® "),a("a",{attrs:{href:"https://electron.github.io/electron-packager/main/interfaces/electronpackager.options.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¥ç­¾åå¹¶å¯¹æ‚¨çš„åº”ç”¨ç¨‹åºè¿›è¡Œå…¬è¯"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" packager "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron-packager'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("packager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/my/app'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("osxSign")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("identity")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Developer ID Application: Felix Rieseberg (LT94ZKYDCJ)'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'hardened-runtime'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("entitlements")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'entitlements.plist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'entitlements-inherit'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'entitlements.plist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'signature-flags'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'library'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("osxNotarize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("appleId")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'felix@felix.fun'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("appleIdPassword")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-apple-id-password'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("æ­¤å¤„å¼•ç”¨çš„ "),a("code",[t._v("plist")]),t._v(" æ–‡ä»¶éœ€è¦ä»¥ä¸‹çš„ macOS ç‰¹å®šæƒé™æ¥ä¿è¯æ‚¨çš„åº”ç”¨æ­£åœ¨åšè¿™äº›äº‹æƒ…çš„è‹¹æœå®‰å…¨æœºåˆ¶å¹¶ä¸æ„å‘³ç€ä»»ä½•ä¼¤å®³ï¼š")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("plist")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("PUBLIC")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-//Apple//DTD PLIST 1.0//EN"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.apple.com/DTDs/PropertyList-1.0.dtd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plist")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dict")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.apple.security.cs.allow-jit"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.apple.security.cs.debugger"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dict")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("Up until Electron 12, the "),a("code",[t._v("com.apple.security.cs.allow-unsigned-executable-memory")]),t._v(" entitlement was required as well. However, it should not be used anymore if it can be avoided.")]),t._v(" "),a("h2",{attrs:{id:"mac-åº”ç”¨ç¨‹åºå•†åº—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mac-åº”ç”¨ç¨‹åºå•†åº—"}},[t._v("#")]),t._v(" Mac åº”ç”¨ç¨‹åºå•†åº—")]),t._v(" "),a("p",[t._v("See the "),a("RouterLink",{attrs:{to:"/ã€ŠElectronä¸­æ–‡æ–‡æ¡£ã€‹/tutorial/mac-app-store-submission-guide.html"}},[t._v("Mac App Store Guide")]),t._v(".")],1),t._v(" "),a("h1",{attrs:{id:"ç­¾ç½²windowsåº”ç”¨ç¨‹åº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç­¾ç½²windowsåº”ç”¨ç¨‹åº"}},[t._v("#")]),t._v(" ç­¾ç½²windowsåº”ç”¨ç¨‹åº")]),t._v(" "),a("p",[t._v("åœ¨ç­¾ç½²Windowsåº”ç”¨ç¨‹åºå‰ï¼Œä½ éœ€è¦å®Œæˆä»¥ä¸‹äº‹é¡¹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("Get a Windows Authenticode code signing certificate (requires an annual fee)")]),t._v(" "),a("li",[t._v("å®‰è£… Visual Studio ä»¥è·å–ç­¾åå·¥å…· (å…è´¹ "),a("a",{attrs:{href:"https://visualstudio.microsoft.com/vs/community/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¤¾åŒºç‰ˆ"),a("OutboundLink")],1),t._v(" å·²è¶³å¤Ÿ)")])]),t._v(" "),a("p",[t._v("You can get a code signing certificate from a lot of resellers. ä»·æ ¼å„å¼‚ï¼Œæ‰€ä»¥å€¼å¾—ä½ èŠ±ç‚¹æ—¶é—´å»è´§æ¯”ä¸‰å®¶ã€‚ Popular resellers include:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.digicert.com/code-signing/microsoft-authenticode.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("digicert"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://sectigo.com/ssl-certificates-tls/code-signing",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sectigo"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("é™¤å…¶ä»–å¤–ï¼Œè¯·è´§æ¯”ä¸‰å®¶åé€‰æ‹©é€‚åˆä½ çš„é‚£ä¸€æ¬¾ï¼ŒGoogle æ˜¯æ‚¨çš„æœ‹å‹ğŸ˜„ï¼š")])]),t._v(" "),a("p",[t._v("ä½ å¯ä»¥è¿ç”¨è®¸å¤šæ–¹å¼æ¥ç­¾ç½²ä½ çš„åº”ç”¨ï¼š")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/electron/windows-installer",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("electron-winstaller")]),a("OutboundLink")],1),t._v(" will generate an installer for windows and sign it for you")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/electron-userland/electron-forge",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("electron-forge")]),a("OutboundLink")],1),t._v(" can sign installers it generates through the Squirrel.Windows or MSI targets.")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/electron-userland/electron-builder",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("electron-builder")]),a("OutboundLink")],1),t._v(" can sign some of its windows targets")])]),t._v(" "),a("h2",{attrs:{id:"windows-åº”ç”¨å•†åº—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows-åº”ç”¨å•†åº—"}},[t._v("#")]),t._v(" Windows åº”ç”¨å•†åº—")]),t._v(" "),a("p",[t._v("See the "),a("RouterLink",{attrs:{to:"/ã€ŠElectronä¸­æ–‡æ–‡æ¡£ã€‹/tutorial/windows-store-guide.html"}},[t._v("Windows Store Guide")]),t._v(".")],1)])}),[],!1,null,null,null);s.default=n.exports}}]);