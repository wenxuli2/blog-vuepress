(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{695:function(e,a,r){"use strict";r.r(a);var t=r(20),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"应用部署"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#应用部署"}},[e._v("#")]),e._v(" 应用部署")]),e._v(" "),r("h2",{attrs:{id:"概览"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#概览"}},[e._v("#")]),e._v(" 概览")]),e._v(" "),r("p",[e._v("To distribute your app with Electron, you need to package and rebrand it. 为此，您可以使用专用工具或手动方法。")]),e._v(" "),r("h2",{attrs:{id:"专用工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#专用工具"}},[e._v("#")]),e._v(" 专用工具")]),e._v(" "),r("p",[e._v("您可以使用以下工具来分发您的应用程序：")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/electron-userland/electron-forge",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron-forge"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/electron-userland/electron-builder",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron-builder"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/electron/electron-packager",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron-packager"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("这些工具将自动进行所有的步骤，例如，打包您的应用程序，重组可执行文件，并设置正确的图标。")]),e._v(" "),r("p",[e._v("您可以查看 "),r("RouterLink",{attrs:{to:"/《Electron中文文档》/tutorial/quick-start.html#package-and-distribute-your-application"}},[e._v("快速上手指南")]),e._v(" 中如何用 "),r("code",[e._v("electron-forge")]),e._v(" 打包您的应用程序的例子。")],1),e._v(" "),r("h2",{attrs:{id:"手动发布"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#手动发布"}},[e._v("#")]),e._v(" 手动发布")]),e._v(" "),r("h3",{attrs:{id:"with-prebuilt-binaries"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#with-prebuilt-binaries"}},[e._v("#")]),e._v(" With prebuilt binaries")]),e._v(" "),r("p",[e._v("To distribute your app manually, you need to download Electron's "),r("a",{attrs:{href:"https://github.com/electron/electron/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("prebuilt binaries"),r("OutboundLink")],1),e._v(". 接下来，你存放应用程序的文件夹需要叫做 "),r("code",[e._v("app")]),e._v(" 并且需要放在 Electron 的 资源文件夹Resources下，如下面的示例所示。")]),e._v(" "),r("blockquote",[r("p",[r("em",[e._v("NOTE:")]),e._v(" the location of Electron's prebuilt binaries is indicated with "),r("code",[e._v("electron/")]),e._v(" in the examples below.")])]),e._v(" "),r("p",[r("em",[e._v("在 macOS 中:")])]),e._v(" "),r("div",{staticClass:"language-plaintext line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-plaintext"}},[r("code",[e._v("electron/Electron.app/Contents/Resources/app/\n├── package.json\n├── main.js\n└── index.html\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br")])]),r("p",[r("em",[e._v("在 Windows 和 Linux 中:")])]),e._v(" "),r("div",{staticClass:"language-plaintext line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-plaintext"}},[r("code",[e._v("electron/resources/app\n├── package.json\n├── main.js\n└── index.html\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br")])]),r("p",[e._v("Then execute "),r("code",[e._v("Electron.app")]),e._v(" on macOS, "),r("code",[e._v("electron")]),e._v(" on Linux, or "),r("code",[e._v("electron.exe")]),e._v(" on Windows, and Electron will start as your app. The "),r("code",[e._v("electron")]),e._v(" directory will then be your distribution to deliver to users.")]),e._v(" "),r("h3",{attrs:{id:"with-an-app-source-code-archive"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#with-an-app-source-code-archive"}},[e._v("#")]),e._v(" With an app source code archive")]),e._v(" "),r("p",[e._v("Instead of from shipping your app by copying all of its source files, you can package your app into an "),r("a",{attrs:{href:"https://github.com/electron/asar",target:"_blank",rel:"noopener noreferrer"}},[e._v("asar"),r("OutboundLink")],1),e._v(" archive to improve the performance of reading files on platforms like Windows, if you are not already using a bundler such as Parcel or Webpack.")]),e._v(" "),r("p",[e._v("为了使用一个 "),r("code",[e._v("asar")]),e._v(" 档案文件代替 "),r("code",[e._v("app")]),e._v(" 文件夹，你需要修改这个档案文件的名字为 "),r("code",[e._v("app.asar")]),e._v(" ， 然后将其放到 Electron 的资源文件夹下，然后 Electron 就会试图读取这个档案文件并从中启动。 如下所示：")]),e._v(" "),r("p",[r("em",[e._v("在 macOS 中:")])]),e._v(" "),r("div",{staticClass:"language-plaintext line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-plaintext"}},[r("code",[e._v("electron/Electron.app/Contents/Resources/\n└── app.asar\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br")])]),r("p",[r("em",[e._v("在 Windows 和 Linux 中:")])]),e._v(" "),r("div",{staticClass:"language-plaintext line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-plaintext"}},[r("code",[e._v("electron/resources/\n└── app.asar\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br")])]),r("p",[e._v("You can find more details on how to use "),r("code",[e._v("asar")]),e._v(" in the "),r("a",{attrs:{href:"https://github.com/electron/asar",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("electron/asar")]),e._v(" repository"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("h3",{attrs:{id:"rebranding-with-downloaded-binaries"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rebranding-with-downloaded-binaries"}},[e._v("#")]),e._v(" Rebranding with downloaded binaries")]),e._v(" "),r("p",[e._v("将您的应用程序捆绑到Electron后，您可能需要在把应用分发给用户前将Electron进行重新定制")]),e._v(" "),r("h4",{attrs:{id:"macos"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#macos"}},[e._v("#")]),e._v(" macOS")]),e._v(" "),r("p",[e._v("你可以将 "),r("code",[e._v("Electron.app")]),e._v(" 重命名为任意你喜欢的名字，然后你也需要将一些文件中的 "),r("code",[e._v("CFBundleDisplayName")]),e._v("， "),r("code",[e._v("CFBundleIdentifier")]),e._v(" 以及 "),r("code",[e._v("CFBundleName")]),e._v(" 字段一并修改掉。 这些文件如下：")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("Electron.app/Contents/Info.plist")])]),e._v(" "),r("li",[r("code",[e._v("Electron.app/Contents/Frameworks/Electron Helper.app/Contents/Info.plist")])])]),e._v(" "),r("p",[e._v("你也可以重命名帮助程序以避免它在系统活动监视器中显示为"),r("code",[e._v("Electron Helper")]),e._v("， 但是请确保你已经修改了帮助应用的可执行文件的名字。")]),e._v(" "),r("p",[e._v("一个重命名后的应用程序的结构可能是这样的")]),e._v(" "),r("div",{staticClass:"language-plaintext line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-plaintext"}},[r("code",[e._v("MyApp.app/Contents\n├── Info.plist\n├── MacOS/\n│   └── MyApp\n└── Frameworks/\n    └── MyApp Helper.app\n        ├── Info.plist\n        └── MacOS/\n            └── MyApp Helper\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br")])]),r("h4",{attrs:{id:"windows"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[e._v("#")]),e._v(" Windows")]),e._v(" "),r("p",[e._v("你可以将 "),r("code",[e._v("electron.exe")]),e._v(" 重命名为任何你喜欢的名字，然后可以使用像 "),r("a",{attrs:{href:"https://github.com/electron/rcedit",target:"_blank",rel:"noopener noreferrer"}},[e._v("rcedit"),r("OutboundLink")],1),e._v(" 那样的工具编辑它的 icon 和其他信息。")]),e._v(" "),r("h4",{attrs:{id:"linux"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[e._v("#")]),e._v(" Linux")]),e._v(" "),r("p",[e._v("你可以将 "),r("code",[e._v("electron")]),e._v(" 重命名为任意你喜欢的名字。")]),e._v(" "),r("h3",{attrs:{id:"rebranding-by-rebuilding-electron-from-source"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rebranding-by-rebuilding-electron-from-source"}},[e._v("#")]),e._v(" Rebranding by rebuilding Electron from source")]),e._v(" "),r("p",[e._v("你也可以通过改变产品名称后从源码构建来重塑Electron的形象。 你只需要在 "),r("code",[e._v("args.gn")]),e._v(" 文件中将构建参数设置为对应产品的名称("),r("code",[e._v('electron_product_name = "YourProductName"')]),e._v(")，并进行重新构建。")])])}),[],!1,null,null,null);a.default=n.exports}}]);