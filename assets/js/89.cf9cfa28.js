(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{566:function(e,a,t){"use strict";t.r(a);var s=t(20),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"nativeimage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage"}},[e._v("#")]),e._v(" nativeImage")]),e._v(" "),t("blockquote",[t("p",[e._v("使用 PNG 或 JPG 文件创建托盘、dock和应用程序图标。")])]),e._v(" "),t("p",[e._v("进程： "),t("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[e._v("Main")]),e._v(", "),t("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#renderer-process"}},[e._v("Renderer")])],1),e._v(" "),t("p",[e._v("在 Electron 内, 那些需要图片的 API 可以传递两种参数, 一种是文件路径, 一种是 "),t("code",[e._v("NativeImage")]),e._v(" 实例对象。 空的图片对象将被 "),t("code",[e._v("null")]),e._v(" 参数替代")]),e._v(" "),t("p",[e._v("例如, 创建托盘或设置窗口图标时, 你可以传递 "),t("code",[e._v("String")]),e._v(" 格式的图片路径")]),e._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" BrowserWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" Tray "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'electron'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" appIcon "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Tray")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/Users/somebody/images/icon.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" win "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("BrowserWindow")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("icon")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/Users/somebody/images/window.png'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("appIcon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" win"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br")])]),t("p",[e._v("或者从粘贴板读取图片，将返回 "),t("code",[e._v("NativeImage")]),e._v(" 对象：")]),e._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" clipboard"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" Tray "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'electron'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" image "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" clipboard"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("readImage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" appIcon "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Tray")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("image"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("appIcon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])]),t("h2",{attrs:{id:"支持的格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支持的格式"}},[e._v("#")]),e._v(" 支持的格式")]),e._v(" "),t("p",[e._v("当前只支持 "),t("code",[e._v("PNG")]),e._v(" 和 "),t("code",[e._v("JPEG")]),e._v(" 格式， 推荐使用 "),t("code",[e._v("PNG")]),e._v(" ，因为这种格式支持透明和无损压缩")]),e._v(" "),t("p",[e._v("在 Windows 平台下, 你同样可以从文件路径中加载"),t("code",[e._v("ICO")]),e._v(" 格式的 icons 对象。 为了达到最佳观看效果，推荐至少包含以下大小的图片尺寸：")]),e._v(" "),t("ul",[t("li",[e._v("小图标\n"),t("ul",[t("li",[e._v("16x16 (100% DPI scale)")]),e._v(" "),t("li",[e._v("20x20 (125% DPI scale)")]),e._v(" "),t("li",[e._v("24x24 (150% DPI scale)")]),e._v(" "),t("li",[e._v("32x32 (200% DPI scale)")])])]),e._v(" "),t("li",[e._v("大图标\n"),t("ul",[t("li",[e._v("32x32 (100% DPI scale)")]),e._v(" "),t("li",[e._v("40x40 (125% DPI scale)")]),e._v(" "),t("li",[e._v("48x48 (150% DPI scale)")]),e._v(" "),t("li",[e._v("64x64 (200% DPI scale)")]),e._v(" "),t("li",[e._v("256x256")])])])]),e._v(" "),t("p",[e._v("在"),t("a",{attrs:{href:"https://msdn.microsoft.com/en-us/library/windows/desktop/dn742485(v=vs.85).aspx",target:"_blank",rel:"noopener noreferrer"}},[e._v("这篇文章"),t("OutboundLink")],1),e._v("中查看 "),t("em",[e._v("尺寸说明")]),e._v(" 的章节")]),e._v(" "),t("h2",{attrs:{id:"高分辨率"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高分辨率"}},[e._v("#")]),e._v(" 高分辨率")]),e._v(" "),t("p",[e._v("在具有高 DPI 支持的平台 (如 Apple 视网膜显示器) 上, 可以在图像的基本文件名之后追加 "),t("code",[e._v("@ 2x")]),e._v(" 以将其标记为高分辨率图像。")]),e._v(" "),t("p",[e._v("比如， 如果 "),t("code",[e._v("icon.png")]),e._v(" 是一个普通的标准分辨率的图片，而 "),t("code",[e._v("icon@2x.png")]),e._v(" 将被视为具有两倍DPI密度的高分辨率图像")]),e._v(" "),t("p",[e._v("如果您想同时支持不同的DPI密度显示，您可以将不同大小的图像放置在同一文件夹中，并使用文件名而不需要DPI 后缀。 例如：")]),e._v(" "),t("div",{staticClass:"language-plaintext line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-plaintext"}},[t("code",[e._v("images/\n├── icon.png\n├── icon@2x.png\n└── icon@3x.png\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])]),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" Tray "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'electron'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" appIcon "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Tray")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/Users/somebody/images/icon.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("appIcon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("还支持以下DPI的后缀：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("@1x")])]),e._v(" "),t("li",[t("code",[e._v("@1.25x")])]),e._v(" "),t("li",[t("code",[e._v("@1.33x")])]),e._v(" "),t("li",[t("code",[e._v("@1.4x")])]),e._v(" "),t("li",[t("code",[e._v("@1.5x")])]),e._v(" "),t("li",[t("code",[e._v("@1.8x")])]),e._v(" "),t("li",[t("code",[e._v("@2x")])]),e._v(" "),t("li",[t("code",[e._v("@2.5x")])]),e._v(" "),t("li",[t("code",[e._v("@3x")])]),e._v(" "),t("li",[t("code",[e._v("@4x")])]),e._v(" "),t("li",[t("code",[e._v("@5x")])])]),e._v(" "),t("h2",{attrs:{id:"模板图片"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模板图片"}},[e._v("#")]),e._v(" 模板图片")]),e._v(" "),t("p",[e._v("模板图像由黑色和透明通道组成。 模板图片不是单独使用的, 它通常与其他内容混合以创建期望的最终效果")]),e._v(" "),t("p",[e._v("最常见的情况是使用模板图像作为菜单栏图标，因此它可以适应浅色和深色菜单栏。")]),e._v(" "),t("p",[e._v("** 注意: **仅在 macOS 上支持Template image。")]),e._v(" "),t("p",[e._v("要将图像标记为模板图像，其文件名应以 "),t("code",[e._v("Template")]),e._v(" 一词结尾。 例如：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("xxxTemplate.png")])]),e._v(" "),t("li",[t("code",[e._v("xxxTemplate@2x.png")])])]),e._v(" "),t("h2",{attrs:{id:"方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[e._v("#")]),e._v(" 方法")]),e._v(" "),t("p",[t("code",[e._v("nativeImage")]),e._v(" 模块具有以下方法, 它们都返回 "),t("code",[e._v("nativeImage")]),e._v(" 类的实例:")]),e._v(" "),t("h3",{attrs:{id:"nativeimage-createempty"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage-createempty"}},[e._v("#")]),e._v(" "),t("code",[e._v("nativeImage.createEmpty()")])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("NativeImage")])]),e._v(" "),t("p",[e._v("创建一个空的 "),t("code",[e._v("NativeImage")]),e._v(" 实例。")]),e._v(" "),t("h3",{attrs:{id:"nativeimage-createthumbnailfrompath-path-maxsize-macos-windows"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage-createthumbnailfrompath-path-maxsize-macos-windows"}},[e._v("#")]),e._v(" "),t("code",[e._v("nativeImage.createThumbnailFromPath(path, maxSize)")]),e._v(" "),t("em",[e._v("macOS")]),e._v(" "),t("em",[e._v("Windows")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("path")]),e._v(" String - 打算用来构建缩略图的文件路径")]),e._v(" "),t("li",[t("code",[e._v("maxSize")]),e._v(" "),t("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/size.html"}},[e._v("Size")]),e._v(" - 返回缩略图的最大宽度和高度(正数)。 在 Windows 平台下将忽略 "),t("code",[e._v("maxSize.height")]),e._v(" 并根据 "),t("code",[e._v("maxSize.width")]),e._v(" 缩放高度")],1)]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("Promise<NativeImage>")]),e._v(" - 文件的缩略图预览图像，包含类型是 "),t("RouterLink",{attrs:{to:"/《Electron中文文档》/api/native-image.html"}},[e._v("NativeImage")])],1),e._v(" "),t("h3",{attrs:{id:"nativeimage-createfrompath-path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage-createfrompath-path"}},[e._v("#")]),e._v(" "),t("code",[e._v("nativeImage.createFromPath(path)")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("path")]),e._v(" String")])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("NativeImage")])]),e._v(" "),t("p",[e._v("从位于 "),t("code",[e._v("path")]),e._v(" 的文件创建新的 "),t("code",[e._v("NativeImage")]),e._v(" 实例。 如果 "),t("code",[e._v("path")]),e._v(" 不存在，，无法读取或不是有效图像，方法将返回空图像, 。")]),e._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" nativeImage "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'electron'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("nativeImage\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" image "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" nativeImage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("createFromPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/Users/somebody/images/icon.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("image"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])]),t("h3",{attrs:{id:"nativeimage-createfrombitmap-buffer-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage-createfrombitmap-buffer-options"}},[e._v("#")]),e._v(" "),t("code",[e._v("nativeImage.createFromBitmap(buffer, options)")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("buffer")]),e._v(" "),t("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[e._v("Buffer"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("code",[e._v("选项")]),e._v(" 对象\n"),t("ul",[t("li",[t("code",[e._v("width")]),e._v(" Integer")]),e._v(" "),t("li",[t("code",[e._v("height")]),e._v(" Integer")]),e._v(" "),t("li",[t("code",[e._v("scaleFactor")]),e._v(" Double (可选) - 默认1.0")])])])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("NativeImage")])]),e._v(" "),t("p",[e._v("从 "),t("code",[e._v("buffer")]),e._v(" 中创建一个新的 "),t("code",[e._v("NativeImage")]),e._v(" 实例，其中包含由 "),t("code",[e._v("toBitmap()")]),e._v("返回的原始位图 像素数据。 具体格式取决于平台。")]),e._v(" "),t("h3",{attrs:{id:"nativeimage-createfrombuffer-buffer-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage-createfrombuffer-buffer-options"}},[e._v("#")]),e._v(" "),t("code",[e._v("nativeImage.createFromBuffer(buffer[, options])")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("buffer")]),e._v(" "),t("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[e._v("Buffer"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("code",[e._v("options")]),e._v(" Object (可选)\n"),t("ul",[t("li",[t("code",[e._v("width")]),e._v(" Integer (可选) - 位图缓冲器所必需")]),e._v(" "),t("li",[t("code",[e._v("height")]),e._v(" Integer (可选) - 位图缓冲器所必需")]),e._v(" "),t("li",[t("code",[e._v("scaleFactor")]),e._v(" Double (可选) - 默认1.0")])])])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("NativeImage")])]),e._v(" "),t("p",[e._v("从 "),t("code",[e._v("buffer")]),e._v(" 创建新的 "),t("code",[e._v("NativeImage")]),e._v(" 实例。 尝试先解码为 PNG 或 JPEG")]),e._v(" "),t("h3",{attrs:{id:"nativeimage-createfromdataurl-dataurl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage-createfromdataurl-dataurl"}},[e._v("#")]),e._v(" "),t("code",[e._v("nativeImage.createFromDataURL(dataURL)")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("dataURL")]),e._v(" String")])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("NativeImage")])]),e._v(" "),t("p",[e._v("从 "),t("code",[e._v("dataURL")]),e._v(" 创建新的 "),t("code",[e._v("NativeImage")]),e._v(" 实例。")]),e._v(" "),t("h3",{attrs:{id:"nativeimage-createfromnamedimage-imagename-hslshift-macos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage-createfromnamedimage-imagename-hslshift-macos"}},[e._v("#")]),e._v(" "),t("code",[e._v("nativeImage.createFromNamedImage(imageName[, hslShift])")]),e._v(" "),t("em",[e._v("macOS")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("imageName")]),e._v(" String")]),e._v(" "),t("li",[t("code",[e._v("hslShift")]),e._v(" Number[] (可选)")])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("NativeImage")])]),e._v(" "),t("p",[e._v("从映射到给定图像名称的 NSImage 创建一个 "),t("code",[e._v("NativeImage")]),e._v(" 实例。 可用值列表详见 "),t("a",{attrs:{href:"https://developer.apple.com/design/human-interface-guidelines/macos/icons-and-images/system-icons/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("System Icons")]),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("使用以下规则将"),t("code",[e._v("hslShift")]),e._v("应用于图像:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("hsl_shift[0]")]),e._v(" (色调): 图像的绝对色调值，0 和1 映射到 0和360，在色环上 (红色)。")]),e._v(" "),t("li",[t("code",[e._v("hsl_shift[1]")]),e._v(" (饱和度): 图像的饱和度调值， 以下关键值： 0 = 删除所有颜色。 0.5 = 保持不变。 1 = 图像完全饱和")]),e._v(" "),t("li",[t("code",[e._v("hsl_shift[2]")]),e._v(" (亮度): 图像的亮度调值, 可以为下列值: 0 = 移除所有亮度 (所有像素点设置为黑色). 0.5 = 保持不变。 1 = 全亮 (所有像素点设置为白色)。")])]),e._v(" "),t("p",[e._v("这意味着 "),t("code",[e._v("[-1, 0, 1]")]),e._v(" 将使图像完全变白，"),t("code",[e._v("[-1, 1, 0]")]),e._v("将使图像完全变黑.")]),e._v(" "),t("p",[e._v("在某些情况下， "),t("code",[e._v("NSImageName")]),e._v(" 与其字符串表示并不匹配：其中一个例子是 "),t("code",[e._v("NSFolderImageName")]),e._v("，它的字符串表示实际上将是 "),t("code",[e._v("NSFolder")]),e._v("。 因此，您需要在传递图像之前确定正确的字符串表示方式。 可以像下面这样做：")]),e._v(" "),t("p",[t("code",[e._v("echo -e '#import <Cocoa/Cocoa.h>\\nint main() { NSLog(@\"%@\", SYSTEM_IMAGE_NAME); }' | clang -otest -x objective-c -framework Cocoa - && ./test")])]),e._v(" "),t("p",[e._v("其中 "),t("code",[e._v("SYSTEM_IMAGE_NAME")]),e._v(" 应替换为 "),t("a",{attrs:{href:"https://developer.apple.com/documentation/appkit/nsimagename?language=objc",target:"_blank",rel:"noopener noreferrer"}},[e._v("this list"),t("OutboundLink")],1),e._v("里面的值")]),e._v(" "),t("h2",{attrs:{id:"类-nativeimage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类-nativeimage"}},[e._v("#")]),e._v(" 类: NativeImage")]),e._v(" "),t("blockquote",[t("p",[e._v("本机图像，如托盘、dock栏和应用图标。")])]),e._v(" "),t("p",[e._v("Process: "),t("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[e._v("Main")]),e._v(", "),t("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#renderer-process"}},[e._v("Renderer")]),t("br"),e._v(" "),t("em",[e._v("This class is not exported from the "),t("code",[e._v("'electron'")]),e._v(" module. It is only available as a return value of other methods in the Electron API.")])],1),e._v(" "),t("h3",{attrs:{id:"实例方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例方法"}},[e._v("#")]),e._v(" 实例方法")]),e._v(" "),t("p",[e._v("以下方法可用于 "),t("code",[e._v("NativeImage")]),e._v(" 类的实例:")]),e._v(" "),t("h4",{attrs:{id:"image-topng-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-topng-options"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.toPNG([options])")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("options")]),e._v(" Object (可选)\n"),t("ul",[t("li",[t("code",[e._v("scaleFactor")]),e._v(" Double (可选) - 默认1.0")])])])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("Buffer")]),e._v("-一个包含图像 "),t("code",[e._v("PNG")]),e._v(" 编码数据的 "),t("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Buffer "),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h4",{attrs:{id:"image-tojpeg-quality"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-tojpeg-quality"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.toJPEG(quality)")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("quality")]),e._v(" Integer - 在 0 - 100 之间")])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("Buffer")]),e._v("-一个包含图像 "),t("code",[e._v("JPEG")]),e._v(" 编码数据的 "),t("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Buffer "),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h4",{attrs:{id:"image-tobitmap-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-tobitmap-options"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.toBitmap([options])")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("options")]),e._v(" Object (可选)\n"),t("ul",[t("li",[t("code",[e._v("scaleFactor")]),e._v(" Double (可选) - 默认1.0")])])])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("Buffer")]),e._v("-一个包含图像的原始位图像素数据副本的 "),t("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Buffer "),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h4",{attrs:{id:"image-todataurl-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-todataurl-options"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.toDataURL([options])")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("options")]),e._v(" Object (可选)\n"),t("ul",[t("li",[t("code",[e._v("scaleFactor")]),e._v(" Double (可选) - 默认1.0")])])])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("String")]),e._v("-图像的数据 URL。")]),e._v(" "),t("h4",{attrs:{id:"image-getbitmap-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-getbitmap-options"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.getBitmap([options])")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("options")]),e._v(" Object (可选)\n"),t("ul",[t("li",[t("code",[e._v("scaleFactor")]),e._v(" Double (可选) - 默认1.0")])])])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("Buffer")]),e._v("-一个包含图像原始位图像素数据的 "),t("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Buffer "),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[t("code",[e._v("getBitmap()")]),e._v(" 和 "),t("code",[e._v("toBitmap() 的不同之处在于，<code>getBitmap()")]),e._v(" 不会拷贝位图数据，所以你必须在返回 Buffer 后立刻使用它，否则数据可能会被更改或销毁")]),e._v(" "),t("h4",{attrs:{id:"image-getnativehandle-macos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-getnativehandle-macos"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.getNativeHandle()")]),e._v(" "),t("em",[e._v("macOS")])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("Buffer")]),e._v("-一个 "),t("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Buffer "),t("OutboundLink")],1),e._v(", 它将 C 指针存储在图像的基础本机句柄上。 在 macOS 上, 将返回指向 "),t("code",[e._v("NSImage")]),e._v(" 实例的指针。")]),e._v(" "),t("p",[e._v("请注意, 返回的指针是指向基础本机映像而不是副本的弱指针, 因此 _ 必须 _ 确保关联的 "),t("code",[e._v("nativeImage")]),e._v(" 实例保留在周围。")]),e._v(" "),t("h4",{attrs:{id:"image-isempty"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-isempty"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.isEmpty()")])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("Boolean")]),e._v("-图像是否为空。")]),e._v(" "),t("h4",{attrs:{id:"image-getsize-scalefactor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-getsize-scalefactor"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.getSize([scaleFactor])")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("scaleFactor")]),e._v(" Double (可选) - 默认1.0")])]),e._v(" "),t("p",[e._v("Returns "),t("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/size.html"}},[t("code",[e._v("Size")])]),e._v(".")],1),e._v(" "),t("p",[e._v("如果传递了 "),t("code",[e._v("scaleFactor")]),e._v(" ，将返回与图像表示最接近的传递值对应的大小。")]),e._v(" "),t("h4",{attrs:{id:"image-settemplateimage-option"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-settemplateimage-option"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.setTemplateImage(option)")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("option")]),e._v(" Boolean")])]),e._v(" "),t("p",[e._v("将图像标记为模板图像。")]),e._v(" "),t("h4",{attrs:{id:"image-istemplateimage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-istemplateimage"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.isTemplateImage()")])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("Boolean")]),e._v("-图像是否为模板图像。")]),e._v(" "),t("h4",{attrs:{id:"image-crop-rect"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-crop-rect"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.crop(rect)")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("rect")]),t("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/rectangle.html"}},[e._v(" Rectangle ")]),e._v("-要裁剪的图像区域.")],1)]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("NativeImage")]),e._v("-裁剪的图像。")]),e._v(" "),t("h4",{attrs:{id:"image-resize-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-resize-options"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.resize(options)")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("选项")]),e._v(" 对象\n"),t("ul",[t("li",[t("code",[e._v("width")]),e._v(" Integer (可选) - 默认值为图片宽度")]),e._v(" "),t("li",[t("code",[e._v("height")]),e._v(" Integer (可选) - 默认值为图片高度.")]),e._v(" "),t("li",[t("code",[e._v("quality")]),e._v(" String (optional) 所要设置的图片质量。 可能的值为 "),t("code",[e._v("good")]),e._v("、"),t("code",[e._v("better")]),e._v(" 或 "),t("code",[e._v("best")]),e._v("。 默认值为"),t("code",[e._v("best")]),e._v(". 这些值表示期望的 质量/速度 的权衡。 他们被转换为某个特定算法, 取决于基础平台的能力 (CPU, GPU)。 这三种方法都可以在指定的平台上映射到相同的算法。")])])])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("NativeImage")]),e._v("-裁剪的图像。")]),e._v(" "),t("p",[e._v("如果只指定"),t("code",[e._v("height")]),e._v("或"),t("code",[e._v("width")]),e._v("，那么当前的长宽比将保留在缩放图像中。")]),e._v(" "),t("h4",{attrs:{id:"image-getaspectratio-scalefactor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-getaspectratio-scalefactor"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.getAspectRatio([scaleFactor])")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("scaleFactor")]),e._v(" Double (可选) - 默认1.0")])]),e._v(" "),t("p",[e._v("返回 "),t("code",[e._v("Float")]),e._v(" - 图像的长宽比.")]),e._v(" "),t("p",[e._v("如果传递了 "),t("code",[e._v("scaleFactor")]),e._v(" ，将返回与图像表示最接近的传递值对应的大小。")]),e._v(" "),t("h4",{attrs:{id:"image-getscalefactors"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-getscalefactors"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.getScaleFactors()")])]),e._v(" "),t("p",[e._v("Returns "),t("code",[e._v("Float[]")]),e._v(" - 给定 nativeImage 的表示相对应的所有比例因子的数组")]),e._v(" "),t("h4",{attrs:{id:"image-addrepresentation-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-addrepresentation-options"}},[e._v("#")]),e._v(" "),t("code",[e._v("image.addRepresentation(options)")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("选项")]),e._v(" 对象\n"),t("ul",[t("li",[t("code",[e._v("scaleFactor")]),e._v(" Double - 要添加图像的缩放系数")]),e._v(" "),t("li",[t("code",[e._v("width")]),e._v(" Integer (可选) - 默认值为 0. 如果将位图缓冲区指定为"),t("code",[e._v("buffer")]),e._v(", 则为必填项")]),e._v(" "),t("li",[t("code",[e._v("height")]),e._v(" Integer (可选) - 默认值为 0. 如果将位图缓冲区指定为"),t("code",[e._v("buffer")]),e._v(", 则为必填项")]),e._v(" "),t("li",[t("code",[e._v("buffer")]),e._v(" Buffer (可选) - 包含原始图像数据的缓冲区.")]),e._v(" "),t("li",[t("code",[e._v("dataURL")]),e._v(" String (可选) - data URL 可以为 base 64 编码的 PNG 或 JPEG 图像.")])])])]),e._v(" "),t("p",[e._v("为特定比例因子添加图像表示。 这可以用于在图像中明确添加不同的比例因子表示。 这种可以调用在空图像上。")]),e._v(" "),t("h3",{attrs:{id:"实例属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例属性"}},[e._v("#")]),e._v(" 实例属性")]),e._v(" "),t("h4",{attrs:{id:"nativeimage-ismactemplateimage-macos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativeimage-ismactemplateimage-macos"}},[e._v("#")]),e._v(" "),t("code",[e._v("nativeImage.isMacTemplateImage")]),e._v(" "),t("em",[e._v("macOS")])]),e._v(" "),t("p",[t("code",[e._v("Boolean")]),e._v(" 属性，用于决定图像是否被认为是一个 "),t("a",{attrs:{href:"https://developer.apple.com/documentation/appkit/nsimage/1520017-template",target:"_blank",rel:"noopener noreferrer"}},[e._v("template image"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("请注意，此属性仅对 macOS 有影响。")])])}),[],!1,null,null,null);a.default=r.exports}}]);