(window.webpackJsonp=window.webpackJsonp||[]).push([[203],{681:function(a,e,t){"use strict";t.r(e);var o=t(20),s=Object(o.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"goma"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#goma"}},[a._v("#")]),a._v(" Goma")]),a._v(" "),t("blockquote",[t("p",[a._v("Goma是一款很多开源项目都在使用的分布式编译服务，例如Chromium和Android。")])]),a._v(" "),t("p",[a._v("Electron has a deployment of a custom Goma Backend that we make available to all Electron Maintainers.  See the "),t("a",{attrs:{href:"#access"}},[a._v("Access")]),a._v(" section below for details on authentication.  There is also a "),t("code",[a._v("cache-only")]),a._v(" Goma endpoint that will be used by default if you do not have credentials.  Requests to the cache-only Goma will not hit our cluster, but will read from our cache and should result in significantly faster build times.")]),a._v(" "),t("h2",{attrs:{id:"enabling-goma"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#enabling-goma"}},[a._v("#")]),a._v(" Enabling Goma")]),a._v(" "),t("p",[a._v("Currently the only supported way to use Goma is to use our "),t("a",{attrs:{href:"https://github.com/electron/build-tools",target:"_blank",rel:"noopener noreferrer"}},[a._v("Build Tools"),t("OutboundLink")],1),a._v(". Goma configuration is automatically included when you set up "),t("code",[a._v("build-tools")]),a._v(".")]),a._v(" "),t("p",[a._v("If you are a maintainer and have access to our cluster, please ensure that you run "),t("code",[a._v("e init")]),a._v(" with "),t("code",[a._v("--goma=cluster")]),a._v(" in order to configure "),t("code",[a._v("build-tools")]),a._v(" to use the Goma cluster.  If you have an existing config, you can just set "),t("code",[a._v('"goma": "cluster"')]),a._v(" in your config file.")]),a._v(" "),t("h2",{attrs:{id:"building-with-goma"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#building-with-goma"}},[a._v("#")]),a._v(" Building with Goma")]),a._v(" "),t("p",[a._v("When you are using Goma you can run "),t("code",[a._v("ninja")]),a._v(" with a substantially higher "),t("code",[a._v("j")]),a._v(" value than would normally be supported by your machine.")]),a._v(" "),t("p",[a._v("Please do not set a value higher than "),t("strong",[a._v("200")]),a._v(" on Windows or Linux and "),t("strong",[a._v("50")]),a._v(" on macOS. We monitor Goma system usage, and users found to be abusing it with unreasonable concurrency will be de-activated.")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ninja -C out/Testing electron -j "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("200")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("If you're using "),t("code",[a._v("build-tools")]),a._v(", appropriate "),t("code",[a._v("-j")]),a._v(" values will automatically be used for you.")]),a._v(" "),t("h2",{attrs:{id:"monitoring-goma"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#monitoring-goma"}},[a._v("#")]),a._v(" Monitoring Goma")]),a._v(" "),t("p",[a._v("If you access "),t("a",{attrs:{href:"http://localhost:8088",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://localhost:8088"),t("OutboundLink")],1),a._v(" on your local machine you can monitor compile jobs as they flow through the goma system.")]),a._v(" "),t("h2",{attrs:{id:"访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#访问"}},[a._v("#")]),a._v(" 访问")]),a._v(" "),t("p",[a._v("For security and cost reasons, access to Electron's Goma cluster is currently restricted to Electron Maintainers.  If you want access please head to "),t("code",[a._v("#access-requests")]),a._v(" in Slack and ping "),t("code",[a._v("@goma-squad")]),a._v(" to ask for access.  Please be aware that being a maintainer does not "),t("em",[a._v("automatically")]),a._v(" grant access and access is determined on a case by case basis.")]),a._v(" "),t("h2",{attrs:{id:"uptime-support"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uptime-support"}},[a._v("#")]),a._v(" Uptime / Support")]),a._v(" "),t("p",[a._v("We have automated monitoring of our Goma cluster and cache at https://status.notgoma.com")]),a._v(" "),t("p",[a._v("We do not provide support for usage of Goma and any issues raised asking for help / having issues will "),t("em",[a._v("probably")]),a._v(" be closed without much reason, we do not have the capacity to handle that kind of support.")])])}),[],!1,null,null,null);e.default=s.exports}}]);