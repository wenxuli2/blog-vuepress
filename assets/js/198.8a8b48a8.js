(window.webpackJsonp=window.webpackJsonp||[]).push([[198],{676:function(e,t,r){"use strict";r.r(t);var v=r(20),_=Object(v.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"编码风格"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#编码风格"}},[e._v("#")]),e._v(" 编码风格")]),e._v(" "),r("p",[e._v("这些是 Electron 编码风格指南。")]),e._v(" "),r("p",[e._v("您可以运行 "),r("code",[e._v("npm run lint")]),e._v(" 来显示 "),r("code",[e._v("cpplint")]),e._v(" 和"),r("code",[e._v("eslint")]),e._v(" 检测到的任何样式问题。")]),e._v(" "),r("h2",{attrs:{id:"通用代码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#通用代码"}},[e._v("#")]),e._v(" 通用代码")]),e._v(" "),r("ul",[r("li",[e._v("用换行符结束文件。")]),e._v(" "),r("li",[e._v("按照如下顺序排列 node 模块的 require 代码\n"),r("ul",[r("li",[e._v("内置Node模块（如 "),r("code",[e._v("path")]),e._v("）")]),e._v(" "),r("li",[e._v("内置Electron模块（如 "),r("code",[e._v("ipc")]),e._v("、"),r("code",[e._v("app")]),e._v("）")]),e._v(" "),r("li",[e._v("本地模块（使用相对路径）")])])]),e._v(" "),r("li",[e._v("按照如下顺序排列类的属性\n"),r("ul",[r("li",[e._v("Class methods and properties (methods starting with a "),r("code",[e._v("@")]),e._v(")")]),e._v(" "),r("li",[e._v("Instance methods and properties")])])]),e._v(" "),r("li",[e._v("避免与平台相关的代码：\n"),r("ul",[r("li",[e._v("使用 "),r("code",[e._v("path.join()")]),e._v(" 来组织文件路径。")]),e._v(" "),r("li",[e._v("请使用"),r("code",[e._v("os.tmpdir()")]),e._v("而不是"),r("code",[e._v("/tmp")]),e._v("来引用临时目录。")])])]),e._v(" "),r("li",[e._v("Using a plain "),r("code",[e._v("return")]),e._v(" when returning explicitly at the end of a function.\n"),r("ul",[r("li",[e._v("不是"),r("code",[e._v("return null")]),e._v("，"),r("code",[e._v("return undefined")]),e._v("，"),r("code",[e._v("null")]),e._v("或"),r("code",[e._v("undefined")])])])])]),e._v(" "),r("h2",{attrs:{id:"c-和-python"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#c-和-python"}},[e._v("#")]),e._v(" C + + 和 Python")]),e._v(" "),r("p",[e._v("对于 C++ 和 Python, 我们遵循 Chromium 的"),r("a",{attrs:{href:"https://chromium.googlesource.com/chromium/src/+/refs/heads/main/styleguide/styleguide.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("编码风格"),r("OutboundLink")],1),e._v(". 你可以使用 "),r("RouterLink",{attrs:{to:"/《Electron中文文档》/development/clang-format.html"}},[e._v("clang-format")]),e._v(" 来自动格式化 C++ 代码. 你可以使用 "),r("code",[e._v("script/cpplint.py")]),e._v(" 来检验文件是否符合要求。")],1),e._v(" "),r("p",[e._v("我们现在使用的 Python 版本是 Python 2.7。")]),e._v(" "),r("p",[e._v("C++ 代码使用了大量 Chromium 的抽象和类型，因此建议您熟悉它们。 一个起步的好地方是 Chromium 的 "),r("a",{attrs:{href:"https://www.chromium.org/developers/coding-style/important-abstractions-and-data-structures",target:"_blank",rel:"noopener noreferrer"}},[e._v("重要的抽象概念和数据库结构"),r("OutboundLink")],1),e._v(" 文档. 该文档提到一些特殊类型，范围类型(超出范围时自动释放其内存), 记录机制等。")]),e._v(" "),r("h2",{attrs:{id:"文档"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#文档"}},[e._v("#")]),e._v(" 文档")]),e._v(" "),r("ul",[r("li",[e._v("使用"),r("a",{attrs:{href:"https://github.com/remarkjs/remark",target:"_blank",rel:"noopener noreferrer"}},[e._v("remark"),r("OutboundLink")],1),e._v(" Markdown样式.")])]),e._v(" "),r("p",[e._v("你可以运行 "),r("code",[e._v("npm run lint-docs")]),e._v(" 来保证你修改的文档格式正确。")]),e._v(" "),r("h2",{attrs:{id:"javascript"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#javascript"}},[e._v("#")]),e._v(" JavaScript")]),e._v(" "),r("ul",[r("li",[e._v("书写 "),r("a",{attrs:{href:"https://www.npmjs.com/package/standard",target:"_blank",rel:"noopener noreferrer"}},[e._v("标准"),r("OutboundLink")],1),e._v(" JavaScript 样式")]),e._v(" "),r("li",[e._v("文件名应使用 "),r("code",[e._v("-")]),e._v(" 连接而不是 "),r("code",[e._v("_")]),e._v(", 例如. "),r("code",[e._v("file-name.js")]),e._v(" 而不是 "),r("code",[e._v("file_name.js")]),e._v(", 因为在 "),r("a",{attrs:{href:"https://github.com/github/atom",target:"_blank",rel:"noopener noreferrer"}},[e._v("github/atom"),r("OutboundLink")],1),e._v("中模块名通常是 "),r("code",[e._v("module-name")]),e._v(" 形式. 此规则仅适用于 "),r("code",[e._v(".js")]),e._v(" 文件。")]),e._v(" "),r("li",[e._v("酌情使用更新的 ES6 / ES2015 语法\n"),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("const")]),r("OutboundLink")],1),e._v(" 用于需要的和其他的常数.  If the value is a primitive, use uppercase naming (eg "),r("code",[e._v("const NUMBER_OF_RETRIES = 5")]),e._v(").")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("let")]),r("OutboundLink")],1),e._v(" 用于定义变量")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions",target:"_blank",rel:"noopener noreferrer"}},[e._v("Arrow functions"),r("OutboundLink")],1),e._v(" 代替 "),r("code",[e._v("function () { }")])]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals",target:"_blank",rel:"noopener noreferrer"}},[e._v("Template literals"),r("OutboundLink")],1),e._v(" 而不是使用字符串连接符 "),r("code",[e._v("+")])])])])]),e._v(" "),r("h2",{attrs:{id:"命名相关"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#命名相关"}},[e._v("#")]),e._v(" 命名相关")]),e._v(" "),r("p",[e._v("Electron API 使用与 Node.js 相同的大小写方案：")]),e._v(" "),r("ul",[r("li",[e._v("当模块本身是class时, 比如 "),r("code",[e._v("BrowserWindow")]),e._v(", 使用 "),r("code",[e._v("CamelCase")]),e._v(".")]),e._v(" "),r("li",[e._v("当模块是一组 API 时, 比如 "),r("code",[e._v("globalShortcut")]),e._v("时，使用 "),r("code",[e._v("mixedCase")]),e._v("。")]),e._v(" "),r("li",[e._v("当 API 是对象的属性时, 并且它复杂到足以成为一个单独的块, 比如 "),r("code",[e._v("win.webContents")]),e._v(", 使用 "),r("code",[e._v("mixedCase")]),e._v(".")]),e._v(" "),r("li",[e._v("对于其他非模块API, 使用自然标题, 比如 "),r("code",[e._v("<webview> Tag")]),e._v(" 或 "),r("code",[e._v("Process Object")]),e._v(".")])]),e._v(" "),r("p",[e._v("当创建新的 API 时， 最好使用 getter 和 setter 而不是 jQuery 的一次性函数。 举个例子, "),r("code",[e._v(".getText()")]),e._v(" 和 "),r("code",[e._v(".setText(text)")]),e._v(" 优于 "),r("code",[e._v(".text([text])")]),e._v(". 这是一些相关的 "),r("a",{attrs:{href:"https://github.com/electron/electron/issues/46",target:"_blank",rel:"noopener noreferrer"}},[e._v("讨论"),r("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=_.exports}}]);