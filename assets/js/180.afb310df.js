(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{656:function(t,e,a){"use strict";a.r(e);var s=a(20),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"tray"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray"}},[t._v("#")]),t._v(" Tray")]),t._v(" "),a("h2",{attrs:{id:"系统托盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统托盘"}},[t._v("#")]),t._v(" 系统托盘")]),t._v(" "),a("blockquote",[a("p",[t._v("添加图标和上下文菜单到系统通知区")])]),t._v(" "),a("p",[t._v("进程："),a("RouterLink",{attrs:{to:"/《Electron中文文档》/glossary.html#main-process"}},[t._v("主进程")])],1),t._v(" "),a("p",[a("code",[t._v("Tray")]),t._v("是一个"),a("a",{attrs:{href:"https://nodejs.org/api/events.html#events_class_eventemitter",target:"_blank",rel:"noopener noreferrer"}},[t._v("EventEmitter"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Menu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Tray "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" tray "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("whenReady")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  tray "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Tray")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/my/icon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" contextMenu "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Menu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("buildFromTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("label")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Item1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'radio'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("label")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Item2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'radio'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("label")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Item3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'radio'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("checked")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("label")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Item4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'radio'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  tray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setToolTip")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This is my application.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  tray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setContextMenu")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contextMenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("p",[a("strong",[t._v("平台限制：")])]),t._v(" "),a("ul",[a("li",[t._v("在Linux上，如果支持，就使用应用程序指示器，否则将使用"),a("code",[t._v("GtkStatusIcon")]),t._v("。")]),t._v(" "),a("li",[t._v("在仅支持应用程序指标的Linux发行版中，必须安装"),a("code",[t._v("libappindicator1")]),t._v("才能使任务栏图标正常工作。")]),t._v(" "),a("li",[t._v("应用程序指标只有当它有一个上下文菜单时才会显示。")]),t._v(" "),a("li",[t._v("当在Linux上使用应用程序指标时，它的 "),a("code",[t._v("click")]),t._v("事件将被忽略")]),t._v(" "),a("li",[t._v("On Linux in order for changes made to individual "),a("code",[t._v("MenuItem")]),t._v("s to take effect, you have to call "),a("code",[t._v("setContextMenu")]),t._v(" again. 例如：")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Menu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Tray "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" appIcon "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("whenReady")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  appIcon "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Tray")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/my/icon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" contextMenu "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Menu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("buildFromTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("label")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Item1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'radio'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("label")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Item2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'radio'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Make a change to the context menu")]),t._v("\n  contextMenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("checked "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Call this again for Linux because we modified the context menu")]),t._v("\n  appIcon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setContextMenu")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contextMenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("ul",[a("li",[t._v("在 Windows 上, 建议使用 "),a("code",[t._v("ICO")]),t._v(" 图标来获得最佳视觉效果。")])]),t._v(" "),a("p",[t._v("如果要在所有平台上保持完全相同的行为, 则不应依赖 "),a("code",[t._v("click")]),t._v(" 事件, 并且始终将上下文菜单附加到任务栏图标。")]),t._v(" "),a("h3",{attrs:{id:"new-tray-image-guid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-tray-image-guid"}},[t._v("#")]),t._v(" "),a("code",[t._v("new Tray(image, [guid])")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("image")]),t._v(" ("),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/native-image.html"}},[t._v("NativeImage")]),t._v(" | String)")],1),t._v(" "),a("li",[a("code",[t._v("guid")]),t._v(" String (optional) "),a("em",[t._v("Windows")]),t._v(" - Assigns a GUID to the tray icon. If the executable is signed and the signature contains an organization in the subject line then the GUID is permanently associated with that signature. OS level settings like the position of the tray icon in the system tray will persist even if the path to the executable changes. If the executable is not code-signed then the GUID is permanently associated with the path to the executable. Changing the path to the executable will break the creation of the tray icon and a new GUID must be used. However, it is highly recommended to use the GUID parameter only in conjunction with code-signed executable. If an App defines multiple tray icons then each icon must use a separate GUID.")])]),t._v(" "),a("p",[t._v("创建与"),a("code",[t._v("image")]),t._v("关联的新任务栏图标。")]),t._v(" "),a("h3",{attrs:{id:"实例事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例事件"}},[t._v("#")]),t._v(" 实例事件")]),t._v(" "),a("p",[a("code",[t._v("Tray")]),t._v(" 对象会发出以下事件:")]),t._v(" "),a("h4",{attrs:{id:"事件-click"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件-click"}},[t._v("#")]),t._v(" 事件: 'click'")]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/keyboard-event.html"}},[t._v("KeyboardEvent")])],1),t._v(" "),a("li",[a("code",[t._v("bounds")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/rectangle.html"}},[t._v("Rectangle")]),t._v(" - 系统托盘图标的边界。")],1),t._v(" "),a("li",[a("code",[t._v("position")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/point.html"}},[t._v("Point")]),t._v(" - 事件的位置信息。")],1)]),t._v(" "),a("p",[t._v("当该图标被点击时触发。")]),t._v(" "),a("h4",{attrs:{id:"event-right-click-macos-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-right-click-macos-windows"}},[t._v("#")]),t._v(" Event: 'right-click' "),a("em",[t._v("macOS")]),t._v(" "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/keyboard-event.html"}},[t._v("KeyboardEvent")])],1),t._v(" "),a("li",[a("code",[t._v("bounds")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/rectangle.html"}},[t._v("Rectangle")]),t._v(" - 系统托盘图标的边界。")],1)]),t._v(" "),a("p",[t._v("当该图标被右击时触发。")]),t._v(" "),a("h4",{attrs:{id:"event-double-click-macos-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-double-click-macos-windows"}},[t._v("#")]),t._v(" Event: 'double-click' "),a("em",[t._v("macOS")]),t._v(" "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/keyboard-event.html"}},[t._v("KeyboardEvent")])],1),t._v(" "),a("li",[a("code",[t._v("bounds")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/rectangle.html"}},[t._v("Rectangle")]),t._v(" - 系统托盘图标的边界。")],1)]),t._v(" "),a("p",[t._v("当该图标被双击时触发。")]),t._v(" "),a("h4",{attrs:{id:"event-balloon-show-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-balloon-show-windows"}},[t._v("#")]),t._v(" Event: 'balloon-show' "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("当系统托盘图标气泡显示时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-balloon-click-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-balloon-click-windows"}},[t._v("#")]),t._v(" Event: 'balloon-click' "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("当系统托盘气泡被点击时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-balloon-closed-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-balloon-closed-windows"}},[t._v("#")]),t._v(" Event: 'balloon-closed' "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("当系统托盘气泡因为超时被关闭或者用户手动关闭时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-drop-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-drop-macos"}},[t._v("#")]),t._v(" Event: 'drop' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("当有任何拖动项拖到该任务栏图标上时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-drop-files-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-drop-files-macos"}},[t._v("#")]),t._v(" Event: 'drop-files' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" Event")]),t._v(" "),a("li",[a("code",[t._v("files")]),t._v(" String[] - 拖至任务栏图标上的文件的路径。")])]),t._v(" "),a("p",[t._v("当有任何文件被拖到该任务栏图标上时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-drop-text-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-drop-text-macos"}},[t._v("#")]),t._v(" Event: 'drop-text' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" Event")]),t._v(" "),a("li",[a("code",[t._v("text")]),t._v(" String - 拖至任务栏图标上的文字内容。")])]),t._v(" "),a("p",[t._v("当有任何文字被拖到该任务栏图标上时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-drag-enter-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-drag-enter-macos"}},[t._v("#")]),t._v(" Event: 'drag-enter' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("当有任何拖动操作进入（拖动未结束）该任务栏图标时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-drag-leave-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-drag-leave-macos"}},[t._v("#")]),t._v(" Event: 'drag-leave' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("当有任何拖动操作离开该任务栏图标时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-drag-end-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-drag-end-macos"}},[t._v("#")]),t._v(" Event: 'drag-end' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("当有任何拖动操作在托盘或其他地方结束时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-mouse-up-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-mouse-up-macos"}},[t._v("#")]),t._v(" Event: 'mouse-up' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/keyboard-event.html"}},[t._v("KeyboardEvent")])],1),t._v(" "),a("li",[a("code",[t._v("position")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/point.html"}},[t._v("Point")]),t._v(" - 事件的位置信息。")],1)]),t._v(" "),a("p",[t._v("Emitted when the mouse is released from clicking the tray icon.")]),t._v(" "),a("p",[t._v("Note: This will not be emitted if you have set a context menu for your Tray using "),a("code",[t._v("tray.setContextMenu")]),t._v(", as a result of macOS-level constraints.")]),t._v(" "),a("h4",{attrs:{id:"event-mouse-down-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-mouse-down-macos"}},[t._v("#")]),t._v(" Event: 'mouse-down' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/keyboard-event.html"}},[t._v("KeyboardEvent")])],1),t._v(" "),a("li",[a("code",[t._v("position")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/point.html"}},[t._v("Point")]),t._v(" - 事件的位置信息。")],1)]),t._v(" "),a("p",[t._v("Emitted when the mouse clicks the tray icon.")]),t._v(" "),a("h4",{attrs:{id:"event-mouse-enter-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-mouse-enter-macos"}},[t._v("#")]),t._v(" Event: 'mouse-enter' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/keyboard-event.html"}},[t._v("KeyboardEvent")])],1),t._v(" "),a("li",[a("code",[t._v("position")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/point.html"}},[t._v("Point")]),t._v(" - 事件的位置信息。")],1)]),t._v(" "),a("p",[t._v("当鼠标进入该任务栏图标时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-mouse-leave-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-mouse-leave-macos"}},[t._v("#")]),t._v(" Event: 'mouse-leave' "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/keyboard-event.html"}},[t._v("KeyboardEvent")])],1),t._v(" "),a("li",[a("code",[t._v("position")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/point.html"}},[t._v("Point")]),t._v(" - 事件的位置信息。")],1)]),t._v(" "),a("p",[t._v("当鼠标离开该任务栏图标时，触发该事件。")]),t._v(" "),a("h4",{attrs:{id:"event-mouse-move-macos-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-mouse-move-macos-windows"}},[t._v("#")]),t._v(" Event: 'mouse-move' "),a("em",[t._v("macOS")]),t._v(" "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("返回:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/keyboard-event.html"}},[t._v("KeyboardEvent")])],1),t._v(" "),a("li",[a("code",[t._v("position")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/point.html"}},[t._v("Point")]),t._v(" - 事件的位置信息。")],1)]),t._v(" "),a("p",[t._v("当鼠标在该任务栏图标上移动时，触发该事件。")]),t._v(" "),a("h3",{attrs:{id:"实例方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例方法"}},[t._v("#")]),t._v(" 实例方法")]),t._v(" "),a("p",[a("code",[t._v("Tray")]),t._v(" 类拥有以下方法:")]),t._v(" "),a("h4",{attrs:{id:"tray-destroy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-destroy"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.destroy()")])]),t._v(" "),a("p",[t._v("立即销毁该任务栏图标")]),t._v(" "),a("h4",{attrs:{id:"tray-setimage-image"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-setimage-image"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.setImage(image)")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("image")]),t._v(" ("),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/native-image.html"}},[t._v("NativeImage")]),t._v(" | String)")],1)]),t._v(" "),a("p",[t._v("设置"),a("code",[t._v("image")]),t._v("作为托盘中显示的图标")]),t._v(" "),a("h4",{attrs:{id:"tray-setpressedimage-image-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-setpressedimage-image-macos"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.setPressedImage(image)")]),t._v(" "),a("em",[t._v("macOS")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("image")]),t._v(" ("),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/native-image.html"}},[t._v("NativeImage")]),t._v(" | String)")],1)]),t._v(" "),a("p",[t._v("在 macOS 中，设置"),a("code",[t._v("image")]),t._v("作为托盘图标被按下时显示的图标")]),t._v(" "),a("h4",{attrs:{id:"tray-settooltip-tooltip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-settooltip-tooltip"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.setToolTip(toolTip)")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("toolTip")]),t._v(" String")])]),t._v(" "),a("p",[t._v("设置鼠标指针在托盘图标上悬停时显示的文本")]),t._v(" "),a("h4",{attrs:{id:"tray-settitle-title-options-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-settitle-title-options-macos"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.setTitle(title[, options])")]),t._v(" "),a("em",[t._v("macOS")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("title")]),t._v(" String")]),t._v(" "),a("li",[a("code",[t._v("options")]),t._v(" Object (可选)\n"),a("ul",[a("li",[a("code",[t._v("fontType")]),t._v(" String (optional) - The font family variant to display, can be "),a("code",[t._v("monospaced")]),t._v(" or "),a("code",[t._v("monospacedDigit")]),t._v(". "),a("code",[t._v("monospaced")]),t._v(" is available in macOS 10.15+ and "),a("code",[t._v("monospacedDigit")]),t._v(" is available in macOS 10.11+.  When left blank, the title uses the default system font.")])])])]),t._v(" "),a("p",[t._v("Sets the title displayed next to the tray icon in the status bar (Support ANSI colors).")]),t._v(" "),a("h4",{attrs:{id:"tray-gettitle-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-gettitle-macos"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.getTitle()")]),t._v(" "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("Returns "),a("code",[t._v("String")]),t._v(" - the title displayed next to the tray icon in the status bar")]),t._v(" "),a("h4",{attrs:{id:"tray-setignoredoubleclickevents-ignore-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-setignoredoubleclickevents-ignore-macos"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.setIgnoreDoubleClickEvents(ignore)")]),t._v(" "),a("em",[t._v("macOS")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ignore")]),t._v(" Boolean")])]),t._v(" "),a("p",[t._v("Sets the option to ignore double click events. Ignoring these events allows you to detect every individual click of the tray icon.")]),t._v(" "),a("p",[t._v("This value is set to false by default.")]),t._v(" "),a("h4",{attrs:{id:"tray-getignoredoubleclickevents-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-getignoredoubleclickevents-macos"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.getIgnoreDoubleClickEvents()")]),t._v(" "),a("em",[t._v("macOS")])]),t._v(" "),a("p",[t._v("Returns "),a("code",[t._v("Boolean")]),t._v(" - Whether double click events will be ignored.")]),t._v(" "),a("h4",{attrs:{id:"tray-displayballoon-options-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-displayballoon-options-windows"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.displayBalloon(options)")]),t._v(" "),a("em",[t._v("Windows")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("选项")]),t._v(" 对象\n"),a("ul",[a("li",[a("code",[t._v("icon")]),t._v(" ("),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/native-image.html"}},[t._v("NativeImage")]),t._v(" | String) (optional) - Icon to use when "),a("code",[t._v("iconType")]),t._v(" is "),a("code",[t._v("custom")]),t._v(".")],1),t._v(" "),a("li",[a("code",[t._v("iconType")]),t._v(" String (optional) - Can be "),a("code",[t._v("none")]),t._v(", "),a("code",[t._v("info")]),t._v(", "),a("code",[t._v("warning")]),t._v(", "),a("code",[t._v("error")]),t._v(" or "),a("code",[t._v("custom")]),t._v(". 默认值为 "),a("code",[t._v("custom")]),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("title")]),t._v(" String")]),t._v(" "),a("li",[a("code",[t._v("content")]),t._v(" String")]),t._v(" "),a("li",[a("code",[t._v("largeIcon")]),t._v(" Boolean (optional) - The large version of the icon should be used. 默认值为 "),a("code",[t._v("true")]),t._v("。 Maps to "),a("a",{attrs:{href:"https://docs.microsoft.com/en-us/windows/win32/api/shellapi/ns-shellapi-notifyicondataa#niif_large_icon-0x00000020",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("NIIF_LARGE_ICON")]),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("noSound")]),t._v(" Boolean (optional) - Do not play the associated sound. 默认值为 "),a("code",[t._v("false")]),t._v(". Maps to "),a("a",{attrs:{href:"https://docs.microsoft.com/en-us/windows/win32/api/shellapi/ns-shellapi-notifyicondataa#niif_nosound-0x00000010",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("NIIF_NOSOUND")]),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("respectQuietTime")]),t._v(' Boolean (optional) - Do not display the balloon notification if the current user is in "quiet time". 默认值为 '),a("code",[t._v("false")]),t._v(". Maps to "),a("a",{attrs:{href:"https://docs.microsoft.com/en-us/windows/win32/api/shellapi/ns-shellapi-notifyicondataa#niif_respect_quiet_time-0x00000080",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("NIIF_RESPECT_QUIET_TIME")]),a("OutboundLink")],1),t._v(".")])])])]),t._v(" "),a("p",[t._v("显示一个托盘气球通知.")]),t._v(" "),a("h4",{attrs:{id:"tray-removeballoon-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-removeballoon-windows"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.removeBalloon()")]),t._v(" "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("Removes a tray balloon.")]),t._v(" "),a("h4",{attrs:{id:"tray-focus-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-focus-windows"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.focus()")]),t._v(" "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("Returns focus to the taskbar notification area. Notification area icons should use this message when they have completed their UI operation. For example, if the icon displays a shortcut menu, but the user presses ESC to cancel it, use "),a("code",[t._v("tray.focus()")]),t._v(" to return focus to the notification area.")]),t._v(" "),a("h4",{attrs:{id:"tray-popupcontextmenu-menu-position-macos-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-popupcontextmenu-menu-position-macos-windows"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.popUpContextMenu([menu, position])")]),t._v(" "),a("em",[t._v("macOS")]),t._v(" "),a("em",[t._v("Windows")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("menu")]),t._v(" Menu (可选)")]),t._v(" "),a("li",[a("code",[t._v("position")]),t._v(" "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/point.html"}},[t._v("Point")]),t._v(" (可选) - 菜单弹出的位置.")],1)]),t._v(" "),a("p",[t._v("Pops up the context menu of the tray icon. When "),a("code",[t._v("menu")]),t._v(" is passed, the "),a("code",[t._v("menu")]),t._v(" will be shown instead of the tray icon's context menu.")]),t._v(" "),a("p",[t._v("参数 "),a("code",[t._v("position")]),t._v(" 只在 Windows 上可用， 并拥有默认值 (0, 0)。")]),t._v(" "),a("h4",{attrs:{id:"tray-closecontextmenu-macos-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-closecontextmenu-macos-windows"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.closeContextMenu()")]),t._v(" "),a("em",[t._v("macOS")]),t._v(" "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("Closes an open context menu, as set by "),a("code",[t._v("tray.setContextMenu()")]),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"tray-setcontextmenu-menu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-setcontextmenu-menu"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.setContextMenu(menu)")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("menu")]),t._v(" Menu | null")])]),t._v(" "),a("p",[t._v("设置这个图标的内容菜单")]),t._v(" "),a("h4",{attrs:{id:"tray-getbounds-macos-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-getbounds-macos-windows"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.getBounds()")]),t._v(" "),a("em",[t._v("macOS")]),t._v(" "),a("em",[t._v("Windows")])]),t._v(" "),a("p",[t._v("返回 "),a("RouterLink",{attrs:{to:"/《Electron中文文档》/api/structures/rectangle.html"}},[a("code",[t._v("Rectangle")])])],1),t._v(" "),a("p",[t._v("以"),a("code",[t._v("Object")]),t._v("类型返回托盘图标的"),a("code",[t._v("bounds")])]),t._v(" "),a("h4",{attrs:{id:"tray-isdestroyed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tray-isdestroyed"}},[t._v("#")]),t._v(" "),a("code",[t._v("tray.isDestroyed()")])]),t._v(" "),a("p",[t._v("返回 "),a("code",[t._v("Boolean")]),t._v(" -判断托盘图标是否被销毁")])])}),[],!1,null,null,null);e.default=n.exports}}]);